<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width">
<link rel="stylesheet" href="..\maincss.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script>
$(document).ready(function(){
    $('h1, h2, h3, h4, h5, .goldword, .apply, div.title').click(function(){
    parent.history.back();
    return false;
    });
});
</script>
<style>
h1, h2 {color: gold;}
</style>
</head><body>
<center><h1>R examples</h1></center>
<div id="toc"><a href="#chapter-1" target="_self">R Basics</a><br><a href="#chapter-2" target="_self">Variables</a><br><a href="#chapter-3" target="_self">Comments</a><br><a href="#chapter-4" target="_self">print and cat</a><br><a href="#chapter-5" target="_self">if statements</a><br><a href="#chapter-6" target="_self">Functions</a><br><a href="#chapter-7" target="_self">Defining functions</a><br><a href="#chapter-8" target="_self">Return values</a><br><a href="#chapter-9" target="_self">Exponentiation</a><br><a href="#chapter-10" target="_self">Named arguments</a><br><a href="#chapter-11" target="_self">Automatic printing at the console</a><br><a href="#chapter-12" target="_self">Countdown</a><br><a href="#chapter-13" target="_self">While loops</a><br><a href="#chapter-14" target="_self">Logical operators</a><br><a href="#chapter-15" target="_self">Sys.sleep</a><br><a href="#chapter-16" target="_self">Reading user input</a><br><a href="#chapter-17" target="_self">The readline function</a><br><a href="#chapter-18" target="_self">The as.integer function</a><br><a href="#chapter-19" target="_self">Preventing failure if no number is entered</a><br><a href="#chapter-20" target="_self">Guess a random number game</a><br><a href="#chapter-21" target="_self">Rounding</a><br><a href="#chapter-22" target="_self">Getting a random number</a><br><a href="#chapter-23" target="_self">Lists</a><br><a href="#chapter-24" target="_self">Generating lists</a><br><a href="#chapter-25" target="_self">Accessing list members</a><br><a href="#chapter-26" target="_self">Appending to lists</a><br><a href="#chapter-27" target="_self">Operating on lists</a><br><a href="#chapter-28" target="_self">Predefined lists</a><br><a href="#chapter-29" target="_self">What are vectors?</a><br><a href="#chapter-30" target="_self">Reading data</a><br><a href="#chapter-31" target="_self">Reading a CSV file</a><br><a href="#chapter-32" target="_self">Indexing data frames</a><br><a href="#chapter-33" target="_self">A short equivalent of the code</a><br><a href="#chapter-34" target="_self">The summary function</a><br><a href="#chapter-35" target="_self">Filtering data</a><br><a href="#chapter-36" target="_self">Picking specific columns out of a data frame</a><br><a href="#chapter-37" target="_self">Finding the lowest value in a list</a><br><a href="#chapter-38" target="_self">Selecting the row with the lowest population value</a><br><a href="#chapter-39" target="_self">More Examples</a><br><a href="#chapter-40" target="_self">Function examples</a><br><a href="#chapter-41" target="_self">How to run the code</a><br><a href="#chapter-42" target="_self">Using RStudio</a><br><a href="#chapter-43" target="_self">Using the R console</a><br><a href="#chapter-44" target="_self">Running a source file with R</a><br><a href="#chapter-45" target="_self">Finding data sources</a><br><a href="#chapter-46" target="_self">mtcars</a><br><a href="#chapter-47" target="_self">Quickly generating a data set</a><br><a href="#chapter-48" target="_self">Real US data: data.gov</a><br><a href="#chapter-49" target="_self">International data</a><br></div>
<br>
<br>

<h2 id="chapter-1">R Basics</h2>

<p class="preface">
To run the code paste it into an R console window.
</p><p>
</p><pre class="code">a &lt;- 42
A &lt;- a * 2  # R is case sensitive
print(a)
cat(A, "\n") # "84" is concatenated with "\n"
if(A&gt;a) # true, 84 &gt; 42
{
  cat(A, "&gt;", a, "\n")
} 
</pre>

<pre class="output">[1] 42
84 
84 &gt; 42
</pre>


  <h2 id="chapter-2">Variables</h2>
  <p>
    R uses <span class="code">&lt;-</span> for variable assignment.
  </p>
  <p>
    Don't call your variables any of the following:
    </p><ul>
      <li> c, q, s, t, C, D, F, I, T
      </li><li> diff, length, mean, pi, range, rank, time, tree, var
      </li><li> if, function, NaN etc.
    </li></ul>
  <p></p>
  <p>
    Howard Seltman provides more information about reserved terms in this "<a href="http://www.stat.cmu.edu/~hseltman/Rclass/R1.R">Learning R</a>" lesson.<br>
    You can use underscores and periods in your identifiers. Google suggests <span class="code">tree.count</span> for variables and <span class="code">DoSomething</span> for functions.
  </p>
  <h2 id="chapter-3">Comments</h2>
  <p>
    Comments start with a <span class="code">#</span> sign. <a href="http://stackoverflow.com/questions/4131338/is-it-possible-to-have-a-multi-line-comments-in-r&quot;&quot;">Block Comments</a> can't be be done nicely.
  </p>
  <h2 id="chapter-4">print and cat</h2>
  <p>
    <a href="http://stat.ethz.ch/R-manual/R-patched/library/base/html/print.html"><span class="code">print()</span></a> automatically appends a new line character to the output.
    With <a href="http://stat.ethz.ch/R-manual/R-patched/library/base/html/cat.html"><span class="code">cat()</span></a> you have to append it manually.
    <span class="code">print()</span> can also show more types of content, such as functions:
</p><pre class="code">print(cat)
</pre>
<pre class="output">&gt; print(cat)
function (..., file = "", sep = " ", fill = FALSE, labels = NULL, 
    append = FALSE) 
{
    if (is.character(file)) 
        if (file == "") 
  file &lt;- stdout()
        else if (substring(file, 1L, 1L) == "|") {
  file &lt;- pipe(substring(file, 2L), "w")
  on.exit(close(file))
        }
        else {
  file &lt;- file(file, ifelse(append, "a", "w"))
  on.exit(close(file))
        }
    .Internal(cat(list(...), file, sep, fill, labels, append))
}
&lt;environment: namespace:base&gt;
</pre>
  You can get the <b>documentation of a function</b> from the R console if you type <span class="code">help(print)</span>.
  <p></p>
  
<h2 id="chapter-5">if statements</h2>
<p>
	If statements are quite straightforward:
</p>
<pre class="code">if(condition)
{
	doSth()
}
</pre>

<br>



<h2 id="chapter-6">Functions</h2>


<pre class="code">Square &lt;- function(x) {
  return(x^2)
}

print(Square(4))
print(Square(x=4)) # same thing
</pre>

<pre class="output">[1] 16
[1] 16
</pre>




<h2 id="chapter-7">Defining functions</h2>
<p>
  Functions can be defined like this: <span class="code">function(parameter1, parameter2, parameter3){code}</span>.<br>
  For use they are assigned to a variable (using normal <span class="code">&lt;-</span> assignment operator).
</p>
 <h2 id="chapter-8">Return values</h2>
<p>
  The <a href="http://stat.ethz.ch/R-manual/R-devel/library/base/html/function.html">return function</a> is used for return values: <span class="code">return(value)</span>.
  If no value is given <span class="code">NULL</span> is returned. 
</p>
<h2 id="chapter-9">Exponentiation</h2>
<p>
  Raise a to the power of b: <span class="code">a^b</span>.
  It's also possible to use <span class="code">**</span> instead of <span class="code">^</span>.
</p>
<h2 id="chapter-10">Named arguments</h2>
<p>
  Named arguments work like this: <span class="code">DoSomething(color="red",number=55)</span>.
</p>
<p>
  You can also give the first arguments in order and then use named arguments: <span class="code">DoSth(value1,value2,arg4=value4,arg3=value3)</span>.
</p>
<h2 id="chapter-11">Automatic printing at the console</h2>
<p>
  When using the console directly R automatically prints the return value of a statement if you don't assign it to a variable.
  This doesn't work in loops or functions.
</p>
<p>
  You can use <span class="code">invisible(CalculateSth())</span> if you don't want the return value to be printed.
</p>
 <h2 id="chapter-12">Countdown</h2>


<pre class="code">countdown &lt;- function(from)
{
  print(from)
  while(from!=0)
  {
    Sys.sleep(1)
    from &lt;- from - 1
    print(from)
  }
}

countdown(5)
</pre>

<pre class="output">&gt; countdown(5)
[1] 5
[1] 4
[1] 3
[1] 2
[1] 1
[1] 0
</pre>


  <h2 id="chapter-13">While loops</h2>
  <p>
   Use <span class="code">while(condition){code}</span>.
  </p>
  <h2 id="chapter-14">Logical operators</h2>
  <p>
    You can use the usual C-style operators: <span class="code">==,&lt;,||,&amp;&amp;,...</span>.<br>
    However, there are <a href="http://www.stat.psu.edu/~dhunter/R/html/base/html/Logic.html">differences</a> under some circumstances.
  </p>
  <h2 id="chapter-15">Sys.sleep</h2>
  <p>
    <a href="http://projetos.inpa.gov.br/i3geo/pacotes/r/win/library/base/html/Sys.sleep.html">Suspends execution</a> for the given amount of seconds.
  </p>
 <h2 id="chapter-16">Reading user input</h2>


<pre class="code">readinteger &lt;- function()
{ 
  n &lt;- readline(prompt="Enter an integer: ")
  return(as.integer(n))
}

print(readinteger())
</pre>

<pre class="output">Enter an integer: 88
[1] 88
</pre>

  <h2 id="chapter-17">The readline function</h2>
  <p>
   <a href="http://stat.ethz.ch/R-manual/R-patched/library/base/html/readline.html"><span class="code">readline()</span></a> lets the user enter a one-line string at the terminal.
   <br>
   The <span class="code">prompt</span> argument is printed in front of the user input. It usually ends on ": ".
  </p>
  <h2 id="chapter-18">The as.integer function</h2>
  <p>
    <a href="" http:="" stat.ethz.ch="" r-manual="" r-devel="" library="" base="" html="" integer.html=""><span class="code">as.integer</span></a> makes an integer out of the string.
  </p>
 <h2 id="chapter-19">Preventing failure if no number is entered</h2>
 <p>
   Right now if the user doesn't enter an integer, <span class="code">as.integer</span> will
   return <a href="http://stat.ethz.ch/R-manual/R-patched/library/base/html/NA.html"><span class="code">NA</span></a> (Not Available).
   We can avoid this by using <a href="http://stat.ethz.ch/R-manual/R-patched/library/base/html/NA.html"><span class="code">is.na</span></a> to check
   the user input and asking again if the value is <span class="code">NA</span>:
 </p><p>
 </p><pre class="code">readinteger &lt;- function()
{ 
  n &lt;- readline(prompt="Enter an integer: ")
  n &lt;- as.integer(n)
  if (is.na(n)){
    n &lt;- readinteger()
  }
  return(n)
}

print(readinteger())
 </pre>
 <pre class="output">Enter an integer: 
Enter an integer: boo
Enter an integer: 44
[1] 44
Warning message:
In readinteger() : NAs introduced by coercion
 </pre>
 <p>
   However, a warning message is still shown. This is how to avoid it:
 
 </p><pre class="code">readinteger &lt;- function()
{ 
  n &lt;- readline(prompt="Enter an integer: ")
  if(!grepl("^[0-9]+$",n))
  {
    return(readinteger())
  }
  
  return(as.integer(n))
}

print(readinteger())
 </pre>
 
 <pre class="output">Enter an integer: 
Enter an integer: 31r132weq
Enter an integer: effasdf
Enter an integer: 222
[1] 222 
 </pre>
 <p>
   <span class="code"><a href="http://stat.ethz.ch/R-manual/R-devel/library/base/html/grep.html">grepl</a></span> returns TRUE if the regular expression
   <span class="code">"^[0-9]+$"</span> is matched. (The expression checks for a string that consists of nothing but one or more digits.)
 </p>
 <p>
   <span class="code">!</span> negates the result and the if branch is executed if the user-entered string isn't an integer.
 </p>
<h2 id="chapter-20">Guess a random number game</h2>

<p class="preface">
  Use source("filename.r") to run this.
</p>
<pre class="code">#utility functions

readinteger &lt;- function()
{ 
  n &lt;- readline(prompt="Enter an integer: ")
  if(!grepl("^[0-9]+$",n))
  {
    return(readinteger())
  }
  return(as.integer(n))
}

# real program start here
  
num &lt;- round(runif(1) * 100, digits = 0)
guess &lt;- -1

cat("Guess a number between 0 and 100.\n")

while(guess != num)
{ 
  guess &lt;- readinteger()
  if (guess == num)
  {
    cat("Congratulations,", num, "is right.\n")
  }
  else if (guess &lt; num)
  {
    cat("It's bigger!\n")
  }
  else if(guess &gt; num)
  {
    cat("It's smaller!\n")
  }
}
</pre>

<pre class="output">&gt; source("random-number-game.r")
Guess a number between 0 and 100.
Enter an integer: 50
It's smaller!
Enter an integer: 20
It's bigger!
Enter an integer: 40
It's bigger!
Enter an integer: 45
It's smaller!
Enter an integer: 43
It's bigger!
Enter an integer: 44
Congratulations, 44 is right.
</pre>


  <p>
    The <a href="/4/Reading%20user%20input">readinteger function</a> has been explained in a previous example.
  </p>
  <h2 id="chapter-21">Rounding</h2>
  <p>
   The <a href="http://stat.ethz.ch/R-manual/R-devel/library/base/html/Round.html"><span class="code">round function</span></a> rounds the first argument to the specified number of digits. 
  </p>
  <pre class="code">&gt; round(22.5,0)  # rounds to even number
[1] 22
&gt; round(3.14,1)
[1] 3.1
</pre>
  <h2 id="chapter-22">Getting a random number</h2>
  <p>
    <a href="http://www.stat.psu.edu/~dhunter/R/html/stats/html/Uniform.html"><span class="code">runif</span></a> generates random numbers between 0 and 1.
    The first argument specifies how many numbers you want.<br>
    </p><pre class="code">runif(2)
</pre>
    <pre class="output">[1] 0.8379240 0.1773677
</pre>
    <br>
    The "unif" part of the function indicates that the numbers are uniformly distributed:
    <br>       
    <img src="http://www.rexamples.com/img/runif-plot.png">
    <br>
    This isn't completely uniform at the sides because of our use of <span class="code">round</span>. A round to 0 only happens between 0 and 0.5 because we don't have negative numbers.
  <p></p>
  <p>
    A non-uniform <a href="http://astrostatistics.psu.edu/datasets/R/html/stats/html/Normal.html">normal distribution</a> would look like this:
    <br>
    <img src="http://www.rexamples.com/img/rnorm-plot.png">
    <br>
    </p><div class="side-note">Learn how to make these graphs <a href="/6/Plotting%20a%20uniform%20distribution">here</a>.</div>
  <p></p>

 
<h2 id="chapter-23">Lists</h2>


<pre class="code">sum(0:9)
append(LETTERS[1:13],letters[14:26])
c(1,6,4,9)*2
something &lt;- c(1,4,letters[2])  # indices start at one, you get (1,4,"b")
length(something)
</pre>

<pre class="output">sum(0:9)
[1] 45
&gt; append(LETTERS[1:13],letters[14:26])
 [1] "A" "B" "C" "D" "E" "F" "G" "H" "I" "J" "K" "L" "M" "n" "o"
[16] "p" "q" "r" "s" "t" "u" "v" "w" "x" "y" "z"
&gt; c(1,6,4,9)*2
[1]  2 12  8 18
&gt; something &lt;- c(1,4,letters[2]) #indices start at one, you get (1,4,"b")
&gt; length(something)
[1] 3
</pre>


  <h2 id="chapter-24">Generating lists</h2>
  <o>
    You can use a colon to generate a list of numbers:
<pre class="code">-5:5
</pre>
<pre class="output">[1] -5 -4 -3 -2 -1  0  1  2  3  4  5
</pre>
  <p></p>
  <h3>The c function</h3>
  <p>
    The <a href="http://www.stat.psu.edu/~dhunter/R/html/base/html/c.html"><span class="code">c</span> function</a> <b>combine</b>s the parameters into a list and converts them to the same type.
</p><pre class="code">c("test",3)
</pre>
<pre class="output">[1] "test" "3"</pre>   
<pre class="code">typeof("3")</pre>
<pre class="output">[1] "character"</pre>

  Here <span class="code">3</span> is converted to a string.
  <p></p>
  <h3>The seq function</h3>
  <p>
    <a href="http://www.stat.psu.edu/~dhunter/R/html/base/html/seq.html"><span class="code">seq</span></a> generates more complex regular <b>sequence</b>s:
    </p><pre class="code">&gt; seq(from=1,to=4,by=.6)
</pre>
<pre class="output">[1] 1.0 1.6 2.2 2.8 3.4 4.0  
</pre>
    
  <p></p>
  <h2 id="chapter-25">Accessing list members</h2>
  <p>
    List members can be accessed using brackets as in most languages: <span class="code">(3:5)[2]</span>.
    This returns <span class="code">4</span> because <b>indices start with 1</b>.
    <br>
    You can also extract multiple list members from a list: <span class="code">letters[2:4]</span> returns <span class="code">[1] "b" "c" "d"</span>.
  </p>
  <h2 id="chapter-26">Appending to lists</h2>
  <p>
    You can use the <a href="http://www.stat.psu.edu/~dhunter/R/html/base/html/append.html"><span class="code">append</span> function</a> for this.
    Its return value has to be reassigned to the variable.<br>
    By default the new value is appended at the end of the list. You can use the <span class="code">after</span> argument to change that:
    </p><pre class="code">a &lt;- 1:4
append(a,2.4,after=2)
</pre>
<pre class="output">[1] 1.0 2.0 2.4 3.0 4.0
</pre>
  <p></p>
  <h2 id="chapter-27">Operating on lists</h2>
  <p>
    R allows you to easily operate on all list values at once.
  </p>
    <pre class="code">c(1,2,3) + 3
</pre>
  <p>
  This and the <a href="http://www.stat.psu.edu/~dhunter/R/html/base/html/apply.html"><span class="code">apply</span> function</a> allow you to avoid most for loops.
  </p>
<pre class="output">[1] 4 5 6  
</pre>

  <h2 id="chapter-28">Predefined lists</h2>
  <p>
    Lists for letters and month names are predefined:
  </p>
  <pre class="code">letters</pre>
  <pre class="output">[1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o"
[16] "p" "q" "r" "s" "t" "u" "v" "w" "x" "y" "z"
</pre>
<br>
<pre class="code">LETTERS</pre>
  <pre class="output">[1] "A" "B" "C" "D" "E" "F" "G" "H" "I" "J" "K" "L" "M" "N" "O"
[16] "P" "Q" "R" "S" "T" "U" "V" "W" "X" "Y" "Z"
</pre>
<br>
<pre class="code">month.abb</pre>
  <pre class="output">[1] "Jan" "Feb" "Mar" "Apr" "May" "Jun" "Jul" "Aug" "Sep" "Oct"
[11] "Nov" "Dec"</pre>
<br>
<pre class="code">month.name</pre>
  <pre class="output">[1] "January"   "February"  "March"     "April"     "May"      
 [6] "June"      "July"      "August"    "September" "October"  
[11] "November"  "December" </pre>

  <h2 id="chapter-29">What are vectors?</h2>
  <p>
    Vectors are lists in which all elements have the same type. For example, the <span class="code">c</span> function creates a vector.
  </p>
    
<h2 id="chapter-30">Reading data</h2>

<p class="preface">
	This code uses a <a href="http://www.census.gov/popest/national/files/NST_EST2009_ALLDATA.csv">dataset file with population estimates</a> by the US Census Bureau <a href="http://www.census.gov/popest/datasets.html">(more info)</a>.
</p>
<pre class="code">tbl &lt;- read.table(file.choose(),header=TRUE,sep=",")
population &lt;- tbl["POPESTIMATE2009"]
print(summary(population[-1:-5,]))
</pre>
<pre class="output">    Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
  544300  1734000  4141000  5980000  6613000 36960000 
</pre> 

<h2 id="chapter-31">Reading a CSV file</h2>
<p>
	<a href="http://www.stat.psu.edu/~dhunter/R/html/utils/html/read.table.html"><span class="code">read.table</span></a> can read a variety of basic data formats into tables or "data frames".<br>
	<span class="code">sep</span> specifies the separator for the data, which is a comma for CSV files.<br>
	<span class="code">header</span> indicates whether the first row contains the names of the data columns.
</p>
<p>
	The first argument contains the file name.
	In this case <a href="http://www.stat.psu.edu/~dhunter/R/html/base/html/file.choose.html"><span class="code">file.choose</span></a> is used to show a dialog.<br>
	</p><div class="side-note">
		(The user's home folder is the default working directory in RStudio.)
	</div>
<p></p>

<h2 id="chapter-32">Indexing data frames</h2>
<p>
	See the <a href="http://stat.ethz.ch/R-manual/R-patched/library/base/html/Extract.data.frame.html">R documentation</a> for more information.
</p>
<h3>Getting a specific column</h3>
<p>
	You can use the column name as a string in brackets: <span class="code">tbl["POPESTIMATE2009"]</span>:
	</p><pre class="output">   POPESTIMATE2009
1        307006550
2         55283679
3         66836911
[...]
	</pre>
	Using the column number also works: <span class="code">tbl[17]</span>.
<p></p>
<h3>Getting a column as a list</h3>
<p>
	You can use the dollar sign for this: <span class="code">tbl$POPESTIMATE2009</span>
	</p><pre class="output">[1] 307006550  55283679  66836911 113317879  71568081   4708708    698473
[8]   6595778   2889450  36961664   5024748   3518288    885122    599657
[...]
</pre>
<p></p>

<h3>Fetching specific rows and columns</h3>
<p>
	Here the table will be treated as a 2-dimensional matrix.<br>
	To get the first 5 rows from the population table:
</p>
	<pre class="code">population[1:5,]  #  first the rows, then the columns
</pre>
	<pre class="output">[1] 307006550  55283679  66836911 113317879  71568081
</pre>
<p>
	The comma after the row information indicates that we want all columns. 
	In this case we could also have written <span class="code">[1:5,1]</span> because we only have 1 column in <span class="code">population</span>.
</p>
<p>
	Look at this data from the first 5 rows in the population column:
</p>
	<pre class="output">[1] 307006550  55283679  66836911 113317879  71568081
</pre>
<p>
	These are too big to be population values for US States.
	They are the total US population and that of the US Census Bureau regions: Northeast, Midwest, South and West.<br>
	Since we are only interested in the states we can drop them like this:
</p>
	<pre class="code">population[-1:-5,]
</pre>
<p>
	Negative numbers in matrix indices can be used to omit specific rows or columns.
</p>
<h2 id="chapter-33">A short equivalent of the code</h2>
<p>
	You can also fetch the population column at the same time as you remove the multi-state rows. Replace
	</p><pre class="code">population &lt;- tbl["POPESTIMATE2009"]
print(summary(population[-1:-5,]))
</pre>
	with
	<pre class="code">print(summary(tbl[-1:-5,"POPESTIMATE2009"]))
</pre>
<p></p>

<h2 id="chapter-34">The summary function</h2>
<p>
	<a href="http://www.stat.psu.edu/~dhunter/R/html/base/html/summary.html"><span class="code">summary</span></a> calculates a few values based on the data passed as the first argument.
	The exact values calculated depend on the class of the data.
</p>
<pre class="code">summary(1:10)
</pre>
<pre class="output">   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   1.00    3.25    5.50    5.50    7.75   10.00 
</pre>

<br>          <h2 id="chapter-35">Filtering data</h2>

<p class="preface">
	This code uses a <a href="http://www.census.gov/popest/national/files/NST_EST2009_ALLDATA.csv">dataset file with population estimates</a> by the US Census Bureau <a href="http://www.census.gov/popest/datasets.html">(more info)</a>.
</p>

<pre class="code">tbl &lt;- read.table(file.choose(),header=TRUE,sep=',')
population &lt;- tbl[c("NAME","POPESTIMATE2009","NPOPCHG_2009")]
smallest.state.pop &lt;- min(population$POPESTIMATE2009)
print(population[population$POPESTIMATE2009==smallest.state.pop,])
</pre>

<pre class="output">      NAME POPESTIMATE2009 NPOPCHG_2009
56 Wyoming          544270        11289
</pre>

<p>
	This piece of code extracts the data about the smallest state from the data frame.<br>
	The first line has reads the data from the CSV file (<a href="/10/Reading%20data">as explained here</a>).
</p>

<h2 id="chapter-36">Picking specific columns out of a data frame</h2>
<p>
	The second line limits the rows to the state name, the population estimate for 2009 and the total population change for 2009.
	<br>
	Let's use the <a href="http://www.stat.psu.edu/~dhunter/R/html/utils/html/head.html"><span class="code">head</span></a> function to look at what we get:
</p>
<pre class="code">head(population)
</pre>
<pre class="output"> NAME POPESTIMATE2009 NPOPCHG_2009
1 United States       307006550      2631704
2     Northeast        55283679       223483
3       Midwest        66836911       241314
4         South       113317879      1296857
5          West        71568081       870050
6       Alabama         4708708        31244
</pre>

<h2 id="chapter-37">Finding the lowest value in a list</h2>
<p>
	First the POPESTIMATE2009 column is selected:
</p>
<pre class="code">population$POPESTIMATE2009
</pre>
<pre class="output"> [1] 307006550  55283679  66836911 113317879  71568081   4708708    698473
 [8]   6595778   2889450  36961664   5024748   3518288    885122    599657
[...]
[50]   2784572    621760   7882590   6664195   1819777   5654774    544270
[57]   3967288
</pre>
<p>
	Then the <a href="http://www.stat.psu.edu/~dhunter/R/html/base/html/Extremes.html"><span class="code">min</span></a> function is used to find the minimum:
</p>
<pre class="code">min(population$POPESTIMATE2009)
</pre>
<pre class="output">[1] 544270
</pre>

<h2 id="chapter-38">Selecting the row with the lowest population value</h2>
<p>
	You use something like a WHERE clause in data frame indices:
	</p><pre class="code">data.frame[condition]
</pre>
	This condition works because it creates an array of booleans depending on whether the field value is a match:
<p></p>
<pre class="code">population$POPESTIMATE2009==smallest.state.pop
</pre>
<pre class="output">[1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[13] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[25] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[37] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[49] FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE
</pre>
<p>
	In this case only the second to last row should be selected. We use a comma after the row index because we want all the columns:
</p>

<pre class="code">population[population$POPESTIMATE2009==smallest.state.pop,]
</pre>
<pre class="output">      NAME POPESTIMATE2009 NPOPCHG_2009
56 Wyoming          544270        11289
</pre>

<br>          <h2 id="chapter-39">More Examples</h2>


  <a href="/6/Plotting%20a%20uniform%20distribution">Plotting a uniform distribution</a>

<h2 id="chapter-40">Function examples</h2>


<a href="/12/Match%28%29">Match()</a><br>
<a href="/14/Sample%28%29">Sample()</a>          <h2 id="chapter-41">How to run the code</h2>


<p style="margin-top:0px">
  I find it easiest to use <a href="http://www.rstudio.org/">RStudio</a>.
  You can also paste the code in a normal R console or let R run a source file. However these approaches are a bit less fail-safe.
</p>

<h2 id="chapter-42">Using RStudio</h2>
<p>
  <a href="http://www.rstudio.org/download/desktop">Download and install RStudio</a>.<br>
  Open RStudio and do this:
  </p><ol>
    <li>Click on the menu: File -&gt; New -&gt; R Script
    </li><li>Paste the code in the new source code area
    </li><li>Click the "Source" button above the code area:
   </li></ol>
<p></p>
<img src="http://www.rexamples.com/img/rstudio-run-source.jpg">
<p>
  You can also use the console in RStudio. If you click "Run" instead of "Source" user input might not work properly.
</p>
<p>
  You can use the R documentation like this: <span class="code">help(function.name)</span>.
</p>

<h2 id="chapter-43">Using the R console</h2>
Running the <span class="code">r</span> program on the command line or elsewhere will start the console. You can paste your code there.
<h3>Problems with this approach</h3>
<p>
  This will generally work if you use <a href="http://www.stat.psu.edu/~dhunter/R/html/base/html/source.html"><span class="code">source("filename.r")</span></a> to run your code.
  If you paste the code some of it might be read as user input.
</p>
<h2 id="chapter-44">Running a source file with R</h2>
<p>
  You can run a source file like this: <span class="code">r -f filename.r</span>.<br>
  R also provides a lot of <a href="http://cran.r-project.org/doc/manuals/R-intro.html#Invoking-R-from-the-command-line">other command line arguments</a>.
</p>
<h3>Problems with this approach</h3>
<p>
  I have not managed to get user input to work here.  
</p>



<h2 id="chapter-45">Finding data sources</h2>


<p>
	Here are a few data sets to play around with.
</p>

<h2 id="chapter-46">mtcars</h2>
<pre class="code">print(head(mtcars))
</pre>
<pre class="output">         mpg cyl disp  hp drat    wt  qsec vs am gear carb
Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1
</pre>
<p>
	This is <a href="http://www.stat.psu.edu/~dhunter/R/html/datasets/html/mtcars.html">a built-in data set</a>. Use it for sorting, filtering etc.
</p>

<h2 id="chapter-47">Quickly generating a data set</h2>
<p>
	You can use <a href="http://www.stat.psu.edu/~dhunter/R/html/base/html/matrix.html"><span class="code">matrix</span></a> to generate a quick dataset.
	The first argument must contain your data.
	You can use a distribution function or <a href="http://www.stat.psu.edu/~dhunter/R/html/base/html/sample.html"><span class="code">sample</span></a> for it.
</p>
<pre class="code">print(matrix(runif(6*3), nrow=6, ncol=3))
</pre>
<pre class="output">[,1]       [,2]       [,3]
[1,] 0.94210093 0.23582446 0.19571104
[2,] 0.45026399 0.77989358 0.69763985
[3,] 0.03567169 0.40572983 0.83394039
[4,] 0.31246289 0.08076585 0.74957412
[5,] 0.61316957 0.94886782 0.90769685
[6,] 0.94545758 0.48658449 0.03396954
</pre>

<h2 id="chapter-48">Real US data: data.gov</h2>
<p>
	The US government published data sets on <a href="http://data.gov">data.gov</a>.
	This includes US census data.
	Most files are in CSV format and you can use <a href="/10/Reading%20data"><span class="code">read.table</span></a> to read them.
</p>	

<h2 id="chapter-49">International data</h2>
<p>
	The UN publishes data at <a href="http://data.un.org/">data.un.org</a>. This data is also available in CSV format.
</p>
<br><br><br><br>
<br><br><br><br>
<br><br><br><br>
<br><br><br><br>
</body></html>