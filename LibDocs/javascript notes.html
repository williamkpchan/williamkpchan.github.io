<base target="_blank"><html><head><title>javascript notes</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://williamkpchan.github.io/maincss.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script src="../lazyload.min.js"></script>
<script type='text/javascript' src='../mainscript.js'></script>

<script>
  var showTopicNumber = true;
  var bookid = "javascriptNotes" 
</script>
<style>
body{width:80%;margin-left: 10%; font-size:22px;}
strong, h1, h2 {color: gold;}
img {max-width:90%; display: inline-block; margin-top: 2%;margin-bottom: 1%; border-radius:3px;}
b{color:#484;}
em, code{color:#588;}
table{ table-layout: fixed;}
</style></head><body onkeypress="chkKey()"><center>
<h1>javascript notes</h1>
<a href="#mustWatch" class="red goldbs" target="_self">Must Watch!</a><br><br>
<div id="toc"></div></center>
<br><br>
<div id="mustWatch"><center><span class="red">MustWatch</span></center><br>
<a href="https://www.d3-graph-gallery.com/graph/density2d_contour.html" class="whitebut pink limebs">D3 Basic contour chart</a>
<a href="https://www.youtube.com/watch?v=JjIvF0yikGU" class="whitebut ">Learn jQuery</a>

<a href="https://skillcrush.com/blog/projects-you-can-do-with-javascript/" class="whitebut ">JAVASCRIPT PROJECTS</a>
<a href="https://www.sitepoint.com/simple-javascript-quiz/" class="whitebut ">Make a Simple JavaScript Quiz</a>

<a href="JavascriptGame.html" class="goldbut gold blueblackgrad">JavascriptGame</a>
<a href="alligatorIoJs.html" class="whitebut gold">alligatorIoJs</a>

<a href="88 functions.html" class="greenbut gold blueblackgrad ">88 functions</a>

<a href="https://redstapler.co/javascript-realtime-chart-plotly/" class="whitebut ">plotly realtime chart</a>
anime.js howler.js chart.js reveal.js three.js Pixi.js video.js
<a href="https://redstapler.co/10-stunning-css-3d-effect-must-see/" class="whitebut ">10 Stunning CSS 3D Effect</a>
<a href="https://www.youtube.com/watch?v=zPHerhks2Vg&t=99s">JavaScript in Half an Hour (Without jQuery!)</a>
<a href="W3JavascriptHowTo.html" class="whitebut gold">W3JavascriptHowTo</a>
<a href="https://developers.google.com/web/tools/chrome-devtools/evaluate-performance" class="whitebut ">Get Started With Analyzing Runtime Performance</a>
<a href="https://jqueryui.com/demos/" class="whitebut ">jqueryui demos</a>
<a href="https://jqueryui.com/tabs/" class="whitebut ">jqueryui tabs</a>

<br>
<a href="https://www.tutorialsteacher.com/javascript/javascript-tutorials" class="whitebut ">JavaScript Tutorial</a>

<a href="https://dmitripavlutin.com/javascript-classes-complete-guide/" class="whitebut ">Complete Guide to JavaScript Classes</a>

<a href="https://www.digitalocean.com/community/tutorials/how-to-use-object-methods-in-javascript" class="whitebut ">How To Code in JavaScript</a>

<a href="https://medium.com/@madasamy/15-javascript-concepts-that-every-nodejs-programmer-must-to-know-6894f5157cb7" class="whitebut ">15 JavaScript concepts</a>
<a href="http://www.codecademy.com/tracks/javascript" class="whitebut ">Code Academy JavaScript tracks</a>
<a href="http://eloquentjavascript.net/" class="whitebut ">Eloquent JavaScript</a>
<a href="http://ejohn.org/apps/learn/" class="whitebut ">Advanced JavaScript</a>

<br>

<a href="https://www.javascriptjanuary.com/" class="whitebut ">javascriptjanuary</a>
<a href="D:\Dropbox\Public\LibDocs\rchart\bar-basic.html" class="bordred1 gold borRad10">Basic Bar Chart</a>
<a href="D:\Dropbox\Public\LibDocs\rchart\pie-basic.html" class="bordred1 gold borRad10">pie basic chart</a>

<pre>
<br>
===========================
<br>
<h2>React Tutorial</h2>
<a href="https://www.youtube.com/watch?v=Ke90Tje7VS0" class="whitebut ">React Tutorial</a>
<a href="https://reactjsexample.com/a-react-table-that-includes-all-the-crud-operations/" class="whitebut ">react CRUD operations</a>



<h2>Node.js Tutorial</h2>
<a href="https://www.youtube.com/watch?v=TlB_eWDSMt4" class="whitebut ">Node.js Tutorial for Beginners</a>
<a href="Node入門.html" class="redbut chgFontsize">Node入門</a>
<h2><span class="red embossts">process local files</span></h2>

<a href="https://www.html5rocks.com/en/tutorials/file/dndfiles/" class="whitebut ">Reading files in JavaScript using the File APIs</a>
<a href="https://blog.toright.com/posts/3205/實作-cross-origin-resource-sharing-cros-解決-ajax-發送跨網域存取-request.html" class="whitebut ">跨網域存取 Cross-Origin Resource Sharing (CORS)</a>

====================
HTML5 fileReader facility

Here's an example using FileReader:
function readSingleFile(e) {
  var file = e.target.files[0];
  if (!file) {
    return;
  }
  var reader = new FileReader();
  reader.onload = function(e) {
    var contents = e.target.result;
    displayContents(contents);
  };
  reader.readAsText(file);
}

function displayContents(contents) {
  var element = document.getElementById('file-content');
  element.textContent = contents;
}

document.getElementById('file-input')
  .addEventListener('change', readSingleFile, false);
&lt;input type="file" id="file-input" />
&lt;h3>Contents of the file:&lt;/h3>
&lt;pre id="file-content">&lt;/pre>


The HTML5 fileReader facility does allow you to process local files, but these MUST be selected by the user, you cannot go rooting about the users disk looking for files.

I currently use this with development versions of Chrome (6.x). I don't know what other browsers support it.



====================
Just use openFile(function to be executed with file contents as first parameter).

function dispFile(contents) {
  document.getElementById('contents').innerHTML=contents
}
function clickElem(elem) {
	// Thx user1601638 on Stack Overflow (6/6/2018 - https://stackoverflow.com/questions/13405129/javascript-create-and-save-file )
	var eventMouse = document.createEvent("MouseEvents")
	eventMouse.initMouseEvent("click", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null)
	elem.dispatchEvent(eventMouse)
}
function openFile(func) {
	readFile = function(e) {
		var file = e.target.files[0];
		if (!file) {
			return;
		}
		var reader = new FileReader();
		reader.onload = function(e) {
			var contents = e.target.result;
			fileInput.func(contents)
			document.body.removeChild(fileInput)
		}
		reader.readAsText(file)
	}
	fileInput = document.createElement("input")
	fileInput.type='file'
	fileInput.style.display='none'
	fileInput.onchange=readFile
	fileInput.func=func
	document.body.appendChild(fileInput)
	clickElem(fileInput)
}
Click the button then choose a file to see its contents displayed below.
&lt;button onclick="openFile(dispFile)">Open a file&lt;/button>
&lt;pre id="contents">&lt;/pre>


=======================
Try

function readFile(file) {
  return new Promise((resolve, reject) => {
    let fr = new FileReader();
    fr.onload = x=> resolve(fr.result);
    fr.readAsText(file);
})}
but user need to take action to choose file

=======================
Javascript cannot typically access local files in new browsers but the XMLHttpRequest object can be used to read files. So it is actually Ajax (and not Javascript) which is reading the file.

If you want to read the file abc.txt, you can write the code as:

var txt = '';
var xmlhttp = new XMLHttpRequest();
xmlhttp.onreadystatechange = function(){
  if(xmlhttp.status == 200 && xmlhttp.readyState == 4){
    txt = xmlhttp.responseText;
  }
};
xmlhttp.open("GET","abc.txt",true);
xmlhttp.send();
Now txt contains the contents of the file abc.txt.
=======================
<a href="https://recalll.co/ask/v/topic/javascript-How-to-read-a-local-text-file/5a7db8c71126f4a43f8b5029" class="whitebut ">javascript to read a local text file</a>

function getData(){
  var xmlhttp;
  if (window.XMLHttpRequest) {xmlhttp = new XMLHttpRequest();}      
  else {xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");}
  xmlhttp.onreadystatechange = function () {     
      if (xmlhttp.readyState == 4) {         
        var lines = xmlhttp.responseText; //*get all lines from file*
        intoArray(lines); *//call function with parameter "lines*"         
      }
  }
  xmlhttp.open("GET", "motsim1.txt", true);
  xmlhttp.send();    
}

function intoArray (lines) {
   // split text data into array "\n" is splitting character
   var lineArr = lines.split('\n'); 

   //just to check if it works output lineArr[index] as below
   document.write(lineArr[2]);    
   document.write(lineArr[3]);
}


<h2>Arrays</h2>
<a href="Arrays.html" class="redbut white2bs white redblackgrad">Arrays</a><br>
<a href="JavaScript Stack and Queue.html" class="redbut white2bs lime redblackgrad" target="_blank">JavaScript Stack and Queue</a>
<a href="JavaScript Multidimensional array.html" class="whitebut green limebs">JavaScript Multidimensional array</a>

<a href="Javascript Array Processing.html" class="redbut white2bs white redblackgrad">Javascript Array Processing</a><br>

<h2>4 Methods to Search Through Arrays in JavaScript</h2>
====
Array.includes
fruits = ["Banana", "Orange", "Apple", "Mango"];
fruits.includes("Mango"); // true
fruits.includes("Man");   // false

====
Array.find
tree = ["birch", "maple", "oak", "poplar" ];
item = tree.find(name => name.startsWith("m")); // maple

====
fruits = ["Banana", "Orange", "Apple", "Mango"];
fruits.findIndex(element => element.includes("an")) // 0
fruits.findIndex(element => element.includes("ab")) // -1

fruits.find(element => element.includes("an"))      // Banana
fruits.filter(element => element.includes("an"));   // Banana, Orange, Mango
fruits.some(element => element.includes("ang"));  // true

====
Array.indexOf
search and returns the position of the first occurrence of a specified value in a string.

nameArr = ['sonarika','yogesh','sumit','vijay','anil'];
nameArr.indexOf('sumit') // 2
nameArr.indexOf('vis')   // -1

txt = "Sonarika Bhadoria";
txt.indexOf('a') // 3

arr = ["one", "two", "three", "four", "five"];
arr.includes("two"); // true
arr.includes("tw");  // false


====
filter
search array for all substring match

arr2 = fruits.filter(element => element.includes("ang"));


ages = [12,14,19,21]
function checkAdult(age) { return age >= 18; }
ages.filter(checkAdult);


====
arr = [ 4, "Pete", 8, "John" ];
$.inArray( "Pete", arr ) // 1

$.inArray() returns index of the item in the array, or -1 if item was not found.

====
forEach is an Array method that we can use to execute a function on each element in an array.
It can only be used on Arrays, Maps, and Sets.

arr = ['cat', 'dog', 'fish'];

arr.forEach(element => { console.log(element); });

// cat
// dog
// fish


arr = [5,4,8,7];
arr.forEach(function(item,index,arr) {
  console.log("item: " + item + " at index: " + index + " in the array: " + arr);
})

// item: 5 at index: 0 in the array: 5,4,8,7
// item: 4 at index: 1 in the array: 5,4,8,7
// item: 8 at index: 2 in the array: 5,4,8,7


<h2>onclick event</h2>
Note also:
dblclick	double-clicks on an element
mousedown	presses a mouse button over an element
mouseup	releases a mouse button over an element

&lt;p ondblclick="myFunction()">Double-click me&lt;/p>

&lt;p id="demo"&gt;Click me.&lt;/p&gt;
&lt;script&gt;
document.getElementById("demo").onclick = function() {myFunction()};
function myFunction() {
    document.getElementById("demo").innerHTML = "YOU CLICKED ME!";
}
&lt;/script&gt;

&lt;button onclick="myFunction()"&gt;Try it&lt;/button&gt;
&lt;p id="demo"&gt;&lt;/p&gt;
&lt;script&gt;
function myFunction() {
    var person = prompt("Please enter your name", "Harry Potter");
    if (person != null) {
        document.getElementById("demo").innerHTML =
        "Hello " + person + "! How are you today?";
    }
}
&lt;/script&gt;
===========================<br>

<br>
<h2>alert() and prompt()</h2>

alert(message)

  // use this to alert variable inside string
  function doHomework(subject) {
    alert(`Starting my ${subject} homework.`);
  }
  doHomework('math');
  // Alerts: Starting my math homework.

prompt(text, defaultText)
text	text to display in the dialog box
defaults	Optional. The default input text

confirm(message)
returns true if the user clicked "OK", and false otherwise.


<h2>Opening A Window</h2>

Browser Windows
&lt;a href="link.html" target="mywindow"&gt;Click Here&lt;/a&gt;
Opening A Window With JavaScript
window.open('link.html','mywindow');
onclick
&lt;a href="#" onClick="window.open('link.html','mywindow');"&gt;Click Here&lt;/a&gt;
Manipulating Windows features
window.open('link.html','mywindow','window features');
===========================
<br>

<h2>Link Events</h2>

onClick
onMouseOver
onMouseOut
(note the quotation marks arrangement!) 
&lt;a href="index.htm" onMouseOver="home_button.src='homeon.gif';" onMouseOut="home_button.src='home.gif';"&gt;&lt;img src="home.gif" alt="Home" name="home_button" border="0"&gt;&lt;/a&gt;
===========================
<br>

<h2>Two JavaScripts most important functions, If and Loops.</h2>

var guess = prompt("Please guess a number between 1 and 10","");
if(guess == 5){ alert('Correct! I was thinking of 5');}
else{ alert('Wrong! I was thinking of 5');}
===========================

<h2>password</h2>
var password = 'hello';
var input = prompt('Please enter the password', '');
while(input != password){var input= prompt('Please enter the password','');}

<h2>for loop</h2>
for(loop=0; loop &lt; 11; loop++){ document.writeln(loop);}


<h2>Forms & Functions</h2>

create a form
&lt;form name="formname"&gt;
&lt;/form&gt;

Place a text box
&lt;input type="text" name="boxname"&gt;

window.document.formname.first_text.value='Hi there';

This tells the browser to put 'Hi there!' into the value of the item called 'first_text' in the form called 'formname'.

<h3>To make sure an input field has a value before submit</h3>
using the required attribute in HTML5:
&lt;input id="m" autocomplete="off" required/>

but you can just turn it of in browser console
recommend:
if (document.getElementById("m").value == '') {
   //code here...
}

<h3>Accessing Values</h3>
&lt;form name="feedback" action="script.cgi" method="post" onSubmit="return checkform()">
&lt;input type="text" name="name">
&lt;input type="text" name="email">
&lt;textarea name="comments">&lt;/textarea>
&lt;/form>

To get the value from all types of form elements. 

<h3>Text Boxes, &lt;textarea>s and hiddens</h3>
document.feedback.field.value

You'll usually be checking if this value is empty, i.e.

if (document.feedback.field.value == '') {
	return false;
}

<h3>Select Boxes</h3>

Each option in a drop-down box is indexed in the array <code>options[]</code>, starting as always with 0. 
You then get the value of the element at this index. 
It's like this:

document.feedback.field.options
[document.feedback.field.selectedIndex].value

You can also change the selected index through JavaScript. 
To set it to the first option, execute this:

document.feedback.field.selectedIndex = 0;

<h3>Check Boxes</h3>
Checkboxes behave differently to other elements &#8212; their value is always <code>on</code>. 
Instead, you have to check if their Boolean <code>checked</code> value is true or, in this case, false.

if (<strong>!</strong>document.feedback.field.checked) {
	// box is not checked
	return false;
}

Naturally, to check a box, do this

document.feedback.field.checked = true;

<h3>Radio Buttons</h3>
Annoyingly, there is no simple way to check which radio button out of a group is selected &#8212; you have to check through each element, linked with Boolean AND operators . 
Usually you'll just want to check if <em>none</em> of them have been selected, as in this example:

if (!document.feedback.field[0].checked &amp;&amp;
!document.feedback.field[1].checked &amp;&amp;
!document.feedback.field[2].checked) {
	// no radio button is selected
	return false;
}

<h2>Capture a form submit in JavaScript</h2>
<h3>Using onsubmit:</h3>
&lt;form action="action.php" onsubmit="myFunction()">
  Enter name: &lt;input type="text" name="fname">
  &lt;input type="submit" value="Submit">
&lt;/form>

function myFunction() {
  alert("The form was submitted");
}

<h3>Using JQuery on button:</h3>
&lt;form id="my-form">
    &lt;input type="text" name="in" value="some data" />
    &lt;button type="submit">Go&lt;/button>
&lt;/form>

$('button').click(function() {
    //do something;
});

<h3>JavaScript Form action using return</h3>
function validateForm() {
  var x = document.forms["myForm"]["fname"].value;
  if (x == "") { alert("No data"); return false;}
}

&lt;form name="myForm" action="action.php" onsubmit="return validateForm()" method="post">
  Name: &lt;input type="text" name="fname">
  &lt;input type="submit" value="Submit">
&lt;/form>

===========================
<br>

<h2>Events</h2>

onBlur - Happens when the cursor is moved out of the field
onFocus - Happens when the cursor is moved into the field
onChange - Happens when the field is changed and the cursor moves out of it
&lt;input type="text" onBlur="dothis"&gt;
JavaScript Functions
function sayhi()
  {
    alert(Hi there!);
  }
}
&lt;a href="#" onMouseOver="sayhi();"&gt;Say Hi&lt;/a&gt;
===========================
<br>

<h2>Submit Button</h2>

&lt;form name="myform" onSubmit="return false;"&gt;
&lt;input type="submit" value="Submit"&gt;
&lt;/form&gt;
&lt;form name="myform" onSubmit="MyFunction(); return false;"&gt;
&lt;/fopre&gt;

===========================
<br>

<h2>Checkboxes</h2>

if(window.document.example1.my_checkbox.checked=true)
{
alert('The box is checked!')
}
else
{
window.document.example1.my_checkbox.checked=true;
alert('The box was not checked so I have checked it!');
}

// show number checked
alert($(":checkbox:checked").length);

===========================
<br>

<h2>The JavaScript Switch Statement</h2>

switch(expression) {
    case n:
        code block
        break;
    case n:
        code block
        break;
    default:
        code block
}
===========================
<br>

<h2>Common Code Blocks</h2>

switch (new Date().getDay()) {
    case 4:
    case 5:
        text = "Soon it is Weekend";
        break; 
    case 0:
    case 6:
        text = "It is Weekend";
        break;
    default: 
        text = "Looking forward to the Weekend";
}
===========================
<br>

<h2>The For/In Loop</h2>

var person = {fname:"John", lname:"Doe", age:25}; 
var text = "";
var x;
for (x in person) {
    text += person[x];
}
===========================
<br>

<h2>JavaScript Break and Continue</h2>

for (i = 0; i &lt; 10; i++) {
    if (i === 3) { break; }
    text += "The number is " + i + "&lt;br&gt;";
}
for (i = 0; i &lt; 10; i++) {
    if (i === 3) { continue; }
    text += "The number is " + i + "&lt;br&gt;";
}
===========================
<br>

<h2>JavaScript Labels</h2>

label:
statements
break labelname; 
continue labelname;
var cars = ["BMW", "Volvo", "Saab", "Ford"];
list: {
    text += cars[0] + "&lt;br&gt;"; 
    text += cars[1] + "&lt;br&gt;"; 
    text += cars[2] + "&lt;br&gt;"; 
    break list;
    text += cars[3] + "&lt;br&gt;"; 
    text += cars[4] + "&lt;br&gt;"; 
    text += cars[5] + "&lt;br&gt;"; 
}

===========================
<br>

<h2>sCt(stkcode) </h2>

&lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
function sCt(stkcode) {
  imgHead = "&lt;img src='http://charts.aastocks.com/servlet/Charts?fontsize=12&15MinDelay=F&lang=1&titlestyle=1&vol=1&Indicator=9&indpara1=20&indpara2=2&indpara3=0&indpara4=0&indpara5=0&subChart1=3&ref1para1=5&ref1para2=10&ref1para3=3&subChart2=3&ref2para1=12&ref2para2=26&ref2para3=9&subChart3=12&ref3para1=0&ref3para2=0&ref3para3=0&scheme=3&com=100&chartwidth=1150&chartheight=690&stockid=";
  imgPCode= "&period=";
  imgTail="&type=1&logoStyle=1'&gt;&lt;br&gt;&lt;br&gt;";
    intv = [7, 4, 3, 11];
  var imgWindow = window.open("");
  theListDom ='&lt;meta http-equiv="refresh" content="60"&gt;&lt;style type="text/css"&gt;body { margin-top: 2%; margin-bottom: 2%; margin-right: 3%; margin-left: 3%; background-color: #000000;}&lt;/style&gt;&lt;body&gt;&lt;br&gt;'
  for( var imgPeriod = 0; imgPeriod &lt; intv.length; imgPeriod++){
    theListDom = theListDom + imgHead + stkcode + imgPCode + intv[imgPeriod] + imgTail;
  };
  imgWindow.document.write(theListDom);
}
&lt;/script&gt;
===========================
<br>

<h2>History go() Method()</h2>
&lt;button onclick="goBack()">Go Back 2 Pages</button>

function goBack() {
  window.history.go(-2);
}

Go forward one page (This example will not work if the next page does not exist in the history list):

window.history.go(1);

<h2>history.back()</h2>

&lt;script&gt;
$(document).ready(function(){
    $('.keys').click(function(){
    parent.history.back();
    return false;
    });
});
&lt;/script&gt;
===========================
<br>

<h2>$("#codelist").load("HKCodelist.txt")</h2>

$(document).ready(function(){
//    $("#codelist").load("HKCodelist.txt");
	thisImgHead = "&lt;img src='http://charts.aastocks.com/servlet/Charts?fontsize=12&15MinDelay=F&lang=1&titlestyle=1&vol=1&Indicator=9&indpara1=20&indpara2=2&indpara3=0&indpara4=0&indpara5=0&subChart1=3&ref1para1=5&ref1para2=10&ref1para3=3&subChart2=3&ref2para1=12&ref2para2=26&ref2para3=9&subChart3=12&ref3para1=0&ref3para2=0&ref3para3=0&scheme=3&com=100&chartwidth=580&chartheight=400&stockid=";
	thisImgPCode= "&period=7";
	thisImgTail="&type=1&logoStyle=1' ";
		$.get('5FC.txt', function (d) {
	    var theList = d.split(',');
		$( "#codelist" ).append("Total: " + theList.length + "&lt;br&gt;");
				for( var codeNo = 0; codeNo &lt; theList.length; codeNo++){
					theText = theList[codeNo];
			theFunccode = thisImgHead + theText + thisImgPCode + thisImgTail + "onclick = \"sCt('" + theText + "')\"&gt;";
			$( "#codelist" ).append( theFunccode);
		};
	});

});
===========================
<br>

<h2>function chkKey()</h2>

Note: the id tag cannot be located inside b, should be p or div
function chkKey() {
  var testkey = getChar(event);
  if(testkey == '9'){
    sCt(992);
  }
  if(testkey == 'h'){
    sCt(110000);
  }
  if(testkey == 'a'){
    sCt("000001.sh");
  }
    if(testkey == 'f'){
    window.location = '#stkcodeid';
    $('#stkcode').value ="";
  }
  if(testkey == 'A'){
    window.location = '#Astock';
  }
}
===========================
<br>

<h2>function getChar(event) </h2>

function getChar(event) {
  if (event.which!=0 && event.charCode!=0) {
    return String.fromCharCode(event.which)   // the rest
  } else {
    return null // special key
  }
}

function openHtml(){
  console.log( "keypress: " + $(this).value );
};
&lt;/script&gt;
&lt;body onkeypress="chkKey()"&gt;
&lt;!--&lt;body onload="loadfile()"&gt;--&gt;
===========================
<br>

<h2><span class="red redbs">Go Bottom</span></h2>

&lt;b class="left" onclick="window.scrollTo(0,document.body.scrollHeight);"&gt;Go Bottom&lt;/b&gt; | 
&lt;div id ="codelist"&gt;&lt;/div&gt;

Scroll to Top:
window.scrollTo(0,0);
===========================
<br>

<h2>HTML DOM scrollTop Property</h2>
The scrollTop property
sets
or returns
the number of pixels an element's content is scrolled vertically.

Example
Get the number of pixels the content of a &lt;div> element is scrolled horizontally and vertically:

var elmnt = document.getElementById("myDIV");
var x = elmnt.scrollLeft;
var y = elmnt.scrollTop;

Note: this is only a property, not a method, it won't move, 
and the return value is just one interger, showing the scrolled distance, and if the previous action did not scrolled, the distance is zero.

<h2>HTML DOM scrollIntoView Method</h2>
Example
Scroll the element with id="content" into the visible area of the browser window:

var elmnt = document.getElementById("content");
elmnt.scrollIntoView();

===========================

<h2>auto scroll page </h2>
$("html, body").animate({ scrollTop: $(document).height() }, 3000000);

divtoc = document.getElementById("stkChart");
$('body,html').animate({scrollTop:(divtoc.clientHeight + divtoc.offsetTop-1480)}, 1);

$( "#book" ).animate({
  width: [ "toggle", "swing" ],
  height: [ "toggle", "swing" ],
  opacity: "toggle"
}, 5000, "linear", function() {
  $( this ).after( "Animation complete." );
});

==========
<h2>The animate() method</h2>
(selector).animate({styles},speed,easing,callback)

The animate() method performs a custom animation of a set of CSS properties.
$("#box").animate({height: "300px"});

$( "p" ).animate({
  height: 200, 
  width: 400, 
  opacity: 0.5
}, 1000, "linear", function() { alert( "all done" );
});

Alternate Syntax
(selector).animate({styles},{options})

========
Parameter	Description
styles	Required. 
Specifies one or more CSS properties/values to animate.
Note: 
The property names must be camel-cased when used with the animate() method: You will need to write paddingLeft instead of padding-left, marginRight instead of margin-right, and so on.

Most properties that are non-numeric cannot be animated using basic jQuery functionality

For example, width, height, or left can be animated but background-color cannot be, unless the jQuery.Color plugin is used. 
Property values are treated as a number of pixels unless otherwise specified. The units em and % can be specified where applicable.

Only numeric values can be animated (like "margin:30px"). 
String values cannot be animated (like "background-color:red"), 
except for the strings "show", "hide" and "toggle". 
These values allow hiding and showing the animated element.

========
Properties that can be animated:
backgroundPositionX, backgroundPositionY, borderWidth, borderBottomWidth, borderLeftWidth, borderRightWidth, borderTopWidth, borderSpacing, margin, marginBottom, marginLeft, marginRight, marginTop, opacity, outlineWidth, padding, paddingBottom, paddingLeft, paddingRight, paddingTop, height, width, maxHeight, maxWidth, minHeight, minWidth, fontSize, bottom, left, right, top, letterSpacing, wordSpacing, lineHeight, textIndent

========
speed	Optional. 
Specifies the speed of the animation. Default value is 400 milliseconds

Possible values: milliseconds (like 100, 1000, 5000, etc), "slow", "fast"
========
easing	Optional. 
Specifies the speed of the element in different points of the animation. Default value is "swing". 
Possible values:
"swing" - moves slower at the beginning/end, but faster in the middle
"linear" - moves in a constant speed

Tip: More easing functions are available in external plugins.
========
callback	Optional. 
A function to be executed after the animation completes.

========
Alternate Syntax
options	Optional. 
Specifies additional options for the animation. 

Possible values:
duration	the speed of the animation
easing	the easing function to use
complete	a function to be executed after the animation completes
step		a function to be executed for each step in the animation
progress	a function to be executed after each step in the animation
queue	a Boolean value specifying whether or not to place the animation in the effects queue
specialEasing	a map of one or more CSS properties from the styles parameter, and their corresponding easing functions
start	a function to be executed when the animation begins
done		a function to be executed when the animation ends
fail		a function to be executed if the animation fails to complete
always	a function to be executed if the animation stops without completing

==========
<h2>window.scrollBy(0,1);</h2>
scrolldelay = setTimeout(pageScroll,5);

==========


<h2>Select file</h2>

&lt;html&gt;
    &lt;head&gt;
        &lt;script type="text/javascript"&gt;
            function alertFilename()
            {
                var thefile = document.getElementById('thefile');
                alert(thefile.value);
            }
        &lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;form&gt;
            &lt;input type="file" id="thefile" onchange="alertFilename()" /&gt;
            &lt;input type="button" onclick="alertFilename()" value="alert" /&gt;
        &lt;/form&gt;
    &lt;/body&gt;
&lt;/html&gt;
===========================
<br>

<h2>input</h2>

&lt;input 
type="submit" 
name="Button1" 
value="查詢過往資料(SEARCH)" 
onclick="if (typeof(Page_ClientValidate) == 'function') Page_ClientValidate(); " 
language="javascript" 
id="Button1" 
class="b"&gt;

===========================
<br>

<h2>JSON</h2>

var json = '{"result":true,"count":1}',
    obj = JSON.parse(theUrl);
JSON.parse(theUrl);
or
jQuery.getJSON():

data = '[{"name" : "Ashwin", "age" : "20"},{"name" : "Abhinandan", "age" : "20"}]';
Mention the path of the json file in the script source along with the javascript file.
&lt;script type="text/javascript" src="data.json"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="javascrip.js"&gt;&lt;/script&gt;
Get the Object from the json file
var mydata = JSON.parse(data);
alert(mydata[0].name);
alert(mydata[0].age);
alert(mydata[1].name);
alert(mydata[1].age);

to store data in jquery, data = [] and update later

===========================
<br>

<h2>Detecting double-press of a key</h2>

&lt;head&gt;
&lt;script type="text/javascript"&gt;
function checkspace(event){if (window.event.keyCode == 32) alert('Stop that!');}
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;BODY onKeydown="checkspace()"&gt;
Replace alert with whatever it is you want it to do.
Then you could do a counter function that increments by 100 every 100ms, and do an if
var keypresses = 0;
var counter = 0;
startcouting();
if(event.keyCode == 32){
keypresses += 1;
}
if(keypresses == 2 && counter &lt;= 500){ 
do something;
reset the counter;
}

===========================
<br>

<h2>Detecting key press</h2>

https://stackoverflow.com/questions/19502155/detecting-multiple-key-press-in-javascript
Detecting multiple key press in javascript
https://stackoverflow.com/questions/5203407/javascript-multiple-keys-pressed-at-once
JavaScript multiple keys pressed at once
The simplest way to find out whether the ctrl is pressed, is to test the event object for the ctrlKey property:
$(document).keypress(function(e){
    console.log(e.which, e.ctrlKey);
});
===========================
<br>

<h2>button onclick open programs</h2>

&lt;button onclick="window.open('file:///C:/Windows/notepad.exe')"&gt;
    Launch notepad
&lt;/button&gt;
===========================
<br>

<h2>wechatQrcode</h2>

&lt;script type="text/javascript" src="js/jquery-1.11.3.min.js" charset="utf-8"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="js/jquery-migrate-1.2.1.min.js" charset="utf-8"&gt;&lt;/script&gt;
&lt;script src="js/jquery.share.min.js?ver=1.1" type="text/javascript"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
    $(function(){
        var $config = {
            url: 'http://sign.hknt.hk/',
            sites: ['facebook', 'wechat', 'twitter'],
            wechatQrcodeTitle: '微信掃一掃',
            wechatQrcodeHelper: '&lt;p&gt;將活動地址分享到朋友圈&lt;/p&gt;'
        };
                if (/MicroMessenger/i.test(navigator.userAgent)) {
            $config.wechatQrcodeTitle = 'QR Code';
            $config.wechatQrcodeHelper = '&lt;p&gt;長按 QR Code 識別&lt;/p&gt;';
        }
        $('#social-share').share($config);
                var mask = $('#share-mask');
        $('#social-share').children('a').on('click',function(e){
            if(/MicroMessenger/i.test(navigator.userAgent) && (this.className.indexOf('icon-whatsapp') != -1)){
                e.preventDefault();
                mask.show().on('click',function mehide(){
                    $(this).hide().off('click',mehide);       
                });
            }
        });

    var titlediv = $('#title-div'),
      chart = $('.chart-num').children('span');
            $.ajax({
        url: 'get_data.php',
        type: 'get',
        dataType: 'json',
        success: function(data){
          titlediv.children('span').each(function(i){
            switch(i){
              case 0: this.innerText = data['end_date'][1];break;
              case 1: this.innerText = data['end_date'][2];break;
              case 2: this.innerText = data['end_time'][0];break;
              case 3: this.innerText = data['total'];break;
            }
          });
          chart.each(function(i){
            switch(i){
              case 0: this.innerText = data['sector_1']; break;
              case 1: this.innerText = data['sector_2']; break;
              case 2: this.innerText = data['sector_0']; break;
            }
          });
        },
        error: function(err){
          console.log('err',err);
        }
      });
    });
&lt;/script&gt;
===========================
<br>

<h2>chkKey()</h2>

&lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
function chkKey() {
  var testkey = getChar(event);
  if(testkey == 'n'){
    window.location = '#xinwen';
  }
}
function getChar(event) {
  if(testkey == 'y'){
    window.open("http://www.youtube.com");
  }
  if (event.which!=0 && event.charCode!=0) {
    return String.fromCharCode(event.which)   // the rest
  } else {
    return null // special key
  }
}
&lt;/script&gt;
===========================
<br>

<h2>sCt(stkcode)</h2>

&lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"&gt;&lt;/script&gt;
&lt;body onkeypress="chkKey()"&gt;
&lt;script&gt;
function sCt(stkcode) {
  imgHead = "&lt;img src='http://charts.aastocks.com/servlet/Charts?fontsize=12&15MinDelay=F&lang=1&titlestyle=1&vol=1&Indicator=9&indpara1=20&indpara2=2&indpara3=0&indpara4=0&indpara5=0&subChart1=3&ref1para1=5&ref1para2=10&ref1para3=3&subChart2=3&ref2para1=12&ref2para2=26&ref2para3=9&subChart3=12&ref3para1=0&ref3para2=0&ref3para3=0&scheme=3&com=100&chartwidth=1150&chartheight=690&stockid=";
  imgPCode= "&period=";
  imgTail="&type=1&logoStyle=1'&gt;&lt;br&gt;&lt;br&gt;";
    intv = [4, 3, 2, 1, 5012, 5007, 5000, 7, 11];
  var imgWindow = window.open("");
  imgAdr ='&lt;meta http-equiv="refresh" content="60"&gt;&lt;br&gt;'
  for( var imgPeriod = 0; imgPeriod &lt; intv.length; imgPeriod++){
    imgAdr = imgAdr + imgHead + stkcode + imgPCode + intv[imgPeriod] + imgTail;
  };
  imgWindow.document.write(imgAdr);
}
&lt;/script&gt;
&lt;script&gt;
$(document).ready(function(){
    $('.keys').click(function(){
    parent.history.back();
    return false;
    });
});
function chkKey() {
  var testkey = getChar(event);
  if(testkey == 'f'){
    window.location = '#stkcodeid';
    $('#stkcode').value ="";
  }
  if(testkey == 'A'){
    window.location = '#Astock';
  }
}
function getChar(event) {
  if (event.which!=0 && event.charCode!=0) {
    return String.fromCharCode(event.which)   // the rest
  } else {
    return null // special key
  }
}

function openHtml(){
  console.log( "keypress: " + $(this).value );
};
&lt;/script&gt;
&lt;b class="left" onclick="window.scrollTo(0,document.body.scrollHeight);"&gt;Go Bottom&lt;/b&gt; | 
&lt;b onclick=sCt("02823")&gt;02823&lt;/b&gt; | 

===========================

<h2>get radio elements value and compare</h2>
var submitAnswer = function() {
  var radios = document.getElementsByName('choice');
  var val= "";
  for (var i = 0, length = radios.length; i &lt; length; i++) {
      if (radios[i].checked) { val = radios[i].value; break; }
  }

  if (val == "" ) { alert('please select choice answer'); }
  else if ( val == "Scripting" ) { alert('Answer is correct !'); }
  else { alert('Answer is wrong'); }
};

&lt;h1&gt;JavaScript is ______ Language.&lt;/h1&gt;&lt;br&gt;
&lt;form &gt;
&lt;input type="radio" name="choice" value="Scripting"&gt; Scripting
&lt;input type="radio" name="choice" value="Programming"&gt; Programming
&lt;input type="radio" name="choice" value="Application"&gt; Application
&lt;input type="radio" name="choice" value="None of These"&gt; None of These
&lt;/form&gt;
&lt;button onclick="submitAnswer()"&gt;Submit Answer&lt;/button&gt;
===========================
<br>

<h2>access object</h2>
const data = {
  code: 42, 
  items: [{ id: 1, name: 'foo' }, 
          { id: 2, name: 'bar' }]
};
console.log(data.items);
console.log(data.items[0]);
console.log(data.items[1]);
console.log(data.items[0].name);
console.log(data.items[0].id);
===========================
<h2>This is the create TOC improved version</h2>
$(function() {
  var toc = $('#toc');
  $('h2').each(function(i) {
    var topic = $(this), topicNum = i + 1;
    toc.append('&lt;a href="#topic-' + topicNum + '" target="_self"&gt;' + topic.text() + '&lt;/a&gt;&lt;br&gt;');
    topic.attr('id', 'topic-' + topicNum);
  });
});
===========================
<h2>jQuery Manipulating CSS</h2>

addClass() - Adds one or more classes to the selected elements
removeClass() - Removes one or more classes from the selected elements
toggleClass() - Toggles between adding/removing classes
css() - Sets or returns the style attribute

$("button").click(function(){
  $("h1, h2, p").addClass("blue");
  $("div").addClass("important");
});

<h2>jQuery addClass() Method</h2>
Add a class name to the first p element:

$("button").click(function(){
  $("p:first").addClass("intro");
});

Tip: To add more than one class, separate the class names with spaces.
$(selector).addClass(classname,function(index,currentclass))

<h2>changesize(newFontSize)</h2>
function changesize(newFontSize) {
  var currentFontSize = getCookie("fontsize");
  if (newFontSize != currentFontSize) {
    $("html").addClass(newFontSize);
    $("#fontsize" + newFontSize).addClass("selected");
    if (currentFontSize != "") {
      $("html").removeClass(currentFontSize);
      $("#fontsize" + currentFontSize).removeClass("selected");
    }
    setCookie("fontsize", newFontSize);
  }
}
===========================
<h2>Cookies</h2>
Cookies are saved in name-value pairs like:
username = John Doe

Create a Cookie with JavaScript
document.cookie = "username=John Doe";

add an expiry date.
By default, the cookie is deleted when the browser is closed.
document.cookie = "username=John Doe; expires=Thu, 18 Dec 2013 12:00:00 UTC";

Tell the browser what path the cookie belongs to with a path parameter.
By default, the cookie belongs to the current page.

document.cookie = "username=John Doe; expires=Thu, 18 Dec 2013 12:00:00 UTC; path=/";

Read a Cookie with JavaScript
var x = document.cookie;

will return all cookies in one string much like: cookie1=value; cookie2=value; cookie3=value;

Delete a Cookie with JavaScript
Just set the expires parameter to a passed date

document.cookie = "username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";

The Cookie String
The document.cookie property looks like a normal text string. But it is not.

Even if you write a whole cookie string to document.cookie, when you read it out again, you can only see the name-value pair of it.

If you set a new cookie, older cookies are not overwritten. 
The new cookie is added to document.cookie, so if you read document.cookie again you will get something like:

cookie1 = value; cookie2 = value;

<h2>A Function to Set a Cookie</h2>
First, we create a function that stores the name of the visitor in a cookie variable:

Example
function setCookie(cname, cvalue, exdays) {
  var d = new Date();
  d.setTime(d.getTime() + (exdays*24*60*60*1000));
  var expires = "expires="+ d.toUTCString();
  document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}

<h2>A Function to Get a Cookie</h2>
Then, we create a function that returns the value of a specified cookie:

Example
function getCookie(cname) {
  var name = cname + "=";
  var decodedCookie = decodeURIComponent(document.cookie);
  var ca = decodedCookie.split(';');
  for(var i = 0; i < ca.length; i++) {
    var c = ca[i];
    while (c.charAt(0) == ' ') { c = c.substring(1); }
    if (c.indexOf(name) == 0){ return c.substring(name.length, c.length);}
  }
  return "";
}

<h2>A Function to Check a Cookie</h2>
checks if a cookie is set.

If the cookie is set it will display a greeting.
If the cookie is not set, it will display a prompt box, asking for the name of the user, and stores the username cookie for 365 days, by calling the setCookie function:

Example
function checkCookie() {
  var username = getCookie("username");
  if (username != "") { alert("Welcome again " + username);
  } else {
    username = prompt("Please enter your name:", "");
    if (username != "" && username != null) {
      setCookie("username", username, 365);
    }
  }
}


===========================

<h2>javascript:void(0) 含义</h2>

javascript:void(0) 中最关键的是 void 关键字， void 是 JavaScript 中非常重要的关键字，该操作符指定要计算一个表达式但是不返回值。
实例
&lt;a href="javascript:void(0)"&gt;单击此处什么也不会发生&lt;/a&gt;
href="#" 与 href="javascript:void(0)" 的区别
# 包含了一个位置信息，默认的锚是#top 也就是网页的上端。
而javascript:void(0), 仅仅表示一个死链接。
在页面很长的时候会使用 # 来定位页面的具体位置，格式为：# + id。
如果你要定义一个死链接请使用 javascript:void(0) 。
实例
&lt;a href="javascript:void(0);"&gt;点我没有反应的!&lt;/a&gt;
&lt;a href="#pos"&gt;点我定位到指定位置!&lt;/a&gt;
&lt;br&gt;
...
&lt;br&gt;
&lt;p id="pos"&gt;尾部定位点&lt;/p&gt;
===========================
<br>

<h2>href="#"</h2>
A hash - # within a hyperlink specifies an html element id to which the window should be scrolled.

Scroll to Top:
href="#" doesn't specify an id name, but does have a corresponding location - the top of the page.
Clicking an anchor with href="#" will move the scroll position to the top.

&lt;a href="#" onclick="fn()"&gt;click here&lt;/a&gt;
you will jump to the top and the URL will have the anchor # as well, to avoid this we simply return false; or use javascript:void(0);
regarding your examples
&lt;a onclick="fn()"&gt;Does not appear as a link, because there's no href&lt;/a&gt;
just do a {text-decoration:underline;} and you will have "link a-like"
&lt;a href="javascript:void(0)" onclick="fn()"&gt;fn is called&lt;/a&gt;
&lt;a href="javascript:" onclick="fn()"&gt;fn is called too!&lt;/a&gt;
it's ok, but in your function at the end, just return false; to prevent the default behavior, you don't need to do anything more.

Link to an email address:
&lt;a href="mailto:someone@example.com">Send email&lt;/a>

Link to a phone number:
&lt;a href="tel:+4733378901">+47 333 78 901&lt;/a>

Link to another section on the same page:
&lt;a href="#section2">Go to Section 2&lt;/a>

Link to a JavaScript:
&lt;a href="javascript:alert('Hello World!');">Execute JavaScript&lt;/a>

===========================
<br>

<h2>Jquery If This Contains</h2>

<br>
<a href="https://stackoverflow.com/questions/14510261/jquery-if-this-contains">Jquery If This Contains</a><br>
<a href="https://stackoverflow.com/questions/16466807/find-element-where-child-items-h2-text-has-a-specific-value">find element where child items h2 text has a specific value</a><br>
<a href="https://api.jquery.com/children/">selecting children sample</a>
<br>
<a href="https://stackoverflow.com/questions/306583/how-to-get-the-children-of-the-this-selector">get the children of the this selector</a><br>

var toc = $('#toc>ul');
toc.append($(".parent").find("p:contains('Statistics')").parent().text())
by javascript:
var myDomElement = document.getElementById( "foo" ); // A plain DOM element.
$( myDomElement ).find( "a" ); // Finds
===========================
Loops: while and for
 let i = 0;
 while (i < 3) { // shows 0, then 1, then 2
  alert( i );
  i++;
}
the shorter way to write while (i != 0) could be while (i):
let i = 3;
while (i) {
  alert( i );
  i--;
}
Brackets are not required for a single-line body
If the loop body has a single statement, we can omit the brackets {…}:
let i = 3;
while (i) alert(i--);
The “do…while” loop
The condition check can be moved below the loop body using the do..while syntax:
do {
  // loop body
} while (condition);
The loop will first execute the body, then check the condition and, while it’s truthy, execute it again and again.
For example:
 let i = 0;
do {
  alert( i );
  i++;
} while (i < 3);
This form of syntax is rarely used except when you want the body of the loop to execute at least once regardless of the condition being truthy. Usually, the other form is preferred: while(…) {…}.
The “for” loop
The for loop is the most often used one.
It looks like this:
for (begin; condition; step) {
  // ... loop body ...
}
Let’s learn the meaning of these parts by example. The loop below runs alert(i) for i from 0 up to (but not including) 3:
 for (let i = 0; i < 3; i++) { // shows 0, then 1, then 2
  alert(i);
}
Let’s examine the for statement part by part:
part		
begin	i = 0	Executes once upon entering the loop.
condition	i < 3	Checked before every loop iteration, if fails the loop stops.
step	i++	Executes after the body on each iteration, but before the condition check.
body	alert(i)	Runs again and again while the condition is truthy
The general loop algorithm works like this:
Run begin
→ (if condition → run body and run step)
→ (if condition → run body and run step)
→ (if condition → run body and run step)
→ ...
If you are new to loops, then maybe it would help if you go back to the example and reproduce how it runs step-by-step on a piece of paper.
Here’s what exactly happens in our case:
// for (let i = 0; i < 3; i++) alert(i)
// run begin
let i = 0
// if condition → run body and run step
if (i < 3) { alert(i); i++ }
// if condition → run body and run step
if (i < 3) { alert(i); i++ }
// if condition → run body and run step
if (i < 3) { alert(i); i++ }
// ...finish, because now i == 3
Inline variable declaration
Here the “counter” variable i is declared right in the loop. That’s called an “inline” variable declaration. Such variables are visible only inside the loop.
         for (let i = 0; i < 3; i++) {
  alert(i); // 0, 1, 2
}
alert(i); // error, no such variable
Instead of defining a variable, we can use an existing one:
 let i = 0;
 for (i = 0; i < 3; i++) { // use an existing variable
  alert(i); // 0, 1, 2
}
alert(i); // 3, visible, because declared outside of the loop
Skipping parts
Any part of for can be skipped.
For example, we can omit begin if we don’t need to do anything at the loop start.
Like here:
 let i = 0; // we have i already declared and assigned
 for (; i < 3; i++) { // no need for "begin"
  alert( i ); // 0, 1, 2
}
We can also remove the step part:
 let i = 0;
 for (; i < 3;) {
  alert( i++ );
}
The loop became identical to while (i < 3).
We can actually remove everything, thus creating an infinite loop:
for (;;) {
  // repeats without limits
}
Please note that the two for semicolons ; must be present, otherwise it would be a syntax error.
Breaking the loop
Normally the loop exits when the condition becomes falsy.
But we can force the exit at any moment. There’s a special break directive for that.
For example, the loop below asks the user for a series of numbers, but “breaks” when no number is entered:
let sum = 0;
while (true) {
  let value = +prompt("Enter a number", '');
    if (!value) break; // (*)
    sum += value;
}
alert( 'Sum: ' + sum );
The break directive is activated in the line (*) if the user enters an empty line or cancels the input. It stops the loop immediately, passing the control to the first line after the loop. Namely, alert.
The combination “infinite loop + break as needed” is great for situations when the condition must be checked not in the beginning/end of the loop, but in the middle, or even in several places of the body.
Continue to the next iteration
The continue directive is a “lighter version” of break. It doesn’t stop the whole loop. Instead it stops the current iteration and forces the loop to start a new one (if the condition allows).
We can use it if we’re done on the current iteration and would like to move on to the next.
The loop below uses continue to output only odd values:


                           for (let i = 0; i < 10; i++) {
                             // if true, skip the remaining part of the body
  if (i % 2 == 0) continue;
    alert(i); // 1, then 3, 5, 7, 9
}
For even values of i the continue directive stops body execution, passing the control to the next iteration of for (with the next number). So the alert is only called for odd values.
The directive continue helps to decrease nesting level
A loop that shows odd values could look like this:
for (let i = 0; i < 10; i++) {
  if (i % 2) {
    alert( i );
  }
}
From a technical point of view it’s identical to the example above. Surely, we can just wrap the code in the if block instead of continue.
But as a side-effect we got one more figure brackets nesting level. If the code inside if is longer than a few lines, that may decrease the overall readability.
No break/continue to the right side of ‘?’
Please note that syntax constructs that are not expressions cannot be used in '?'. In particular, directives break/continue are disallowed there.
For example, if we take this code:
if (i > 5) {
  alert(i);
} else {
  continue;
}
…And rewrite it using a question mark:
                             (i > 5) ? alert(i) : continue; // continue not allowed here
…Then it stops working. The code like this will give a syntax error:
That’s just another reason not to use a question mark operator '?' instead of if.
Labels for break/continue
Sometimes we need to break out from multiple nested loops at once.
For example, in the code below we loop over i and j prompting for coordinates (i, j) from (0,0) to (3,3):
 for (let i = 0; i < 3; i++) {
   for (let j = 0; j < 3; j++) {
      let input = prompt(`Value at coords (${i},${j})`, '');
        // what if I want to exit from here to Done (below)?
      }
}
alert('Done!');
We need a way to stop the process if the user cancels the input.
The ordinary break after input would only break the inner loop. That’s not sufficient. Labels come to the rescue.
A label is an identifier with a colon before a loop:
labelName: for (...) {
  ...
}
The break &lt;labelName&gt; statement in the loop breaks out to the label.
Like here:
  outer: for (let i = 0; i < 3; i++) {
    for (let j = 0; j < 3; j++) {
      let input = prompt(`Value at coords (${i},${j})`, '');
        // if an empty string or canceled, then break out of both loops
    if (!input) break outer; // (*)
        // do something with the value...
  }
}
alert('Done!');
In the code above break outer looks upwards for the label named outer and breaks out of that loop.
So the control goes straight from (*) to alert('Done!').
We can also move the label onto a separate line:
outer:
for (let i = 0; i < 3; i++) { ... }
The continue directive can also be used with a label. In this case the execution jumps to the next iteration of the labeled loop.
Labels are not a “goto”
Labels do not allow us to jump into an arbitrary place of code.
For example, it is impossible to do this:
break label;  // jumps to label? No.
label: for (...)
The call to a break/continue is only possible from inside the loop, and the label must be somewhere upwards from the directive.
Summary
We covered 3 types of loops:
while – The condition is checked before each iteration.
do..while – The condition is checked after each iteration.
for (;;) – The condition is checked before each iteration, additional settings available.
To make an “infinite” loop, usually the while(true) construct is used. Such a loop, just like any other, can be stopped with the break directive.
If we don’t want to do anything on the current iteration and would like to forward to the next one, the continue directive does it.
Break/continue support labels before the loop. A label is the only way for break/continue to escape the nesting and go to the outer loop.
Tasks
Last loop value
importance: 3
What is the last value alerted by this code? Why?
let i = 3;
while (i) {
  alert( i-- );
}
solution
Which values shows the while?
importance: 4
For every loop, write down which values it shows, in your opinion. And then compare with the answer.
Both loops alert same values or not?
The prefix form ++i:
let i = 0;
while (++i < 5) alert( i );
The postfix form i++
let i = 0;
while (i++ < 5) alert( i );
solution
Which values get shown by the "for" loop?
importance: 4
For each loop write down which values it is going to show. Then compare with the answer.
Both loops alert same values or not?
The postfix form:
for (let i = 0; i < 5; i++) alert( i );
The prefix form:
for (let i = 0; i < 5; ++i) alert( i );
solution
Output even numbers in the loop
importance: 5
Use the for loop to output even numbers from 2 to 10.
Run the demo
solution
Replace "for" with "while"
importance: 5
Rewrite the code changing the for loop to while without altering its behavior (the output should stay same).
 for (let i = 0; i < 3; i++) {
  alert( `number ${i}!` );
}
solution
Repeat until the input is correct
importance: 5
Write a loop which prompts for a number greater than 100. If the visitor enters another number – ask him to input again.
The loop must ask for a number until either the visitor enters a number greater than 100 or cancels the input/enters an empty line.
Here we can assume that the visitor only inputs numbers. There’s no need to implement a special handling for a non-numeric input in this task.
Run the demo
solution
Output prime numbers
importance: 3
An integer number greater than 1 is called a prime if it cannot be divided without a remainder by anything except 1 and itself.
In other words, n > 1 is a prime if it can’t be evenly divided by anything except 1 and n.
For example, 5 is a prime, because it cannot be divided without a remainder by 2, 3 and 4.
Write the code which outputs prime numbers in the interval from 2 to n.
For n = 10 the result will be 2,3,5,7.
P.S. The code should work for any n, not be hard-tuned for any fixed value.


===========================
<br>

<h2>android javascript tts</h2>

var msg = new SpeechSynthesisUtterance('Hello World');<br>
window.speechSynthesis.speak(msg);<br>
===========================
<br>

<h2>Google Maps in HTML</h2>

<a href="https://www.w3schools.com/graphics/tryit.asp?filename=trymap_intro">Google Maps in HTML</a>
<br>
&lt;html&gt;
&lt;body&gt;
&lt;div id="googleMap" style="width:100%;height:400px;"&gt;&lt;/div&gt;
&lt;script&gt;
function myMap() {
var mapProp= { center:new google.maps.LatLng(51.508742,-0.120850), zoom:5,};
var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);}
&lt;/script&gt;
&lt;script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBu-916DdpKAjTmJNIgngS6HL_kDIKU0aU&callback=myMap"&gt;
&lt;/script&gt;
&lt;!--
To use this code on your website, get a free API key from Google.
Read more at: https://www.w3schools.com/graphics/google_maps_basic.asp
--&gt;
&lt;/body&gt;
&lt;/html&gt;

<h2>JavaScript examples</h2>
JavaScript can change HTML content.
&lt;button type="button" onclick='document.getElementById("demo").innerHTML = "Hello JavaScript!"'&gt;Click Me!&lt;/button&gt;

JavaScript can change HTML attributes.
&lt;button onclick="document.getElementById('myImage').src='pic_bulbon.gif'"&gt;Turn on the light&lt;/button&gt;
&lt;img id="myImage" src="pic_bulboff.gif" style="width:100px"&gt;
&lt;button onclick="document.getElementById('myImage').src='pic_bulboff.gif'"&gt;Turn off the light&lt;/button&gt;


JavaScript can change the style of an HTML element.
&lt;button type="button" onclick="document.getElementById('demo').style.fontSize='35px'"&gt;Click Me!&lt;/button&gt;

JavaScript can hide HTML elements.
&lt;button type="button" onclick="document.getElementById('demo').style.display='none'"&gt;Click Me!&lt;/button&gt;

JavaScript can show hidden HTML elements.
&lt;button type="button" onclick="document.getElementById('demo').style.display='block'"&gt;Click Me!&lt;/button&gt;

Writing into an window alert box
window.alert(5 + 6);

Writing into the HTML output
document.write(5 + 6);

Writing into an HTML element
document.getElementById("demo").innerHTML = 5 + 6;

Writing into the browser console
console.log(5 + 6);

JavaScript in &lt;head&gt;
&lt;script&gt;
    document.getElementById("demo").innerHTML = "Paragraph changed.";
&lt;/script&gt;

JavaScript in &lt;body&gt;
&lt;script&gt;
    document.getElementById("demo").innerHTML = "Paragraph changed.";
&lt;/script&gt;

JavaScript in an external file
&lt;script src="myScript.js"&gt;&lt;/script&gt;

External JavaScript Advantages:
separates HTML and code, 
makes HTML and JavaScript easier to read and maintain,
Cached JavaScript files can speed up page loads.

JavaScript Statements
A JavaScript program is a list of statements to be executed by a computer.
var x, y, z;  // Declare 3 variables
x = 5;        // Assign the value 5 to x
y = 6;        // Assign the value 6 to y
z = x + y;    // Assign the sum of x and y to z

document.getElementById("demo").innerHTML = "The value of z is " + z + ".";

JavaScript Numbers
document.getElementById("demo").innerHTML = 10.50;

JavaScript strings
Strings can be written with double or single quotes.
document.getElementById("demo").innerHTML = 'John Doe';

JavaScript expressions
Expressions compute to values.
document.getElementById("demo").innerHTML = 5 * 10;

JavaScript keywords
The var Keyword Creates Variables
var x, y;

JavaScript variables
var x;
x = 6;

JavaScript assignment
the = operator is used to assign values to variables.
x = 5;

JavaScript operators
use arithmetic operators to compute values (just like algebra).
document.getElementById("demo").innerHTML = (5 + 6) * 10;

JavaScript comments
JavaScript Comments are NOT Executed
// x = 6; I will not be executed

JavaScript is case sensitive
lastName = "Doe";
lastname = "Peterson";

JavaScript statements are commands to the browser
In HTML, JavaScript statements are executed by the browser.

JavaScript code is a sequence of statements
A JavaScript program is a list of statements to be executed by a computer.
JavaScript statements are separated with semicolon
JavaScript statements are separated by semicolons.

Multiple statements on one line is allowed.
a = 1; b = 2; c = a + b;

JavaScript statements can be grouped together in code blocks
JavaScript code blocks are written between { and }
function myFunction() {
    document.getElementById("demo1").innerHTML = "Hello Dolly!";
    document.getElementById("demo2").innerHTML = "How are you?";
}
You can break a code line after an operator or a comma.

The best place to break a code line is after an operator or a comma.
document.getElementById("demo").innerHTML =
"Hello Dolly!";

Single line comments
// Change heading:
Single line comments at the end of a line
var x = 5;      // Declare x, give it the value of 5
Multiple lines comments
/*
The code below will change the heading with id = "myH"
and the paragraph with id = "myp" in my web page:
*/
Single line comment to prevent execution
//document.getElementById("myH").innerHTML = "My First Page";
Multiple lines comment to prevent execution
/*
document.getElementById("myH").innerHTML = "Welcome to my Homepage";
document.getElementById("myP").innerHTML = "This is my first paragraph.";
*/

JavaScript variables as algebra
var total = price1 + price2;

JavaScript numbers and strings
Strings are written with quotes.
Numbers are written without quotes.
Declaring many variables in one statement
You can declare many variables in one statement.
var person = "John Doe", carName = "Volvo", price = 200;

Declaring many variables multiline
var person = "John Doe",
carName = "Volvo",
price = 200;

A variable without a value returns the value undefined
var carName;
Re-declaring a variable will not destroy the value
var carName = "Volvo";
var carName;

Adding JavaScript numbers
var x = 5 + 2 + 3;
Adding JavaScript strings
var x = "John" + " " + "Doe";

Adding strings and numbers gives string
x = "5" + 2 + 3;

The modulus (%) operator
var z = x % y;
The increment (++) operator
increment
The decrement (--) operator

decrement
The = assignment operator
var x = 10;
The += assignment operator
var x = 10;
x += 5; // = 15
The -= assignment operator
var x = 10;
x -= 5; // = 5
The *= assignment operator
var x = 10;
x *= 5; // = 50
The /= assignment operator
var x = 10;
x /= 5; // = 2
The %= assignment operator
var x = 10;
x %= 5; // = 0

Adding two strings together using the concatenating (+) operator
var txt1 = "What a very";
var txt2 = "nice day";
document.getElementById("demo").innerHTML = txt1 + txt2;

Adding two strings together using using the += operator
txt1 = "What a very ";
txt1 += "nice day";
document.getElementById("demo").innerHTML = txt1;

Adding strings and numbers
var x = 5 + 5;
var y = "5" + 5;
var z = "Hello" + 5;
document.getElementById("demo").innerHTML =
x + "&lt;br&gt;" + y + "&lt;br&gt;" + z;

Declare (create) strings
var answer1 = "It's alright";
var answer2 = "He is called 'Johnny'";
var answer3 = 'He is called "Johnny"';
document.getElementById("demo").innerHTML =
answer1 + "&lt;br&gt;" + 
answer2 + "&lt;br&gt;" + 
answer3;

Declare (create) numbers
var x1 = 34.00;
var x2 = 34;
var x3 = 3.14;
document.getElementById("demo").innerHTML =
x1 + "&lt;br&gt;" + x2 + "&lt;br&gt;" + x3;
Declare (create) an array
var cars = ["Saab","Volvo","BMW"];
document.getElementById("demo").innerHTML = cars[0];

Declare (create) an object
var person = {
    firstName : "John",
    lastName  : "Doe",
    age       : 50,
    eyeColor  : "blue"
};
document.getElementById("demo").innerHTML =
person.firstName + " is " + person.age + " years old.";

Find the type of a variable
document.getElementById("demo").innerHTML = 
typeof "" + "&lt;br&gt;" +
typeof "John" + "&lt;br&gt;" + 
typeof "John Doe" + "&lt;br&gt;" +
typeof 0 + "&lt;br&gt;" +
typeof 314 + "&lt;br&gt;" +
typeof 3.14 + "&lt;br&gt;" +
typeof (3.14);

Adding two numbers and a string
var x = 16 + 4 + "Volvo";
document.getElementById("demo").innerHTML = x;

Adding a string and two numbers
var x = "Volvo" + 16 + 4;
document.getElementById("demo").innerHTML = x;
An undefined variable
The value (and the data type) of a variable with no value is undefined.
var car;
document.getElementById("demo").innerHTML =
car + "&lt;br&gt;" + typeof car;

An empty variable
var car = "";
document.getElementById("demo").innerHTML =
"The value is: " +
car + "&lt;br&gt;" +
"The type is: " + typeof car;
Create a JavaScript variable
var car = "Fiat";
document.getElementById("demo").innerHTML = car;
Create a JavaScript object
var car = {type:"Fiat", model:"500", color:"white"};
document.getElementById("demo").innerHTML = car.type;
Create a person object (single line)
var person = {firstName:"John", lastName:"Doe", age:50, eyeColor:"blue"};
document.getElementById("demo").innerHTML =  person.firstName + " is " + person.age + " years old.";
Create a person object (multiple lines)
var person = {
    firstName : "John",
    lastName  : "Doe",
    age       : 50,
    eyeColor  : "blue"
};
document.getElementById("demo").innerHTML = person.firstName + " is " + person.age + " years old.";

Access object properties using .property
var person = { firstName: "John", lastName : "Doe", id:  5566};
document.getElementById("demo").innerHTML = person.firstName + " " + person.lastName;

Access object properties using [property]
var person = {
    firstName: "John",
    lastName : "Doe",
    id       :  5566
};
document.getElementById("demo").innerHTML = person["firstName"] + " " + person["lastName"];
Access a function property as a method
var person = {
    firstName: "John",
    lastName : "Doe",
    id       : 5566,
    fullName : function() {
       return this.firstName + " " + this.lastName;
    }
};
document.getElementById("demo").innerHTML = person.fullName();
Access a function property as a property
var person = { firstName: "John", lastName : "Doe", id : 5566, fullName : function() { return this.firstName + " " + this.lastName; }};
document.getElementById("demo").innerHTML = person.fullName;

A simple function
function myFunction() { document.getElementById("demo").innerHTML = "Hello World!";}
A function with an argument
function myFunction(name,job) { document.getElementById("demo").innerHTML = "Welcome " + name + ", the " + job + ".";}
A function with an argument 2
function myfunction(txt) { document.getElementById("demo").innerHTML = txt} 
A function that returns a value
var x = myFunction(4, 3);
document.getElementById("demo").innerHTML = x;
function myFunction(a, b) {    return a * b;}
A function that converts Fahrenheit to Celsius
function toCelsius(f) { return (5/9) * (f-32);}
document.getElementById("demo").innerHTML = toCelsius(77);
A function call without ()
function toCelsius(f) {    return (5/9) * (f-32);}
document.getElementById("demo").innerHTML = toCelsius;

An onclick event changes an HTML element
&lt;button onclick="document.getElementById('demo').innerHTML=Date()"&gt;The time is?&lt;/button&gt;
An onclick event changes its own element
&lt;button onclick="this.innerHTML=Date()"&gt;The time is?&lt;/button&gt;
An onclick event calls a function
&lt;button onclick="displayDate()"&gt;The time is?&lt;/button&gt;
function displayDate() {
    document.getElementById("demo").innerHTML = Date();
}
Backslash before quotes accepts quotes as quotes.
&lt;script&gt;
var x = 'It\'s alright';
var y = "We are the so-called \"Vikings\" from the north.";
document.getElementById("demo").innerHTML = x + "&lt;br&gt;" + y; 
&lt;/script&gt;
Find the length of a string
var txt = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
document.getElementById("demo").innerHTML = txt.length;

You can break text string with a backslash.
document.getElementById("demo").innerHTML = "Hello \
Dolly!";
You cannot break code with a backslash.
document.getElementById("demo").innerHTML = \
"Hello Dolly.";
Find the position of the first occurrence of a text in a string - indexOf()
var str = "Please locate where 'locate' occurs!";
var pos = str.indexOf("locate");
document.getElementById("demo").innerHTML = pos;
Search for a text in a string and return the text if found - match()
    var str = "The rain in SPAIN stays mainly in the plain"; 
    var res = str.match(/ain/g);
    document.getElementById("demo").innerHTML = res;
    Replace characters in a string - replace()
    var str = document.getElementById("demo").innerHTML; 
    var txt = str.replace("Microsoft","W3Schools");
    document.getElementById("demo").innerHTML = txt;
    Convert string to upper case - toUpperCase()
    var text = document.getElementById("demo").innerHTML;
    document.getElementById("demo").innerHTML = text.toUpperCase();
    Convert string to lower case - toLowerCase()
    var text = document.getElementById("demo").innerHTML;
    document.getElementById("demo").innerHTML = text.toLowerCase();
    Split a string into an array - split()
    var str = "a,b,c,d,e,f";
    var arr = str.split(",");
    document.getElementById("demo").innerHTML = arr[0];

Number are considered accurate only up to 15 digits
    var x = 999999999999999;
    var y = 9999999999999999;
    document.getElementById("demo").innerHTML = x + "&lt;br&gt;" + y;
    Floating point arithmetic is not always 100% accurate
    var x = 0.2 + 0.1;
    document.getElementById("demo").innerHTML = "0.2 + 0.1 = " + x;
    it helps to multiply and divide by 10
    var x = (0.2*10 + 0.1*10) / 10;
    document.getElementById("demo").innerHTML = "0.2 + 0.1 = " + x;
}
Constants, preceded by 0x, are interpreted as hexadecimal
    document.getElementById("demo").innerHTML = "0xFF = " + 0xFF;

The toString() method can output numbers as hex, octal, and binary
    var myNumber = 128;
    document.getElementById("demo").innerHTML = "128 = " + 
    myNumber + " Decimal, " +
    myNumber.toString(16) + " Hexadecimal, " +
    myNumber.toString(8) + " Octal, " +
    myNumber.toString(2) + " Binary."

JavaScript will generate Infinity if you calculate a too large number
    var myNumber = 2; 
    var txt = "";
    while (myNumber != Infinity) {
        myNumber = myNumber * myNumber;
        txt = txt + myNumber + "&lt;br&gt;";
    }
    document.getElementById("demo").innerHTML = txt;
    Division by zero generates Infinity
    var x = 2/0;
    var y = -2/0;
    document.getElementById("demo").innerHTML = x + "&lt;br&gt;" + y;
    A number divided by a string is not a number
    var x = 1000 / "Apple";
    var y = 1000 / "10";
    document.getElementById("demo").innerHTML = x + "&lt;br&gt;" + y;

Math.PI returns the value of PI
document.getElementById("demo").innerHTML = Math.PI;

Math.round(x) returns the rounded value of x
document.getElementById("demo").innerHTML = Math.round(4.4);

Math.pow(x,y) returns the value of x to the power of y
document.getElementById("demo").innerHTML = Math.pow(8,2);

Math.sqrt(x) returns the square root of x
document.getElementById("demo").innerHTML = Math.sqrt(64);

Math.abs(x) returns the absolute (positive) value of x
document.getElementById("demo").innerHTML = Math.abs(-4.4);

Math.ceil(x) returns the value of x rounded up
document.getElementById("demo").innerHTML = Math.ceil(4.4);

Math.floor(x) returns the value of x rounded down
document.getElementById("demo").innerHTML = Math.floor(4.7);

Math.sin(x) returns the sin of the angel x (given in radians)
document.getElementById("demo").innerHTML = 
"The sine value of 90 degrees is " + Math.sin(90 * Math.PI / 180);
Math.cos(x) returns the cosin of the angel x (given in radians)
document.getElementById("demo").innerHTML = 
"The cosine value of 0 degrees is " + Math.cos(0 * Math.PI / 180);
Math.max() return the number with the highest value from a list of arguments
document.getElementById("demo").innerHTML =
Math.max(0, 150, 30, 20, -8, -200);
Math.min() to return the number with the lowest value from a list of arguments
document.getElementById("demo").innerHTML =
Math.min(0, 150, 30, 20, -8, -200);
=====================
<h2>Find the min/max element of an Array</h2>
Note: These Math functions will not work as-is with arrays of numbers.
However, there are some ways around this.

var numbers = [1, 2, 3, 4];
Math.max.apply(null, numbers) // 4
Math.min.apply(null, numbers) // 1

A simpler, ES2015 way of accomplishing this is with the new spread operator.
var numbers = [1, 2, 3, 4];
Math.max(...numbers) // 4
Math.min(...numbers) // 1
=====================
fill array with consecutive numbers
const trainY = [];
for(x=0; x&lt;(trainX.length-1); x++){trainY[x] = x+1;}
=====================
Converting Celsius to Fahrenheit
var x;
    if (degree == "C") {
        x = document.getElementById("c").value * 9 / 5 + 32;
        document.getElementById("f").value = Math.round(x);
    } else {
        x = (document.getElementById("f").value -32) * 5 / 9;
        document.getElementById("c").value = Math.round(x);
    }

Math.random() returns a random number between 0 (included) and 1 (excluded)
document.getElementById("demo").innerHTML = Math.random();

How to return a random integer between 0 and 9 (both included)
document.getElementById("demo").innerHTML =
Math.floor(Math.random() * 10);
How to return a random integer between 0 and 10 (both included)
document.getElementById("demo").innerHTML =
Math.floor(Math.random() * 11);

How to return a random integer between 0 and 99 (both included)
document.getElementById("demo").innerHTML =
Math.floor(Math.random() * 100);
How to return a random integer between 0 and 100 (both included)
document.getElementById("demo").innerHTML =
Math.floor(Math.random() * 101);
How to return a random integer between 1 and 10 (both included)
document.getElementById("demo").innerHTML =
Math.floor(Math.random() * 10) + 1;
How to return a random integer between 1 and 100 (both included)
document.getElementById("demo").innerHTML =
Math.floor(Math.random() * 100) + 1;
How to return a random integer between x (included) and y (excluded)
    return Math.floor(Math.random() * (max - min)) + min;

How to return a random integer between x and y (both included)
    return Math.floor(Math.random() * (max - min + 1) ) + min;

Use Date() to display today's date and time
var d = new Date();
document.getElementById("demo").innerHTML = d;
Use getFullYear() display the year
var d = new Date();
document.getElementById("demo").innerHTML = d.getFullYear();
Use getTime() to calculate the number of milliseconds since 1970
var d = new Date();
document.getElementById("demo").innerHTML = d.getTime();
Use setFullYear() to set a specific date
var d = new Date();
d.setFullYear(2020);
document.getElementById("demo").innerHTML = d;
Use toUTCString() to convert today's date (according to UTC) to a string
var d = new Date();
document.getElementById("demo").innerHTML = d.toUTCString();
Use getDay() to display the weekday as a number
var d = new Date();
document.getElementById("demo").innerHTML = d.getDay();

Use getDay() and an array to display the weekday as a name
var d = new Date();
var days = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
document.getElementById("demo").innerHTML = days[d.getDay()];
Display a clock
    var today = new Date();
    var h = today.getHours();
    var m = today.getMinutes();
    var s = today.getSeconds();
    m = checkTime(m);
    s = checkTime(s);
    document.getElementById('txt').innerHTML =
    h + ":" + m + ":" + s;
    var t = setTimeout(startTime, 500);
}
function checkTime(i) {
    if (i &lt; 10) {i = "0" + i};  // add zero in front of numbers &lt; 10
    return i;
}
Create an array
var cars = ["Saab", "Volvo", "BMW"];
document.getElementById("demo").innerHTML = cars;

Join two arrays - concat()
var myGirls = ["Cecilie", "Lone"];
var myBoys = ["Emil", "Tobias", "Linus"];
var myChildren = myGirls.concat(myBoys);
document.getElementById("demo").innerHTML = myChildren;

Join three arrays - concat()
var arr1 = ["Cecilie", "Lone"];
var arr2 = ["Emil", "Tobias", "Linus"];
var arr3 = ["Robin", "Morgan"];
var myChildren = arr1.concat(arr2, arr3); 
document.getElementById("demo").innerHTML = myChildren;

Join all elements of an array into a string - join()
var fruits = ["Banana", "Orange", "Apple", "Mango"];
document.getElementById("demo").innerHTML = fruits.join(" * ");

Remove the last element of an array - pop()
var fruits = ["Banana", "Orange", "Apple", "Mango"];
document.getElementById("demo1").innerHTML = fruits;
fruits.pop();
document.getElementById("demo2").innerHTML = fruits;

Add new elements to the end of an array - push()
var fruits = ["Banana", "Orange", "Apple", "Mango"]; document.getElementById("demo").innerHTML = fruits;

function myFunction() {
    fruits.push("Kiwi"); document.getElementById("demo").innerHTML = fruits;}
    Reverse the order of the elements in an array - reverse()
var fruits = ["Banana", "Orange", "Apple", "Mango"];
document.getElementById("demo").innerHTML = fruits;

function myFunction() {
    fruits.sort(); fruits.reverse(); document.getElementById("demo").innerHTML = fruits; }

Remove the first element of an array - shift()
var fruits = ["Banana", "Orange", "Apple", "Mango"];
document.getElementById("demo1").innerHTML = fruits;
fruits.shift();
document.getElementById("demo2").innerHTML = fruits;

Select elements from an array - slice()
array.slice(start, end)
The slice() method selects the elements starting at the given start argument, 
and ends at, but does not include, the given end argument.
var fruits = ["Banana", "Orange", "Lemon", "Apple", "Mango"];
var citrus = fruits.slice(1,3);  // Orange, Lemon
var myBest = fruits.slice(-3, -1);  // Lemon, Apple, Mango
document.getElementById("demo").innerHTML = myBest;

Sort an array (alphabetically and ascending) - sort()
var fruits = ["Banana", "Orange", "Apple", "Mango"];
document.getElementById("demo").innerHTML = fruits;

function myFunction() {
    fruits.sort(); document.getElementById("demo").innerHTML = fruits;}
    Sort numbers (numerically and ascending) - sort()
var points = [40, 100, 1, 5, 25, 10];
document.getElementById("demo").innerHTML = points;    

function myFunction() { points.sort(function(a, b){return a - b}); document.getElementById("demo").innerHTML = points;}

Sort numbers (numerically and descending) - sort()
var points = [40, 100, 1, 5, 25, 10];
document.getElementById("demo").innerHTML = points;

function myFunction() {
    points.sort(function(a, b){return b - a});
    document.getElementById("demo").innerHTML = points;
}

Sort numbers (alphabetically and numerically) - sort()
var points = [40, 100, 1, 5, 25, 10];
document.getElementById("demo").innerHTML = points;    

function myFunction1() {
    points.sort();
    document.getElementById("demo").innerHTML = points;
}

function myFunction2() {
    points.sort(function(a, b){return a - b});
    document.getElementById("demo").innerHTML = points;
}

Sort numbers in random order - sort()
var points = [40, 100, 1, 5, 25, 10];
document.getElementById("demo").innerHTML = points;    

function myFunction() {
    points.sort(function(a, b){return 0.5 - Math.random()});
    document.getElementById("demo").innerHTML = points;
}

Sort objects by numeric properties - sort()
var cars = [{type:"Volvo", year:2016}, {type:"Saab", year:2001}, {type:"BMW", year:2010}]
displayCars();

function myFunction() { cars.sort(function(a, b){return a.year - b.year}); displayCars();}

function displayCars() { document.getElementById("demo").innerHTML =
  cars[0].type + " " + cars[0].year + "&lt;br&gt;" +
  cars[1].type + " " + cars[1].year + "&lt;br&gt;" +
  cars[2].type + " " + cars[2].year;}

Sort objects by string properties - sort()
var cars = [
{type:"Volvo", year:2016},
{type:"Saab", year:2001},
{type:"BMW", year:2010}]
displayCars();

function myFunction() {
    cars.sort(function(a, b){
        var x = a.type.toLowerCase();
        var y = b.type.toLowerCase();
        if (x &lt; y) {return -1;}
        if (x &gt; y) {return 1;}
        return 0;
    }); displayCars();}

function displayCars() {
  document.getElementById("demo").innerHTML =
  cars[0].type + " " + cars[0].year + "&lt;br&gt;" +
  cars[1].type + " " + cars[1].year + "&lt;br&gt;" +
  cars[2].type + " " + cars[2].year;
}

Add an element to position 2 in an array - splice()
var fruits = ["Banana", "Orange", "Apple", "Mango"];
document.getElementById("demo").innerHTML = fruits;

function myFunction() {
    fruits.splice(2, 0, "Lemon", "Kiwi");
    document.getElementById("demo").innerHTML = fruits;}
    Convert an array to a string - toString()
var fruits = ["Banana", "Orange", "Apple", "Mango"];
document.getElementById("demo").innerHTML = fruits.toString();

Add new elements to the beginning of an array - unshift()
var fruits = ["Banana", "Orange", "Apple", "Mango"];
document.getElementById("demo").innerHTML = fruits;

function myFunction() {
    fruits.unshift("Lemon");
    document.getElementById("demo").innerHTML = fruits;
}
Note: fruits.unshift("Lemon");
but not: fruits = fruits.unshift("Lemon");
===========================
<br>

<h2>Creating Keyboard Shortcuts in JavaScript</h2>

<br>
Using Plain JavaScript
&lt;h3^gt;Press M key on keyboard(Single key)&lt;/h3^gt;
&lt;h3^gt;Press Ctrl + B shortcut key (Double key combination)&lt;/h3^gt;
&lt;h3^gt;Press Ctrl + Alt + Y shortcut key (Multiple key combination)&lt;/h3^gt;
&lt;h3^gt;Press Ctrl + Alt + Shift + U shortcut key (Multiple key combination)&lt;/h3^gt;
Add script tag before the closing tag of body tag and put in the below script.
document.onkeyup = function(e) {
  if (e.which == 77) {    alert("M key was pressed");
  } else if (e.ctrlKey && e.which == 66) {    alert("Ctrl + B was pressed");
  } else if (e.ctrlKey && e.altKey && e.which == 89) {    alert("Ctrl + Alt + Y was pressed");
  } else if (e.ctrlKey && e.altKey && e.shiftKey && e.which == 85) { alert("Ctrl + Alt + Shift + U was pressed");
  }
};
for cross browser compatibility you can use something like this.
var key = e.which || e.keyCode;
Here 77, 66, 89, 85 are the key code representations
ctrlKey, shiftKey and altKey are the read-only properties which hold boolean information about these keys.
This was using plain JavaScript. 
Now let’s try this using jQuery.
Using jQuery
For this example, let’s create a simple Login page, which displays a message whenever Caps Lock is ON.
&lt;h3 class="container"&gt;Displays message whenever CAPS LOCK is ON&lt;/h3&gt;  
&lt;div class="container-fluid content"&gt;
  &lt;form class="form-horizontal"&gt;
    &lt;div class="form-group"&gt;
      &lt;input type="text" class="form-control" placeholder="Username"&gt;
    &lt;/div&gt;
    &lt;div class="form-group"&gt;
      &lt;input type="password" class="form-control" placeholder="Password"&gt;
    &lt;/div&gt;
    &lt;div id="message" class="form-group"&gt;
        &lt;p&gt;Caps lock is ON&lt;/p&gt;
    &lt;/div&gt;
    &lt;div class="form-group"&gt;
    &lt;button type="submit" class="btn btn-primary"&gt;Sign in&lt;/button&gt;
    &lt;/div&gt;
  &lt;/form&gt;
&lt;/div&gt;
Now coming to the JS part of the code, initially we want the ‘message’ to be hidden. So include this,
$('#message').hide();
Now to find out whether the Caps Lock is On or not, simply use a keypress event, so whenever the user presses a key, the keycode information is extracted and checked whether it is in lower case or upper case. Based on this the message is made visible. The code should look something like this.
$(document).ready(function() {
    $('#message').hide();
})
$('.form-control').keypress(function(e) {
  var c = String.fromCharCode(e.which);
  if (c.toUpperCase() === c && c.toLowerCase() !== c && !e.shiftKey) {
    $('#message').show();
  } else {
    $('#message').hide();
  }
});
In the above code shift, key property is also checked, to see whether shift key was pressed along with another key.
The only issue with the above code is, it displays the message whenever a character is pressed and not when the caps lock key is pressed.
The KeyCode Finder
In the first example, we used key codes like 77, 66, 89, and 85. This example helps you to find out these keycodes.
I have a created a pen for this example, just press the desired key and it will display the key code associated with that key.
Using Mousetrap.js
Imagine a situation where there are a lot of shortcut keys to be implemented in a page, using above methods is not feasible. For example in a cloud-based IDE, there are a lot of shortcut keys used. So this can be simplified using the JS library Mousetrap.js. The CDN link is here.
I have created a simple pen for this example.
Here, in this example Mousetrap.bind function is used. This function binds a key combination with a callback function. There are some other functionalities also with this library. Read about all of them here.
Conclusion
All these above examples explained how to use keyboard shortcuts in JS. The Mousetrap library simplifies this whole process by just using bind method. There are many other libraries like KeyboardJS, Keypress or Keymaster which all do almost the same thing.
JavaScriptWeb DevelopmentKeyobard ShortcutsMousetrapjs
===========================
<br>

<h2>search text inside page</h2>

<br>

&lt;input type="text" id="searchText" value="美容"&gt;
&lt;button onclick="searchIt()"&gt;查找&lt;/button&gt;
&lt;p id="searchResult"&gt;&lt;/p&gt;
function searchIt() {
	searchResultList = "查找結果： ";
	var featureStr = document.getElementById("searchText").value;
	$("div").each(function(i) {
		drugName = $(this).children("b").text();
		drugFunc = $(this).text();
				if (drugFunc.includes(featureStr)) {
			searchResultList = searchResultList + drugName + ", ";
		}
	});
	document.getElementById("searchResult").innerHTML = searchResultList;
}


===========================
<br>

<h2>search link ID inside page</h2>

<br>

$(document).ready(function(){
    $('div b').click(function(){
    parent.history.back();
    return false;
    });
});
document.querySelector('#searchText').focus();
$('#searchText').keyup(function (e) {if (e.keyCode === 13) {searchIt();}});
function searchIt() {
	searchResultList = "查找結果： ";
	var featureStr = document.getElementById("searchText").value;
	$("div").each(function(i) {
		drugName = $(this).children("b").text();
		drugNameID = $(this).children("b").attr('id');
		drugFunc = $(this).text();
		drugDetail = drugName + drugFunc;
				if (drugDetail.includes(featureStr)) {
			theLink = '&lt;a href="#' + drugNameID + '" target="_self"&gt;' + drugName + '&lt;/a&gt;, ';
			searchResultList = searchResultList + theLink;
		}
	});
	document.getElementById("searchResult").innerHTML = searchResultList;
}


<br>
===========================
<br>
<br>

<h2>轉繁體 轉簡體</h2>

<br>

&lt;script type="text/javascript" src="https://www.ifreesite.com/1-plus/gbkbig5.js"&gt;&lt;/script&gt;
&lt;form name="biggbks"&gt;
    &lt;input onClick="s2t()" type="button" value="轉繁體"&gt;
    &lt;input onClick="t2s()" type="button" value="轉簡體"&gt;
    &lt;textarea name="text" id="text" rows="1" cols="40" onKeyUp="changeText(this);"&gt;&lt;/textarea&gt;
	&lt;div class="tops"&gt;
		&lt;input type="button" value="復原" onClick="undo()" /&gt;
    		&lt;input onClick="blank()" type="button" value="清除" /&gt;
	&lt;/div&gt;
  &lt;/form&gt;


===========================
<br>
<br>

<h2>To refresh page using javascript instead of meta tag:</h2>

<br>

refreshTime = 2000;  // reload page after 2 seconds
setTimeout(function() { location.reload(); },refreshTime);


===========================
<br>
<br>
<h2>JaveScript to iterate over localStorage browser object</h2>
for (var i = 0; i < localStorage.length; i++){
    key=localStorage.key(i); 
    console.log(key+': '+localStorage.getItem(key));
}

<h3>Advanced script</h3>
As mentioned <a href="http://stackoverflow.com/a/28118108/1230477">here</a> a HTML5 featured browser should also implement <code>Array.prototype.map</code>. 
So script would be:

Array.apply(0, new Array(localStorage.length)).map(function (o, i){
 return localStorage.key(i)+':'+localStorage.getItem(localStorage.key(i)); 
})

===========================
<br>
<br>

<h2>html5 localStorage</h2>
<code>localStorage</code> only supports strings.
Use <code>JSON.stringify()</code> and <code>JSON.parse()</code>.
var names = [];
names[0] = prompt("New member name?").setItem("names", JSON.stringify(names));
//...
var storedNames = JSON.parse(localStorage.getItem("names"));

=========
localStorage.setItem("objName", "PeterPan")
localStorage.getItem("objName")
localStorage.length
localStorage.key(0);
localStorage.removeItem("objName")
localStorage.heedCode="test code"
localStorage.removeItem("heedCode")
localStorage.setItem("heedCode", "00PeterPan")
heedCodeList = ["372","1800"]
localStorage.savedCodeList = JSON.stringify(heedCodeList);
oldheedCodeList = JSON.parse(localStorage.savedCodeList)
oldheedCodeList[0]
oldheedCodeList[1]

if (localStorage.getItem("savedCodeList") === null) {
  heedCodeList = [];
  localStorage.savedCodeList = JSON.stringify(heedCodeList);
} else{
  heedCodeList = JSON.parse(localStorage.savedCodeList);
}
=========
var jsonData = JSON.parse(document.getElementById('data').textContent)
=========
$.getJSON("https://api.github.com/users/jeresig");
=========

<b>localStorage namespace</b>
one localStorage for each subdomain.

Local Storage is prone to name clashes and accidental data overrides

A simple solution is to prefix all your app specific keys with your unique project name

several applications run on the same protocol/server/port, but with a different url, they will have access to the same localstorage.

if keys are using names that any other developer might use like "user", "data", "cache", you might end up reading localstorage from another application altogether. If that app is running on the same server.

Total amount of data that can be stored is limited per domain

===========================
<br>


<h2>localStorage.savedCodeList</h2>

if (localStorage.getItem("savedCodeList") === null) {
  heedCodeList = [];
  localStorage.savedCodeList = JSON.stringify(heedCodeList);
} else{
  heedCodeList = JSON.parse(localStorage.savedCodeList);
}

localStorage.savedCodeList = JSON.stringify(heedCodeList);

heedChart
  <button class="goldb" onclick=addToHeedCodeList()>&hearts;</button>

heedChart.html

if (!heedCodeList.includes(stkChartList[remainChtNo])) {
  heedCodeList.push(stkChartList[remainChtNo]);
  heedCodeList = Array.from(new Set(heedCodeList))
  localStorage.savedCodeList = JSON.stringify(heedCodeList);
}



<h2>execCommand</h2>

  copyText = JSON.stringify(stkChartList);
  copyText.select();
  document.execCommand("copy");
The execCommand() method executes the specified command for the selected part of an editable section.



<h2>window width</h2>

var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
740
814
var h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
572
177309

document.documentElement.clientWidth
document.documentElement.clientHeight

$(window).width() and $(window).height()

<h2>setFontSize</h2>

            function setFontSize(size)
            {
                $.cookie('fontsize', size, { path: '/' });
                window.location.reload();
            }


<h2>swiperight</h2>

$("body").on("swiperight",function(){
    jpButClick();
});
$("body").on("swipeleft",function(){
    jpback();
});


<h2>Regex To match all occurences using /g</h2>

1.
var str = "The rain in SPAIN stays mainly in the plain"; 
var res = str.match(/ain/g);
2.
var msg = "For example, /green|red/ matches 'green' in 'green apple' and 'red' in 'red apple.' The order of 'x' and 'y' matters. For example a*|b matches the empty string in 'b', but b|a* matches 'b' in the same string."
var result = msg.match(/green|red/g)
3.
re = /green|red/g
var all_matches = msg.match(re);
console.log(all_matches)
4.
To list out the object structure using JSON.stringify
str = JSON.stringify(result);
str = JSON.stringify(result, null, 4); // (Optional) beautiful indented output.
console.log(str);
5.
Some more tips:
Object.keys(result);
Object.getOwnPropertyNames(result);
result.length;

===================================
var patt = /w3schools/i
Example explained:

/w3schools/i  is a regular expression.
w3schools  is a pattern (to be used in a search).
i  is a modifier (modifies the search to be case-insensitive).

Modifiers
Modifiers are used to perform case-insensitive and global searches:

Modifier	Description
g	global match (find all matches, no stopping after first match)
i	Perform case-insensitive matching
m	Perform multiline matching

Brackets
Brackets are used to find a range of characters:

Expression	Description
[abc]	Find any character between the brackets
[^abc]	Find any character NOT between the brackets
[0-9]	Find any character between the brackets (any digit)
[^0-9]	Find any character NOT between the brackets (any non-digit)
(x|y)	Find any of the alternatives specified

===========================


<h2>swipeleft swiperight</h2>

&lt;script src="https://code.jquery.com/jquery-1.11.3.min.js"&gt;&lt;/script&gt;
&lt;script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"&gt;&lt;/script&gt;

$("body").on("swiperight",function(){
	foreward();
});
$("body").on("swipeleft",function(){
	backward();
});

$("body").on("swiperight",function(){
	jpButClick();
});
$("body").on("swipeleft",function(){
	jpback();
});

===========================
<br>

<h2>copy text to clipboard</h2>

var copyTextarea = document.querySelector('.copytextarea1');
copyTextarea.focus();
copyTextarea.select();

===========================

<h2>nice font</h2>

&lt;link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'&gt;

===========================
<br>

<h2>Javascript tutorial Notes from LearnWebCode</h2>

<a href="https://www.youtube.com/watch?v=zPHerhks2Vg">Javascript tutorial Notes from LearnWebCode</a>
<br>
browser developer mode
window object is the root object
document object is under window object, all about the html
document.title is the title object
use getElementById("") to select object
use var to represent the object to avoid long typings
use .innerHTML() to read and set object content
use getElementsByClassName("") to select multiple elements
use getElementById("").getElementByTagName("") to select a group under a object
access element under a group object: object[0], object is an array
for loop: for (){}
listItems.length is length of the object
addEventListener("click", aFunction)
set function using keyword: function aFunction(){}
use keyword: this to select the selected item, eg. this.innerHTML;
to append element to an group object, use ourList.innerHTML += "something new";
to increment a counter, use theCounter++;
this.classList.add("active")
The Element.classList is a collection of the class attributes, classes and be added, remove or toggle
Event delegate 是 event binding 的一種技巧
Event delegation allows us to attach a single event listener, to a parent element, that will fire for all descendants matching a selector, whether those descendants exist now or are added in the future.
ourList.addEventListener("click", aFunction)
aFunction(e){
  if(e.target.nodeName == )
}
e.target is complicated
mordern selector use querySelector("#id") instead of getelementById...
querySelectorAll("#id li")

===========================
<br>

<h2>HTMLAudioElement interface</h2>

var audio = new Audio('audio_file.mp3');
audio.play();
var snd = new Audio("http://www.externalharddrive.com/waves/computer/hello.wav");
snd.play();

===========================
<br>

<h2>Load TensorFlow.js</h2>

&lt;script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@0.12.0"&gt; &lt;/script&gt;
===========================
<br>

<h2>const</h2>

const
The value of a constant cannot change through re-assignment, and it can't be redeclared.
The const declaration creates a read-only reference to a value whose scope can be either global
<br>
===========================
<br>

<h2>parsing python code to javascript</h2>

skulpt is doing exactly the same thing as brython and pyjs - parsing python code to javascript
not running it natively in the browser
===========================
<br>

<h2>JavaScript inheritance</h2>

JavaScript inheritance is simpler
var some2dPoint = {x:3,y:5};
var now3d = Object.create(some2dPoint);
now3d.z=10

===========================
<br>

<h2>selection script</h2>

&lt;select id="myChoice" onchange="showChoice()"&gt;
	&lt;option&gt;Apple&lt;/option&gt;
	&lt;option&gt;Orange&lt;/option&gt;
	&lt;option&gt;Pineapple&lt;/option&gt;
	&lt;option&gt;Banana&lt;/option&gt;
&lt;/select&gt;
&lt;p id="demo"&gt;&lt;/p&gt;
&lt;script&gt;
function showChoice() {
	var x = document.getElementById("myChoice");
	var i = x.selectedIndex;
	document.getElementById("demo").innerHTML = x.options[i].text;
}
&lt;/script&gt;
===========================
<br>

<h2>jQuery Object and HTML DOM Object</h2>

In jQuery, to get the same result as document.getElementById, 
access the jQuery Object and get the first element in the object
document.getElementById('contents'); //returns a <span class="redword">HTML DOM Object</span>
var contents = $('#contents');  //returns a <span class="redword">jQuery Object</span>
var contents = $('#contents')[0]; //returns a HTML DOM Object
<a href="https://dotblogs.com.tw/maplenote/2014/07/21/146024">Javascript 跟 JQuery</a>
<br>
To get the DOM object(s) from the jQuery one, use the following:
$('#selectlist').get(); //get all DOM objects in the jQuery collection  
$('#selectlist').get(0); //get the DOM object in the jQuery collection at index 0  
$('#selectlist')[0]; //get the DOM objects in the jQuery collection at index 0  

===========================
<br>

<h2>fibonacci function</h2>

function fibonacci(num){
    var a = 1, b = 0, temp;
    var seq = []
        while (num > 0){
        temp = a;
        a = a + b;
        b = temp;
        seq.push(b)
        num--;
    }
        return seq;
}
const fibs = fibonacci(100)
===========================
<br>

<h2>input numeric filter</h2>

var numericExpression = /^[0-9]+$/;
if(!userInput.match(numericExpression)){alert("Please enter a number")}
===========================
<br>

<h2>some timer codes</h2>

&lt;input type="number" id="hourtimer"&gt;
&lt;input type="number" id="minutetimer" autofocus&gt;
&lt;input type="number" id="secondtimer"&gt;
function cvtToMinAndSecStr( x ) {return Math.floor(x/60) + ":" + x%60;}
function displayMsg( noticeArea, msg ) {document.getElementById(noticeArea).innerHTML = msg;}
if(displaySeconds &lt; 10) {displaySeconds = '0' + displaySeconds;}
let timeRemaining = 0;
let timer;
function starttimer() {
  if( ! timer) {
    timer = setInterval(function() {timeRemaining = timeRemaining - 1; displayTime();}, 1000); 
  }
}
  countdown.innerText = hours + ":" + minutes + ":" + displaySeconds;
  ===========================
<br>

<h2>numerical input value step attribute</h2>

The step attribute can be used with a numerical input value to dictate how granular the values you can input are. 

&lt;input type="time" id="timerInput" step="1"&gt;
document.getElementById("settime").value = "13:24:59";

For example, you might want users to enter a particular time, but only in 30 minute increments. 
In this case, we can use the step attribute, keeping in mind that for time inputs the value of the attribute is in seconds. 
For example, a 30 minute increment would have a step value of 1800. 
&lt;input type="time" step="1800"&gt;

Return the value property:
timeObject.value

Set the value property:
timeObject.value = hh:mm:ss.ms

function myFunction() {
  var x = document.createElement("INPUT");
  x.setAttribute("type", "time");
  x.setAttribute("value", "21:35:09");
  document.body.appendChild(x);
}


<h2>script to animate css</h2>

&lt;link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css'&gt;
===========================
<br>

<h2>Math.floor(Math.random...</h2>

listLen = Math.floor(Math.random() * (listLen -1));
===========================
<br>

<h2>Include JavaScript file in Chrome console</h2>

appendChild() is a more native way:
var script = document.createElement('script');
script.type = 'text/javascript';
script.src = 'script.js';
document.head.appendChild(script);
var script = document.createElement('script');
script.type = 'text/javascript';
script.src = 'https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@0.12.0';
document.head.appendChild(script);
======================
Using jQuery:
$.getScript('script.js');
======================
use the fetch:
fetch('https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular.min.js')
    .then(response => response.text())
    .then(text => eval(text))
    .then(() => { /* now you can use your library */ })
======================
https://stackoverflow.com/questions/5282228/include-javascript-file-in-chrome-console
======================


<h2>check time falls within a specific range</h2>

<a href="https://stackoverflow.com/questions/9081220/how-to-check-if-current-time-falls-within-a-specific-range-on-a-week-day-using-j">check time falls within a specific range</a>
function checkTime() {
    var d = new Date(); // current time
    var hours = d.getHours();
    var mins = d.getMinutes();
    var day = d.getDay();
        return day >= 1
        && day <= 5
        && hours >= 9 
        && (hours < 17 || hours === 17 && mins <= 30);
}
function checkTime() {
    var d = new Date(); // current time
    var hours = d.getHours();
    var mins = d.getMinutes();
    var day = d.getDay();
    return day >= 1
        && day <= 5
        && (hours >= 9  || hours === 9 && mins >= 30)
        && (hours < 12)
        && (hours >= 13)
        && (hours < 16);
}
===========================
<br>

<br>

<h2>create a dataset</h2>

var dataset = [];
var count =10;
for (var j = 0; j < count; j++) {dataset[j] = Math.round(Math.random() * 100)}


<h2>polar and cartesian coordinates</h2>

function d_Btw_2Pts(x1, y1, x2, y2) {
	//  Pythagoras Theorem
	var x = (x2-x1);
	var y = (y2-y1);
	return Math.sqrt(x*x + y*y);
}
function polar2Cart(R, theta) {
	x = R * Math.cos(theta);
	y = R * Math.sin(theta);
	return [x,y]
}


<h2>convert to fixed decimal places</h2>

num.toFixed(2);


<h2>get image size height width using javascript</h2>

var image = document.getElementById('imagearea'); 
alert(image.clientWidth, image.clientHeight);
clientWidth and clientHeight are DOM properties that show the current in-browser size of the inner dimensions of a DOM element (excluding margin and border). So in the case of an IMG element, this will get the actual dimensions of the visible image.
img.onload = function() {
  alert(this.width + 'x' + this.height);
}
<a href="https://stackoverflow.com/questions/623172/how-to-get-image-size-height-width-using-javascript">get image size height width using javascript</a>
<br>




<h2>generate random number that is negative or positive</h2>

(Math.random()-1/2)*2



<h2>js script load external script</h2>

$.getScript('another_file.js', function() {
    //script is loaded and executed put your dependent JS here
});
or
var imported = document.createElement('script');
imported.src = '/path/to/imported/script';
document.head.appendChild(imported);

<h2>Load scripts with JavaScript</h2>
// Get the first script element on the page
var ref = w.document.getElementsByTagName( 'script' )[ 0 ];

// Create a new script element
var script = w.document.createElement( 'script' );

// Set the script element `src`
script.src = 'path-to-your-javascript-file.js';

// Inject the script into the DOM
ref.parentNode.insertBefore( script, ref );

This simply append to head
  var script = document.createElement('script');
  script.src = urladdr;
  script.onload = function() { .... }
  document.getElementsByTagName('head')[0].appendChild(script);


<h2>Convert unicode character to string format</h2>

<a href="https://stackoverflow.com/questions/17267329/converting-unicode-character-to-string-format">Convert unicode character to string format</a>
<br>
theStr = "\u9999\u6e2f\u98df\u54c1\u6295\u8d44"	// this will show correctly as "香港食品投资"
String.fromCharCode(parseInt("6e2f",16)) //this work
String.fromCharCode(parseInt("9999 6e2f 98df 54c1 6295 8d44",16)) //cannot work

<h2>Learn API</h2>

<a href="https://idratherbewriting.com/learnapidoc/" class="whitebut ">Learn API docs</a>


<h2>Vibration API Sample</h2>

<a href="https://googlechrome.github.io/samples/vibration/">Vibration API Sample</a>
<br>
function example1() {
  // Vibrate for 500ms
  navigator.vibrate([500]);
}



<h2>worker</h2>

const delay = 5000;
// run without worker
const withoutWorkerButton = document.createElement('button');
document.body.appendChild(withoutworkerButton);
withoutWorkerButton.textContent = 'without Worker';
withoutWorkerButton.addEventListener('click', ()=> {
	const start = performance.now();
	while (performance.now() - start < delay);
	const end = performance.now();
	console.log(end-start);
});
	// run with worker
const myworker = new worker('./worker.js')	// create worker
myworker.onMessage = e => {
	console.log('myworker says: ', e.data);
}
const withWorkerButton = document.createElement('button');
document.body.appendChild(withworkerButton);
withWorkerButton.textContent = 'with Worker';
withWorkerButton.addEventListener('click', ()=> {
	myworker.postMessage(delay);
});
//worker.js
this.onMessage = e => {
	const delay = e.data;
	const start = performance.now();
	while (performance.now() - start < delay);
	const end = performance.now();
	this.postMessage(end-start);
}

<a href="https://stackoverflow.com/questions/30795525/performance-now-vs-date-now">performance now vs date now</a>
<br>
<a href="http://javascript.ruanyifeng.com/bom/performance.html">Performance API</a>
<br>



<h2>Javascript Use Indirect Variables, 'Variable' variables in Javascript</h2>

Javascript Use Indirect Variables, 'Variable' variables in Javascript
// example
// global
var vara0='a';
var varb0='b';
alert(window['vara'+0]); // gives 'a'
alert(window['varb'+0]); // gives 'b'
console.log(window['vara'+0]);
console.log(window['varb'+0]);
// example
var foos = ['foo', 'bar', 'baz'];
for(i=0; i&lt;foos.length; i++){
  console.log(foos[i]);
}
Note: eval() is heavy handed. eval() uses lots of cpu resources. try to avoid it.
// example
// local
function foo(){
	var var1='b';
	alert(eval('var'+1))
}
foo()
// example
var foo = 42;
var bar = 21;
var key = 'foo';
console.log(eval(key));
<a href="https://stackoverflow.com/questions/5187530/variable-variables-in-javascript">variable variables in javascript</a>
<br>
<a href="http://2ality.com/2014/01/eval.html">Evaluating JavaScript code via eval() and new Function()</a>
<br>



<h2>Emit a beeping sound with JavaScript</h2>

a=new AudioContext(); // browsers limit the number of concurrent audio contexts, so you better re-use'em
function beep(vol, freq, duration){
  v=a.createOscillator()
  u=a.createGain()
  v.connect(u)
  v.frequency.value=freq
  v.type="square"
  u.connect(a.destination)
  u.gain.value=vol*0.01
  v.start(a.currentTime)
  v.stop(a.currentTime+duration*0.001)
}
beep(50,500,600)

// to loop with diff freq
function start(counter){
  if(counter < 20){
    setTimeout(function(){
      counter++;
      console.log(counter);
      beep(350,counter*50,400);
      start(counter);
    }, 500);
  }
}
start(0);

<h2>Delay, Sleep, Pause, & Wait in JavaScript</h2>
Many programming languages have a sleep function that will delay a program’s execution for a given number of seconds. 
This functionality is absent from JavaScript, however, owing to its asynchronous nature. 

The standard way of creating a delay in JavaScript is to use its setTimeout method.

console.log("Hello");
setTimeout(() => {  console.log("World!"); }, 2000);

Waiting for Things with setTimeout
function pollDOM () {
  const el = document.querySelector('my-element');

  if (el.length) {
    // Do something with el
  } else {
    setTimeout(pollDOM, 300); // try again in 300 milliseconds
  }
}

pollDOM();

Flow Control in Modern JavaScript
It’s often the case when writing JavaScript that we need to wait for something to happen (for example, data to be fetched from an API), then do something in response (such as update the UI to display the data).

The example above uses an anonymous callback function for this purpose, but if you need to wait for multiple things to happen, the syntax quickly gets pretty gnarly and you end up in callback hell.

Luckily, the language has evolved considerably over the past few years and now offers us new constructs to avoid this.

For example, using async await we can rewrite the initial code to fetch information from the GitHub API:

(async () => {
  const res = await fetch(`https://api.github.com/users/jameshibbard`);
  const json = await res.json();
  console.log(json.public_repos);
  console.log("Hello!");
})();

Now the code executes from top to bottom. The JavaScript interpreter waits for the network request to complete and the number of public repos is logged first, then the “Hello!” message.

Bringing Sleep to Native JavaScript
function sleep(milliseconds) {
  const date = Date.now();
  let currentDate = null;
  do {
    currentDate = Date.now();
  } while (currentDate - date < milliseconds);
}

console.log("Hello");
sleep(2000);
console.log("World!");
As expected, this will log “Hello”, pause for two seconds, then log “World!”

it has a large disadvantage:
the loop will block JavaScript’s execution thread and ensure that nobody can interact with your program until it finishes.
If you need a large delay, there’s a chance that it may even crash things altogether.

A Better Sleep Function
Well, it’s also possible to combine the techniques to make a less intrusive sleep function:

function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

console.log("Hello");
sleep(2000).then(() => { console.log("World!"); });

Notice that we need to use a then callback to make sure the second message is logged with a delay. 
We can also chain more callbacks onto the first:

console.log("Hello");
sleep(2000)
  .then(() => { console.log("World!"); })
  .then(() => {
    sleep(2000)
      .then(() => { console.log("Goodbye!"); })
    });
This works, but looks ugly. We can pretty it up using async ... await:

function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

async function delayedGreeting() {
  console.log("Hello");
  await sleep(2000);
  console.log("World!");
  await sleep(2000);
  console.log("Goodbye!");
}

delayedGreeting();
This looks nicer, but means that whatever code is using the sleep function needs to be marked as async.

Of course, both of these methods still have the disadvantage (or feature) that they do not pause the entire program execution. Only your function sleeps:

function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

async function delayedGreeting() {
  console.log("Hello");
  await sleep(2000);
  console.log("World!");
}

delayedGreeting();
console.log("Goodbye!");

Timing issues in JavaScript are the cause of many a developer headache, and how you deal with them depends on what you’re trying to achieve.

Although a sleep function is present in many other languages, I’d encourage you to embrace JavaScript’s asynchronous nature and try not to fight the language. It’s actually quite nice when you get used to it.



<h2>reminders notes</h2>

reminders
add, remove, edit notes
notes object format:
date, time, details, remind frequency (repeating), action
sort date time sequence
use set interval
calc current time and set interval
array of objects: remindList
remindList = []
var remindNotes = new Object();
remindNotes.date = 'date';
remindNotes.time = 'timw';
remindNotes.details = "description';
remindNotes.freq = 1;
remindNotes.interval = 2;
remindNotes.action = beep;


<br>

<h2>RegEx text manipulations</h2>
<a href="Practical JavaScript Regular Expressions.html"><span class="red
	">Practical JavaScript Regular Expressions</span></a>

Syntax: /pattern/modifiers;
/pattern/ is the regular expression pattern
e.g. /.*abcd/
modifiers is the followings:
i Perform case-insensitive matching 
g Perform a global match (find all matches rather than stopping after the first match)  
m Perform multiline matching
<a href="https://www.w3schools.com/jsref/jsref_obj_string.asp">JavaScript String Reference</a>
simple methods:
str.search()
	var str = "Please locate where 'locate' occurs!";
	var pos = str.search("locate");
	str.replace()
	str = "Please visit Microsoft!";
	var n = str.replace("Microsoft", "W3Schools");
	String Length
	var txt = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
	var theTxtLen = txt.length;
	Finding a String in a String
	var str = "Please locate where 'locate' occurs!";
	var pos = str.indexOf("locate");
	Extracting String Parts: 3 methods for extracting part of a string
	slice(start, end)
	substring(start, end)
	substr(start, length)
	toUpperCase()
toLowerCase()
concat()
trim()
	var str = "       Hello World!        ";
	alert(str.trim());
split()
	var txt = "a,b,c,d,e";   // String
	txt.split(",");          // Split on commas
	txt.split(" ");          // Split on spaces
	txt.split("|");          // Split on pipe
	e.g.
var thestr   = 'FLSZ  1070560  -  00700腾讯控股';
var regex = /.* -  /;
str = thestr.replace(regex, "");
console.log(str.slice(0, 4));
Regular Expression Patterns
[abc] Find any of the characters between the brackets 
[^abc]  Find any character NOT between the brackets
[0-9] Find any character between the brackets (any digit)
[^0-9]  Find any character NOT between the brackets (any non-digit)
(x|y) Find any of the alternatives specified
Metacharacter Description Try it
. Find a single character, except newline or line terminator
\w  Find a word character
\W  Find a non-word character
\d  Find a digit
\D  Find a non-digit character
\s  Find a whitespace character
\S  Find a non-whitespace character
\b  Find a match at the beginning/end of a word
\B  Find a match not at the beginning/end of a word
\0  Find a NUL character
\n  Find a new line character
\f  Find a form feed character
\r  Find a carriage return character
\t  Find a tab character
\v  Find a vertical tab character
\xxx  Find the character specified by an octal number xxx
\xdd  Find the character specified by a hexadecimal number dd
\uxxxx  Find the Unicode character specified by a hexadecimal number xxxx
Quantifier  Description
n+  Matches any string that contains at least one n
n*  Matches any string that contains zero or more occurrences of n
n?  Matches any string that contains zero or one occurrences of n
n{X}  Matches any string that contains a sequence of X n's
n{X,Y}  Matches any string that contains a sequence of X to Y n's
n{X,} Matches any string that contains a sequence of at least X n's
n$  Matches any string with n at the end of it
^n  Matches any string with n at the beginning of it
?=n Matches any string that is followed by a specific string n
?!n Matches any string that is not followed by a specific string n
RegExp Object
exec()  Tests for a match in a string. Returns the first match
test()  Tests for a match in a string. Returns true or false
toString()  Returns the string value of the regular expression
RegExp Object Properties
constructor Returns the function that created the RegExp object's prototype
global  Checks whether the "g" modifier is set
ignoreCase  Checks whether the "i" modifier is set
lastIndex Specifies the index at which to start the next match
multiline Checks whether the "m" modifier is set
source  Returns the text of the RegExp pattern
Example
var str = "Visit W3Schools!"; 
var pat = /o/g;
var n = str.match(pat);
n.length;


<br>

<h2>regular expressions substitute operator $1-$9</h2>

The non-standard $1, $2, $3, $4, $5, $6, $7, $8, $9 properties are static and read-only properties of regular expressions that contain parenthesized substring matches.

var str   = 'asd-0.testing';
var regex = /(asd-)\d(\.\w+)/;

str = str.replace(regex, "$11$2");
"asd-1.testing"

str = str.replace(regex, "$13$2");
"asd-3.testing"



<h2>convert seconds to colon-separated time string (hh:mm:ss)</h2>


var date = new Date(null);
date.setSeconds(45); // specify value for SECONDS here
var timeString = date.toISOString().substr(11, 8);
console.log(timeString)

thisDate = new Date()
Sun Feb 24 2019 14:22:58 GMT+0800 (Hong Kong Standard Time)

thisDate.toTimeString()
"14:22:58 GMT+0800 (Hong Kong Standard Time)"

thisDate.replace(/.*(\d{2}:\d{2}:\d{2}).*/, "$1")
thisDate.replace is not a function

thisDate.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/, "$1")
"14:22:58"


<h2>iterators and generators</h2>

The for loop could be written like this:
const possiblePrimes = [73, 6, 90, 19, 15];
const confirmedPrimes = [];
for (const i of possiblePrimes){
   if ( isPrime(i) ){
      confirmedPrimes.push(i);
   }
}
// confirmedPrimes is now [73, 19]
This is far cleaner, but the most striking bit of this is the for loop. 
The variable i now represents the actual item in the array called possiblePrimes. 
So, we don’t have to call it by index anymore. 
This means that instead of calling possiblePrimes[i] in the loop, we can just call i.
Behind the scenes, this kind of iteration is making use of ES6’s bright and shiny Symbol.iterator() method. 
This bad boy is in charge of describing the iteration and, when called, returns a JavaScript object containing the next value in the loop and a done key that is either true or false depending on whether or not the loop is finished.
Generators
Generators, also called “iterator factories”, are a new type of JavaScript function that creates specific iterations. 
They give you special, self-defined ways to loop over stuff.
Okay, so what does all that mean? Let’s look at an example. 
Let’s say that we want a function that will give us the next prime number every time we call it. 
Again, we’ll use our isPrime function from before to check if a number is prime:
function* getNextPrime() {
  let nextNumber = 2;
    while (true) {
    if (isPrime(nextNumber)) {
      yield nextNumber;
    }
    nextNumber++;
  }
}
If you’re used to JavaScript, some of this stuff will look a bit like voodoo, but it’s actually not too bad. 
We have that strange asterisk after the keyword function, but all this does is to tell JavaScript that we’re defining a generator.
The other funky bit would be the yield keyword. 
This is actually what a generator spits out when you call it. 
It’s roughly equivalent to return, but it keeps the state of the function instead of rerunning everything whenever you call it. 
It “remembers” its place while running, so the next time you call it, it carries on where it left off.
This means that we can do this:
const nextPrime = getNextPrime();
And then call nextPrime whenever we want to obtain — you guessed it — the next prime:
console.log(nextPrime.next().value); // 2
console.log(nextPrime.next().value); // 3
console.log(nextPrime.next().value); // 5
console.log(nextPrime.next().value); // 7
You can also just call nextPrime.next(), which is useful in situations where your generator isn’t infinite, because it returns an object like this:
console.log(nextPrime.next());
// {value: 2, done: false}
Here, that done key tells you whether or not the function has completed its task. 
In our case, our function will never finish, and could theoretically give us all prime numbers up to infinity (if we had that much computer memory, of course).
<a href="javascript iterables, iterators, and generators.html">javascript iterables, iterators, and generators</a>
<br>

<br>
<br>

<h2>countDecimals and transformations</h2>

function countDecimals(value) { 
	if ((value % 1) != 0) 
		return value.toString().split(".")[1].length;  
	return 0;
};
avalue = 1.0320
avalue *= 10
apowval = 1
apowval ++
avalue = 1.0320
a = countDecimals(avalue)
amplified  = avalue*Math.pow(10, a);
original  = amplified/Math.pow(10, a);


<br>

<h2>Higher Order Functions: Filter, Map and Reduce</h2>
<a href="https://medium.freecodecamp.org/higher-order-functions-in-javascript-d9101f9cf528">Higher Order Functions: Using Filter, Map and Reduce for More Maintainable Code</a>
<br>
A Higher Order Function is any function that returns a function when executed, takes a function as one or more of its arguments, or both. 
If you have used any of the <code>Array</code> methods like <code>map</code> or <code>filter</code>, or passed a callback function to jQuery’s <code>$.get</code>, you have already worked with Higher Order Functions.
When you use <code>Array.map</code>, you provide a function as its only argument, which it applies to every element contained in the array.

<code>var arr = [ 1, 2, 3 ];
var arrDoubled = arr.map(function(num) {
  return num * 2;
});

console.log(arrDoubled); // [ 2, 4, 6 ]</code>
Higher order functions can also return a function. 
For example, you can make a function called <code>multiplyBy</code> that takes a number and returns a function that multiplies another number you provide by the first number provided. 
You can use this approach to create a <code>multiplyByTwo</code> function to pass to <code>Array.map</code>. 

<code>function multiplyBy(num1) {
  return function(num2) { return num1 * num2; }
}

var multiplyByTwo = multiplyBy(2);

var arr = [ 1, 2, 3 ];

var arrDoubled = arr.map(multiplyByTwo);

console.log(arrDoubled); // [ 2, 4, 6 ]</code>

It also makes it easy to combine functions with each other. 
This is called composition
The three most used higher order functions in JavaScript are <code>.filter()</code>, <code>.map()</code> and <code>.reduce()</code>.

<h3>Filter</h3>Imagine writing a piece of code that accepts a list of people where you want to filter out the people that are equal or above the age of 18.
Our list looks like the one below:

<code>const people = [
 { name: ‘John Doe’, age: 16 },
 { name: ‘Thomas Calls’, age: 19 },
 { name: ‘Liam Smith’, age: 20 },
 { name: ‘Jessy Pinkman’, age: 18 },
];</code>
Let’s look at an example of a first order function which select people that are above the age of 18. 

<code>const peopleAbove18 = (collection) =&gt; {  const results = [];
   for (let i = 0; i &lt; collection.length; i++) {
    const person = collection[i];
     if (person.age &gt;= 18) {
      results.push(person);
     }
  }</code>

<code>  return results;};</code>
Now what if we want to select all the people who are between 18 and 20? We could create another function.

<code>const peopleBetween18And20 = (collection) =&gt; {  const results = [];   for (let i = 0; i &lt; collection.length; i++) {
    const person = collection[i];
     if (person.age &gt;= 18 &amp;&amp; person.age &lt;= 20) {
       results.push(person);
     }
}</code>

<code>  return results;};</code>
You may already recognize a lot of repeating code here. 
This could be abstracted into a more generalized solution. 
These two functions have something in common. 
They both iterate over a list and filter it on a given condition.
<blockquote>“A higher order function is a function that takes one or more functions as arguments.”<em>— <a href="https://clojurebridge.github.io/community-docs/docs/clojure/higher-order-function/" rel="noopener">Closurebridge</a></em></blockquote>We can improve our previous function by using a more declarative approach, <code>.filter()</code>.

<code>const peopleAbove18 = (collection) =&gt; {
  return collection
    .filter((person) =&gt; person.age &gt;= 18);}</code>
That’s it! We can reduce a lot of extra code by using this higher order function. 
It also make our code better to read. 
We don’t care how things are being filtered, we just want it to filter. 
I will go into combining functions later in this article.

<h3>Map</h3>Let’s take the same list of people and an array of names that tells if the person loves to drink coffee.

<code>const coffeeLovers = [‘John Doe’, ‘Liam Smith’, ‘Jessy Pinkman’];</code>
The imperative way will be like:

<code>const addCoffeeLoverValue = (collection) =&gt; {  const results = [];   for (let i = 0; i &lt; collection.length; i++) {
    const person = collection[i];</code>

<code>
    if (coffeeLovers.includes(person.name)) {
      person.coffeeLover = true;
    } else {
      person.coffeeLover = false;
    }
     results.push(person);
  }
   return results;};</code>
We could use <code>.map()</code> to make this more declarative.

<code>const incrementAge = (collection) =&gt; {
  return collection.map((person) =&gt; {
    person.coffeeLover = coffeeLovers.includes(person.name);
     return person;
  });};</code>
Again, <code>.map()</code> is a high-order function. 
It allows a function to be passed as an argument.

<h3>Reduce</h3>I bet you will like this function when you know when and how to use it.<br>The cool thing about <code>.reduce()</code> is that most of the functions above can be made with it.
Let’s take a simple example first. 
We want to sum up all the people’s ages. 
Again, we’ll look how this can be done using the imperative approach. 
It’s basically looping through the collection and increment a variable with the age.

<code>const sumAge = (collection) =&gt; {  let num = 0;   collection.forEach((person) =&gt; {
    num += person.age;
  });
   return num;}</code>
And the declarative approach using <code>.reduce()</code>.

<code>const sumAge = (collection) =&gt; collection.reduce((sum, person) =&gt; { return sum + person.age;}, 0);</code>
We can even use <code>.reduce()</code> to create our own implementation of <code>.map()</code> and <code>.filter()</code> .

<code>const map = (collection, fn) =&gt; {  return collection.reduce((acc, item) =&gt; {
    return acc.concat(fn(item));
  }, []);}</code>

<code>const filter = (collection, fn) =&gt; {
  return collection.reduce((acc, item) =&gt; {
    if (fn(item)) {
      return acc.concat(item);
    }
     return acc;
  }, []);}</code>
This might be hard to understand at first. 
But what <code>.reduce()</code> basically does is start with a collection and a variable with an initial value. 
You then iterate over the collection and append (or add) the values to the variable.

<h3>Combining map, filter and reduce</h3>These functions can be used together!
This makes it easy to create reusable functions and reduce the amount of code that is required to write certain functionality.
So we talked about using <code>.filter()</code> to filter out the people that are equal or below the age of 18. 
<code>.map()</code> to add the <code>coffeeLover</code> property, and <code>.reduce()</code> to finally create a sum of the age of everyone combined.<br>Lets write some code that actually combines these three steps.

<code>const people = [ { name: ‘John Doe’, age: 16 }, { name: ‘Thomas Calls’, age: 19 }, { name: ‘Liam Smith’, age: 20 }, { name: ‘Jessy Pinkman’, age: 18 },];</code>

<code>const coffeeLovers = [‘John Doe’, ‘Liam Smith’, ‘Jessy Pinkman’];</code>

<code>const ageAbove18 = (person) =&gt; person.age &gt;= 18;const addCoffeeLoverProperty = (person) =&gt; { person.coffeeLover = coffeeLovers.includes(person.name);  return person;}</code>

<code>const ageReducer = (sum, person) =&gt; { return sum + person.age;}, 0);</code>

<code>const coffeeLoversAbove18 = people .filter(ageAbove18) .map(addCoffeeLoverProperty);</code>

<code>const totalAgeOfCoffeeLoversAbove18 = coffeeLoversAbove18 .reduce(ageReducer);</code>

<code>const totalAge = people .reduce(ageReducer);</code>
If you do it the imperative way, you will end up writing a lot of repeating code.
The mindset of creating functions with <code>.map()</code> ,<code>.reduce()</code> and <code>.filter()</code> will improve the quality of the code you’ll write. 
But it also adds a lot of readability. 
You don’t have to think about what’s going on inside a function. 
It’s easy to understand.

<a href="https://medium.com/javascript-scene/higher-order-functions-composing-software-5365cf2cbe99">Higher Order Functions (Composing Software)</a>
<br>


<br>

<h2>onpagehide event</h2>

onpagehide event: 
navigates away from a webpage.
Execute JavaScript code when the user navigates away from the document.
The onpagehide event triggers in JavaScript when a user leaves the page and decides to move to another. 
Some examples include age refresh, a link is clicked, etc.
the following code implement onpagehide event in JavaScript:
============
&lt;body onpagehide="newFunc()"&gt;
&lt;p&gt;Close the page and see what happens!&lt;/p&gt;
&lt;script&gt;
	function newFunc() {alert("Thank you!");	}
&lt;/script&gt;
&lt;/body&gt;
============
jQuery pagehide Event
To trigger the event for all pages in jQuery Mobile:
$("document").on("pagehide",function(event){...})
To trigger the event for a specific page:
$("document").on("pagehide","page",function(event,data){...})
&lt;script&gt;
$(document).on("pagehide","#pagetwo",function(){
	alert("pagetwo is now hidden");
});
&lt;/script&gt;
============

detect browser support for pageShow and pageHide
if ('onpagehide' in window) {
//if(window.onpagehide || window.onpagehide === null){
	window.addEventListener('pagehide', exitFunction, false);
} else {
	window.addEventListener('unload', exitFunction, false);
}



<br>

<h2>addEventListener</h2>

Attach a click event to the document. 
When the user clicks anywhere in the document:
document.addEventListener("click", function(){
  document.getElementById("demo").innerHTML = "Hello World";
});

window.onload = addfunc;
document.getElementById('myBtn').onclick(){alert('hello');}
document.getElementById('myBtn').addEventListener("click", funcname,false);
document.getElementById('myBtn').attachEvent("onclick", funcname);


<br>

<h2>JavaScript Template Literals</h2>

<a href="https://www.youtube.com/watch?v=NgF9-pdTDGs">JavaScript Template Literals</a>
<a href="Template Literals.html"><span class="goldb	">♦Template Literals</span></a>


<br>

<h2>Scroll Load Dynamic Content</h2>

<a href="Scroll Load Dynamic Content.html"><span class="redb">Scroll Load Dynamic Content</span></a><br>
<br>
<h2>Infinite Scroll</h2>

<a href="https://www.sitepoint.com/jquery-infinite-scrolling-demos/">Jquery Infinite Scrolling</a>
. <a href="https://infinite-scroll.com/api.html">Infinite Scroll Methods</a>
. <a href="https://dotblogs.com.tw/brooke/2017/08/23/035838">Infinite Scroll.js的使用</a>
<br>
<a href="https://infinite-scroll.com/">infinite scroll.com</a>
. <a href="https://stackoverflow.com/questions/15181286/how-to-implement-an-endless-infinite-scroll-within-a-div-in-javascript-jquery">javascript infinite scroll</a>
<br>

<a href="https://stackoverflow.com/questions/14035180/jquery-load-more-data-on-scroll">jQuery load more data on scroll</a>
<br>
<a href="http://jsfiddle.net/brynner/QDttv/">Load more results after scroll to end of list</a>
<br>
<a href="https://www.jqueryscript.net/loading/Automatic-Load-More-Plugin-jQuery-ev-scroll-loader.html">Automatic Load More Plugin For jQuery</a>
<br>


<h2>Use children() and each() to loop</h2>

Use children() and each(), you can optionally pass a selector to children
children() is a loop in itself.
$('div').children('input').each(function () {
    alert(this.value);
});



<h2>$(this) to loop</h2>

Examples of jQuery Selectors
$("*")	Selects all elements	
$(this)	Selects the current HTML element	
$("p.intro")
$("p:first")
$("ul li:first")
$("ul li:first-child")
$("[href]")	Selects all elements with an href attribute	
$("a[target='_blank']")equal to "_blank"	
$("a[target!='_blank']")	NOT equal to "_blank"	
$(":button")
$("tr:even")
$("tr:odd")
$( "li.item-ii" ).find( "li" ).css( "background-color", "red" );
$( "p" ).find( "span" ).css( "color", "red" );
$('.pizza-maker').find('.cheese').find('a').addClass('cheese-style')
.children('.cheese') was called on and stopped there.
jquery $(this)id
jquery $(this).val()
jquery $(this).find
jquery $(this).next
jquery $(this).attr
jquery $(this).index
jquery $(this).text()
jquery $(this).children
jquery $(this).attr("id")
jquery $(this).css
jquery $(this).on()
jquery $(this).is()
jquery $(this).get()
jquery $(this).parents()
.children()
var kids = $( event.target ).children();
var len = kids.addClass( "hilite" ).length;
$( "#results span:first" ).text( len );
$( "#results span:last" ).text( event.target.
.not()
.index()
$( "div" ).click(function() {
var index = $( "div" ).index( this );
$( "span" ).text( "That was div index #" + index );
:first-child Selector
.filter()
$( "li" ) .filter(function( index ) {
 return $( "strong", this ).length === 1;
}) .css( "background-color", "red" );
.siblings()
:visible Selector
.val()
"select#foo" ).val();
$( "input[type=checkbox][name=bar]:checked" ).val();
.one()
var index = $( "div" ).index( this );
$( this ).css({borderStyle: "inset",cursor: "auto"});
 $( "p" ).text( "Div at index #" + index + " clicked." + " That's " + (++n) + " total ...
 .prev()

$(this.htmltable + ' th[data-field]').each(function(i, col){
     this.dbcolumns.push( $(col).attr('data-field') );
}.bind(this));

$(".myCheckboxes").change(function(){ 
    if(this.checked){alert("checked");}
});
$(".class").each(function(){
 var HTMLElement = this;
  //the current HTML element is passed to the jQuery constructor
 //the jQuery API is exposed here (such as .html() and .append())
 var jQueryObject = $(this);
});

$('.somediv').click(function(){
   $(this).addClass('newDiv');
});
$('.multiple-elements').each(
    function(index, element) {
        $(this).css('background-color', $(this).data('bgcol'));
    }
);
&lt;a href="#" onclick="$(this).css('display', 'none')"&gt;Hide me!</a>


<br>

<h2>$(this) nested loop</h2>

$('li').each(function(){
    var $this = $(this);
    $this.children("li").each(function(){
        $this; // parent li
        this; // child li
    });
});
$('li').children("li").each(function(){
    var $this = $(this);
});
$('.pizza-maker').find('.cheese').find('a').addClass('cheese-style')
.children('.cheese') was called on and stopped there.



<h2>todo-list-indexeddb</h2>

<a href="../js/todo-list-indexeddb/index.html">todo-list-indexeddb</a>
<br>
<br>

<h2>stars</h2>

<a href="../js/stars/index.html">stars</a>

<h2>Learn Node.js</h2>

<a href="https://www.youtube.com/watch?time_continue=1&v=RLtyhwFtXQA">Learn Node.js - Full Tutorial for Beginners</a>

<br>

<h2>scroll-behavior</h2>

html { scroll-behavior: smooth;}
$(document).ready(function(){
     $('body,html').animate({scrollTop: 156}, 800); 
});
156 - position scroll to (px), from top of page.
800 - scroll duration (ms)
scroll to bottom
$(document).ready(function(){
     $('body,html').animate({scrollTop:$(document).height()}, 800000); 
});
scroll to a div
$(document).ready(function(){
     $('body,html').animate({scrollTop: $('#toc').get(0).scrollHeight}, 630000); 
});
<a href="https://codepen.io/JTParrett/pen/BkDie">jQuery different scroll speeds</a>
<br>


<h2>Quiz Online Test</h2>

<a href="http://www.developphp.com/video/JavaScript/">Many JavaScript Samples</a>
<a href="http://www.developphp.com/video/JavaScript/Exam-Application-Programming-Tutorial-Quiz-Online-Test">Quiz Online Test</a>


<h2>Date Time Countdown Tutorial</h2>

<a href="http://www.developphp.com/video/JavaScript/Date-Time-Countdown-Tutorial-Christmas-2012-Doomsday">Date Time Countdown Tutorial</a>
<br>
<br>

<h2>JavaScript Client-side web scraping</h2>

<a href="JavaScript Client-side web scraping.html">JavaScript Client-side web scraping</a>
<br>

<h2>keycodes</h2>

<a href="https://css-tricks.com/snippets/javascript/javascript-keycodes/">keycodes</a>
<br>

<h2>For…of Loop In JavaScript</h2>

<a href="For…of Loop In JavaScript.html">For…of Loop In JavaScript</a>
<br>

<h2>higher order function</h2>

A higher order function is a function that takes a function as an argument, or returns a function. 
Higher order function is in contrast to first order functions, which don’t take a function as an argument or return a function as output.
examples of .map() and .filter(). Both of them take a function as an argument. They're both higher order functions.
Example 1#
Let’s say we have an array of numbers and we want to create a new array which contains double of each value of the first array. Let’s see how we can solve the problem with and without Higher-Order Function.
Without Higher-order function
const arr1 = [1, 2, 3];
const arr2 = [];
for(let i = 0; i < arr1.length; i++) {
  arr2.push(arr1[i] * 2);
}
// prints [ 2, 4, 6 ]
console.log(arr2);
With Higher-order function map
const arr1 = [1, 2, 3];
const arr2 = arr1.map(function(item) {
  return item * 2;
});
console.log(arr2);
We can make this even shorter using the arrow function syntax:
const arr1 = [1, 2, 3];
const arr2 = arr1.map(item => item * 2);
console.log(arr2);
Example 2#
Let’s say we have an array containing the birth year of different persons and we want to create an array that contains their ages. For example:
Without Higher-order function
const birthYear = [1975, 1997, 2002, 1995, 1985];
const ages = [];
for(let i = 0; i < birthYear.length; i++) {
  let age = 2018 - birthYear[i];
  ages.push(age);
}
// prints [ 43, 21, 16, 23, 33 ]
console.log(ages);
With Higher-order function map
const birthYear = [1975, 1997, 2002, 1995, 1985];
const ages = birthYear.map(year => 2018 - year);
// prints [ 43, 21, 16, 23, 33 ]
console.log(ages);
<br>
Example
var sum = function(n1, n2) {//This is just a function
    return n1 + n2;
};
sum(1,2);//3
function makeSumN(n) {//This is a higher-order function
    return function(p) {
        sum(n, p)
   }
}
var sum1 = makeSumN(1);
sum1(2); //3
function makeMoreThanSum(f) {//This is a higher-order function
   return function(n1, n2) {
       sum(f(n1), n2)
   }
}
var sumSquareOfFirst = makeMoreThanSum(function(n){
    return n*n;
});
sumSquareOfFirst(2,1);//5
Example
function createMultiplier(multiplier){
	return function(x){
		return x * multiplier
	}
}
let doubleme = createMultiplier(2)
let tripleme = createMultiplier(3)
let quadrupleme = createMultiplier(4)
console.log(doubleme(5))
console.log(tripleme(3))
console.log(quadrupleme(7))
<br>

<h2>蒙版</h2>

<a href="https://segmentfault.com/a/1190000017892644">蒙版弹幕 Barrage UI</a>
<a href="https://segmentfault.com/a/1190000017954676">纯客户端 实时 蒙版 弹幕</a>
<br>

<h2>run HTA</h2>

CMDTail='\");close();'
LAmtNotice="BigVol!"  # popup message
LF = "\\n"
onecode = '0030'
codename = "abcde"
curPrice = "31.5"
AlertMsg=paste0(
'mshta javascript:alert(&lt;meta http-equiv="x-ua-compatible" content="ie=edge" />\"',"Alarm!!",LF, '&lt;br>&lt;br>&lt;br>',
onecode,LF ,codename, LF,"Price ",curPrice, LF, 
format(Sys.time(), "%H:%M:%OS"),LF, 
CMDTail)
system(AlertMsg, invisible=T, wait=F)
Usually, HTML5 doesn't work in HTA files because they are run by mshta.exe which acts like IE7 and HTML5 isn't supported in earlier versions of IE than IE9. 
But if you add &lt;meta http-equiv="x-ua-compatible" content="ie=edge" /&gt; in the head of the HTA, the HTA will act like the version of IE installed on the computer, so if the computer has IE9 or later and you add that tag, it will work. The problem with this is that if you upgrade the HTA, the &lt;hta:application/&gt; tag won't have any effect so you will lose all effects like icons, window properties, etc. 
For this reason, I prefer to not upgrade the HTA and to use workarounds instead of HTML5.
In HTA, to get the code to properly work, you must include the tag 
&lt;meta http-equiv="x-ua-compatible" content="ie=edge" /&gt; or 
&lt;meta http-equiv="x-ua-compatible" content="ie=9"&gt;to get the JavaScript and HTML 5 to work completely. You may add
&lt;HTA:APPLICATION
APPLICATIONNAME="HTA"
ID="HTA"
VERSION="1.0"
MAXIMIZEBUTTON="no"/&gt;
<a href="http://blog.sevagas.com/?Hacking-around-HTA-files">Hacking around HTA files</a>
<a href="https://stackoverflow.com/questions/35181278/does-html5-work-in-a-hta-file">HTML5 work in a .hta file</a>
<a href="https://www.htmlgoodies.com/beyond/reference/article.php/3472841/HTML-Applications.htm">HTML Applications</a>

<h2>九种跨域方式实现原理</h2>

<a href="九种跨域方式实现原理.html"><span class="red
	">九种跨域方式实现原理</span></a>

<br>

<h2>parse Excel file</h2>

<a href="https://stackoverflow.com/questions/8238407/how-to-parse-excel-file-in-javascript-html5">parse Excel file in Javascript/HTML5</a>
<br>
<a href="https://stackoverflow.com/questions/28782074/excel-to-json-javascript-code">Excel to JSON javascript code</a>
<br>
<a href="http://codetheory.in/parse-read-excel-files-xls-xlsx-javascript/">Parse and Read Excel Files (xls/xlsx) With JavaScript</a>
<br>
<a href="https://redstapler.co/sheetjs-tutorial-convert-excel-html-table/">SheetJS Tutorial – Convert Excel to HTML Table</a>
<br>
<br>

<h2>Multiple setIntervals running at once</h2>

In JS you can't. 
To have multiple functions in the same program execute at the same time you need multi-threading and some deep timing and thread handling skills. 
JavaScript is single threaded. 
Can use html5 web worker or try using setTimeout recursively. 
Create multiple functions following this example:
var interval = setTimeout(appendDateToBody, 5000);
function appendDateToBody() {
    document.body.appendChild(
        document.createTextNode(new Date() + " "));
    interval = setTimeout(appendDateToBody, 5000);
}
<br>

<h2>add the crossorigin tag to a dynamically loaded script</h2>

<a href="https://stackoverflow.com/questions/28901166/how-do-i-add-the-crossorigin-tag-to-a-dynamically-loaded-script">add the crossorigin tag to a dynamically loaded script</a>
<br>
<br>

<h2>link in alert boxes javascript</h2>

<a href="https://stackoverflow.com/questions/16973240/link in alert boxes javascript">link in alert boxes javascript</a>

alert function can only display text

// use window.confirm instead of alert
if (window.confirm('click "ok" to redirect. Cancel to stay ')) 
   { window.location.href='http://www.google.com'; };

if (window.confirm('Ok to Confirm, Cancel to Stay here'))
   { window.open('http://www.google.com', '_blank'); };

<h2>Javascript Formatting numbers with commas</h2>

var number = 12345.543;
number.toLocaleString();
	"12,345.543"
	<br>
<br>

<h2>To create a global variable</h2>

To create a global variable, just omit 'var' from the statement. 
When you omit 'var', you're actually creating the variable in the window namespace.
So, zz = 1 is actually window.zz = 1
A global variable has global scope which means it can be defined anywhere in your JavaScript code.
Variables declared within a JavaScript function, become LOCAL to the function.
A variable declared outside a function, becomes GLOBAL.

<h2>jQuery $.ajax()</h2>

<h1>jQuery $.ajax()</h1>
Some of jQuery's most used Ajax shorthand methods: <code>$.get()</code>, <code>$.post()</code>, and <code>$.load()</code>. 
They are convenient methods for making Ajax requests in a few lines of code.</strong><br>

Sometimes, we need more control over the Ajax calls we want to make. For example, we want to specify what should happen in case an Ajax call fails or we need to perform an Ajax request but its result is only needed if retrieved within a certain amount of time. In such situations, we can rely on another function provided by jQuery, called <code>$.ajax()</code>, that is the topic of this tutorial.<br>

<h2>The <code>$.ajax()</code> Function</h2>
The jQuery <a href="http://api.jquery.com/jquery.ajax/" target="_blank"><code>$.ajax()</code></a> function is used to perform an asynchronous HTTP request. It was added to the library a long time ago, existing since version 1.0. The <code>$.ajax()</code> function is what every function discussed in the previously mentioned article calls behind the scene using a preset configuration. The signatures of this function are shown below:<br>


<code>$.ajax(url[, options])
$.ajax([options])</code>

The <code>url</code> parameter is a string containing the URL you want to reach with the Ajax call, while <code>options</code> is an object literal containing the configuration for the Ajax request.<br>

In its first form, this function performs an Ajax request using the <code>url</code> parameter and the options specified in <code>options</code>. In the second form, the URL is specified in the <code>options</code> parameter, or can be omitted in which case the request is made to the current page.<br>

The list of the options accepted by this function, described in the next section, is very long. So, I'll keep their description short. In case you want to study in-depth their meaning, you can refer to <a href="http://api.jquery.com/jquery.ajax/" target="_blank">the official documentation of <code>$.ajax()</code></a>.<br>

<h3>The <code>option</code> Parameter</h3>
There are a lot of different options you can specify to bend <code>$.ajax()</code> to your need. In the list below you can find their names and their description sorted in alphabetic order:<br>

<code>accepts</code>: The content type sent in the request header that tells the server what kind of response it will accept in return<br>
<code>async</code>: Set this options to <code>false</code> to perform a synchronous request<br>
<code>beforeSend</code>: A pre-request callback function that can be used to modify the <code>jqXHR</code> object before it is sent<br>
<code>cache</code>: Set this options to <code>false</code> to force requested pages not to be cached by the browser<br>
<code>complete</code>: A function to be called when the request finishes (after <code>success</code> and <code>error</code> callbacks are executed)<br>
<code>contents</code>: An object that determines how the library will parse the response<br>
<code>contentType</code>: The content type of the data sent to the server<br>
<code>context</code>: An object to use as the context (<code>this</code>) of all Ajax-related callbacks<br>
<code>converters</code>: An object containing dataType-to-dataType converters<br>
<code>crossDomain</code>: Set this property to <code>true</code> to force a cross-domain request (such as JSONP) on the same domain<br>
<code>data</code>: The data to send to the server when performing the Ajax request<br>
<code>dataFilter</code>: A function to be used to handle the raw response data of XMLHttpRequest<br>
<code>dataType</code>: The type of data expected back from the server<br>
<code>error</code>: A function to be called if the request fails<br>
<code>global</code>: Whether to trigger global Ajax event handlers for this request<br>
<code>headers</code>: An object of additional headers to send to the server<br>
<code>ifModified</code>: Set this option to <code>true</code> if you want to force the request to be successful only if the response has changed since the last request<br>
<code>isLocal</code>: Set this option to <code>true</code> if you want to force jQuery to recognize the current environment as &ldquo;local&rdquo;<br>
<code>jsonp</code>: A string to override the callback function name in a JSONP request<br>
<code>jsonpCallback</code>: Specifies the callback function name for a JSONP request<br>
<code>mimeType</code>: A string that specifies the mime type to override the XHR mime type<br>
<code>password</code>: A password to be used with XMLHttpRequest in response to an HTTP access authentication request<br>
<code>processData </code>: Set this option to <code>false</code> if you don't want that the data passed in to the <code>data</code> option (if not a string already) will be processed and transformed into a query string<br>
<code>scriptCharset</code>: Sets the charset attribute on the script tag used in the request but only applies when the &ldquo;script&rdquo; transport is used<br>
<code>statusCode</code>: An object of numeric HTTP codes and functions to be called when the response has the corresponding code<br>
<code>success</code>: A function to be called if the request succeeds<br>
<code>timeout</code>: A number that specifies a timeout (in milliseconds) for the request<br>
<code>traditional</code>: Set this to <code>true</code> if you wish to use the traditional style of param serialization<br>
<code>type</code>: The type of request to make, which can be either &ldquo;POST&rdquo; or &ldquo;GET&rdquo;<br>
<code>url</code>: A string containing the URL to which the request is sent<br>
<code>username</code>: A username to be used with XMLHttpRequest in response to an HTTP access authentication request<br>
<code>xhr</code>: A callback for creating the XMLHttpRequest object<br>
<code>xhrFields</code>: An object to set on the native XHR object<br>
That was pretty long, isn't it? Well, as developers you probably have stopped reading this list at the fifth or sixth element I guess, but that's fine. The next section will be more exciting because we'll put the <code>$.ajax()</code> function and some of these options into action.<br>


<br>
<h2>$.ajax</h2>


No 'Access-Control-Allow-Origin' header is present on the requested resource.
make a http request using CORS with jquery:
============
$.ajax({
    url: theurl,

    // This is the important part
    xhrFields: {withCredentials: true},

    // This is the important part
    data: data,

    success: function (response) {
        // handle the response
    },

    error: function (xhr, status) {
        // handle errors
    }
});
============
 $.ajax({
            url: "http://localhost:8079/students/add/",

            type: "POST",

            crossDomain: true,

            data: JSON.stringify(somejson),

            dataType: "json",

            success: function (response) {
                var resp = JSON.parse(response)
                alert(resp.status);
            },

            error: function (xhr, status) {
                alert("error");
            }
});

============
var settings = {
          'cache': false,
          // 'dataType': "jsonp",
          "async": true,
          "crossDomain": true,
          "url": theurl,
          "method": "GET",
          "headers": {
              "accept": "application/json",
              "Access-Control-Allow-Origin":"*"
          }
}
$.ajax(settings).done(function (response) {console.log(response);});
$.ajax(theurl,
    {success: function (data) {$('body').append(data);}
});
============
var bodycontent = $('body');
$.ajax({
    url: theurl,
    xhrFields: {withCredentials: true},
    crossDomain: true,
    success: function(rawData){
    body.append(rawData);;
  }});
============
<a href="https://openhome.cc/Gossip/JavaScript/JSONP.html">使用 JSONP 跨站請求</a>
<br>

<a href="https://www.w3schools.com/js/js_json_jsonp.asp">Creating a Dynamic Script Tag and Request With a Callback Function</a>
<br>

&lt;script&gt;
function clickButton() {
  var s = document.createElement("script");
  s.src = "demo_jsonp.php";
  document.body.appendChild(s);
}

function clickButton() {
  var s = document.createElement("script");
  s.src = "jsonp_demo_db.php?callback=myDisplayFunction";
  document.body.appendChild(s);
}
透過 jsonp 的方法所傳送的 URL 當中，結尾都會帶一個問號 (?)，
這個問號會在取得 server 回傳值的時候，自動轉換成 call function 的 function name，而如果是一個匿名函式，則會轉換成一個帶有 time stamp 的函式名稱。

當傳輸完成後，client 會自動執行 Server 回傳的 callback function，取得結果。

function foo(data)
{
    // do stuff with JSON
}

var script = document.createElement('script');
script.src = '//example.com/path/to/jsonp?callback=foo'

document.getElementsByTagName('head')[0].appendChild(script);
// or document.head.appendChild(script) in modern browsers



<h2>Minify Javascript</h2>

<a href="https://jscompress.com/">JSCompress</a>
<a href="https://www.minifier.org/">Minify Javascript Or Css Code</a>
<a href="https://stackoverflow.com/questions/1737388/how-to-minify-javascript-code">how to minify javascript code</a>
<a href="http://www.crockford.com/javascript/jsmin.html">The JavaScript Minifier JSMin</a>
jsmin &lt;fulljslint.js &gt;jslint.js "(c)2002 Douglas Crockford"

<h2>createElement("INPUT")</h2>

function myFunction() {
    var x = document.createElement("INPUT");
    x.setAttribute("type", "radio");
    document.body.appendChild(x);
}


<h2>window.event, KeyboardEvent keyCode, which</h2>

function KeyPress(e){
	var keynum;
	if(window.event){keynum=e.keyCode;}
	else if(e.which){keynum=e.which;}
	if(keynum==13)sendme('oLGK__e.html',1);
}

window.event:
<a href="https://www.w3schools.com/tags/ref_eventattributes.asp">Window Event Attributes</a><br>

keyCode:
<a href="https://www.w3schools.com/jsref/event_key_keycode.asp">KeyboardEvent keyCode Property</a>
<br>
KeyboardEvent which:
<a href="https://www.w3schools.com/jsref/event_key_which.asp">KeyboardEvent which Property</a>
<br>

<h2>conditional operator ? :</h2>

<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator">conditional operator</a>

https://stackoverflow.com/questions/6259982/how-do-you-use-the-conditional-operator-in-javascript
? : (conditional) operator in JavaScript

The conditional operator is the only JavaScript operator that takes three operands. 
This operator is frequently used as a shortcut for the if statement.

JavaScript Demo: 
Expressions - Conditional operator

function getFee(isMember) {
  return (isMember ? "$2.00" : "$10.00");
}

function zeroFill(num) {
  return num < 10 ? '0' + num : num;
}

<h2>Async,Await by Example</h2>

<a href="Async,Await by Example.html">Async,Await by Example</a>
<a href="https://javascript.info/async-await">javascript-async-await</a>
<a href="https://wcc723.github.io/javascript/2017/12/30/javascript-async-await/">async-await</a>
<a href="https://wcc723.github.io/javascript/2017/12/29/javascript-proimse/">proimse</a>

<a href="https://hackernoon.com/understanding-promises-in-javascript-13d99df067c1">Understanding promises in JavaScript</a>
<a href="https://spring.io/understanding/javascript-promises">javascript-promises</a>
<a href="https://scotch.io/tutorials/javascript-promises-for-dummies">JavaScript Promises for Dummies</a>
<a href="https://javascript.info/promise-basics">promise-basics</a>
A “producing code” that does something and takes time. 
For instance, the code loads a remote script. 

A “consuming code” that wants the result of the “producing code” once it’s ready. 

A promise is a special JavaScript object that links the “producing code” and the “consuming code” together. 

<br>
<h2>jQuery on() Method</h2>

$(selector).on(event,childSelector,data,function,map)

Example
Attach a click event to the p element:
$("p").on("click", function(){
  alert("The paragraph was clicked.");
});

$( "#dataTable tbody tr" ).on( "click", function() {
  console.log( $( this ).text() );
});

<table class="w3-table-all notranslate"> 
  <tr>
    <th style="width:20%">Parameter</th>
    <th>Description</th>
  </tr>  
    <tr>
    <td><em>event</em></td>
    <td>Required. Specifies one or more event(s) or namespaces to attach to the selected elements.<br>
 <br>
 Multiple event values are separated by space. Must be a valid event</td>
    </tr>
  <tr>
    <td><em>childSelector</em></td>
    <td>Optional. Specifies that the event handler should only be attached to the specified child elements (and not the selector itself, like the deprecated delegate() method).</td>
    </tr>
  <tr>
    <td><em>data</em></td>
    <td>Optional. Specifies additional data to pass along to the function</td>
    </tr>
  <tr>
    <td><em>function</em></td>
    <td>Required. Specifies the function to run when the event occurs</td>
  </tr>
  <tr>
    <td><em>map</em></td>
    <td>Specifies an event map (<em>{event:function, event:function, ...})</em> containing one or more event to attach to the selected elements, and functions to run when the events occur</td>
  </tr>
  </table>
<br>

===========================
<br>
<h2>Looping through objects in JavaScript</h2>

Once in a while, you may need to loop through Objects in JavaScript. The only way to do so before ES6 is with a <code>for...in</code> loop.
The problem with a <code>for...in</code> loop is that it iterates through properties in the Prototype chain. When you loop through an object with the <code>for...in</code> loop, you need to check if the property belongs to the object. You can do this with <code>hasOwnProperty</code>.
<code>for (var property in object) {
  if (object.hasOwnProperty(property)) {
    // Do things here
  }
}
</code>
We no longer have to rely on <code>for...in</code> and <code>hasOwnProperty</code> now. There’s a better way.
<!--more-->
<h3 id="a-better-way-to-loop-through-objects">A better way to loop through objects</h3>
The better way to loop through objects is <strong>first to convert the object into an array. Then, you loop through the array.</strong>
You can convert an object into an array with three methods:
<ol>
<li><code>Object.keys</code></li>
<li><code>Object.values</code></li>
<li><code>Object.entries</code></li>
</ol>
<h4 id="object.keys">Object.keys</h4>
<code>Object.keys</code> creates an array that contains the properties of an object.

<code>const fruits = {
  apple: 28,
  orange: 17,
  pear: 54,
}

console.log(Object.keys(fruits)) // [apple, orange, pear]
</code>

<h4 id="object.values">Object.values</h4>
<code>Object.values</code> creates an array that contains the values of every property in an object. Here’s an example:
<code>const fruits = {
  apple: 28,
  orange: 17,
  pear: 54,
}

const values = Object.values(fruits)
console.log(values) // [28, 17, 54]
</code>
<h4 id="object.entries">Object.entries</h4>
<code>Object.entries</code> creates an array of arrays. Each inner array has two item. The first item is the property; the second item is the value.
Here’s an example:
<code>const fruits = {
  apple: 28,
  orange: 17,
  pear: 54,
}

const entries = Object.entries(fruits)
console.log(entries)
// [
//   [apple, 28],
//   [orange, 17],
//   [pear, 54]
// ]
</code>
My favorite of the three is <code>Object.entries</code> because you get both the key and property values.
<h3 id="looping-through-the-array">Looping through the array</h3>
Once you’ve converted the object into an array with <code>Object.keys</code>, <code>Object.values</code>, or <code>Object.entries</code>, you can loop through it as if it was a normal array.
<code>// Looping through arrays created from Object.keys
const keys = Object.keys(fruits)
for (const key of keys) {
  console.log(key)
}

// Results:
// apple
// orange
// pear
</code>
If you use <code>Object.entries</code> you might want to <a href="/blog/es6">destructure</a> the array into its key and property.
<code>for (const [fruit, count] of entries) {
  console.log(`There are ${count} ${fruit}s`)
}

// Result
// There are 28 apples
// There are 17 oranges
// There are 54 pears
</code>

<h2>Get element of JS object with an index</h2>

<a href="https://stackoverflow.com/questions/14802481/get-element-of-js-object-with-an-index">Get element of JS object with an index</a>
myobj[Object.keys(myobj)[0]];

<h3 id="wrapping-up">Wrapping up</h3>
The better way to loop through objects is first convert it into an array with one of these three methods.
<ol>
<li><code>Object.keys</code></li>
<li><code>Object.values</code></li>
<li><code>Object.entries</code></li>
</ol>
Then, you loop through the results like a normal array.

<h2>Reading CSV File With HTML5 File API</h2>
<a href="Reading CSV File With HTML5 File API.html">Reading CSV File With HTML5 File API</a>
<br>
<h2>JS access local file</h2>

from				to access		status
local js			local file	error, CORS
				server file	OK

server js			local file	error, CORS
				server file	error in some server

local server js	local file	?
				server file	?

use file api:
<a href="Reading CSV File With HTML5 File API.html">Reading CSV File With HTML5 File API</a><br>
<br>
<h2>fairyDustCursorJS</h2>
<a href="fairyDustCursorJS.txt">fairyDustCursorJS</a>
<br>
<h2>copying strings to the clipboard</h2>
<a href="https://techoverflow.net/2018/03/30/copying-strings-to-the-clipboard-using-pure-javascript/">copying strings to the clipboard</a>

function copyStringToClipboard (str) {
   // Create new element
   var el = document.createElement('textarea');
   // Set value (string to be copied)
   el.value = str;
   // Set non-editable to avoid focus and move outside of view
   el.setAttribute('readonly', '');
   el.style = {position: 'absolute', left: '-9999px'};
   document.body.appendChild(el);
   // Select text inside element
   el.select();
   // Copy text to clipboard
   document.execCommand('copy');
   // Remove temporary element
   document.body.removeChild(el);
}
Note: If the user selected anything when you ran the function, this selection will be cleared. If you need to preserve the selection, see this Hackernoon article for a more elaborate solution..

You can use it like this:

// Usage example:
copyStringToClipboard("abc123");
It works by adding a temporary textarea element onto the DOM which is moved outside (credits to Angelos Charalis on Hackernoon for the original idea) the viewport in order to avoid wreaking havoc on screenreaders etc.


<h2>slide and fade functions</h2>

  $(".btn1").click(function(){
	  $("p").slideUp();
  });

  $(".btn2").click(function(){
	  $("p").slideDown();
  });

  $("button").click(function(){
    $("#div1").fadeToggle();
    $("#div2").fadeToggle("slow");
    $("#div3").fadeToggle(3000);
  });


<h2>TypeScript in 5 minutes</h2>
<a href="https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html">TypeScript in 5 minutes</a>

<h2>JavaScript Prototype</h2>
<a href="JavaScript Prototype.html">JavaScript Prototype</a>
<h2>Prototype with Examples</h2>
JavaScript is a prototype-based language, therefore understanding the prototype object is one of the most important concepts which JavaScript practitioners need to know. 

Before reading this article, you will need to have a basic understanding of the <a href="https://guide.freecodecamp.org/src/pages/javascript/this-reference/index.md"><code>this</code> reference in JavaScript</a>.
<h3><strong>Prototype object</strong></h3>
For the sake of clarity, let’s examine the following example:
<code>function Point2D(x, y) {
  this.x = x;
  this.y = y;}</code>

As <code>Point2D</code> function is declared, a default property named <code>prototype</code> will be created for it (note that, in JavaScript, a function is also an object). 
The <code>prototype</code> property is an object which contains a <code>constructor</code> property and its value is <code>Point2D</code> function: <code>Point2D.prototype.constructor = Point2D</code>. 
And when you call <code>Point2D</code> with <code>new</code> keyword, <em>newly created objects will inherit all properties from</em> <code>Point2D.prototype</code>. 
To check that, you can add a method named <code>move</code> into <code>Point2D.prototype</code> as follows:
<code>Point2D.prototype.move = function(dx, dy) {
  this.x += dx;
  this.y += dy;}

var p1 = new Point2D(1, 2);
p1.move(3, 4);
console.log(p1.x); // 4
console.log(p1.y); // 6</code>

The <code>Point2D.prototype</code> is called <strong><strong>prototype object</strong></strong> or <strong><strong>prototype</strong></strong> of <code>p1</code> object and for any other object created with <code>new Point2D(...)</code> syntax. 
You can add more properties to <code>Point2D.prototype</code> object as you like. 
The common pattern is declare methods to <code>Point2D.prototype</code> and other properties will be declared in constructor function.

Built-in objects in JavaScript are constructed in a similar manner. 
For example:
<ul><li>Prototype of objects created with <code>new Object()</code> or <code>{}</code> syntax is <code>Object.prototype</code>.</li><li>Prototype of arrays created with <code>new Array()</code> or <code>[]</code> syntax is <code>Array.prototype</code>.</li><li>And so on with other built-in objects such as <code>Date</code> and <code>RegExp</code>.</li></ul>
<code>Object.prototype</code> is inherited by all objects and it has no prototype (its prototype is <code>null</code>).
<h3><strong>Prototype chain</strong></h3>
The prototype chain mechanism is simple: When you access a property <code>p</code> on object <code>obj</code>, the JavaScript engine will search this property inside <code>obj</code> object. 
If the engine fails to search, it continues searching in the prototype of <code>obj</code> object and so on until reaching <code>Object.prototype</code>. 
If after the search has finished, and nothing has been found the result will be <code>undefined</code>. 
For example:
<code>var obj1 = {
  a: 1,
  b: 2};

var obj2 = Object.create(obj1);
obj2.a = 2;

console.log(obj2.a); // 2
console.log(obj2.b); // 2
console.log(obj2.c); // undefined</code>

In above snippet, the statement <code>var obj2 = Object.create(obj1)</code> will create <code>obj2</code> object with prototype <code>obj1</code> object. 
In other words, <code>obj1</code> becomes the prototype of <code>obj2</code> instead of <code>Object.prototype</code> by default. 
As you can see, <code>b</code> is not a property of <code>obj2</code>, you can still access it via the prototype chain. 
For <code>c</code> property, however, you get <code>undefined</code> value because it can’t be found in <code>obj1</code> and <code>Object.prototype</code>.
<h3><strong>Classes</strong></h3>
In ES2016, we now get to use the <code>Class</code> keyword as well as the methods mentioned above to manipulate <code>prototype</code>. 
The JavaScript <code>Class</code> appeals to developers from OOP backgrounds, but it’s essentially doing the same thing as above.
<code>class Rectangle {
  constructor(height, width) { this.height = height this.width = width
  }

  get area() { return this.calcArea()
  }

  calcArea() { return this.height * this.width
  }}

const square = new Rectangle(10, 10)

console.log(square.area) // 100</code>

This is basically the same as:
<code>function Rectangle(height, width) {
  this.height = height
  this.width = width}

Rectangle.prototype.calcArea = function calcArea() {
  return this.height * this.width}</code>

The <code>getter</code> and <code>setter</code> methods in classes bind an Object property to a function that will be called when that property is looked up. 
It’s just syntactic sugar to help make it easier to <em>look up</em> or <em>set</em> properties.


<h2>Multiple Onload Functions</h2>
https://www.htmlgoodies.com/beyond/javascript/article.php/3724571/Using-Multiple-JavaScript-Onload-Functions.htm
Using Multiple JavaScript Onload Functions

window.onload = func1;	execute the script when page is loaded

&lt;body onload="func1(); func2();">	linking of multiple events onloaded

&lt;body onload="func1(); onkeypress="chkKey()">	on multiple events

window.onload = start;
function start() {
func1(); func2();}	linking of multiple events by function onloaded

window.addEventListener("load", myInit, true);
 function myInit(){
 // call your functions here.... };	create an init function manually	this can call that set of functions anytime

<h2>Common HTML Events</h2>
Here is a list of some common HTML events:

onchange	An HTML element has been changed
onclick	The user clicks an HTML element
onmouseover	The user moves the mouse over an HTML element
onmouseout	The user moves the mouse away from an HTML element
onkeydown	The user pushes a keyboard key
onload	The browser has finished loading the page

Common events
There is a huge collection of events that can be generated by most element nodes:
Mouse events.
Keyboard events.
HTML frame/object events.
HTML form events.
User interface events.
Mutation events (notification of any changes to the structure of a document).
Progress events).

Note that the event classification above is not exactly the same as W3C's classification.

<table>
<tbody><tr><th style="width:11%">Category</th><th style="width:12%">Type</th><th style="width:14%">Attribute</th><th>Description</th><th style="width:15%">Bubbles</th><th style="width:11%">Cancelable</th></tr>
<tr><td rowspan="14">Mouse</td><td>click</td><td>onclick</td><td>Fires when the pointing device button is clicked over an element. A click is defined as a mousedown and mouseup over the same screen location. The sequence of these events is:
mousedown, mouseup, click</td><td>Yes</td><td>Yes</td></tr>
<tr><td>dblclick</td><td>ondblclick</td><td>Fires when the pointing device button is double-clicked over an element</td><td>Yes</td><td>Yes</td></tr>
<tr><td>mousedown</td><td>onmousedown</td><td>Fires when the pointing device button is pressed over an element</td><td>Yes</td><td>Yes</td></tr>
<tr><td>mouseup</td><td>onmouseup</td><td>Fires when the pointing device button is released over an element</td><td>Yes</td><td>Yes</td></tr>
<tr><td>mouseover</td><td>onmouseover</td><td>Fires when the pointing device is moved onto an element</td><td>Yes</td><td>Yes</td></tr>
<tr><td>mousemove</td><td>onmousemove</td><td>Fires when the pointing device is moved while it is over an element</td><td>Yes</td><td>Yes</td></tr>
<tr><td>mouseout</td><td>onmouseout</td><td>Fires when the pointing device is moved away from an element</td><td>Yes</td><td>Yes</td></tr>
<tr><td>dragstart</td><td>ondragstart</td><td>Fired on an element when a drag is started.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>drag</td><td>ondrag</td><td>This event is fired at the source of the drag, that is, the element where dragstart was fired, during the drag operation.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>dragenter</td><td>ondragenter</td><td>Fired when the mouse is first moved over an element while a drag is occurring.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>dragleave</td><td>ondragleave</td><td>This event is fired when the mouse leaves an element while a drag is occurring.</td><td>Yes</td><td>No</td></tr>
<tr><td>dragover</td><td>ondragover</td><td>This event is fired as the mouse is moved over an element when a drag is occurring.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>drop</td><td>ondrop</td><td>The drop event is fired on the element where the drop occurs at the end of the drag operation.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>dragend</td><td>ondragend</td><td>The source of the drag will receive a dragend event when the drag operation is complete, whether it was successful or not.</td><td>Yes</td><td>No</td></tr>
<tr><td rowspan="3">Keyboard</td><td>keydown</td><td>onkeydown</td><td>Fires before keypress, when a key on the keyboard is pressed.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>keypress</td><td>onkeypress</td><td>Fires after keydown, when a key on the keyboard is pressed.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>keyup</td><td>onkeyup</td><td>Fires when a key on the keyboard is released</td><td>Yes</td><td>Yes</td></tr>
<tr><td rowspan="6">HTML frame/object</td><td>load</td><td>onload</td><td>Fires when the user agent finishes loading all content within a document, including window, frames, objects and images
For elements, it fires when the target element and all of its content has finished loading
</td><td>No</td><td>No</td></tr>
<tr><td>unload</td><td>onunload</td><td>Fires when the user agent removes all content from a window or frame
For elements, it fires when the target element or any of its content has been removed
</td><td>No</td><td>No</td></tr>
<tr><td>abort</td><td>onabort</td><td>Fires when an object/image is stopped from loading before completely loaded</td><td>Yes</td><td>No</td></tr>
<tr><td>error</td><td>onerror</td><td>Fires when an object/image/frame cannot be loaded properly</td><td>Yes</td><td>No</td></tr>
<tr><td>resize</td><td>onresize</td><td>Fires when a document view is resized</td><td>Yes</td><td>No</td></tr>
<tr><td>scroll</td><td>onscroll</td><td>Fires when an element or document view is scrolled</td><td>No, except that a scroll event on document must bubble to the window</td><td>No</td></tr>
<tr><td rowspan="6">HTML form</td><td>select</td><td>onselect</td><td>Fires when a user selects some text in a text field, including input and textarea</td><td>Yes</td><td>No</td></tr>
<tr><td>change</td><td>onchange</td><td>Fires when a control loses the input focus and its value has been modified since gaining focus</td><td>Yes</td><td>No</td></tr>
<tr><td>submit</td><td>onsubmit</td><td>Fires when a form is submitted</td><td>Yes</td><td>Yes</td></tr>
<tr><td>reset</td><td>onreset</td><td>Fires when a form is reset</td><td>Yes</td><td>No</td></tr>
<tr><td>focus</td><td>onfocus</td><td>Fires when an element receives focus either via the pointing device or by tab navigation</td><td>No</td><td>No</td></tr>
<tr><td>blur</td><td>onblur</td><td>Fires when an element loses focus either via the pointing device or by tabbing navigation</td><td>No</td><td>No</td></tr>
<tr><td rowspan="3">User interface</td><td>focusin</td><td>(none)</td><td>Similar to HTML focus event, but can be applied to any focusable element</td><td>Yes</td><td>No</td></tr>
<tr><td>focusout</td><td>(none)</td><td>Similar to HTML blur event, but can be applied to any focusable element</td><td>Yes</td><td>No</td></tr>
<tr><td>DOMActivate</td><td>(none)</td><td>Similar to XUL command event. Fires when an element is activated, for instance, through a mouse click or a keypress.</td><td>Yes</td><td>Yes</td></tr>
<tr><td rowspan="7">Mutation</td><td>DOMSubtreeModified</td><td>(none)</td><td>Fires when the subtree is modified</td><td>Yes</td><td>No</td></tr>
<tr><td>DOMNodeInserted</td><td>(none)</td><td>Fires when a node has been added as a child of another node</td><td>Yes</td><td>No</td></tr>
<tr><td>DOMNodeRemoved</td><td>(none)</td><td>Fires when a node has been removed from a DOM-tree</td><td>Yes</td><td>No</td></tr>
<tr><td>DOMNodeRemovedFromDocument</td><td>(none)</td><td>Fires when a node is being removed from a document</td><td>No</td><td>No</td></tr>
<tr><td>DOMNodeInsertedIntoDocument</td><td>(none)</td><td>Fires when a node is being inserted into a document</td><td>No</td><td>No</td></tr>
<tr><td>DOMAttrModified</td><td>(none)</td><td>Fires when an attribute has been modified</td><td>Yes</td><td>No</td></tr>
<tr><td>DOMCharacterDataModified</td><td>(none)</td><td>Fires when the character data has been modified</td><td>Yes</td><td>No</td></tr>
<tr><td rowspan="6">Progress</td><td>loadstart</td><td>(none)</td><td>Progress has begun.</td><td>No</td><td>No</td></tr>
<tr><td>progress</td><td>(none)</td><td>In progress. After loadstart has been dispatched.</td><td>No</td><td>No</td></tr>
<tr><td>error</td><td>(none)</td><td>Progression failed. After the last progress has been dispatched, or after loadstart has been dispatched if progress has not been dispatched.</td><td>No</td><td>No</td></tr>
<tr><td>abort</td><td>(none)</td><td>Progression is terminated. After the last progress has been dispatched, or after loadstart has been dispatched if progress has not been dispatched.</td><td>No</td><td>No</td></tr>
<tr><td>load</td><td>(none)</td><td>Progression is successful. After the last progress has been dispatched, or after loadstart has been dispatched if progress has not been dispatched.</td><td>No</td><td>No</td></tr>
<tr><td>loadend</td><td>(none)</td><td>Progress has stopped. After one of error, abort, or load has been dispatched.</td><td>No</td><td>No</td></tr>
</tbody></table>
Note that the events whose names start with "DOM" are currently not well supported, and for this and other performance reasons are deprecated by the W3C in DOM Level 3. Mozilla and Opera support <i>DOMAttrModified</i>, <i>DOMNodeInserted</i>, <i>DOMNodeRemoved</i> and <i>DOMCharacterDataModified</i>. Chrome and Safari support these events, except for <i>DOMAttrModified</i>.
<h4>Touch events</h4>
Web browsers running on touch-enabled devices, such as Apple's iOS and Google's Android, generate additional events.

<table>
<tbody><tr><th>Category</th><th>Type</th><th>Attribute</th><th>Description</th><th>Bubbles</th><th>Cancelable</th></tr>
<tr><td rowspan="6">Touch</td><td>touchstart</td><td></td><td>Fires when a finger is placed on the touch surface/screen.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>touchend</td><td></td><td>Fires when a finger is removed from the touch surface/screen.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>touchmove</td><td></td><td>Fires when a finger already placed on the screen is moved across the screen.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>touchenter</td><td></td><td>Fires when a touch point moves onto the interactive area defined by a DOM element.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>touchleave</td><td></td><td>Fires when a touch point moves off the interactive area defined by a DOM element.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>touchcancel</td><td></td><td>A user agent must dispatch this event type to indicate when a TouchPoint has been disrupted in an implementation-specific manner, such as by moving outside the bounds of the UA window. A user agent may also dispatch this event type when the user places more touch points (The coordinate point at which a pointer (e.g. finger or stylus) intersects the target surface of an interface) on the touch surface than the device or implementation is configured to store, in which case the earliest TouchPoint object in the TouchList should be removed.</td><td>Yes</td><td>No</td></tr>
</tbody></table>
In the W3C draft recommendation, a <code>TouchEvent</code> delivers a <code>TouchList</code> of <code>Touch</code> locations, the modifier keys that were active, a <code>TouchList</code> of <code>Touch</code> locations within the targeted DOM element, and a <code>TouchList</code> of <code>Touch</code> locations that have changed since the previous <code>TouchEvent</code>.

Apple didn't join this working group, and delayed W3C recommendation of its Touch Events Specification by disclosing patents late in the recommendation process.

<h4>Pointer events</h4>
Web browsers on devices with various types of input devices including mouse, touch panel, and pen may generate integrated input events. Users can see what type of input device is pressed, what button is pressed on that device, and how strongly the button is pressed when it comes to a stylus pen. As of October 2013, this event is only supported by Internet Explorer 10 and 11.

<table>
<tbody><tr><th>Category</th><th>Type</th><th>Attribute</th><th>Description</th><th>Bubbles</th><th>Cancelable</th></tr>
<tr><td rowspan="10">Pointer</td><td>pointerdown</td><td>onpointerdown</td><td>Fires when the pointing device button is activated, or pressed over an element.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>pointerup</td><td>onpointerup</td><td>Fires when the pointing device button is released over an element</td><td>Yes</td><td>Yes</td></tr>
<tr><td>pointercancel</td><td>onpointercancel</td><td>Fires when a pointing device is unlikely to continue to produce event because, for example, the device is used for panning/zooming after a pointerdown event.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>pointermove</td><td>onpointermove</td><td>Fires when the pointing device is moved while it is over an element</td><td>Yes</td><td>Yes</td></tr>
<tr><td>pointerover</td><td>onpointerover</td><td>Fires when the pointing device is moved onto an element</td><td>Yes</td><td>Yes</td></tr>
<tr><td>pointerout</td><td>onpointerout</td><td>Fires when the pointing device is moved away from an element. Also fires after pointerup by pointing device without hovering, or after</td><td>Yes</td><td>Yes</td></tr>
<tr><td>pointerenter</td><td>onpointerenter</td><td>Fires when the pointing device is moved onto an element, or when the button of the pointing device which does not support hovering is pressed on one of its descendant elements.</td><td>No</td><td>Yes</td></tr>
<tr><td>pointerleave</td><td>onpointerleave</td><td>Fires when the pointing device is moved away from an element, or when the button of the pointing device which does not support hovering is released over its descendant elements.</td><td>No</td><td>Yes</td></tr>
<tr><td>gotpointercapture</td><td>ongotpointercapture</td><td>Fires when the pointer is captured by setPointerCapture method.</td><td>Yes</td><td>No</td></tr>
<tr><td>lostpointercapture</td><td>onlostpointercapture</td><td>Fires when the pointer is released by releasePointerCapture method.</td><td>Yes</td><td>No</td></tr>
</tbody></table>
<h4>Indie UI events</h4>
Not yet really implemented, the Indie UI working groups want to help web application developers to be able to support standard user interaction events without having to handle different platform specific technical events that could match with it.

Scripting usable interfaces can be difficult, especially when one considers that user interface design patterns differ across software platforms, hardware, and locales, and that those interactions can be further customized based on personal preference. Individuals are accustomed to the way the interface works on their own system, and their preferred interface frequently differs from that of the web application author's preferred interface.

For example, web application authors, wishing to intercept a user's intent to undo the last action, need to "listen" for all the following events:

Control+Z on Windows and Linux.
Command+Z on Mac OS X.
Shake events on some mobile devices.

It would be simpler to listen for a single, normalized request to "undo" the previous action.

<table>
<tbody><tr><th>Category</th><th>Type</th><th>Description</th><th>Bubbles</th><th>Cancelable</th></tr>
<tr><td rowspan="6">Request</td><td>undorequest</td><td>Indicates the user desires to "undo" the previous action. (May be superseded by the UndoManager interface.)</td><td>Yes</td><td>Yes</td></tr>
<tr><td>redorequest</td><td>Indicates the user desires to "redo" the previously "undone" action. (May be superseded by the UndoManager interface.)</td><td>Yes</td><td>no</td></tr>
<tr><td>expandrequest</td><td>Indicates the user desires to reveal information in a collapsed section (e.g. a disclosure widget) or branch node in a hierarchy (e.g., a tree view).</td><td>Yes</td><td>Yes</td></tr>
<tr><td>collapserequest</td><td>Indicates the user desires to hide or collapse information in an expanded section (e.g. a disclosure widget) or branch node in a hierarchy (e.g., a tree view).</td><td>Yes</td><td>Yes</td></tr>
<tr><td>dismissrequest</td><td>Indicates the user desires "dismiss" the current view (e.g. canceling a dialog, or closing a popup menu).</td><td>Yes</td><td>Yes</td></tr>
<tr><td>deleterequest</td><td>Indicates the user wants to initiate a "delete" action on the marked element or current view.</td><td>Yes</td><td>Yes</td></tr>
<tr><td rowspan="4">Focus Request</td><td>directionalfocusrequest</td><td>Initiated when the user agent sends a "direction focus" request to the web application. Web authors should not use or register for directionalfocusrequest events when standard browser focus and blur events are sufficient. Using these events unnecessarily could result in reduced performance or negative user experience.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>linearfocusrequest</td><td>Initiated when the user agent sends a "linear focus" request to the web application. Web authors should not use or register for linearfocusrequest events when standard browser focus and blur events are sufficient. This event type is only necessary on specialized control types such as data grids where the logical next element may not be focusable or even in the DOM until requested. Using these events unnecessarily could result in reduced performance or negative user experience.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>palettefocusrequest</td><td>Initiated when the user agent sends a "palette focus" request to the web application. Web app authors receiving this event should move focus to the first palette in the web application, or cycle focus between all available palettes. Note: palettes are sometimes referred to as non-modal dialogs or inspector windows.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>toolbarfocusrequest</td><td>Initiated when the user agent sends a "toolbar focus" request to the web application. Web app authors receiving this event should move focus to the main toolbar in the web application, or cycle focus between all available toolbars.</td><td>Yes</td><td>Yes</td></tr>
<tr><td rowspan="4">Manipulation Request</td><td>moverequest</td><td>Initiated when the user agent sends a move request to the web application with accompanying x/y delta values. This is used, for example, when moving an object to a new location on a layout canvas.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>panrequest</td><td>Initiated when the user agent sends a pan request to the web application with accompanying x/y delta values. This is used, for example, when changing the center point while panning a map or another custom image viewer.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>rotationrequest</td><td>Initiated when the user agent sends a rotation request to the web application with accompanying origin x/y values and a rotation value in degrees.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>zoomrequest</td><td>Initiated when the user agent sends a zoom request to the web application with accompanying origin x/y values and the zoom scale factor.</td><td>Yes</td><td>Yes</td></tr>
<tr><td rowspan="1">Scroll Request</td><td>scrollrequest</td><td>Initiated when the user agent sends a scroll request to the web application with accompanying x/y delta values or one of the other defined scrollType values. Authors should only use this event and uiaction with custom scroll views.</td><td>Yes</td><td>Yes</td></tr>
<tr><td rowspan="1">ValueChange Request</td><td>valuechangerequest</td><td>Initiated when the user agent sends a value change request to the web application. Used on custom range controls like sliders, carousels, etc.</td><td>Yes</td><td>Yes</td></tr>
</tbody></table>
<h4>Internet Explorer-specific events</h4>
In addition to the common (W3C) events, two major types of events are added by Internet Explorer. Some of the events have been implemented as de facto standards by other browsers.
Clipboard events.
Data binding events.

<table>
<tbody><tr><th>Category</th><th>Type</th><th>Attribute</th><th>Description</th><th>Bubbles</th><th>Cancelable</th></tr>
<tr><td rowspan="6">Clipboard</td><td>cut</td><td>oncut</td><td>Fires after a selection is cut to the clipboard.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>copy</td><td>oncopy</td><td>Fires after a selection is copied to the clipboard.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>paste</td><td>onpaste</td><td>Fires after a selection is pasted from the clipboard.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>beforecut</td><td>onbeforecut</td><td>Fires before a selection is cut to the clipboard.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>beforecopy</td><td>onbeforecopy</td><td>Fires before a selection is copied to the clipboard.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>beforepaste</td><td>onbeforepaste</td><td>Fires before a selection is pasted from the clipboard.</td><td>Yes</td><td>Yes</td></tr>
<tr><td rowspan="11">Data binding</td><td>afterupdate</td><td>onafterupdate</td><td>Fires immediately after a databound object has been updated.</td><td>Yes</td><td>No</td></tr>
<tr><td>beforeupdate</td><td>onbeforeupdate</td><td>Fires before a data source is updated.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>cellchange</td><td>oncellchange</td><td>Fires when a data source has changed.</td><td>Yes</td><td>No</td></tr>
<tr><td>dataavailable</td><td>ondataavailable</td><td>Fires when new data from a data source become available.</td><td>Yes</td><td>No</td></tr>
<tr><td>datasetchanged</td><td>ondatasetchanged</td><td>Fires when content at a data source has changed.</td><td>Yes</td><td>No</td></tr>
<tr><td>datasetcomplete</td><td>ondatasetcomplete</td><td>Fires when transfer of data from the data source has completed.</td><td>Yes</td><td>No</td></tr>
<tr><td>errorupdate</td><td>onerrorupdate</td><td>Fires if an error occurs while updating a data field.</td><td>Yes</td><td>No</td></tr>
<tr><td>rowenter</td><td>onrowenter</td><td>Fires when a new row of data from the data source is available.</td><td>Yes</td><td>No</td></tr>
<tr><td>rowexit</td><td>onrowexit</td><td>Fires when a row of data from the data source has just finished.</td><td>No</td><td>Yes</td></tr>
<tr><td>rowsdelete</td><td>onrowsdelete</td><td>Fires when a row of data from the data source is deleted.</td><td>Yes</td><td>No</td></tr>
<tr><td>rowinserted</td><td>onrowinserted</td><td>Fires when a row of data from the data source is inserted.</td><td>Yes</td><td>No</td></tr>
<tr><td rowspan="9">Mouse</td><td>contextmenu</td><td>oncontextmenu</td><td>Fires when the context menu is shown.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>drag</td><td>ondrag</td><td>Fires when during a mouse drag (on the moving Element).</td><td>Yes</td><td>Yes</td></tr>
<tr><td>dragstart</td><td>ondragstart</td><td>Fires when a mouse drag begins (on the moving Element).</td><td>Yes</td><td>Yes</td></tr>
<tr><td>dragenter</td><td>ondragenter</td><td>Fires when something is dragged onto an area (on the target Element).</td><td>Yes</td><td>Yes</td></tr>
<tr><td>dragover</td><td>ondragover</td><td>Fires when a drag is held over an area (on the target Element).</td><td>Yes</td><td>Yes</td></tr>
<tr><td>dragleave</td><td>ondragleave</td><td>Fires when something is dragged out of an area (on the target Element).</td><td>Yes</td><td>Yes</td></tr>
<tr><td>dragend</td><td>ondragend</td><td>Fires when a mouse drag ends (on the moving Element).</td><td>Yes</td><td>Yes</td></tr>
<tr><td>drop</td><td>ondrop</td><td>Fires when a mouse button is released over a valid target during a drag (on the target Element).</td><td>Yes</td><td>Yes</td></tr>
<tr><td>selectstart</td><td>onselectstart</td><td>Fires when the user starts to select text.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>Keyboard</td><td>help</td><td>onhelp</td><td>Fires when the user initiates help.</td><td>Yes</td><td>Yes</td></tr>
<tr><td rowspan="2">HTML frame/object</td><td>beforeunload</td><td>onbeforeunload</td><td>Fires before a document is unloaded.</td><td>No</td><td>Yes</td></tr>
<tr><td>stop</td><td>onstop</td><td>Fires when the user stops loading the object. (unlike abort, stop event can be attached to document)</td><td>No</td><td>No</td></tr>
<tr><td>HTML form</td><td>beforeeditfocus</td><td>onbeforeeditfocus</td><td>Fires before an element gains focus for editing.</td><td>Yes</td><td>Yes</td></tr>
<tr><td rowspan="3">Marquee</td><td>start</td><td>onstart</td><td>Fires when a marquee begins a new loop.</td><td>No</td><td>No</td></tr>
<tr><td>finish</td><td>onfinish</td><td>Fires when marquee looping is complete.</td><td>No</td><td>Yes</td></tr>
<tr><td>bounce</td><td>onbounce</td><td>Fires when a scrolling marquee bounces back in the other direction.</td><td>No</td><td>Yes</td></tr>
<tr><td rowspan="6">Miscellaneous</td><td>beforeprint</td><td>onbeforeprint</td><td>Fires before a document is printed</td><td>No</td><td>No</td></tr>
<tr><td>afterprint</td><td>onafterprint</td><td>Fires immediately after the document prints.</td><td>No</td><td>No</td></tr>
<tr><td>propertychange</td><td>onpropertychange</td><td>Fires when the property of an object is changed.</td><td>No</td><td>No</td></tr>
<tr><td>filterchange</td><td>onfilterchange</td><td>Fires when a filter changes properties or finishes a transition.</td><td>No</td><td>No</td></tr>
<tr><td>readystatechange</td><td>onreadystatechange</td><td>Fires when the readyState property of an element changes.</td><td>No</td><td>No</td></tr>
<tr><td>losecapture</td><td>onlosecapture</td><td>Fires when the releaseCapture method is invoked.</td><td>No</td><td>No</td></tr>
</tbody></table>
Note that Mozilla, Safari and Opera also support the readystatechange event for the XMLHttpRequest object. Mozilla also supports the beforeunload event using the traditional event registration method (DOM Level 0). Mozilla and Safari also support contextmenu, but Internet Explorer for Mac does not.

Note that Firefox 6 and later support the beforeprint and afterprint events.

<h3>XUL events</h3>
In addition to the common (W3C) events, Mozilla defined a set of events that work only with XUL elements.
<table>
<tbody><tr><th>Category</th><th>Type</th><th>Attribute</th><th>Description</th><th>Bubbles</th><th>Cancelable</th></tr>
<tr><td rowspan="6">Mouse</td><td>DOMMouseScroll</td><td>DOMMouseScroll</td><td>Fires when the mouse wheel is moved, causing the content to scroll.</td><td>Yes</td><td>Yes</td></tr>
<tr><td>dragdrop</td><td>ondragdrop</td><td>Fires when the user releases the mouse button to drop an object being dragged.</td><td>No</td><td>No</td></tr>
<tr><td>dragenter</td><td>ondragenter</td><td>Fires when the mouse pointer first moves over an element during a drag. It is similar to the mouseover event but occurs while dragging.</td><td>No</td><td>No</td></tr>
<tr><td>dragexit</td><td>ondragexit</td><td>Fires when the mouse pointer moves away from an element during a drag. It is also called after a drop on an element. It is similar to the mouseout event but occurs during a drag.</td><td>No</td><td>No</td></tr>
<tr><td>draggesture</td><td>ondraggesture</td><td>Fires when the user starts dragging the element, usually by holding down the mouse button and moving the mouse.</td><td>No</td><td>No</td></tr>
<tr><td>dragover</td><td>ondragover</td><td>Related to the mousemove event, this event is fired while something is being dragged over an element.</td><td>No</td><td>No</td></tr>
<tr><td rowspan="5">Input</td><td>CheckboxStateChange</td><td></td><td>Fires when a checkbox is checked or unchecked, either by the user or a script.</td><td>No</td><td>No</td></tr>
<tr><td>RadioStateChange</td><td></td><td>Fires when a radio button is selected, either by the user or a script.</td><td>No</td><td>No</td></tr>
<tr><td>close</td><td>onclose</td><td>Fires when a request has been made to close the window.</td><td>No</td><td>Yes</td></tr>
<tr><td>command</td><td>oncommand</td><td>Similar to W3C DOMActivate event. Fires when an element is activated, for instance, through a mouse click or a keypress.</td><td>No</td><td>No</td></tr>
<tr><td>input</td><td>oninput</td><td>Fires when a user enters text in a textbox.</td><td>Yes</td><td>No</td></tr>
<tr><td rowspan="10">User interface</td><td>DOMMenuItemActive</td><td>DOMMenuItemActive</td><td>Fires when a menu or menuitem is hovered over, or highlighted.</td><td>Yes</td><td>No</td></tr>
<tr><td>DOMMenuItemInactive</td><td>DOMMenuItemInactive</td><td>Fires when a menu or menuitem is no longer being hovered over, or highlighted.</td><td>Yes</td><td>No</td></tr>
<tr><td>contextmenu</td><td>oncontextmenu</td><td>Fires when the user requests to open the context menu for the element. The action to do this varies by platform, but it will typically be a right click.</td><td>No</td><td>Yes</td></tr>
<tr><td>overflow</td><td>onoverflow</td><td>Fires a box or other layout element when there is not enough space to display it at full size.</td><td>No</td><td>No</td></tr>
<tr><td>overflowchanged</td><td>onoverflowchanged</td><td>Fires when the overflow state changes.</td><td>No</td><td>No</td></tr>
<tr><td>underflow</td><td>onunderflow</td><td>Fires to an element when there becomes enough space to display it at full size.</td><td>No</td><td>No</td></tr>
<tr><td>popuphidden</td><td>onpopuphidden</td><td>Fires to a popup after it has been hidden.</td><td>No</td><td>No</td></tr>
<tr><td>popuphiding</td><td>onpopuphiding</td><td>Fires to a popup when it is about to be hidden.</td><td>No</td><td>No</td></tr>
<tr><td>popupshowing</td><td>onpopupshowing</td><td>Fires to a popup just before it is popped open.</td><td>No</td><td>Yes</td></tr>
<tr><td>popupshown</td><td>onpopupshown</td><td>Fires to a popup after it has been opened, much like the onload event is sent to a window when it is opened.</td><td>No</td><td>No</td></tr>
<tr><td rowspan="2">Command</td><td>broadcast</td><td>onbroadcast</td><td>Placed on an observer. The broadcast event is sent when the attributes of the broadcaster being listened to are changed.</td><td>No</td><td>No</td></tr>
<tr><td>commandupdate</td><td>oncommandupdate</td><td>Fires when a command update occurs.</td><td>No</td><td>No</td></tr>
</tbody></table>
<h3>Other events</h3>
For Mozilla and Opera 9, there are also undocumented events known as <i>DOMContentLoaded</i> and <i>DOMFrameContentLoaded</i> which fire when the DOM content is loaded. These are different from "load" as they fire before the loading of related files (e.g., images). However, DOMContentLoaded has been added to the HTML 5 specification.
The DOMContentLoaded event was also implemented in the Webkit rendering engine build 500+.

Opera 9 also supports the Web Forms 2.0 events <i>DOMControlValueChanged</i>, <i>invalid</i>, <i>forminput</i> and <i>formchange</i>.
<h3>Event flow</h3>
Consider the situation when there are 2 elements nested together. Both have event handlers registered on the same event type, say "click". When the user clicks on the inner element, there are two possible ways to handle it:
Trigger the elements from outer to inner (event capturing). This model is implemented in Netscape Navigator.
Trigger the elements from inner to outer (event bubbling). This model is implemented in Internet Explorer and other browsers.
W3C takes a middle position in this struggle. Events are first captured until it reaches the target element, and then bubbled up. During the event flow, an event can be responded to at any element in the path (an observer) in either phase by causing an action, and/or by stopping the event (with method <tt>event.stopPropagation()</tt> for W3C-conforming browsers and command <tt>event.cancelBubble = true</tt> for Internet Explorer), and/or by cancelling the default action for the event.

<h3>Event object</h3>
The Event object provides a lot of information about a particular event, including information about target element, key pressed, mouse button pressed, mouse position, etc. Unfortunately, there are very serious browser incompatibilities in this area. Hence only the W3C Event object is discussed in this article.

<table>
<caption>Event properties
</caption>
<tbody><tr><th>Name</th><th>Type</th><th>Description</th></tr>
<tr><td>type</td><td>DOMString</td><td>The name of the event (case-insensitive in DOM level 2 but case-sensitive in DOM level 3 ).</td></tr>
<tr><td>target</td><td>EventTarget</td><td>Used to indicate the EventTarget to which the event was originally dispatched.</td></tr>
<tr><td>currentTarget</td><td>EventTarget</td><td>Used to indicate the EventTarget whose EventListeners are currently being processed.</td></tr>
<tr><td>eventPhase</td><td>unsigned short</td><td>Used to indicate which phase of event flow is currently being evaluated.</td></tr>
<tr><td>bubbles</td><td>boolean</td><td>Used to indicate whether or not an event is a bubbling event.</td></tr>
<tr><td>cancelable</td><td>boolean</td><td>Used to indicate whether or not an event can have its default action prevented.</td></tr>
<tr><td>timeStamp</td><td>DOMTimeStamp</td><td>Used to specify the time (in milliseconds relative to the epoch) at which the event was created.</td></tr>
</tbody></table>
<table>
<caption>Event methods
</caption>
<tbody><tr><th>Name</th><th>Argument type</th><th>Argument name</th><th>Description</th></tr>
<tr><td>stopPropagation</td><td></td><td></td><td>To prevent further propagation of an event during event flow.</td></tr>
<tr><td>preventDefault</td><td></td><td></td><td>To cancel the event if it is cancelable, meaning that any default action normally taken by the implementation as a result of the event will not occur.</td></tr>
<tr><td rowspan="3">initEvent</td><td>DOMString</td><td>eventTypeArg</td><td>Specifies the event type.</td></tr>
<tr><td>boolean</td><td>canBubbleArg</td><td>Specifies whether or not the event can bubble.</td></tr>
<tr><td>boolean</td><td>cancelableArg</td><td>Specifies whether or not the event's default action can be prevented.</td></tr>
</tbody></table>

<h2>non-capturing group (?:)</h2>
<a href="https://stackoverflow.com/questions/3512471/what-is-a-non-capturing-group-what-does-do">non-capturing group (?:)</a>

<br>

<h2>5 JavaScript Web Scraping Libraries and Tools for nodeJs</h2>
Exploring <a href="http://www.prowebscraper.com/blog/50-best-open-source-web-crawlers/" target="_blank" rel="nofollow noopener">web scraping libraries</a> and tools for JavaScript.
<blockquote>
<strong>1. Request</strong>
<strong>2. Cheerio</strong>
<strong>3. Osmosis</strong>
<strong>4. Puppeteer</strong>
<strong>5. Apify SDK</strong>
</blockquote>
<h3>1. Request (Aka HTTP Client) :</h3>
<a href="https://github.com/request/request" target="_blank" rel="nofollow noopener">Request</a>
For example, if you want to pull down the contents of a page :
<code>  const request = require('request');

  request('http://stackabuse.com', function(err, res, body) {  
      console.log(body);
  });
</code>
<a href="https://stackabuse.com/the-node-js-request-module/" target="_blank" rel="nofollow noopener">Quick start Guide with request</a>
<h3>2. Cheerio (Aka Parser) :</h3>
<a href="https://cheerio.js.org/" target="_blank" rel="nofollow noopener">Cheerio</a>
<a href="https://hackernoon.com/cheerio-node-nodejs-tutorial-web-html-scraping-note-a4ceb37d9cbb" target="_blank" rel="nofollow noopener">Web Scraping note (cheerio)</a>
<h3>3. Osmosis (Aka Parser) :</h3>
<a href="https://www.npmjs.com/package/osmosis" target="_blank" rel="nofollow noopener">Osmosis</a>
<a href="http://shanefulmer.com/blog/node-osmosis-examples/" target="_blank" rel="nofollow noopener">Using node-osmosis (with examples)</a>

<h3>4. Puppeteer (Aka Headless Chrome Browser for Automation) :</h3>
<a href="https://github.com/GoogleChrome/puppeteer" target="_blank" rel="nofollow noopener">Puppeteer</a>
<a href="https://hackernoon.com/tips-and-tricks-for-web-scraping-with-puppeteer-ed391a63d952" target="_blank" rel="nofollow noopener">Tips and Tricks for Web Scraping with Puppeteer</a>

<h3>5. Apify SDK (Aka The Complete Web Scraping Framework) :</h3>
<a href="https://github.com/apifytech/apify-js" target="_blank" rel="nofollow noopener">Apify SDK</a>
It can be used either stand-alone in your own applications or in <a href="https://www.apify.com/docs/actor" target="_blank" rel="nofollow noopener">actors</a> running on the <a href="https://www.apify.com/" target="_blank" rel="nofollow noopener">Apify Cloud</a>.
<a href="https://sdk.apify.com/docs/examples/basiccrawler" target="_blank" rel="nofollow noopener">Getting Started with Apify with Examples</a>

<h2>what is this "require?"</h2>

require() is not part of the standard JavaScript API. 
But in Node.js, it's a built-in function with a special purpose: to load modules.

Modules are a way to split an application into separate files instead of having all of your application in one file. 
This concept is also present in other languages with minor differences in syntax and behavior, like C's include, PHP's use, Python's import, and so on.

One big difference between Node.js modules and browser JavaScript is how one script's code is accessed from another script's code.

In browser JavaScript, scripts are added via the &lt;script&gt; element. 
When they execute, they all have direct access to the global scope, a "shared space" among all scripts. 
Any script can freely define/modify/remove/call anything on the global scope.

In Node.js, each module has its own scope. 
A module cannot directly access things defined in another module unless it chooses to expose them. 
To expose things from a module, they must be assigned to exports or module.exports. 
For a module to access another module's exports or module.exports, it must use require().

In your code, var pg = require('pg'); loads the pg module, a PostgreSQL client for Node.js. 
This allows your code to access functionality of the PostgreSQL client's APIs via the pg variable.

Why does it work in node but not in a webpage?

require(), module.exports and exports are APIs of a module system that is specific to Node.js. 
Browsers do not implement this module system.

Also, before I got it to work in node, I had to do npm install pg. 
What's that about?

NPM is a package repository service that hosts published JavaScript modules. 
npm install is a command that lets you download packages from their repository.

Where did it put it, and how does Javascript find it?

Node.js has very detailed documentation on how modules find other modules. 
But in a gist, it puts all the downloaded modules in node_modules in the directory where you ran npm install.

the request module to webscrap
  const request = require('request');
  request('http://stackabuse.com', function(err, res, body) {  
      console.log(body);
  });


<h2>javascript create a table</h2>

var table = document.getElementById("myTable");
var row = table.insertRow(0);
var cell1 = row.insertCell(0);
var cell2 = row.insertCell(1);
cell1.innerHTML = "NEW CELL1";
cell2.innerHTML = "NEW CELL2";

<a href="https://stackoverflow.com/questions/27594957/how-to-create-a-table-using-a-loop">create a table using a loop</a>
<br>
var table = document.createElement('table'), tr, td, row, cell;
for (row = 0; row < 10; row++) {
    tr = document.createElement('tr');
    for (cell = 0; cell < 22; cell++) {
        td = document.createElement('td');
        tr.appendChild(td);
        td.innerHTML = row * 22 + cell + 1;
    }
    table.appendChild(tr);
}
document.getElementById('container').appendChild(table);

create an empty row of 22 cells, clone it 10 times, and then add the numbers to the cells.

var table = document.createElement('table'),
    tr = document.createElement('tr'),
    cells, i;
for (i = 0; i < 22; i++) { // Create an empty row
    tr.appendChild(document.createElement('td'));
}
for (i = 0; i < 10; i++) { // Add 10 copies of it to the table
    table.appendChild(tr.cloneNode(true));
}
cells = table.getElementsByTagName('td'); // get all of the cells
for (i = 0; i < 220; i++) {               // number them
    cells[i].innerHTML = i + 1;
}
document.getElementById('container').appendChild(table);


And a third option: add the cells in a single loop, making a new row every 22 cells.

var table = document.createElement('table'), tr, td, i;
for (i = 0; i < 220; i++) { 
    if (i % 22 == 0) { // every 22nd cell (including the first)
        tr = table.appendChild(document.createElement('tr')); // add a new row
    }
    td = tr.appendChild(document.createElement('td'));
    td.innerHTML = i + 1;
}
document.getElementById('container').appendChild(table);


<a href="https://www.w3schools.com/jsref/met_document_createdocumentfragment.asp">HTML DOM createDocumentFragment() Method</a>

HTML DOM createDocumentFragment() Method

Example
Create a documentFragment node and append a child to it (a list item). Then, change the list item's node value and insert it as the last child of the list:

var d = document.createDocumentFragment();
d.appendChild(document.getElementsByTagName("LI")[0]);
d.childNodes[0].childNodes[0].nodeValue = "Milk";
document.getElementsByTagName("UL")[0].appendChild(d);

<a href="https://www.w3schools.com/jsref/coll_table_rows.asp">Table rows Collection</a>
<br>


<h2>javascript check keyboard arrow key</h2>
document.onkeydown = checkKey;

function checkKey(e) {
    e = e || window.event;
    if (e.keyCode == '38') {        // up arrow    }
    else if (e.keyCode == '40') {        // down arrow    }
    else if (e.keyCode == '37') {       // left arrow    }
    else if (e.keyCode == '39') {       // right arrow    }
}

function getChar(event) {
  if (event.which!=0 && event.charCode!=0) {
    return String.fromCharCode(event.which)   // the rest
  } else {
    return event.keyCode // special key
  }
}

<h2>Top 10 jQuery functions to Plain Old JavaScript</h2>
<a href="https://devkisslist.com/2019/06/29/top-10-jquery-functions-to-plain-old-javascript/">Top 10 jQuery functions</a>
<br>
<div><a href="#topic-1" target="_self">1 $(document).ready(..)</a><br><a href="#topic-2" target="_self">2) $(…).HTML()</a><br><a href="#topic-3" target="_self">3) $(…).Append</a><br><a href="#topic-4" target="_self">4) $(…).prepend()</a><br><a href="#topic-5" target="_self">5) $(…).empty()</a><br><a href="#topic-6" target="_self">6) $(…).Attr(name)</a><br><a href="#topic-7" target="_self">7) $(…).val()</a><br><a href="#topic-8" target="_self">8, 9) $(…).on() | $(…).off()</a><br><a href="#topic-9" target="_self">10) $(…).toggle()</a><br><a href="#topic-10" target="_self">Conclusion</a></center>
These are my top most commonly use jQuery functions converted to Plain Old JavaScript.
Sometimes I need to create a simple static HTML or landing page, and I don’t feel like bringing in any libraries or bloatware. For those cases I just use plain old JavaScript to get the job done, and honestly it feels good to know how things work.
So here is my top 10 list, I also use this as reference and now sharing with you.
If you like to follow along go to the GitHub page here, and feel free to contribute: https://github.com/omarld/jqueryToPlainJS
Before starting, the titles are the jQuery functions to be converted to plain old JavaScript. That will follow with a brief description of what it is supposed to do, followed by the converted JavaScript code with some additional notes.
<h2 id="topic-1">1 $(document).ready(..)</h2>
Check that document has loaded and ready to execute your scripts.
let isLoaded = false;
let myOnLoadCallBack = function(){
    isLoaded = true;
    //my stuff here
}
document.addEventListener("DOMContentLoaded", myOnLoadCallBack());

document.addEventListener('readystatechange', (event) =&gt; {
    if (document.readyState === 'complete' &amp;&amp; !isLoaded) {
        myOnLoadCallBack();
    }
);
&nbsp;
Using <em>DOMContentLoaded</em> event listener, this is triggered when the DOM tree has been built but none of other resources have been loaded yet (ie styles, images). <em>DOMContentLoaded</em> also waits for any scripts to be loaded, if there are any <em>script</em> tags found in the HTML document.
There is catch when loading styles if there is a script tag after your styles. In this case it’s for styles to be loaded before the script, in case the script modifies any styles.
<em>DOMContentLoaded</em> is not supported by IE 8 or less. In case you have the bad luck of having to support IE 8, you should use <em>document.readyState</em>.
The different ready states are:
<ul>
<li><em>loading</em>       : document is loading</li>
<li><em>interactive</em> : document was fully read</li>
<li><em>complete</em>    : document was fully read and all resources (styles, images) are loaded too</li>
</ul>
<h2 id="topic-2">2) $(…).HTML()</h2>
Find the value of an existing DOM element, or insert some content.
To find existing value, just reference the <em>innerHTML</em> property.
var content = document.querySelector("section#html div.content p.retrieve").innerHTML;
To insert some content, assign <em>innerHTML </em>to the new content which can contain HTML tags. Note, this will replace any existing content.
document.querySelector("section#html div.results p.sample").innerHTML = “&lt;p&gt;Starting a new paragraph&lt;/p&gt;”;
<h2 id="topic-3">3) $(…).Append</h2>
Insert some HTML at the end of an existing element.
First we need to find/get the element where we want to insert our new content.
var appendEl = document.querySelector("section#append div.content div.results");
Next create the element we want to insert.
var childEl = document.createElement("div");
childEl.innerHTML = "&lt;p&gt;New &lt;strong&gt;child&lt;/strong&gt; Content!&lt;/p&gt;"
Lastly, insert the element.
//appending
appendEl.appendChild(childEl);

Sure this took three steps to get this done, but we can simplify a bit.<br>
First lets create the new element.
var childEl = document.createElement("div");
childEl.innerHTML = "&lt;p&gt;New &lt;strong&gt;child&lt;/strong&gt; Content!&lt;/p&gt;"
Next let’s find and insert new element in one line.
document.querySelector("section#append div.content div.results").appendChild(childEl);
If you want to simplify this further or if you find yourself doing this a lot, you can create a wrapper function to do this.
<h2 id="topic-4">4) $(…).prepend()</h2>
Very similar to <em>append</em> above, the only difference is that this inserts at the beginning of the element. For this we will jump into the simplified solution.
Create new element to insert.
var newDiv = document.createElement("div");
var textNode = document.createTextNode("new content to inserted!");
newDiv.appendChild(textNode);
Find existing element and insert new element.
document.querySelector("section#prepend div.content p#existing").insertBefore(newDiv, prependEl.firstChild);
<h2 id="topic-5">5) $(…).empty()</h2>
Empty or clear out a DOM element. Initially you might think, lets just assign <em>innerHTML</em> property to an empty string. This would be half right, but then what happens if the target element has child DOM elements? We’ll get to that, it is also simple.
First let’s start by clearing out content of an existing element.
document.getElementById("empty-content").innerHtml = “”;
Okay, so now how do we do all inner DOM elements? For that, let’s clear existing content and then lets remove any child DOM elements in a loop.
var content = document.getElementById("empty-content");
content.innerHtml = "";
while(content.firstChild){
    content.removeChild(content.firstChild);
}
The while loop iterates until there are no more children to remove.
<h2 id="topic-6">6) $(…).Attr(name)</h2>
Get the attribute value of an existing DOM element, or set attribute. The important point to remember about this, is that not all DOM elements have the same attributes. For example a check box vs a button (a button would not have the <em>checked</em> attribute).
Let’s start by getting the checked attribute of a check box.
let isChecked = document.querySelector("div#attributes input#my-check-box").getAttribute("checked");
Now let’s see how we can set that same attribute.
var el = document.querySelector("div#attributes input#my-check-box");
We can access the JavaScript property to change its state.
el.checked = true;
You might have noticed that I referred to the <em>checked</em> key as a JavaScript property. What is the difference between element attribute and JavaScript property? In simple terms, properties are JavaScript inherited keys from element attributes. This means you can access the DOM elements attributes as JavaScript object properties.
Here are a few important points to know about properties vs attributes.
<ul>
<li>Properties are JavaScript inherited values from attributes (ie. class vs className)</li>
<li>Element properties are created from attributes only if they are standard. So if you introduced a custom attribute, it won’t be part of the object properties.</li>
<li>Depending on the element the attributes available would be different (ie checked box vs button)</li>
</ul>
<h2 id="topic-7">7) $(…).val()</h2>
Get the value of the matched DOM element. This is also a simple one, let’s start with getting the value of existing element.
To make these command clear, I have split them out. Although this can be done in one line.
var content = document.querySelector("#input");
var lnameValue = content.querySelector("input[name='lname']").value;
Setting value is just as simple, and can also be done in one line.
content.querySelector("input[name='fname']").value = "Some random value"
;
Similar to using <em>innerHTML</em> to set content, this also overrides any values the element currently has.
<h2 id="topic-8">8, 9) $(…).on() | $(…).off()</h2>
To add or remove events from an element use either <em>on()</em> or <em>off()</em> accordingly.
Adding event handler.
document.getElementById("my-button").addEventListener("click", function(evt){
    //my custom code here
});
Removing event handler, here we need to do extra checks for browser supported properties.
var toggleFunction = function(){...}
if (toggleBtn.removeEventListener) { // For all major browsers, except IE 8 and earlier
    toggleBtn.removeEventListener("click", toggleFunction);
} else if (toggleBtn.detachEvent) { // For IE 8 and earlier versions
    toggleBtn.detachEvent("click", toggleFunction)
}
Here are a few things to note when adding or removing events handlers.
<ul>
<li>Element must exist by the time code is instantiated or event won’t be attached.</li>
<li>When removing event listener, the function reference has to be the same.</li>
<li>Inline anonymous function will not work, since reference is different.</li>
<li>Unlike jQuery, when removing event handlers you have to specify which event you want to remove. In jQuery no arguments would remove all, this case has to be handled manually.</li>
</ul>
One way to remove all event handlers without being explicit, is to clone the element and replace it. This will also get rid of any attached events to child elements.
Removing all elements.
var currEl = document.getElementById("button");
var cloneEl= currEl.cloneNode(true);
currEl.parentNode.replaceChild(cloneEl, currEl);
<h2 id="topic-9">10) $(…).toggle()</h2>
Toggle display on an element, this can be done a couple of ways. Each approach has has different results. You need to decide which behavior you want.
First way is to change the elements display attribute to none to remove element from the DOM, and set it to <em>initial</em> to set it back. Important point here is that this will impact your layout, and shift elements if you are toggling display.
Here we are toggling display on an image element by directly accessing the elements style property.
if(imgEl.style.display &amp;&amp; imgEl.style.display === "none"){
    imgEl.style.display = "initial";
} else {
    imgEl.style.display = "none";
}
Second approach is to change the elements visibility, which will hide the element and retain layout.
if(imgEl.style.visibility &amp;&amp; imgEl.style.visibility === "hidden"){
    imgEl.style.visibility = "initial";
} else {
    imgEl.style.visibility = "hidden";
};
<h2 id="topic-10">Conclusion</h2>
If you have been using libraries and JavaScript frameworks, it is easy to lose sight on how simple some of implementations are. But most of all, you also lose sight into some core basic understanding of how the DOM works. Having a good understanding the DOM can serve you well not just on design but also on debugging issues.
Those were just some of my most often used functions when I am trying to keep things simple. Now I am sharing it with you if ever feel like just writing your own rather than adding bloat-ware to your application.


<h2>Some javascript Essays</h2>
<a href="http://slicker.me/fractals/animate.htm">Fractal animation</a>
<br>
<a href="https://github.com/oliver-moran/jimp">JavaScript Image Manipulation Program</a>
<br>
<a href="https://devkisslist.com/2019/06/29/top-10-jquery-functions-to-plain-old-javascript/">Top 10 jQuery functions to Plain Old JavaScript</a>
<br>
<a href="https://www.framer.com/motion/">Framer Motion, React library to power production-ready animations</a>
<br>
<a href="https://jrsinclair.com/articles/2019/what-is-a-higher-order-function-and-why-should-anyone-care/">HIGHER-ORDER FUNCTIONS</a>
<br>
<a href="https://yomguithereal.github.io/posts/lru-cache">IMPLEMENTING AN EFFICIENT LRU CACHE IN JAVASCRIPT</a>
<br>
<a href="https://www.freecodecamp.org/news/how-to-master-async-await-with-this-real-world-example-19107e7558ad/">How To Master Async/Await With This Real World Example</a>
<br>
<a href="https://github.com/trekhleb/javascript-algorithms">JavaScript Algorithms and Data Structures</a>
<br>
<a href="https://tsh.io/blog/new-node-js-features/">New Node.js 12 features will see it disrupt AI, IoT and more surprising areas</a>
<br>
<a href="https://nodesource.com/blog/improve-javascript-performance">12 Tips for Improving JavaScript Performance</a>
<br>
<br>
<h2>The XMLHttpRequest Object</h2>

All modern browsers have a built-in XMLHttpRequest object to 
request data from a server. 
All major browsers have a built-in XML parser to access and manipulate XML.

<h2>The XMLHttpRequest Object</h2>
The XMLHttpRequest object can be used to request data from a web server.
The XMLHttpRequest object is <b>a developer's dream</b>, because you can:
<ul>
  <li>Update a web page without reloading the page</li>
  <li>Request data from a server - after the page has loaded </li>
  <li>Receive data from a server - after the page has loaded</li>
  <li>Send data to a server - in the background</li>
</ul>

<h2>XMLHttpRequest Example</h2>
When you type a character in the input field below, an XMLHttpRequest is sent to the server,
and some name suggestions are returned (from the server):
<h3>Example</h3>
<b>Start typing a name in the input field below:</b>
&lt;form action=""> 
 Name: &lt;input type="text" id="txt1" onkeyup="showHint(this.value)" size="20">
&lt;/form>
Suggestions: &lt;span id="txtHint">&lt;/span> 

<h2>Sending an XMLHttpRequest</h2>
All modern browsers have a built-in XMLHttpRequest object.
A common JavaScript syntax for using it looks much like this:

<h3>Example</h3>
var xhttp = new XMLHttpRequest();<br>xhttp.onreadystatechange = function() {<br>
    if (this.readyState == 4 &amp;&amp; this.status == 200) {<br>
       // Action to be performed when the 
 document is read;<br>
    }<br>};<br>
xhttp.open(&quot;GET&quot;, &quot;<em>filename</em>&quot;, true);<br>
xhttp.send(); <a class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/xml/tryit.asp?filename=try_dom_xmlhttprequest" target="_blank">Try it Yourself &raquo;</a>

<h2>Creating an XMLHttpRequest Object</h2>
The first line in the example above creates an XMLHttpRequest object:

 var xhttp = new XMLHttpRequest();

<h2>The onreadystatechange Event</h2>
The <strong>readyState</strong> property holds the status of the XMLHttpRequest.
The <strong>onreadystatechange</strong> event is triggered every time the readyState changes.
During a server request, the readyState changes from 0 to 4:
 0: request not initialized <br>
    1: server connection established<br>
    2: request received <br>
    3: processing request <br>
    4: request finished and response is ready

In the onreadystatechange property, specify a function to be executed when 
the readyState changes:

 xhttp.onreadystatechange = function()
When readyState is 4 and status is 200, the response is ready:

if (this.readyState == 4 &amp;&amp; this.status == 200)

<h2>XMLHttpRequest Properties and Methods</h2>

<table> 
  <tr>
    <th style="width:28%">Method</th>
    <th>Description</th>
  </tr>  
  <tr>
    <td>new XMLHttpRequest()</td>
    <td>Creates a new XMLHttpRequest object</td>
  </tr>
  <tr>
    <td>open(<i>method, url, async</i>)</td>
    <td>Specifies the type of request<br>
    <i>method</i>: the type of request: GET or POST<br>
    <i>url</i>: the file location<br>
    <i>async</i>: true (asynchronous) or false (synchronous)</td>
  </tr>
  <tr>
    <td>send()</td>
    <td>Sends a request to the server (used for GET)</td>
  </tr>
  <tr>
    <td>send(<i>string</i>)</td>
    <td>Sends a request string to the server (used for POST)</td>
  </tr>
  <tr>
    <td>onreadystatechange</td>
    <td>A function to be called when the readyState property changes</td>
  </tr>
  <tr>
    <td>readyState</td>
    <td>The status of the XMLHttpRequest<br>
    0: request not initialized <br>
    1: server connection established<br>
    2: request received <br>
    3: processing request <br>
    4: request finished and response is ready</td>
  </tr>
  <tr>
    <td>status</td>
    <td>200: OK<br>
    404: Page not found</td>
  </tr>
  <tr>
    <td>responseText</td>
    <td>The response data as a string</td>
  </tr>
  <tr>
    <td>responseXML</td>
    <td>The response data as XML data</td>
  </tr>

 </table>

<h2>Access Across Domains</h2>
For security reasons, modern browsers do not allow access across domains.
This means that both the web page and the XML file it tries to load, must be located on the same server.
The examples on W3Schools all open XML files located on the W3Schools domain.
If you want to use the example above on one of your own web pages,
the XML files you load must be located on your own server.

<h2>The responseText Property</h2>
The responseText property returns the response as a string.
If you want to use the response as a text string, use the responseText 
property:

<h3>Example</h3>
 document.getElementById(&quot;demo&quot;).innerHTML = xmlhttp.responseText; <a class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/xml/tryit.asp?filename=try_dom_xmlhttprequest_responsetext" target="_blank">Try it Yourself &raquo;</a>
<h2>The responseXML Property</h2>
The responseXML property returns the response as an XML DOM object.
If you want to use the response as an XML DOM object, use the responseXML property:

<h3>Example</h3>
Request the file <a target="_blank" href="cd_catalog.xml">cd_catalog.xml</a> and 
use the response as an XML DOM object:
xmlDoc = xmlhttp.responseXML;<br>
 txt = &quot;&quot;;<br>
x = xmlDoc.getElementsByTagName(&quot;ARTIST&quot;);<br>
for (i = 0; i &lt; x.length; i++) {<br>
    txt += x[i].childNodes[0].nodeValue + &quot;&lt;br&gt;&quot;;<br>
 }<br>
document.getElementById(&quot;demo&quot;).innerHTML = txt;<a target="_blank" class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/xml/tryit.asp?filename=try_dom_xmlhttprequest_responsexml">Try it Yourself &raquo;</a>

<h2>GET or POST?</h2>
GET is simpler and faster than POST, and can be used in most cases.
However, always use POST requests when:
<ul>
  <li>A cached file is not an option (update a file or database on the server)</li>
  <li>Sending a large amount of data to the server (POST has no size limitations)</li>
  <li>Sending user input (which can contain unknown characters), POST is more robust and secure than GET</li>
</ul>
<h2>The url - A File On a Server</h2>
The url parameter of the open() method, is an address to a file on a server:
xmlhttp.open(&quot;GET&quot;, &quot;xmlhttp_info.txt&quot;, true);
The file can be any kind of file, like .txt and 
.xml, or server scripting files like .asp and .php (which can perform  
actions on the server before sending the response back).

<h2>Asynchronous - True or False?</h2>
To send the request asynchronously, the async parameter of the open() 
method has to be set to true:

xmlhttp.open(&quot;GET&quot;, &quot;xmlhttp_info.txt&quot;, true);

Sending asynchronously requests is a huge improvement for web developers. Many of the tasks  
performed on the server are very time consuming.
By sending asynchronously, the 
JavaScript does not have to wait for the server response, but can instead:
<ul>
  <li>execute other scripts while waiting for server response</li>
  <li>deal with the response when the response is ready</li>
</ul>

<h2>Async = true</h2>

When using async = true, specify a function to execute when the response is ready in the onreadystatechange event:

<h3>Example</h3>
xmlhttp.onreadystatechange = function() {<br>
    if (this.readyState == 4 &amp;&amp; this.status == 200) {<br>
       document.getElementById(&quot;demo&quot;).innerHTML = this.responseText;<br>
    }<br>
 };<br>
xmlhttp.open(&quot;GET&quot;, &quot;xmlhttp_info.txt&quot;, true);<br>
xmlhttp.send(); <a class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/xml/tryit.asp?filename=try_dom_xmlhttprequest" target="_blank">Try it Yourself &raquo;</a>

<h2>Async = false</h2>
To use async = false, change the third parameter in the open() method to false:

xmlhttp.open(&quot;GET&quot;, &quot;xmlhttp_info.txt&quot;, false);

Using async = false is not recommended, but for a few small requests this can be ok.
Remember that the JavaScript will NOT continue to execute, 
until the server response is ready. If the server is busy or slow, the 
application will hang or stop.
<b>Note:</b> When you use async = false, do NOT write an onreadystatechange 
function - just put the code after the send() statement:

<h3>Example</h3>
xmlhttp.open(&quot;GET&quot;, &quot;xmlhttp_info.txt&quot;, false);<br>
xmlhttp.send();<br>
document.getElementById(&quot;demo&quot;).innerHTML = xmlhttp.responseText;<a target="_blank" class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/xml/tryit.asp?filename=try_dom_xmlhttprequest_asyncfalse">Try it Yourself &raquo;</a>
<h2>XML Parser</h2>
All modern browsers have a built-in XML parser. 
The XML Document Object Model (the XML DOM) contains a lot of methods to access 
and edit XML.
However, before an XML document can be accessed, it must be 
loaded into an XML DOM object.
An XML parser can read plain text and convert it into an XML DOM object.

<h2>XML DOM Remove Nodes</h2>
<a href="https://www.w3schools.com/xml/dom_nodes_remove.asp" class="whitebut ">XML DOM Remove Nodes</a>

The removeChild() method removes a specified node.

The removeAttribute() method removes a specified attribute.


<h2>Parsing a Text String</h2>

This example parses a text string into an XML DOM object, and  
extracts the info from it with JavaScript:
<h3>Example</h3>
 &lt;html&gt;<br>&lt;body&gt;<br><br>&lt;p id=&quot;demo&quot;&gt;&lt;/p&gt;<br><br>&lt;script&gt;<br>var text, parser, 
 xmlDoc;<br><br>text = &quot;&lt;bookstore&gt;&lt;book&gt;&quot; +<br>&quot;&lt;title&gt;Everyday 
 Italian&lt;/title&gt;&quot; +<br>&quot;&lt;author&gt;Giada De Laurentiis&lt;/author&gt;&quot; +<br>
 &quot;&lt;year&gt;2005&lt;/year&gt;&quot; +<br>&quot;&lt;/book&gt;&lt;/bookstore&gt;&quot;;<br><br>parser = new DOMParser();<br>
 xmlDoc = parser.parseFromString(text,&quot;text/xml&quot;);<br><br>
 document.getElementById(&quot;demo&quot;).innerHTML =<br>xmlDoc.getElementsByTagName(&quot;title&quot;)[0].childNodes[0].nodeValue;<br>
 &lt;/script&gt;<br><br>&lt;/body&gt;<br>&lt;/html&gt;
 <a class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/xml/tryit.asp?filename=try_dom_loadxmltext" target="_blank">Try it Yourself &raquo;</a>
<h2>Old Browsers (IE5 and IE6)</h2>
Old versions of Internet Explorer (IE5 and IE6) do not support the 
XMLHttpRequest object.
To handle IE5 and IE6,  
check if the browser supports the XMLHttpRequest object, or else create an ActiveXObject:

<h3>Example</h3>
if (window.XMLHttpRequest) {<br>    // code for modern browsers<br>
    xmlhttp = new XMLHttpRequest();<br>
 }
else {<br>    // code for old IE browsers<br>
    xmlhttp = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);<br>
 } <a class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/xml/tryit.asp?filename=try_dom_xmlhttprequest_ie" target="_blank">Try it Yourself &raquo;</a>

Old versions of Internet Explorer (IE5 and IE6) do not support the DOMParser object.
To handle IE5 and IE6,  
check if the browser supports the DOMParser object, or else create an ActiveXObject:

<h3>Example</h3>
if (window.DOMParser) {<br>  // code for modern browsers<br>
  parser = new DOMParser();<br>
  xmlDoc = parser.parseFromString(text,&quot;text/xml&quot;);<br>
}
else {<br>
  // code for old IE browsers<br>xmlDoc = new ActiveXObject(&quot;Microsoft.XMLDOM&quot;);<br>
  xmlDoc.async = false;<br>
  xmlDoc.loadXML(text); <br>
} 
 <a class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/xml/tryit.asp?filename=try_dom_loadxmltext_ie" target="_blank">Try it Yourself &raquo;</a>
<h2>More Examples</h2>

<a target="_blank" href="https://www.w3schools.com/xml/tryit.asp?filename=try_dom_xmlhttprequest_header">
Retrieve header information with getAllResponseHeaders()</a><br>
Retrieve header information of a resource (file).

<a target="_blank" href="https://www.w3schools.com/xml/tryit.asp?filename=try_dom_xmlhttprequest_lastmodified">
Retrieve specific header information with getResponseHeader()</a><br>
Retrieve specific header information of a resource (file).

<a target="_blank" href="https://www.w3schools.com/xml/tryit.asp?filename=try_dom_xmlhttprequest_suggest">Retrieve the content of an ASP file</a><br>
How a web page can communicate with a web server while a user type characters in an input field.

<a target="_blank" href="https://www.w3schools.com/xml/tryit.asp?filename=try_dom_xmlhttprequest_database">Retrieve content from a database</a><br>
How a web page can fetch information from a database with the XMLHttpRequest 
object.

<a target="_blank" href="https://www.w3schools.com/xml/tryit.asp?filename=try_dom_xmlhttprequest_xml">Retrieve the content of an XML file</a><br>
Create an XMLHttpRequest to retrieve data from an XML file and display the data in an HTML table.

<br><br>
<h2>ActiveXObject</h2>
ActiveXObject is non-standard and only supported by Internet Explorer on Windows.

<h2>Node.js MySQL</h2>

Node.js can be used in database applications.
One of the most popular databases is MySQL.

<h2>MySQL Database</h2>
To be able to experiment with the code examples, you should have MySQL installed 
on your computer.
You can download a free MySQL database at <a href="https://www.mysql.com/downloads/" target="_blank">https://www.mysql.com/downloads/</a>.
<h2>Install MySQL Driver</h2>
Once you have MySQL up and running on your computer, you can access it by 
using Node.js.
To access a MySQL database with Node.js, you need a MySQL driver. This 
tutorial will use the &quot;mysql&quot; module, downloaded from NPM.
To download and install the &quot;mysql&quot; module, open the Command Terminal and execute the following:



C:\Users\<em>Your Name</em>&gt;npm install mysql


Now you have downloaded and installed a mysql database driver.
Node.js can use this module to manipulate the MySQL database:

  var mysql = require('mysql');


<h2>Create Connection</h2>
Start by creating a connection to the database.
Use the username and password from your MySQL database.

demo_db_connection.js
  var mysql = require('mysql');<br><br>var con = mysql.createConnection({<br>&nbsp; 
  host: &quot;localhost&quot;,<br>&nbsp; user: &quot;<em>yourusername</em>&quot;,<br>&nbsp; password: &quot;<em>yourpassword</em>&quot;<br>
  });<br><br>con.connect(function(err) {<br>&nbsp; if (err) throw err;<br>&nbsp; console.log(&quot;Connected!&quot;);<br>});<br>
<a target="_blank" class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/nodejs/shownodejs_cmd.asp?filename=demo_db_connection">Run example &raquo;</a>



Save the code above in a file called &quot;demo_db_connection.js&quot; and run the file:

Run "demo_db_connection.js"

C:\Users\<em>Your Name</em>&gt;node demo_db_connection.js


Which will give you this result:


Connected!


Now you can start querying the database using SQL statements.
<h2>Query a Database</h2>
Use SQL statements to read from (or write to) a MySQL database. This 
is also called &quot;to query&quot; the database.
The connection object created in the example above, has a method for querying the database:

  con.connect(function(err) {<br>&nbsp; if (err) throw err;<br>&nbsp; console.log(&quot;Connected!&quot;);<br>
  <strong>&nbsp;
  con.query(</strong><em><strong>sql</strong></em><strong>, function (err, result) {<br>&nbsp;&nbsp;&nbsp; if (err) throw err;<br>&nbsp; &nbsp; console.log(&quot;Result: 
  &quot; + result);<br>&nbsp; });<br></strong>});


The query method takes an sql statements as a parameter and returns the 
result.
Learn how to read, write, delete, and update a database in the next chapters.
Read more about SQL statements in our <a href="/sql/default.asp">SQL Tutorial</a>.

<br><br>
<h2>AJAX Database Example</h2>
AJAX can be used for interactive communication with a database.

<h2>AJAX Database Example</h2>
The following example will demonstrate how a web page can fetch 
information from a database with AJAX:


<h3>Example</h3>
<form action=""> 
<select name="customers" onchange="showCustomer(this.value)">
<option value="">Select a customer:</option>
<option value="ALFKI">Alfreds Futterkiste</option>
<option value="NORTS ">North/South</option>
<option value="WOLZA">Wolski Zajazd</option>
</select>
</form>
<br>
Customer info will be listed here...


<a target="_blank" href="https://www.w3schools.com/jstryit.asp?filename=tryjs_ajax_database" class="w3-btn">Try it Yourself &raquo;</a>




<h2>Example Explained - The showCustomer() Function</h2>
When a user selects a customer in the dropdown list above, a function called <code>showCustomer()</code> is executed. The 
function is triggered by the <code>onchange</code> event: 


<h3>showCustomer</h3>
 function showCustomer(str) {<br>&nbsp; var xhttp; <br>&nbsp; if (str == &quot;&quot;) {<br>&nbsp;&nbsp;&nbsp; 
 document.getElementById(&quot;txtHint&quot;).innerHTML = &quot;&quot;;<br>&nbsp;&nbsp;&nbsp; 
 return;<br>&nbsp; }<br>&nbsp; xhttp = new XMLHttpRequest();<br>&nbsp; 
 xhttp.onreadystatechange = function() {<br>&nbsp;&nbsp;&nbsp; if (this.readyState 
 == 4 &amp;&amp; this.status == 200) {<br>&nbsp;&nbsp;&nbsp; document.getElementById(&quot;txtHint&quot;).innerHTML 
 = this.responseText;<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp; };<br>&nbsp; xhttp.open(&quot;GET&quot;, 
 &quot;getcustomer.php?q=&quot;+str, true);<br>&nbsp; xhttp.send();<br>}



The <code>showCustomer()</code> function does the following:
<ul>
  <li>Check if a customer is selected</li>
  <li>Create an XMLHttpRequest object</li>
  <li>Create the function to be executed when the server response is ready</li>
  <li>Send the request off to a file on the server</li>
  <li>Notice that a parameter (q) is added to the URL (with the content of the dropdown list)</li>
</ul>

<h2>The AJAX Server Page</h2>

The page on the server called by the JavaScript above is a PHP file called &quot;getcustomer.php&quot;.
The source code in &quot;getcustomer.php&quot; runs a query against a database, and returns the result in an HTML 
table:

  &lt;?php<br>$mysqli = new mysqli(&quot;<em>servername</em>&quot;, &quot;<em>username</em>&quot;, 
  &quot;<em>password</em>&quot;, &quot;<em>dbname</em>&quot;);<br>if($mysqli-&gt;connect_error) {<br>&nbsp; 
  exit('Could not connect');<br>}<br><br>$sql = &quot;SELECT customerid, companyname, 
  contactname, address, city, postalcode, country<br>FROM customers WHERE 
  customerid = ?&quot;;<br><br>$stmt = $mysqli-&gt;prepare($sql);<br>
  $stmt-&gt;bind_param(&quot;s&quot;, $_GET['q']);<br>
  $stmt-&gt;execute();<br>$stmt-&gt;store_result();<br>$stmt-&gt;bind_result($cid, 
  $cname, $name, $adr, $city, $pcode, $country);<br>$stmt-&gt;fetch();<br>$stmt-&gt;close();<br>
  <br>echo &quot;&lt;table&gt;&quot;;<br>echo &quot;&lt;tr&gt;&quot;;<br>echo &quot;&lt;th&gt;CustomerID&lt;/th&gt;&quot;;<br>echo 
  &quot;&lt;td&gt;&quot; . $cid . &quot;&lt;/td&gt;&quot;;<br>echo &quot;&lt;th&gt;CompanyName&lt;/th&gt;&quot;;<br>echo &quot;&lt;td&gt;&quot; . $cname 
  . &quot;&lt;/td&gt;&quot;;<br>echo &quot;&lt;th&gt;ContactName&lt;/th&gt;&quot;;<br>echo &quot;&lt;td&gt;&quot; . $name . &quot;&lt;/td&gt;&quot;;<br>
  echo &quot;&lt;th&gt;Address&lt;/th&gt;&quot;;<br>echo &quot;&lt;td&gt;&quot; . 
  $adr . &quot;&lt;/td&gt;&quot;;<br>echo &quot;&lt;th&gt;City&lt;/th&gt;&quot;;<br>
  echo &quot;&lt;td&gt;&quot; . $city . &quot;&lt;/td&gt;&quot;;<br>echo &quot;&lt;th&gt;PostalCode&lt;/th&gt;&quot;;<br>echo &quot;&lt;td&gt;&quot; . 
  $pcode . &quot;&lt;/td&gt;&quot;;<br>echo &quot;&lt;th&gt;Country&lt;/th&gt;&quot;;<br>echo &quot;&lt;td&gt;&quot; . $country . 
  &quot;&lt;/td&gt;&quot;;<br>echo &quot;&lt;/tr&gt;&quot;;<br>echo &quot;&lt;/table&gt;&quot;;<br>?&gt;

<br>
<h2>new es2018 features</h2>
<a href="https://css-tricks.com/new-es2018-features-every-javascript-developer-should-know/">new es2018 features</a><br>

<br>


<h2>JavaScript 函数式编程</h2>

前言
函数式编程在前端已经成为了一个非常热门的话题。
在最近几年里，我们看到非常多的应用程序代码库里大量使用着函数式编程思想。
本文将略去那些晦涩难懂的概念介绍，重点展示在 JavaScript 中到底什么是函数式的代码、声明式与命令式代码的区别、以及常见的函数式模型都有哪些？

一、什么是函数式编程

函数式编程是一种编程范式，主要是利用函数把运算过程封装起来，通过组合各种函数来计算结果。
函数式编程意味着你可以在更短的时间内编写具有更少错误的代码。
举个简单的例子，假设我们要把字符串 
<code>functional programmingisgreat</code>
变成每个单词首字母大写，我们可以这样实现：


var 'functional programming is great'
var string.split(' ').map(v =&gt; v.slice(0 , 1).toUpperCase() + v.slice(1)).join(' ');

上面的例子先用 split 把字符串转换数组，然后再通过 map 把各元素的首字母转换成大写，最后通过 join 把数组转换成字符串。
整个过程就是 
join(map(split(str))) ,体现了函数式编程的核心思想：
通过函数对数据进行转换。

由此我们可以得到，函数式编程有两个基本特点： 通过函数来对数据进行转换
通过串联多个函数来求结果 

二、对比声明式与命令式 
命令式：我们通过编写一条又一条指令去让计算机执行一些动作，这其中一般都会涉及到很多繁杂的细节。
命令式代码中频繁使用语句,来完成某个行为。
比如 for、if、switch、throw 等这些语句。

声明式：我们通过写表达式的方式来声明我们想干什么，而不是通过一步一步的指示。
表达式通常是某些函数调用的复合、一些值和操作符，用来计算出结果值。


//命令式
var CEOs = [];
for (var i = 0 ; i &lt; companies.length; i++){ CEOs .push(companies[i].CEO)}

//声明式
var CEOs = companies.map(c =&gt; c.CEO);

从上面的例子中，我们可以看到声明式的写法是一个表达式，无需关心如何进行计数器迭代，返回的数组如何收集，它指明的是做什么，而不是怎么做。

函数式编程的一个明显的好处就是这种声明式的代码，对于无副作用的纯函数，我们完全可以不考虑函数内部是如何实现的，专注于编写业务代码。
 
三、常见特性 
无副作用 
指调用函数时不会修改外部状态，即一个函数调用 n 次后依然返回同样的结果。


var a = 1
// 含有副作用，它修改了外部变量 a
// 多次调用结果不一样
function test1() {a++ return a;}

// 无副作用，没有修改外部状态
// 多次调用结果一样
function test2(a) { return a + 1}
透明引用 
指一个函数只会用到传递给它的变量以及自己内部创建的变量，不会使用到其他变量。



var a = 1
var b = 2
// 函数内部使用的变量并不属于它的作用域
function test1() { return a + b;}
// 函数内部使用的变量是显式传递进去的
function test2(a, b) { return a + b;}
不可变变量 
指的是一个变量一旦创建后，就不能再进行修改，任何修改都会生成一个新的变量。
使用不可变变量最大的好处是线程安全。
多个线程可以同时访问同一个不可变变量，让并行变得更容易实现。
由于 JavaScript 原生不支持不可变变量，需要通过第三方库来实现。
(如 Immutable.js，Mori 等等)


var obj =Immutable ({ a: 1 });
var obj2 = obj. set ('a' , 2);
console.log(obj); // Immutable({ a: 1 })
console.log(obj2); // Immutable({ a: 2 })
函数是一等公民 
我们常说函数是JavaScript的"第一等公民"，指的是函数与其他数据类型一样，处于平等地位，可以赋值给其他变量，也可以作为参数，传入另一个函数，或者作为别的函数的返回值。
下文将要介绍的闭包、高阶函数、函数柯里化和函数组合都是围绕这一特性的应用 

四、常见的函数式编程模型 

1.闭包（Closure） 
如果一个函数引用了自由变量，那么该函数就是一个闭包。
何谓自由变量？自由变量是指不属于该函数作用域的变量(所有全局变量都是自由变量，严格来说引用了全局变量的函数都是闭包，但这种闭包并没有什么用，通常情况下我们说的闭包是指函数内部的函数)。

闭包的形成条件： 存在内、外两层函数
内层函数对外层函数的局部变量进行了引用 
闭包的用途:
可以定义一些作用域局限的持久化变量，这些变量可以用来做缓存或者计算的中间量等。



// 简单的缓存工具
// 匿名函数创造了一个闭包
const cache = (function () { const store = {};
 return { get (key) {  return store[key]; },
 set (key, val) { store[key] = val; }}}());
console.log(cache) //{get: ƒ, set: ƒ}
cache. set ('a' , 1);
cache. get ('a'); // 1

上面例子是一个简单的缓存工具的实现，匿名函数创造了一个闭包，使得 store 对象 ，一直可以被引用，不会被回收。

闭包的弊端:
持久化变量不会被正常释放，持续占用内存空间，很容易造成内存浪费，所以一般需要一些额外手动的清理机制。

2.高阶函数 
函数式编程倾向于复用一组通用的函数功能来处理数据，它通过使用高阶函数来实现。

高阶函数指的是一个函数以函数为参数，或以函数为返回值，或者既以函数为参数又以函数为返回值。

高阶函数经常用于： 抽象或隔离行为、作用，异步控制流程作为回调函数，promises，monads等
创建可以泛用于各种数据类型的功能
部分应用于函数参数（偏函数应用）或创建一个柯里化的函数，用于复用或函数复合。

接受一个函数列表并返回一些由这个列表中的函数组成的复合函数。
 
JavaScript 语言是原生支持高阶函数的, 例如Array.prototype.map，Array.prototype.filter 和 Array.prototype.reduce 是JavaScript中内置的一些高阶函数，使用高阶函数会让我们的代码更清晰简洁。

map
map() 方法创建一个新数组，其结果是该数组中的每个元素都调用一个提供的函数后返回的结果。
map 不会改变原数组。

假设我们有一个包含名称和种类属性的对象数组，我们想要这个数组中所有名称属性放在一个新数组中，如何实现呢？


// 不使用高阶函数
var animals = [
{ name: "Fluffykins" , species: "rabbit" },
{ name: "Caro" , species: "dog" },
{ name: "Hamilton" , species: "dog" },
{ name: "Harold" , species: "fish" },
{ name: "Ursula" , species: "cat" },
{ name: "Jimmy" , species: "fish" }
];
var names = [];
for (let i = 0 ; i &lt; animals.length; i++) {names.push(animals[i].name);}
console.log(names); //["Fluffykins", "Caro", "Hamilton", "Harold", "Ursula", "Jimmy"]



// 使用高阶函数
var animals = [{ name: "Fluffykins" , species: "rabbit" },
{ name: "Caro" , species: "dog" },
{ name: "Hamilton" , species: "dog" },
{ name: "Harold" , species: "fish" },
{ name: "Ursula" , species: "cat" },
{ name: "Jimmy" , species: "fish" }
];
var names = animals.map(x=&gt;x.name);
console.log(names); //["Fluffykins", "Caro", "Hamilton", "Harold", "Ursula", "Jimmy"]

filter 
filter() 方法会创建一个新数组，其中包含所有通过回调函数测试的元素。
filter 为数组中的每个元素调用一次 callback 函数， callback 函数返回 true 表示该元素通过测试，保留该元素，false 则不保留。
filter 不会改变原数组，它返回过滤后的新数组。

假设我们有一个包含名称和种类属性的对象数组。
我们想要创建一个只包含狗（species: "dog"）的数组。
如何实现呢？


// 不使用高阶函数
var animals = [{ name: "Fluffykins" , species: "rabbit" },
{ name: "Caro" , species: "dog" },
{ name: "Hamilton" , species: "dog" },
{ name: "Harold" , species: "fish" },
{ name: "Ursula" , species: "cat" },
{ name: "Jimmy" , species: "fish" }
];
var dogs = [];
for (var i = 0 ; i &lt; animals.length; i++) { if (animals[i].species === "dog") dogs.push(animals[i]);}
console.log(dogs);



// 使用高阶函数
var animals = [
{ name: "Fluffykins" , species: "rabbit" },
{ name: "Caro" , species: "dog" },
{ name: "Hamilton" , species: "dog" },
{ name: "Harold" , species: "fish" },
{ name: "Ursula" , species: "cat" },
{ name: "Jimmy" , species: "fish" }
];
var dogs = animals.filter(x =&gt; x.species === "dog");
console.log(dogs); // {name: "Caro", species: "dog"}
// { name: "Hamilton", species: "dog" }

reduce
reduce 方法对调用数组的每个元素执行回调函数，最后生成一个单一的值并返回。
reduce 方法接受两个参数：1）reducer 函数（回调），2）一个可选的 initialValue。

假设我们要对一个数组的求和：


// 不使用高阶函数
const arr = [ 5 , 7 , 1 , 8 , 4 ];
let sum = 0
for (let i = 0 ; i &lt; arr.length; i++) {sum = sum + arr[i];}
console.log(sum); //25



// 使用高阶函数
const arr = [ 5 , 7 , 1 , 8 , 4 ];
const sum = arr.reduce((accumulator, currentValue) =&gt; accumulator + currentValue, 0);
console.log(sum) //25

我们可以通过下图，形象生动展示三者的区别： 
<img src="https://mmbiz.qpic.cn/mmbiz_png/zewrLkrYfsPgWFTLCgV8uDdDPkr62ZzXqYLZ5EZutSWhQTM8PhdTqvaP6dFCUcfHpl5ibFXJ1XIEpWeScrwyLbw/640">

 4.函数组合 (Composition) 
前面提到过，函数式编程的一个特点是通过串联函数来求值。
然而，随着串联函数数量的增多，代码的可读性就会不断下降。
函数组合就是用来解决这个问题的方法。
假设有一个 compose 函数，它可以接受多个函数作为参数，然后返回一个新的函数。
当我们为这个新函数传递参数时，该参数就会「流」过其中的函数，最后返回结果。



//两个函数的组合
var compose = function (f, g) { return function (x) {  return f(g(x)); };};

//或者
var compose = (f, g) =&gt; (x =&gt; f(g(x)));
var add1 = x =&gt; x + 1
var mul5 = x =&gt; x * 5
compose(mul5, add1)(2); // =&gt;15

<br><br>
<h2>JS技巧</h2>
<h2>生成随机UID</h2>

<code><span class="red">const</span> genUid = <span class="red"><span class="orange">()</span> =&gt;</span> {<br>  <span class="red">var</span> length = <span class="purple">20</span><br>  <span class="red">var</span> soupLength = genUid.soup_.length<br>  <span class="red">var</span> id = []<br>  <span class="red">for</span> (<span class="red">var</span> i = <span class="purple">0</span>; i &lt; length; i++) {<br>    id[i] = genUid.soup_.charAt(<span class="red">Math</span>.random() * soupLength)<br>  }<br>  <span class="red">return</span> id.join(<span class="pink">''</span>)<br>}<br>genUid.soup_ = <span class="pink">'!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'</span><br>genUid() <span class="green">// ;l`yCPc9A8IuK}?N6,%}</span><br></code>
<h2>无loop生成指定长度的数组</h2>

<code><span class="red">const</span> List = <span class="red"><span class="orange">len</span> =&gt;</span> [...new <span class="red">Array</span>(len).keys()]<br><span class="red">const</span> list = List(<span class="purple">10</span>) <span class="green">// [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span><br></code>
<h2>一行代码去重数组</h2>

<code><span class="red">const</span> list = [<span class="purple">1</span>, <span class="purple">1</span>, <span class="purple">2</span>, <span class="purple">3</span>, <span class="purple">6</span>, <span class="purple">45</span>, <span class="purple">8</span>, <span class="purple">5</span>, <span class="purple">4</span>, <span class="purple">6</span>, <span class="purple">5</span>]<br><span class="red">const</span> uniqueList = [...new <span class="red">Set</span>(list)] <span class="green">// [1, 2, 3, 6, 45, 8, 5, 4]</span><br></code>
<h2>RGB色值生成16进制色值</h2>

<code><span class="red">const</span> rgb2Hex = <span class="red">(<span class="orange">r, g, b</span>) =&gt;</span> {<br>    r = <span class="red">Math</span>.max(<span class="red">Math</span>.min(<span class="red">Number</span>(r), <span class="purple">100</span>), <span class="purple">0</span>) * <span class="purple">2.55</span><br>    g = <span class="red">Math</span>.max(<span class="red">Math</span>.min(<span class="red">Number</span>(g), <span class="purple">100</span>), <span class="purple">0</span>) * <span class="purple">2.55</span><br>    b = <span class="red">Math</span>.max(<span class="red">Math</span>.min(<span class="red">Number</span>(b), <span class="purple">100</span>), <span class="purple">0</span>) * <span class="purple">2.55</span><br>    r = (<span class="pink">'0'</span> + (<span class="red">Math</span>.round(r) || <span class="purple">0</span>).toString(<span class="purple">16</span>)).slice(<span class="purple">-2</span>)<br>    g = (<span class="pink">'0'</span> + (<span class="red">Math</span>.round(g) || <span class="purple">0</span>).toString(<span class="purple">16</span>)).slice(<span class="purple">-2</span>)<br>    b = (<span class="pink">'0'</span> + (<span class="red">Math</span>.round(b) || <span class="purple">0</span>).toString(<span class="purple">16</span>)).slice(<span class="purple">-2</span>)<br>    <span class="red">return</span> <span class="pink">'#'</span> + r + g + b<br>}<br>rgb2Hex(<span class="purple">100</span>, <span class="purple">50</span>, <span class="purple">0</span>) <span class="green">// "#ff7f00"</span><br></code>
<h2>颜色混合</h2>

<code><span class="red">const</span> colourBlend = <span class="red">(<span class="orange">c1, c2, ratio</span>) =&gt;</span> {<br>    ratio = <span class="red">Math</span>.max(<span class="red">Math</span>.min(<span class="red">Number</span>(ratio), <span class="purple">1</span>), <span class="purple">0</span>)<br>    <span class="red">let</span> r1 = <span class="red">parseInt</span>(c1.substring(<span class="purple">1</span>, <span class="purple">3</span>), <span class="purple">16</span>)<br>    <span class="red">let</span> g1 = <span class="red">parseInt</span>(c1.substring(<span class="purple">3</span>, <span class="purple">5</span>), <span class="purple">16</span>)<br>    <span class="red">let</span> b1 = <span class="red">parseInt</span>(c1.substring(<span class="purple">5</span>, <span class="purple">7</span>), <span class="purple">16</span>)<br>    <span class="red">let</span> r2 = <span class="red">parseInt</span>(c2.substring(<span class="purple">1</span>, <span class="purple">3</span>), <span class="purple">16</span>)<br>    <span class="red">let</span> g2 = <span class="red">parseInt</span>(c2.substring(<span class="purple">3</span>, <span class="purple">5</span>), <span class="purple">16</span>)<br>    <span class="red">let</span> b2 = <span class="red">parseInt</span>(c2.substring(<span class="purple">5</span>, <span class="purple">7</span>), <span class="purple">16</span>)<br>    <span class="red">let</span> r = <span class="red">Math</span>.round(r1 * (<span class="purple">1</span> - ratio) + r2 * ratio)<br>    <span class="red">let</span> g = <span class="red">Math</span>.round(g1 * (<span class="purple">1</span> - ratio) + g2 * ratio)<br>    <span class="red">let</span> b = <span class="red">Math</span>.round(b1 * (<span class="purple">1</span> - ratio) + b2 * ratio)<br>    r = (<span class="pink">'0'</span> + (r || <span class="purple">0</span>).toString(<span class="purple">16</span>)).slice(<span class="purple">-2</span>)<br>    g = (<span class="pink">'0'</span> + (g || <span class="purple">0</span>).toString(<span class="purple">16</span>)).slice(<span class="purple">-2</span>)<br>    b = (<span class="pink">'0'</span> + (b || <span class="purple">0</span>).toString(<span class="purple">16</span>)).slice(<span class="purple">-2</span>)<br>    <span class="red">return</span> <span class="pink">'#'</span> + r + g + b<br>}<br>colourBlend(<span class="pink">'#ff0000'</span>, <span class="pink">'#3333ff'</span>, <span class="purple">0.5</span>) <span class="green">// "#991a80"</span><br></code>
<h2>判断是否为质数</h2>

<code><span class="red">const</span> mathIsPrime = <span class="red"><span class="orange">n</span> =&gt;</span> {<br>  <span class="red">if</span> (n === <span class="purple">2</span> || n === <span class="purple">3</span>) {<br>    <span class="red">return</span> <span class="purple">true</span><br>  }<br>  <span class="red">if</span> (<span class="red">isNaN</span>(n) || n &lt;= <span class="purple">1</span> || n % <span class="purple">1</span> != <span class="purple">0</span> || n % <span class="purple">2</span> == <span class="purple">0</span> || n % <span class="purple">3</span> == <span class="purple">0</span>) {<br>    <span class="red">return</span> <span class="purple">false</span>;<br>  }<br>  <span class="red">for</span> (<span class="red">let</span> x = <span class="purple">6</span>; x &lt;= <span class="red">Math</span>.sqrt(n) + <span class="purple">1</span>; x += <span class="purple">6</span>) {<br>    <span class="red">if</span> (n % (x - <span class="purple">1</span>) == <span class="purple">0</span> || n % (x + <span class="purple">1</span>) == <span class="purple">0</span>) {<br>      <span class="red">return</span> <span class="purple">false</span><br>    }<br>  }<br>  <span class="red">return</span> <span class="purple">true</span><br>}<br>mathIsPrime(<span class="purple">0</span>) <span class="green">// true</span><br></code>
<h2>遍历类数组对象</h2>

<code><span class="red">const</span> elements = <span class="red">document</span>.querySelectorAll(selector);<br>[].prototype.forEach.call(elements, (el, idx, list) =&gt; {<br>    <span class="red">console</span>.log(el) <span class="green">// 元素节点</span><br>})<br></code>
<h2>判断对象类型</h2>

<code><span class="red">const</span> type = <span class="red"><span class="orange">data</span> =&gt;</span> <span class="red">Object</span>.prototype.toString.call(data).replace(<span class="grey">/^\[object (.+)\]$/</span>, <span class="pink">'$1'</span>).toLowerCase()<br>type({}) <span class="green">// object</span><br></code>
<h2>优化多层判断条件</h2>

<code><span class="red">const</span> getScore = <span class="red"><span class="orange">score</span> =&gt;</span> {<br>    <span class="red">const</span> scoreData = <span class="red">new</span> <span class="red">Array</span>(<span class="purple">101</span>).fill(<span class="purple">0</span>)<br>    .map(<span class="red">(<span class="orange">data, idx</span>) =&gt;</span> ([idx, () =&gt; (idx &lt; <span class="purple">60</span> ? <span class="pink">'不及格'</span> : <span class="pink">'及格'</span>)]))<br>    <span class="red">const</span> scoreMap = <span class="red">new</span> <span class="red">Map</span>(scoreData)<br>    <span class="red">return</span> (scoreMap.get(score) <br>          ? scoreMap.get(score)() <br>          : <span class="pink">'未知分数'</span>)<br>}<br>getScore(<span class="purple">30</span>) <span class="green">// 不及格</span><br></code>
<h2>时间格式化</h2>

<code><span class="red">const</span> dateFormatter = <span class="red">(<span class="orange">formatter, date</span>) =&gt;</span> {<br>    date = (date ? <span class="red">new</span> <span class="red">Date</span>(date) : <span class="red">new</span> <span class="red">Date</span>)<br>    <span class="red">const</span> Y = date.getFullYear() + <span class="pink">''</span>,<br>          M = date.getMonth() + <span class="purple">1</span>,<br>          D = date.getDate(),<br>          H = date.getHours(),<br>          m = date.getMinutes(),<br>          s = date.getSeconds()<br>    <span class="red">return</span> formatter.replace(<span class="grey">/YYYY|yyyy/g</span>, Y)<br>                    .replace(<span class="grey">/YY|yy/g</span>, Y.substr(<span class="purple">2</span>, <span class="purple">2</span>))<br>                    .replace(<span class="grey">/MM/g</span>, (M &lt; <span class="purple">10</span> ? <span class="pink">'0'</span> : <span class="pink">''</span>) + M)<br>                    .replace(<span class="grey">/DD/g</span>, (D &lt; <span class="purple">10</span> ? <span class="pink">'0'</span> : <span class="pink">''</span>) + D)<br>                    .replace(<span class="grey">/HH|hh/g</span>, (H &lt; <span class="purple">10</span> ? <span class="pink">'0'</span> : <span class="pink">''</span>) + H)<br>                    .replace(<span class="grey">/mm/g</span>, (m &lt; <span class="purple">10</span> ? <span class="pink">'0'</span> : <span class="pink">''</span>) + m)<br>                    .replace(<span class="grey">/ss/g</span>, (s &lt; <span class="purple">10</span> ? <span class="pink">'0'</span> : <span class="pink">''</span>) + s)<br>}<br><br>dateFormatter(<span class="pink">'YYYY-MM-DD HH:mm'</span>, <span class="pink">'1995/02/15 13:55'</span>) <span class="green">// 1995-02-15 13:55</span><br></code>


<h2>localStorage database processing</h2>

Before using web storage, check browser support for localStorage and sessionStorage:

if (typeof(Storage) !== "undefined") {
  // Code for localStorage/sessionStorage.
} else {
  // Sorry! No Web Storage support..
}


var movies = [
["a word", "explain", "1.2"],
["another word", "explain1", "2.2"],
["third word", "explain2", "5.2"],
];

localStorage retrieve
var movies2 = JSON.parse(localStorage.getItem("theList"));

localStorage store	
localStorage.setItem("theList", JSON.stringify(movies));

loop to find all arrays
thequizword = 0, explanation = 1, thegrade = 2;
movies[1][thequizword];
movies[1][explanation];
movies[1][thegrade];

<h2>simple way for client-server conversation</h2>
<a href="https://stackoverflow.com/questions/52407025/client-server-communication-in-node-js">simple way for client-server conversation</a>
<br>

The WS npm package makes this pretty easy.
Server example (using the ws npm package):

    const WebSocket = require('ws');

    // Set up server
    const wss = new WebSocket.Server({ port: 8080 });

    // Wire up some logic for the connection event (when a client connects) 
    wss.on('connection', function connection(ws) {

      // Wire up logic for the message event (when a client sends something)
      ws.on('message', function incoming(message) {
        console.log('received: %s', message);
      });

      // Send a message
      ws.send('Hello client!');
    });

Client example (no need for any package here, it's built into most browsers) :

// Create WebSocket connection.
const socket = new WebSocket('ws://localhost:8080');

// Connection opened
socket.addEventListener('open', function (event) {
    socket.send('Hello Server!');
});

// Listen for messages
socket.addEventListener('message', function (event) {
    console.log('Message from server ', event.data);
});
There are alternatives if you can't use websockets, such as polling (where the client periodically calls the server to see if theres a message), and long-polling (where the server holds a http request open for an artificially long period of time until a message is ready).


<h2>lookaheads and lookbehinds</h2>

<a href="https://www.stefanjudis.com/today-i-learned/the-complicated-syntax-of-lookaheads-in-javascript-regular-expressions/">lookaheads (and lookbehinds) in JavaScript regular expressions</a>

Today, I just had my Sunday morning coffee and worked myself through the slide deck <a href="https://slidr.io/mathiasbynens/what-s-new-in-es2018#1">"What's new in ES2018"</a> by <a href="https://twitter.com/bmeurer?lang=de">Benedikt Meurer</a> and <a href="https://twitter.com/mathias">Mathias Bynens</a>.

There is so much useful information in these slides, and besides new language features like async iterations, object spread properties and <a href="https://github.com/tc39/proposal-regexp-named-groups">named capture groups in regular expressions</a> (🎉) it also covers lookaheads (and the upcoming lookbehinds) in regular expressions. 

Now and then lookaheads in JavaScript regular expressions cross my way, and I have to admit that I never had to use them but now the counter part <strong>lookbehinds</strong> are going to be in the language, too, so I decided to read some documentation and finally learn what these lookaheads are.

<h2>Lookaheads in JavaScript</h2>
With lookaheads, you can define patterns that only match when they're followed or not followed by another pattern.

<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions">The MDN article about regular expressions</a> describes two different types of lookaheads in regular expressions. 

Positive and negative lookaheads:
<code>x(?=y)</code> – positive lookahead (matches 'x' when it's followed by 'y')
<code>x(?!y)</code> – negative lookahead (matches 'x' when it's not followed by 'y')

<h2>Captured groups in JavaScript – the similar looking companions</h2>
  
Oh well... <code>x(?=y)</code> – that's a tricky syntax if you ask me. The thing that confused me initially is that I usually use <code>()</code> for captured groups in JavaScript expressions.

Let's look at an example for a captured group:

<code>const regex = /\w+\s(\w+)\s\w+/;

regex.exec('eins zwei drei');
// ['eins zwei drei', 'zwei']
//                      /\
//                      ||
//                captured group
//                 defined with
//                    (\w+)</code>
What you see above is a regular expression that captures a word (<code>zwei</code> in this case) that is surrounded by one space and another word. 

<h2>Lookaheads are not like captured groups</h2>
  
So let's look at a typical example that you'll find when you read about lookaheads in JavaScript regular expressions.

<code>const regex = /Max(?= Mustermann)/

regex.exec('Max Mustermann')
// ['Max']
regex.exec('Max Müller')
// null</code>
This example matches <code>Max</code> whenever it is followed by a space and <code>Mustermann</code> otherwise it's not matching and returns <code>null</code>. The interesting part for me is that it only matches <code>Max</code> and not the pattern that is defined in the lookahead. Which seems to be a weird after working with regular expressions for a while but when you think of it, that's the point of lookaheads.


The "Max Mustermann" example is not useful in my opinion so let's dive into positive and negative lookaheads with a real-world use case.

<h3>Positive lookahead</h3>
  
Let's assume you have a long string of Markdown that includes a list of people and their food preferences. How would you figure out which people are vegan when everything's just a long string?

<code>const people = `
- Bob (vegetarian)
- Billa (vegan)
- Francis
- Elli (vegetarian)
- Fred (vegan)
`;

const regex = /-\s(\w+?)\s(?=\(vegan\))/g;
//                |----|  |-----------|
//                  /            \
//           more than one        \
//           word character      positive lookahead
//           but as few as       => followed by "(vegan)"
//           possible

let result = regex.exec(people);

while(result) {
  console.log(result[1]);
  result = regex.exec(people);
}

// Result:
// Billa
// Fred</code>
Let's have a quick look at the regular expression and try to phrase it in words.

<code>const regex = /-\s(\w+?)\s(?=\(vegan\))/g;</code>
Alright... let's do this!

<blockquote>

Match any dash followed by one space character followed by more one or more but as few as possible word characters (A-Za-z0-9_) followed by a space and the pattern "(vegan)"

</blockquote>
<h3>Negative/negating lookaheads</h3>
  
On the other hand, how would you figure out who is not vegan?

<code>const people = `
- Bob (vegetarian)
- Billa (vegan)
- Francis
- Elli (vegetarian)
- Fred (vegan)
`;

const regex = /-\s(\w+)\s(?!\(vegan\))/g
//                |---|  |-----------|
//                  /          \
//           more than one      \
//           word character     negative lookahead
//           but as few as      => not followed by "(vegan)"
//           possible

let result = regex.exec(people);

while(result) {
  console.log(result[1]);
  result = regex.exec(people);
}

// Result:
// Bob
// Francis
// Elli</code>
Let's have a quick look at the regular expression and try to phrase it in words, too.

<code>const regex = /-\s(\w+)\s(?!\(vegan\))/g</code><blockquote>

Match any dash followed by one space character followed by more one or more but as few as possible word characters (A-Za-z0-9_) followed by a space character (which includes line breaks) not followed by the pattern "(vegan)"

</blockquote>

<h2>lookaheads will have company from lookbehinds soon</h2>
  
<a href="https://github.com/tc39/proposal-regexp-lookbehind">Lookbehinds</a> will work the same way but for patterns before the matching pattern (lookaheads consider the patters after the matching part) and <a href="http://kangax.github.io/compat-table/es2016plus/#test-RegExp_Lookbehind_Assertions">are already supported in Chrome today</a>. They will also be available as positive lookbehind <code>x(?&lt;=y)</code> and the negative lookbehind <code>x(?&lt;!y)</code>. 


When we flip the strings in the example around it still works the same way using lookbehinds then. :)

<code>const people = `
- (vegetarian) Bob
- (vegan) Billa
- Francis
- (vegetarian) Elli
- (vegan) Fred
`;

const regex = /(?&lt;=\(vegan\))\s(\w+)/g
//             |------------|  |---|  
//                  /             \__
//         positive lookbehind        \
//       => following "(vegan)"     more than one
//                                  word character
//                                  but as few as possible

let result = regex.exec(people);

while(result) {
  console.log(result[1]);
  result = regex.exec(people);
}

// Result:
// Billa
// Fred</code>
<em>Sidenote: I usually recommend <a href="http://regexr.com/">RegExr</a> for the fiddling with regular expressions but lookbehinds are not supported yet.</em>

If you're interested in more cutting edge features have a look at Mathias' and Benedikt's <a href="https://slidr.io/mathiasbynens/what-s-new-in-es2018#1">slides on new features coming to JavaScript</a> there is way more exciting stuff to come.


<h2>image swaps (mouseover images)</h2>
&lt;a href="index.htm" onMouseOver="button.src='homeon.gif';" onMouseOut="button.src='home.gif';"&gt;&lt;img src="home.gif" name="button"&gt;&lt;/a&gt;
<br>

<h2>domain name</h2>
var x = document.domain;
base_url="http://" + x + "/";
Get the domain name of the server that loaded the document and concat the full url

<h2>array.splice</h2>
splice() adds/removes items to/from an array, and returns the removed item(s)
array.splice(index, howmany, item1, .., itemX)

var fruits = ["Banana", "Orange", "Apple", "Mango"];
fruits.splice(2, 1, "Lemon", "Kiwi");
Banana,Orange,Lemon,Kiwi,Mango

var fruits = ["Banana", "Orange", "Apple", "Mango"];
fruits.splice(2, 0, "Lemon", "Kiwi");
Banana,Orange,Lemon,Kiwi,Apple,Mango

<h2>Removing Array Items By Value Using Splice</h2>
var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 0];
for( var z = 0; z < arr.length; z++){ 
   if ( arr[z] === 5) {arr.splice(z, 1);}
}

<h2>JavaScript: Remove Element from an Array</h2>
Removing elements from a JavaScript array is a common programming paradigm that developers often run into. 
As with a lot of things JavaScript, this isn’t as simple as it probably should be.
There are actually several ways to remove one or more elements from an array — without ripping your hair out in the process — so let’s go through each of them one by one.
<h3>Removing One Element Using <em>splice()</em></h3>
The splice() method is a versatile way of removing, replacing, and/or adding elements in an array. 
It works similarly to <em>splice()</em> functions in other languages. 
Basically, you take an array and selectively remove portions of it (aka “splice”). 
The inputs to the <em>splice()</em> function are the index point to start at and the number of elements to remove.
Also, remember that arrays are zero-indexed in JavaScript.
To remove one element from a specific index in an array:

["bar", "baz", "foo", "qux"]
list.splice(2, 1)
// Starting at index position 2, remove one element
["bar", "baz", "qux"]

list.splice(2,2)
// Starting at index position 2, remove two elements
["bar", "baz"]

The <em>splice()</em> call will return any removed elements, so you know what was actually removed.
<h3>Removing a Range of Elements Using <em>splice()</em></h3>
Just to make sure you didn’t miss it in the previous example, it is worth calling out specifically that you can remove several consecutive elements with <em>splice()</em>.
To remove several consecutive elements from an array:

["bar", "baz", "foo", "qux"]

list.splice(0, 2)
// Starting at index position 0, remove two elements 
["foo", "qux"]

<h3>Removing One Element Using <em>pop()</em></h3>

The array methods <em>push()</em> and <em>pop()</a></em> work on the the end of an array. 
The terms <em>push()</em> and <em>pop()</em> come from the idea of a stack in memory from the early days of microprocessors. 
This implements the idea of a Last-In-First-Out data structure (LIFO). 
The <em>push()</em> method will ADD an element to the array and the <em>pop() </em>method will remove one.
To remove the last element of an array:

["bar", "baz", "foo", "qux"]
list.pop()
["bar", "baz", "foo"]

<h3>Removing One Element Using <em>shift()</em></h3>

The array methods <em>shift()</a></em> and <em>unshift()</a></em> work on the beginning of an array instead of the end of an array, as is the case with <em>push()</em> and <em>pop()</em>. 
The <em>shift()</em> command will remove the first element of the array and the <em>unshift()</em> command will add an element to the beginning of the array.
To remove the first element of an array:

["bar", "baz", "foo", "qux"]
list.shift()
["baz", "foo", "qux"]

<h3>Searching and Removing a Specific Element by Value</h3>

The <em>indexOf()</a></em> command returns the first index at which a given element can be found in the array, or -1 if it is not present. 
This can be used along with <em>splice()</em> to search for an element and then remove it, even if you don’t know where it is in the array.
Let’s remove the “foo” element:

["bar", "baz", "foo", "qux"]

list.splice( list.indexOf('foo'), 1 );
// Find the index position of "foo," then remove one element from that position


<h3>Removing Multiple Specific Elements</h3>
If to remove multiple repeating items that match the criteria.

Here two 5s in array:
var arr = [1, 2, 3, 4, 5, 5, 6, 7, 8, 5, 9, 0];

for( var i = 0; i < arr.length; i++){ 
   if ( arr[i] === 5) {
     arr.splice(i, 1); 
     i--;
   }
}

//=> [1, 2, 3, 4, 6, 7, 8, 9, 0]

added 'i--;' after the splice call.

OR:
Let’s add an extra “foo” element to our array, and then remove all occurrences of “foo”:

["bar", "baz", "foo", "foo", "qux"]

for( var i = list.length-1; i--;){
   if ( list[i] === 'foo') list.splice(i, 1);
}
["bar", "baz", "qux"]

Note that we could also have used the <em>filter()</a> </em>method for this operation, but that would have created a new array, as <em>filter()</em> does not mutate the array on which it is called.
If you need to do a lot of filtering, using the <em>filter()</em> method might clean up your code quite a bit.

<h3>Conclusion</h3>

When it comes down to it, removing elements from arrays in JavaScript is pretty straightforward. 
The naming conventions may be a bit odd at first, but once you do it a few times, you will be able to do it without a second thought (or a second look at this article).


<h2>reduce()</h2>
array.reduce(function(total, currentValue, currentIndex, arr), initialValue)

The reduce() method executes a provided function for each value of the array (from left-to-right).

The return value of the function is stored in an accumulator (result/total).

Example
Subtract the numbers in the array, starting from the beginning:

var numbers = [175, 50, 25];
function myFunc(total, num) { return total - num;}
numbers.reduce(myFunc);

Round all the numbers in an array, and display the sum:

var numbers = [15.5, 2.3, 1.1, 4.7];
function getSum(total, num) { return total + Math.round(num);}
numbers.reduce(getSum, 0);


<h2>Finding Standard Deviation</h2>

<span class="white">Standard Deviation</span>
The Standard Deviation is a measure of how spread out numbers are.

σ is the square root of the Variance.

<span class="white">What is the Variance?</span>
The Variance is the average of the squared differences from the Mean.

<span class="white">The Arithmetic mean</span>
Arithmetic mean is just a more formal way of referring to an average, there is more than one mean in statistics, so it is important to know which mean we are talking about.

let <span class="white">getMean</span> = function (data) {
    return data.reduce(function (a, b) {
        return Number(a) + Number(b);}) / data.length;
};

<span class="white">The standard deviation</span>

let getSD = function (data) {
    let m = getMean(data);
    return Math.sqrt(data.reduce(function (sq, n) {
            return sq + Math.pow(n - m, 2);
        }, 0) / (data.length - 1));
};

<span class="white">Simple function</span>
function std (array) {
  const n = array.length
  const mean = array.reduce((a, b) => a + b) / n
  return Math.sqrt(array.map(x => Math.pow(x - mean, 2)).reduce((a, b) => a + b) / n)
}

bigArray = [1,3,2,4,5,6,5,3,4,5]
intv = 3

	function makeStd(bigArray, intv) {
	     // the intv-1 is correct
          newArray = new Array(intv-1).fill(0)
		newArray = newArray.concat(calcStd(bigArray, intv));
		return newArray
	}

	function calcStd(bigArray, intv) {
		var stdArrar = [];
		for (var i =0 ; i < (bigArray.length-intv+1); i++) {stdArrar[i] = Std(bigArray.slice(i, i+intv));} // points to indicator
		return stdArrar;
	}

	function Std(array) {
	  const n = array.length
	  const mean = array.reduce((a, b) => a + b) / n
	  return Math.sqrt(array.map(x => Math.pow(x - mean, 2)).reduce((a, b) => a + b) / n)
	}



<h3>Standard deviation</h3>
const n = array.length;
const mean = array.reduce((a,b) => a+b)/n;
const s = Math.sqrt(array.map(x => Math.pow(x-mean,2)).reduce((a,b) => a+b)/n);

<h2>Javascript Tips</h2>

<a class="post-link" href="https://www.jstips.co/en/javascript/creating-immutable-objects-in-native-javascript/">Creating immutable objects in native JavaScript</a>
With the latest versions of JavaScript it’s possible to create immutable objects. I’ll walk you through how to do it in three different ways.
<a href="https://www.jstips.co/en/javascript/creating-immutable-objects-in-native-javascript/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/hash-maps-without-side-effects/">Hash maps without side effects</a>
Create hash maps(without side effects) using <code>Object.create(null)</code>.
<a href="https://www.jstips.co/en/javascript/hash-maps-without-side-effects/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/looping-over-arrays/">Looping over arrays</a>
There’s a few methods for looping over arrays in Javascript. We’ll start with the classical ones and move towards additions made to the standard.
<a href="https://www.jstips.co/en/javascript/looping-over-arrays/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/immutable-structures-and-cloning/">Immutable structures and cloning</a>
Object cloning is a tricky, full of edge-cases, endeavor. The reason is simple enough. Objects maintain internal state, and that is much abused. There are countless techniques, or better phrased, countless derivations of the same technique.
<a href="https://www.jstips.co/en/javascript/immutable-structures-and-cloning/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/closures-inside-loops/">Closures inside loops</a>
Closure in a loop is an interesting topic and this is the tip to be a master of it
<a href="https://www.jstips.co/en/javascript/closures-inside-loops/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/react/upping-performance-by-appending-keying/">Upping Performance by Appending/Keying</a>
React uses a mechanism called <strong>reconciliation</strong> for efficient rendering on update.
<a href="https://www.jstips.co/en/react/upping-performance-by-appending-keying/">Read More <span class="shape">→</span></a>

<a href="https://www.jstips.co/en/javascript/improving-your-async-functions-with-webworkers/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/protocols-for-the-brave/">Protocols for the Brave</a>
You might have heard about the old ways gaining hype recently, and we don’t mean praying to the gods of the north. Today we’re introducing a feature found in Clojure which allows you to define interfaces for your classes.
<a href="https://www.jstips.co/en/javascript/protocols-for-the-brave/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/react/adventurers-guide-to-react/">Adventurers Guide to React (Part I)</a>
So you’ve heard of this <em>React</em> thing, and you actually peeked at the docs, maybe even went through some of the pages. Then you suddenly came across mysterious runes that spelled somewhat along the lines of Webpack, Browserify, Yarn, Babel, NPM and yet…
<a href="https://www.jstips.co/en/react/adventurers-guide-to-react/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/more/vuejs-how-vuejs-makes-a-copy-update-replace-inside-the-data-binding/">VueJS, How VueJS makes a copy-update-replace inside the data binding.</a>
In this tip, I will introduce an example to show you how it might conflict with other software.
<a href="https://www.jstips.co/en/more/vuejs-how-vuejs-makes-a-copy-update-replace-inside-the-data-binding/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/picking-and-rejecting-object-properties/">Picking and rejecting object properties</a>
Sometimes we need to whitelist certain attributes from an object, say we’ve got an array representation of a database table and we need to <code>select</code> just a few fields for some function.
<a href="https://www.jstips.co/en/javascript/picking-and-rejecting-object-properties/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/react/enhancing-react-components-composition/">Enhancing React components, Composition</a>
React is extremely flexible in terms of how you can structure your components, but this pattern will make your apps more efficient.
<a href="https://www.jstips.co/en/react/enhancing-react-components-composition/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/why-you-should-use-Object.is()-in-equality-comparison/">Why you should use Object.is() in equality comparison</a>
A good solution for the looseness of equality comparisons in javascript
<a href="https://www.jstips.co/en/javascript/why-you-should-use-Object.is()-in-equality-comparison/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/recursion-iteration-and-tail-calls-in-js/">Recursion, iteration and tail calls in JS</a>
If you’ve been on the business for some time, you have, most likely, come across the definition of recursion, for which the factorial of a given number <code>n! = n * n - 1 * ... * 1</code> is a standard example…
<a href="https://www.jstips.co/en/javascript/recursion-iteration-and-tail-calls-in-js/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/react/state-to-props-maps-with-memory/">State to Props maps with memory</a>
You’ve been building your React apps with a Redux store for quite a while, yet you feel awkward when your components update so often. You’ve crafted your state thoroughly, and your architecture is such that each component gets just what it needs from…
<a href="https://www.jstips.co/en/react/state-to-props-maps-with-memory/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/tapping-for-quick-debugging/">Tapping for quick debugging</a>
This little beastie here is tap. A really useful function for quick-debugging chains of function calls, anonymous functions and, actually, whatever you just want to print.
<a href="https://www.jstips.co/en/javascript/tapping-for-quick-debugging/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/3-array-hacks/">3 Array Hacks</a>
Arrays are everywhere and with the new spread operators introduced in ECMAScript 6, you can do awesome things with them. In this post I will show you 3 useful tricks you can use when programming.
<a href="https://www.jstips.co/en/javascript/3-array-hacks/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/working-with-websocket-timeout/">Working With Websocket Timeout</a>
A trick to control the timeout
<a href="https://www.jstips.co/en/javascript/working-with-websocket-timeout/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/angular/preventing-unwanted-scopes-creation-in-angularjs/">Preventing Unwanted Scopes Creation in AngularJs</a>
In this tip I am going to show how to pass data between scopes preventing unwanted scopes created by <code>ng-repeat</code> and <code>ng-if</code>
<a href="https://www.jstips.co/en/angular/preventing-unwanted-scopes-creation-in-angularjs/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/binding-objects-to-functions/">Binding objects to functions</a>
Understanding how to use <code>Bind</code> method with objects and functions in JavaScript
<a href="https://www.jstips.co/en/javascript/binding-objects-to-functions/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/three-useful-hacks/">Three useful hacks</a>
Three very useful and syntax sugar hacks to speed up your development.
<a href="https://www.jstips.co/en/javascript/three-useful-hacks/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/keyword-var-vs-let/">ES6, var vs let</a>
In this tip, I will introduce the block-scope difference between keyword var and let. Should I replace var by let? let’s take a look
<a href="https://www.jstips.co/en/javascript/keyword-var-vs-let/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/break-continue-loop-functional/">Breaking or continuing loop in functional programming</a>
A common task for us is iterate over a list looking for a value or values, but we can’t return from inside a loop so we will have to iterate the whole array, even if the item we search is the first in…
<a href="https://www.jstips.co/en/javascript/break-continue-loop-functional/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/comma-operaton-in-js/">Comma operator in JS</a>
When placed in an expression, it evaluates every expression from left to right and returns the last one.
<a href="https://www.jstips.co/en/javascript/comma-operaton-in-js/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/copy-to-clipboard/">Copy to Clipboard</a>
This week I had to create a common “Copy to Clipboard” button, I’ve never created one before and I want to share how I made it.
<a href="https://www.jstips.co/en/javascript/copy-to-clipboard/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/make-easy-loop-on-array/">Create an easy loop using an array</a>
Sometimes, we need to loop endlessly over an array of items, like a carousel of images or an audio playlist. Here’s how to take an array and give it “looping powers”
<a href="https://www.jstips.co/en/javascript/make-easy-loop-on-array/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/use-optional-arguments/">How to use optional arguments in functions (with optional callback)</a>
You can make function arguments and callback optional
<a href="https://www.jstips.co/en/javascript/use-optional-arguments/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/get-file-extension/">Get File Extension</a>
How to get the file extension more efficiently?
<a href="https://www.jstips.co/en/javascript/get-file-extension/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/return-values-with-the-new-operator/">Return Values with the &#39;new&#39; Operator</a>
Understand what gets returned when using new vs. not using new.
<a href="https://www.jstips.co/en/javascript/return-values-with-the-new-operator/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/react/state-to-props-maps-with-memory/">State to Props maps with memory</a>
You’ve been building your React apps with a Redux store for quite a while, yet you feel awkward when your components update so often. You’ve crafted your state thoroughly, and your architecture is such that each component gets just what it needs from…
<a href="https://www.jstips.co/en/react/state-to-props-maps-with-memory/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/DOM-event-listening-made-easy/">DOM event listening made easy</a>
An elegant and easy way to handle DOM events
<a href="https://www.jstips.co/en/javascript/DOM-event-listening-made-easy/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/angular/preventing-unwanted-scopes-creation-in-angularjs/">Preventing Unwanted Scopes Creation in AngularJs</a>
In this tip I am going to show how to pass data between scopes preventing unwanted scopes created by <code>ng-repeat</code> and <code>ng-if</code>
<a href="https://www.jstips.co/en/angular/preventing-unwanted-scopes-creation-in-angularjs/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/helpful-console-log-hacks/">Helpful Console Logging Tricks</a>
Helpful logging techniques using coercion and conditonal breakpoints.
<a href="https://www.jstips.co/en/javascript/helpful-console-log-hacks/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/extract-unix-timestamp-easily/">Easiest way to extract unix timestamp in JS</a>
In Javascript you can easily get the unix timestamp
<a href="https://www.jstips.co/en/javascript/extract-unix-timestamp-easily/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/reminders-about-reduce-function-usage/">How to `reduce()` arrays</a>
Some reminders about using <code>reduce()</code>
<a href="https://www.jstips.co/en/javascript/reminders-about-reduce-function-usage/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/basics-declarations/">Basics declarations</a>
Understand and work with declarations.
<a href="https://www.jstips.co/en/javascript/basics-declarations/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/detect-document-ready-in-pure-js/">Detect document ready in pure JS</a>
The cross-browser way to check if the document has loaded in pure JavaScript
<a href="https://www.jstips.co/en/javascript/detect-document-ready-in-pure-js/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/calculate-the-max-min-value-from-an-array/">Calculate the Max/Min value from an array</a>
Ways to use the built-in functions Math.max() and Math.min() with arrays of numbers
<a href="https://www.jstips.co/en/javascript/calculate-the-max-min-value-from-an-array/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/know-the-passing-mechanism/">Know the passing mechanism</a>
JavaScript technically only passes by value for both primitives and object (or reference) types. In case of reference types the reference value itself is passed by value.
<a href="https://www.jstips.co/en/javascript/know-the-passing-mechanism/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/use-destructuring-in-function-parameters/">Use destructuring in function parameters</a>
Did you know that you can use destructuring in function parameters?
<a href="https://www.jstips.co/en/javascript/use-destructuring-in-function-parameters/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/preventing-unapply-attacks/">Preventing Unapply Attacks</a>
Freeze the builtin prototypes.
<a href="https://www.jstips.co/en/javascript/preventing-unapply-attacks/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/array-average-and-median/">Array average and median</a>
Calculate the average and median from array values
<a href="https://www.jstips.co/en/javascript/array-average-and-median/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/using-json-stringify/">Using JSON.Stringify</a>
Create string from selected properties of JSON object.
<a href="https://www.jstips.co/en/javascript/using-json-stringify/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/advanced-properties/">Advanced Javascript Properties</a>
How to add private properties, getters and setters to objects.
<a href="https://www.jstips.co/en/javascript/advanced-properties/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/flattening-multidimensional-arrays-in-javascript/">Flattening multidimensional Arrays in JavaScript</a>
Three different solutions to merge multidimensional array into a single array.
<a href="https://www.jstips.co/en/javascript/flattening-multidimensional-arrays-in-javascript/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/deduplicate-an-array/">Deduplicate an Array</a>
How to remove duplicate elements, of different data types, from an Array.
<a href="https://www.jstips.co/en/javascript/deduplicate-an-array/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/observe-dom-changes/">Observe DOM changes in extensions</a>
When you develop extensions to existent sites it’s not so easy to play with DOM ‘cause of modern dynamic javascript.
<a href="https://www.jstips.co/en/javascript/observe-dom-changes/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/assignment-shorthands/">Assignment Operators</a>
Assigning is very common. Sometimes typing becomes time consuming for us ‘Lazy programmers’. So, we can use some tricks to help us and make our code cleaner and simpler.
<a href="https://www.jstips.co/en/javascript/assignment-shorthands/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/implementing-asynchronous-loops/">Implementing asynchronous loop</a>
You may run into problems while implementing asynchronous loops.
<a href="https://www.jstips.co/en/javascript/implementing-asynchronous-loops/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/create-range-0/.n-easily-using-one-line/">Create array sequence `[0, 1, ..., N-1]` in one line</a>
Compact one-liners that generate ordinal sequence arrays
<a href="https://www.jstips.co/en/javascript/create-range-0/.n-easily-using-one-line/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/map-to-the-rescue-adding-order-to-object-properties/">Map() to the rescue; adding order to Object properties</a>
An Object it is an unordered collection of properties… that means that if you are trying to save ordered data inside an Object, you have to review it because properties order in objects are not guaranteed.
<a href="https://www.jstips.co/en/javascript/map-to-the-rescue-adding-order-to-object-properties/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/avoid-modifying-or-passing-arguments-into-other-functions-it-kills-optimization/">Avoid modifying or passing `arguments` into other functions — it kills optimization</a>
Within JavaScript functions, the variable name <code>arguments</code> lets you access all of the arguments passed to the function. <code>arguments</code> is an <em>array-like object</em>; <code>arguments</code> can be accessed using array notation, and it has the <em>length</em> property, but it doesn’t have many of the…
<a href="https://www.jstips.co/en/javascript/avoid-modifying-or-passing-arguments-into-other-functions-it-kills-optimization/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/converting-truthy-falsy-values-to-boolean/">Converting truthy/falsy values to boolean</a>
Logical operators are a core part of JavaScript, here you can see a a way you always get a true or false no matter what was given to it.
<a href="https://www.jstips.co/en/javascript/converting-truthy-falsy-values-to-boolean/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/speed-up-recursive-functions-with-memoization/">Speed up recursive functions with memoization</a>
Fibonacci sequence is very familiar to everybody. we can write the following function in 20 seconds.it works, but not efficient. it did lots of duplicate computing works, we can cache its previously computed results to speed it up.
<a href="https://www.jstips.co/en/javascript/speed-up-recursive-functions-with-memoization/">Read More <span class="shape">→</span></a>


<a class="post-link" href="https://www.jstips.co/en/javascript/short-circuit-evaluation-in-js/">Short circuit evaluation in JS.</a>
Short-circuit evaluation says, the second argument is executed or evaluated only if the first argument does not suffice to determine the value of the expression, when the first argument of the AND <code>&amp;&amp;</code> function evaluates to false, the overall value must be false,…
<a href="https://www.jstips.co/en/javascript/short-circuit-evaluation-in-js/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/filtering-and-sorting-a-list-of-strings/">Filtering and Sorting a List of Strings</a>
You may have a big list of names you need to filter in order to remove duplicates and sort them alphabetically.
<a href="https://www.jstips.co/en/javascript/filtering-and-sorting-a-list-of-strings/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/Using-immediately-invoked-function-expression/">Using immediately invoked function expression</a>
Called as “Iffy” ( IIFE - immediately invoked function expression) is an anonymous function expression that is immediately invoked and has some important uses in Javascript.
<a href="https://www.jstips.co/en/javascript/Using-immediately-invoked-function-expression/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/use_===_instead_of_==/">Use === instead of ==</a>
The <code>==</code> (or <code>!=</code>) operator performs an automatic type conversion if needed. The <code>===</code> (or <code>!==</code>) operator will not perform any conversion. It compares the value and the type, which could be considered faster (
<a href="https://www.jstips.cohttp://jsperf.com/strictcompare">jsPref</a>) than <code>==</code>.
<a href="https://www.jstips.co/en/javascript/use_===_instead_of_==/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/converting-to-number-fast-way/">Converting to number fast way</a>
Converting strings to numbers is extremely common. The easiest and fastest way to achieve that would be using the + operator.
<a href="https://www.jstips.co/en/javascript/converting-to-number-fast-way/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/two-ways-to-empty-an-array/">Two ways to empty an array</a>
In JavaScript when you want to empty an array, there are a lot ways, but this is the most performant.
<a href="https://www.jstips.co/en/javascript/two-ways-to-empty-an-array/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/shuffle-an-array/">Shuffle an Array</a>
Fisher-Yates Shuffling it’s an algorithm to shuffle an array.
<a href="https://www.jstips.co/en/javascript/shuffle-an-array/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/return-objects-to-enable-chaining-of-functions/">Return objects to enable chaining of functions</a>
When creating functions on an object in Object Oriented Javascript, returning the object in the function will enable you to chain functions together.
<a href="https://www.jstips.co/en/javascript/return-objects-to-enable-chaining-of-functions/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/safe-string-concatenation/">Safe string concatenation</a>
Suppose you have a couple of variables with unknown types and you want to concatenate them in a string. To be sure that the arithmetical operation is not be applied during concatenation, use concat
<a href="https://www.jstips.co/en/javascript/safe-string-concatenation/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/rounding-the-fast-way/">Truncating the fast (but risky) way</a>
.<code>~~X</code> is usually a faster <code>Math.trunc(X)</code>, but can also make your code do nasty things.
<a href="https://www.jstips.co/en/javascript/rounding-the-fast-way/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/nodejs-run-a-module-if-it-is-not-required/">Node.js - Run a module if it is not `required`</a>
In node, you can tell your program to do two different things depending on whether the code is run from <code>require('./something.js')</code> or <code>node something.js</code>. This is useful if you want to interact with one of your modules independently.
<a href="https://www.jstips.co/en/javascript/nodejs-run-a-module-if-it-is-not-required/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/passing-arguments-to-callback-functions/">Passing arguments to callback functions</a>
By default you cannot pass arguments to a callback function, but you can take advantage of the closure scope in Javascript to pass arguments to callback functions.
<a href="https://www.jstips.co/en/javascript/passing-arguments-to-callback-functions/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/even-simpler-way-of-using-indexof-as-a-contains-clause/">Even simpler way of using `indexOf` as a contains clause</a>
JavaScript by default does not have a contains method. And for checking existence of a substring in a string or an item in an array you may do this.
<a href="https://www.jstips.co/en/javascript/even-simpler-way-of-using-indexof-as-a-contains-clause/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/fat-arrow-functions/">Fat Arrow Functions</a>
Introduced as a new feature in ES6, fat arrow functions may come as a handy tool to write more code in fewer lines
fat arrow functions	or ‘lambda expressions’, or ‘anonymous functions’
It is called anonymous, as arrow functions have no descriptive function name.
a.map(x =>x*2); // 2, 6, 10

<a href="https://www.jstips.co/en/javascript/fat-arrow-functions/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/tip-to-measure-performance-of-a-javascript-block/">Tip to measure performance of a javascript block</a>
For quickly measuring performance of a javascript block, we can use the console functions like <code>console.time(label)</code> and <code>console.timeEnd(label)</code>
<a href="https://www.jstips.co/en/javascript/tip-to-measure-performance-of-a-javascript-block/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/pseudomandatory-parameters-in-es6-functions/">Pseudomandatory parameters in ES6 functions</a>
In many programming languages the parameters of a function are by default mandatory and the developer has to explicitly define that a parameter is optional.
<a href="https://www.jstips.co/en/javascript/pseudomandatory-parameters-in-es6-functions/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/hoisting/">Hoisting</a>
Understanding hoisting will help you organize your function scope.
<a href="https://www.jstips.co/en/javascript/hoisting/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/check-if-a-property-is-in-a-object/">Check if a property is in a Object</a>
These are ways to check if a property is present in an object.
<a href="https://www.jstips.co/en/javascript/check-if-a-property-is-in-a-object/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/template-strings/">Template Strings</a>
As of ES6, JS now has template strings as an alternative to the classic end quotes strings.
<a href="https://www.jstips.co/en/javascript/template-strings/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/converting-a-node-list-to-an-array/">Converting a Node List to an Array</a>
Here’s a quick, safe, and reusable way to convert a node list into an array of DOM elements.
<a href="https://www.jstips.co/en/javascript/converting-a-node-list-to-an-array/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/use-strict-and-get-lazy/">use strict and get lazy</a>
Strict-mode JavaScript makes it easier for the developer to write “secure” JavaScript.
<a href="https://www.jstips.co/en/javascript/use-strict-and-get-lazy/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/writing-a-single-method-for-arrays-and-a-single-element/">Writing a single method for arrays and a single element</a>
Rather than writing separate methods to handle an array and a single element parameter, write your functions so they can handle both. This is similar to how some of jQuery’s functions work (<code>css</code> will modify everything matched by the selector).
<a href="https://www.jstips.co/en/javascript/writing-a-single-method-for-arrays-and-a-single-element/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/differences-between-undefined-and-null/">Differences between `undefined` and `null`</a>
Understanding the differences between <code>undefined</code> and <code>null</code>.
<a href="https://www.jstips.co/en/javascript/differences-between-undefined-and-null/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/sorting-strings-with-accented-characters/">Sorting strings with accented characters</a>
Javascript has a native method <strong>sort</strong> that allows sorting arrays. Doing a simple <code>array.sort()</code> will treat each array entry as a string and sort it alphabetically. But when you try order an array of non ASCII characters you will obtain a strange result….
<a href="https://www.jstips.co/en/javascript/sorting-strings-with-accented-characters/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/improve-nested-conditionals/">Improve Nested Conditionals</a>
How can we improve and make a more efficient nested <code>if</code> statement in javascript?
<a href="https://www.jstips.co/en/javascript/improve-nested-conditionals/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/react/keys-in-children-components-are-important/">Keys in children components are important</a>
The key is an attribute that you must pass to all components created dynamically from an array. It’s a unique and constant id that React uses to identify each component in the DOM and to know whether it’s a different component or the…
<a href="https://www.jstips.co/en/react/keys-in-children-components-are-important/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/angular/angularjs-digest-vs-apply/">AngularJs - `$digest` vs `$apply`</a>
JavaScript modules and build steps are getting more numerous and complicated, but what about boilerplate in new frameworks?
<a href="https://www.jstips.co/en/angular/angularjs-digest-vs-apply/">Read More <span class="shape">→</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/insert-item-inside-an-array/">Insert item inside an Array</a>
Inserting an item into an existing array is a daily common task. You can add elements to the end of an array using push, to the beginning using unshift, or to the middle using splice.
<a href="https://www.jstips.co/en/javascript/insert-item-inside-an-array/">Read More <span class="shape">→</span></a>
<a href="https://www.jstips.co/en/javascript/creating-immutable-objects-in-native-javascript/">1<span>Creating immutable objects in native JavaScript</span></a>
<a href="https://www.jstips.co/en/javascript/hash-maps-without-side-effects/">2<span>Hash maps without side effects</span></a>
<a href="https://www.jstips.co/en/javascript/looping-over-arrays/">3<span>Looping over arrays</span></a>
<a href="https://www.jstips.co/en/javascript/immutable-structures-and-cloning/">4<span>Immutable structures and cloning</span></a>
<a href="https://www.jstips.co/en/javascript/closures-inside-loops/">5<span>Closures inside loops</span></a>

<a class="post-link" href="https://www.jstips.co/en/javascript/creating-immutable-objects-in-native-javascript/">Creating immutable objects in native JavaScript</a>

<a class="post-link" href="https://www.jstips.co/en/javascript/hash-maps-without-side-effects/">Hash maps without side effects</a>

<a class="post-link" href="https://www.jstips.co/en/javascript/looping-over-arrays/">Looping over arrays</a>

<a class="post-link" href="https://www.jstips.co/en/javascript/immutable-structures-and-cloning/">Immutable structures and cloning</a>

<a class="post-link" href="https://www.jstips.co/en/javascript/closures-inside-loops/">Closures inside loops</a>

<a class="post-link" href="https://www.jstips.co/en/react/upping-performance-by-appending-keying/">Upping Performance by Appending/Keying</a>

<a class="post-link" href="https://www.jstips.co/en/react/adventurers-guide-to-react/">Adventurers Guide to React (Part I)</a>

<a class="post-link" href="https://www.jstips.co/en/react/enhancing-react-components-composition/">Enhancing React components, Composition</a>

<a class="post-link" href="https://www.jstips.co/en/react/state-to-props-maps-with-memory/">State to Props maps with memory</a>

<a class="post-link" href="https://www.jstips.co/en/react/state-to-props-maps-with-memory/">State to Props maps with memory</a>

<a class="post-link" href="https://www.jstips.co/en/angular/preventing-unwanted-scopes-creation-in-angularjs/">Preventing Unwanted Scopes Creation in AngularJs</a>

<a class="post-link" href="https://www.jstips.co/en/angular/preventing-unwanted-scopes-creation-in-angularjs/">Preventing Unwanted Scopes Creation in AngularJs</a>

<a class="post-link" href="https://www.jstips.co/en/angular/angularjs-digest-vs-apply/">AngularJs - `$digest` vs `$apply`</a>

<a class="post-link" href="https://www.jstips.co/en/more/vuejs-how-vuejs-makes-a-copy-update-replace-inside-the-data-binding/">VueJS, How VueJS makes a copy-update-replace inside the data binding.</a>

<h2>Write a &lt;script> tag inside a &lt;script> tag</h2>
&lt;script type="text/x-jQuery-tmpl">
    var gdsize = 1025;          
    if(window.innerWidth>=gdsize) {

    &lt;script type="text/javascript">
        &lt;!-- Some javascript here -->
        alert = {"message: Geek Dashboard uses cookies"};
        }
    <span class="gold">{{html "&lt;/sc"+"ript>"}}</span>
&lt;/script>

You can use {{html "&lt;/sc"+"ript>"}} in place of &lt;/script>
Explanation:

When you use a &lt;/script> HTML tag inside a quoted (literal) string, the tag is treated as a closing tag rather than as a portion of the string. 
So you cannot directly use the &lt;/script> tag inside a script section.

One work-around is to escape the &lt;/script> tags and/or split up the &lt;script> tags:

var scriptEnd = "&lt;\scr" + "ipt>";
document.write(scriptEnd);


<h2>JavaScript Multiplication Table</h2>
Create a simple multiplication table asking the user the number of rows and columns he wants. 
Solution: 
&lt;html>
&lt;head>
 &lt;title>Multiplication Table&lt;/title>
 &lt;script type="text/javascript">
   var rows = prompt("How many rows for your multiplication table?");
   var cols = prompt("How many columns for your multiplication table?");
   if(rows == "" || rows == null)
  		 rows = 10;
   if(cols== "" || cols== null)
  		 cols = 10;
   createTable(rows, cols);
   function createTable(rows, cols)
   {
     var j=1;
     var output = "&lt;table border='1' width='500' cellspacing='0'cellpadding='5'>";
     for(i=1;i&lt;=rows;i++)
     {
   	output = output + "&lt;tr>";
       while(j&lt;=cols)
       {
 		  output = output + "&lt;td>" + i*j + "&lt;/td>";
  		  j = j+1;
  		}
  		 output = output + "&lt;/tr>";
  		 j = 1;
   }
   output = output + "&lt;/table>";
   document.write(output);
   }
 &lt;/script>
&lt;/head>
&lt;body>
&lt;/body>
&lt;/html>

<h2>JS Forms Example:</h2>
Create a sample form program that collects the first name, last name, email, user id, password and confirms password from the user. 
All the inputs are mandatory and email address entered should be in correct format. 
Also, the values entered in the password and confirm password textboxes should be the same. After validating using JavaScript, In output display proper error messages in red color just next to the textbox where there is an error. 
Solution with Source Code: 
&lt;html>
&lt;head>
 &lt;title>Form Validation&lt;/title>
 &lt;script type="text/javascript">
   var divs = new Array();
   divs[0] = "errFirst";
   divs[1] = "errLast";
   divs[2] = "errEmail";
   divs[3] = "errUid";
   divs[4] = "errPassword";
   divs[5] = "errConfirm";
   function validate()
	{
     var inputs = new Array();
     inputs[0] = document.getElementById('first').value;
     inputs[1] = document.getElementById('last').value;
     inputs[2] = document.getElementById('email').value;
     inputs[3] = document.getElementById('uid').value;
     inputs[4] = document.getElementById('password').value;
     inputs[5] = document.getElementById('confirm').value;
     var errors = new Array();
     errors[0] = "&lt;span style='color:red'>Please enter your first name!&lt;/span>";
     errors[1] = "&lt;span style='color:red'>Please enter your last name!&lt;/span>";
     errors[2] = "&lt;span style='color:red'>Please enter your email!&lt;/span>";
     errors[3] = "&lt;span style='color:red'>Please enter your user id!&lt;/span>";
     errors[4] = "&lt;span style='color:red'>Please enter your password!&lt;/span>";
     errors[5] = "&lt;span style='color:red'>Please confirm your password!&lt;/span>";
     for (i in inputs)
     {
       var errMessage = errors[i];
       var div = divs[i];
       if (inputs[i] == "")
       	document.getElementById(div).innerHTML = errMessage;
       else if (i==2)
       {
         var atpos=inputs[i].indexOf("@");
         var dotpos=inputs[i].lastIndexOf(".");
         if (atpos&lt;1 || dotpos&lt;atpos+2 || dotpos+2>=inputs[i].length)
       	document.getElementById('errEmail').innerHTML = "&lt;span style='color: red'>Enter a valid email address!&lt;/span>";
         else
       	document.getElementById(div).innerHTML = "OK!";
       }
       else if (i==5)
       {
         var first = document.getElementById('password').value;
         var second = document.getElementById('confirm').value;
         if (second != first)
       	document.getElementById('errConfirm').innerHTML = "&lt;span style='color: red'>Your passwords don't match!&lt;/span>";
         else
      		document.getElementById(div).innerHTML = "OK!";
       }
       else
       	document.getElementById(div).innerHTML = "OK!";
      }
    }
       function finalValidate()
       {
         var count = 0;
         for(i=0;i&lt;6;i++)
         {
           var div = divs[i];
           if(document.getElementById(div).innerHTML == "OK!")
           count = count + 1;
         }
         if(count == 6)
         	document.getElementById("errFinal").innerHTML = "All the data you entered is correct!!!";
       }
  &lt;/script>
&lt;/head>
&lt;body>
	&lt;table id="table1">
     &lt;tr>
       &lt;td>First Name:&lt;/td>
       &lt;td>&lt;input type="text" id="first" onkeyup="validate();" />&lt;/td>
       &lt;td>&lt;div id="errFirst">&lt;/div>&lt;/td>
     &lt;/tr>
     &lt;tr>
       &lt;td>Last Name:&lt;/td>
       &lt;td>&lt;input type="text" id="last" onkeyup="validate();"/>&lt;/td>
       &lt;td>&lt;div id="errLast">&lt;/div>&lt;/td>
     &lt;/tr>
     &lt;tr>
       &lt;td>Email:&lt;/td>
       &lt;td>&lt;input type="text" id="email" onkeyup="validate();"/>&lt;/td>
       &lt;td>&lt;div id="errEmail">&lt;/div>&lt;/td>
     &lt;/tr>
     &lt;tr>
       &lt;td>User Id:&lt;/td>
       &lt;td>&lt;input type="text" id="uid" onkeyup="validate();"/>&lt;/td>
       &lt;td>&lt;div id="errUid">&lt;/div>&lt;/td>
     &lt;/tr>
     &lt;tr>
       &lt;td>Password:&lt;/td>
       &lt;td>&lt;input type="password" id="password" onkeyup="validate();"/>&lt;/td>
       &lt;td>&lt;div id="errPassword">&lt;/div>&lt;/td>
     &lt;/tr>
     &lt;tr>
       &lt;td>Confirm Password:&lt;/td>
       &lt;td>&lt;input type="password" id="confirm" onkeyup="validate();"/>&lt;/td>
       &lt;td>&lt;div id="errConfirm">&lt;/div>&lt;/td>
     &lt;/tr>
     &lt;tr>
       &lt;td>&lt;input type="button" id="create" value="Create" onclick="validate();finalValidate();"/>&lt;/td>
       &lt;td>&lt;div id="errFinal">&lt;/div>&lt;/td>
     &lt;/tr>
	&lt;/table>
&lt;/body>
&lt;/html>

<h2>POPUP Message using Event:</h2>
Display a simple message "Welcome!!!" on your demo webpage and when the user hovers over the message, a popup should be displayed with a message "Welcome to my WebPage!!!".

Solution: 
	&lt;html>
	&lt;head>
	&lt;title>Event!!!&lt;/title>
	&lt;script type="text/javascript">
	function trigger()
	{
	document.getElementById("hover").addEventListener("mouseover", popup);
	function popup()
	{
	alert("Welcome to my WebPage!!!");
	}
	}
	&lt;/script>
	&lt;style>
	p
	{
	     font-size:50px;
	     position: fixed;
	     left: 550px;
	     top: 300px;
	}
	&lt;/style>
	&lt;/head>
	&lt;body  onload="trigger();">
	&lt;p id="hover">Welcome!!!&lt;/p>
	&lt;/body>
	&lt;/html>

<h2>Argument Example</h2>
The arguments object is an <strong>array-like object</strong> <em>(in that the structure of the object is similar to that of an array; however it should not be considered an array as it has all the functionality of an object)</em> that stores all of the arguments that you passed to a function and is proprietary to that function in particular. 

If you were to pass 3 arguments to a function, say <code>storeNames()</code>, those 3 arguments would be stored inside an object called <strong>arguments</strong> and it would look like this when we pass the arguments <code>storeNames("Mulder", "Scully", "Alex Krycek")</code> to our function:
<ul><li>First, we declare a function and make it return the arguments object.</li>
<li>Then, when we execute that function with <strong>n arguments</strong>, 3 in this case, it will return the object to us and it will <strong>look like</strong> an array. 
We can convert it to an array, but more on that later…</li>
</ul>
<code>function storeNames() { return arguments; }</code>

<code>// If we execute the following line in the console:
storeNames("Mulder", "Scully", "Alex Kryceck");
// The output will be { '0': 'Mulder', '1': 'Scully', '2': 'Alex Kryceck' }</code>

<h2>Treat it as an array</h2>
You can invoke arguments by using <code>arguments[n]</code> (where <em>n</em> is the index of the argument in the array-like object). 
But if you want to use it as an array for iteration purposes or applying array methods to it, you need to <em>convert it to an array</em> by declaring a variable and using the Array.prototype.slice.call method (because <em>arguments</em> is not an array):

<code>var args = Array.prototype.slice.call(arguments);

// or the es6 way:
var args = Array.from(arguments)</code>
Since <strong>slice()</strong> has two (the parameter <strong>end</strong> is optional) parameters. 
You can grab a certain portion of the arguments by specifying the beginning and the ending of your portion (using the <em>slice.call()</em> method renders these two parameters optional, not just <em>end</em>). 
Check out the following code:

<code>function getGrades() {
    var args = Array.prototype.slice.call(arguments, 1, 3);
    return args;
}

// Let's output this!
console.log(getGrades(90, 100, 75, 40, 89, 95));

// OUTPUT SHOULD BE: //
// [100, 75] &lt;- Why? Because it started from index 1 and stopped at index 3
// so, index 3 (40) wasn't taken into consideration.
//
// If we remove the '3' parameter, leaving just (arguments, 1) we'd get
// every argument from index 1: [100, 75, 40, 89, 95].</code>
<h3><strong>Optimization issues with Array.slice()</strong></h3>
There is a little problem: it’s not recommended to use slice in the arguments object (optimization reasons)…
<strong>Important</strong>: You should not slice on arguments because it prevents optimizations in JavaScript engines (V8 for example). 
Instead, try constructing a new array by iterating through the arguments object.
So, what other method is available to convert <em>arguments</em> to an array? I recommend the for-loop (not the for-in loop). 
You can do it like this:

<code>var args = []; // Empty array, at first.
for (var i = 0; i &lt; arguments.length; i++) {
    args.push(arguments[i])
} // Now 'args' is an array that holds your arguments.</code>
<a>For more information on the optimization issues:</a><br><a href="https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#3-managing-arguments">Optimization Killers: Managing Arguments</a>
<h3><strong>ES6 rest parameter as a way to circumvent the arguments object</strong></h3>
In ES2015/ES6 it is possible to use the rest parameter (<code>...</code>) instead of the arguments object in most places. 
Say we have the following function (non-ES6):

function getIntoAnArgument() {
    var args = arguments.slice();
    args.forEach(function(arg) {
        console.log(arg);
    });
}</code>
That function can be replaced in ES6 by:

function getIntoAnArgument(...args) {
    args.forEach(arg =&gt; console.log(arg));
}</code>
Note that we also used an arrow function to shorten the forEach callback!
The arguments object is not available inside the body of an arrow function.
The rest parameter must always come as the last argument in your function definition.<br><code>function getIntoAnArgument(arg1, arg2, arg3, ...restOfArgs /*no more arguments allowed here*/) { //function body }</code>

<h2>Arithmetic Operation Example</h2>
JavaScript provides the user with five arithmetic operators: <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code> and <code>%</code>. 
The operators are for addition, subtraction, multiplication, division and remainder, respectively.

+	Addition
-	Subtraction
*	Multiplication
**	Exponentiation
/	Division
%	Modulus (Remainder)
++	Increment
--	Decrement

<h2>Addition</h2>
<code>a + b</code>
true + 2       // interprets true as 1 and returns 3
false + 5      // interprets false as 0 and returns 5
true + "bar"   // concatenates the boolean value and returns "truebar"
5 + "foo"      // concatenates the string and the number and returns "5foo"
"foo" + "bar"  // concatenates the strings and returns "foobar"
<em>Hint:</em> There is a handy <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Increment_(" rel="nofollow">increment</a> operator that is a great shortcut when you’re adding numbers by 1.

<h2>Subtraction</h2>
<code>a - b</code>

false - 5  // interprets false as 0 and returns -5
true + 3   // interprets true as 1 and returns 4
5 + "foo"  // returns NaN (Not a Number)
<em>Hint:</em> There is a handy <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Decrement_(--" rel="nofollow">decrement</a> operator that is a great shortcut when you’re subtracting numbers by 1.

<h2>Multiplication</h2>
<code>a * b</code>

false * 5            // interprets false as 0 and returns 0
true * 3             // interprets true as 1 and returns 3
5 * "foo"            // returns NaN (Not a Number)
Infinity * 0         // returns NaN
Infinity * Infinity  // returns Infinity
<em>Hint:</em> When making calculations it is possible to use parentheses to prioritize which numbers should be multiplied together.

<h2>Division</h2>
<code>a / b</code>

3 / 0                // returns Infinity
3.0 / 0.0            // returns Infinity
-3 / 0               // returns -Infinity
false / 5            // interprets false as 0 and returns 0
true / 2             // interprets true a 1 and returns 0.5
Infinity / Infinity  // returns NaN

<h2>Remainder</h2>
<code>a % b</code>

3 % 2          // returns 1
true % 5       // interprets true as 1 and returns 1
false % 4      // interprets false as 0 and returns 0
3 % "bar"      // returns NaN

<h2>Increment</h2>
<code>a++ or ++a</code>

<code>// Postfix 
x = 3; // declare a variable 
y = x++; // y = 4, x = 3 

// Prefix 
var a = 2; 
b = ++a; // a = 3, b = 3</code>

<h2>Decrement</h2>
<code>a-- or --a</code>

<code>// Postfix 
x = 3; // declare a variable 
y = x—; // y = 3, x = 3 

// Prefix 
var a = 2; 
b = —a; // a = 1, b = 1</code>
<em>Important:</em> As you can see, you <strong>cannot</strong> perform any sort of operations on <code>Infinity</code>.
<h3>Arrow Function Example</h3>
Arrow functions are a new ES6 syntax for writing JavaScript function expressions. 
The shorter syntax saves time, as well as simplifying the function scope.

<h2><span class="red">What are arrow functions?</span> <code>=&gt;</code></h2>
An arrow function expression is a more concise syntax for writing function expressions using a “fat arrow” token (<code>=&gt;</code>).
<h3><strong>The basic syntax</strong></h3>
Below is a basic example of an arrow function:

<code>// ES5 syntax
var multiply = function(x, y) { return x * y;};

// ES6 arrow function
var multiply = (x, y) =&gt; { return x * y; };

// Or even simpler
var multiply = (x, y) =&gt; x * y;</code>
You no longer need the <code>function</code> and <code>return</code> keywords, or even the curly brackets.
<h3><strong>A simplified <code>this</code></strong></h3>
Before arrow functions, new functions defined their own <code>this</code> value. 
To use <code>this</code> inside a traditional function expression, we have to write a workaround like so:

<code>// ES5 syntax
function Person() {
  // we assign `this` to `self` so we can use it later
  var self = this;
  self.age = 0;

  setInterval(function growUp() {
    // `self` refers to the expected object
    self.age++;
  }, 1000);
}</code>
An arrow function doesn’t define its own <code>this</code> value, it inherits <code>this</code> from the enclosing function:

<code>// ES6 syntax
function Person(){
  this.age = 0;
  setInterval(() =&gt; {
    // `this` now refers to the Person object, brilliant!
    this.age++;
  }, 1000);
}

var p = new Person();</code>

<h2>Assignment Operators</h2>

<h2>Assignment Operator Example</h2>
Assignment operators, as the name suggests, assign (or re-assign) values to a variable. 
While there are quite a few variations on the assignment operators, they all build off of the basic assignment operator.
Syntax = <strong>y;DescriptionNecessityxVariableRequired=Assignment operatorRequiredyValue to assign to variableRequired</strong>

<b>Examples</b>

let initialVar = 5;   // Variable initialization requires the use of an assignment operator

let newVar = 5;
newVar = 6;   // Variable values can be modified using an assignment operator

<h2>Variations</h2>
The other assignment operators are a shorthand for performing some operation using the variable (indicated by x above) and value (indicated by y above) and then assigning the result to the variable itself.
For example, below is the syntax for the addition assignment operator:

x += y;
This is the same as applying the addition operator and reassigning the sum to the original variable (that is, x), which can be expressed by the following code:

x = x + y;
To illustrate this using actual values, here is another example of using the addition assignment operator:

let myVar = 5;   // value of myVar: 5
myVar += 7;   // value of myVar: 12 = 5 + 7

<h2>Boolean Example</h2>
Booleans are a primitive datatype commonly used in computer programming languages. 
By definition, a boolean has two possible values: <code>true</code> or <code>false</code>.
In JavaScript, there is often implicit type coercion to boolean. 
If for example you have an if statement which checks a certain expression, that expression will be coerced to a boolean:

<code>var a = 'a string';
if (a) {
  console.log(a); // logs 'a string'
}</code>
There are only a few values that will be coerced to false:
<ul><li>false (not really coerced, as it already is false)</li>
<li>null</li>
<li>undefined</li>
<li>NaN</li>
<li>0</li>
<li>” (empty string)</li>
</ul>All other values will be coerced to true. 
When a value is coerced to a boolean, we also call that either ‘falsy’ or ‘truthy’.
One way that type coercion is used is with the use of the or (<code>||</code>) and and (<code>&amp;&amp;</code>) operators:

<code>var a = 'word';
var b = false;
var c = true;
var d = 0
var e = 1
var f = 2
var g = null

console.log(a || b); // 'word'
console.log(c || a); // true
console.log(b || a); // 'word'
console.log(e || f); // 1
console.log(f || e); // 2
console.log(d || g); // null
console.log(g || d); // 0
console.log(a &amp;&amp; c); // true
console.log(c &amp;&amp; a); // 'word'</code>
As you can see, the <em>or</em> operator checks the first operand. 
If this is true or truthy, it returns it immediately (which is why we get ‘word’ in the first case &amp; true in the second case). 
If it is not true or truthy, it returns the second operand (which is why we get ‘word’ in the third case).
With the and operator it works in a similar way, but for ‘and’ to be true, both operands need to be truthy. 
So it will always return the second operand if both are true/truthy, otherwise it will return false. 
That is why in the fourth case we get true and in the last case we get ‘word’.

<h2>The Boolean Object</h2>
There is also a native JavaScript <code>Boolean</code> object that wraps around a value and converts the first parameter to a boolean value. 
If a value is omitted or falsy –0, -0, <code>null</code>, <code>false</code>, <code>NaN</code>, <code>undefined</code>, or an empty string (<code>""</code>) – the object's value is false. 
Pass all other values, including the string <code>"false"</code>, and the object's value is set to true.
Note that primitive Boolean values (<code>true</code> and <code>false</code>) are different than those of the Boolean object.
<h3>More Details</h3>
Remember that any object, the value of which is not <code>undefined</code> or <code>null</code>, evaluates to true if used in a conditional statement. 
For example, even though this <code>Boolean</code> object is explicitly set to false, it evaluates to true and the code is executed:

<code>var greeting = new Boolean(false);
if (greeting) {
  console.log("Hello world");
}

// Hello world</code>
This doesn't apply to boolean primitives:

<code>var greeting = false;
if (greeting) {
  console.log("Hello world"); // code will not run
}</code>
To convert a non-boolean value to a boolean, use <code>Boolean</code> as a function rather than as an object: 

<code>var x = Boolean(expression);     // preferred use as a function
var x = new Boolean(expression); // don't do it this way</code>

<h2>Callback Functions</h2>
<h3>Functions are Objects</h3>
The first thing we need to know is that in JavaScript, functions are first-class objects. 
As such, we can work with them in the same way we work with other objects, like assigning them to variables and passing them as arguments into other functions. 
This is important, because it’s the latter technique that allows us to extend functionality in our applications.

<h2>Callback Function</strong> Example</h2>
A <strong>callback function</strong> is a function that is passed <em>as an argument</em> to another function, to be “called back” at a later time. 

A function that accepts other functions as arguments is called a <strong>higher-order function</strong>, which contains the logic for <em>when</em> the callback function gets executed. 
It’s the combination of these two that allow us to extend our functionality.
To illustrate callbacks, let’s start with a simple example:

<code>function createQuote(quote, callback){ // here callback is variable
  var myQuote = "Like I always say, " + quote;
  callback(myQuote); // 2, this call is not fixed, depend on the true calling command
}

function logQuote(quote){
  console.log(quote);
}

createQuote("eat your vegetables!", logQuote); // 1

// Result in console: 
// Like I always say, eat your vegetables!</code>
In the above example, <code>createQuote</code> is the higher-order function, which accepts two arguments, the second one being the callback. 
The <code>logQuote</code> function is being used to pass in as our callback function. 
When we execute the <code>createQuote</code> function <em>(1)</em>, notice that we are <em>not appending</em> parentheses to <code>logQuote</code> when we pass it in as an argument. 
This is because we do not want to execute our callback function right away, we simply want to pass the function definition along to the higher-order function so that it can be executed later.
Also, we need to ensure that if the callback function we pass in expects arguments,  we supply those arguments when executing the callback <em>(2)</em>. 
In the above example, that would be the <code>callback(myQuote);</code>statement, since we know that <code>logQuote</code> expects a quote to be passed in.
Additionally, we can pass in anonymous functions as callbacks. 
The below call to <code>createQuote</code> would have the same result as the above example:

<code>createQuote("eat your vegetables!", function(quote){ 
  console.log(quote); 
});</code>
Incidentally, you don’t <em>have</em> to use the word “callback” as the name of your argument. 
JavaScript just needs to know that it’s the correct argument name. 
Based on the above example, the below function will behave in exactly the same manner.

<code>function createQuote(quote, functionToCall) { 
  var myQuote = "Like I always say, " + quote;
  functionToCall(myQuote);
}</code>

<h2>Why use Callbacks?</h2>
Most of the time we are creating programs and applications that operate in a <strong>synchronous</strong> manner. 
In other words, some of our operations are started only after the preceding ones have completed. 

Often when we request data from other sources, such as an external API, we don’t always know <em>when</em> our data will be served back. 
In these instances we want to wait for the response, but we don’t always want our entire application grinding to a halt while our data is being fetched. 
These situations are where callback functions come in handy.
Let’s take a look at an example that simulates a request to a server:

<code>function serverRequest(query, callback){
  setTimeout(function(){
    var response = query + "full!";
    callback(response);
  },5000);
}

function getResults(results){
  console.log("Response from the server: " + results);
}

serverRequest("The glass is half ", getResults);

// Result in console after 5 second delay:
// Response from the server: The glass is half full!</code>
In the above example, we make a mock request to a server. 
After 5 seconds elapse, the response is modified and then our callback function <code>getResults</code> gets executed. 
To see this in action, you can copy/paste the above code into your browser’s developer tool and execute it.
Also, if you are already familiar with <code>setTimeout</code>, then you’ve been using callback functions all along. 
The anonymous function argument passed into the above example’s <code>setTimeout</code> function call is also a callback! So the example’s original callback is actually executed by another callback. 
Be careful not to nest too many callbacks if you can help it, as this can lead to something called “callback hell”! As the name implies, it isn’t a joy to deal with.


<code>function print(callback) {  
    callback();
}</code>

The print( ) function takes another function as a parameter and calls it inside. 
This is valid in JavaScript and we call it a “callback”. 
So a function that is passed to another function as a parameter is a callback function. 
But that’s not all.

Callbacks make sure that a function is not going to run before a task is completed but will run right after the task has completed. 
It helps us develop asynchronous JavaScript code and keeps us safe from problems and errors.

In JavaScript, the way to create a callback function is to pass it as a parameter to another function, and then to call it back right after something has happened or some task is completed. 

<h2>How to create a Callback</h2>
example
We want to log a message to the console but it should be there after 3 seconds.

<code>const message = function() {  
    console.log("This message is shown after 3 seconds");
}
setTimeout(message, 3000);</code>

There is a built-in method in JavaScript called “setTimeout”, which calls a function or evaluates an expression after a given period of time (in milliseconds). 
So here, the “message” function is being called after 3 seconds have passed. 
(1 second = 1000 milliseconds)

In other words, the message function is being called after something happened (after 3 seconds passed for this example), but not before. 
So the message function is an example of a callback function.
<h3>What is an Anonymous Function?</h3>
Alternatively, we can define a function directly inside another function, instead of calling it. 
It will look like this:

<code>setTimeout(function() {  
    console.log("This message is shown after 3 seconds");
}, 3000);</code>

As we can see, the callback function here has no name and a function definition without a name in JavaScript is called as an “anonymous function”. 
This does exactly the same task as the example above.
<h3>Callback as an Arrow Function</h3>
If you prefer, you can also write the same callback function as an ES6 arrow function, which is a newer type of function in JavaScript:

<code>setTimeout(() =&gt; { 
    console.log("This message is shown after 3 seconds");
}, 3000);</code>
<h2>What about Events?</h2>
JavaScript is an event-driven programming language. 
We also use callback functions for event declarations. 

For example, let’s say we want users to click on a button:
<code>&lt;button&gt;Click here&lt;/button&gt;</code>

This time we will see a message on the console only when the user clicks on the button:

<code>document.queryselector("#callback-btn")
    .addEventListener("click", function() {    
      console.log("User has clicked on the button!");
});</code>

So here we select the button first with its id, and then we add an event listener with the addEventListener method. 
It takes 2 parameters. 
The first one is its type, “click”, and the second parameter is a callback function, which logs the message when the button is clicked.

As you can see, callback functions are also used for event declarations in JavaScript.

<h2>JavaScript Class Example</h2>
<a href="JavaScript Class.html" class="whitebut ">JavaScript Class</a>

JavaScript does not have the concept of classes inherently.
But we could simulate the functionalities of a class by taking advantage of the prototypal nature of JavaScript.
This section assumes that you have a basic understanding of <a href="https://guide.freecodecamp.org/javascript/prototypes">prototypes</a>.
For the sake of clarity, let us assume that we want to create a class which can do the following

<code>var p = new Person('James','Bond'); // create a new instance of Person class
	p.log() // Output: 'I am James Bond' // Accessing a function in the class
	// Using setters and getters 
	p.profession = 'spy'
	p.profession // output: James bond is a spy</code>
<h3><strong>Using class keyword</strong></h3>
Like in any other programming language, you can now use the <code>class</code> keyword to create a class.
This is not supported in older browsers and was introduced in ECMAScript 2015.
<code>class</code> is just a syntactic sugar over JavaScript’s existing prototype-based inheritance model.
In general, programmers use the following ways to create a class in JavaScript.
<h3><strong>Using methods added to prototypes:</strong></h3>
Here, all the methods are added to prototype

<code>function Person(firstName, lastName) {
    this._firstName = firstName;
    this._lastName = lastName;
}

Person.prototype.log = function() {
    console.log('I am', this._firstName, this._lastName);
}

// This line adds getters and setters for the profession object. 
Note that in general you could just write your own get and set functions like the 'log' method above.
// Since in this example we are trying the mimic the class above, we try to use the getters and setters property provided by JavaScript
Object.defineProperty(Person.prototype, 'profession', {
    set: function(val) {
        this._profession = val;
    },
    get: function() {
        console.log(this._firstName, this._lastName, 'is a', this._profession);
    }
})</code>
You could also write prototype methods over function <code>Person</code> as below:

<code>Person.prototype = {
    log: function() {
        console.log('I am ', this._firstName, this._lastName);
    }
    set profession(val) {
        this._profession = val;
    }

    get profession() {
        console.log(this._firstName, this._lastName, 'is a', this._profession);
    }

}</code>
<h3><strong>Using methods added internally</strong></h3>
Here the methods are added internally instead of prototype:

<code>function Person(firstName, lastName) {
    this._firstName = firstName;
    this._lastName = lastName;

    this.log = function() {
        console.log('I am ', this._firstName, this._lastName);
    }

    Object.defineProperty(this, 'profession', {
        set: function(val) {
            this._profession = val;
        },
        get: function() {
            console.log(this._firstName, this._lastName, 'is a', this._profession);
        }
    })
}</code>
<h3><strong>Hiding details in classes with symbols</strong></h3>
Most often, some properties and methods have to be hidden to prevent access from outside the function. 

With classes, to obtain this functionality, one way to do this is by using symbols. 
Symbol is a new built-in type of JavaScript, which can be invoked to give a new symbol value. 
Every Symbol is unique and can be used as a key on object. 

So one use case of symbols is that you can add something to an object you might not own, and you might not want to collide with any other keys of object. 
Therefore, creating a new one and adding it as a property to that object using symbol is the safest. 
Also, when symbol value is added to an object, no one else will know how to get it.

<code>class Person {
    constructor(firstName, lastName) {
        this._firstName = firstName;
        this._lastName = lastName;
    }

    log() {
        console.log('I am', this._firstName, this._lastName);
    }

    // setters
    set profession(val) {
        this._profession = val;
    }
    // getters
    get profession() {
        console.log(this._firstName, this._lastName, 'is a', this._profession);
    }
// With the above code, even though we can access the properties outside the function to change their content what if we don't want that.
// Symbols come to rescue.
let s_firstname  = new Symbol();

class Person {
    constructor(firstName, lastName) {
        this[s_firstName] = firstName;
        this._lastName = lastName;
    }

    log() {
        console.log('I am', this._firstName, this._lastName);
    }

    // setters
    set profession(val) {
        this._profession = val;
    }
    // getters
    get profession() {
        console.log(this[s_firstName], this._lastName, 'is a', this._profession);
    }</code>
<h3>JavaScript Closure Example</h3>
A closure is the combination of a function and the lexical environment (scope) within which that function was declared. 
Closures are a fundamental and powerful property of Javascript. 
This section discusses the ‘how’ and ‘why’ about Closures:
<h3><strong>Example</strong></h3>

<code>//we have an outer function named walk and an inner function named fly

function walk (){
  
  var dist = '1780 feet';
  
  function fly(){
    console.log('At '+dist);
  }
  
  return fly;
}

var flyFunc = walk(); //calling walk returns the fly function which is being assigned to flyFunc
//you would expect that once the walk function above is run
//you would think that JavaScript has gotten rid of the 'dist' var

flyFunc(); //Logs out 'At 1780 feet'
//but you still can use the function as above 
//this is the power of closures</code>
<h3><strong>Another Example</strong></h3>

<code>function by(propName) {
    return function(a, b) {
        return a[propName] - b[propName];
    }
}

const person1 = {name: 'joe', height: 72};
const person2 = {name: 'rob', height: 70};
const person3 = {name: 'nicholas', height: 66};

const arr_ = [person1, person2, person3];

const arr_sorted = arr_.sort(by('height')); // [ { name: 'nicholas', height: 66 }, { name: 'rob', height: 70 },{ name: 'joe', height: 72 } ]</code>
The closure ‘remembers’ the environment in which it was created. 
This environment consists of any local variables that were in-scope at the time the closure was created.

<code>function outside(num) {
  var rememberedVar = num; // In this example, rememberedVar is the lexical environment that the closure 'remembers'
  return function inside() { // This is the function which the closure 'remembers'
    console.log(rememberedVar)
  }
}

var remember1 = outside(7); // remember1 is now a closure which contains rememberedVar = 7 in its lexical environment, and //the function 'inside'
var remember2 = outside(9); // remember2 is now a closure which contains rememberedVar = 9 in its lexical environment, and //the function 'inside'

remember1(); // This now executes the function 'inside' which console.logs(rememberedVar) =&gt; 7
remember2(); // This now executes the function 'inside' which console.logs(rememberedVar) =&gt; 9 </code>
Closures are useful because they let you ‘remember’ data and then let you operate on that data through returned functions. 
This allows Javascript to emulate private methods that are found in other programming languages. 
Private methods are useful for restricting access to code as well as managing your global namespace.
<h3><strong>Private variables and methods</strong></h3>
Closures can also be used to encapsulate private data/methods. 
Take a look at this example:

<code>const bankAccount = (initialBalance) =&gt; {
  const balance = initialBalance;

  return {
    getBalance: function() {
      return balance;
    },
    deposit: function(amount) {
      balance += amount;
      return balance;
    },
  };
};

const account = bankAccount(100);

account.getBalance(); // 100
account.deposit(10); // 110</code>
In this example, we won’t be able to access <code>balance</code> from anywhere outside of the <code>bankAccount</code> function, which means we’ve just created a private variable. 

Where’s the closure? Well, think about what <code>bankAccount()</code> is returning. 
It actually returns an Object with a bunch of functions inside it, and yet when we call <code>account.getBalance()</code>, the function is able to “remember” its initial reference to <code>balance</code>. 

That is the power of the closure, where a function “remembers” its lexical scope (compile time scope), even when the function is executed outside that lexical scope.
<h3>Emulating block-scoped variables</h3>
Javascript did not have a concept of block-scoped variables. 
Meaning that when defining a variable inside a for-loop, for example, this variable was visible from outside the for-loop as well. 
So how can closures help us solve this problem? Let’s take a look.

<code>    var funcs = [];
    
    for(var i = 0; i &lt; 3; i++){
        funcs[i] = function(){
            console.log('My value is ' + i);  //creating three different functions with different param values.
        }
    }
    
    for(var j = 0; j &lt; 3; j++){
        funcs[j]();             // My value is 3
                                // My value is 3
                                // My value is 3
    }</code>
Since the variable i does not have block-scope, it’s value within all three functions was updated with the loop counter and created malicious values. 
Closures can help us solve this issue by creating a snapshot of the environment the function was in when it was created, preserving its state.

<code>    var funcs = [];
    
    var createFunction = function(val){
	    return function() {console.log("My value: " + val);};
    }

    for (var i = 0; i &lt; 3; i++) {
        funcs[i] = createFunction(i);
    }
    for (var j = 0; j &lt; 3; j++) {
        funcs[j]();                 // My value is 0
                                    // My value is 1
                                    // My value is 2
    }</code>
The later versions of Javascript (ES6+) have a new keyword called let which can be used to give the variable a blockscope. 
There are also many functions (forEach) and entire libraries (lodash.js) that are dedicated to solving such problems as the ones explained above. 
They can certainly boost your productivity, however it remains extremely important to have knowledge of all these issues when attempting to create something big.
Closures have many special applications that are useful when creating large Javascript programs.
<ol><li>Emulating private variables or encapsulation</li>
<li>Making Asynchronous server side calls</li>
<li>Creating a block-scoped variable.</li>
</ol><h3>Emulating private variables</h3>
Unlike many other languages, Javascript does not have a mechanism which allows you to create encapsulated instance variables within an object. 
Having public instance variables can cause a lot of problems when building medium to large programs. 
However with closures, this problem can be mitigated.
Much like in the previous example, you can build functions which return object literals with methods that have access to the object’s local variables without exposing them. 
Thus, making them effectively private.
Closures can also help you manage your global namespace to avoid collisions with globally shared data. 
Usually, all global variables are shared between all scripts in your project, which will definitely give you a lot of trouble when building medium to large programs. 

That is why library and module authors use closures to hide an entire module’s methods and data. 
This is called the module pattern, it uses an immediately invoked function expression which exports only certain functionality to the outside world, significantly reducing the amount of global references.
Here’s a short sample of a module skeleton.

<code>var myModule = (function() = {
    let privateVariable = 'I am a private variable';
    
    let method1 = function(){ console.log('I am method 1'); };
    let method2 = function(){ console.log('I am method 2, ', privateVariable); };
    
    return {
        method1: method1,
        method2: method2
    }
}());

myModule.method1(); // I am method 1
myModule.method2(); // I am method 2, I am a private variable</code>
Closures are useful for capturing new instances of private variables contained in the ‘remembered’ environment, and those variables can only be accessed through the returned function or methods.
<h3>JavaScript Comment Example</h3>
Programmers use comments to add hints, notes, suggestions, or warnings to their source code; they have no effect on the actual output of the code. 
Comments can be very helpful in explaining the intent of what your code is or should be doing.
It is always best practice when starting out to comment more often than not, as it can help those reading your code to understand what exactly your code is intending to do.
JavaScript has two ways of assigning comments in its code.
The first way is the <code>//</code> comment; all text following <code>//</code> on the same line into a comment. 
For example:

<code>function hello() {
  // This is a one line JavaScript comment
  console.log("Hello world!");
}
hello();</code>
The second way is the <code>/* */</code> comment, which can be used for both single-line and multi-line comments. 
For example:

<code>function hello() {
  /* This is a one line JavaScript comment */
  console.log("Hello world!");
}
hello();</code>

<code>function hello() {
  /* This comment spans multiple lines. 
Notice
     that we don't need to end the comment until we're done. 
*/
  console.log("Hello world!");
}
hello();</code>
You can also prevent execution of Javascript code just commeting the code lines like this:

<code>function hello() {
  /*console.log("Hello world!");*/
}
hello();</code>
<h4 id="more-information-"><strong>More Information:</strong></h4><a href="https://www.digitalocean.com/community/tutorials/how-to-write-comments-in-javascript" rel="nofollow">How To Write Comments in JavaScript</a>
<h3><strong>Many IDEs come with a keyboard shortcut to comment out lines.</strong></h3>
<ol><li>Highlight text to be commented</li>
<li>Mac: Push Command(Apple Key) &amp; "/"</li>
<li>Windows: Push Control &amp; "/"</li>
<li>You can also uncomment code by doing the same steps</li>
</ol>A shortcut to comment out a section of 
Javascript in many code editors is to highlight the lines of code you want to comment out, then press `Cmd/Ctrl + /`.
Comments are also very helpful for code testing as you can prevent a certain code-line/block from running:

<code>function hello() {
  // The statement below is not going to get executed
  // console.log('hi')
  }
hello();</code>

function hello() {
  // The statements below are not going to get executed
  /*
  console.log('hi');
  console.log('code-test');
  */
}
hello();

<h2>JavaScript Comparison Operator Example</h2>
JavaScript has both <strong>strict</strong> and <strong>type–converting</strong> comparisons.
<ul><li>The strict comparison (<code>===</code>) only evaluates to true if both operands are the same type.</li>
<li>The abstract comparison (<code>==</code>) attempts to convert both operands to the same type before comparing them.</li>
<li>With relational abstract comparisons (<code>&lt;=</code>), both operands are converted to primitives, then to the same type before comparison.</li>
<li>Strings are compared using Unicode values based on standard ordering.</li>
</ul>
<h2>Features of comparisons:</h2>
<ul><li>Two strings are considered strictly equal when they have the characters in the same sequence and the same length.</li>
<li>Two numbers are considered strictly equal when they are the both of the type number and are numerically equal. 
This means that both <code>0</code> and <code>-0</code> are strictly equal since they both evaluate to <code>0</code>. 
Note that <code>NaN</code> is a special value and is not equal to anything, including <code>NaN</code>.</li>
<li>Two Boolean operands are considered strictly equal if both are <code>true</code> or <code>false</code>.</li>
<li>Two objects are never considered equal in both strict or abstract comparisons.</li>
<li>Expressions that compare objects are only considered true if the operands both reference the same exact object instance.</li>
<li>Null and undefined are both considered strictly equal to themselves (<code>null === null</code>) and abstractly equal to each other (<code>null == undefined</code>)</li>
</ul>
<h2>Equality operators</h2>
<h3><strong>Equality (==)</strong></h3>
The equality operator first converts operands that are not of the same type, then strictly compares them to one another.
<h4 id="syntax"><strong>Syntax</strong></h4>
 x == y
<h4 id="examples-1"><strong>Examples</strong></h4>
 1   ==  1        // true
"1"  ==  1        // true
 1   == '1'       // true
 0   == false     // true
 0   == null      // false

 0   == undefined   // false
 null  == undefined // true
<h3><strong>Inequality (!=)</strong></h3>
The inequality operator evaluates to true if both operands are not equal. 
If the operands are not the same type, it will try to convert them to the same type before making the comparison.
<h4 id="syntax-1"><strong>Syntax</strong></h4>
x != y
<h4 id="examples-2"><strong>Examples</strong></h4>
1 !=   2     // true
1 !=  "1"    // false
1 !=  '1'    // false
1 !=  true   // false
0 !=  false  // false
<h3><strong>Identity / strict equality (===)</strong></h3>
The identity or strict equality operator returns true if both operands are strictly equal in terms of value and type. 
Unlike the equality operator (<code>==</code>), it will not attempt to convert the operands to the same type.
<h4 id="syntax-2"><strong>Syntax</strong></h4>
x === y
<h4 id="examples-3"><strong>Examples</strong></h4>
3 === 3   // true
3 === '3' // false
<h3><strong>Non-identity / strict inequality (!==)</strong></h3>
The non-identity or strict inequality operator returns true if both operands are not strictly equal in terms of value or type.
<h4 id="syntax-3"><strong>Syntax</strong></h4>
x !== y
<h4 id="examples-4"><strong>Examples</strong></h4>
3 !== '3' // true
4 !== 3   // true

<h2>Relational operators</h2>
<h3><strong>Greater than operator (&gt;)</strong></h3>
The greater than operator returns true if the operand on the left is greater than the one on the right.
<h4 id="syntax-4"><strong>Syntax</strong></h4>
x &gt; y
<h4 id="examples-5"><strong>Examples</strong></h4>
4 &gt; 3 // true
<h3><strong>Greater than or equal operator (&gt;=)</strong></h3>
The greater than or equal operator returns true if the operand on the left is greater than or equal to the one on the right.
<h4 id="syntax-5"><strong>Syntax</strong></h4>
x &gt;= y
<h4 id="examples-6"><strong>Examples</strong></h4>
4 &gt;= 3 // true
3 &gt;= 3 // true
<h3><strong>Less than operator (&lt;)</strong></h3>
The less than operator returns true if the operand on the left is less than the one on the right.
<h4 id="syntax-6"><strong>Syntax</strong></h4>
x &lt; y
<h4 id="examples-7"><strong>Examples</strong></h4>
3 &lt; 4 // true
<h3><strong>Less than or equal operator (&lt;=)</strong></h3>
The less than or equal operator returns true if the operand on the left is less than or equal to the one on the right.
<h4 id="syntax-7"><strong>Syntax</strong></h4>
x &lt;= y
<h4 id="examples-8"><strong>Examples</strong></h4>
3 &lt;= 4 // true

<h2>JavaScript Form Validation Example</h2>
Form validation used to occur at the server, after the client had entered all the necessary data and then pressed the Submit button. 
If the data entered by a client was incorrect or was simply missing, the server would have to send all the data back to the client and request that the form be resubmitted with correct information. 
This was really a lengthy process which used to put a lot of burden on the server.
JavaScript provides a way to validate form’s data on the client’s computer before sending it to the web server. 
Form validation generally performs two functions:
<h3><strong>Basic Validation</strong></h3>
First of all, the form must be checked to make sure all the mandatory fields are filled in. 
It just requires a loop through each field in the form to check for data.
<h3><strong>Data Format Validation</strong></h3>
Secondly, the data that is entered must be checked for correct form and value. 
Your code must include appropriate logic to test the correctness of the data.
<h4 id="example-"><strong>Example:</strong></h4>
<code>&lt;html&gt;
   
   &lt;head&gt;
      &lt;title&gt;Form Validation&lt;/title&gt;
      
      &lt;script type="text/javascript"&gt;
         &lt;!--
            // Form validation code will come here.
         //--&gt;
      &lt;/script&gt;
      
   &lt;/head&gt;
   
   &lt;body&gt;
      &lt;form action="/cgi-bin/test.cgi" name="myForm" onsubmit="return(validate());"&gt;
         &lt;table cellspacing="2" cellpadding="2" border="1"&gt;
            
            &lt;tr&gt;
               &lt;td align="right"&gt;Name&lt;/td&gt;
               &lt;td&gt;&lt;input type="text" name="Name" /&gt;&lt;/td&gt;
            &lt;/tr&gt;
            
            &lt;tr&gt;
               &lt;td align="right"&gt;EMail&lt;/td&gt;
               &lt;td&gt;&lt;input type="text" name="EMail" /&gt;&lt;/td&gt;
            &lt;/tr&gt;
            
            &lt;tr&gt;
               &lt;td align="right"&gt;Zip Code&lt;/td&gt;
               &lt;td&gt;&lt;input type="text" name="Zip" /&gt;&lt;/td&gt;
            &lt;/tr&gt;
            
            &lt;tr&gt;
               &lt;td align="right"&gt;Country&lt;/td&gt;
               &lt;td&gt;
                  &lt;select name="Country"&gt;
                     &lt;option value="-1" selected&gt;[choose yours]&lt;/option&gt;
                     &lt;option value="1"&gt;USA&lt;/option&gt;
                     &lt;option value="2"&gt;UK&lt;/option&gt;
                     &lt;option value="3"&gt;INDIA&lt;/option&gt;
                  &lt;/select&gt;
               &lt;/td&gt;
            &lt;/tr&gt;
            
            &lt;tr&gt;
               &lt;td align="right"&gt;&lt;/td&gt;
               &lt;td&gt;&lt;input type="submit" value="Submit" /&gt;&lt;/td&gt;
            &lt;/tr&gt;
            
         &lt;/table&gt;
      &lt;/form&gt;
      
   &lt;/body&gt;
&lt;/html&gt;</code>
<h4 id="output"><strong>Output</strong></h4>Have a look <a href="https://liveweave.com/LP9eOP">here</a>.
<h3><strong>Basic Form Validation</strong></h3>
First let us see how to do a basic form validation. 
In the above form, we are calling validate() to validate data when the onsubmit event is occurring. 
The following code shows the implementation of this <code>validate()</code>function.

<code>&lt;script type="text/javascript"&gt;
   // Form validation code will come here.
   function validate()
      {
      
         if( document.myForm.Name.value == "" )
         {
            alert( "Please provide your name!" );
            document.myForm.Name.focus() ;
            return false;
         }
         
         if( document.myForm.EMail.value == "" )
         {
            alert( "Please provide your Email!" );
            document.myForm.EMail.focus() ;
            return false;
         }
         
         if( document.myForm.Zip.value == "" ||
         isNaN( document.myForm.Zip.value ) ||
         document.myForm.Zip.value.length != 5 )
         {
            alert( "Please provide a zip in the format #####." );
            document.myForm.Zip.focus() ;
            return false;
         }
         
         if( document.myForm.Country.value == "-1" )
         {
            alert( "Please provide your country!" );
            return false;
         }
         return( true );
      }
&lt;/script&gt;</code>
<h4 id="output-1"><strong>Output</strong></h4>Have a look <a href="https://liveweave.com/pCPTnP">here</a>.
<h3><strong>Data Format Validation</strong></h3>
Now we will see how we can validate our entered form data before submitting it to the web server.
The following example shows how to validate an entered email address. 
An email address must contain at least an ‘@’ sign and a dot (.). 
Also, the ‘@’ must not be the first character of the email address, and the last dot must at least be one character after the ‘@’ sign.
<h4 id="example--1"><strong>Example:</strong></h4>
<code>&lt;script type="text/javascript"&gt;
    function validateEmail()
      {
         var emailID = document.myForm.EMail.value;
         atpos = emailID.indexOf("@");
         dotpos = emailID.lastIndexOf(".");
         
         if (atpos &lt; 1 || ( dotpos - atpos &lt; 2 )) 
         {
            alert("Please enter correct email ID")
            document.myForm.EMail.focus() ;
            return false;
         }
         return( true );
      }
&lt;/script&gt;</code>
<h4 id="output-2"><strong>Output</strong></h4>Have a look <a href="https://liveweave.com/nznVs6">here</a>.
<h3><strong>HTML5 Form Constraints</strong></h3>
Some of the commonly used HTML5 constraints for <code>&lt;input&gt;</code> are the <code>type</code> attribute (e.g. 
<code>type="password"</code>), <code>maxlength</code>, <code>required</code> and <code>disabled</code>. 
A less commonly used constraint is the <code>pattern</code> attribute that takes a JavaScript regular expression.

<h2>JavaScript If statement example</h2>
The <code>if</code> statement executes a statement if a specified condition is <code>true</code>. 
If the condition is <code>false</code>, another statement can be executed using the <code>else</code> statement.
<strong>Note:</strong> The <code>else</code> statement is optional.

<code>if (condition)
    /* do something */
else
    /* do something else */</code>
Multiple <code>if...else</code> statements can be chained to create an <code>else if</code> clause. 
This specifies a new condition to test and can be repeated to test multiple conditions, checking until a true statement is presented to execute.

<code>if (condition1)
    /* do something */
else if (condition2)
    /* do something else */
else if (condition3)
    /* do something else */
else
    /* final statement */</code>
<strong>Note:</strong> If you want to execute more than one statement in the <code>if</code>, <code>else</code> or <code>else if</code> part, curly braces are required around the statements:

<code>if (condition) {
    /* do */
    /* something */
    /* with multiple statements */
} else {
    /* do something */
    /* else */
}</code>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/if...else" rel="nofollow">MDN link</a> | <a href="https://msdn.microsoft.com/en-us/library/85yyde5c.aspx" rel="nofollow">MSDN link</a>

<b>Examples</b>
<strong>Using</strong> <code>if...else</code>:

<code>    // If x=5 z=7 and q=42. 
If x is not 5 then z=19.
    if (x == 5) {
      z = 7;
      q = 42
    else
      z = 19;</code>
<strong>Using</strong> <code>else if</code>:

<code>if (x &lt; 10)
    return "Small number";
else if (x &lt; 50)
    return "Medium number";
else if (x &lt; 100)
    return "Large number";
else {
    flag = 1;
    return "Invalid number";
}</code>

<h2>JavaScript Prototype Example</h2>
JavaScript is a prototype-based language, therefore understanding the prototype object is one of the most important concepts which JavaScript practitioners need to know. 

This section will give you a short overview of the Prototype object through various examples. 
Before reading this part, you will need to have a basic understanding of the <a href="/news/the-complete-guide-to-this-in-javascript/"><code>this</code> reference in JavaScript</a>.
<h3><strong>Prototype object</strong></h3>
For the sake of clarity, let’s examine the following example:

<code>function Point2D(x, y) {
  this.x = x;
  this.y = y;
}</code>
As <code>Point2D</code> function is declared, a default property named <code>prototype</code> will be created for it (note that, in JavaScript, a function is also an object). 

The <code>prototype</code> property is an object which contains a <code>constructor</code>property and its value is <code>Point2D</code> function: <code>Point2D.prototype.constructor = Point2D</code>. 
And when you call <code>Point2D</code> with <code>new</code> keyword, <em>newly created objects will inherit all properties from</em> <code>Point2D.prototype</code>. 

To check that, you can add a method named <code>move</code> into <code>Point2D.prototype</code> as follows:

<code>Point2D.prototype.move = function(dx, dy) {
  this.x += dx;
  this.y += dy;
}

var p1 = new Point2D(1, 2);
p1.move(3, 4);
console.log(p1.x); // 4
console.log(p1.y); // 6</code>
The <code>Point2D.prototype</code> is called <strong>prototype object</strong> or <strong>prototype</strong> of <code>p1</code> object and for any other object created with <code>new Point2D(...)</code> syntax. 
You can add more properties to <code>Point2D.prototype</code> object as you like. 
The common pattern is to declare methods to <code>Point2D.prototype</code> and other properties will be declared in the constructor function.
Built-in objects in JavaScript are constructed in a similar manner. 
For example:
<ul><li>Prototype of objects created with <code>new Object()</code> or <code>{}</code> syntax is <code>Object.prototype</code>.</li>
<li>Prototype of arrays created with <code>new Array()</code> or <code>[]</code> syntax is <code>Array.prototype</code>.</li>
<li>And so on with other built-in objects such as <code>Date</code> and <code>RegExp</code>.</li>
</ul><code>Object.prototype</code> is inherited by all objects and it has no prototype (its prototype is <code>null</code>).
<h3><strong>Prototype chain</strong></h3>
The prototype chain mechanism is simple: When you access a property <code>p</code> on object <code>obj</code>, the JavaScript engine will search this property inside <code>obj</code> object. 
If the engine fails to search, it continues searching in the prototype of <code>obj</code> object and so on until reaching <code>Object.prototype</code>. 
If after the search has finished, and nothing has been found, the result will be <code>undefined</code>. 
For example:

<code>var obj1 = {
  a: 1,
  b: 2
};

var obj2 = Object.create(obj1);
obj2.a = 2;

console.log(obj2.a); // 2
console.log(obj2.b); // 2
console.log(obj2.c); // undefined</code>
In above snippet, the statement <code>var obj2 = Object.create(obj1)</code> will create <code>obj2</code> object with prototype <code>obj1</code> object. 
In other words, <code>obj1</code> becomes the prototype of <code>obj2</code> instead of <code>Object.prototype</code> by default. 
As you can see, <code>b</code> is not a property of <code>obj2</code>; you can still access it via the prototype chain. 
For the <code>c</code> property, however, you get an <code>undefined</code> value because it can’t be found in <code>obj1</code> and <code>Object.prototype</code>.
<h3><strong>Classes</strong></h3>
In ES2016, we now get to use the <code>Class</code> keyword as well as the methods mentioned above to manipulate <code>prototype</code>. 
The JavaScript <code>Class</code> appeals to developers from OOP backgrounds, but it’s essentially doing the same thing as above.

<code>class Rectangle {
  constructor(height, width) {
    this.height = height
    this.width = width
  }

  get area() {
    return this.calcArea()
  }

  calcArea() {
    return this.height * this.width
  }
}

const square = new Rectangle(10, 10)

console.log(square.area) // 100</code>
This is basically the same as:

<code>function Rectangle(height, width) {
  this.height = height
  this.width = width
}

Rectangle.prototype.calcArea = function calcArea() {
  return this.height * this.width
}</code>
The <code>getter</code> and <code>setter</code> methods in classes bind an Object property to a function that will be called when that property is looked up. 
It’s just syntactic sugar to help make it easier to <em>look up</em> or <em>set</em> properties.

<h2>JavaScript Scope Example</h2>
If you’ve been programming in JavaScript for a while, you’ve undoubtedly run into a concept known as <code>scope</code>. 
What is <code>scope</code>? Why should you take the time to learn it?
In programmer speak, <code>scope</code> is the <strong>current context of execution</strong>. 
Confused? Let’s take a look at the following piece of code:

var foo = 'Hi, I am foo!';

var baz = function () {
  var bar = 'Hi, I am bar too!';
    console.log(foo);
}

baz(); // Hi, I am foo!
console.log(bar); // ReferenceError...
This is a simple example, but it does a good job of illustrating what is known as <em>Lexical scope</em>. 
JavaScript, and almost every other programming language, has a <em>Lexical scope</em>. 
There is another kind of scope known as <em>Dynamic scope</em>, but we won’t be discussing that.
Now, the term <em>Lexical scope</em> sounds fancy, but as you will see it’s really simple in principle. 
In a Lexical Scope, there are two kinds of scopes: the <em>global scope</em> and a <em>local scope</em>.
Before you type the first line of code in your program, a <em>global scope</em> is created for you. 
This contains all the variables that you declare in your program <strong>outside any functions</strong>.
In the example above, the variable <code>foo</code> is in the global scope of the program, while the variable <code>bar</code> is declared inside a function and is therefore <strong>in the local scope of that function</strong>.
Let's break down the example line by line. 
While you might be confused at this point, I promise you will have a much better understanding by the time you finish reading this.
On line 1 we are declaring the variable <code>foo</code>. 
Nothing too fancy here. 
Let's call this a left-hand size (LHS) reference to <code>foo</code>, because we are assigning a value to <code>foo</code> and it’s on the left-hand side of the <code>equal</code> sign.
On line 3, we are declaring a function and assigning it to variable <code>baz</code>. 
This is another LHS reference to <code>baz</code>. 
We are assigning a value to it (remember, functions are values too!). 
This function is then called on line 8. 
This is a RHS, or a right-hand side reference to <code>baz</code>. 
We are retrieving <code>baz</code>’s value, which in this case is a function and then invoking it. 

Another RHS reference to <code>baz</code> would be if we assigned its value to another variable, for example <code>foo = baz</code>. 
This would be a LHS reference to <code>foo</code> and a RHS reference to <code>baz</code>.
The LHS and RHS references might sound confusing, but they are important for discussing scope. 
Think of it this way: a LHS reference is assigning a value to the variable, while a RHS reference is retrieving the value of the variable. 
They’re just a shorter and more convenient way of saying ‘retrieving the value’ and ‘assigning a value’.
Let’s now break down what’s happening inside the function itself.
When the compiler compiles the code inside a function, it enters the function’s <strong>local scope</strong>.
On line 4, the variable <code>bar</code> is declared. 
This is a LHS reference to <code>bar</code>. 
On the next line, we have a RHS reference to <code>foo</code> inside the <code>console.log()</code>. 
Remember, we are retrieving <code>foo</code>’s value and then passing it as an argument to the method <code>console.log()</code>.
When we have a RHS reference to <code>foo</code>, the compiler looks for the declaration of the variable <code>foo</code>. 
The compiler doesn’t find it in the function itself, or the <strong>function’s local scope</strong>,</strong> so it <strong>goes up one level: to the global scope</strong>.
At this point you’re probably thinking that scope has something to do with variables. 
That is correct. 
A scope can be thought of as a container for variables. 
All variables that are created within a local scope are only accessible in that local scope. 
However, all local scopes can access the global scope. 
(I know you’re probably even more confused right now, but just bear with me for a few more paragraphs).
So the compiler goes up to the global scope to find a LHS reference to the variable <code>foo</code>. 
It finds one on line 1, so it retrieves the value from the LHS reference, which is a string: <code>'Hi, I am foo!'</code>. 
This string is sent to the <code>console.log()</code> method, and outputted to the console.
The compiler has finished executing the code inside the function, so we come back out to line 9. 
On line 9, we have a RHS reference for the variable <code>bar</code>.
Now, <code>bar</code> was declared in the local scope of <code>baz</code>, but there is a RHS reference for <code>bar</code> in the global scope. 
Since there is no LHS reference for <code>bar</code> in the global scope, the compiler can’t find a value for <code>bar</code> and throws a ReferenceError.
But, you might ask, if the function can look outside itself for variables, or a local scope can peek into the global scope to find LHS references, why can’t the global scope peek into a local scope? Well that’s how lexical scope works!

... 
// global scope
var baz = function() {
  ... 
// baz's scope
}
... 
/// global scope
This is the same code from above which illustrates the scope. 
This forms a sort of hierarchy that goes up to the global scope:
<code>baz -&gt; global</code>.
So, if there is a RHS reference for a variable inside <code>baz</code>’s scope, it can be fulfilled by a LHS reference for that variable in the global scope. 
But the opposite is <strong>not true</strong>.
What if we had another function inside <code>baz</code>?

... 
// global scope
var baz = function() {
  ... 
// baz's scope

  var bar = function() {
     ... 
// bar's scope.
  }

}
... 
/// global scope
In this case, the hierarchy or the <strong>scope chain</strong> would look like this:
<code>bar -&gt; baz -&gt; global</code>
Any RHS references inside <code>bar</code>’s local scope can be fulfilled by LHS references in the global scope or <code>baz</code>’s scope, but a RHS reference in <code>baz</code>’s scope cannot be fulfilled by a LHS reference in <code>bar</code>’s scope.
<strong>You can only traverse down a scope chain, not up.</strong>
There are other two important things you should know about JavaScript scopes.
<ol><li>Scopes are declared by functions, not by blocks.</li>
<li>Functions can be forward-referenced, variables can’t.</li>
</ol>Observe (each comment describes scope at the line that it’s written on):

    // outer() is in scope here because functions can be forward-referenced
    
    function outer() {
    
        // only inner() is in scope here
        // because only functions are forward-referenced
    
        var a = 1;
        
        //now 'a' and inner() are in scope
        
        function inner() {
            var b = 2
            
            if (a == 1) {
                var c = 3;
            }
            
            // 'c' is still in scope because JavaScript doesn't care
            // about the end of the 'if' block, only function inner()
        }
        
        // now b and c are out of scope
        // a and inner() are still in scope
        
    }
    
    // here, only outer() is in scope

<h2>JavaScript For Loop Example</h2>
<h3><strong>Syntax</strong></h3>

<code>for ([initialization]); [condition]; [final-expression]) {
   // statement
}</code>
The javascript <code>for</code> statement consists of three expressions and a statement:
<ul><li>initialization - Run before the first execution on the loop. 
This expression is commonly used to create counters. 
Variables created here are scoped to the loop. 
Once the loop has finished its execution, they are destroyed.</li>
<li>condition - Expression that is checked prior to the execution of every iteration. 
If omitted, this expression evaluates to true. 
If it evaluates to true, the loop’s statement is executed. 
If it evaluates to false, the loop stops.</li>
<li>final-expression - Expression that is run after every iteration. 
Usually used to increment a counter. 
But it can be used to decrement a counter too.</li>
<li>statement - Code to be repeated in the loop</li>
</ul>any of these three expressions or the statement can be omitted. 
For loops are commonly used to count a certain number of iterations to repeat a statement. 
Use a <code>break</code> statement to exit the loop before the condition expression evaluates to false.

<h2>Common Pitfalls</h2>
<strong>Exceeding the bounds of an array</strong>
When indexing over an array many times, it is easy to exceed the bounds of the array (ex. 
try to reference the 4th element of a 3 element array).

<code>    // This will cause an error.
    // The bounds of the array will be exceeded.
    var arr = [ 1, 2, 3 ];
    for (var i = 0; i &lt;= arr.length; i++) {
       console.log(arr[i]);
    }

    output:
    1
    2
    3
    undefined</code>
There are two ways to fix this code. 
Set the condition to either <code>i &lt; arr.length</code> or <code>i &lt;= arr.length - 1</code>
<h3><strong>Examples</strong></h3>
Iterate through integers from 0-8

<code>for (var i = 0; i &lt; 9; i++) {
   console.log(i);
}
</code>
output:
0
1
2
3
4
5
6
7
8</code>
Break out of a loop before condition expression is false

<code>for (var elephant = 1; elephant &lt; 10; elephant+=2) {
    if (elephant === 7) {
        break;
    }
    console.info('elephant is ' + elephant);
}
</code>
output:
elephant is 1
elephant is 3
elephant is 5

<h2>JavaScript Break Statement Example</h2>
The <strong>break</strong> statement terminates the current loop, <code>switch</code> or <code>label</code> statement and transfers program control to the statement following the terminated statement.

break;
If the <strong>break</strong> statement is used in a labeled statement, the syntax is as follows:

break labelName;

<b>Examples</b>
The following function has a <strong>break</strong> statement that terminates the <code>while</code> loop when <strong>i</strong> is 3, and then returns the value <strong>3 * x</strong>.

function testBreak(x) {
  var i = 0;
  while (i &lt; 6) {
    if (i == 3) {
      break;
    }
    i += 1;
  }
  return i * x;
}
In the following example, the counter is set up to count from 1 to 99; however, the <strong>break</strong> statement terminates the loop after 14 counts.

for (var i = 1; i &lt; 100; i++) {
  if (i == 15) {
    break;
  }
}

<h2>JavaScript Do While loop example</h2>
The <code>do...while</code> loop is closely related to the <a href="http://forum.freecodecamp.com/t/javascript-while-loop/14668" rel="nofollow"><code>while</code></a> loop. 
In the do while loop, the condition is checked at the end of the loop.
Here is the <strong>syntax</strong> for <code>do...while</code> loop:

<b>Syntax:</b>
 do {
   *Statement(s);*
} while (*condition*);
<strong>statement(s):</strong> A statement that is executed <strong>at least once</strong> before the condition or Boolean expression is evaluated and is re-executed each time the condition evaluates to true.
<strong>condition:</strong> Here, a condition is a <a>Boolean expression</a>. 
If the Boolean expression evaluates to true, the statement is executed again. 
When the Boolean expression evaluates to false, the loops ends.

<b>Example:</b>
var i = 0;
do {
  i = i + 1;
  console.log(i);
} while (i &lt; 5);

Output:
1
2
3
4
5
<h2>JavaScript For In Loop Example</h2>
The <code>for...in</code> statement iterates over the enumerable properties of an object, in arbitrary order. 
For each distinct property, statements can be executed.

for (variable in object) {
...
}
Required/Optional Parameter Description Required Variable: A different property name is assigned to the variable on each iteration. 
OptionalObject: an object whose enumerable properties are iterated.

<b>Examples</b>

// Initialize object.
a = { "a": "Athens", "b": "Belgrade", "c": "Cairo" }

// Iterate over the properties.
var s = ""
for (var key in a) {
    s += key + ": " + a[key];
    s += "&lt;br /&gt;";
    }
document.write (s);

// Output:
// a: Athens
// b: Belgrade
// c: Cairo

// Initialize the array.
var arr = new Array("zero", "one", "two");

// Add a few expando properties to the array.
arr["orange"] = "fruit";
arr["carrot"] = "vegetable";

// Iterate over the properties and elements.
var s = "";
for (var key in arr) {
    s += key + ": " + arr[key];
    s += "&lt;br /&gt;";
}

document.write (s);

// Output:
//   0: zero
//   1: one
//   2: two
//   orange: fruit
//   carrot: vegetable

// Efficient way of getting an object's keys using an expression within the for-in loop's conditions
var myObj = {a: 1, b: 2, c:3}, myKeys = [], i=0;
for (myKeys[i++] in myObj);

document.write(myKeys);

//Output:
//   a
//   b
//   c

<h2>JavaScript For Of Loop Example</h2>
The <code>for...of</code> statement creates a loop iterating over iterable objects (including Array, Map, Set, Arguments object and so on), invoking a custom iteration hook with statements to be executed for the value of each distinct property.

<code>    for (variable of object) {
        statement
    }</code>
Description variable: On each iteration a value of a different property is assigned to the variable.object Object whose enumerable properties are iterated.

<b>Examples</b>
<h3><strong>Array</strong></h3>

    let arr = [ "fred", "tom", "bob" ];
    for (let i of arr) {
        console.log(i);
    }
    // Output:
    // fred
    // tom
    // bob
<h3><strong>Map</strong></h3>
    var m = new Map();
    m.set(1, "black");
    m.set(2, "red");

    for (var n of m) {
        console.log(n);
    }

    // Output:
    // 1,black
    // 2,red
<h3><strong>Set</strong></h3>
    var s = new Set();
    s.add(1);
    s.add("red");

    for (var n of s) {
        console.log(n);
    }

    // Output:
    // 1
    // red
<h3><strong>Arguments object</strong></h3>
    // your browser must support for..of loop
    // and let-scoped variables in for loops

    function displayArgumentsObject() {
        for (let n of arguments) {
            console.log(n);
        }
    }
    displayArgumentsObject(1, 'red');

    // Output:
    // 1
    // red

<h2>JavaScript While Loop Example</h2>
The while loop starts by evaluating the condition. 
If the condition is true, the statement(s) is/are executed. 
If the condition is false, the statement(s) is/are not executed. 
After that, while loop ends.
Here is the <strong>syntax</strong> for the while loop:

<b>Syntax:</b>

while (condition)
{
  statement(s);
}
<em>statement(s):</em> A statement that is executed as long as the condition evaluates to true.
<em>condition:</em> Here, the condition is a Boolean expression which is evaluated before each pass through the loop. 
If this condition evaluates to true, statement(s) is/are executed. 
When the condition evaluates to false, execution continues with the statement after the while loop.

<b>Example:</b>

    var i = 1;
    while (i &lt; 10) 
    {
      console.log(i);
       i++; // i=i+1 same thing
    }

    Output:
    1 
    2 
    3 
    4
    5
    6
    7
    8
    9



<h2>create Desktop Apps</h2>
<a href="https://softwarerecs.stackexchange.com/questions/14797/can-you-convert-html-css-and-javascript-into-a-exe" class="whitebut ">convert html, css and javascript into a exe</a>

Two very good open-source and extremely actively developed options are
Electron, by GitHub. 
Cordova, by the Apache Foundation. Targets Android, iOS, and Windows from HTML/JavaScript/CSS. 
Proton Native. Works with React Native components and does not use Electron (see above), which makes generated apps therefore more "lightweight" than the ones generated by Electron.
 
HTML Compiler convert an entire HTML application (using CSS, JavaScript, Images and more) into an standalone Windows application.

ExeOutput for PHP that lets you create applications in native format for Windows with PHP, JavaScript and HTML. Convert PHP scripts, websites, JavaScript, HTML, databases into stand-alone apps for Windows (single EXE files) that do not require a Web server nor PHP distribution.

<b>Electron</b>
<a href="https://electronjs.org/" target="_blank">Electron</a>
<a href="https://brainhub.eu/electron-js">Electron</a> is an open-source framework initially built by GitHub for Atom editor in 2013. 
This library lets you create desktop GUI applications with web technologies like JavaScript, HTML and CSS.

<b>NW.js</b>
<a href="https://nwjs.io/" target="_blank">NW.js</a>
The next on our list of the best JavaScript frameworks for desktop apps is NW.js, previously known as the node-webkit. 
It was built at Intel’s Open Source Technology Center by combining Node.js framework with a Chromium engine (previously known as Webkit).

Available on Linux, Mac OS, and Windows.

<b>AppJS</b>
<a href="http://appjs.com/" target="_blank">AppJS</a>
AppJS is a simple yet powerful tool that you can use to build cross-platform apps without the need to learn new languages. 
Similarly to the other libraries mentioned today, you’re fine as long as you’re familiar with HTML, CSS and JavaScript.

Although it’s the oldest Node.js-Chromium framework in the AppJS, Electron and NW.js trio, it’s not nearly as mature as its competition. 
Because it has lost its momentum, it may not be the best choice for new projects.

<b>Meteor</b>
<a href="https://www.meteor.com/" target="_blank">Meteor</a>

Although it does not build desktop apps on its own, it can be used with Cordova or other similar tools to produce them. 
It uses MongoDB, Distributed Data Protocol, and a publish-subscribe pattern to auto-propagate the changes without developer interference. 
It has both front-end and back-end modules, including the API, build tools, Node.js packages.

<b>Proton Native</b>
<a href="https://proton-native.js.org/#/" target="_blank">Proton Native</a>
Proton Native is a fresh release. 
It was made available on GitHub in the early months of 2018. 

It works quite differently to Electron, which runs a full Chromium browser to manage a small GUI. 
Proton Native, on the other hand, uses native tools, takes less space and needs fewer resources.

This solution has a few other advantages &#8211; it uses the same syntax as React Native, works with <a href="https://brainhub.eu/blog/react-libraries-javascript-professional-should-know/" target="_blank">React libraries</a> including Redux and is compatible with Node.js.

<b>Summary</b>
To sum up, JavaScript frameworks for desktop apps can be divided into three categories:
Frameworks that produce web browser hosted desktop apps, based on Node.js and Chromium (Electron, NW.js, AppJS).
Frameworks that need to be used with Cordova-like tools (Meteor).
Frameworks that use genuinely native components to build a desktop app (Proton Native).

<h2>build desktop app with Electron</h2>
<a href="https://adityasridhar.com/posts/desktop-apps-with-html-css-javascript" class="whitebut ">build Desktop Apps with HTML, CSS and Javascript</a>

<h3>INSTALL ELECTRON GLOBALLY</h3>
Install Electron globally on our system using NPM.

npm i electron -g
<h3>CREATE AN ELECTRON PROJECT</h3>

<h3>1. INITIALIZE THE PROJECT</h3>
First, create a project directory and a package.json file under it.
Now direct to the folder and make a package.json inside it.

mkdir AwesomeProject
cd /AwesomeProject
npm init

Enter the project details if you wish or skip.
<img src="https://i2.wp.com/www.techomoro.com/wp-content/uploads/2019/04/Capture.png?resize=593%2C523&ssl=1">
<h3>2. CREATE A VIEW</h3>
Now create the file we wanted to be viewed when opening our app. Electron uses HTML to render the view and so we need to create an index.html file.

index.html
&lt;html>
  &lt;head>
    &lt;title>Hello World Application&lt;/title>
  &lt;/head>
  &lt;body>
    &lt;h1>Hello World&lt;/h1>
  &lt;/body>
&lt;/html>

<h3>3. CREATE AN INDEX.JS FILE</h3>
In package.json, we programmed that the root file of our project is index.js. 
So we need to create it. 

index.js

const { app, BrowserWindow } = require("electron");
const url = require("url");

function newApp() {
  win = new BrowserWindow();
  win.loadURL(
    url.format({
      pathname: "index.html",
      slashes: true
    })
  );
}

app.on("ready", newApp);

<h3>4. RUNNING OUR APPLICATION</h3>
Now we can run our Electron app using the command below.

<b>electron .</b>

Electron Packager

'electron-packager' is not recognized as an internal or external command

Install it using:
npm install -g electron-packager

Suggested to use one of the options from ia32, x64, armv7l, arm64, mips64el
electron-packager sourcedir appname --platform=win32 --arch=x64
electron-packager AwesomeProject jsNotes --platform=win32 --arch=x64


electron-packager' is not recognized as an internal or external command,

Unable to determine Electron version. Please specify an Electron version
my package.json is like this were to put the --electron-version ??

Install electron as dev-dependency to resolve this issue
npm install --save-dev electron

And to build for Windows you can run this from the git bash:

electron-packager . jsNOtes --overwrite --asar=true --platform=win32 --arch=x64 --icon=assets/icons/win/icon.ico --prune=true --out=release-builds --version-string.CompanyName=CE --version-string.FileDescription=CE --version-string.ProductName="jsNOtes"

cannot run app after electron-packager

<h2>A complete guide to packaging your Electron app</h2>
Packaging an electron app simply means creating a desktop installer (dmg, exe, deb etc). 
Now if you decide to go around manually packaging your app, you’re gonna have a bad time.

Luckily there are modules, especially the two mentioned below which make the task easier.
<blockquote>
<a href="https://github.com/electron-userland/electron-builder" target="_blank">electron-builder</a>
<a href="https://github.com/electron-userland/electron-packager" target="_blank">electron-packager</a>
</blockquote>
We’ll be using electron-builder since it has a built-in support for <a href="https://github.com/electron-userland/electron-builder/wiki/Code-Signing" target="_blank">Code Signing</a>/<a href="https://github.com/electron-userland/electron-builder#auto-update" target="_blank">Auto Update</a> etc.

<h2>Configure your app to use electron-builder :</h2>
Create a directory <a href="https://github.com/electron-userland/electron-builder/wiki/Options#MetadataDirectories-buildResources" target="_blank">build</a> in the root of the project and save a background.png (macOS DMG background), icon.icns (macOS app icon) and icon.ico (Windows app icon) into it. 
The Linux icon set will be generated automatically based on the macOS. 
Ex. 
<a href="https://github.com/zulip/zulip-electron/tree/master/build" target="_blank">zulip-electron/build</a>

Add electron-builder to your app devDependencies by running:

npm install electron-builder --save-dev

In electron-builder you could use two package.json structure as well as single package.json. 
We’ll be using single package.json structure since it’s easier to maintain.

<h2>Sample One package.json</h2>

{
  "name": "yourappname",
  "version": "0.0.1",
  "license": "MIT",
  "description": "your app description",
  "author": "xyz &lt;xyz@gmail.com>",
  "main": "./app/index.js",
  "scripts": {
    "postinstall": "install-app-deps",
    "start": "npm install && electron ./app",
    "pack": "build --dir",
    "dist": "build"
  },
  "build": {
    "appId": "yourappid",
    "category": "your.app.category.type",
    "dmg": {
      "contents": [
        {
          "x": 110,
          "y": 150
        },
        {
          "x": 240,
          "y": 150,
          "type": "link",
          "path": "/Applications"
        }
      ]
    },
    "linux": {
      "target": [
        "AppImage",
        "deb"
      ]
    },
    "win": {
      "target": "squirrel",
      "icon": "build/icon.ico"
    }
  },
  "dependencies": {},
  "devDependencies": {
    "electron": "latest",
    "electron-builder": "latest"
  }
}
view rawpackage.json hosted with ❤ by GitHub

On windows build you can also use <em>NSIS </em>target which is the default one and recommended by electron-builder.
"win": {   "target": "NSIS"}

That’s it. 
You’ve successfully configured electron-builder. 
Now let’s build the installers. 
To package your app into an installer use command:
npm run dist

It will create an installer in .<em>/dist</em> folder. 
By default build command will only generate the installer for current platform and current arch. 
For an ex. 
running it on OSX will create —
$ npm run dist
    |-- mac
    |   |-- appname-version-mac.zip
    |   |-- appname-version.dmg
    |   |-- appname.app
On Windows -
# When using target — Squirrel$ npm run dist
    |-- win
    |   |-- REALESES
    |   |-- appnameSetupversion.exe
    |   |-- appname-version-full.nupkg
    |-- win-unpacked# When using target — NSIS$ npm run dist
    |-- win
    |   |-- appnameSetupversion.exe
    |-- win-unpacked
On Linux -
$ npm run dist
    |-- appname-version.AppImage
    |-- appname-version.deb
    |-- linux-unpacked
electron-builder is highly configurable. 
For complete usage check out its <a href="https://github.com/electron-userland/electron-builder/wiki" target="_blank">wiki</a>. 
<a href="https://github.com/zulip/zulip-electron" target="_blank">zulip-electron</a> (two package.json) and <a href="https://github.com/develar/onshape-desktop-shell" target="_blank">onshape-desktop-shell</a> (one package.json) are some real world projects that use electron-builder for their packaging.

<h2>scroll to div bottom, scrollTop, clientHeight and offsetTop</h2>
if(testkey == "l"){divtoc = document.getElementById("toc");$('body,html').animate({scrollTop:(divtoc.clientHeight + divtoc.offsetTop-600)}, 1); }

if(testkey == 'e'){window.scrollTo(0,document.body.scrollHeight);}

if(testkey == 't'){window.location = '#toc';}


if(testkey == "k"){ 
    if(typeof bookid == 'undefined') { bookid = $('title').text() }
    storeBookmark(bookid, topicpointer.toString());
  }

if(testkey == "K"){
    if(typeof bookid != 'undefined') {loadBookmark(bookid);}
    else{alert("No BookId!")}
function storeBookmark(objName, chapterNum) {
  if(typeof objName != 'undefined') {
    localStorage.setItem(objName, chapterNum.toString())
  }else{alert("No BookId!")}
}
function loadBookmark(objName) {
  topicpointer = parseInt(localStorage.getItem(objName))
  showImg();
}
==================
if(testkey == "k"){ 
    pos = document.getElementsByTagName("body")[0].scrollTop;
    if(typeof bookid == 'undefined') { bookid = $('title').text() }
    storeBookmark(bookid, pos.toString());
  }
if(testkey == "K"){
    if(typeof bookid != 'undefined') {loadBookmark(bookid);}
    else{alert("No BookId!")}
  }
function storeBookmark(objName, pagepos) {
  if(typeof objName != 'undefined') {
    localStorage.setItem(objName, pagepos.toString())
//    alert("Bookmark changed! " + objName +" " + pagepos)
  }else{alert("No BookId!")}
}
function loadBookmark(objName) {
  pos = Number(localStorage.getItem(objName))
  console.log("Bookmark loaded! " + objName + " " + pos)
  $('body').animate({scrollTop: pos}, 0);
}


<h2>lazyload</h2>
<a href="https://github.com/verlok/lazyload" class="whitebut ">lazyload</a>

<b>1</b>
&lt;script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@13.0.1/dist/lazyload.min.js">&lt;/script>

<b>2</b>
&lt;img class="lazy" data-src="lazy.jpg" />
Then, in your javascript code:

<b>3</b>
place script at end of page:
var lazyLoadInstance = new LazyLoad({
    elements_selector: ".lazy"
    // ... more custom settings?
});

Lazy video
&lt;video class="lazy" controls width="620" data-src="lazy.mp4" data-poster="lazy.jpg">
    &lt;source type="video/mp4" data-src="lazy.mp4" />
    &lt;source type="video/ogg" data-src="lazy.ogg" />
    &lt;source type="video/avi" data-src="lazy.avi" />
&lt;/video>
Please note that the video poster can be lazily loaded too.

To be sure that DOM for your lazy content is ready when you instantiate LazyLoad, place the script tag right before the closing </body> tag. If more DOM arrives later, e.g. via an AJAX call, you'll need to call lazyLoadInstance.update(); to make LazyLoad check the DOM again.

lazyLoadInstance.update();

lazy iFrame
&lt;iframe class="lazy" data-src="lazyFrame.html">&lt;/iframe>


<h2>JavaScript check if variable exists (is defined/initialized)</h2>
this creates a switch in the page to turn on/off certain function

if (typeof variable !== 'undefined') {

if(typeof elem === 'string' && elem.trim()) {

or

elem != null

showTopicNumber = true;

    if (typeof(showTopicNumber) !== 'undefined'){
      if (showTopicNumber == true){
        toc.append(topicNumber +' <a href="#topic-'+topicNumber+'" target="_self">'+topic.html()+'</a><br>');
      }else{
        toc.append('<a href="#topic-'+topicNumber+'" target="_self">'+topic.html()+'</a><br>');
      }
    }else{
      toc.append('<a href="#topic-'+topicNumber+'" target="_self">'+topic.html()+'</a><br>');
    }

<h2>HTML5 - Web SQL Database</h2>
<b>W3C no longer maintains this specification.</b>

The Web SQL Database API isn't actually part of the HTML5 specification but it is a separate specification which introduces a set of APIs to manipulate client-side databases using SQL.

<h3>The Core Methods</h3>
There are following three core methods defined in the spec that I am going to cover in this tutorial &minus;

<b>openDatabase</b> &minus; This method creates the database object either using existing database or creating new one.

<b>transaction</b> &minus; This method gives us the ability to control a transaction and performing either commit or rollback based on the situation.

<b>executeSql</b> &minus; This method is used to execute actual SQL query.

<h3>Opening Database</h3>
The <i>openDatabase</i> method takes care of opening a database if it already exists, this method will create it if it already does not exist.

To create and open a database, use the following code &minus;
<code>
var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);
</code>
The above method took the following five parameters &minus;

Database name
Version number
Text description
Size of database
Creation callback
The last and 5th argument, creation callback will be called if the database is being created. Without this feature, however, the databases are still being created on the fly and correctly versioned.
<h3>Executing queries</h3>
To execute a query you use the database.transaction() function. This function needs a single argument, which is a function that takes care of actually executing the query as follows &minus;
<code>
var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024); 

db.transaction(function (tx) {   
   tx.executeSql('CREATE TABLE IF NOT EXISTS LOGS (id unique, log)'); 
});
</code>
The above query will create a table called LOGS in 'mydb' database.

<h3>INSERT Operation</h3>
To create enteries into the table we add simple SQL query in the above example as follows &minus;
<code>
var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024); 

db.transaction(function (tx) { 
   tx.executeSql('CREATE TABLE IF NOT EXISTS LOGS (id unique, log)'); 
   tx.executeSql('INSERT INTO LOGS (id, log) VALUES (1, "foobar")'); 
   tx.executeSql('INSERT INTO LOGS (id, log) VALUES (2, "logmsg")'); 
}); 
</code>
We can pass dynamic values while creating entering as follows &minus;
<code>
var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);  

db.transaction(function (tx) {   
   tx.executeSql('CREATE TABLE IF NOT EXISTS LOGS (id unique, log)'); 
   tx.executeSql('INSERT INTO LOGS (id,log) VALUES (?, ?'), [e_id, e_log]; 
});
</code>
Here <b>e_id</b> and <b>e_log</b> are external variables, and executeSql maps each item in the array argument to the "?"s.

<h3>READ Operation</h3>
To read already existing records we use a callback to capture the results as follows &minus;
<code>
var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);  

db.transaction(function (tx) { 
   tx.executeSql('CREATE TABLE IF NOT EXISTS LOGS (id unique, log)');
   tx.executeSql('INSERT INTO LOGS (id, log) VALUES (1, "foobar")'); 
   tx.executeSql('INSERT INTO LOGS (id, log) VALUES (2, "logmsg")'); 
});  

db.transaction(function (tx) { 
   tx.executeSql('SELECT * FROM LOGS', [], function (tx, results) { 
      var len = results.rows.length, i; 
      msg = "&lt;p>Found rows: " + len + "&lt;/p>"; 
      document.querySelector('#status').innerHTML +=  msg; 
  
      for (i = 0; i &lt; len; i++) { 
         alert(results.rows.item(i).log ); 
      } 
  
   }, null); 
});
</code>
<h3>Final Example</h3>
So finally, let us keep this example in a full-fledged HTML5 document as follows and try to run it with Safari browser.

<a href="http://tpcg.io/rMAhs5" target="_blank" rel="nofollow" class="demo"><i class="fa-external-link"></i> Live Demo</a>

&lt;!DOCTYPE HTML> 

&lt;html>  
   &lt;head> 
  
      &lt;script type = "text/javascript"> 
         var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024); 
         var msg; 
    
         db.transaction(function (tx) { 
            tx.executeSql('CREATE TABLE IF NOT EXISTS LOGS (id unique, log)'); 
            tx.executeSql('INSERT INTO LOGS (id, log) VALUES (1, "foobar")'); 
            tx.executeSql('INSERT INTO LOGS (id, log) VALUES (2, "logmsg")'); 
            msg = '&lt;p>Log message created and row inserted.&lt;/p>'; 
            document.querySelector('#status').innerHTML =  msg; 
         })

         db.transaction(function (tx) { 
            tx.executeSql('SELECT * FROM LOGS', [], function (tx, results) { 
               var len = results.rows.length, i; 
               msg = "&lt;p>Found rows: " + len + "&lt;/p>"; 
               document.querySelector('#status').innerHTML +=  msg; 
      
               for (i = 0; i &lt; len; i++) { 
                  msg = "&lt;p>&lt;b>" + results.rows.item(i).log + "&lt;/b>&lt;/p>"; 
                  document.querySelector('#status').innerHTML +=  msg; 
               } 
            }, null); 
         }); 
      &lt;/script> 
   &lt;/head> 
  
   &lt;body> 
      &lt;div id = "status" name = "status">Status Message&lt;/div> 
   &lt;/body> 
&lt;/html>

This will produce the following result &minus;

Log message created and row inserted.
Found rows: 2
foobar
logmsg

<h2>Define a Function</h2>
1 <a href="#functiontopic-1" target="_self">Define a Function.</a><br>2 <a href="#functiontopic-2" target="_self">Parameters vs. Arguments.</a><br>3 <a href="#functiontopic-3" target="_self">Invoking a Function.</a><br>4 <a href="#functiontopic-4" target="_self">Function Return.</a><br>5 <a href="#functiontopic-5" target="_self">Function Objects.</a><br>6 <a href="#functiontopic-6" target="_self">Key Takeaways.</a><br>
<h3 id="functiontopic-1">Define a Function.</h3>
There are a few different ways to define a function in JavaScript:

A <strong>Function Declaration </strong>defines a named function. 
To create a function declaration you use the <code>function</code> keyword followed by the name of the function. 
When using function declarations, the function definition is hoisted, thus allowing the function to be used before it is defined.

<span class="green">function name(parameters){
  
<em>statements</em>}</span>
A <strong>Function Expressions</strong> defines a named or anonymous function. 
An anonymous function is a function that has no name. 
Function Expressions are not hoisted, and therefore cannot be used before they are defined. 
In the example below, we are setting the anonymous function object equal to a variable.

<span class="green">let name = function(parameters){
  
<em>statements</em>
}</span>
An <strong>Arrow Function Expression</strong> is a shorter syntax for writing function expressions. 
Arrow functions do not create their own <code>this</code> value.

<span class="green">let name = (parameters) =&gt; {
  
<em>statements</em>
}</span>
<h3 id="functiontopic-2">Parameters vs. Arguments.</h3>
If you’re new to JavaScript, you may have heard the terms 
<em>parameters</em> and <em>arguments </em>used interchangeably. 
While very similar, there is an important distinction to make between these two keywords.

<strong>Parameters</strong> are used when defining a function, they are the 
<em>names</em> created in the function definition. 
In fact, during a function definition, we can pass in up to 255 parameters! Parameters are separated by commas in the <code>()</code>. 
Here’s an example with two parameters — <code>param1</code> &amp; <code>param2</code>:

<span class="green">const param1 = true;
const param2 = false;</span>
<span class="green">function twoParams(param1, param2){
  
<em>console.log(param1, param2);</em>}</span>
<strong>Arguments</strong>, on the other hand, are the 
<em>values</em> the function receives from each parameter when the function is executed (invoked). 
In the above example, our two arguments are <code>true</code> &amp; <code>false</code>.

<h3 id="functiontopic-3">Invoking a Function.</h3>
Functions execute when the function is called. 
This process is known as invocation. 
You can invoke a function by referencing the function name, followed by an open and closed parenthesis: <code>()</code>.

Lets explore an example.

First, we’ll define a function named <code>logIt</code>. 
This function will take one parameter, <code>name</code>. 
When executed, the function will log that <code>name</code> back to the console:

<span class="green">function logIt(name){
  
<em>console.log(name);</em>}</span>
To invoke our function, we call it, while passing in the singular parameter. 
Here I am calling this function with the name 
<em>Joe</em>:

<span class="green">logIt('Joe');
// Joe</span>
If your function has no parameters, you can invoke it with an empty set of parenthesis:

<span class="green">function logIt2(){
  
<em>console.log('The second one');</em>}</span>
<span class="green">logIt2();
// The second one</span>
<h3 id="functiontopic-4">Function Return.</h3>
Every function in JavaScript returns <code>undefined</code> unless otherwise specified.

Let’s test this by creating and invoking an empty function:

<span class="green">function test(){};</span>
<span class="green">test();
// undefined</span>
Awesome, as expected, <code>undefined</code> is returned.

Now, we can customize what is returned in our function by using the <code>return</code> keyword followed by our return value. 
Take a look at the code below:

<span class="green">function test(){
  return true;
};</span>
<span class="green">test();
// <strong>true</strong></span>
In this example we explicitly tell the function to return <code>true</code>. 
When we invoke the function, that’s exactly what happens.

But why is this important?

It’s important because the value that a function returns, is actually returned to the caller of the function. 
Take a look at this code:

<span class="green">let double = function(num) {
   return num * 2;
}</span>
This is a function expression that creates a function that will return two times the value of our input parameter <code>num</code>. 
We can then invoke the function and save the return value to a variable:

<span class="green">let test = double(3);</span>
When we log out our <code>test</code> value, we get <code>6</code>:

<span class="green">console.log(test);
// 6</span>
Awesome! The <code>return</code> variable not only returns values from a function, but it assigns them to whatever called the function!


Another important rule of the return statement is that it stops function execution immediately.

Consider this example where we have two return statements in our test function:

<span class="green">function test(){
  return true;
  return false;
};</span>
<span class="green">test();
// <strong>true</strong></span>
The first return statement immediately stops execution of our function and causes our function to return <code>true</code>. 
The code on line three: <code>return false;</code> is 
<em>never </em>executed.

<h3 id="functiontopic-5">Function Objects.</h3>
Functions are function objects. 
In JavaScript, anything that is not a primitive type ( <code>undefined</code>, <code>null</code>,<code>boolean</code>, <code>number</code>, or <code>string</code>) is an object. 
Objects in JavaScript are <em>extremely </em>versatile. 
Because of this, we can even pass a function as a parameter into another function.

When a function accepts another function as a parameter, or returns a function, it is called a higher-order function. 
You’ve probably already used a bunch of higher order functions and don’t even know it: <code>Array.prototype.map</code>and <code>Array.prototype.filter</code> are higher order functions (Just to name a couple). 

<em>You can check out some of my previous articles to learn more about objects and higher order functions in JavaScript…</em>

<h3 id="functiontopic-6">Key Takeaways.</h3>
This is a lot of information to digest. 
Here’s a list of the important stuff:

<ul>
<li>A function is a <strong>
<em>subprogram</em></strong> designed to perform a particular task.</li>
<li>Function definitions are hoisted — expressions are not.</li>
<li>Functions are executed when they are called. 
This is known as <strong>
<em>invoking</em></strong> a function.</li>
<li>Values can be <strong>
<em>passed</em></strong> into functions and used within the function. 
The name of the value is called a parameter. 
The actual value itself is called an argument.</li>
<li>Functions <strong>
<em>always</em></strong> <code>return</code> a value. 
In JavaScript, if no <code>return</code> value is specified, the function will return <code>undefined</code> by default.</li>
<li>Functions are <strong>
<em>objects</em></strong>.</li></ul>
<h3>What is a Function Expression?</h3>
A JavaScript function can also be defined using an <strong>expression</strong>.
A function expression can be stored in a variable:
<em>var x = function (a, b) {return a * b};</em>
After a function expression has been stored in a variable, the variable can be used as a function. 
Functions stored in variables do not need function names. 
They are always invoked (called) using the variable name.

<h3>Function Expression VS. Function Statement</h3>
<strong>Example: Function Expression</strong>
<span>alert(foo()); // ERROR! foo wasn&#x27;t loaded yet
var foo = function() { return 5; }</span>

<strong>Example: Function Declaration</strong>
<span>alert(foo()); // Alerts 5. 
Declarations are loaded before any code can run.<br/>function foo() { return 5; }</span>

<strong>Function declarations</strong> load before any code is executed while <strong>Function expressions</strong> load only when the interpreter reaches that line of code.Similar to the <code>var</code> statement, function declarations are hoisted to the top of other code. 
Function expressions aren’t hoisted, which allows them to retain a copy of the local variables from the scope where they were defined.

<h3>Benefits of Function Expressions</h3>
There are several different ways that function expressions become more useful than function declarations.



<h2>"use strict"</h2>
Defines that JavaScript code should be executed in "strict mode".

With strict mode, you can not, for example, use undeclared variables.

"use strict";
x = 3.14;  // This will cause an error (x is not defined).

"use strict";
myFunction();

function myFunction() {
  y = 3.14;   // This will also cause an error because y is not declared
}


Declared inside a function, it has local scope (only the code inside the function is in strict mode):

x = 3.14;       // This will not cause an error.
myFunction();

function myFunction() {
  "use strict";
  y = 3.14;   // This will cause an error
}

Why Strict Mode?
Strict mode makes it easier to write "secure" JavaScript.

Strict mode changes previously accepted "bad syntax" into real errors.

As an example, in normal JavaScript, mistyping a variable name creates a new global variable. 
In strict mode, this will throw an error, making it impossible to accidentally create a global variable.

In normal JavaScript, a developer will not receive any error feedback assigning values to non-writable properties.

In strict mode, any assignment to a non-writable property, a getter-only property, a non-existing property, a non-existing variable, or a non-existing object, will throw an error.

<h2>Calculate the Max/Min value from an array</h2>
The built-in functions Math.max() and Math.min() find the maximum and minimum value of the arguments, respectively.

Math.max(1, 2, 3, 4); // 4
Math.min(1, 2, 3, 4); // 1

These functions will not work as-is with arrays of numbers. 

However, there are some ways around this.

var numbers = [1, 2, 3, 4];
Math.max.apply(null, numbers) // 4
Math.min.apply(null, numbers) // 1

A simpler way is with the new spread operator.
var numbers = [1, 2, 3, 4];
Math.max(...numbers) // 4
Math.min(...numbers) // 1

This operator spread the values into the function.

<h2>find max in array of arrays</h2>
var array = [
  [14, 23],
  [13, 47],
  [38, 35],
  [24, 34]
];

var maxRow = array.map(function(row){ return Math.max.apply(Math, row); });
Math.max(...maxRow)

ymax: Math.max(...thedrawdata.map(function(row){ return Math.max.apply(Math, row);})),

<h2>subtopic.js</h2>
subtopic.js not yet finished

<h2>load json from url</h2>
$.getJSON(url, function(data) {
    //data is the JSON string
});

<h3>Append &lt;script>&lt;/script> in javascript</h3>
&lt;script src="http://web.ifzq.gtimg.cn/appstock/app/hkfqkline/get?_var=kline_monthqfq&param=hk00700,month,,,320,qfq">&lt;/script>

&lt;script>
console.log(kline_monthqfq);
&lt;/script>

var s = document.createElement("script");
s.type = "text/javascript";
s.src = "http://somedomain.com/somescript";
$("head").append(s);

Note that the script will load and you can access the variables inside it, but you wouldn't see the actual &lt;script> tag in the DOM.

<h2>PhantomJS</h2>
<a href="https://phantomjs.org/" class="whitebut gold limebs">PhantomJS - Scriptable Headless Browser</a>
<a href="https://phantomjs.org/documentation/" class="whitebut ">phantomjs documentation</a>
<a href="https://phantomjs.org/quick-start.html" class="whitebut ">Quick Start with PhantomJS</a>

PhantomJS is a JS console. similar to nodejs

must go to phantomjs install folder, and then run it from the terminal or command prompt:

cd D:/phantomjs/bin/
phantomjs hello.js

the file must inside the install folder

very important to call phantom.exit at some point in the script, otherwise PhantomJS will not be terminated at all.
Page Loading
A web page can be loaded, analyzed, and rendered by creating a webpage object.

The following script demonstrates the simplest use of page object. It loads example.com and then saves it as an image, example.png in the same directory the script was run in.

var page = require('webpage').create();
page.open('http://example.com', function(status) {
  console.log("Status: " + status);
  if(status === "success") {
    page.render('example.png');
  }
  phantom.exit();
});

Because of its rendering features, PhantomJS can be used to capture web pages, essentially taking a screenshot of the contents.

The following loadspeed.js script loads a specified URL (do not forget the http protocol) and measures the time it takes to load it.

var page = require('webpage').create(),
  system = require('system'),
  t, address;

if (system.args.length === 1) {
  console.log('Usage: loadspeed.js [some URL]');
  phantom.exit();
}

t = Date.now();
address = system.args[1];
page.open(address, function(status) {
  if (status !== 'success') {
    console.log('FAIL to load the address');
  } else {
    t = Date.now() - t;
    console.log('Loading ' + system.args[1]);
    console.log('Loading time ' + t + ' msec');
  }
  phantom.exit();
});
Run the script with the command:

phantomjs loadspeed.js http://www.google.com
It outputs something like:

Loading http://www.google.com
Loading time 719 msec
Code Evaluation
To evaluate JavaScript code in the context of the web page, use evaluate() function. The execution is "sandboxed", there is no way for the code to access any JavaScript objects and variables outside its own page context. An object can be returned from evaluate(), however it is limited to simple objects and can’t contain functions or closures.

Here is an example to show the title of a web page:

var page = require('webpage').create();
page.open(url, function(status) {
  var title = page.evaluate(function() {
    return document.title;
  });
  console.log('Page title is ' + title);
  phantom.exit();
});
Any console message from a web page, including from the code inside evaluate(), will not be displayed by default. To override this behavior, use the onConsoleMessage callback. The previous example can be rewritten to:

var page = require('webpage').create();
page.onConsoleMessage = function(msg) {
  console.log('Page title is ' + msg);
};
page.open(url, function(status) {
  page.evaluate(function() {
    console.log(document.title);
  });
  phantom.exit();
});

Since the script is executed as if it is running on a web browser, standard DOM scripting and CSS selectors work just fine. It makes PhantomJS suitable to carry out various page automation tasks.

<h2>Sine Wave in JavaScript</h2>
<a href="https://gist.github.com/gkhays/e264009c0832c73d5345847e673a64ab" class="whitebut ">Draw a Sine Wave in JavaScript</a>

<a href="https://codepen.io/isdampe/pen/MbLdOv" class="whitebut ">JS Sine Wave</a>

<h2>JavaScript single line 'if' statement syntax</h2>

if (lemons) document.write("foo gave me a bar");

(lemons) ? alert("please give me a lemonade") : alert("then give me a beer");

(lemon) ? document.write("foo gave me a bar") : document.write("FALSE");

if(dog) alert('bark bark');

<h2>if-else shorthand omitting the second expression</h2>

if (x==2) doSomething; else doSomethingElse

if (myArray[i].value) alert('yay') ; else continue;

<h2>calculate ema</h2>
function EMACalc(mArray,mRange) {
  var k = 2/(mRange + 1);
  // first item is just the same as the first item in the input
  emaArray = [mArray[0]];
  // for the rest of the items, they are computed with the previous one
  for (var i = 1; i < mArray.length; i++) {
    emaArray.push(mArray[i] * k + emaArray[i - 1] * (1 - k));
  }
  return emaArray;
}

<h2>remove empty element in an array</h2>
var array = [0, 1, null, 2, "", 3, undefined, 3,,,,,, 4,, 4,, 5,, 6,,,,];

var filtered = array.filter(function (el) {
  return el != null;
});

alert(filtered);

or
arr = arr.filter((val) => val != "");

<h2>remove common items from list</h2>
Use the Array.filter() method:
fmList = [1,2,3,4,6,7,8,9]
toRemove = [2,3,5]
fmList = fmList.filter( function( item ) {
  return !toRemove.includes( item );
} );

fmList = fmList.filter( ( item ) => !toRemove.includes( item ) );

<h2>create script element and load it</h2>
document.createElement(“script”) synchronously

create &lt;script> element with an "onload" handler, and that will be called when the script has been loaded and evaluated by the browser.

var script = document.createElement('script');
script.onload = function() {
  alert("Script loaded and ready");
};
script.src = "http://whatever.com/the/script.js";
document.getElementsByTagName('head')[0].appendChild(script);

This isn't pretty, but it works:
&lt;script type="text/javascript">
  document.write('&lt;script type="text/javascript" src="other.js">&lt;/script>');
&lt;/script>

&lt;script type="text/javascript">
  functionFromOther();
&lt;/script>

Or
&lt;script type="text/javascript">
  document.write('&lt;script type="text/javascript" src="other.js">&lt;/script>');
  window.onload = function() {
    functionFromOther();
  };
&lt;/script>

<h2>JSON methods, toJSON</h2>
Let’s say we have a complex object, and we’d like to convert it into a string, to send it over a network, or just to output it for logging purposes.

let user = {
  name: "John",
  age: 30,
  toString() { return `{name: "${this.name}", age: ${this.age}}`; }
};

alert(user); // {name: "John", age: 30}

…But in the process of development, new properties are added, old properties are renamed and removed.
Updating such toString every time can become a pain.

JavaScript provides methods:
<b>JSON.stringify</b> to convert objects into JSON.
<b>JSON.parse</b> to convert JSON back into an object.

For instance, here we JSON.stringify a student:
let student = {
  name: 'John',
  age: 30,
  isAdmin: false,
  courses: ['html', 'css', 'js'],
  wife: null
};

let json = JSON.stringify(student);
alert(typeof json); // we've got a string!
alert(json);
/* JSON-encoded object:
{
  "name": "John",
  "age": 30,
  "isAdmin": false,
  "courses": ["html", "css", "js"],
  "wife": null
}
*/

The method JSON.stringify(student) takes the object and converts it into a string.
The resulting json string is called a <em>JSON-encoded</em> or <em>serialized</em> or <em>stringified</em> or <em>marshalled</em> object.
We are ready to send it over the wire or put into a plain data store.

Please note that a JSON-encoded object has several important differences from the object literal:
Strings use double quotes.
No single quotes or backticks in JSON.
So 'John' becomes "John".
Object property names are double-quoted also.
That’s obligatory.
So age:30 becomes "age":30.

JSON.stringify can be applied to primitives as well.

JSON supports following data types:
Objects { ... }
Arrays [ ... ]

Primitives:
strings, numbers, boolean values true/false, null.

For instance:
// a number in JSON is just a number
alert( JSON.stringify(1) ) // 1

// a string in JSON is still a string, but double-quoted
alert( JSON.stringify('test') ) // "test"
alert( JSON.stringify(true) ); // true
alert( JSON.stringify([1, 2, 3]) ); // [1,2,3]

JSON is data-only language-independent specification, so some JavaScript-specific object properties are skipped by JSON.stringify.

Namely:
Function properties (methods).
Symbolic properties.
Properties that store undefined.

let user = {
  sayHi() { // ignored
    alert("Hello");
  },
  [Symbol("id")]: 123, // ignored
  something: undefined // ignored
};

alert( JSON.stringify(user) ); // {} (empty object)

Usually that’s fine. If that’s not what we want, then soon we’ll see how to customize the process.

The great thing is that nested objects are supported and converted automatically.

For instance:
let meetup = {
  title: "Conference",
  room: { number: 23, participants: ["john", "ann"] }
};

alert( JSON.stringify(meetup) );
/* The whole structure is stringified:
{
  "title":"Conference",
  "room":{"number":23,"participants":["john","ann"]},
}
*/

The important limitation: there must be no circular references.

For instance:

let room = {
  number: 23
};

let meetup = {
  title: "Conference",
  participants: ["john", "ann"]
};

meetup.place = room;       // meetup references room
room.occupiedBy = meetup; // room references meetup

JSON.stringify(meetup); // Error: Converting circular structure to JSON

Here, the conversion fails, because of circular reference: room.occupiedBy references meetup, and meetup.place references room:

<figure>

<object type="image/svg+xml" data="/article/json/json-meetup.svg" width="188" height="192" class="image__image">

  <img src="https://javascript.info/article/json/json-meetup.svg" alt="" width="188" height="192">
</object>
</figure>
<h2>Excluding and transforming: replacer</h2>
The full syntax of JSON.stringify is:

  
  
let json = JSON.stringify(value[, replacer, space])

<dl>
<dt>value</dt>
<dd>A value to encode.</dd>
<dt>replacer</dt>
<dd>Array of properties to encode or a mapping function function(key, value).</dd>
<dt>space</dt>
<dd>Amount of space to use for formatting</dd>
</dl>
Most of the time, JSON.stringify is used with the first argument only. But if we need to fine-tune the replacement process, like to filter out circular references, we can use the second argument of JSON.stringify.

If we pass an array of properties to it, only these properties will be encoded.

For instance:

let room = {
  number: 23
};

let meetup = {
  title: "Conference",
  participants: [{name: "John"}, {name: "Alice"}],
  place: room // meetup references room
};

room.occupiedBy = meetup; // room references meetup

alert( JSON.stringify(meetup, ['title', 'participants']) );
// {"title":"Conference","participants":[{},{}]}

Here we are probably too strict. The property list is applied to the whole object structure. So the objects in participants are empty, because name is not in the list.

Let’s include in the list every property except room.occupiedBy that would cause the circular reference:

let room = {
  number: 23
};

let meetup = {
  title: "Conference",
  participants: [{name: "John"}, {name: "Alice"}],
  place: room // meetup references room
};

room.occupiedBy = meetup; // room references meetup

alert( JSON.stringify(meetup, ['title', 'participants', 'place', 'name', 'number']) );
/*
{
  "title":"Conference",
  "participants":[{"name":"John"},{"name":"Alice"}],
  "place":{"number":23}
}
*/

Now everything except occupiedBy is serialized. But the list of properties is quite long.

Fortunately, we can use a function instead of an array as the replacer.

The function will be called for every (key, value) pair and should return the “replaced” value, which will be used instead of the original one. Or undefined if the value is to be skipped.

In our case, we can return value “as is” for everything except occupiedBy. To ignore occupiedBy, the code below returns undefined:

let room = {
  number: 23
};

let meetup = {
  title: "Conference",
  participants: [{name: "John"}, {name: "Alice"}],
  place: room // meetup references room
};

room.occupiedBy = meetup; // room references meetup

alert( JSON.stringify(meetup, function replacer(key, value) {
  alert(`${key}: ${value}`);
  return (key == 'occupiedBy') ? undefined : value;
}));

/* key:value pairs that come to replacer:
:             [object Object]
title:        Conference
participants: [object Object],[object Object]
0:            [object Object]
name:         John
1:            [object Object]
name:         Alice
place:        [object Object]
number:       23
*/

Please note that replacer function gets every key/value pair including nested objects and array items. It is applied recursively. The value of this inside replacer is the object that contains the current property.

The first call is special. It is made using a special “wrapper object”: {": meetup}. In other words, the first (key, value) pair has an empty key, and the value is the target object as a whole. That’s why the first line is ":[object Object]" in the example above.

The idea is to provide as much power for replacer as possible: it has a chance to analyze and replace/skip even the whole object if necessary.

<h2>Formatting: space</h2>
The third argument of JSON.stringify(value, replacer, space) is the number of spaces to use for pretty formatting.

Previously, all stringified objects had no indents and extra spaces. That’s fine if we want to send an object over a network. The space argument is used exclusively for a nice output.

Here space = 2 tells JavaScript to show nested objects on multiple lines, with indentation of 2 spaces inside an object:

let user = {
  name: "John",
  age: 25,
  roles: {
    isAdmin: false,
    isEditor: true
  }
};

alert(JSON.stringify(user, null, 2));
/* two-space indents:
{
  "name": "John",
  "age": 25,
  "roles": {
    "isAdmin": false,
    "isEditor": true
  }
}
*/

/* for JSON.stringify(user, null, 4) the result would be more indented:
{
    "name": "John",
    "age": 25,
    "roles": {
  "isAdmin": false,
  "isEditor": true
    }
}
*/

The space parameter is used solely for logging and nice-output purposes.

<h2>Custom “toJSON”</h2>
Like toString for string conversion, an object may provide method toJSON for to-JSON conversion. JSON.stringify automatically calls it if available.

For instance:

let room = {
  number: 23
};

let meetup = {
  title: "Conference",
  date: new Date(Date.UTC(2017, 0, 1)),
  room
};

alert( JSON.stringify(meetup) );
/*
  {
    "title":"Conference",
    "date":"2017-01-01T00:00:00.000Z",  // (1)
    "room": {"number":23}               // (2)
  }
*/

Here we can see that date (1) became a string. That’s because all dates have a built-in toJSON method which returns such kind of string.

Now let’s add a custom toJSON for our object room (2):

let room = {
  number: 23,
  toJSON() {
    return this.number;
  }
};

let meetup = {
  title: "Conference",
  room
};

alert( JSON.stringify(room) ); // 23

alert( JSON.stringify(meetup) );
/*
  {
    "title":"Conference",
    "room": 23
  }
*/

As we can see, toJSON is used both for the direct call JSON.stringify(room) and when room is nested in another encoded object.

<h2>JSON.parse</h2>
To decode a JSON-string, we need another method named <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse">JSON.parse</a>.

The syntax:

  
  
let value = JSON.parse(str, [reviver]);

<dl>
<dt>str</dt>
<dd>JSON-string to parse.</dd>
<dt>reviver</dt>
<dd>Optional function(key,value) that will be called for each (key, value) pair and can transform the value.</dd>
</dl>
For instance:

// stringified array
let numbers = "[0, 1, 2, 3]";

numbers = JSON.parse(numbers);

alert( numbers[1] ); // 1

Or for nested objects:

let userData = '{ "name": "John", "age": 35, "isAdmin": false, "friends": [0,1,2,3] }';

let user = JSON.parse(userData);

alert( user.friends[1] ); // 1

The JSON may be as complex as necessary, objects and arrays can include other objects and arrays. But they must obey the same JSON format.

Here are typical mistakes in hand-written JSON (sometimes we have to write it for debugging purposes):

  
  
let json = `{
  name: "John",                     // mistake: property name without quotes
  "surname": 'Smith',               // mistake: single quotes in value (must be double)
  'isAdmin': false                  // mistake: single quotes in key (must be double)
  "birthday": new Date(2000, 2, 3), // mistake: no "new" is allowed, only bare values
  "friends": [0,1,2,3]              // here all fine
}`;

Besides, JSON does not support comments. Adding a comment to JSON makes it invalid.

There’s another format named <a href="http://json5.org/">JSON5</a>, which allows unquoted keys, comments etc. But this is a standalone library, not in the specification of the language.

The regular JSON is that strict not because its developers are lazy, but to allow easy, reliable and very fast implementations of the parsing algorithm.

<h2>Using reviver</h2>
Imagine, we got a stringified meetup object from the server.

It looks like this:

  
  
// title: (meetup title), date: (meetup date)
let str = '{"title":"Conference","date":"2017-11-30T12:00:00.000Z"}';

…And now we need to <em>deserialize</em> it, to turn back into JavaScript object.

Let’s do it by calling JSON.parse:

let str = '{"title":"Conference","date":"2017-11-30T12:00:00.000Z"}';

let meetup = JSON.parse(str);

alert( meetup.date.getDate() ); // Error!

Whoops! An error!

The value of meetup.date is a string, not a Date object. How could JSON.parse know that it should transform that string into a Date?

Let’s pass to JSON.parse the reviving function as the second argument, that returns all values “as is”, but date will become a Date:

let str = '{"title":"Conference","date":"2017-11-30T12:00:00.000Z"}';

let meetup = JSON.parse(str, function(key, value) {
  if (key == 'date') return new Date(value);
  return value;
});

alert( meetup.date.getDate() ); // now works!

By the way, that works for nested objects as well:

let schedule = `{
  "meetups": [
    {"title":"Conference","date":"2017-11-30T12:00:00.000Z"},
    {"title":"Birthday","date":"2017-04-18T12:00:00.000Z"}
  ]
}`;

schedule = JSON.parse(schedule, function(key, value) {
  if (key == 'date') return new Date(value);
  return value;
});

alert( schedule.meetups[1].date.getDate() ); // works!

<h2>Summary</h2>

JSON is a data format that has its own independent standard and libraries for most programming languages.
JSON supports plain objects, arrays, strings, numbers, booleans, and null.
JavaScript provides methods <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify">JSON.stringify</a> to serialize into JSON and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse">JSON.parse</a> to read from JSON.
Both methods support transformer functions for smart reading/writing.
If an object has toJSON, then it is called by JSON.stringify.

<h2 class="tasks__title" id="tasks"><a class="tasks__title-anchor main__anchor main__anchor main__anchor_noicon" href="#tasks">Tasks</h2>
<h3 class="task__title"><a class="main__anchor" href="#turn-the-object-into-json-and-back" name="turn-the-object-into-json-and-back">Turn the object into JSON and back</a></h3><a class="task__open-link" href="/task/serialize-object" target="_blank"></a>importance: 5Turn the user into JSON and then read it back into another variable.

  
  
let user = {
  name: "John Smith",
  age: 35
};

<button class="task__solution" type="button">solution</button>

  
  
let user = {
  name: "John Smith",
  age: 35
};

let user2 = JSON.parse(JSON.stringify(user));

<button class="close-button task__answer-close" type="button" title="close"></button><h3 class="task__title"><a class="main__anchor" href="#exclude-backreferences" name="exclude-backreferences">Exclude backreferences</a></h3><a class="task__open-link" href="/task/serialize-event-circular" target="_blank"></a>importance: 5In simple cases of circular references, we can exclude an offending property from serialization by its name.

But sometimes we can’t just use the name, as it may be used both in circular references and normal properties. So we can check the property by its value.

Write replacer function to stringify everything, but remove properties that reference meetup:

let room = {
  number: 23
};

let meetup = {
  title: "Conference",
  occupiedBy: [{name: "John"}, {name: "Alice"}],
  place: room
};

// circular references
room.occupiedBy = meetup;
meetup.self = meetup;

alert( JSON.stringify(meetup, function replacer(key, value) {
  /* your code */
}));

/* result should be:
{
  "title":"Conference",
  "occupiedBy":[{"name":"John"},{"name":"Alice"}],
  "place":{"number":23}
}
*/

<button class="task__solution" type="button">solution</button>

  
  

  <a href="#" title="run" data-action="run" class="toolbar__button toolbar__button_run"></a>
  <a href="#" title="open in sandbox" target="_blank" data-action="edit" class="toolbar__button toolbar__button_edit"></a>

  
  
let room = {
  number: 23
};

let meetup = {
  title: "Conference",
  occupiedBy: [{name: "John"}, {name: "Alice"}],
  place: room
};

room.occupiedBy = meetup;
meetup.self = meetup;

alert( JSON.stringify(meetup, function replacer(key, value) {
  return (key != " &amp;&amp; value == meetup) ? undefined : value;
}));

/*
{
  "title":"Conference",
  "occupiedBy":[{"name":"John"},{"name":"Alice"}],
  "place":{"number":23}
}
*/

<h2>show turnover on page</h2>
function showTO(stkcode) {
  stkcode = "00000"+stkcode
  codewidth = stkcode.length
  stkcode = stkcode.slice(codewidth-5, codewidth)

  urladdr = 'http://web.ifzq.gtimg.cn/appstock/app/hkfqkline/get?_var=kline_dayqfq&amp;param=hk' + stkcode + ',day,,,20,qfq';
  var script = document.createElement('script');
  script.onload = function() {
    $("#turnover").html("Turnover: ");
    theObj = kline_dayqfq.data;
    newObj = Object.values(theObj)
    newObj = Object.values(newObj[0])
    newObj = Object.values(newObj[0])
    for(i=10;i&lt;newObj.length;i++){
      thedate = newObj[i][0]  // date
      theamt = Math.round(Number(newObj[i][8]))  // amt
      $("#turnover").append( theamt,"w ")
    }
  };
  script.src = urladdr;
  document.getElementsByTagName('head')[0].appendChild(script);
}

<h2>get the name of the array in json data</h2>
let user = { name: "John", age: 30 };

Object.keys(user) = ["name", "age"]
Object.values(user) = ["John", 30]
Object.entries(user) = [ ["name","John"], ["age",30] ]

Accessing nested JSON values with unknown names
https://stackoverflow.com/questions/36031009/access-elements-inside-json-object-without-knowing-names

<h2>navigation methods</h2>
if(testkey == 'T'){window.scrollTo(0,0);}
if(testkey == '8'){window.location = '#dateTime';}
if(testkey == "2"){
 divtoc = document.getElementById("toc");
 $('body,html').animate({scrollTop:(divtoc.clientHeight + divtoc.offsetTop-600)}, 1);
}

<h2>detect whether the "ALT" key was pressed</h2>
<span class="orange">event.altKey</span>
A Boolean, indicating whether the "ALT" key was pressed when the key event occured.

<span class="orange">document.onkeydown = keydown;</span>
function keydown(evt) {
    if (!evt) evt = event;
    if (evt.altKey) {
        alert('alt');
    }
}

or
<span class="orange">$(document).on('keydown', function (e) {</span>
    if (e.key === 'Alt') {
        alert('alt');
    }
});

<h2>KeyboardEvent ctrlKey Property</h2>
<span class="orange">event.ctrlKey</span>
true - The ctrl key was pressed
false - The ctrl key was not pressed

if (event.ctrlKey) {
        alert('ctrl yes');
} else {
        alert('ctrl no');
}

<h2>KeyboardEvent shiftKey Property</h2>
<span class="orange">event.shiftKey</span>
if (event.shiftKey) {
        alert('shift yes');
} else {
        alert('shift no');
}

<h2>KeyboardEvent metaKey Property</h2>
<span class="orange">event.metaKey</span>
if (event.metaKey) {
        alert('metaKey yes');
} else {
        alert('metaKey no');
}

<h2>KeyboardEvent keyCode Property</h2>
<span class="orange">event.keyCode</span>
var x = event.keyCode;

&lt;input type="text" onkeypress="uniCharCode(event)" onkeydown="uniKeyCode(event)">
// both function will be called at the same time when key pressed
function uniCharCode(event) {
  var char = event.which || event.keyCode;
        alert("Unicode CHARACTER code: " + char);
}

function uniKeyCode(event) {
  var key = event.keyCode;
        alert('Unicode KEY code: " + key);
}
When pressing the "a" key on the keyboard (not using caps lock), the result of char and key will be:

Unicode CHARACTER code: 97
Unicode KEY code: 65

Example
Alert some text if the user presses the <span class="orange">Escape</span> key:

&lt;input type="text" onkeydown="myFunction(event)">

function myFunction(event) {
  var x = event.keyCode;
  if (x == 27) {  // 27 is the ESC key
    alert ("You pressed the Escape key!");
  }
}

Example
Convert the Unicode value into a character (does not work for function keys):
var x = event.keyCode;                // Get the Unicode value
var y = String.fromCharCode(x);       // Convert the value into a character

<h2>KeyboardEvent which Property</h2>
<span class="orange">event.which</span>
returns the <span class="orange">Unicode character code</span> of the key that triggered the <span class="orange">onkeypress event</span>,
or the <span class="orange">Unicode key code</span> of the key that triggered the <span class="orange">onkeydown or onkeyup event</span>.

Example
Get the Unicode value of the pressed keyboard key:
var x = event.which;

<h2>KeyboardEvent key Property</h2>
<span class="orange">event.key</span>
A String, representing the pressed keyboard button.
Possible values:
A single character (like "a", "W", "4", "+" or "$")
A multicharacter (like "F1", "Enter", "HOME" or "CAPS LOCK")

Example
Alert some text if the user presses the "A" key:
var x = event.key;
// If the pressed keyboard button is "a" or "A" (using caps lock or shift), alert some text.

if (x == "a" || x == "A") {
  alert ("You pressed the 'A' key!");
}

<h2>KeyboardEvent charCode Property</h2>
event.charCode
A Number, representing the Unicode character code
Example
Alert some text if the user presses the "O" key:
function myFunction(event) {
  var x = event.charCode || event.keyCode;
  if (x == 111 || x == 79) { // o is 111, O is 79
    alert("You pressed the 'O' key!");
  }
}

<h2>onwheel, onscroll Event</h2>
<span class="orange">onwheel</span> specifically fires when the mouse wheel is spun. 
Note that onwheel is non-standard and should be avoided unless you're specifically targeting browsers that support it and/or are providing an extra feature whose absence won't be felt.

<span class="orange">onscroll</span> fires for any kind of scrolling, including keyboard buttons like the arrow keys, Home, End, Page Up, Page Down, space bar, tabbing etc.

<span class="orange">object.onscroll = function(){myScript};</span>

using the addEventListener() method:
<span class="orange">object.addEventListener("scroll", myScript);</span>

Note: The addEventListener() method is not supported in Internet Explorer 8 and earlier versions.

Example
Toggle between class names on different scroll positions - When the user scrolls down 50 pixels from the top of the page, the class name "test" will be added to an element (and removed when scrolled up again).
<span class="orange">window.onscroll = function() {myFunction()};</span>
function myFunction() {
  if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {
    document.getElementById("myP").className = "test";
  } else {
    document.getElementById("myP").className = "";
  }
}

Example
Slide in an element when the user has scrolled down 350 pixels from the top of the page (add the slideUp class):

window.onscroll = function() {myFunction()};
function myFunction() {
  if (document.body.scrollTop > 350 || document.documentElement.scrollTop > 350) {
    document.getElementById("myImg").className = "slideUp";
  }
}

<h2>MouseEvent which Property</h2>
<span class="orange">event.which</span>
returns a number that indicates which mouse button was pressed when a mouse event was triggered.

Example
Find out which mouse button that was pressed when a mouse event was triggered:
alert("You pressed button: " + event.which)

<h2>MouseEvent button Property</h2>
event.button
A Number, representing which mouse button that was pressed when the mouse event occured.

alert("You pressed button: " + event.button)

<h2>Style Object Properties</h2>
Sets or returns the Object Properties
example
thePointerImg.style.width = (currWidth - 100) + "px";
thePointerImg.style.transform = "rotate(90deg)";

Rotate and translate
    transform-origin: left;
    translate(50%, 50%) rotate(90deg) ;

    transform-origin: 50%;
    rotate(90deg) translateY(100%) ;

Be careful on the "order of execution" in CSS3 chains! The rule is (right) from (left). Not Left to Right.

transformation: translate(0,10%) rotate(25deg);
The "rotate" operation is done first, than the "translate" operation comes next/second.


alignContent	alignment between the lines inside a flexible container when the items do not use all available space
alignItems	alignment for items inside a flexible container
alignSelf	alignment for selected items inside a flexible container
animation	A shorthand property for all the animation properties below, except the animationPlayState property
animationDelay	when the animation will start
animationDirection	whether or not the animation should play in reverse on alternate cycles
animationDuration	how many seconds or milliseconds an animation takes to complete one cycle
animationFillMode	what values are applied by the animation outside the time it is executing
animationIterationCount	number of times an animation should be played
animationName	a name for the @keyframes animation
animationTimingFunction	speed curve of the animation
animationPlayState	whether the animation is running or paused
background	all the background properties in one declaration
backgroundAttachment	whether a background-image is fixed or scrolls with the page
backgroundColor	background-color of an element
backgroundImage	background-image for an element
backgroundPosition	starting position of a background-image
backgroundRepeat	how to repeat (tile) a background-image
backgroundClip	painting area of the background
backgroundOrigin	positioning area of the background images
backgroundSize	size of the background image
backfaceVisibility	whether or not an element should be visible when not facing the screen
border	borderWidth, borderStyle, and borderColor in one declaration
borderBottom	all the borderBottom properties in one declaration
borderBottomColor	color of the bottom border
borderBottomLeftRadius	shape of the border of the bottom-left corner
borderBottomRightRadius	shape of the border of the bottom-right corner
borderBottomStyle	style of the bottom border
borderBottomWidth	width of the bottom border
borderCollapse	whether the table border should be collapsed into a single border, or not
borderColor	color of an element's border (can have up to four values)
borderImage	A shorthand property for setting or returning all the borderImage properties
borderImageOutset	amount by which the border image area extends beyond the border box
borderImageRepeat	whether the image-border should be repeated, rounded or stretched
borderImageSlice	inward offsets of the image-border
borderImageSource	image to be used as a border
borderImageWidth	widths of the image-border
borderLeft	all the borderLeft properties in one declaration
borderLeftColor	color of the left border
borderLeftStyle	style of the left border
borderLeftWidth	width of the left border
borderRadius	A shorthand property for setting or returning all the four borderRadius properties
borderRight	all the borderRight properties in one declaration
borderRightColor	color of the right border
borderRightStyle	style of the right border
borderRightWidth	width of the right border
borderSpacing	space between cells in a table
borderStyle	style of an element's border (can have up to four values)
borderTop	all the borderTop properties in one declaration
borderTopColor	color of the top border
borderTopLeftRadius	shape of the border of the top-left corner
borderTopRightRadius	shape of the border of the top-right corner
borderTopStyle	style of the top border
borderTopWidth	width of the top border
borderWidth	width of an element's border (can have up to four values)
bottom	bottom position of a positioned element
boxDecorationBreak	behaviour of the background and border of an element at page-break, or, for in-line elements, at line-break.
boxShadow	Attaches one or more drop-shadows to the box
boxSizing	Allows you to define certain elements to fit an area in a certain way
captionSide	position of the table caption
clear	position of the element relative to floating objects
clip	which part of a positioned element is visible
color	color of the text
columnCount	number of columns an element should be divided into
columnFill	how to fill columns
columnGap	gap between the columns
columnRule	A shorthand property for setting or returning all the columnRule properties
columnRuleColor	color of the rule between columns
columnRuleStyle	style of the rule between columns
columnRuleWidth	width of the rule between columns
columns	A shorthand property for setting or returning columnWidth and columnCount
columnSpan	how many columns an element should span across
columnWidth	width of the columns
content	Used with the :before and :after pseudo-elements, to insert generated content
counterIncrement	Increments one or more counters
counterReset	Creates or resets one or more counters
cursor	type of cursor to display for the mouse pointer
direction	text direction
display	an element's display type
emptyCells	whether to show the border and background of empty cells, or not
filter	image filters (visual effects, like blur and saturation)
flex	length of the item, relative to the rest
flexBasis	initial length of a flexible item
flexDirection	direction of the flexible items
flexFlow	A shorthand property for the flexDirection and the flexWrap properties
flexGrow	how much the item will grow relative to the rest
flexShrink	how the item will shrink relative to the rest
flexWrap	whether the flexible items should wrap or not
cssFloat	horizontal alignment of an element
font	fontStyle, fontVariant, fontWeight, fontSize, lineHeight, and fontFamily in one declaration
fontFamily	font family for text
fontSize	font size of the text
fontStyle	whether the style of the font is normal, italic or oblique
fontVariant	whether the font should be displayed in small capital letters
fontWeight	boldness of the font
fontSizeAdjust	Preserves the readability of text when font fallback occurs
fontStretch	Selects a normal, condensed, or expanded face from a font family
hangingPunctuation	Specifies whether a punctuation character may be placed outside the line box
height	height of an element
hyphens	Sets how to split words to improve the layout of paragraphs
icon	Provides the author the ability to style an element with an iconic equivalent
imageOrientation	Specifies a rotation in the right or clockwise direction that a user agent applies to an image
isolation	Defines whether an element must create a new stacking content
justifyContent	alignment between the items inside a flexible container when the items do not use all available space.
left	left position of a positioned element
letterSpacing	space between characters in a text
lineHeight	distance between lines in a text
listStyle	listStyleImage, listStylePosition, and listStyleType in one declaration
listStyleImage	an image as the list-item marker
listStylePosition	position of the list-item marker
listStyleType	list-item marker type
margin	margins of an element (can have up to four values)
marginBottom	bottom margin of an element
marginLeft	left margin of an element
marginRight	right margin of an element
marginTop	top margin of an element
maxHeight	maximum height of an element
maxWidth	maximum width of an element
minHeight	minimum height of an element
minWidth	minimum width of an element
navDown	where to navigate when using the arrow-down navigation key
navIndex	tabbing order for an element
navLeft	where to navigate when using the arrow-left navigation key
navRight	where to navigate when using the arrow-right navigation key
navUp	where to navigate when using the arrow-up navigation key
objectFit	Specifies how the contents of a replaced element should be fitted to the box established by its used height and width
objectPosition	Specifies the alignment of the replaced element inside its box
opacity	opacity level for an element
order	order of the flexible item, relative to the rest
orphans	minimum number of lines for an element that must be left at the bottom of a page when a page break occurs inside an element
outline	all the outline properties in one declaration
outlineColor	color of the outline around a element
outlineOffset	Offsets an outline, and draws it beyond the border edge
outlineStyle	style of the outline around an element
outlineWidth	width of the outline around an element
overflow	what to do with content that renders outside the element box
overflowX	Specifies what to do with the left/right edges of the content, if it overflows the element's content area
overflowY	Specifies what to do with the top/bottom edges of the content, if it overflows the element's content area
padding	padding of an element (can have up to four values)
paddingBottom	bottom padding of an element
paddingLeft	left padding of an element
paddingRight	right padding of an element
paddingTop	top padding of an element
pageBreakAfter	page-break behavior after an element
pageBreakBefore	page-break behavior before an element
pageBreakInside	page-break behavior inside an element
perspective	perspective on how 3D elements are viewed
perspectiveOrigin	bottom position of 3D elements
position	type of positioning method used for an element (static, relative, absolute or fixed)
quotes	type of quotation marks for embedded quotations
resize	whether or not an element is resizable by the user
right	right position of a positioned element
tableLayout	way to lay out table cells, rows, and columns
tabSize	length of the tab-character
textAlign	horizontal alignment of text
textAlignLast	how the last line of a block or a line right before a forced line break is aligned when text-align is "justify"
textDecoration	decoration of a text
textDecorationColor	color of the text-decoration
textDecorationLine	type of line in a text-decoration
textDecorationStyle	style of the line in a text decoration
textIndent	indentation of the first line of text
textJustify	justification method used when text-align is "justify"
textOverflow	what should happen when text overflows the containing element
textShadow	shadow effect of a text
textTransform	capitalization of a text
top	top position of a positioned element
transform	Applies a 2D or 3D transformation to an element
transformOrigin	position of transformed elements
<a href="https://cssreference.io/property/transform-origin/" class="whitebut ">transform-origin</a>

transformStyle	how nested elements are rendered in 3D space
transition	A shorthand property for setting or returning the four transition properties
transitionProperty	CSS property that the transition effect is for
transitionDuration	how many seconds or milliseconds a transition effect takes to complete
transitionTimingFunction	speed curve of the transition effect
transitionDelay	when the transition effect will start
unicodeBidi	whether the text should be overridden to support multiple languages in the same document
userSelect	whether the text of an element can be selected or not
verticalAlign	vertical alignment of the content in an element
visibility	whether an element should be visible
whiteSpace	how to handle tabs, line breaks and whitespace in a text
width	width of an element
wordBreak	line breaking rules for non-CJK scripts
wordSpacing	spacing between words in a text
wordWrap	Allows long, unbreakable words to be broken and wrap to the next line
widows	minimum number of lines for an element that must be visible at the top of a page
zIndex	stack order of a positioned element

CSS 2D Transforms Methods
Example
div {
  transform: rotate(20deg); /* Standard syntax */
  transform: translate(50px, 100px);
  transform: scale(2, 3);
}

translate(), rotate(), scaleX(), scaleY(), scale(), skewX(), skewY(), skew(), matrix()

The matrix() method take six parameters, containing mathematic functions, which allows you to rotate, scale, move (translate), and skew elements.

The parameters are as follow: 
matrix(scaleX(),skewY(),skewX(),scaleY(),translateX(),translateY())

Example
  transform: matrix(1, -0.3, 0, 1, 0, 0);

matrix(n,n,n,n,n,n)	transformation, using a matrix of six values
translate(x,y)	translation, moving the element along the X- and the Y-axis
translateX(n)	translation, moving the element along the X-axis
translateY(n)	translation, moving the element along the Y-axis
scale(x,y)	scale transformation, changing the elements width and height
scaleX(n)	scale transformation, changing the element's width
scaleY(n)	scale transformation, changing the element's height
rotate(angle)	rotation, the angle is specified in the parameter
skew(x-angle,y-angle)	skew transformation along the X- and the Y-axis
skewX(angle)	skew transformation along the X-axis
skewY(angle)	skew transformation along the Y-axis

<h2>jQuery.getScript</h2>
The jQuery.getScript() method is a shorthand of the Ajax function
(with the dataType attribute: $.ajax({ url: url,dataType: "script"}))

This needs testing!
$.getScript("demo_script.js");

$.getScript("test.js", function(data, textStatus, jqxhr) {
console.log(data); //data returned
console.log(textStatus); //success
console.log(jqxhr.status); //200
console.log('Load was performed.');
});

<h2>document.getElementById vs jQuery $()</h2>
Not exactly!!

document.getElementById('contents'); //returns a HTML DOM Object

var contents = $('#contents');  //returns a jQuery Object

In jQuery, to get the same result as document.getElementById, you can access the jQuery Object and get the first element in the object 
(Remember JavaScript objects act similar to associative arrays).

var contents = $('#contents')[0]; //returns a HTML DOM Object
or this
var contents = $('#contents').get(0);

==============

Calling document.getElementById('id') will return a raw DOM object.

Calling $('#id') will return a jQuery object that wraps the DOM object and provides jQuery methods.

Thus, you can only call jQuery methods like css() or animate() on the $() call.

You can also write 
$(document.getElementById('id'))
which will return a jQuery object and is equivalent to 
$('#id').

You can get the underlying DOM object from a jQuery object by writing 
$('#id')[0].

<h2>math</h2>
Math.PI;            // returns 3.141592653589793
Math.round(4.7);    // returns 5
Math.round(4.4);    // returns 4
Math.pow(8, 2);      // returns 64
Math.sqrt(64);      // returns 8
Math.abs(-4.7);     // returns 4.7
Math.ceil(4.4);     // returns 5
Math.floor(4.7);    // returns 4
Math.sin(90 * Math.PI / 180);     // returns 1 (the sine of 90 degrees)
Math.cos(0 * Math.PI / 180);     // returns 1 (the cos of 0 degrees)
Math.min(0, 150, 30, 20, -8, -200);  // returns -200
Math.max(0, 150, 30, 20, -8, -200);  // returns 150
Math.random();     // returns a random number
Math.E        // returns Euler's number
Math.PI       // returns PI
Math.SQRT2    // returns the square root of 2
Math.SQRT1_2  // returns the square root of 1/2
Math.LN2      // returns the natural logarithm of 2
Math.LN10     // returns the natural logarithm of 10
Math.LOG2E    // returns base 2 logarithm of E
Math.LOG10E   // returns base 10 logarithm of E


<a href="https://mathjs.org/download.html" class="whitebut ">Math.js</a>
<a href="https://mathjs.org/examples/index.html" class="whitebut ">Examples</a>

Math.js is an extensive math library for JavaScript and Node.js. 
Work with different data types like numbers, big numbers, complex numbers, fractions, units, and matrices. Powerful and easy to use.

Example
// functions and constants
math.round(math.e, 3)            // 2.718
math.atan2(3, -3) / math.pi      // 0.75
math.log(10000, 10)              // 4
math.sqrt(-4)                    // 2i
math.derivative('x^2 + x', 'x')  // 2*x+1
math.pow([[-1, 2], [3, 1]], 2)
     // [[7, 0], [0, 7]]

// expressions
math.eval('1.2 * (2 + 4.5)')     // 7.8
math.eval('12.7 cm to inch')     // 5 inch
math.eval('sin(45 deg) ^ 2')     // 0.5
math.eval('9 / 3 + 2i')          // 3 + 2i
math.eval('det([-1, 2; 3, 1])')  // -7

// chaining
math.chain(3)
    .add(4)
    .multiply(2)
    .done() // 14

Demo
Try the expression parser below.
See Math Notepad for a full application.

1.2 / (3.3 + 1.7)
0.24
a = 5.08 cm + 2 inch
10.16 cm
a to inch
4 inch
sin(90 deg)
1
f(x, y) = x ^ y
f(x, y)
f(2, 3)
8

Evaluate
Shortcut keys:
Press S to set focus to the input field
Press Ctrl+F11 to toggle full screen
Enter "clear" to clear history

derivative(expr, variable)
derivative(expr, variable, options)
Parameters
Parameter	Type	Description
expr	Node | string	The expression to differentiate
variable	SymbolNode | string	The variable over which to differentiate
options	{simplify: boolean}	There is one option available, simplify, which is true by default. When false, output will not be simplified.
Returns#

Examples
math.derivative('x^2', 'x')                     // Node {2 * x}
math.derivative('x^2', 'x', {simplify: false})  // Node {2 * 1 * x ^ (2 - 1)
math.derivative('sin(2x)', 'x'))                // Node {2 * cos(2 * x)}
math.derivative('2*x', 'x').evaluate()          // number 2
math.derivative('x^2', 'x').evaluate({x: 4})    // number 8
const f = math.parse('x^2')
const x = math.parse('x')
math.derivative(f, x)                           // Node {2 * x}

<h2>javascript physics</h2>
<a href="https://brm.io/matter-js/" class="whitebut ">Matter.js is a 2D physics engine</a>
<a href="http://wellcaffeinated.net/PhysicsJS/" class="whitebut ">PhysicsJS easy-to-use physics engine for javascript</a>
<a href="https://developer.ibm.com/tutorials/wa-build2dphysicsengine/" class="whitebut ">Build a simple 2D physics engine</a>
<a href="http://piqnt.com/planck.js/" class="whitebut ">Planck.js 2D JavaScript physics engine</a>

<h2>javascript chemistry</h2>
<a href="http://partridgejiang.github.io/Kekule.js/" class="whitebut ">Kekule.js open source JavaScript library for chemoinformatics</a>

<H2>Generate Alert Box if user tries to change text in text input field</H2>

<XMP><FORM>
<INPUT TYPE="text" VALUE= "dont change" NAME = "leavebutton"
onChange= "alert('Please dont change this')">
</FORM></XMP>



<H2>Show the date and time when the page loads</H2>
In this example the event handler onLoad is embedded within the <BODY> tag. OnLoad activates
whenever a new page has finished downloading. This alert code tells the browser to create an alert
box containing the value of the variable "today". Thus, it automatically prints out the date and time
when the page has finished loading and requires no special action by the user.

<XMP><SCRIPT LANGUAGE = "Javascript">
var today= new Date()
</SCRIPT>
....
<BODY onload=alert(today)></XMP>


<H2>Animate the background color of a document</H2>
Notice that the script is not just a series of document.bgColor = commands. You could write that script but the colors would change so quickly that you would not see the animated effect. We need to introduce a delay between each background color change. Javascript offers a setTimeout() method that allows creation of delays as well as serving other functions. 

The setTimeout() method requires two elements to be enclosed in its parentheses. The first element is an expression to be evaluated or acted upon. The second element is the number of milliseconds (thousandths of a second) to be waited before the first action is undertaken.

setTimeout(expression to be evaluated, milliseconds)

<XMP><SCRIPT LANGUAGE= "javascript">

setTimeout("document.bgColor='white'", 1000)
setTimeout("document.bgColor='lightpink'", 1500)
setTimeout("document.bgColor = 'pink'", 2000)
setTimeout("document.bgColor =  'deeppink'", 2500)
setTimeout("document.bgColor = 'red'", 3000)
setTimeout("document.bgColor = 'tomato'", 3500)
setTimeout("document.bgColor = 'darkred'", 4000)
</SCRIPT></XMP>


<H2>User assignment of a property and dynamic generation of a Web page</H2>




In the example, which illustrates user assigned properties, a new property is defined for the document object called firstline. Anytime Javascript encounters the expression document.firstline it will produce the assigned text. The fact that I named it "firstline" carries no special meaning to Javascript; that is, it does not know that it is to be the first line in the document. Generally, it is a good idea to name the properties with a name related to your intended use.

 The rest of the example shows how the write() method can be used to generate text that appears on a web page.  Document.open() prepares for creating a page.  The second open() forces it to appear. 

<XMP><HTML>

<HEAD>
<SCRIPT LANGUAGE = "Javascript">
document.firstline = "Welcome to this page"
</SCRIPT>
<TITLE>load demo</TITLE>
</HEAD>

<BODY>
<SCRIPT>
document.open()
document.write(document.firstline)
document.open()
</SCRIPT>

</BODY></XMP>


<H2>Sample Script to Animate Text in Text Field</H2>
This script will set up a form that asks for user input. 
It will animate text in boxes that surround it to urge the user to provide the information. 
To accomplish this, we must first use standard HTML form tags to create the input fields for user typing. 
We must also create text fields that we will use to create the animation. 
For the sake of illustrating methods of using Javascript to refer to different forms that appear on a page, the examples presents the information in 3 forms. 
It could have also been combined into one form. 
It places the fields for user input in the middle form called f2 and the fields that will animated text placed into them into fields f1 on top and f3 on the bottom. 
Also it places the input elements in form f1 and f3 into tables in order to gain more control over their placement. 
f1,f2, and f3 are just arbitrary names given to the fields. 
In this example "Answer Soon" text appears and disappears, moving around the fields from left to right on the top and then from left to right on the bottom. 
All the code to establish fields and tables should be famiilar to readers with HTML experience. 
The new part is the code enclosed in the SCRIPT tags. 
The heart of these commands are expressions that assign values to particular fields. 
For example the code line document.f1.ta1.value = 'Answer Soon' tells the browser to find the document object (the Web page) and then the form that is a subelement of it called f1 (the first one on top) and then the subelement of that form called ta.1 (the first text entry field). 
Once that element is targeted, the script tells the browser to change the value property of that text field by assigning it the text "Answer Soon". 
The Value attribute in standard HTML markup is the text that a field contains (usually because a user has typed it there.). 
Javascript has extended this allow the script to type values. 
To the user the text appears as in an animation. 
After text appears the sample script makes it disappear by assinging the blank value "" to the same text field. 

<XMP><HTML>
<HEAD>
<TITLE> Animated Text</TITLE>
</HEAD>
<BODY >

<FORM NAME="f1">
<TABLE>
<TR> <TD> <INPUT NAME="ta1" TYPE="text" SIZE="20"> 
<TD> <INPUT NAME="ta2" TYPE="text" SIZE="20"> 
<TD> <INPUT NAME="ta3" TYPE="text" SIZE="20">
</TABLE></FORM>
<FORM NAME="f2" ACTION="http://netadd.com/nam.cgi" METHOD="POST">
<CENTER>
Name <INPUT NAME="pername" TYPE="text" SIZE="20"> Name
Age <INPUT NAME="perage" TYPE="text" SIZE="5"> Age
Occupation <INPUT NAME="perocc" TYPE="text" SIZE="20">Occupation 
<INPUT TYPE="Submit" VALUE="Submit">
<INPUT TYPE="Reset" VALUE="Reset">
</CENTER>
</FORM>


<FORM NAME="f3">
<TABLE>
<TR> <TD> <INPUT NAME="ta4" TYPE="text" SIZE="20"> 
<TD> <INPUT NAME="ta5" TYPE="text" SIZE="20"> 
<TD> <INPUT NAME="ta6" TYPE="text" SIZE="20">
</TABLE></FORM>

<SCRIPT LANGUAGE= "javascript">
setTimeout("document.f1.ta1.value = 'Answer Soon'", 1000)
setTimeout("document.f1.ta1.value = ''", 1300)
setTimeout("document.f1.ta2.value = 'Answer Soon'", 1600)
setTimeout("document.f1.ta2.value = ''", 1900)
setTimeout("document.f1.ta3.value = 'Answer Soon'", 2200)
setTimeout("document.f1.ta3.value = ''", 2500)
setTimeout("document.f3.ta4.value = 'Answer Soon'", 2800)
setTimeout("document.f3.ta4.value = ''", 3100)
setTimeout("document.f3.ta5.value = 'Answer Soon'", 3400)
setTimeout("document.f3.ta5.value = ''", 3700)
setTimeout("document.f3.ta6.value = 'Answer Soon'", 4000)
setTimeout("document.f3.ta6.value = ''", 4300)
</SCRIPT> </XMP>



<H2>Sample Script to Customize Links Based on User Button Choices</H2>


This sample script demonstrates how to create a script that lets a user chose a category of infomation after which it dynamically generates an html page containing links relevant to that interest. It uses a simple form with radio buttons to determine interest. Just to add interest it also asks the users to type their name. Once the users are done chosing, they click on the submit button and the script generates the html document using their name. For the sake of clarity this example is very short with only one choice requested. The same principles, however, could be applied to more sophisticated sets ofchoices.



There are three major parts to this Web page and script: A. Javascript script cotaining the database of links for each kind of music, the function to create a unique page based on their choice, and the function to create a new Netscape window to show the page. B. HTML code to create the informationrequest page cotaining an input form. C. Javascript code to set up default values. 

<XMP><HTML>
<HEAD><TITLE>Choice</TITLE>

<SCRIPT Language="javascript">

// sets up database of links - SECTION A1
muresources=""
muresources["classical"]= "<A HREF='http://net.com/classical.file1'>Meditative classical music<A>
 <A HREF='http://net.com/classical.file2'>Provoking classical music<A>"
muresources["rock"] = "<A HREF='http://net.com/rock.file1'>Popular rock music<A>
 <A HREF='http://net.com/rock.file2'>Exciting rock music<A>"
muresources["ethnic"] = "<A HREF='http://net.com/mexican.file1'>Mexican music<A>
 <A HREF='http://net.com/Indian.file2'>Indian music<A>"

function getLink() {
// constructs unique page using name and choice of music - SECTION A.2
temp = muresources[choice]
temp2 = "<TITLE>Custom Links</TITLE><H2>" +document.m.pername.value+", here are some links for you</H2><P>"+temp
}

function writeIt(){
// creates new window to display page - SECTION A.3
diswin = window.open();
diswin.document.open();
diswin.document.write(temp2);
diswin.document.close()
}

function doAll(){
// master routine calls other functions - SECTION A.4
getLink();
writeIt()
}
</SCRIPT>

</HEAD>
<BODY >

<!-- Sets up basic input form SECTION B -->
<H2> Choose the kind of music you prefer and this page will fetch links of interest to you</H2>



<FORM NAME="m" >
Choose a kind of music
<INPUT TYPE="radio" NAME="mus" VALUE="classical" OnClick="choice='classical'"
>Classical <BR>
<INPUT TYPE="radio" NAME="mus" VALUE="rock" OnClick="choice='rock'">Rock<BR>
<INPUT TYPE="radio" NAME="mus" VALUE="ethnic"
OnClick="choice='ethnic'">Ethnic<BR>

Please type your name
<INPUT TYPE="text" NAME="pername" SIZE=25>

<INPUT TYPE="button" NAME="sub" VALUE="Show me links" OnClick=doAll()>
<INPUT TYPE="reset" NAME="res" >
</FORM>

<SCRIPT>
// sets defaults - SECTION C
choice = "classical"
document.m.mus[0].checked = true
document.m.mus[1].checked = false
document.m.mus[2].checked = false
</SCRIPT>
</BODY>
</HTML></XMP>

<H2>Using string properties to set characteristics of text on a page</H2>
Several properties control the appearance of text on the page.  Note, however, that they cannot control the appearance of text after the page is rendered.  The document must be rewritten for the new characteristics to become visible. This example generates a series of lines, each with a different style,color, or size of text.

<XMP><SCRIPT>
//assigns value to variable
test ="What is all this?"

// opens document and uses methods to modify text characteristics
document.open()
document.write(test.bold()+"<P>")
document.write(test.fontsize(7)+"<P>")
document.write(test.fontcolor("red")+"<P>")
document.write(test.toUpperCase()+"<P>")

//assigns multiple characteristics to text
document.write(test.italics().fontsize(6).fontcolor("green")+"<P>")
document.open()
</SCRIPT></XMP>



<H2>Using Substrings to Generate Scrolling Banners</H2>

This example uses the subString method to create a scrolling banner in a text field and on the status line of the window. Scrolling text seems to slide from left to right. You can create this effect by systematically displaying a changing section of some target text. For example, if you display character 0 to 24 of some text and next display 1 to 25 and next 2 to 26, the text will appear to be moving from right to left. The sample illustrates a method for accomplishing this effect.

<XMP><HTML>
<HEAD><TITLE> Banner</TITLE>

<SCRIPT LANGUAGE= "javascript">
// Puts the text to scroll into variable called sent - SECTION A
// uses length propert to assess its length and put into variable slen
// initalizes a,b,n, and subsent variables
var sent = "This is a demonstration of a banner moving from the left to right. It makes use of the substring property of Javascript to make an interesting display"
var slen = sent.length
var siz = 25
var a = -3, b = 0
var subsent = "x"

// Creates a function to capture substrings of sent - SECTION B
function makeSub(a,b) {
subsent = sent.substring(a,b) ;
return subsent;
}

//Creates a function that increments the indexes of the substring - SECTION C 
//each time and calls the makeSub() function to geneate strings
//a indicates start of substring and siz indicates size of string required
function newMake() {
a = a + 3;
b = a + siz
makeSub(a,b);
return subsent
}

//function uses loop to get changing substrings of target - SECTION D
//repeatedly calls newMake to get next substring
//uses setTimeout() command to arrange for substrings to display 
// at specified times
function doIt() {
for (var i = 1; i <= slen ; i++) {
setTimeout("document.z.textdisplay.value = newMake()", i*300);
setTimeout("window.status = newMake()", i*300);
}
}

</SCRIPT> 
</HEAD>

<BODY >
 <CENTER>
<FORM NAME="z">
<INPUT NAME="textdisplay" TYPE="text" SIZE=25> 
<INPUT NAME="doit" Type="button" value = "Run Banner" onClick = "doIt()"> 
</FORM></CENTER>



</BODY></HTML></XMP>

<h2>load local file</h2>
It will be blocked by CORS, only work with servers, ie files only online

jQuery.get('http://localhost/foo.txt', function(data) {
    alert(data);
});

Additionally, there's the new Fetch API:

fetch("https://12Me21.github.io/test.txt")
.then( response => response.text() )
.then( text => console.log(text) )

fetch('http://localhost/foo.txt')
  .then(response => response.text())
  .then((data) => { console.log(data) }
)

If you only want a constant string from the text file, you could include it as JavaScript:

// This becomes the content of your foo.txt file
let text = `My test text goes here!`;
&lt;script src="foo.txt">&lt;/script>
&lt;script> console.log(text); &lt;/script>

When working with jQuery, instead of using jQuery.get, e.g.

jQuery.get("foo.txt", undefined, function(data) {
    alert(data);
}, "html").done(function() {
    alert("second success");
}).fail(function(jqXHR, textStatus) {
    alert(textStatus);
}).always(function() {
    alert("finished");
});

you could use .load which gives you a much more condensed form:

$("#myelement").load("foo.txt");

<h2>webpack compile JavaScript</h2>
<a href="https://webpack.js.org/plugins/uglifyjs-webpack-plugin/" class="whitebut ">uses uglify-js to minify JavaScript</a>
<a href="https://webpack.js.org/configuration/optimization/" class="whitebut ">webpack optimizations</a>
<a href="https://webpack.js.org/guides/getting-started/" class="whitebut ">webpack compile JavaScript modules</a>

<h2>good JavaScript libraries</h2>
1. Anime.js
2. Howler.js
3. Chart.js
4. Reveal.js
5. Three.js
6. Pixi.js
7. Video.js

<h2>format number with leading zeros</h2>
function pad(anum, size) {
    var stkcode = anum+"";
    while (stkcode.length < size) stkcode = "0" + stkcode;
    return stkcode;
}

function pad(num, size) {
    var stkcode = "000000000" + num;
    return stkcode.substr(stkcode.length-size);
}

stkcode = "00000"+stkcode
  codewidth = stkcode.length
  stkcode = stkcode.slice(codewidth-5, codewidth)

<h2>Get column from a two dimensional array</h2>
var twoDim = [[1,2,3],[4,5,6],[7,8,9]];

// take the third column
var col3 = twoDim.map(function(value,index) { return value[2]; });

<h2>filter() Method</h2>
creates an array with elements that pass a test
filter() does not change the original array.

array.filter(function(currentValue, index, arr), thisValue)

ages array that are 18 or over:
var ages = [32, 33, 16, 40];
function checkAdult(age) { return age >= 18;}
document.getElementById("demo").innerHTML = ages.filter(checkAdult);

ages array that are a specific number or over:
&lt;input type="number" id="ageToCheck" value="18">
function checkAdult(age) {
 return age >= document.getElementById("ageToCheck").value;
}

document.getElementById("demo").innerHTML = ages.filter(checkAdult);

<h2>Using Node-Osmosis with examples</h2>
There are a number of options for web scraping in node.js, but my favorite library to work with is <a href="https://github.com/rchipka/node-osmosis">node-osmosis</a>. 

To start, we'll do a simple single page scrape. 
We'll be working with <a href="https://en.wikipedia.org/wiki/List_of_U.S._states_and_territories_by_population">this page</a> on wikipedia, which contains population information for US States.

<h4>1) Simple Page Scrape</h4>

First, let's scrape some basic information from the page using basic selectors. 
<code>osmosis
  .get(url)
  .set({
    heading: 'h1',
    title: 'title'
  })
  .data(item =&gt; console.log(item));
</code>

<code>{ heading: 'List of U.S. states and territories by population',
  title: 'List of U.S. states and territories by population - Wikipedia' }
</code>

<h4>2) Scrape Using Find</h4>

Next, let's say we want to get a list of all the states along with their populations. 
We can see that this data is in the first table on the page. 
In order to do this, we'll introduce a new function 'find', which sets the current context using selectors. 
Once we tell osmosis to select the rows from the first table, we can pick out the state and population values and pull them into an object.

<code>osmosis
  .get(url)
  .find('.wikitable:first tr:gt(0)')
  .set({
    state: 'td[3]',
    population: 'td[4]'
  })
  .data(item =&gt; console.log(item));
</code>

<code>{ state: 'California', population: '39,250,017' }
{ state: 'Texas', population: '27,862,596' }
{ state: 'Florida', population: '20,612,439' }
{ state: 'New York', population: '19,745,289' }
{ state: 'Illinois', population: '12,801,539' }
{ state: 'Pennsylvania', population: '12,784,227' }
{ state: 'Ohio', population: '11,646,273' }
{ state: 'Georgia', population: '10,310,371' }
{ state: 'North Carolina', population: '10,146,788' }
{ state: 'Michigan', population: '9,928,301' }
...
</code>

<h4>3) Scrape Multiple Parts</h4>

We can also use multiple <strong>set</strong> calls to pull out different pieces of data.

<code>osmosis
  .get(url)
  .set({
    title: 'title'
  })
  .find('.wikitable:first tr:gt(0)')
  .set({
    state: 'td[3]',
    population: 'td[4]'
  })
  .data(item =&gt; console.log(item));
</code>

<code>{ title: 'List of U.S. states and territories by population - Wikipedia',
  state: 'California',
  population: '39,250,017' }
{ title: 'List of U.S. states and territories by population - Wikipedia',
  state: 'Texas',
  population: '27,862,596' }
{ title: 'List of U.S. states and territories by population - Wikipedia',
  state: 'Florida',
  population: '20,612,439' }
{ title: 'List of U.S. states and territories by population - Wikipedia',
  state: 'New York',
  population: '19,745,289' }
{ title: 'List of U.S. states and territories by population - Wikipedia',
  state: 'Illinois',
  population: '12,801,539' }
...
</code>

<h4>4) Following Links</h4>

Now, let's say we wanted some information from each state. 
Osmosis has a follow function that we can use to scrape each state page. 
Since the URL is inside the table that we're scraping, we can pass that URL to the follow function using the <strong>a@href</strong> selector inside the 3rd column (<strong>td[3]</strong>). 
After we follow each page, we can use set again to pull data from each state page. 
In this example, we'll just pull out the longitude and latitude. 
The end result combines the elements from each 'set' call.

<code>osmosis
  .get(url)
  .find('.wikitable:first tr:gt(0)')
  .set({
    state: 'td[3]',
    population: 'td[4]'
  })
  .follow('td[3] a@href')
  .set({
    longitude: '.longitude',
    latitude: '.latitude'
  })
  .data(item =&gt; console.log(item));
</code>

<code>{ 
    state: 'California', 
    population: '39,250,017', 
    longitude: '119Â°21'19&quot;W', 
    latitude: '35Â°27'31&quot;N' 
}
{ 
    state: 'Illinois', 
    population: '12,801,539', 
    longitude: '88Â°22'49&quot;W', 
    latitude: '41Â°16'42&quot;N' 
}
...
</code>

<h4>5) Promisification</h4>

In all the examples above, we're just printing out each object as it's handled by the data function. 
Often times we want to return all of the data at once in an array. 
To do that, we can wrap the call in a Promise and add each element to an array as it's processed.

<code>function scrapePopulations() {
  return new Promise((resolve, reject) =&gt; {
    let results = [];
    osmosis
    .get(url)
    .find('.wikitable:first tr:gt(0)')
    .set({
      state: 'td[3]',
      population: 'td[4]'
    })
    .data(item =&gt; results.push(item))
    .done(() =&gt; resolve(results));
  });
}

scrapePopulations().then(data =&gt; console.log(data));

// we can also get the same results more simply by wrapping the code with .set([])
osmosis
.get(url)
.set([
  osmosis
  .find('.wikitable:first tr:gt(0)')
  .set({
    state: 'td[3]',
    population: 'td[4]'
  })
])
.data(items =&gt; console.log(items))
</code>

<code>[{ state: 'California', population: '39,250,017' },
{ state: 'Texas', population: '27,862,596' },
{ state: 'Florida', population: '20,612,439' },
{ state: 'New York', population: '19,745,289' },
{ state: 'Illinois', population: '12,801,539' },
{ state: 'Pennsylvania', population: '12,784,227' },
{ state: 'Ohio', population: '11,646,273' },
{ state: 'Georgia', population: '10,310,371' },
{ state: 'North Carolina', population: '10,146,788' },
{ state: 'Michigan', population: '9,928,301' },
{ state: 'New Jersey', population: '8,944,469' },
{ state: 'Virginia', population: '8,411,808' },
{ state: 'Washington', population: '7,288,000' },
...
</code>

<h2>Understanding Promises</h2>
A Promise in short: 
"Imagine you are a <strong>kid</strong>. 
Your mom <strong>promises</strong> you that she'll get you a <strong>new phone</strong> next week."

You <em>don't know</em> if you will get that phone until next week. 
Your mom can either <em>really buy</em> you a brand new phone, or <em>she doesn't</em>, because she is not happy :(.

That is a <strong>promise</strong>. 
A promise has 3 states. 
They are:
Pending: You <em>don't know</em> if you will get that phone
Fulfilled: Mom is <em>happy</em>, she buys you a brand new phone
Rejected: Mom is <em>unhappy</em>, she doesn't buy you a phone
<h3>Creating a Promise</h3>

Let's convert this to JavaScript.

<code>// ES5: Part 1

var isMomHappy = false;

// Promise
var willIGetNewPhone = new Promise(
    function (resolve, reject) {
        if (isMomHappy) {
            var phone = {
                brand: 'Samsung',
                color: 'black'
            };
            resolve(phone); // fulfilled
        } else {
            var reason = new Error('mom is not happy');
            reject(reason); // reject
        }

    }
);</code>

The code is quite expressive in itself.

Below is how a promise syntax look like normally:

<code>// promise syntax look like this
new Promise(function (resolve, reject) { ... } );</code>

<h3>Consuming Promises</h3>

Now that we have the promise, let's consume it.

<code>// ES5: Part 2

var willIGetNewPhone = ... // continue from part 1

// call our promise
var askMom = function () {
    willIGetNewPhone
        .then(function (fulfilled) {
            // yay, you got a new phone
            console.log(fulfilled);
             // output: { brand: 'Samsung', color: 'black' }
        })
        .catch(function (error) {
            // oops, mom don't buy it
            console.log(error.message);
             // output: 'mom is not happy'
        });
};

askMom();</code>

Let's run the example and see the result!

Demo: <a href="https://jsbin.com/nifocu/1/edit?js,console">https://jsbin.com/nifocu/1/edit?js,console</a>

<img class="lazy" data-src="https://scotch-res.cloudinary.com/image/upload/w_auto,q_auto:good,f_auto/media/272/nB0ffh3NQHaHKJRuBNpH_promise-true-false.gif">

<h3>Chaining Promises</h3>

Promises are chainable. 

Let's say, you, the kid, <strong>promises</strong> your friend that you will <strong>show them</strong> the new phone when your mom buy you one.

That is another promise. 
Let's write it!

<code>// ES5

// 2nd promise
var showOff = function (phone) {
    return new Promise(
        function (resolve, reject) {
            var message = 'Hey friend, I have a new ' +
                phone.color + ' ' + phone.brand + ' phone';

            resolve(message);
        }
    );
};</code>

Notes: We can shorthen the above code by written as below:

<code>// shorten it

// 2nd promise
var showOff = function (phone) {
    var message = 'Hey friend, I have a new ' +
                phone.color + ' ' + phone.brand + ' phone';

    return Promise.resolve(message);
};</code>

Let's chain the promises. 
You, the kid can only start the <code>showOff</code> promise after the <code>willIGetNewPhone</code> promise.

<code>// call our promise
var askMom = function () {
    willIGetNewPhone
    .then(showOff) // chain it here
    .then(function (fulfilled) {
            console.log(fulfilled);
         // output: 'Hey friend, I have a new black Samsung phone.'
        })
        .catch(function (error) {
            // oops, mom don't buy it
            console.log(error.message);
         // output: 'mom is not happy'
        });
};</code>

That's how easy to chain the promise.

<h3>Promises are Asynchronous</h3>

Promises are asynchronous. 
Let's log a message before and after we call the promise.

<code>// call our promise
var askMom = function () {
    console.log('before asking Mom'); // log before
    willIGetNewPhone
        .then(showOff)
        .then(function (fulfilled) {
            console.log(fulfilled);
        })
        .catch(function (error) {
            console.log(error.message);
        });
    console.log('after asking mom'); // log after
}</code>

What is the sequence of expected output? Probably you expect: 

<code>1. 
before asking Mom
2. 
Hey friend, I have a new black Samsung phone.
3. 
after asking mom</code>

However, the actual output sequence is: 

<code>1. 
before asking Mom
2. 
after asking mom
3. 
Hey friend, I have a new black Samsung phone.</code>

Don't believe me? Go try it yourself: <a href="https://jsbin.com/vepateq/edit?js,console">https://jsbin.com/vepateq/edit?js,console</a> !

<img class="lazy" data-src="https://scotch-res.cloudinary.com/image/upload/w_auto,q_auto:good,f_auto/media/272/X8Q1iZGeSqAEjksPdbQQ_bZ3MNiH8g1.gif">

<h4>Why? Because life (or JS) waits for no man.</h4>

You, the kid, wouldn't stop playing while waiting for your mom promise (the new phone). 
Don't you? That's something we call <strong>asynchronous</strong>, the code will run without blocking or waiting for the result. 
Anything that need to wait for promise to proceed, you put that in <code>.then</code>.

Here is the full example in ES5.

<code>// ES5: Full example

var isMomHappy = true;

// Promise
var willIGetNewPhone = new Promise(
    function (resolve, reject) {
        if (isMomHappy) {
            var phone = {
                brand: 'Samsung',
                color: 'black'
            };
            resolve(phone); // fulfilled
        } else {
            var reason = new Error('mom is not happy');
            reject(reason); // reject
        }

    }
);

// 2nd promise
var showOff = function (phone) {
    var message = 'Hey friend, I have a new ' +
                phone.color + ' ' + phone.brand + ' phone';

    return Promise.resolve(message);
};

// call our promise
var askMom = function () {
    willIGetNewPhone
    .then(showOff) // chain it here
    .then(function (fulfilled) {
            console.log(fulfilled);
            // output: 'Hey friend, I have a new black Samsung phone.'
        })
        .catch(function (error) {
            // oops, mom don't buy it
            console.log(error.message);
            // output: 'mom is not happy'
        });
};

askMom();</code>

<h3>Promises in ES5, ES6/2015, ES7/Next</h3>

<h4>ES5 - Majority browsers</h4>

The demo code is workable in ES5 environments (all major browsers + NodeJs) if you include <a href="http://bluebirdjs.com/docs/getting-started.html">Bluebird</a> promise library. 
It's because ES5 doesn't support promises out of the box. 
Another famous promise library is <a href="https://github.com/kriskowal/q">Q</a> by Kris Kowal.

<h4>ES6 / ES2015 - Modern browsers, NodeJs v6</h4>

The demo code works out of the box because ES6 supports promises natively. 
In addition, with ES6 functions, we can further simplify the code with <strong>fat arrow =</strong>&gt; and use <code>const</code> and <code>let</code>.

Here is the full example in ES6 code:

<code>//_ ES6: Full example_

const isMomHappy = true;

// Promise
const willIGetNewPhone = new Promise(
    (resolve, reject) =&gt; { // fat arrow
        if (isMomHappy) {
            const phone = {
                brand: 'Samsung',
                color: 'black'
            };
            resolve(phone);
        } else {
            const reason = new Error('mom is not happy');
            reject(reason);
        }

    }
);

// 2nd promise
const showOff = function (phone) {
    const message = 'Hey friend, I have a new ' +
                phone.color + ' ' + phone.brand + ' phone';
    return Promise.resolve(message);
};

// call our promise
const askMom = function () {
    willIGetNewPhone
        .then(showOff)
        .then(fulfilled =&gt; console.log(fulfilled)) // fat arrow
        .catch(error =&gt; console.log(error.message)); // fat arrow
};

askMom();</code>

Notes that all the <code>var</code> are replaced with <code>const</code>. 
All the <code>function(resolve, reject)</code> has been simplified to <code>(resolve, reject) =&gt;</code>. 
There are a few benefits come with these changes. 
Read more on:-

<h4>ES7 - Async Await make the syntax look prettier</h4>

ES7 introduce <code>async</code> and <code>await</code> syntax. 
It makes the asynchronous syntax look prettier and easier to understand, without the <code>.then</code> and <code>.catch</code>.

Rewrite our example with ES7 syntax.

<code>// ES7: Full example
const isMomHappy = true;

// Promise
const willIGetNewPhone = new Promise(
    (resolve, reject) =&gt; {
        if (isMomHappy) {
            const phone = {
                brand: 'Samsung',
                color: 'black'
            };
            resolve(phone);
        } else {
            const reason = new Error('mom is not happy');
            reject(reason);
        }

    }
);

// 2nd promise
async function showOff(phone) {
    return new Promise(
        (resolve, reject) =&gt; {
            var message = 'Hey friend, I have a new ' +
                phone.color + ' ' + phone.brand + ' phone';

            resolve(message);
        }
    );
};

// call our promise in ES7 async await style
async function askMom() {
    try {
        console.log('before asking Mom');

        let phone = await willIGetNewPhone;
        let message = await showOff(phone);

        console.log(message);
        console.log('after asking mom');
    }
    catch (error) {
        console.log(error.message);
    }
}

// async await it here too
(async () =&gt; {
    await askMom();
})();</code>

<h3>Why Promises and When to Use Them?</h3>

Why do we need promises? How's the world look like before promise? Before answering these questions, let's go back to the fundamental. 

<h3>Normal Function vs Async Function</h3>

Let's take a look at these two example, both example perform addition of two number, one add using normal function, the other add remotely.

<h4>Normal Function to Add Two Numbers</h4>
<code>// add two numbers normally

function add (num1, num2) {
    return num1 + num2;
}

const result = add(1, 2); // you get result = 3 immediately</code>

<h5>Async Function to Add Two numbers</h5>
<code>// add two numbers remotely

// get the result by calling an API
const result = getAddResultFromServer('http://www.example.com?num1=1&amp;num2=2');
// you get result  = "undefined"</code>

If you add the numbers with normal function, you get the result immediately. 
However when you issue a remote call to get result, you need to wait, you can't get the result immediately. 

Or put it this way, you don't know if you will get the result because the server might be down, slow in response, etc. 
You don't want your entire process to be blocked while waiting for the result.

Calling APIs, downloading files, reading files are among some of the usual async operations that you'll perform.

<h4>World Before Promises: Callback</h4>

Must we use promise for asynchronous call? Nope. 
Prior to Promise, we use callback. 
Callback is just a function you call when you get the return result. 
Let's modify the previous example to accept a callback.

<code>// add two numbers remotely
// get the result by calling an API

function addAsync (num1, num2, callback) {
    // use the famous jQuery getJSON callback API
    return $.getJSON('http://www.example.com', {
        num1: num1,
        num2: num2
    }, callback);
}

addAsync(1, 2, success =&gt; {
    // callback
    const result = success; // you get result = 3 here
});</code>

The syntax looks ok, why do we need promises then?

<h3>What if You Want to Perform Subsequent Async Action?</h3>

Let's say, instead of just add the numbers one time, we want to add 3 times. 
In a normal function, we do this:-

<code>// add two numbers normally

let resultA, resultB, resultC;

 function add (num1, num2) {
    return num1 + num2;
}

resultA = add(1, 2); // you get resultA = 3 immediately
resultB = add(resultA, 3); // you get resultB = 6 immediately
resultC = add(resultB, 4); // you get resultC = 10 immediately

console.log('total' + resultC);
console.log(resultA, resultB, resultC);</code>

How it looks like with callbacks?

<code>// add two numbers remotely
// get the result by calling an API

let resultA, resultB, resultC;

function addAsync (num1, num2, callback) {
    // use the famous jQuery getJSON callback API
    // https://api.jquery.com/jQuery.getJSON/
    return $.getJSON('http://www.example.com', {
        num1: num1,
        num2: num2
    }, callback);
}

addAsync(1, 2, success =&gt; {
    // callback 1
    resultA = success; // you get result = 3 here

    addAsync(resultA, 3, success =&gt; {
        // callback 2
        resultB = success; // you get result = 6 here

        addAsync(resultB, 4, success =&gt; {
            // callback 3
            resultC = success; // you get result = 10 here

            console.log('total' + resultC);
            console.log(resultA, resultB, resultC);
        });
    });
});</code>

Demo: <a href="https://jsbin.com/barimo/edit?html,js,console">https://jsbin.com/barimo/edit?html,js,console</a> 

The syntax is less user friendly. 
In a nicer term, It looks like a pyramid, but people usually refer this as "callback hell", because the callback nested into another callback. 
Imagine you have 10 callbacks, your code will nested 10 times!

<h3>Escape From Callback Hell</h3>

Promises come in to rescue. 
Let's look at the promise version of the same example.

<code>// add two numbers remotely using observable

let resultA, resultB, resultC;

function addAsync(num1, num2) {
    // use ES6 fetch API, which return a promise
    // What is .json()? https://developer.mozilla.org/en-US/docs/Web/API/Body/json
    return fetch(`http://www.example.com?num1=${num1}&amp;num2=${num2}`)
        .then(x =&gt; x.json()); 
}

addAsync(1, 2)
    .then(success =&gt; {
        resultA = success;
        return resultA;
    })
    .then(success =&gt; addAsync(success, 3))
    .then(success =&gt; {
        resultB = success;
        return resultB;
    })
    .then(success =&gt; addAsync(success, 4))
    .then(success =&gt; {
        resultC = success;
        return resultC;
    })
    .then(success =&gt; {
        console.log('total: ' + success)
        console.log(resultA, resultB, resultC)
    });</code>

 Demo: <a href="https://jsbin.com/qafane/edit?js,console">https://jsbin.com/qafane/edit?js,console</a>

With promises, we flatten the callback with <code>.then</code>. 
In a way, it looks cleaner because of no callback nesting. 
Of course, with ES7 <code>async</code> syntax, we can even further enhance this example, but I leave that to you. 
:)

<h3>New Kid On the Block: Observables</h3>

Before you settle down with promises, there is something that has come about to make it even easier to deal with async data called <code>Observables</code>.

<blockquote>

Observables are lazy event streams which can emit zero or more events, and may or may not finish.<a href="https://cycle.js.org/streams.html">source</a>

</blockquote>

Some key differences between promises and observable are:

Fear not, let look at the same demo written with Observables. 
In this example, I am using <a href="http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html">RxJS</a> for the observables. 

<code>let Observable = Rx.Observable;
let resultA, resultB, resultC;

function addAsync(num1, num2) {
    // use ES6 fetch API, which return a promise
    const promise = fetch(`http://www.example.com?num1=${num1}&amp;num2=${num2}`)
        .then(x =&gt; x.json());

    return Observable.fromPromise(promise);
}

addAsync(1,2)
  .do(x =&gt; resultA = x)
  .flatMap(x =&gt; addAsync(x, 3))
  .do(x =&gt; resultB = x)
  .flatMap(x =&gt; addAsync(x, 4))
  .do(x =&gt; resultC = x)
  .subscribe(x =&gt; {
    console.log('total: ' + x)
    console.log(resultA, resultB, resultC)
  });</code>

Demo: <a href="https://jsbin.com/dosaviwalu/edit?js,console">https://jsbin.com/dosaviwalu/edit?js,console</a>

Notes:

Observables can do more funky stuff easily. 
For example, <code>delay</code> add function by <code>3 seconds</code> with just one line of code or retry so you can retry a call a certain number of times.

<code>...

addAsync(1,2)
  .delay(3000) // delay 3 seconds
  .do(x =&gt; resultA = x)
  ...</code>

Well, let's talk about Observables in future post. 
(You may read one of my RxJs post <a href="https://scotch.io/tutorials/rxjs-operators-for-dummies-forkjoin-zip-combinelatest-withlatestfrom">here</a> too!)

<h3>Summary</h3>
Get yourself familiar with callbacks and promises. 
Understand them and use them. 
Don't worry about Observables, just yet. 
All three can factor into your development depending on the situation.

<h2>Creating a div element</h2>
$('#parent').append('&lt;div>hello&lt;/div>');    
// or
$('&lt;div>hello&lt;/div>').appendTo('#parent');

d = document.createElement('div');
$(d).addClass(classname)
    .html(text)
    .appendTo($("#myDiv")) //main div
    .click(function () { $(this).remove();})
    .hide()
    .slideToggle(300)
    .delay(2500)
    .slideToggle(300)
    .queue(function () { $(this).remove();});

$(document.createElement("div"))

div = $("&lt;div>").html("Loading......");
$("body").prepend(div);    

var customDiv = $("&lt;div/>");

<h2>Spread Operator</h2>
https://stackabuse.com/spread-operator-in-javascript/

<h3>Usages of the Spread Operator</h3>
There are different usages of the spread operator and each usage target to solve a different problem statement.

<h4>Expanding Arrays</h4>
We can use the spread operator on iterables like a String or an array and it'll put the contents of the iterable into individual elements.

For an example:
let greet = ['Hello', 'World'];
console.log(greet); // Without spread operator
console.log(...greet); // Using spread operator

If we run this code we'll see the following:

['Hello', 'World']
Hello World

You must have noticed that in the second case (with spread operator), the contents of the greet list were expanded and thrown out of the array.

Sometimes, we may feel the need to convert a String into a list of characters. 
We can use spread operator for this use-case:

let greetings = "hello";
let chars = [...greetings];
console.log(chars);

If we run this code, we'll be greeted with:

[ 'h', 'e', 'l', 'l', 'o' ]

These examples might not convince you of the usefulness this operator offers. 
In that name, let's take some real-world problems that can be solved with the spread operators.

<h4>Combining Arrays</h4>
Let us take advantage of the fact that we can now expand an array using the spread operator. 
Let's say we have subscriber lists from two different sources and we want to combine both these sources and make a single subscribers list:

let blog1Subscribers = ['billy@example.com', 'sally@gmail.com'];
let blog2Subscribers = ['timmy@gmail.com', 'tammy@example.com', 'tommy@gmail.com'];
let subscribers = [...blog1Subscribers, ...blog2Subscribers];
console.log(subscribers);

If we run the above code, we'll get a single list of iterables. 
This was made possible as both ...blog1Subscribers and ...blog2Subscribers were spread out and the [] acted as the "receiver", which effectively combined the spread items into a single list of items.

Note: The spread operator needs the receiver to put the expanded value into. 
If you omit the receiver, it'll throw an error.

We can also use the spread operator inside the Array.push() method to push the contents of one array into another:

let arr1 = ['John', 'Sofia', 'Bob'];
let arr2 = ['Julia', 'Sean', 'Anthony'];
arr2.push(...arr2);
console.log(arr2);

If we run this code, we'll see the following output:

[ 'Julia', 'Sean', 'Anthony', 'John', 'Sofia', 'Bob' ]

<h4>Copying Arrays and Objects</h4>
In JavaScript every non-primitive entity is an Object, which means that arrays are also objects. 
You may know that objects are copied as a reference-type:

let arr1 = ['John', 'Sofia', 'Bob'];
let arr2 = arr1;
console.log(arr2);
arr1.push('Sally'); // Change arr1
console.log(arr1);

[ 'John', 'Sofia', 'Bob' ]
[ 'John', 'Sofia', 'Bob', 'Sally' ]

As expected, the values of the items in the array weren't copied, only the reference to them. 
We can solve this problem easily with the spread operator:

let arr1 = ['John', 'Sofia', 'Bob'];
let arr2 = [...arr1];
console.log(arr2);
arr1.push('Sally'); // Change arr1
console.log(arr1);

Running this code produces the following:

[ 'John', 'Sofia', 'Bob' ]
[ 'John', 'Sofia', 'Bob' ]

As we can see, the arr2 wasn't passed a reference like before, but rather it was populated with the <em>values</em> of arr1 as a whole new object. 
So even when arr1 changes, arr2 remains the same.

We can also use the spread operator to create a copy of an array and add new elements into it at the same time:

let arr1 = ['John', 'Sofia', 'Bob'];
let arr2 = [...arr1, 'Anthony', 'Sean'];
console.log(arr2);

['John', 'Sofia', 'Bob', 'Anthony', 'Sean']

Note: The spread operator works with all iterables, including Objects.

Previously this would have taken an extra line of code to add the new items to the new array.

Similarly we can copy objects by using the spread operator:

let o1 = { a: 1, b: 2 };
let o2 = { c: 3, d: 4, ...o1 };
console.log(o2);

{ c: 3, d: 4, a: 1, b: 2 }

As we can see we successfully copied the object o1 into o2.

This feature has many real-world use-cases. 
For example, let us say we stored user registration information into an object. 
We can make a shallow copy of that object and add some more information into the copied object:

let user = { name: 'John', email: 'john@example.com' };
let _user = { ...user, ...getSession(user) };
console.log(_user);
{ name: 'John', email: 'john@example.com', 'token': 'abc123', 'expiresAt': 1565630480671 }

We may also need to <em>merge</em> billing and shipping information into one:

const billing = { billingContact: '0987654321', billingAddress: 'street no 123, xyz city' };
const shipping = { shippingContact: '123456789', shippingAddress: 'street no 999, abc city' };
const custInfo = { ...billing, ...shipping };
console.log(custInfo);

If we run this code, we should be greeted with:

{
  billingContact: '0987654321',
  billingAddress: 'street no 123, xyz city',
  shippingContact: '123456789',
  shippingAddress: 'street no 999, abc city'
}

One question could be raised here. 
What if both objects have some of the same properties.

In case of clashing properties, the property of the last object wins. 
Let us see this in an example:

const o1 = { a: 1, b: 2 };
const o2 = { b: 3, c: 4, ...o1};
console.log(o2);

If you run this code, you should see the following:

{ b: 2, c: 4, a: 1 }

As we can see the properties of the second object o2 wins. 
However, if we put the spread operator first:

const o1 = { a: 1, b: 2 };
const o2 = { ...o1, b: 3, c: 4};
console.log(o2);

{ a: 1, b: 3, c: 4 }

We can see that the property from o1 wins, which makes sense since o2 is the last object.

One use case of this feature could be to make default assignments:

const userProvided = {
    name: 'Bil Smith',
    email: 'bil@example.com',
};
const defaultValues = {
    name: 'Unknown',
    address: 'Alien',
    phone: null,
    email: null
};
const userInfo = { ...defaultValues, ...userProvided };

<h4>Alternative to Calling Functions with apply()</h4>
Let us say a function takes an argument - a list of marks of top 5 students in a class. 
We also have a list coming from an external source. 
Surely, we can avoid passing individual items and instead pass the entire list by using the apply() method:

myFun(m1, m2, m3, m4, m5) {
    // Do something
}

let marks = [10, 23, 83, -1, 92];
myFun.apply(undefined, arr);

We can get rid of the confusing undefined argument and make the code cleaner by calling the function directly with the spread operator:

myFun(m1, m2, m3, m4, m5) {
    // Do something
}

let marks = [10, 23, 83, -1, 92];
myFun(...marks);

<h4>Using with Math Functions</h4>
JavaScript has a Math object which contains several methods to operate with a set of data, i.e. a list of data.

Let us say we want to get the maximum value from first three numbers of a list:
let mylist = [10, 23, 83, -1, 92, -33, 76, 29, 76, 100, 644, -633];
Math.max(mylist[0], mylist[1], mylist[2]);

What if we want to get the maximum of all numbers in a list? What if the list has n number of items? Surely we wont want mylist[0], mylist[1]... mylist[1000].

The spread operator provides a cleaner solution:

let mylist = [10, 23, 83, -1, 92, -33, 76, 29, 76, 100, 644, -633];
Math.max(...mylist);

Note: Given that the spread operator works with both Arrays and Objects, you may sometimes be tempted to mix and match them. 
Don't do that! For example, the following action will result in an error:

let user = {name:'John', age:28, email:'john@example.com'};
let items = [...user];
TypeError: user is not iterable

<h3>Spread Operator vs Rest Parameter</h3>
Both the <em>Spread Operator</em> and <em>Rest Parameter</em> share the same syntax i.e. 
the three magical dots .... 
But they behave exactly opposite to each other. 
As a beginner, sometimes this may be confusing. 
The bottom-line to understand the behavior is to understand the context in which it is being used.

As we learned, the spread operator expands the contents of an iterable. 
In contrast, the rest operator collects all the remaining elements into an array.

function doSum(...items) {
    let sum = 0;
    for (let item of items){
        sum += item;
    }
    return sum;
}

doSum(1);
doSum(1,2);
doSum(1, 2, 3, 4);

If we run the above code, we'll be greeted with the following:

1
3
6
10

As we can see, everytime the remaining elements were collected by the <em>Rest Parameter</em>.

We can also provide distinct variables for some of the elements and make the rest parameter collect the rest of the items. 
The only condition is that the rest parameter should always be the last parameter of the function:

function doSum(times, ...items) {
    let sum = 0;
    for (let item of items){
        sum += item*times;
    }
    return sum;
}

doSum(1, 1);
doSum(2, 1, 2);
doSum(3, 1, 2, 3);

If we run the above code, we'll see the following:

1
6
18

<h3>Conclusion</h3>
As we can see the spread operator ... 
is a really powerful feature of the ES6 specification of JavaScript. 
We can solve plenty of the real-world problems easily by using this operator. 
As we learned from the various examples discussed in this article, it lets us write less code and do more.

In this article, we covered the common usages of the <em>Spread Operator</em>. 
We also discussed the similar-looking, but different, <em>Rest Parameter</em>. 
Please be aware that there could be dozens of other use-cases depending on the problem.

<h2>Dynamically load a JavaScript file</h2>

write dynamic script tags:

new Element("script", {src: "myBigCodeLibrary.js", type: "text/javascript"});

The problem here is that we do not know when the external script file is fully loaded.

We often want our dependant code on the very next line and like to write something like:

if (iNeedSomeMore) {
    Script.load("myBigCodeLibrary.js"); // includes code for myFancyMethod();
    myFancyMethod(); // cool, no need for callbacks!
}

There is a smart way to inject script dependencies without the need of callbacks. 

Simply pull the script via a synchronous AJAX request and eval the script on global level.

If you use Prototype the Script.load method looks like this:
var Script = {
    _loadedScripts: [],
    include: function(script) {
        // include script only once
        if (this._loadedScripts.include(script)) {
            return false;
        }
        // request file synchronous
        var code = new Ajax.Request(script, {
            asynchronous: false,
            method: "GET",
            evalJS: false,
            evalJSON: false
        }).transport.responseText;
        // eval code on global level
        if (Prototype.Browser.IE) {
            window.execScript(code);
        } else if (Prototype.Browser.WebKit) {
            $$("head").first().insert(Object.extend(
                new Element("script", {
                    type: "text/javascript"
                }), {
                    text: code
                }
            ));
        } else {
            window.eval(code);
        }
        // remember included script
        this._loadedScripts.push(script);
    }
};

There is no import / include / require in javascript, but there are two main ways to achieve what you want:

1 - You can load it with an AJAX call then use eval.
This is the most straightforward way but it's limited to your domain because of the Javascript safety settings, and using eval is opening the door to bugs and hacks.

2 - Add a script tag with the script URL in the HTML.
Definitely the best way to go. 
You can load the script even from a foreign server, and it's clean as you use the browser parser to evaluate the code. 
You can put the tag in the head of the web page, or at the bottom of the body.

Now, there is a big issue you must know about. 
Doing that implies that you remotely load the code. 
Modern web browsers will load the file and keep executing your current script because they load everything asynchronously to improve performances.

It means that if you use these tricks directly, you won't be able to use your newly loaded code the next line after you asked it to be loaded, because it will be still loading.

I used a much less complicated version recently with jQuery:

&lt;script src="scripts/jquery.js">&lt;/script>
&lt;script>
  var js = ["scripts/jquery.dimensions.js", "scripts/shadedborder.js", "scripts/jqmodal.js", "scripts/main.js"];
  var $head = $("head");
  for (var i = 0; i &lt; js.length; i++) {
    $head.append("&lt;script src=\"" + js[i] + "\">&lt;/scr" + "ipt>");
  }
&lt;/script>

Update: jQuery-less version:

&lt;script>
  var js = ["scripts/jquery.dimensions.js", "scripts/shadedborder.js", "scripts/jqmodal.js", "scripts/main.js"];
  for (var i = 0, l = js.length; i &lt; l; i++) {
    document.getElementsByTagName("head")[0].innerHTML += ("&lt;script src=\"" + js[i] + "\">&lt;/scr" + "ipt>");
  }
&lt;/script>

another awesome answer
$.getScript("my_lovely_script.js", function(){
   alert("Script loaded and executed.");
  // here you can use anything you defined in the loaded script
 });

<h2>dateAndTime function</h2>
&lt;span id="dateAndTime" onclick="showDateAndTime()">&lt;script>showDateAndTime();&lt;/script>&lt;/span>

&lt;h2>some weixin scripts&lt;/h2>
window.logs = { pagetime: {} };
window.logs.pagetime['html_begin'] = (+new Date());
window.LANG= "en"; 
window.isOldVideoPage = false; 

var e=t.match(/http(?:s)?:\/\/([^\/]+?)(\/|$)/);
if(e&&!/qq\.com(\:8080)?$/.test(e[1])&&!/weishi\.com$/.test(e[1]))return!0;

ishttp=0==location.href.indexOf("http://");

String.prototype.html = function(encode) {
  var replace =["&#39;", "'", "&quot;", '"', "&nbsp;", " ", "&gt;", ">", "&lt;", "&lt;", "&yen;", "¥", "&amp;", "&"];

var replaceReverse = ["&", "&amp;", "¥", "&yen;", "&lt;", "&lt;", ">", "&gt;", " ", "&nbsp;", '"', "&quot;", "'", "&#39;"];

    window.addEventListener('beforeunload', reportResLoadTime, false);
    window.addEventListener('unload', reportResLoadTime, false);

<h2>set unique</h2>
var visitedList = [4,5,4,6,3,4,5,2,23,1,4,4,4]
var visitedList = Array.from(new Set(visitedList))

Sets are object type creating collections of unique values
a few methods like add, size, has, forEach, delete and clear are available 


<h2>Find difference between two arrays</h2>
remove another set
var first = [ 1, 2, 3, 4, 5 ];
var second = [ 4, 5, 6 ];

var difference = first.filter(x => !second.<b>includes</b>(x));


var b = new Set(second);
var difference = [...first].filter(x => !b.<b>has</b>(x));

<h2>create an array containing 1…N</h2>
In ES6 using Array from() and keys() methods.
Array.from(Array(10).<b>keys</b>()) // [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

Shorter version using spread operator.
[...Array(10).keys()]

<h3>Array from() Method</h3>
Array.from(object, mapFunction, thisValue)
The arr.from() method is used to creates a new array instance from a given array.
In the case of a string, every alphabet of the string is converted to an element of the new array instance and in case of integer values, a new array instance simply takes the elements of the given array.

var myArr = Array.from("ABCDEFG"); // Create an Array from a String:
// A,B,C,D,E,F,G

Array.from([1, 2, 3])
// 2,4,6

<h3>Array includes() Method</h3>
array.includes(element, start)

Check if an array includes "Mango":
var fruits = ["Banana", "Orange", "Apple", "Mango"];
var n = fruits.includes("Mango");
// true


<h2>Removing specific item from array</h2>
let value = 3
let arr = [1, 2, 3, 4, 5, 3]
arr = arr.filter(item => item !== value)

notvisitedList = notvisitedList.filter(item => item !== topicpointer);
notvisitedList[Math.floor(Math.random() * notvisitedList.length)];

Removing multiple items
An additional advantage of this method is that you can remove multiple items
let forDeletion = [2, 3, 5]
let arr = [1, 2, 3, 4, 5, 3]

arr = arr.filter(item => !forDeletion.includes(item))

<h2>Sets</h2>
Sets are object creating collections of unique values. The values in a set can be either simple primitives like strings or integers as well as more complex object types like object literals or arrays.

Here’s a simple example showing off a basic set and a few of the available methods on it like <em>add</em>, <em>size</em>, <em>has</em>, <em>forEach</em>, <em>delete</em> and <em>clear</em>:

<code>let animals = new Set();
animals.add('🐷');
animals.add('🐼');
animals.add('🐢');
animals.add('🐿');
console.log(animals.size); // 4
animals.add('🐼');
console.log(animals.size); // 4

console.log(animals.has('🐷')); // true
animals.delete('🐷');
console.log(animals.has('🐷')); // false

animals.forEach(animal =&gt; {
  console.log(`Hey ${animal}!`);
});

// Hey 🐼!
// Hey 🐢!
// Hey 🐿!

animals.clear();
console.log(animals.size); // 0</code>

Here’s another example where we pass-in an array to initialize the set. Notice how the initializing array gets deconstructed, but an array added added later stays in the form of an array:

<code>let myAnimals = new Set(['🐷', '🐢', '🐷', '🐷']);

myAnimals.add(['🐨', '🐑']);
myAnimals.add({ name: 'Rud', type: '🐢' });
console.log(myAnimals.size); // 4

myAnimals.forEach(animal =&gt; {
  console.log(animal);
});


// 🐷
// 🐢
// ["🐨", "🐑"]
// Object { name: "Rud", type: "🐢" }</code>

Strings are a valid iterable so they can also be passed-in to initialize a set:

<code>console.log('Only unique characters will be in this set.'.length); // 43

let sentence = new Set('Only unique characters will be in this set.');
console.log(sentence.size); // 18</code>

On top of using <em>forEach</em> on a set, <a href="https://alligator.io/js/for-of-for-in-loops/">for…of</a> loops can also be used to iterate over sets:

<code>let moreAnimals = new Set(['🐺', '🐴', '🐕', '🐇']);

for (let animal of moreAnimals) {
  console.log(`Howdy ${ animal }`);
}

// Howdy 🐺
// Howdy 🐴
// Howdy 🐕
// Howdy 🐇</code>
<h3>Keys and Values</h3>
Sets also have the <em>keys</em> and <em>values</em> methods, with <strong>keys</strong> being an alias for <strong>values</strong>, so both methods do exactly the same thing. Using either of these methods returns a new iterator object with the values of the set in the same order in which they were added to the set. Here’s an example:

<code>let partyItems = new Set(['🍕', '🍾', '🎊']);
let items = partyItems.values();

console.log(items.next());
console.log(items.next());
console.log(items.next());
console.log(items.next().done);

// Object {
//   done: false,
//   value: "🍕"
// }

// Object {
//   done: false,
//   value: "🍾"
// }

// Object {
//   done: false,
//   value: "🎊"
// }

// true</code>

<h2>HTML DOM console.time()</h2>
How long does it take to perform a for-loop 100.000 times:

console.time();
for (i = 0; i < 100000; i++) {
  // some code
}
console.timeEnd();

<h2>HTML DOM console.table() Method</h2>
Write a table in the console:
console.table(["Audi", "Volvo", "Ford"]);

<h2>adjustFontSize</h2>
&lt;a href="javascript:adjustFontSize('14px');">仲細D都得&lt;/a>

function adjustFontSize(size){
	// console.log('adjustFontSize');
	$(".set-font-aera").css({"font-size":size});
	window.localStorage["fontSize"] = size;
}

<h2>All HTML DOM Event, Properties, and Methods</h2>
<a href="https://www.w3schools.com/jsref/dom_obj_event.asp" class="whitebut ">All HTML DOM Event, Properties, and Methods</a>

Events are normally used in combination with functions

<h2>FlappyBird</h2>
<a href="D:\Dropbox\Public\LibDocs\FlappyBird\index.html" class="whitebut ">FlappyBird</a>

<h2>跨浏览器添加事件 经典实例</h2>
<code>//跨浏览器添加事件
    function addEvent(obj,type,fn){
        if(obj.addEventListener){
            obj.addEventListener(type,fn,false);
        }else if(obj.attachEvent){//IE
            obj.attchEvent('on'+type,fn);
        }
    }</code>

<h2>跨浏览器移除事件 经典实例</h2>
<code>//跨浏览器移除事件
function removeEvent(obj,type,fn){
    if(obj.removeEventListener){
        obj.removeEventListener(type,fn,false);
    }else if(obj.detachEvent){//兼容IE
        obj.detachEvent('on'+type,fn);
    }
}</code>

<h2>跨浏览器阻止默认行为 经典实例</h2>
<code>//跨浏览器阻止默认行为
    function preDef(ev){
        var e = ev || window.event;
        if(e.preventDefault){
            e.preventDefault();
        }else{
            e.returnValue =false;
        }
    }</code>

<h2>跨浏览器获取目标对象 经典实例</h2>
<code>//跨浏览器获取目标对象
function getTarget(ev){
    if(ev.target){//w3c
        return ev.target;
    }else if(window.event.srcElement){//IE
        return window.event.srcElement;
    }
}</code>

<h2>跨浏览器获取滚动条位置 经典实例</h2>
<code>//跨浏览器获取滚动条位置，sp == scroll position
    function getSP(){
        return{
            top: document.documentElement.scrollTop || document.body.scrollTop,
            left : document.documentElement.scrollLeft || document.body.scrollLeft;
        }
    }</code>

<h2>跨浏览器获取可视窗口大小 经典实例</h2>
<code>//跨浏览器获取可视窗口大小
          function  getWindow () {
            if(typeof window.innerWidth !='undefined') {
                return{
                    width : window.innerWidth,
                    height : window.innerHeight
                }
            } else{
                return {
                    width : document.documentElement.clientWidth,
                    height : document.documentElement.clientHeight
                }
            }
        },</code>

<h2>js 对象冒充 经典实例</h2>
<code>&lt;script type = 'text/javascript'&gt;
    function Person(name , age){
        this.name = name ;
        this.age = age ;
        this.say = function (){
            return "name : "+ this.name + " age: "+this.age ;
        } ;
    }
    var o = new Object() ;//可以简化为Object()
    Person.call(o , "zhangsan" , 20) ;
    console.log(o.say() );//name : zhangsan age: 20
&lt;/script&gt;</code>

<h2>js 异步加载和同步加载 经典实例</h2>
异步加载也叫非阻塞模式加载，浏览器在下载<code>js</code>的同时，同时还会执行后续的页面处理。</section>在<code>script</code>标签内，用<code>js</code>创建一个<code>script</code>元素并插入到<code>document</code>中，这种就是异步加载<code>js</code>文件了：</section><code>(function() {
    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.async = true;
    s.src = 'http://yourdomain.com/script.js';
    var x = document.getElementsByTagName('script')[0];
     x.parentNode.insertBefore(s, x);
})();</code>

<h2>同步加载 经典实例</h2>
平常默认用的都是同步加载。如：</section><code>&lt;script src="http://yourdomain.com/script.js"&gt;&lt;/script&gt;</code>

</section>同步模式又称阻塞模式，会阻止浏览器的后续处理。停止了后续的文件的解析，执行，如图像的渲染。浏览器之所以会采用同步模式，是因为加载的<code>js</code>文件中有对<code>dom</code>的操作，重定向，输出<code>document</code>等默认行为，所以同步才是最安全的。
通常会把要加载的<code>js</code>放到<code>body</code>结束标签之前，使得<code>js</code>可在页面最后加载，尽量减少阻塞页面的渲染。这样可以先让页面显示出来。</section>同步加载流程是瀑布模型，异步加载流程是并发模型。</section>
<h2>js获取屏幕坐标 经典实例</h2>
<code>&lt;!DOCTYPE html&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=gb2312" /&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7"/&gt;
    &lt;meta name="auther" content="fq" /&gt;
    &lt;title&gt;获取鼠标坐标&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script type="text/javascript"&gt;
    function mousePosition(ev){
        if(ev.pageX || ev.pageY){
            return {x:ev.pageX, y:ev.pageY};
        }
        return {
            x:ev.clientX + document.body.scrollLeft - document.body.clientLeft,
            y:ev.clientY + document.body.scrollTop - document.body.clientTop
        };
    }
    function mouseMove(ev){
        ev = ev || window.event;
        var mousePos = mousePosition(ev);
        document.getElementById('xxx').value = mousePos.x;
        document.getElementById('yyy').value = mousePos.y;
    }
    document.onmousemove = mouseMove;
&lt;/script&gt;
X:&lt;input id="xxx" type="text" /&gt; Y:&lt;input id="yyy" type="text" /&gt;
&lt;/body&gt;
&lt;/html&gt;</code>

</section>注释：
1.<code>documentElement</code> 属性可返回文档的根节点。
2.<code>scrollTop()</code> 为滚动条向下移动的距离
3.<code>document.documentElement.scrollTop</code> 指的是滚动条的垂直坐标
4.<code>document.documentElement.clientHeight</code> 指的是浏览器可见区域高度
</section>DTD已声明的情况下：</section><code>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
</code>

</section>如果在页面中添加这行标记的话</section>
<h2>IE 经典实例</h2>
<code>document.body.clientWidth ==&gt; BODY对象宽度
document.body.clientHeight ==&gt; BODY对象高度
document.documentElement.clientWidth ==&gt; 可见区域宽度
document.documentElement.clientHeight ==&gt; 可见区域高度</code>

<h2>Firefox 经典实例</h2>
<code>document.documentElement.scrollHeight ==&gt; 浏览器所有内容高度
document.body.scrollHeight ==&gt; 浏览器所有内容高度
document.documentElement.scrollTop ==&gt; 浏览器滚动部分高度
document.body.scrollTop ==&gt;始终为0
document.documentElement.clientHeight ==&gt;浏览器可视部分高度
document.body.clientHeight ==&gt; 浏览器所有内容高度</code>

<h2>Chrome 经典实例</h2>
<code>document.documentElement.scrollHeight ==&gt; 浏览器所有内容高度
document.body.scrollHeight ==&gt; 浏览器所有内容高度
document.documentElement.scrollTop==&gt; 始终为0
document.body.scrollTop==&gt;浏览器滚动部分高度
document.documentElement.clientHeight ==&gt; 浏览器可视部分高度
document.body.clientHeight ==&gt; 浏览器所有内容高度</code>

</section><code>浏览器所有内容高度</code>即浏览器整个框架的高度，包括<code>滚动条卷去部分+可视部分+底部隐藏部分的高度总和</code></section><code>浏览器滚动部分高度</code>即滚动条卷去部分高度即可视顶端距离整个对象顶端的高度。</section>综上</section>1、<code>document.documentElement.scrollTop</code>和<code>document.body.scrollTop</code>始终有一个为0，所以可以用这两个的和来求<code>scrollTop</code></section>2、<code>scrollHeight、clientHeight</code> 在<code>DTD</code>已声明的情况下用<code>documentElement</code>，未声明的情况下用<code>body</code></section><code>clientHeight
 在IE和FF下，该属性没什么差别，都是指浏览器的可视区域，即除去浏览器的那些工具栏状态栏剩下的页面展示空间的高度。</code>

<h2>PageX和clientX 经典实例</h2>
<code>PageX:</code>鼠标在页面上的位置,从页面左上角开始,即是以页面为参考点,不随滑动条移动而变化</section><code>clientX:</code>鼠标在页面上可视区域的位置,从浏览器可视区域左上角开始,即是以浏览器滑动条此刻的滑动到的位置为参考点,随滑动条移动 而变化.</section>可是悲剧的是,<code>PageX</code>只有FF特有,<code>IE</code>则没有这个，所以在IE下使用这个：</section><code>PageY=clientY+scrollTop-clientTop;</code>(只讨论Y轴,X轴同理,下同)</section><code>scrollTop</code>代表的是被浏览器滑动条滚过的长度</section><code>offsetX:IE特有,鼠标相比较于触发事件的元素的位置,以元素盒子模型的内容区域的左上角为参考点,如果有</code>boder`,可能出现负值</section>只有<code>clientX</code>和<code>screenX</code> 皆大欢喜是W3C标准.其他的,都纠结了.
最给力的是，<code>chrome</code>和<code>safari</code>一条龙通杀!完全支持所有属性</section><p>
</p><img data-ratio="0.5905096660808435" data-type="png" data-w="569" title="图片描述" data-src="https://mmbiz.qpic.cn/mmbiz_png/eXCSRjyNYcbd6ia23PHZsxjpjiaq1M5uJHaESK234XDicZYdqFGO0E6bfQgH6hd33rlWjHKibTKDtqEMLPaSG9YCHA/640?wx_fmt=png"></section>
<h2>js拖拽效果 经典实例</h2>
<code>&lt;!doctype html&gt;
&lt;html lang="zn-CN"&gt;
&lt;head&gt;
    &lt;meta http-equiv="Content-Type" content="text/html;charset=UTF-8" /&gt;
    &lt;title&gt;&lt;/title&gt;
    &lt;style type="text/css"&gt;
        #login{
            height: 100px;
            width: 100px;
            border: 1px solid black;
            position: relative;
            top:200px;
            left: 200px;
            background: red;
        }
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="login"&gt;&lt;/div&gt;
&lt;script type="text/javascript"&gt;
    var oDiv = document.getElementById("login");
    oDiv.onmousedown = function(e){
        var e = e || window.event;//window.event兼容IE,当事件发生时有效
        var diffX = e.clientX - oDiv.offsetLeft;//获取鼠标点击的位置到所选对象的边框的水平距离
        var diffY = e.clientY - oDiv.offsetTop;
        document.onmousemove = function(e){ //需设为document对象才能作用于整个文档
            var e = e||window.event;
            oDiv.style.left = e.clientX - diffX + 'px';//style.left表示所选对象的边框到浏览器左侧距离
            oDiv.style.top = e.clientY -diffY + 'px';
        };
        document.onmouseup = function(){
            document.onmousemove = null;//清除鼠标释放时的对象移动方法
            document.onmouseup = null;
        }
    }
&lt;/script&gt;
&lt;/body&gt; 
&lt;/html&gt;</code>
<br  /></section><code>offsetTop</code> 返回的是数字，而 <code>style.top</code> 返回的是字符串，除了数字外还带有单位：<code>px</code>。</section>
<h2>js获取图片原始大小尺寸 经典实例</h2>
<code>var img = $("#img_id"); // Get my img elem
var pic_real_width, pic_real_height;
$("&amp;lt;img/&amp;gt;") // Make in memory copy of image to avoid css issues
    .attr("src", $(img).attr("src"))
    .load(function() {
        pic_real_width = this.width;   // Note: $(this).width() will not
        pic_real_height = this.height; // work for in memory images.
    });</code>

<h2>js循环遍历数 经典实例</h2>
<code>&lt;script&gt;  
       //循环遍历数组  
       var animals = ["cat",'dog','human','whale','seal'];  
       var animalString = "";  
       for(var i = 0;i&lt;animals.length;i++){  
           animalString += animals[i] + " ";  
       }  
       alert(animalString);  //输出数组里的每个项
&lt;/script&gt; </code>

<h2>遍历二维数组 经典实例</h2>
<code> &lt;script&gt; 
        var arr=[[0,0,0,0,0,0],[0,0,1,0,0,0],[0,2,0,3,0,0],[0,0,0,0,0,0]]; 
        for(var i=0;i&lt;arr.length;i++){ 
         //遍历每一个具体的值 
         for(var j=0;j&lt;arr[i].length;j++){ 
                    document.writeln(arr[i][j]+" "); 
              } 
            document.writeln("&lt;br/&gt;"); 
         } 
  &lt;/script&gt; </code>

<h2>阻止表单重复提交 经典实例</h2>
有两种方法可以解决：一是提交之后，立刻禁用点击按钮；第二种就是提交之后取消后续的表单提交操作。</section><code>document.getElementById("btn").disabled = true;//第一次提交后，将按钮禁用</code>

</section>这种方式只能用于通过提交按钮防止重复提交，还可以使用如下方式：</section><code>var flag = false;//设置一个监听变量
if(flag ==true)return;//退出事件
flag = true;//表示提交过一次了</code>

<h2>字符串部分 经典实例</h2>

<h2>在字符串中查找子字符串 经典实例</h2>
<code>&lt;script type="text/javascript"&gt;
    var test = 'Welcome to my blog!';
    var value = 'blog';
    var subValue = test.indexOf(value);
    console.log(subValue);//14,子字符串的索引
&lt;/script&gt;</code>

<h2>Number和Math部分 经典实例</h2>
数字可以是一个直接量，也可以是一个对象，但是Math对象不同，他没有构造函数，并且其所有的属性和方法都是直接通过这个对象来访问的</section>
<h2>把十进制转化为一个十六进制值 经典实例</h2>
<code>var num = 255;
console.log(num.toString(16));//</code>

</section><code>js</code>中，十进制数字以<code>0x</code>开头，八进制数字总是以<code>0</code>开头</section>
<h2>随进产生颜色 经典实例</h2>
<code>&lt;script type="text/javascript"&gt;
    function randomVal(val){
        return Math.floor(Math.random()*(val + 1));
    }
    function randomColor(){
        return 'rgb(' + randomVal(255) + ',' + randomVal(255) + ',' + randomVal(255) + ')';
    }
&lt;/script&gt;</code>

</section>目前，所有浏览器都支持<code>RGB</code>表示法和十六进制表示法，除了<code>IE7</code>，它只支持十六进制表示法</section>
<h2>在角度和弧度之间转换 经典实例</h2>
<code>var rad = degrees*(Math.PI/180);
var degrees = rad*(180/Math.PI);</code>

<h2>数组部分 经典实例</h2>

<h2>创建多维数组 经典实例</h2>
<code>&lt;script type="text/javascript"&gt;
    var arrayLength = 3;//设置数组长度
    //创建数组
    var multiArray = new Array(arrayLength);
    for(var i =0;i&lt;multiArray.length;i++){
        multiArray[i] = new Array(arrayLength);
    }
    //给第一个数组索引添加项
    multiArray[0][0] = 'phone';
    multiArray[0][1] = 'book';
    multiArray[0][2] = 'TV';
    //第二个
    multiArray[1][0] = 2;
    multiArray[1][1] = 1;
    multiArray[1][2] = 98;
    //第三个
    multiArray[2][0] = ['java','python'];
    multiArray[2][1] = ['js','C++'];
    multiArray[2][2] = ['Haskell','php'];
&lt;/script&gt;</code>

<h2>排序数组 经典实例</h2>
<code>&lt;script type="text/javascript"&gt;
     var fruits = ['banana','apple','orange','strawberry'];
    console.log(fruits.sort());//Array [ "apple", "banana", "orange", "strawberry" ]
    var num = [32,43,2,5,-23,0,4];
    console.log(num.sort());//Array [ -23, 0, 2, 32, 4, 43, 5 ]
&lt;/script&gt;</code>
<code>Array</code>对象的<code>sort</code>方法会按照字母顺序来排序数组元素。对于数字，是按照字符编码的顺序进行排序</section><code>function compare(a,b){
    return a-b;
}
var num = [32,43,2,5,-23,0,4];
console.log(num.sort(compare));//Array [ -23, 0, 2, 4, 5, 32, 43 ]</code>

<h2>Date日期时间部分 经典实例</h2>

<h2>js计算时间差 经典实例</h2>
<code>var date1=new Date();  //开始时间，当前时间
var date2=new Date(); //结束时间，需传入时间参数
var date3=date2.getTime()-date1.getTime();  //时间差的毫秒数
//计算出相差天数
var days=Math.floor(date3/(24*3600*1000));
//计算出小时数
var leave1=date3%(24*3600*1000);    //计算天数后剩余的毫秒数
var hours=Math.floor(leave1/(3600*1000));
//计算相差分钟数
var leave2=leave1%(3600*1000);        //计算小时数后剩余的毫秒数
var minutes=Math.floor(leave2/(60*1000));
//计算相差秒数
var leave3=leave2%(60*1000);      //计算分钟数后剩余的毫秒数
var seconds=Math.round(leave3/1000);
console.log(" 相差 "+days+"天 "+hours+"小时 "+minutes+" 分钟"+seconds+" 秒");</code>

<h2>正则部分 经典实例</h2>

<h2>js实现千分位分隔 经典实例</h2>
<code>&lt;script type="text/javascript"&gt;
    function cc(s){
        if(/[^0-9\.]/.test(s)) return "invalid value";
        s=s.replace(/^(\d*)$/,"$1.");
        s=(s+"00").replace(/(\d*\.\d\d)\d*/,"$1");
        s=s.replace(".",",");
        var re=/(\d)(\d{3},)/;
        while(re.test(s))
            s=s.replace(re,"$1,$2");
        s=s.replace(/,(\d\d)$/,".$1");
        return "￥" + s.replace(/^\./,"0.")
    }
&lt;/script&gt;
&lt;input onchange="this.value=cc(this.value)" /&gt;</code>

<h2>js判断传入参数是否为质数 经典实例</h2>
<code>function fn(input) {
  input = parseInt(input,10);
  return isPrime(input) ? 'is prime' : 'not prime';
}
function isPrime(input) {
  if (input &lt; 2) {
    return false;
  } else {
    for (var i = 2; i &lt;= Math.sqrt(input); i++) {
      if (input % i == 0) {
        return false;
      }
    }
  }
  return true;
}</code>

<h2>js判断字符串出现最多的字符，并统计次数 经典实例</h2>
<code>//js实现一个函数，来判断一个字符串出现次数最多的字符，并统计这个次数
    function countStr(str){
        var obj = {};
        for(var i = 0, l = str.length,k; i &lt; l ;i++){
            k = str.charAt(i);
            if(obj[k]){
                obj[k]++;
            }else{
                obj[k] = 1;
            }
        }
        var m = 0,i=null;
        for(var k in obj){
            if(obj[k] &gt; m){
                m = obj[k];
                i = k;
            }
        }
        return i + ':' + m;
    }
</code>

<h2>requestAnimationFrame() method for smooth animations</h2>
requestAnimationFrame() method was introduced to help us execute animation
Why we need another hero- requestAnimationFrame
First of all, lets talk about requestAnimationFrame() as an idea and why we even need such a method. 
Traditionally to create an animation in JavaScript, we relied on setTimeout() called recursively or setInterval() to repeatedly execute some code to make changes to an element frame by frame, such as once every 50 milliseconds:

var adiv = document.getElementById('mydiv')
var leftpos = 0
setInterval(function(){
   leftpos += 5
   adiv.style.left = leftpos + 'px' // move div by 5 pixels each time
}, 50) // run code every 50 milliseconds

While the above code is logically sound, its actual execution is far from perfect. 
The problem with using setTmeout/setInterval for executing code that changes something on the screen is twofold.

What we specify as the delay (ie: 50 milliseconds) inside these functions are often times not honoured due to changes in user system resources at the time, leading to inconsistent delay intervals between animation frames.

Even worse, using setTimeout() or setInterval() to continuously make changes to the user's screen often induces "layout thrashing", the browser version of cardiac arrest where it is forced to perform unnecessary reflows of the page before the user's screen is physically able to display the changes. 

This is bad -very bad- due to the taxing nature of page reflows, especially on mobile devices where the problem is most apparent, with janky page loads and battery drains. 

requestAnimationFrame() to the rescue
It is for the above reasons requestAnimationFrame() was introduced. 

The method in a nutshell allows you to execute code on the next available screen repaint, taking the guess work out of getting in sync with the user's browser and hardware readiness to make changes to the screen. 

When we call requestAnimationFrame() repeatedly to create an animation, we are assured that our animation code is called when the user's computer is actually ready to make changes to the screen each time, resulting in a smoother, more efficient animation. 

Furthermore, code called via requestAnimationFrame() and running inside background tabs in your browser are either paused or slowed down significantly (to 2 frames per second or less) automatically to further save user system resources- there's no point in running an animation that isn't being seen is there?

So requestAnimationFrame() should be used in place of setTimeout/ setInterval for animations, but how exactly do we go about doing that? Before we get to that, lets look at browser support first. 
requestAnimationFrame() today enjoys wide adoption amongst modern browsers- IE10+, FF11+, Chrome, and Safari etc. 
For some older versions of these browsers, a vendor prefix is needed in front of the method name to work. 
Even on browsers that don't support this method in any incarnation, we can simply fallback in those cases to setTimeout() instead to call the code after a certain delay instead. 
The following code creates a universal rrequestAnimationFrame() and its counterpart cancelAnimationFrame() function that works in the maximum number of browsers, with a fallback built in:

window.requestAnimationFrame = window.requestAnimationFrame
   || window.mozRequestAnimationFrame
   || window.webkitRequestAnimationFrame
   || window.msRequestAnimationFrame
   || function(f){return setTimeout(f, 1000/60)} // simulate calling code 60 

window.cancelAnimationFrame = window.cancelAnimationFrame
   || window.mozCancelAnimationFrame
   || function(requestID){clearTimeout(requestID)} //fall back

For the fallback setTimeout() code, notice the delay being set at 1000/60, or around 16.7 milliseconds. 

This value simulates how often the real requestAnimationFrame() will typically be called by the browser each time it's invoked based on the typical user's screen refresh rate of 60 frames per second.

Understanding and using requestAnimationFrame()
The syntax for requestAnimationFrame is very straightforward:

requestAnimationFrame(callback)
We enter a callback function containing the code we wish to run, and requestAnimationFrame() will run it when the screen is ready to accept the next screen repaint. 
Some noteworthy details:

The callback function is automatically passed a timestamp indicating the precise time requestAnimationFrame() was called.

requestAnimationFrame() returns a non 0 integer that can be passed into its nemesis counterpart cancelAnimationFrame() to cancel a requestAnimationFrame() call

Here's an example of calling requestAnimationFrame() once to move a DIV just 5 pixels from its original location on the screen:

var adiv = document.getElementById('mydiv')
var leftpos = 0
requestAnimationFrame(function(timestamp){
   leftpos += 5
   adiv.style.left = leftpos + 'px'
})
The above code is very similar to using setTimeout() to run the same code, except instead of after the user defined delay, the code is called on the next available screen repaint, typically around 16.7 milliseconds based on a typical screen refresh rate of 60fps. 
The exact number may fluctuate and frankly doesn't matter; what's important to realize is that the browser will now intelligently invoke our code only when it is ready to accept changes to the screen, not before.

Calling requestAnimationFrame() once is pretty meaningless most of the time. 
The magic happens when we call it "recursively" to construct the desired animation frame by frame, with each frame being called only when the browser is ready for it. 
This this how requestAnimationFrame() becomes superior to setTimeout or setInterval when it comes to handling animation related code efficiently. 
Lets rewrite our initial example of moving a DIV across the screen 5 pixels at a time using requestAnimationFrame():

var adiv = document.getElementById('mydiv')
var leftpos = 0
function movediv(timestamp){
   leftpos += 5
   adiv.style.left = leftpos + 'px'
   requestAnimationFrame(movediv) // call requestAnimationFrame again to animate next frame
}
requestAnimationFrame(movediv) // call requestAnimationFrame and pass into it animation function
The above code shows the basic blueprint for using requestAnimationFrame() to create an animation, by defining your animation code inside a function, then inside this function calling itself recursively through requestAnimationFrame() to produce each frame of our animation. 
To kick start the animation, we make a call to requestAnimationFrame() outside the animation function with that function as the parameter.

Animation over time in requestAnimationFrame()
So it's simple enough to repeatedly call an animation function using requestAnimationFrame(), but most animations are much more finicky, having to stop at some point after a certain objective has been achieved over a certain amount of time. 
Take our example of moving the DIV above; in a real life scenario, what we probably want to do is move the DIV 400 pixels to the right over a time of say 2 seconds. 
To do this with requestAnimationFrame(), we can take advantage of the timestamp parameter that's passed into the callback function. 
Lets see how this works now, by retooling our DIV moving code above so it moves the DIV a certain distance over a certain amount of time:

var adiv = document.getElementById('mydiv')
var starttime

function moveit(timestamp, el, dist, duration){
   //if browser doesn't support requestAnimationFrame, generate our own timestamp using Date:
   var timestamp = timestamp || new Date().getTime()
   var runtime = timestamp - starttime
   var progress = runtime / duration
   progress = Math.min(progress, 1)
   el.style.left = (dist * progress).toFixed(2) + 'px'
   if (runtime < duration){ // if duration not met yet
       requestAnimationFrame(function(timestamp){ // call requestAnimationFrame again with parameters
           moveit(timestamp, el, dist, duration)
       })
   }
}

requestAnimationFrame(function(timestamp){
   starttime = timestamp || new Date().getTime() //if browser doesn't support requestAnimationFrame, generate our own timestamp using Date
   moveit(timestamp, adiv, 400, 2000) // 400px over 1 second
})
Demo:

Move DIV 400px in 2 seconds
Lets go over how this works now.

Just before the animation runs, we set the startime variable to the current time using either requestAnimationFrame's timestamp parameter, or if requestAnimationFrame isn't supported, a less precise new Date().getTime() instead. 
The former is a value automatically passed in as the first parameter of the callback function of requestAnimationFrame that contains a highly accurate representation of the current time in milliseconds (accurate to 5 microseconds). 
This lets us know when the animation started running.

Inside the animation function moveit(), we capture the current time of the current "frame" using variable timestamp. 
We use the difference between that and the animation starttime to figure out at what "point" along the animation we're currently at, and change the DIV's position accordingly out of the total distance (ie: 400px).

Slowing down or cancelling requestAnimationFrame()
The standard requestAnimationFrame runs at around 60fps under ideal conditions (or once every 16.7ms), in sync with the refresh rate of the typical monitor. 
If your animation requires a different frames per second (up to 60 fps) or simply doesn't require that high a level of refresh rate, you can slow it down by calling requestAnimationFrame inside setTimeout(). 
That way, you get the desired frame rate while reaping the benefits of requestAnimationFrame:

var adiv = document.getElementById('mydiv')
var leftpos = 0
var fps = 20
function movediv(timestamp){
   setTimeout(function(){ //throttle requestAnimationFrame to 20fps
       leftpos += 5
       adiv.style.left = leftpos + 'px'
       requestAnimationFrame(movediv)
   }, 1000/fps)
}

requestAnimationFrame(movediv)
In this version of moving a DIV horizontally, we're throttling the frames per second to roughly 20, by calling requestAnimationFrame inside setTimeout() each time.

- Cancelling requestAnimationFrame()
Just like with setTimeout/ setInterval, you can cancel a requestAnimationFrame call, and in identical fashion as well. 
requestAnimationFrame when called returns a non 0 integer that can be captured inside a variable and passed into its nemesis counterpart cancelAnimationFrame() to stop it from being invoked again. 
The following logs the timestamp parameter value of requestAnimationFrame for two seconds,  using cancelAnimationFrame to stop the former:

var reqanimationreference

function logtimestamp(timestamp){
   console.log(timestamp)
   reqanimationreference = requestAnimationFrame(logtimestamp)
}

requestAnimationFrame(logtimestamp)

setTimeout(function(){ // cancel requestAnimationFrame after 2 seconds
   cancelAnimationFrame(reqanimationreference)
}, 2000)
Here is a slightly more elaborate example that continuously changes a DIV's width using requestAnimationFrame when the mouse enters the parent container (onmouseenter), and cancels it onmouseleave:

Demo:

Move mouse over battery
View Source Code

Conclusion
As you can see, requestAnimationFrame() is actually very simple in concept and execution, once you understand its purpose and common patterns. 
A lot of frameworks such as jQuery 3.0 utilize requestAnimationFrame() internally for all animation related functions, though it's definitely better to understand how this method works natively so you can take advantage of it in any JavaScript environment.


<h2>JavaScript Tutorials</h2>
<a href="http://www.javascriptkit.com/javatutors/scrolling-html-bookmark-javascript.shtml">Smooth Scrolling HTML Bookmarks using JavaScript (natively or jQuery)</a>
See how to use native JavaScript to create smooth scrolling HTML bookmark links inside the page, and for those that need legacy browser support, using jQuery instead. This promises to be one smooth tutorial!

<a href="http://www.javascriptkit.com/javatutors/web-animation-api-tutorial.shtml">Web Animation API- Unleashing the Power of CSS keyframes in JavaScript</a>
Animate elements in JavaScript using the power of CSS keyframes animationz with the Web Animation API! In this tutorial, I'll introduce you to WAAPI, browser support and polyfill, and how to start using this awesome API today.

<a href="http://www.javascriptkit.com/javatutors/javascript-es6-top-five.shtml">Top five features in JavaScript ES6 Worth Mastering</a>
JavaScript ES6 adds a slew of new features to the JavaScript language, some more groundbreaking and widely applicable than others. In this article I list the top 5 JavaScript ES6 features I find most indispensible.

<a href="http://www.javascriptkit.com/javatutors/javascript-es6-let-const.shtml">Understanding let and const in JavaScript ES6</a>
Get to know all about &quot;let&quot; and &quot;const&quot; in JavaScript ES6, and how it differs from the age old &quot;var&quot; keyword in defining variables.

<a href="http://www.javascriptkit.com/javatutors/javascriptfullscreenapi.shtml">Displaying Content in Full Screen using the Fullscreen API in JavaScript</a>
Open up any content on your page in full screen mode with just a few lines of JavaScript using the Full Screen API.

<a href="http://www.javascriptkit.com/javatutors/intro-javascript-async-functions.shtml">Introduction to JavaScript Async Functions- Promises simplified</a>
See how to use JavaScript async functions with JavaScript Promises to further simplify asynchronous operations in JavaScript, and produce code that's easier to read and debug to boot.

<a href="http://www.javascriptkit.com/javatutors/css-transition-functions.shtml">Four Essential JavaScript functions to tame CSS3 Transitions and Animations</a>
See four JavaScript functions that help you unlock the full potential of CSS Transitions and Animations, by pausing them, detecting when they've finished playing, and more.

<a href="http://www.javascriptkit.com/javatutors/requestanimationframe.shtml">Understanding JavaScript's requestAnimationFrame() method for smooth animations</a>
<code>requestAnimationFrame()</code> is a JavaScript method for creating smoother, less resource intensive JavaScript animations. See how to take advantage of this method in this comprehensive tutorial.

<a href="http://www.javascriptkit.com/javatutors/detect-user-scroll-amount.shtml">Determining how much the user has scrolled the page using JavaScript or jQuery</a>
Learn how to detect the amount the user has scrolled the page using JavaScript or jQuery, in either pixels travelled or as a percentage of the whole page.

<a href="http://www.javascriptkit.com/javatutors/copytoclipboard.shtml">Reading and copying selected text to clipboard using JavaScript</a>
In this tutorial, we'll see how to read the textual contents of a user selection, dynamically select some text on the page, and last but not least, copy whatever is selected to clipboard, all using just JavaScript. Not a trace of Flash here!

<a href="http://www.javascriptkit.com/javatutors/javascriptpromises.shtml">Beginner's Guide to JavaScript Promises</a>
JavaScript Promises are a new addition to ECMAscript 6 that aims to provide a cleaner, more intuitive way to deal with the completion (or failure) of asynchronous tasks. In this tutorial we'll deliver the promise of JavaScript Promises to the uninitiated!

<a href="http://www.javascriptkit.com/javatutors/javascriptarrowfunctions.shtml">Overview of JavaScript Arrow Functions</a>
One of the exciting new additions to ECMAscript 6 is Arrow Functions, a compact way to define anonymous functions that also simplifies the handling of the &quot;<code>this</code>&quot; object inside it. In this tutorial we'll go over all you need to know about the new function syntax before it supplants anonymous functions everywhere.

<a href="http://www.javascriptkit.com/javatutors/matchmediamultiple.shtml">Matching multiple CSS media queries using window.matchMedia()</a>
A common question that gets asked is how to use JavaScript's <code>window.matchMedia()</code> method to react to multiple CSS media queries. In this tutorial we explore how.

<a href="http://www.javascriptkit.com/javatutors/arrayprototypeslice.shtml">Converting objects to arrays using Array.prototype.slice.call()</a>
We break down <code>Array.prototype.slice.call()</code> to see how it works to convert array-like objects into true arrays in this quick tutorial.

<a href="http://www.javascriptkit.com/javatutors/touchevents.shtml">Introduction to Touch events in JavaScript</a>
In this tutorial lets get touchy feely with JavaScript, but examining its touch related events and how they are used to detect and respond to touch and swipe events.

<a href="http://www.javascriptkit.com/javatutors/preloadimagesplus.shtml">Preloading images and executing code only after all images have loaded</a>
See how to refine the process of preloading images to detect when all images have actually been preloaded and react accordingly.

<a href="http://www.javascriptkit.com/javatutors/setcss3properties.shtml">Setting CSS3 properties using JavaScript</a>
With the numerous CSS vendor prefixes one has to contend with when it comes to defining CSS3 properties such as <code>-moz-box-shadow</code> or <code>-webkit-border-radius</code>, setting them in JavaScript can be even more confusing. This tutorial looks at how to how to streamline the setting of CSS3 property values in JavaScript, by checking for and targeting only the version of a CSS3 property the browser supports.

<a href="http://www.javascriptkit.com/javatutors/domstorage.shtml">Going beyond cookies- Using DOM sessionStorage and localStorage to persist larger amounts of info</a>
HTML5 introduces DOM Storage, a new way of storing data on the client side that overcomes the disk space limitations of JavaScript cookies. 
This tutorial looks at how to take advantage of DOM Storage in browsers today.

<a href="http://www.javascriptkit.com/javatutors/createelementcheck.shtml">Using document.createElement() to test for browser support for an element</a>
Most of us are familiar with using 
<a href="http://www.javascriptkit.com/javatutors/http://www.javascriptkit.com/javatutors/objdetect2.shtml">object detection</a> or the <a href="http://www.javascriptkit.com/javatutors/http://www.javascriptkit.com/javatutors/navigator.shtml">Navigator object</a> to check for backing for a given JavaScript object or method, but these techniques do not work well when the objective is to check whether the browser supports a particular HTML element, such as the <code>
&lt;canvas&gt;</code> element. This is where <code>document.createElement()</code> can be very helpful.

<a href="http://www.javascriptkit.com/javatutors/onmousewheel.shtml">The onmousewheel event of JavaScript</a>
The <code>onmousewheel</code> event fires whenever the user moves the mouse wheel either upwards or downwards, and can provide yet another way for users to interact with your JavaScript. In this tutorial, lets see how to take advantage of <code>onmousewheel</code> across browsers.

<a href="http://www.javascriptkit.com/javatutors/trycatch.shtml">Handling runtime errors in JavaScript using try/catch/finally</a>
The <code>try/catch/finally</code> statement of JavaScript lets you dip your toes into error prune territory and &quot;reroute&quot; when a runtime error has occurred. Learn all about this often misunderstood statement in this tutorial.

<a href="http://www.javascriptkit.com/javatutors/loadjavascriptcss.shtml">Dynamically loading an external JavaScript or CSS file</a>
External JavaScript or CSS files do not always have to be synchronously loaded as part of the page, but dynamically as well. 

In this tutorial, we'll see how to load, remove, and replace external JavaScript and CSS files on demand and asynchronously. It the era of Ajax, it's a handy thing to know.

<a href="http://www.javascriptkit.com/javatutors/closuresleak/index.shtml">JavaScript and memory leaks</a>
If you're not careful, your JavaScript code may leak memory and sometimes even bring the visitor's browser to its knees. This tutorial looks at different leak patterns in JavaScript and how to fix them.

<a href="http://www.javascriptkit.com/javatutors/closures.shtml">JavaScript Closures 101- they're not magic</a>
Morris Johns explains JavaScript closures, a powerful yet often bewildering concept, in a gentle, step by step fashion.

<a href="http://www.javascriptkit.com/javatutors/conditionalcompile.shtml">Conditional Compilation of JScript/ JavaScript in IE</a>
IE supports a little known feature called conditional compilation that selectively compiles any block of JScript or JavaScript depending on your script logic. Think of it as the absolute form of object detection.
<a href="http://www.javascriptkit.com/javatutors/externalphp.shtml">
External JavaScript and PHP</a>
External JavaScript can reference not just .js files, but PHP scripts as well. See how this is done, and the wonderful possibilities linking PHP to JavaScript bring.
<a href="http://www.javascriptkit.com/javatutors/selectcontent.shtml">
Changing Select element content on the fly</a>
This tutorial explains how to change a select element's content using JavaScript, from adding new options to modifying and deleting them. It also shows how to create a 2 level interdependent select list.

<a href="http://www.javascriptkit.com/javatutors/cookiedetect.shtml">Determining cookie support in client's browser</a>
If your script relies on JavaScript cookies to store and persist information, it's
a good idea to always first make sure the user's browser has cookies enabled. This tutorial shows you how to perform this detection.

<a href="http://www.javascriptkit.com/javatutors/re.shtml">Introductory
Guide to Regular Expressions</a>
Always wanted to learn about Regular Expressions in JavaScript? With this comprehensive yet gentle tutorial on the subject, you'll be on your way to slashing and validating string input using Regular Expressions in no time!

<h2>Introductory Tutorials</h2>

<a href="http://www.javascriptkit.com/javatutors/primer1.shtml">JavaScript Primer</a>
<a href="http://www.javascriptkit.com/javatutors/alert1.shtml">Creating alert, confirm, and prompt boxes</a>
<a href="http://www.javascriptkit.com/javatutors/event1.shtml">Understanding &quot;event handlers&quot; in JavaScript</a>
<a href="http://www.javascriptkit.com/javatutors/eventaction.shtml">One event handler, many actions</a>
<a href="http://www.javascriptkit.com/javatutors/multiplejava.shtml">Adding more than one JavaScript to a page</a>
<a href="http://www.javascriptkit.com/javatutors/languageattri.shtml">The Type and Language attributes of JavaScript</a>
<a href="http://www.javascriptkit.com/javatutors/learnjs.shtml">How I learned JavaScript</a>

<h2>Forms and form validation</h2>

<a href="http://www.javascriptkit.com/javatutors/form1.shtml">Accessing and validating forms</a>
<a href="http://www.javascriptkit.com/javatutors/radiocheck.shtml">Manipulating radio and check boxes</a>
<a href="http://www.javascriptkit.com/javatutors/deform.shtml">Enabling/ disabling form elements</a>
<a href="http://www.javascriptkit.com/javatutors/combos1.shtml">Accessing the select element of a form</a>
<a href="http://www.javascriptkit.com/javatutors/dombos1.shtml">Creating combo link menus</a>
<a href="http://www.javascriptkit.com/javatutors/selectcontent.shtml">Changing select element content on   the fly</a>

<h2>External JavaScript</h2>

<a href="http://www.javascriptkit.com/javatutors/external.shtml">Creating external JavaScript libraries</a>
<a href="http://www.javascriptkit.com/javatutors/externalphp.shtml">External Javascript and PHP</a>
<a href="http://www.javascriptkit.com/javatutors/loadjavascriptcss.shtml">Dynamically loading an external JavaScript or CSS file</a>
<a href="http://www.javascriptkit.com/javatutors/externalrestrict.shtml">Restricting access of JavaScript libraries to designated domains</a>

<h2>JavaScript cookies</h2>
<a href="http://www.javascriptkit.com/javatutors/cookie.shtml">Session-only cookies</a>
<a href="http://www.javascriptkit.com/javatutors/cookiedetect.shtml">Determining cookie support in   client's browser</a>

<h2>Math &amp; Random scripts</h2>

<a href="http://www.javascriptkit.com/javatutors/math.shtml">The Math object</a>
<a href="http://www.javascriptkit.com/javatutors/round.shtml">Number rounding in JavaScript</a>
<a href="http://www.javascriptkit.com/javatutors/formatnumber.shtml">Formatting numbers for   decimals and significant digits</a>
<a href="http://www.javascriptkit.com/javatutors/randomnum.shtml">Generating a random number in JavaScript</a>
<a href="http://www.javascriptkit.com/javatutors/weighrandom.shtml">Generating weighed random numbers</a>
<a href="http://www.javascriptkit.com/javatutors/random1.shtml">Using JavaScript to create random scripts</a>
<a href="http://www.javascriptkit.com/javatutors/randomorder.shtml">Randomizing the display order of content using JS</a>

<h2>Variables and functions</h2>

<a href="http://www.javascriptkit.com/javatutors/determinevar.shtml">Determining the existence of a variable</a>
<a href="http://www.javascriptkit.com/javatutors/rfunction.shtml">Robust functions via the arguments array</a>
<a href="http://www.javascriptkit.com/javatutors/namedfunction.shtml">Using named arguments in JavaScript functions</a>
<a href="http://www.javascriptkit.com/javatutors/varshort.shtml">Variable and expression shortcuts</a>
<a href="http://www.javascriptkit.com/javatutors/switch.shtml">The switch statement of JavaScrip</a>t
<a href="http://www.javascriptkit.com/javatutors/proplit.shtml">Adding properties to a literal in JavaScript</a>
<a href="http://www.javascriptkit.com/javatutors/stepon.shtml">Avoiding variable and function conflicts in JavaScript</a>
<a href="http://www.javascriptkit.com/javatutors/valid1.shtml">Flag Variables, Validation, &amp; Function Control</a>
<a href="http://www.javascriptkit.com/javatutors/serror.shtml">Tackling JavaScript strict warnings</a>

<h2>Regular Expressions</h2>
<a href="http://www.javascriptkit.com/javatutors/re.shtml">Introductory Guide to Regular Expressions</a>
<a href="http://www.javascriptkit.com/javatutors/redev.shtml">Programmer's Guide to Regular Expressions</a>

<h2>JavaScript with content</h2>
<a href="http://www.javascriptkit.com/javatutors/static.shtml">Using JavaScript to statically display elements</a>
<a href="http://www.javascriptkit.com/javatutors/dynamiccontent.shtml">JavaScript and Dynamic Content</a>
<a href="http://www.javascriptkit.com/javatutors/crossmenu.shtml">Creating an attractive Hover Menu   using CSS &amp; JavaScript</a>

<h2>Date &amp; Time</h2>
<a href="http://www.javascriptkit.com/javatutors/time1.shtml">Date, time, and creating a live clock in JavaScript</a>
<a href="http://www.javascriptkit.com/javatutors/datedifference.shtml">Calculating the difference between two dates</a>

<h2>Interacting with images</h2>
<a href="http://www.javascriptkit.com/javatutors/image1.shtml">Accessing images &amp; creating image rollovers</a>
<a href="http://www.javascriptkit.com/javatutors/preloadimagesplus.shtml">Preloading images and executing code only after all images have loaded</a>
<a href="http://www.javascriptkit.com/javatutors/../howto/newtech1.shtml">Creating depressible images</a>
<a href="http://www.javascriptkit.com/javatutors/../howto/show.shtml">Building a JavaScript image slideshow</a>

<h2>Windows and frames</h2>
<a href="http://www.javascriptkit.com/javatutors/window1.shtml">Windows and JavaScript</a>
<a href="http://www.javascriptkit.com/javatutors/openclose.shtml">Determining whether a browser window is open</a>
<a href="http://www.javascriptkit.com/javatutors/advwin.shtml">Moving, scrolling, and resizing browser window</a>
<a href="http://www.javascriptkit.com/javatutors/twoframes1.shtml">Loading two frames with one link...</a>
<a href="http://www.javascriptkit.com/javatutors/../howto/fullwin.shtml">Opening windows in theatre and channel mode</a> (IE)
<a href="http://www.javascriptkit.com/javatutors/remote.shtml">Creating window remote controls</a>
<a href="http://www.javascriptkit.com/javatutors/../howto/newtech3.shtml">Detecting user's screen size and resolution</a>

<h2>Strings (text)</h2>
<a href="http://www.javascriptkit.com/javatutors/string.shtml">Strings in JavaScript Part 1</a>
<a href="http://www.javascriptkit.com/javatutors/string3.shtml">Strings in JavaScript Part II</a>

<h2>Arrays and loops</h2>
<a href="http://www.javascriptkit.com/javatutors/loop1.shtml">Understanding basic arrays and loops</a>
<a href="http://www.javascriptkit.com/javatutors/densearray1.shtml">Understanding dense arrays</a>
<a href="http://www.javascriptkit.com/javatutors/literal-notation.shtml">Defining arrays &amp; multi-dimensional   arrays using literal notation</a>
<a href="http://www.javascriptkit.com/javatutors/twoarray1.shtml">Creating a custom two-dimensional array</a>
<a href="http://www.javascriptkit.com/javatutors/arrayprototypeslice.shtml">Converting objects to arrays using Array.prototype.slice.call()</a>
<a href="http://www.javascriptkit.com/javatutors/arraysort.shtml">Sorting an array using the sort() method</a>

<h2>Objects and entities</h2>
<a href="http://www.javascriptkit.com/javatutors/oopjs.shtml">JavaScript and OOP</a>
<a href="http://www.javascriptkit.com/javatutors/object.shtml">Creating custom objects in JavaScript</a>
<a href="http://www.javascriptkit.com/javatutors/proto.shtml">The prototype object of JavaScript</a>
<a href="http://www.javascriptkit.com/javatutors/send1.shtml">Sending objects from one page to another</a>

<h2>Browser and features detection</h2>

<a href="http://www.javascriptkit.com/javatutors/navigator.shtml">Using the navigator object to detect browser</a>
<a href="http://www.javascriptkit.com/javatutors/objdetect.shtml">Using object detection to detect browser type</a>
<a href="http://www.javascriptkit.com/javatutors/createelementcheck.shtml">Using document.createElement() to test for browser support for an element</a>

<h2>Error handling</h2>

<a href="http://www.javascriptkit.com/javatutors/error.shtml">The onerror event of the window object</a>
<a href="http://www.javascriptkit.com/javatutors/trycatch.shtml">Handling runtime errors in JavaScript using try/catch/finally</a>

<h2>Keyboard and printer interaction</h2>

<a href="http://www.javascriptkit.com/javatutors/javascriptkey.shtml">Scripting the keyboard in JavaScript</a>
<a href="http://www.javascriptkit.com/javatutors/ie5print.shtml">onbeforeprint and onafterprint events of IE</a>
<a href="http://www.javascriptkit.com/javatutors/../howto/newtech2.shtml">Using window.print() to print a document</a>

<h2>Tabular Data Control (IE only)</h2>

<a href="http://www.javascriptkit.com/javatutors/tdc.shtml">Introduction to Tabular Data Control</a>
<a href="http://www.javascriptkit.com/javatutors/tdcsort.shtml">Sorting a Tabular Data Control</a>
<a href="http://www.javascriptkit.com/javatutors/tdcfilter.shtml">Filtering a Tabular Data Control</a>

<h2>Other tutorials</h2>

<a href="http://www.javascriptkit.com/javatutors/efficientjs.shtml">Performance tips for JavaScript</a>
<a href="http://www.javascriptkit.com/javatutors/customcollect.shtml">Creating custom collections in   the DOM (via ID attribute)</a>
<a href="http://www.javascriptkit.com/javatutors/vbalert.shtml">Creating customizable alert boxes using VBScript</a>

<h2>Animating the Canvas</h2>
<a href="https://www.youtube.com/watch?v=yq2au9EfeRQ" class="whitebut ">Animating the Canvas</a>

<h2>pass event as argument to an inline event handler</h2>
to pass the event object:
&lt;p id="p" onclick="doSomething(event)">
to get the clicked child element (should be used with event parameter:

function doSomething(e) {
    e = e || window.event;
    var target = e.target || e.srcElement;
    console.log(target);
}

to pass the element itself (DOMElement):
&lt;p id="p" onclick="doThing(this)">


Since inline events are executed as functions you can simply use arguments.
&lt;p id="p" onclick="doSomething.apply(this, arguments)">
and
function doSomething(e) {
  if (!e) e = window.event;
  // 'e' is the event.
  // 'this' is the P element
}

You don't need to pass this, there already is the event object passed by default automatically, which contains event.target which has the object it's coming from. 
You can lighten your syntax:

This:
&lt;p onclick="doSomething()">aaaa&lt;/p>

Will work with this:
function doSomething(){
  console.log(event);
  console.log(event.target);
}

<h2>The e is short for event</h2>
The simplest way to create an event is to click somewhere on the page.

When you click, a click event is triggered. 
This event is actually an object containing information about the action that just happened. 

Now, events happen all the time, however you are not interested in all the events that happen. 
When you are interested in some event however, it's when you add an event listener to the element you know will create events. 
For example you are interested in knowing when the user clicks on a 'Subscribe' button and you want to do something when this event happens.

In order to do something about this event you bind an event handler to the button you are interested in. 
The way to bind the handler to the element is by doing element.addEventListener(eventName, handler).

eventName is a string and it's the name of the event you are interested in, in this case that would be 'click' (for the click event).

The handler is simply a function which does something (it's executed) when the event happens. 
The handler function, by default, when executed is passed the event object (that was created when the event/action you are interested in happened) as an argument.

Defining the event as a parameter of your handler function is optional but, sometimes (most times), it is useful for the handler function to know about the event that happened. 
When you do define it this is the e you see in the functions like the ones you mentioned. 
Remember, the event is just a regular javascript object, with lots of properties on it.

<h2>variables in asynchronous callback functions</h2>
What’s the problem?
First let’s assume you have declared a variable called myVar:

var myVar;

If you immediately log the contents of the variable, it will return undefined.

Now if you define any of the following:
setTimeout(function() { myVar = "some value"; }, 0);

or:
$.ajax({ url: '...',
	    success: function(response) { myVar = response; }
});

or:
var script = document.createElement("script");
script.type = "text/javascript";
script.src = "myscript.js";
script.onload = function(){ myVar = "some value"; };
document.body.appendChild(script);

and immediately afterwards display the contents of myVar, you will also get undefined as result.

Why is the variable not set?
In all examples above, the function defined are what’s called asynchronous callbacks. 
This means that they are immediately created but not immediately executed. 

setTimeout pushes it into the event queue, the AJAX calls will execute it once the call returns and onload will be executed when the DOM element is loaded.

In all three cases, the function does not execute right away but rather whenever it is triggered asynchronously. 

So when you log or display the contents of the variable, the function has not yet run and the content has not yet been set.

So even though JavaScript actually works with a single-thread model, you’ve landed in the asynchronous problem zone.

Synchronous vs. Asynchronous
Basically the difference between a synchronous function call and an asynchronous one can be shown with these 2 pieces of code:


var myVar;
function doSomething() { myVar = "some value"; }
doSomething();   //synchronous call
log(myVar);

And:
var myVar;
function doSomething() { myVar = "some value"; }
log(myVar);
doSomething();   //asynchronous call

In the asynchronous case, our function is also defined before logging the variable but is call some time later.

How to make it work?
You will need to rewrite your code in order to use callbacks which will be called when the processing (in this case setting the value of myVar) is done.

First example: Instead of using the following:

var myVar;
setTimeout(function() { myVar = "some value"; }, 0);
alert(myVar);


You should rather do the following:

var myVar;
function callback() { alert(myVar); }
setTimeout(function() {
  myVar = "some value";
  callback(); }, 0);


Instead of this:

var myVar;
var script = document.createElement("script");
script.type = "text/javascript";
script.src = "d3.min.js";
script.onload = function(){ myVar = "some value"; };
document.body.appendChild(script);
alert(myVar);


Use this:

function callback(response) { alert("loaded"); }
var script = document.createElement("script");
script.type = "text/javascript";
script.src = "d3.min.js";
script.onload = callback;
document.body.appendChild(script);


And instead of doing the following:

var myVar;
$.ajax({ url: '...',
	    success: function(response) { myVar = response; }
});
alert(myVar);


Do the following:

function callback(response) { alert(response); }
$.ajax({ url: '...',
	    success: callback
});


Of course, here another solution is to make the AJAX call synchronous by adding the following to the options:


async: false

Also if you use $.get or $.post, you’ll need to rewrite it to use $.ajax instead.

But this is not a good idea. 
First if the call lasts longer than expected, you will block the UI making your browser window unresponsive. 
And at some point in the time the browser will ask your user whether you want to stop the unresponsive script. 
So, even though programing everything in an asynchronous way with callbacks is not always trivial, doing everything in a synchronous way will cause more sporadic and difficult to handle issues.

So to summarize, you should either use a callback or directly call a function after processing and not only rely on setting a variable in the asynchronous part.

<a href="https://benohead.com/blog/2014/12/02/javascript-variables-asynchronous-callback-functions/" class="whitebut ">variables in asynchronous callback functions</a>
<a href="https://stackoverflow.com/questions/7434371/image-onload-function-with-return" class="whitebut ">onload function with return</a>

<a href="https://www.freecodecamp.org/forum/t/help-my-function-does-not-return-value/150175/4" class="whitebut ">My function does not return value</a>

<h2>appendChild</h2>
Uncaught TypeError: Cannot read property 'appendChild' of null

but you have a class name or id in the HTML...

If your script tag is in the head, the JavaScript is loaded before your HTML. You will need to add defer to your script like so:

&lt;script src="script.js" defer>&lt;/script>
or put the script at bottom of page

<h2>Declaring global variable within function</h2>
To declare JavaScript global variables inside function, you need to use <b>window object</b>. 

For example:
window.value=90;

Now it can be declared inside any function and can be accessed from any function. 

For example:

function m(){ window.value=100;//declaring global variable by window object }
function n(){
  alert(window.value);//accessing global variable from other function
}

<h3>Internals of global variable in JavaScript</h3>
When you declare a variable outside the function, it is added in the window object internally. 
You can access it through window object also. 

For example:
var value=50;
function a(){ alert(window.value);//accessing global variable }

<h2>What is a Callback?</h2>
Simply put: A callback is a function that is to be executed after another function has finished executing — hence the name ‘call back’.

More complexly put: In JavaScript, functions are objects. 

Because of this, functions can take functions as arguments, and can be returned by other functions. 

Functions that do this are called higher-order functions. 

Any function that is passed as an argument is called a callback function.

Why do we need Callbacks?

For one very important reason — JavaScript is an event driven language. 

This means that instead of waiting for a response before moving on, JavaScript will keep executing while listening for other events. 

Lets look at a basic example:

function first(){
  console.log(1);
}
function second(){
  console.log(2);
}
first();
second();

As you would expect, the function first is executed first, and the function second is executed second — logging the following to the console:
// 1
// 2

All good so far.
But what if function first contains some sort of code that <b>can’t be executed</b> immediately? 

For example, an API request where we have to send the request then wait for a response? 

To simulate this action, were going to use setTimeout which is a JavaScript function that calls a function after a set amount of time. 

We’ll delay our function for 500 milliseconds to simulate an API request. 
Our new code will look like this:

function first(){
  // Simulate a code delay
  setTimeout( function(){ console.log(1); }, 500 ); }

function second(){ console.log(2); }
first();
second();

It’s not important that you understand how setTimeout() works right now. 
All that matters is that you see we’ve moved our console.log(1); inside of our 500 millisecond delay. 

So what happens now when we invoke our functions?
first();
second();
// 2
// 1

Even though we invoked the first() function first, we logged out the result of that function after the second() function.

It’s not that JavaScript didn’t execute our functions in the order we wanted it to, it’s instead that JavaScript didn’t wait for a response from first() before moving on to execute second().

So why show you this? 
Because you can’t just call one function after another and hope they execute in the right order. 

Callbacks are a way to make sure certain code doesn’t execute until other code has already finished execution.

Create a Callback
First, open up your Chrome Developer Console and type the following function declaration into your console:

function doHomework(subject) {
  alert(`Starting my ${subject} homework.`);
}

Above, we’ve created the function doHomework . 

Our function takes one variable, the subject that we are working on. 

Call your function by typing the following into your console:
doHomework('math');
// Alerts: Starting my math homework.

Now lets add in our callback — as our last parameter in the doHomework() function we can pass in callback. 

The callback function is then defined in the second argument of our call to doHomework().

function doHomework(subject, callback) { // here callback is variable
  alert(`Starting my ${subject} homework.`);
  callback();  // this call is not fixed, depend on the true calling command
}

doHomework('math', function() {
  alert('Finished my homework');
});

As you’ll see, if you type the above code into your console you will get two alerts back to back: Your ‘starting homework’ alert, followed by your ‘finished homework’ alert.

But callback functions don’t always have to be defined in our function call. 
They can be defined elsewhere in our code like this:

function doHomework(subject, callback) {
  alert(`Starting my ${subject} homework.`);
  callback();
}

function alertFinished(){
  alert('Finished my homework');
}

doHomework('math', alertFinished);

This result of this example is exactly the same as the previous example, but the setup is a little different. 

As you can see, we’ve passed the alertFinished function definition as an argument during our doHomework() function call!

A real world example

Last week I published an article on how to Create a Twitter Bot in 38 lines of code. 

The only reason the code in that article works is because of Twitters API. 

When you make requests to an API, you have to wait for the response before you can act on that response. 

This is a wonderful example of a real-world callback. 
Here’s what the request looks like:

T.get('search/tweets', params, function(err, data, response) {
  if(!err){
    // This is where the magic will happen
  } else {
    console.log(err);
  }
})

T.get simply means we are making a get request to Twitter

There are three parameters in this request: 
‘search/tweets’, which is the route of our request, 
params which are our search parameters, and then 
an anonymous function which is our callback.

A callback is important here because we need to wait for a response from the server before we can move forward in our code. 

We don’t know if our API request is going to be successful or not so after sending our parameters to search/tweets via a get request, we wait. 

Once Twitter responds, our callback function is invoked. 
Twitter will either send an err (error) object or a response object back to us. 

In our callback function we can use an if() statement to determine if our request was successful or not, and then act upon the new data accordingly.

<h2>JavaScript Closures</h2>
JavaScript variables can belong to the local or global scope.

Global variables can be made local (private) with closures.

In a web page, global variables belong to the window object.

Global variables can be used (and changed) by all scripts in the page (and in the window).

Global and local variables with the same name are different variables. Modifying one, does not modify the other.

Variables created without a declaration keyword (var, let, or const) are always global, even if they are created inside a function.

A Counter Dilemma
Suppose you want to use a variable for counting something, and you want this counter to be available to all functions.

You could use a global variable, and a function to increase the counter:

Example
// Initiate counter
var counter = 0;

// Function to increment counter
function add() {
  counter += 1;
}

// Call add() 3 times
add();
add();
add();

// The counter should now be 3
There is a problem with the solution above: Any code on the page can change the counter, without calling add().

The counter should be local to the add() function, to prevent other code from changing it:

Example
// Initiate counter
var counter = 0;

// Function to increment counter
function add() {
  var counter = 0;
  counter += 1;
}

// Call add() 3 times
add();
add();
add();

//The counter should now be 3. But it is 0
It did not work because we display the global counter instead of the local counter.

We can remove the global counter and access the local counter by letting the function return it:

Example
// Function to increment counter
function add() {
  var counter = 0;
  counter += 1;
  return counter;
}

// Call add() 3 times
add();
add();
add();

//The counter should now be 3. But it is 1.
It did not work because we reset the local counter every time we call the function.

 A JavaScript inner function can solve this.

JavaScript Nested Functions
All functions have access to the global scope.  

In fact, in JavaScript, all functions have access to the scope "above" them.

JavaScript supports nested functions. Nested functions have access to the scope "above" them.

In this example, the inner function plus() has access to the counter variable in the parent function:

Example
function add() {
  var counter = 0;
  function plus() {counter += 1;}
  plus();   
  return counter;
}
This could have solved the counter dilemma, if we could reach the plus() function from the outside.

We also need to find a way to execute counter = 0 only once.

We need a closure.

JavaScript Closures
Remember self-invoking functions? What does this function do?

Example
var add = (function () {
  var counter = 0;
  return function () {counter += 1; return counter}
})();

add();
add();
add();

// the counter is now 3
Example Explained
The variable add is assigned the return value of a self-invoking function.

The self-invoking function only runs once. It sets the counter to zero (0), and returns a function expression.

This way add becomes a function. The "wonderful" part is that it can access the counter in the parent scope.

This is called a JavaScript closure. It makes it possible for a function to have "private" variables.

The counter is protected by the scope of the anonymous function, and can only be changed using the add function.

A closure is a function having access to the parent scope, even after the parent function has closed.

<h2>Select selectedIndex Property</h2>
Select a fruit and click the button:
&lt;select id="mySelect">
  &lt;option>Apple&lt;/option>
  &lt;option>Orange&lt;/option>
  &lt;option>Pineapple&lt;/option>
  &lt;option>Banana&lt;/option>
&lt;/select>

&lt;button type="button" onclick="myFunction()">Display index&lt;/button>

function myFunction() {
  var x = document.getElementById("mySelect").selectedIndex;
  var y = document.getElementById("mySelect").options;
  alert("Index: " + y[x].index + " is " + y[x].text);
}

<h2>variables in event handler using function closures</h2>

function addClickHandler(elem, arg1, arg2) {
    elem.addEventListener('click', function(e) {
        // in the event handler function here, you can directly refer
        // to arg1 and arg2 from the parent function arguments
    }, false);
}

element.addEventListener('click', func(event, this.elements[i]))

element.addEventListener('click', (function(passedInElement) {
    return function(e) {func(e, passedInElement); };
}) (this.elements[i]), false);


// return our event handler while capturing an argument in the closure
function handleEvent(passedInElement) {
    return function(e) {
        func(e, passedInElement); 
    };
}

element.addEventListener('click', handleEvent(this.elements[i]));

<h2>:contains selector</h2>
Selecting multiple items from a list

use the <b>:contains</b> selector to search for an element whose text includes certain text.

$("#leftSelect option:contains(InfoCard Employee)").prop('selected', true);

<h2>multiple select</h2>
// arguments: reference to select list, callback function (optional)
function getSelectedOptions(sel, fn) {
    var opts = [], opt;
    
    // loop through options in select list
    for (var i=0, len=sel.options.length; i&lt;len; i++) {
        opt = sel.options[i];
        
        // check if selected
        if ( opt.selected ) {
            // add to array of option elements to return from this function
            opts.push(opt);
            
            // invoke optional callback function if provided
            if (fn) {
                fn(opt);
            }
        }
    }
    
    // return array containing references to selected option elements
    return opts;
}
Our getSelectedOptions function includes a callback mechanism that enables handling each selected option as it is collected, so there is no need to loop through the set a second time. 
The callback function for this example is displayed here:

// example callback function (selected options passed one by one)
function callback(opt) {
    // display in textarea for this example
    var display = document.getElementById('display');
    display.innerHTML += opt.value + ', ';

    // can access properties of opt, such as...
    //alert( opt.value )
    //alert( opt.text )
    //alert( opt.form )
}
Onchange and Onsubmit Handling
The example form above demonstrates obtaining the list of selected options both onchange and onsubmit. 
Onsubmit, we check the length of the list to report how many option elements have been selected. 
Onchange, we list the values of selected options in the textarea.

The JavaScript below shows how onchange and onsubmit handling are set up for this example:

// anonymous function onchange for select list with id demoSel
document.getElementById('demoSel').onchange = function(e) {
    // get reference to display textarea
    var display = document.getElementById('display');
    display.innerHTML = ''; // reset
    
    // callback fn handles selected options
    getSelectedOptions(this, callback);
    
    // remove ', ' at end of string
    var str = display.innerHTML.slice(0, -2);
    display.innerHTML = str;
};

document.getElementById('demoForm').onsubmit = function(e) {
    // reference to select list using this keyword and form elements collection
    // no callback function used this time
    var opts = getSelectedOptions( this.elements['demoSel[]'] );
    
    alert( 'The number of options selected is: ' + opts.length ); //  number of selected options
    
    return false; // don't return online form
};
Form Markup
Markup for the example form above is displayed here:

&lt;form action="#" method="post" id="demoForm" class="demoForm">
    &lt;fieldset>
        &lt;legend>Demo: Get Selected Options&lt;/legend>
    
        &lt;p>
            &lt;select name="demoSel[]" id="demoSel" size="4" multiple>
                &lt;option value="scroll">Scrolling Divs JavaScript&lt;/option>
                &lt;option value="tooltip">JavaScript Tooltips&lt;/option>
                &lt;option value="con_scroll">Continuous Scroller&lt;/option>
                &lt;option value="banner">Rotating Banner JavaScript&lt;/option>
                &lt;option value="random_img">Random Image PHP&lt;/option>
                &lt;option value="form_builder">PHP Form Generator&lt;/option>
                &lt;option value="table_class">PHP Table Class&lt;/option>
                &lt;option value="order_forms">PHP Order Forms&lt;/option>
            &lt;/select>
            &lt;input type="submit" value="Submit" />
            &lt;textarea name="display" id="display" placeholder="view select list value(s) onchange" cols="20" rows="4" readonly>&lt;/textarea>
        &lt;/p>
        
    &lt;/fieldset>
&lt;/form>
Name Attribute for Multiple Select
Notice the name demoSel[] is applied to the example select box. 
Attach square brackets to the end of the name of a select-multiple type select box in order for server side code to treat selected options as an array. 
Otherwise only the last selected item will be provided. 
An ID can be used to obtain a reference to the select box in JavaScript as shown above.[1]

<h2>some input checkbox functions</h2>
<b>use keypress</b>
&lt;input type="checkbox" name="Colors" value="Bike" class="mycheckbox">My text&lt;br>

Jquery
$('.mycheckbox').on('keypress', function (event) {
    if (event.which === 13) {
        $(this).prop('checked', !$(this).prop('checked'));
    }
});

Another method is to use a type selector in order to get the input elements with certain type.

$('input[type=checkbox]')
$(':checkbox').on('keypress', function (event) {
    if (event.which === 13) {
        $(this).prop('checked', !$(this).prop('checked'));
        $('textarea').html($(this).prop('checked').toString());
    }
});

&lt;input type="checkbox" name="Colors" value="Bike" class="mycheckbox">My text&lt;br>

$(document).on('keypress', function(event) {
  if (event.keyCode == 13) {
    $('#mycheckbox').prop('checked', true);
  }
});

$('input:checkbox').keypress(function(e){
    if((e.keyCode ? e.keyCode : e.which) == 13){
        $(this).trigger('click');
    }
});

<b>use preventDefault</b>
but pressing Enter would also submit the form.
Adding e.preventDefault(); prevents the default browser action when pressing enter on the checkbox.

$('input:checkbox').keypress(function(e){
    e.preventDefault();
    if((e.keyCode ? e.keyCode : e.which) == 13){
        $(this).trigger('click');
    }
});

if (keycode == 13) {
    $(this).attr('checked', checked);
    Checkbox_to_RadioButton(this);
    alert("Enter key was pressed");
}   

<b>Set the checked state of a checkbox:</b>
function check() { document.getElementById("myCheck").checked = true; }
function uncheck() { document.getElementById("myCheck").checked = false; }

Find out if a checkbox is checked or not:
var x = document.getElementById("myCheck").checked;

Use a checkbox to convert text in an input field to uppercase:
document.getElementById("fname").value = document.getElementById("fname").value.toUpperCase();

<b>Several checkboxes in a form:</b>
&lt;form action="/action_page.php">
&lt;input type="checkbox" name="coffee" value="cream">With cream&lt;br>
&lt;input type="checkbox" name="coffee" value="sugar">With sugar&lt;br>
&lt;br>
&lt;input type="button" onclick="myFunction()" value="Send order">
&lt;br>&lt;br>
&lt;input type="text" id="order" size="50">
&lt;input type="submit" value="Submit">
&lt;/form>

function myFunction() {
  var coffee = document.forms[0];
  var txt = "";
  var i;
  for (i = 0; i &lt; coffee.length; i++) {
    if (coffee[i].checked) { txt = txt + coffee[i].value + " "; }
  }
  document.getElementById("order").value = "You ordered a coffee with: " + txt;
}

<h2>click label check checkbox</h2>
Without jQuery code:
use: <b>label for</b>
&lt;input type="checkbox" id="Checkbox1">&lt;label for="Checkbox1">Check ME&lt;/label>
&lt;select id="mySelect" onchange="checkboxes();" /&gt;

<h2>window open this children attr</h2>
&lt;p&gt;&lt;a href="https://www.youtube.com/channel/Exw"&gt;InspirationTuts&lt;/a&gt;&lt;/p&gt;
window.open($(this).children("a").attr("href"));

<h2>jquery to change style attribute of a div class</h2>
$('.handle').css('left', '300px');

<h2>sessionStorage</h2>
if (typeof(Storage) !== "undefined") {  // Check browser support
  // Store
  sessionStorage.setItem("lastname", "Smith");
  // Retrieve
  document.getElementById("result").innerHTML = sessionStorage.getItem("lastname");
}

<h2>jQuery serialize()</h2>
creates a URL encoded text string by serializing form values.

$("button").click(function(){
  $("div").text($("form").serialize());
});

You can select one or more form elements (like input and/or text area), or the form element itself.

The serialized values can be used in the URL query string when making an AJAX request.

<h2>encodeURIComponent() and decodeURIComponent() Function</h2>
decodes a URI component

function myFunction() {
  var uri = "https://w3schools.com/my test.asp?name=ståle&car=saab";
  var uri_enc = encodeURIComponent(uri);
  var uri_dec = decodeURIComponent(uri_enc);
  var res = "Encoded URI: " + uri_enc + "<br>" + "Decoded URI: " + uri_dec;
  document.getElementById("demo").innerHTML = res;
}

Encoded URI: https%3A%2F%2Fw3schools.com%2Fmy%20test.asp%3Fname%3Dst%C3%A5le%26car%3Dsaab
Decoded URI: https://w3schools.com/my test.asp?name=ståle&car=saab

<h2>store form checkboxes to sessionStorage</h2>
  $('#formId').submit(function (ev) {
    sessionStorage.setItem('checkBoxesResult', $("#formId").serialize()); 
  });

  if(sessionStorage.getItem("checkBoxesResult")) {
   var recordStr = sessionStorage.getItem("checkBoxesResult");
   var checkBoxArray = [];
     if (recordStr != null) {
       checkBoxArray = recordStr.split("&");
       for( var i=0; i < checkBoxArray.length; i++ ) {
         var nv  = checkBoxArray[i].split("=")
         n = decodeURIComponent(nv[0]),
         v = nv.length > 1 ? decodeURIComponent(nv[1]) : null;
         selectedChkBox(n,v);
       }
     }
  }

  function selectedChkBox( chkbox, value ) {
    $("[name="+chkbox+"]").each( function() {   
      if ( $(this).val() ==  value )
        $(this).attr('checked', true);
      else
        if ( $(this).attr('checked') == true)
          $(this).attr('checked', false);
    });
  }

<h2>to evaluate minutes between time spans</h2>
  var d = new Date();
  var mins=d.getMinutes();
  var hr=d.getHours();

  hrdiff = hr - 9;
  mindiff = mins -30;
  timespan = hrdiff * 60 + mindiff;
  if(timespan&lt;60){imgwidth = timespan*22}

<h2>Improving Async functions with WebWorkers</h2>
JS shall have but one Thread (in the browser at least)
– Thus spoke the master programmer.

JS runs in a single thread in the browser, this is the truth.
Somewhere in its own universe, there exists a Queue which holds messages
and functions associated with them.
Every time an event (i.e, a user clicks a button) is registered, there’s
a runtime check to see whether there’s any listener attached to that event.
If there’s one, it will enqueue the message. Otherwise, it will be lost
forever.

Now, our event loop processes one message at a time, meaning that if you
do some CPU intensive operation (i.e, number crunching) this will indeed
‘block’ the one Thread, rendering our application useless.

This is true even for <code>async</code> functions, which will be queued as soon as invoked and executed as soon as possible (immediately given the queue is empty).
I/O such as requests to external resources are non-blocking though, so you
can request a file as large as you want without fear.
The associated callback, however, will show the same characteristics of an <code>async</code> function.

Strategies for processing lots of data vary a lot.
You could partition data and set timeouts for processing bits of it a time for example.

But to unleash the full power of asynchronous processing, you should use <b>Web Workers</b>.

To do so, you separate the processing part in a different file (possibly
‘my_worker.js’), create a worker with <code>newWorker = new Worker('my_worker.js');</code>
and offload the processing to it.
// my_worker.js
const do_a_lot_of_processing = (data) =&gt; {
    ....
}
onmessage = (e) =&gt; {
    postMessage(do_a_lot_of_processing(e.data));
// main.js
const myWorker = new Worker('my_worker.js');
async function get_useful_data() {
    const raw_data = await request(some_url);
    myWorker.postmessage(raw_data);
const show_data =&gt; (e) {
    const data = e.data;
    ...
myWorker.onmessage(show_data);
get_useful_data();

Your mileage may vary of course, and there are many abstractions that can be
built upon this model.

<h2>HTML5 Web Workers</h2>
A web worker is a JavaScript running in the background, without affecting the performance of the page.
When executing scripts in an HTML page, the page becomes unresponsive until the script is finished.
A web worker is a JavaScript that runs in the background, independently 
of other scripts, without affecting the performance of the page. You can continue to do whatever you want: 
clicking, selecting things, etc., while the web worker runs in the background.

<h3>Example</h3>
The example below creates a simple web worker that count numbers in the background:

Count numbers: &lt;output id="result">&lt;/output>

&lt;button onclick="startWorker()">Start Worker&lt;/button> 
&lt;button onclick="stopWorker()">Stop Worker&lt;/button>

&lt;script>
var w;
function startWorker() {
  if(typeof(Worker)!=="undefined") {
    if(typeof(w)=="undefined") {
      w=new Worker("demo_workers.js");
    }
    w.onmessage = function (event) {
      document.getElementById("result").innerHTML=event.data;
    };
  } else {
    document.getElementById("result").innerHTML="Sorry, your browser does not support Web Workers...";
    }
  }

function stopWorker() { 
  w.terminate();
  w = undefined;
}
&lt;/script>

<a target="_blank" href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_webworker" class="w3-btn w3-margin-bottom w3-margin-top">Try it Yourself &raquo;</a>

<h3>Create a Web Worker File</h3>
Now, let's create our web worker in an external JavaScript.
Here, we create a script that counts. The script is stored in the &quot;demo_workers.js&quot; file:

var i = 0;

function timedCount() {
  i = i + 1;
  postMessage(i);
  setTimeout(&quot;timedCount()&quot;,500);
}
timedCount();

The important part of the code above is the <code>postMessage()</code> method - which is used to post a message back to the HTML page.
<b>Note:</b> Normally web workers are not used for such simple scripts, but for more CPU intensive tasks.

<h3>Create a Web Worker Object</h3>
Now that we have the web worker file, we need to call it from an HTML page.
The following lines checks if the worker already exists, if not - it creates a new web worker object and runs the code in 
&quot;demo_workers.js&quot;:

if (typeof(w) == &quot;undefined&quot;) {
    w = new Worker(&quot;demo_workers.js&quot;);
 }
Then we can send and receive messages from the web worker.
Add an &quot;onmessage&quot; event listener to the web worker.

w.onmessage = function(event){
    document.getElementById(&quot;result&quot;).innerHTML = event.data;
 };

When the web worker posts a message, the code within the event listener is executed. The data from the web worker is stored in event.data.

<h3>Terminate a Web Worker</h3>
When a web worker object is created, it will continue to listen for messages (even after the external script is finished) until it is terminated.
To terminate a web worker, and free browser/computer resources, use the 
<code>terminate()</code> method:

w.terminate();

<h3>Reuse the Web Worker</h3>
If you set the worker variable to undefined, after it has been terminated, 
you can reuse the code:

 w = undefined;

<h3>Full Web Worker Example Code</h3>
We have already seen the Worker code in the .js file. Below is the code for the HTML page:

<h3>Example</h3>

&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
&lt;p&gt;Count numbers: &lt;output id=&quot;result&quot;&gt;&lt;/output&gt;&lt;/p&gt;
&lt;button onclick=&quot;startWorker()&quot;&gt;Start Worker&lt;/button&gt; 
&lt;button onclick=&quot;stopWorker()&quot;&gt;Stop Worker&lt;/button&gt;
&lt;script&gt;

var w;
function startWorker(){
  if(typeof(Worker) !== &quot;undefined&quot;) {
    if(typeof(w) == &quot;undefined&quot;) {
      w = new Worker(&quot;demo_workers.js&quot;);
    }
    w.onmessage = function(event) {
      document.getElementById(&quot;result&quot;).innerHTML = event.data;
    };
  }
  else {
    document.getElementById(&quot;result&quot;).innerHTML = &quot;Sorry! No Web Worker support.&quot;;
  }
}

function stopWorker() { 
  w.terminate();
  w = undefined;
}
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
<a target="_blank" href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_webworker" class="w3-btn w3-margin-bottom">Try it Yourself &raquo;</a>

<h3>Web Workers and the DOM</h3>
Since web workers are in external files, they do not have access to the following JavaScript objects:
The window object
The document object
The parent object

<a href="building blocks of Web Workers.html" class="whitebut red">building blocks of Web Workers</a>

<h2>open multiple pages</h2>
  var locs = [
    "url1",
    "url2",
  ]

  function multipages() {
    for (let i = 0; i < locs.length; i++) {
      window.open(locs[i])
    }
  }

<h2>onmouseover focus and select</h2>
&lt;input type="text" autocomplete="off" name="q" id="query" onmouseover="this.focus()" onfocus="this.select()" value="">

<h2>disable web page certain functions</h2>
  jQuery(document).bind("keydown", function(e) {
    if(e.ctrlKey && (e.which == 44 || e.which == 65 || e.which == 67 || e.which == 73 || e.which == 75 || e.which == 80 || e.which == 88 || e.which == 83 ||e.which == 85)) {
  e.preventDefault(); return false; }

  jQuery(document).on( "mousedown", function(event) { if(event.which=="3") 
  { document.oncontextmenu = document.body.oncontextmenu = function() {return false;} } });

<h2>change element attribute</h2>
    $("body").on("mouseup", ".unitListItem, .unitHeading", function() {
      var tab_names = $(this).html().split(",");

      // change element attribute
      if ($(this).attr("class") == "unitListItem") {
        var tab_id = $(this).attr("id");
        $(".unitListItem").each(function() {
          if ($(this).attr("id") != tab_id) {
           for (tab_name of tab_names) {
             if ($(this).html().indexOf(tab_name.trim()) >= 0) {
               $(this).trigger('click');
             }
           }
          }
        });
      }
      else if ($(this).attr("class") == "tabtitle unitHeading") {
        var tab_id = $(this).next().attr("id");
        $(".unitHeading").each(function() {
          if ($(this).next().attr("id") != tab_id) {
            for (tab_name of tab_names) {
              if ($(this).html().indexOf(tab_name.trim()) >= 0) {
                $(this).trigger('click');
              }
            }
          }
        });
      }
    });

<h2>turn on/off certain tab and take action</h2>
  &lt;button class="tabbut" 
     onclick="openTab('lastrec');
              document.getElementById('reqLastRec').submit()" >Last Rec&lt;/button>

  // turn off actionBox
  $('.actionBox').css('display', 'none');

<h2>Array map() Method</h2>
creates a new array by calling a function on each element.

var LongList = ['600004', '600007', '600008', '600009', '600010'];
function toACode(thecode) {
	if (thecode[0]=="6"){ thecode = thecode+".sh" }
	else { thecode = thecode+".sz" }
	return(thecode);
}
newList = LongList.map(item => toACode(item));

find object names:
var thisObj = [ { name: 'someName1' }, { name: 'someName2' },
                { name: 'someName4' }, { name: 'someName2' }
];
var objNames = thisObj.map(item => item.name);

<h2>Javascript right click</h2>
1. window.oncontextmenu = function ()
{ showCustomMenu(); return false;     // cancel default menu }

2. window.oncontextmenu = function () { alert('Right Click') }
// the context menu will still come up
// add return false; to stop context menu comes up
3. use mousedown
$("img").mousedown(function(ev){
  if(ev.which == 1) { alert("Left mouse button clicked on myId"); }
  if(ev.which == 2) { alert("Middle mouse button clicked on myId"); }
  if(ev.which == 3) { alert("Right mouse button clicked on myId"); }
});
The value of which will be:
1 for the left button
2 for the middle button
3 for the right button

4. &lt;div oncontextmenu="javascript:alert('success!');return false;">
    Lorem Ipsum
&lt;/div>

onClick is not triggered through right click.
right click only trigger onMouseDown onMouseUp and onContextMenu.
So "onContextMenu" is the right click event.

&lt;div oncontextmenu="myFunction()">

function myFunction() {  alert("You right-clicked inside the div!");}

A context menu is a menu in a GUI that appears upon user interaction, such as a right-click mouse operation. A context menu offers a limited set of choices that are available in the current state, or context, of the operating system or application. Usually the available choices are actions related to the selected object.

<h2>create a clickable dropdown menu</h2>
&lt;div class="dropdown">
  &lt;button onclick="myFunction()">Dropdown&lt;/button>
  &lt;div id="myDropdown" class="dropdown-content">
    &lt;a href="#home">Home&lt;/a>
    &lt;a href="#about">About&lt;/a>
    &lt;a href="#contact">Contact&lt;/a>
  &lt;/div>
&lt;/div>

/* When the user clicks on the button, 
toggle between hiding and showing the dropdown content */
function myFunction() {
  document.getElementById("myDropdown").classList.toggle("show");
}

// Close the dropdown if the user clicks outside of it
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {
    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i &lt; dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}

<a href="https://stackoverflow.com/questions/11145681/how-to-convert-a-string-with-unicode-encoding-to-a-string-of-letters" class="whitebut ">convert unicode encoding to string</a>
Technically doing:

String myString = "\u0048\u0065\u006C\u006C\u006F World";

In order to convert it to "Hello" you'll have to parse the text into the separate unicode digits, (take the \uXXXX and just get XXXX)
then do Integer.ParseInt(XXXX, 16) to get a hex value and then case that to char to get the actual character.

Some code to accomplish this:

String str = myString.split(" ")[0];
str = str.replace("\\","");
String[] arr = str.split("u");
String text = "";
for(int i = 1; i < arr.length; i++){
    int hexVal = Integer.parseInt(arr[i], 16);
    text += (char)hexVal;
}
// Text will now have Hello

<h2>Swap rows with columns of a matrix</h2>
function transpose(a) {
    return Object.keys(a[0]).map(function(c) {
        return a.map(function(r) { return r[c]; });
    });
}

console.log(transpose([
    [1,2,3],
    [4,5,6],
    [7,8,9]
]));

transpose = m => m[0].map((x,i) => m.map(x => x[i]))

<h2>convert Multi-Dimensional Array to HTML Table</h2>
&lt;table id="mytab">&lt;/table>
  var mytab = $('#mytab');
  myArr = [
    [1,2,3],
    [4,5,6],
    [7,8,9]
  ]
  for (var row=0; row &lt; myArr.length; row++) {
    rowItem = $( '&lt;tr>' );
    mytab.append( rowItem );

    for (var col=0; col &lt; myArr[row].length; col++) {
        cell = $('&lt;td>' + $(myArr[row])[col] + '&lt;/td>')
        rowItem.append( cell );
    }
  }

<h2>calculate wAve trend range</h2>
 transp = transpose(thedrawdata);
   var mytab = $('#mytab'); // this is the element to show result
   rowItem = $( '&lt;tr>' );
   mytab.append( rowItem );
   for (var row=(transp.length-12); row &lt; transp.length; row++) {
     rowRange = transp[row].slice(3, 8);
      	    rowMax = Math.max(...rowRange);
      	    rowMin = Math.min(...rowRange);
      	    rowDiff = rowMax - rowMin;
      	    //cell = $('&lt;td>' + (Math.round(rowMax*1000)/1000) + '&lt;/td>')
      	    //rowItem.append( cell );
      	    //cell = $('&lt;td>' + (Math.round(rowMin*1000)/1000) + '&lt;/td>')
      	    //rowItem.append( cell );
      	    cell = $('&lt;td>' + (Math.round(rowDiff*1000)/1000) + '&lt;/td>')
      	    rowItem.append( cell );
   }


<h2>Find difference between consecutive numbers in array</h2>
Use Array methods and Arrow functions:
var visitsArr = [38,29,18,29,28,18,24];
var diffs = visitsArr.slice(1).map((x,i)=> x-visitsArr[i]);
diffs.forEach((x,i) => console.log(
   `Visits from day ${i+1} to day ${i+2} increased by ${x}`
));

or
function diff(visitsArr) {
  return visitsArr.slice(1).map(function(n, i) { return n - visitsArr[i]; });
}

The estimate is ((yi+1)−(yi−1))/((xi+1)−(xi−1)). 
This is just the slope between the (i−1)-th point and the the (i+1)-th point.

<h2>sorttable: Make tables sortable</a></h2>
<a href="https://kryogenix.org/code/browser/sorttable/" class="whitebut ">sorttable: Make tables sortable</a>

three steps:
Download the Javascript library

Include the Javascript library, 
&lt;script src="sorttable.js">&lt;/script>

Give your table a class of "sortable":
&lt;table class="sortable">

Note that the library's JavaScript file is called sorttable (two Ts), but the class you add to the table is sortable (one T).

<h2>Convert array of numbers to string</h2>
arr.map(String)

<h2>add comments to stks chart by loading script with json data</h2>

load json data from external js file
by script src = stkComments.js
myjs.js var theCommentList = {item1: "some", item2: "other"}

<h2>Click to toggle block of message</h2>
&lt;div onclick="myFunction()">Click to toggle appearTab!
  &lt;span id="myappearTab">A Simple appearTab!&lt;/span>
&lt;/div>

&lt;script>
// When the user clicks on div, open the appearTab
function myFunction() {
  var appearTab = document.getElementById("myappearTab");
  appearTab.classList.toggle("show");
}
&lt;/script>

or onclick load script to show data

<h2>Access nested data structures</h2>

const data = { code: 42, 
  items: [{ id: 1, name: 'foo' }, { id: 2, name: 'bar' }]
};

to access the name of the second item.
data.items      // data is an object, use dot
data.items[1]   // The value is an array, use bracket
data.items[1].name  // This value is an object, use dot
data['items'][1]['name'];  //or use all brackets

<h2>the rest parameter syntax ...</h2>
sum = (...args) => { console.log(args.length + " arguments");}
sum(1,2,3,3,2,1); //6 arguments

<h2>find repeating names in array of object</h2>
thisObj =[{name:'name1'},{name:'name2'},{name:'name4'},{name:'name2'}];
objNames = thisObj.map(item => item.name);
objNames.filter((item, idx)=> objNames.indexOf(item) != idx ) // name2

unable to find repeating names in objects because Object.keys(thisObj) removes duplicates autoamtically
use R instead to tackle

<h2>arithmetic on two arrays</h2>
var a = [1,3,5,7,9];
var b = [5,4,3,2,1];
a.map((x, index)=> b[index] + x ); // [6, 7, 8, 9, 10]

<h2>currying function</h2>
<a href="https://www.codementor.io/muhammadkasim/currying-in-js-woivjbf1s?utm_swu=7179">Currying in JS</a>
<br>

<a class="post-link" href="https://www.jstips.co/en/javascript/curry-vs-partial-application/">Currying vs partial application</a>
Currying and partial application are two ways of transforming a function into another function with a generally smaller arity.
<a href="https://www.jstips.co/en/javascript/curry-vs-partial-application/">Read More <span class="shape">→</span></a>

currying function
currying 又称部分求值，currying 函数会接收一些参数，然后不会立即求值，而是继续返回一个新函数，将传入的参数通过闭包的形式保存，等到被真正求值的时候，再一次性把所有传入的参数进行求值。



// 普通函数
function add(x,y){ return x + y;}
add(1 , 2); // 3
// 函数currying 
var add = function (x) { return function (y) { return x + y;};};
var increment = add(1);
increment(2); // 3

这里我们定义了一个 add 函数，它接受一个参数并返回一个新的函数。
调用 add 之后，返回的函数就通过闭包的方式记住了 add 的第一个参数。
那么，我们如何来实现一个简易的currying 函数呢？


function curryIt(fn) { // 参数fn函数的参数个数
 var n = fn.length;
 var args = [];
 return function (arg) {
   args.push(arg);
   if (args.length &lt; n) {
    return arguments.callee; // 返回这个函数的引用 }
   else {  return fn.apply(this , args); }
 };
}

function add(a, b, c) { return [a, b, c];}
var c = curryIt(add);
var c1 = c(1);
var c2 = c1(2);
var c3 = c2(3);
console.log(c3); //[1, 2, 3]

由此我们可以看出，currying 是一种“预加载”函数的方法，通过传递较少的参数，得到一个已经记住了这些参数的新函数，某种意义上讲，这是一种对参数的“缓存”，是一种非常高效的编写函数的方法！

add = (x, y) => x + y
add(2, 3) //=> 5

currying function
add = x => y => x + y
same code without arrow functions
add = function (x) {
  return function (y) {
    return x + y
  }
}
In other words add of some number returns a function

<h2>The reduce() method</h2>
The reduce() method reduces the array to a single value.
It executes a provided function for each value of the array (from left-to-right).
The return value of the function is stored in an accumulator (result/total).
arr.reduce(callback, initialValue);

Note: reduce() does not execute the function for array elements without values.
Note: this method does not change the original array.

Subtract the numbers in the array, starting from the left:

var numbers = [175, 50, 25];
function myFunc(total, num) { return total - num; }
numbers.reduce(myFunc); // 100

var numbers = [15.5, 2.3, 1.1, 4.7];
function getSum(total, num) { return total + Math.round(num); }
numbers.reduce(getSum, 0); // 24

The reducer function takes four arguments:
arr.reduce(callback( accumulator, currentValue[, index[, array]] )[, initialValue])

Accumulator (acc)
Current Value (cur)
Current Index (idx)
Source Array (src)

Samples
var data = [29.76, 41.85, 46.5]; 
var sum = data.reduce( (total, amount)=>{ return total + amount }); 
sum // 118.11

Find the Maximum Value
dates.reduce((max, d) => d > max ? d : max, dates[0]);

Suppose you have an array of async functions that you want to execute in series.
There is a non-standard promise.series function for this, but you can also do this with reduce().

const functions = [
  async function() { return 1; },
  async function() { return 2; },
  async function() { return 3; }
];

// Chain the function calls in order, starting with an empty promise.
// In the end, `res` is equivalent to
// `Promise.resolve().then(fn1).then(fn2).then(fn3)`
const res = await functions.
  reduce((promise, fn) => promise.then(fn), Promise.resolve());
res; // 3


Sum of values in an object array
let initialValue = 0
let sum = [{x: 1}, {x: 2}, {x: 3}].reduce(
    (accumulator, currentValue) => accumulator + currentValue.x
    , initialValue
)

console.log(sum) // logs 6


Flatten an array of arrays
let flattened = [[0, 1], [2, 3], [4, 5]].reduce(
  ( accumulator, currentValue ) => accumulator.concat(currentValue),
  []
)

Counting instances of values in an object
let names = ['Alice', 'Bob', 'Tiff', 'Bruce', 'Alice']

let countedNames = names.reduce(function (allNames, name) { 
  if (name in allNames) {
    allNames[name]++
  }
  else {
    allNames[name] = 1
  }
  return allNames
}, {})
// countedNames is:
// { 'Alice': 2, 'Bob': 1, 'Tiff': 1, 'Bruce': 1 }


Grouping objects by a property
let people = [
  { name: 'Alice', age: 21 },
  { name: 'Max', age: 20 },
  { name: 'Jane', age: 20 }
];

function groupBy(objectArray, property) {
  return objectArray.reduce(function (acc, obj) {
    let key = obj[property]
    if (!acc[key]) {
      acc[key] = []
    }
    acc[key].push(obj)
    return acc
  }, {})
}

let groupedPeople = groupBy(people, 'age')
// groupedPeople is:
// { 
//   20: [
//     { name: 'Max', age: 20 }, 
//     { name: 'Jane', age: 20 }
//   ], 
//   21: [{ name: 'Alice', age: 21 }] 
// }
Bonding arrays contained in an array of objects using the spread operator and initialValue
// friends - an array of objects 
// where object field "books" is a list of favorite books 
let friends = [{
  name: 'Anna',
  books: ['Bible', 'Harry Potter'],
  age: 21
}, {
  name: 'Bob',
  books: ['War and peace', 'Romeo and Juliet'],
  age: 26
}, {
  name: 'Alice',
  books: ['The Lord of the Rings', 'The Shining'],
  age: 18
}]

// allbooks - list which will contain all friends' books +  
// additional list contained in initialValue
let allbooks = friends.reduce(function(accumulator, currentValue) {
  return [...accumulator, ...currentValue.books]
}, ['Alphabet'])

// allbooks = [
//   'Alphabet', 'Bible', 'Harry Potter', 'War and peace', 
//   'Romeo and Juliet', 'The Lord of the Rings',
//   'The Shining'
// ]


Remove duplicate items in an array
let myArray = ['a', 'b', 'a', 'b', 'c', 'e', 'e', 'c', 'd', 'd', 'd', 'd']
let myOrderedArray = myArray.reduce(function (accumulator, currentValue) {
  if (accumulator.indexOf(currentValue) === -1) {
    accumulator.push(currentValue)
  }
  return accumulator
}, [])

console.log(myOrderedArray)
Replace .filter().map() with .reduce()
Using Array.filter() then Array.map() traverses the array twice, but you can achieve the same effect while traversing only once with Array.reduce(), thereby being more efficient. (If you like for loops, you can filter and map while traversing once with Array.forEach()).

const numbers = [-5, 6, 2, 0,];

const doubledPositiveNumbers = numbers.reduce((accumulator, currentValue) => {
  if (currentValue > 0) {
    const doubled = currentValue * 2;
    accumulator.push(doubled);
  }
  return accumulator;
}, []);

console.log(doubledPositiveNumbers); // [12, 4]
Running Promises in Sequence
/**
 * Runs promises from array of functions that can return promises
 * in chained manner
 *
 * @param {array} arr - promise arr
 * @return {Object} promise object
 */
function runPromiseInSequence(arr, input) {
  return arr.reduce(
    (promiseChain, currentFunction) => promiseChain.then(currentFunction),
    Promise.resolve(input)
  )
}

// promise function 1
function p1(a) {
  return new Promise((resolve, reject) => {
    resolve(a * 5)
  })
}

// promise function 2
function p2(a) {
  return new Promise((resolve, reject) => {
    resolve(a * 2)
  })
}

// function 3  - will be wrapped in a resolved promise by .then()
function f3(a) {
 return a * 3
}

// promise function 4
function p4(a) {
  return new Promise((resolve, reject) => {
    resolve(a * 4)
  })
}

const promiseArr = [p1, p2, f3, p4]
runPromiseInSequence(promiseArr, 10)
  .then(console.log)   // 1200
Function composition enabling piping
// Building-blocks to use for composition
const double = x => x + x
const triple = x => 3 * x
const quadruple = x => 4 * x

// Function composition enabling pipe functionality
const pipe = (...functions) => input => functions.reduce(
    (acc, fn) => fn(acc),
    input
)

// Composed functions for multiplication of specific values
const multiply6 = pipe(double, triple)
const multiply9 = pipe(triple, triple)
const multiply16 = pipe(quadruple, quadruple)
const multiply24 = pipe(double, triple, quadruple)

// Usage
multiply6(6)   // 36
multiply9(9)   // 81
multiply16(16) // 256
multiply24(10) // 240

Write map using reduce
if (!Array.prototype.mapUsingReduce) {
  Array.prototype.mapUsingReduce = function(callback, thisArg) {
    return this.reduce(function(mappedArray, currentValue, index, array) {
      mappedArray[index] = callback.call(thisArg, currentValue, index, array)
      return mappedArray
    }, [])
  }
}

[1, 2, , 3].mapUsingReduce(
  (currentValue, index, array) => currentValue + index + array.length
) // [5, 7, , 10]


<h2>map() Method</h2>
The map() method calls the provided function once for each element in an array, in order.

Return an array with the square root of all the values in the original array:
var numbers = [4, 9, 16, 25];
numbers.map(Math.sqrt)

Multiply all the values in array with 10:
var numbers = [65, 44, 12, 4];
function myFunction(num) { return num * 10; }
numbers.map(myFunction)

Get the full name for each person in the array:
var persons = [
  {firstname : "Malcom", lastname: "Reynolds"},
  {firstname : "Kaylee", lastname: "Frye"},
  {firstname : "Jayne", lastname: "Cobb"}
];

function getFullName(item) {
  var fullname = [item.firstname, item.lastname].join(" ");
  return fullname;
}
persons.map(getFullName);

<h2>filter() Method</h2>
The filter() method creates an array
filled with all array elements that pass a test (provided as a function).

Note: filter() does not execute the function for array elements without values.
Note: filter() does not change the original array.

Return an array of all the values in the ages array that are 18 or over:
var ages = [32, 33, 16, 40];
function checkAdult(age) { return age >= 18; }
ages.filter(checkAdult);

Return an array of all the values in the ages over 20:
var ages = [32, 33, 12, 40];
function checkAdult(age) { return age >= 20; }
ages.filter(checkAdult);

<h2>forEach loop</h2>
var myArray = ['a', 'b', 'c', 'd', 'e'];
function currentLetter(letter) {
  console.log('The current letter is: ' + letter);
}

using For loop to call a function
for (var i = 0; i < myArray.length; i++) {
  currentLetter(myArray[i]);  
}

using forEach loop with a function
myArray.forEach(function(value) {
  console.log('The current letter is: ' + value;
});

using the high order function
myArray.forEach(currentLetter);

forEach is an Array method that we can use to execute a function on each element in an array.
It can only be used on Arrays, Maps, and Sets.
arr = ['cat', 'dog', 'fish'];
arr.forEach(element => { console.log(element); });
// cat
// dog
// fish

arr = [5,4,8,7];
arr.forEach(function(item,index,arr) {
  console.log("item: " + item + " at index: " + index + " in the array: " + arr);
})

<h2>Detect Screen Resolution</h2>
Use the window.screen Object: screen.width, screen.height

detect the native resolution of a mobile device display (e.g. retina display):
multiply the screen width and height with the device pixel ratio:
window.screen.width * window.devicePixelRatio
window.screen.height * window.devicePixelRatio
<code>
function getResolution() {
    alert("Your screen resolution is: " + screen.width + "x" + screen.height + " retina display " + Math.round(window.screen.width * window.devicePixelRatio) + " " + Math.round(window.screen.height * window.devicePixelRatio));
}
getResolution();
</code>
should leverage the manufacturer's hint via the
&lt;meta name="viewport" content="width=device-width"/> or 
@-ms-viewport {width:device-width} feature.

After that, call window.innerWidth

Avoid relying on window.devicePixelRatio for anything.
Its meaning and the value it returns is currently in a state of flux and anything you make right now based around it will most likely break very soon.

Note: Meta viewport only works on Android, iOS, and Windows Phone 8. @-ms-viewport only works (properly) on IE10 Metro and can interfere with proper Meta viewport behavior on Windows Phone 8.

<h2>Useful JavaScript Tips, Tricks and Best Practices</h2>
<strong>1 - Don’t forget <code>var</code> keyword when assigning a variable’s value for the first time.</strong>

Assignment to an undeclared variable automatically results in a global variable being created. 
Avoid global variables.

<strong>2 - use <code>===</code> instead of <code>==</code></strong>

The <code>==</code> (or <code>!=</code>) operator performs an automatic type conversion if needed. 
The <code>===</code> (or <code>!==</code>) operator will not perform any conversion. 
It compares the value and the type, which could be considered faster than <code>==</code>.

<code>[10] === 10    // is false
[10]  == 10    // is true
'10' == 10     // is true
'10' === 10    // is false
 []   == 0     // is true
 [] ===  0     // is false
 '' == false   // is true but true == "a" is false
 '' ===   false // is false </code>

<strong>3 - <code>undefined</code>, <code>null</code>, 0, <code>false</code>, <code>NaN</code>, <code>''</code> (empty string) are all falsy.</strong><br />
<strong>4 - Use Semicolons for line termination</strong>

The use of semi-colons for line termination is a good practice. 
You won't be warned if you forget it, because in most cases it will be inserted by the JavaScript parser. 
For more details about why you should use semi-colons, take a look to this artice: <a href="https://davidwalsh.name/javascript-semicolons">http://davidwalsh.name/javascript-semicolons</a>.

<strong>5 - Create an object constructor</strong>

<code>function Person(firstName, lastName){
    this.firstName =  firstName;
    this.lastName = lastName;        
}  

var Saad = new Person("Saad", "Mousliki");</code>

<strong>6 - Be careful when using <code>typeof</code>, <code>instanceof</code> and <code>constructor</code>.</strong>


<em>typeof</em> : a JavaScript unary operator used to  return a string that represents the primitive type of a variable,  don't forget that <code>typeof null</code> will return "object", and for the majority of object types (Array, Date, and others) will return also "object".
<em>constructor</em> : is a property of the internal prototype property, which could be overridden by code.
<em>instanceof</em> : is another JavaScript operator that check in all the prototypes chain the constructor it returns true if it's found and false if not.

<code>var arr = ["a", "b", "c"];
typeof arr;   // return "object" 
arr  instanceof Array // true
arr.constructor();  //[]
</code>

<strong>7 - Create a Self-calling Function</strong>

This is often called a Self-Invoked Anonymous Function or Immediately Invoked Function Expression (IIFE). 
It is a function that executes automatically when you create it, and has the following form:

<code>(function(){
    // some private code that will be executed automatically
})();  
(function(a,b){
    var result = a+b;
    return result;
})(10,20)</code>

<strong>8 - Get a random item from an array</strong>

<code>var items = [12, 548 , 'a' , 2 , 5478 , 'foo' , 8852, , 'Doe' , 2145 , 119];

var  randomItem = items[Math.floor(Math.random() * items.length)];</code>

<strong>9 - Get a random number in a specific range</strong>

This code snippet can be useful when trying to generate fake data for testing purposes, such as a salary between min and max.

<code>var x = Math.floor(Math.random() * (max - min + 1)) + min;</code>

<strong>10 - Generate an array of numbers with numbers from 0 to max</strong>

<code>var numbersArray = [] , max = 100;

for( var i=1; numbersArray.push(i++) &lt; max;);  // numbers = [1,2,3 ... 
100] </code>

<strong>11 - Generate a random set of alphanumeric characters</strong>

<code>function generateRandomAlphaNum(len) {
    var rdmString = "";
    for( ; rdmString.length &lt; len; rdmString  += Math.random().toString(36).substr(2));
    return  rdmString.substr(0, len);

}
</code>

<strong>12 - Shuffle an array of numbers</strong>

<code>var numbers = [5, 458 , 120 , -215 , 228 , 400 , 122205, -85411];
numbers = numbers.sort(function(){ return Math.random() - 0.5});
/* the array numbers will be equal for example to [120, 5, 228, -215, 400, 458, -85411, 122205]  */</code>

A better option could be to implement a random sort order by code (e.g. 
: Fisher-Yates shuffle), than using the native sort JavaScript function. 
For more details take a look to <a href="https://stackoverflow.com/questions/962802/is-it-correct-to-use-javascript-array-sort-method-for-shuffling/962890">this discussion</a>.

<strong>13 - A string trim function</strong>

The classic trim function of Java, C#, PHP and many other language that remove whitespace from a string doesn’t exist in JavaScript, so we could add it to the <code>String</code> object.

<code>String.prototype.trim = function(){return this.replace(/^s+|s+$/g, "");};  </code>

A native implementation of the trim() function is available in the recent JavaScript engines.

<strong>14 - Append an array to another array</strong>

<code>var array1 = [12 , "foo" , {name "Joe"} , -2458];

var array2 = ["Doe" , 555 , 100];
Array.prototype.push.apply(array1, array2);
/* array1 will be equal to  [12 , "foo" , {name "Joe"} , -2458 , "Doe" , 555 , 100] */</code>

<strong>15 - Transform the <code>arguments</code> object into an array</strong>

<code>var argArray = Array.prototype.slice.call(arguments);</code>

<strong>16 - Verify that a given argument is a number</strong>

<code>function isNumber(n){
    return !isNaN(parseFloat(n)) &amp;&amp; isFinite(n);
}</code>

<strong>17 - Verify that a given argument is an array</strong>

<code>function isArray(obj){
    return Object.prototype.toString.call(obj) === '[object Array]' ;
}</code>

Note that if the toString() method is overridden, you will not get the expected result using this trick.

Or use&#8230;

<code>Array.isArray(obj); // its a new Array method</code>

You could also use <code>instanceof</code> if you are not working with multiple frames. 
However, if you have many contexts, you will get a wrong result.

<code>var myFrame = document.createElement('iframe');
document.body.appendChild(myFrame);

var myArray = window.frames[window.frames.length-1].Array;
var arr = new myArray(a,b,10); // [a,b,10]  

// instanceof will not work correctly, myArray loses his constructor 
// constructor is not shared between frames
arr instanceof Array; // false</code>

<strong>18 - Get the max or the min in an array of numbers</strong>

<code>var  numbers = [5, 458 , 120 , -215 , 228 , 400 , 122205, -85411]; 
var maxInNumbers = Math.max.apply(Math, numbers); 
var minInNumbers = Math.min.apply(Math, numbers);</code>

<strong>19 - Empty an array</strong>

<code>var myArray = [12 , 222 , 1000 ];  
myArray.length = 0; // myArray will be equal to [].</code>

<strong>20 - Don’t use delete to remove an item from array</strong>

Use <code>splice</code> instead of using <code>delete</code> to delete an item from an array. 
Using <code>delete</code> replaces the item with <code>undefined</code> instead of the removing it from the array.

Instead of&#8230;

<code>var items = [12, 548 ,'a' , 2 , 5478 , 'foo' , 8852, , 'Doe' ,2154 , 119 ]; 
items.length; // return 11 
delete items[3]; // return true 
items.length; // return 11 
/* items will be equal to [12, 548, "a", undefined × 1, 5478, "foo", 8852, undefined × 1, "Doe", 2154,       119]   */</code>

Use&#8230;

<code>var items = [12, 548 ,'a' , 2 , 5478 , 'foo' , 8852, , 'Doe' ,2154 , 119 ]; 
items.length; // return 11 
items.splice(3,1) ; 
items.length; // return 10 
/* items will be equal to [12, 548, "a", 5478, "foo", 8852, undefined × 1, "Doe", 2154,       119]   */</code>

The delete method should be used to delete an object property.

<strong>21 - Truncate an array using length</strong>

Like the previous example of emptying an array, we truncate it using the <code>length</code> property.

<code>var myArray = [12 , 222 , 1000 , 124 , 98 , 10 ];  
myArray.length = 4; // myArray will be equal to [12 , 222 , 1000 , 124].</code>

As a bonus, if you set the array length to a higher value, the length will be changed and new items will be added with <code>undefined</code> as a value. 
The array length is not a read only property.

<code>myArray.length = 10; // the new array length is 10 
myArray[myArray.length - 1] ; // undefined</code>

<strong>22 - Use logical AND/ OR for conditions</strong>

<code>var foo = 10;  
foo == 10 &amp;&amp; doSomething(); // is the same thing as if (foo == 10) doSomething(); 
foo == 5 || doSomething(); // is the same thing as if (foo != 5) doSomething();</code>

The logical OR could also be used to set a default value for function argument.

<code>function doSomething(arg1){ 
    arg1 = arg1 || 10; // arg1 will have 10 as a default value if it’s not already set
}</code>

<strong>23 - Use the map() function method to loop through an array's items</strong>

<code>var squares = [1,2,3,4].map(function (val) {  
    return val * val;  
}); 
// squares will be equal to [1, 4, 9, 16] </code>

<strong>24 - Rounding number to N decimal place</strong>

<code>var num =2.443242342;
num = num.toFixed(4);  // num will be equal to 2.4432</code>

NOTE : the <code>toFixed()</code> function returns a string and not a number.

<strong>25 - Floating point problems</strong>

<code>0.1 + 0.2 === 0.3 // is false 
9007199254740992 + 1 // is equal to 9007199254740992  
9007199254740992 + 2 // is equal to 9007199254740994</code>

Why does this happen? 0.1 +0.2 is equal to 0.30000000000000004. 
What you need to know is that all JavaScript numbers are floating points represented internally in 64 bit binary according to the IEEE 754 standard. 
For more explanation, take a look to <a href="https://2ality.com/2012/04/number-encoding.html">this blog post</a>.

You can use <code>toFixed()</code> and <code>toPrecision()</code> to resolve this problem.

<strong>26 - Check the properties of an object when using a for-in loop</strong>

This code snippet could be useful in order to avoid iterating through the properties from the object’s prototype.

<code>for (var name in object) {  
    if (object.hasOwnProperty(name)) { 
        // do something with name                    
    }  
}</code>

<strong>27 - Comma operator</strong>

<code>var a = 0; 
var b = ( a++, 99 ); 
console.log(a);  // a will be equal to 1 
console.log(b);  // b is equal to 99</code>

<strong>28 - Cache variables that need calculation or querying</strong>

In the case of a jQuery selector, we could cache the DOM element.

<code>var navright = document.querySelector('#right'); 
var navleft = document.querySelector('#left'); 
var navup = document.querySelector('#up'); 
var navdown = document.querySelector('#down');</code>

<strong>29 - Verify the argument before passing it to <code>isFinite()</code></strong>

<code>isFinite(0/0) ; // false 
isFinite("foo"); // false 
isFinite("10"); // true 
isFinite(10);   // true 
isFinite(undefined);  // false 
isFinite();   // false 
isFinite(null);  // true  !!! </code>

<strong>30 - Avoid negative indexes in arrays</strong>

<code>var numbersArray = [1,2,3,4,5]; 
var from = numbersArray.indexOf("foo") ;  // from is equal to -1 
numbersArray.splice(from,2);    // will return [5]</code>

Make sure that the arguments passed to <code>splice</code> are not negative.

<strong>31 - Serialization and deserialization (working with JSON)</strong>

<code>var person = {name :'Saad', age : 26, department : {ID : 15, name : "R&amp;D"} }; 
var stringFromPerson = JSON.stringify(person); 
/* stringFromPerson is equal to "{"name":"Saad","age":26,"department":{"ID":15,"name":"R&amp;D"}}"   */ 
var personFromString = JSON.parse(stringFromPerson);  
/* personFromString is equal to person object  */</code>

<strong>32 - Avoid the use of <code>eval()</code> or the <code>Function</code> constructor</strong>

Use of <code>eval</code> or the <code>Function</code> constructor are expensive operations as each time they are called script engine must convert source code to executable code.

<code>var func1 = new Function(functionCode);
var func2 = eval(functionCode);</code>

<strong>33 - Avoid using <code>with()</code> (The good part)</strong>

Using <code>with()</code> inserts a variable at the global scope. 
Thus, if another variable has the same name it could cause confusion and overwrite the value.

<strong>34 - Avoid using for-in loop for arrays</strong>

Instead of using&#8230;

<code>var sum = 0;  
for (var i in arrayNumbers) {  
    sum += arrayNumbers[i];  
}</code>

&#8230;it’s better to use&#8230;

<code>var sum = 0;  
for (var i = 0, len = arrayNumbers.length; i &lt; len; i++) {  
    sum += arrayNumbers[i];  
}</code>

As a bonus, the instantiation of <code>i</code> and <code>len</code> is executed once because it’s in the first statement of the for loop. 
Thsi is faster than using&#8230;

<code>for (var i = 0; i &lt; arrayNumbers.length; i++)</code>

Why? The length of the array <code>arrayNumbers</code> is recalculated every time the loop iterates.

NOTE : the issue of recalculating the length in each iteration was fixed in the latest JavaScript engines.

<strong>35 - Pass functions, not strings, to <code>setTimeout()</code> and <code>setInterval()</code></strong>

If you pass a string into <code>setTimeout()</code> or <code>setInterval()</code>, the string will be evaluated the same way as with <code>eval</code>, which is slow. 
Instead of using&#8230;

<code>setInterval('doSomethingPeriodically()', 1000);  
setTimeout('doSomethingAfterFiveSeconds()', 5000);</code>

&#8230;use&#8230;

<code>setInterval(doSomethingPeriodically, 1000);  
setTimeout(doSomethingAfterFiveSeconds, 5000);</code>

<strong>36 - Use a switch/case statement instead of a series of if/else</strong>

Using switch/case is faster when there are more than 2 cases, and it is more elegant (better organized code). 
Avoid using it when you have more than 10 cases.

<strong>37 - Use switch/case statement with numeric ranges</strong>

Using a switch/case statement with numeric ranges is possible with this trick.

<code>function getCategory(age) {  
    var category = "";  
    switch (true) {  
        case isNaN(age):  
            category = "not an age";  
            break;  
        case (age &gt;= 50):  
            category = "Old";  
            break;  
        case (age &lt;= 20):  
            category = "Baby";  
            break;  
        default:  
            category = "Young";  
            break;  
    };  
    return category;  
}  
getCategory(5);  // will return "Baby"</code>

<strong>38 - Create an object whose prototype is a given object</strong>

It’s possible to write a function that creates an object whose prototype is the given argument like this&#8230;

<code>function clone(object) {  
    function OneShotConstructor(){}; 
    OneShotConstructor.prototype= object;  
    return new OneShotConstructor(); 
} 
clone(Array).prototype ;  // []</code>

<strong>39 - An HTML escaper function</strong>

<code>function escapeHTML(text) {  
    var replacements= {"&lt;": "&amp;lt;", "&gt;": "&amp;gt;","&amp;": "&amp;amp;", """: "&amp;quot;"};                      
    return text.replace(/[&lt;&gt;&amp;"]/g, function(character) {  
        return replacements[character];  
    }); 
}</code>

<strong>40 - Avoid using try-catch-finally inside a loop</strong>

The try-catch-finally construct creates a new variable in the current scope at runtime each time the catch clause is executed where the caught exception object is assigned to a variable.

Instead of using&#8230;

<code>var object = ['foo', 'bar'], i;  
for (i = 0, len = object.length; i &lt;len; i++) {  
    try {  
        // do something that throws an exception 
    }  
    catch (e) {   
        // handle exception  
    } 
}</code>

&#8230;use&#8230;

<code>var object = ['foo', 'bar'], i;  
try { 
    for (i = 0, len = object.length; i &lt;len; i++) {  
        // do something that throws an exception 
    } 
} 
catch (e) {   
    // handle exception  
} </code>

<strong>41 - Set timeouts to <code>XMLHttpRequests</code></strong>

You could abort the connection if an XHR takes a long time (for example, due to a network issue), by using <code>setTimeout()</code> with the XHR call.

<code>var xhr = new XMLHttpRequest (); 
xhr.onreadystatechange = function () {  
    if (this.readyState == 4) {  
        clearTimeout(timeout);  
        // do something with response data 
    }  
}  
var timeout = setTimeout( function () {  
    xhr.abort(); // call error callback  
}, 60*1000 /* timeout after a minute */ ); 
xhr.open('GET', url, true);  

xhr.send();</code>

As a bonus, you should generally avoid synchronous XHR calls completely.

<strong>42 - Deal with WebSocket timeout</strong>

Generally when a WebSocket connection is established, a server could time out your connection after 30 seconds of inactivity. 
The firewall could also time out the connection after a period of inactivity.

To deal with the timeout issue you could send an empty message to the server periodically. 
To do this, add these two functions to your code: one to keep alive the connection and the other one to cancel the keep alive. 
Using this trick, you’ll control the timeout.

Add a <code>timerID</code>&#8230;

<code>var timerID = 0; 
function keepAlive() { 
    var timeout = 15000;  
    if (webSocket.readyState == webSocket.OPEN) {  
        webSocket.send('');  
    }  
    timerId = setTimeout(keepAlive, timeout);  
}  
function cancelKeepAlive() {  
    if (timerId) {  
        cancelTimeout(timerId);  
    }  
}</code>

The <code>keepAlive()</code> function should be added at the end of the <code>onOpen()</code> method of the webSocket connection and the <code>cancelKeepAlive()</code> at the end of the <code>onClose()</code> method.

<strong>43 - Keep in mind that <a href="https://dev.opera.com/articles/efficient-javascript/?page=2">primitive operations can be faster than function calls</a>. 
Use <a href="http://vanilla-js.com/">VanillaJS</a>.</strong>

For example, instead of using&#8230;

<code>var min = Math.min(a,b); 
A.push(v);</code>

&#8230;use&#8230;

<code>var min = a &lt; b ? a : b; 
A[A.length] = v;</code>

<strong>44 - Don’t forget to use a code beautifier when coding. 
Use JSLint and minification (JSMin, for example) before going live.</strong>

<strong>45 - JavaScript is awesome: Best Resources To Learn JavaScript</strong>


Code Academy JavaScript tracks: http://www.codecademy.com/tracks/javascript
Eloquent JavaScript by Marjin Haverbeke: <a href="https://eloquentjavascript.net/">http://eloquentjavascript.net/</a>
Advanced JavaScript by John Resig: <a href="https://johnresig.com/apps/learn/">http://ejohn.org/apps/learn/</a>

<h2>make a beep</h2>
var audioCtx = new (window.AudioContext || window.webkitAudioContext || window.audioContext);

//All arguments are optional:
//duration of the tone in milliseconds. Default is 500
//frequency of the tone in hertz. default is 440
//volume of the tone. Default is 1, off is 0.
//type of tone. sine, square, sawtooth, triangle, and custom. Default sine.
//callback to use on end of tone

function beep(duration, frequency, volume, type, callback) {
    var oscillator = audioCtx.createOscillator();
    var gainNode = audioCtx.createGain();

    oscillator.connect(gainNode);
    gainNode.connect(audioCtx.destination);

    if (volume){gainNode.gain.value = volume;}
    if (frequency){oscillator.frequency.value = frequency;}
    if (type){oscillator.type = type;}
    if (callback){oscillator.onended = callback;}

    oscillator.start(audioCtx.currentTime);
    oscillator.stop(audioCtx.currentTime + ((duration || 500) / 1000));
};

<h2>Generate Sounds Programmatically</h2>
https://marcgg.com/blog/2016/11/01/javascript-audio/

Produce a Simple Beep
First let’s create a very basic beep using a <a href="https://en.wikipedia.org/wiki/Sine_wave">sinusoid</a>. 
We’ll initiate an <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioContext">audio context</a>, which is the central object for generating sound. 
Then we’ll create an <a href="https://developer.mozilla.org/en-US/docs/Web/API/OscillatorNode">oscillator</a> producing the sine wave. 
Finally we connect the oscillator to the context and start.

<code>var context = new AudioContext()
var o = context.createOscillator()
o.type = "sine"
o.connect(context.destination)
o.start()</code>

You’ll notice that the sound produced here is not great. 
It seems like you let a phone off the hook and when you stop it, you hear a “click” and it’s not pleasant at all. 
This is because the human hear reacts this way as explained in this <a href="https://alemangui.github.io/blog//2015/12/26/ramp-to-value.html">great article</a>. 
Basically when you stop the sound anywhere else than the zero crossing point, you’ll hear this clicking sound.


<img src="https://marcgg.com/assets/blog/audio_click.jpg" alt="Clicking noise on a sine curve" style="padding: 20px; width: 600px;" />
<h3>Getting Rid Of The Clicking Sound</h3>
The best solution to get rid of this click is to ramp the sine wave down with an exponentional function, using <code>AudioParam.exponentialRampToValueAtTime()</code> as <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioParam/exponentialRampToValueAtTime">documented here</a>.

This time we need to add a <a href="https://developer.mozilla.org/en-US/docs/Web/API/GainNode">gain node</a> to our oscillator. 
A gain node allows us to change the volume of a signal as explained in this schema from the documentation:
<img src="https://marcgg.com/assets/blog/gain.jpg" alt="Gain node" style="padding: 20px; width: 600px;" />

The code to start the sound now looks like this:

<code>var context = new AudioContext()
var o = context.createOscillator()
var  g = context.createGain()
o.connect(g)
g.connect(context.destination)
o.start(0)</code>


In order to stop the sound we change the gain value, effectively reducing the volume. 
Note that we don’t ramp down to 0 since there is a limitation in this function where the value has to be positive.

<code>g.gain.exponentialRampToValueAtTime(
 0.00001, context.currentTime + 0.04
)</code>



As you can hear, the clicking sound is gone! But that’s not the only interesting thing that you can do with this exponential ramp down.
<h3>Set A Ringing Effect</h3>
In the example above, we decided to stop the sound really quickly, in <code>0.04</code> seconds. 
But what happens when we change this <code>X</code> value?

<code>g.gain.exponentialRampToValueAtTime(0.00001, context.currentTime + X)</code>


<h3>Hitting Notes</h3>
Giving more time to the sound to fade out gives it a totally different feel. 
It gets more visible when we start and stop the signal right away:

Start and stop quickly</a> Start and stop slowly</a>

The first one sounds like a ticking noise when the other sounds like an actual note played on an instrument.
<h3>Various Oscilators</h3>
So far we’ve been using a sine wave for our main signal, but we have other options:
<img src="https://marcgg.com/assets/blog/signals.png" alt="Types of oscilators" style="padding: 20px; width: 400px;" />

It’s enven more interesting when we start playing around with the type of oscilators by setting <code>o.type = type</code>.

Sine</a> Square</a> Triangle</a> Sawtooth</a>
<h3>Playing Actual Notes</h3>
With the previous code, it becomes fairly simple to have a nice sounding note, but what exactly were we playing? That’s when you have to take frequency into account. 
For instance, the one people know is that A4 is 440Hz, but there are others.
<h3>Note Frequencies in Hz</h3>
With this table, you can easily create a mapping in your code to play any given note using its . 
For the hackathon I used a simple hash mapping that is available in this <a href="https://gist.github.com/marcgg/94e97def0e8694f906443ed5262e9cbb">gist</a>.
<table> <tr> <td></td><th>C</th><th>C#</th><th>D</th><th>Eb</th><th>E</th><th>F</th><th>F#</th><th>G</th><th>G#</th><th>A</th><th>Bb</th><th>B</th> </tr> <tr> <th>0</th><td>16.35</td><td>17.32</td><td>18.35</td><td>19.45</td><td>20.60</td><td>21.83</td><td>23.12</td><td>24.50</td><td>25.96</td><td>27.50</td><td>29.14</td><td>30.87</td> </tr> <tr> <th>1</th><td>32.70</td><td>34.65</td><td>36.71</td><td>38.89</td><td>41.20</td><td>43.65</td><td>46.25</td><td>49.00</td><td>51.91</td><td>55.00</td><td>58.27</td><td>61.74</td> </tr> <tr> <th>2</th><td>65.41</td><td>69.30</td><td>73.42</td><td>77.78</td><td>82.41</td><td>87.31</td><td>92.50</td><td>98.00</td><td>103.8</td><td>110.0</td><td>116.5</td><td>123.5</td> </tr> <tr> <th>3</th><td>130.8</td><td>138.6</td><td>146.8</td><td>155.6</td><td>164.8</td><td>174.6</td><td>185.0</td><td>196.0</td><td>207.7</td><td>220.0</td><td>233.1</td><td>246.9</td> </tr> <tr> <th>4</th><td>261.6</td><td>277.2</td><td>293.7</td><td>311.1</td><td>329.6</td><td>349.2</td><td>370.0</td><td>392.0</td><td>415.3</td><td>440.0</td><td>466.2</td><td>493.9</td> </tr> <tr> <th>5</th><td>523.3</td><td>554.4</td><td>587.3</td><td>622.3</td><td>659.3</td><td>698.5</td><td>740.0</td><td>784.0</td><td>830.6</td><td>880.0</td><td>932.3</td><td>987.8</td> </tr> <tr> <th>6</th><td>1047</td><td>1109</td><td>1175</td><td>1245</td><td>1319</td><td>1397</td><td>1480</td><td>1568</td><td>1661</td><td>1760</td><td>1865</td><td>1976</td> </tr> <tr> <th>7</th><td>2093</td><td>2217</td><td>2349</td><td>2489</td><td>2637</td><td>2794</td><td>2960</td><td>3136</td><td>3322</td><td>3520</td><td>3729</td><td>3951</td> </tr> <tr> <th>8</th><td>4186</td><td>4435</td><td>4699</td><td>4978</td><td>5274</td><td>5588</td><td>5920</td><td>6272</td><td>6645</td><td>7040</td><td>7459</td><td>7902</td> </tr> </table>
To implement this, we just need to add a frequency to our oscilator:

<code>var frequency = 440.0
o.frequency.value = frequency</code>

If we change with the value of <code>frequency</code>, we can play any note. 
For instance:

261.6Hz (C4)  440Hz (A4)  830.6Hz (G#5)

Mix this with the ramp down timings and different signals, and you start to be able to create more interesting sounds.

174.6Hz (F3) - Square  1109Hz (C#6) - Sawtooth  87.31 Hz (F2) - Triangle 
 
Since you scrolled this far, you might be interested in some other things I wrote:
<a href="/blog/2016/11/21/chiptune-sequencer-multiplayer/">Building A Multiplayer 8 Bits Sequencer</a>
<a href="/blog/2016/03/14/github-pages-jekyll/">Trailing Slashes, Github Pages, Jekyll 3 & 404s</a>
<a href="/blog/2016/03/01/vimrc-example/">Vim Configuration From Scratch in 2016</a>
<a href="/blog/2015/01/05/css-animations-failing-capybara-specs/">How CSS Animations Can Break Your Tests</a>
<a href="/blog/2014/07/22/in-defense-of-legacy-code/">Some Respect For Legacy Code</a>
<a href="/blog/2014/04/28/frame-based-layout-bad-code/">Tips on Creating a Website From When I Was 12</a>
<a href="/blog/2013/11/05/enough-with-the-language-trolls/">Enough With The Trolls</a>
<a href="/blog/2013/03/25/please-changelog-open-source/">Please Keep a Changelog For Your Open Source Lib</a>
<a href="/blog/2012/09/04/one-reason-to-switch-to-vim-editor/">The One Thing That Made Me Switch To Vim</a>
<a href="/books/">Startup & Tech Book Reviews</a>

<h2>Making Music in the Browser</h2>
<a href="https://www.javascriptjanuary.com/blog/making-music-in-the-browser" class="whitebut ">Making Music in the Browser</a>

You'll find a global constructor <code>AudioContext</code> (<code>webkitAudioContext</code> in Chrome 34/35) that unlocks this functionality.
<h3>Oscillators</h3>
One of the main components of this API is the oscillator. 
If you've used a synthesizer before, you're likely already familiar with this concept. 
An oscillator produces a sound wave at a set frequency and pattern. 
This creates notes with different qualities and textures. 
Many oscillators, including the ones in the Web Audio API, support 4 different waveforms out of the box: sine, triangle, square, and sawtooth. 
Each has a unique quality that gives synthesizers their distinctive sound.

Let's set up an oscillator. 
We'll set the frequency to 440 and use a sine wave:

    const context = new AudioContext()
    const oscillator = context.createOscillator()

    oscillator.frequency.value = 440
    oscillator.type = 'sine'

This won't do much without an audio source to output sound to, of course. 
We can connect the oscillator to our computer's default audio output pretty simply:

    oscillator.connect(context.destination)

We can start and stop our oscillator using <code>oscillator.start()</code> and <code>oscillator.stop()</code>. 
Not so fast, though! The browser won't allow us to call these methods unless they're triggered by some user interaction first. 
This is meant to prevent any random website from making noises without users' permission. 
We'll add a button to the page and trigger our oscillator to play for a second.

    document.querySelector('button').addEventListener('click', () =&gt; {
      oscillator.start(context.currentTime)
      setTimeout(() =&gt; oscillator.stop(context.currentTime), 1000)
    })

Clicking the button should produce a tone from your speakers for about a second. 
If you click the button a second time, though, you won't hear anything. 
Why not? You should see an error in your console saying that <code>start</code> can't be called more than once on an oscillator.

Ok, so now we have to deal with the fact that we can't <code>start</code> an oscillator multiple times. 
One way to handle this is to create a new oscillator every time we click the button. 
So, let's move that code into our event handler.

    const context = new AudioContext()
    
    document.querySelector('button').addEventListener('click', () =&gt; {
      const oscillator = context.createOscillator()
    
      oscillator.frequency.value = 440
      oscillator.type = 'sine'
      oscillator.connect(context.destination)
    
      oscillator.start(context.currentTime)
      setTimeout(() =&gt; oscillator.stop(context.currentTime), 500)
    })

<h3>Envelopes (Gain)</h3>
Great! Now our button plays a tone every time we click it. 
But it sounds a bit... 
robotic. 
Real instruments don't cut off their sound immediately; instead, they have a natural decrease in volume over time. 
This is called decay. 
So, how can we implement decay here? We need to control the volume! In audio synthesis, this is referred to as an envelope. 
Let's create a volume envelope for our oscillator.

    const context = new AudioContext()
    
    document.querySelector('button').addEventListener('click', () =&gt; {
      const oscillator = context.createOscillator()
      const envelope = context.createGain()
      const decayRate = 1.5 // seconds
    
      oscillator.frequency.value = 440
      oscillator.type = 'sine'
      envelope.gain.value = 1
    
      oscillator.connect(envelope)
      envelope.connect(context.destination)
    
      oscillator.start(context.currentTime)
      envelope.gain.exponentialRampToValueAtTime(0.001, context.currentTime + decayRate)
      setTimeout(() =&gt; oscillator.stop(context.currentTime), decayRate * 1000)
    })

You'll notice that we've made a change to some of our existing code here. 
Before, we connected the oscillator directly to the audio source. 
Now, we first connect it to the envelope, and then connect the envelope to the audio source. 
We've also added a call to <code>exponentialRampToValueAtTime</code> on the envelope's gain node. 
This method progressively adjusts the gain to a given value over time. 
The time it expects is a precise moment, in seconds, which we use the <code>currentTime</code> of our <code>AudioContext</code> instance to calculate.
<h3>Musicality</h3>
Now we've got something that sounds a bit more like an instrument than just a beeping noise. 
So, how do we get from here to something we can play like an instrument? First, we'll need a broader range of notes. 
Our button is currently playing at the frequency 440, which corresponds to the note A in the fourth octave. 
If you're familiar with piano music, this is the A above middle C.

Mapping note names to frequencies is a bit tedious, so let's pull in a library to solve this problem for us. 
I recommend <a href="https://www.npmjs.com/package/octavian"><code>octavian</code></a>. 
This library has a few different handy features, but importantly for us, it has a module that can translate notes in a range of octaves to their corresponding frequencies. 
You can use it like this:

    import {Note} from 'octavian'
    
    const {frequency} = new Note('A4')
    console.log(frequency) // =&gt; 440

<h3>Making It Playable</h3>
The next step is to bind a few keyboard keys to play different notes. 
We'll pull the contents of our previous click handler function into a new function, <code>playNote</code>, that takes a <code>frequency</code> argument. 
We'll use that argument to set the oscillator's frequency instead of hard-coding it to 440:

    function playNote(frequency) {
      /* ... 
*/
      oscillator.frequency.value = frequency
      /* ... 
*/
    }

Next, we'll set up a keypress event on the <code>document</code> to play a range of notes with this function depending on which key is pressed. 
For simplicity, let's map the home row to the octave of middle C (C4):

    const notes = {
      a: 'C4',
      s: 'D4',
      d: 'E4',
      f: 'F4',
      g: 'G4',
      h: 'A4',
      j: 'B4',
      k: 'C5'
    }
    
    document.addEventListener('keypress', ({key}) =&gt; {
      const note = notes[key]
      const {frequency} = new Note(note)
      playNote(frequency)
    })

Et voilà: a playable toy keyboard, right here in the browser!
<h3>Conclusion</h3>
This is a simplified example of what's possible with the Web Audio API, but there's a lot I didn't cover here. 
This API gives us all the tools we need to build a fully functional synthesizer in JavaScript. 
It supports filters, noise generation, and even custom waveform creation. 
I highly recommend looking at MDN's article on <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Using_Web_Audio_API">using the Web Audio API</a> as a source for more information.

With this API being JavaScript, it opens us up to a lot of potential for creativity. 
What would it be like to combine Web Audio with websockets? What about adding a little randomization to your sounds? The possibilities are endless. 
I look forward to seeing what you create!

<h2>Understanding <code>typeof</code>, <code>instanceof</code> and <code>constructor</code> in JavaScript</h2>

Some types in JavaScript are so-called &#8220;primitive types&#8221;, and they don't act like objects. 
These types are:

Undefined
Null
Boolean
Number
String

The confusion comes from the fact that the boolean, number and string types can be treated like objects in a limited way. 
For example, the expression <code>"I'm no object".length</code> returns the value <code>13</code>. 
This happens because when you attempt to access properties or methods on a primitive value, JavaScript instantiates a wrapper object temporarily, just so you can access its methods. 
&#8216;Cause JavaScript's nice like that. 
I'm not going to go into more details here, but Angus Croll wrote about <a href="http://javascriptweblog.wordpress.com/2010/09/27/the-secret-life-of-javascript-primitives/">The Secret Life of JavaScript Primitives</a>, so that would be a good place to learn more.

<h3><code>typeof</code></h3>

<code>typeof</code> is a unary operator, just like the <code>!</code> operator. 
It returns a string representing the type of its operand. 
Here are some examples:

<code>typeof 3; // returns "number"
typeof 'blah'; //returns "string"
typeof {}; //returns "object"
typeof []; //returns "object"
typeof function () {}; //returns "function"</code>

<code>typeof</code> has its idiosyncrasies. 
For example, <code>typeof null</code> returns <code>"object"</code>, and <code>typeof /[a-z]/</code> returns <code>"function"</code>. 
Again, Angus Croll has <a href="http://javascriptweblog.wordpress.com/2011/08/08/fixing-the-javascript-typeof-operator/">written more on this subject</a> than I have space for here.

So, basically <code>typeof</code> is used for telling apart the different primitive types (as long as you don't care about <code>null</code>). 
It's no use for telling different types of object apart though &#8211; for most objects <code>typeof</code> will return <code>"object"</code>.

<h3><code>constructor</code></h3>

<code>constructor</code> is a property available on all objects' prototypes, and it is a reference to the constructor function used to create the object. 
So, <code>({}).constructor</code> returns the <code>Object</code> constructor function (the parentheses are needed to clarify a syntactic ambiguity) and <code>[].constructor</code> returns the <code>Array</code> constructor function. 
Likewise, it will return your custom constructor function:

<code>function Person(name) {
  this.name = name;
}

var dave = new Person('Dave');
dave.constructor === Person; //true</code>

Remember that unlike the <code>typeof</code> operator, <code>constructor</code> returns a reference to the actual function. 
Another gotcha: because <code>constructor</code> is part of the prototype, if you reassign the prototype to a constructor function, e.g. 
<code>Person.prototype = {};</code>, you'll lose the <code>constructor</code> property.

<h3><code>instanceof</code></h3>

<code>instanceof</code> is a binary operator &#8211; its syntax is <code>instance instanceof Constructor</code>. 
So, to continue the above example:

<code>dave instanceof Person; //true</code>

The difference between <code>instanceof</code> and the <code>constructor</code> property (apart from the obvious syntactic difference) is that <code>instanceof</code> inspects the object's prototype chain. 
So, going back to our friend <code>dave</code> again:

<code>dave instanceof Object; //true</code>

This is because <code>Person.prototype</code> is an object, so <code>Object</code> is in <code>dave</code>&#8216;s prototype chain, therefore <code>dave</code> is an instance of <code>Object</code>.

<h3>Wrap-up</h3>
So, if you're dealing with primitive objects, use <code>typeof</code> to distinguish them. 
Because <code>typeof</code> returns <code>"function"</code> for functions, it can also be useful for checking if an object member or a function argument is a function. 
If you're working out the constructor of an object, use its <code>constructor</code> property. 
And if you're dealing with lengthy inheritance chains, and you want to find out whether an object inherits from a certain constructor, use <code>instanceof</code>.

<h2>window.onload vs document.onload</h2>
window.onload
By default, it is fired when the entire page loads, including its content (images, CSS, scripts, etc.).

document.onload
It is called when the DOM is ready which can be prior to images and other external content is loaded.

window.onload appears to be the most widely supported.

$(document).ready(function() { /* code here */ });
$(function() { /* code here */ });

<h2>Looping over arrays</h2>
<h3>while</h3>
<code>let index = 0;
const array = [1,2,3,4,5,6];

while (index &lt; array.length) {
  console.log(array[index]);
  index++;
}
</code>

<h3>for (classical)</h3><code>const array = [1,2,3,4,5,6];
for (let index = 0; index &lt; array.length; index++) {
  console.log(array[index]);
}
</code>

<h3>forEach</h3><code>const array = [1,2,3,4,5,6];

array.forEach(function(current_value, index, array) {
  console.log(`At index ${index} in array ${array} the value is ${current_value}`);
});
// =&gt; undefined
</code>

<h3>map</h3>The last construct was useful, however, it doesn’t return a new array which might
be undesirable for your specific case. <code>map</code> solves this by applying a function
over every element and then returning the new array.

<code>const array = [1,2,3,4,5,6];
const square = x =&gt; Math.pow(x, 2);
const squares = array.map(square);
console.log(`Original array: ${array}`);
console.log(`Squared array: ${squares}`);
</code>

The full signature for <code>map</code> is <code>.map(current_value, index, array)</code>.

<h3>reduce</h3>From MDN:

<blockquote>
  The reduce() method applies a function against an accumulator and each element
in the array (from left to right) to reduce it to a single value.

</blockquote>

<code>const array = [1,2,3,4,5,6];
const sum = (x, y) =&gt; x + y;
const array_sum = array.reduce(sum, 0);
console.log(`The sum of array: ${array} is ${array_sum}`);
</code>

<h3>filter</h3>Filters elements on an array based on a boolean function.

<code>const array = [1,2,3,4,5,6];
const even = x =&gt; x % 2 === 0;
const even_array = array.filter(even);
console.log(`Even numbers in array ${array}: ${even_array}`);
</code>

<h3>every</h3>Got an array and want to test if a given condition is met in every element?

<code>const array = [1,2,3,4,5,6];
const under_seven = x =&gt; x &lt; 7;

if (array.every(under_seven)) {
  console.log('Every element in the array is less than 7');
} else {
  console.log('At least one element in the array was bigger than 7');
}
</code>

<h3>some</h3>Test if at least one element matches our boolean function.

<code>const array = [1,2,3,9,5,6,4];
const over_seven = x =&gt; x &gt; 7;

if (array.some(over_seven)) {
  console.log('At least one element bigger than 7 was found');
} else {
  console.log('No element bigger than 7 was found');
}
</code>

<h2>jQuery Methods</h2>
<a href="https://www.tutorialsteacher.com/jquery/jquery-methods" class="whitebut ">www.tutorialsteacher.com/jquery/jquery-methods</a>
<table class="table table-bordered">
<thead>
<tr><th class="w-25">Category</th>
<th class="w-50">Description </th>
<th  class="w-25">Imp Methods</th></tr>
</thead>
<tbody>
<tr><td>DOM Manipulation </td>
<td>These methods manipulate DOM elements in some manner e.g. changing attribute, style attribute, adding and removing elements etc.</td>
<td>after(),
append(),
attr(),
before(),
<a href="https://api.jquery.com/category/manipulation/" target="_blank">more..</a></td></tr>
<tr><td>Traversing</td>
<td>These methods help in navigating from DOM element to another element in a parent child hierarchy e.g. finding ancestors, descendants or sibling element of a specified element.</td>
<td>children(),
closest(),
each(), 
first(),
next(), 
filter(),
parent(),
siblings(),
<a href="https://api.jquery.com/category/traversing/" target="_blank">more..</a></td></tr>
<tr><td>CSS </td>
<td>These methods get and set css related properties of elements.</td>
<td>addClass(),
css(),
hasClass(),
removeClass(),
toggleClass()
<a href="https://api.jquery.com/category/css/" target="_blank">more..</a>
</td></tr>
<tr><td>Attributes </td>
<td>These methods get and set DOM attributes of elements.</td>
<td>attr(),
html(),
removeAttr(),
prop(),
val(),
<a href="https://api.jquery.com/category/attributes/" target="_blank">more..</a>
</td></tr>
<tr><td>Events</td>
<td>These methods are used to handle DOM or JavaScript events.</td>
<td>bind(),
blur(),
change(),
click(),
dblclick(),
focus(),
keyup(),
keydown(),
<a href="https://api.jquery.com/category/events/" target="_blank">more..</a></td></tr>
<tr><td>Effects </td>
<td>These methods are used to add animation to elements.</td>
<td>animate(),
fadeIn(),
fadeOut(),
hide(),
show(),
stop(),
<a href="https://api.jquery.com/category/effects/" target="_blank">more..</a></td></tr>
<tr><td>Dimensions</td>
<td>These methods are used to get and set the CSS dimensions for the various properties.</td>
<td>height(),
width(),
innerHeight(),
innerWidth(),
<a href="https://api.jquery.com/category/dimensions/" target="_blank">more..</a></td></tr>
<tr><td>Forms</td>
<td>These methods and event handlers handle forms and their various elements.</td>
<td>blur(),
change(),
val(),
submit(),
<a href="https://api.jquery.com/category/forms/" target="_blank">more..</a></td></tr>
<tr><td>Ajax </td>
<td>These methods allow Ajax functionalities with jQuery e.g. </td>
<td>get(),
getJson(),
post(),
load(),
<a href="https://api.jquery.com/category/ajax/" target="_blank">more..</a></td></tr>
<tr><td>Core </td>
<td>These methods are core methods in jQuery API.</td>
<td>jQuery(),
holdReady(),
when(),
<a href="https://api.jquery.com/category/core/" target="_blank">more..</a></td></tr>
<tr><td>Data </td>
<td>These methods allow us to associate arbitrary data with specific DOM elements.</td>
<td>data(),
removeData(),
queue(),
dequeue(),
clearQueue(),
<a href="https://api.jquery.com/category/data/" target="_blank">more..</a></td></tr>
<tr><td>Miscellaneous </td>
<td>These methods are useful in various tasks e.g. traversing elements, converting to array etc.</td>
<td>each(),
index(),
get(),
toArray(),
<a href="https://api.jquery.com/category/miscellaneous/" target="_blank">more..</a></td></tr>
<tr><td>Utilities </td>
<td>Utility methods are helpful in getting information on various things e.g. browser, function, array, window etc. </td>
<td>inArray(),
isArray(),
isFunction(),
isNumeric(),
isWindow(),
isXmlDoc(),
<a href="https://api.jquery.com/category/utilities/" target="_blank">more..</a></td></tr>
</tbody>
</table>

<h2>Javascript get mac address</h2>
https://npmjs.org/package/getmac
get mac address

using windows operating system, following code may help you to get HDD and CPU serial number:

var sys = require('util')
var exec = require('child_process').exec;
function puts(error, stdout, stderr) {
    console.log(stdout)
}

exec("wmic CPU get ProcessorId", puts);
exec("wmic DISKDRIVE get SerialNumber", puts);

to save this serial number to a variable
I want its value
If I try to console.log(stdout.SerialNumber) then it gives me undefined

Perhaps the fingerprintjs2 is one of the solutions for this issue:

http://valve.github.io/fingerprintjs2/
https://github.com/Valve/fingerprintjs2

Browser allows very limited access to hardware.
If you want to uniquely identify your clients, you can use the below chrome extension.
https://github.com/Antony007/ADNIdentifier

<h2>The require() function is not a client side function</h2>

Typically require() is used in server side NodeJS code, but there is a require.js library file

https://stackoverflow.com/questions/23603514/javascript-require-function-giving-referenceerror-require-is-not-defined


<a href="https://stackoverflow.com/questions/19059580/client-on-node-uncaught-referenceerror-require-is-not-defined" class="whitebut ">Client on node: require is not defined</a>
You have three options:
1. Use &lt;script> tag.
2. Use a CommonJS implementation. Synchronous dependencies like Node.js
3. Use an AMD implementation.

CommonJS client side-implementations include:
(most of them require a build step before you deploy)

1. Browserify - You can use most Node.js modules in the browser. 
   This is my personal favorite.
2. Webpack - Does everything (bundles JS, CSS, etc). 
   Made popular by the surge of React.js. 
   Notorious for its difficult learning curve.
3. Rollup - New contender. 
   Leverages ES6 modules. 
   Includes tree-shaking abilities (removes unused code).

AMD implementations include:

RequireJS - Very popular amongst client-side JavaScript developers. 
Not my taste because of its asynchronous nature.

Note, in your search for choosing which one to go with, you'll read about Bower. 
Bower is only for package dependencies and is unopinionated on module definitions like CommonJS and AMD.

<h2>require()</h2>
When you're first starting out with Node js, it might be a bit confusing because you are most likely accustomed to writing JavaScript code for the web browser. 
When Node js is the server, the syntax is similar but there are a few differences around how other JavaScript files and modules are included. 
When writing on the server side you may include files as follows: require('./mysharedfile');.

This however is not valid on the client-side. 
I've previously written an article about Include a JavaScript file in another file.

Another good thing to remember is that when you are writing your Node js server-side code you split it into multiple files; ideally one per module keeping the single responsibility principle in mind. 
This is also good practice when you are doing client-side development as well.

Don't be afraid about making a lot of JavaScript files, just be sure that you implement a JavaScript minify so that all of your JavaScript is compiled into a single file and it actually removes the entire need to even used the require();.

<h2>Javascript open url target _self</h2>
window.open target _self v window.location.href

window.location.href = "webpage.htm";
location.href = "webpage.html";

window.open("url","_self"); 
window.open("webpage.htm", "_self");

<h2>Access object properties within object</h2>
var settings = {
  user:"someuser",
  password:"password",
  country:"Country",
  birthplace:country
}

settings.birthplace = settings.country;

You can't access the object inside of itself.
You can use variable:

var country = "country";
var settings = {
  user:"someuser",
  password:"password",
  country:country,
  birthplace:country
}


<h3use a constructor function to reference an object during initialization</h3>
This example uses an anonymous function as a constructor.
The new object is reference with this.

var settings = new function() {
    this.user = "someuser";
    this.password = "password";
    this.country = "Country";
    this.birthplace = this.country;
};


Enumerate the properties of an object
there are three native ways to list/traverse object properties:

for...in loops
Object.keys(o)
Object.getOwnPropertyNames(o)

<h2>Accessing Nested Objects in JavaScript</h2>
<a href="https://hackernoon.com/accessing-nested-objects-in-javascript-f02f1bd6387f" class="whitebut ">Accessing Nested Objects</a>
<a href="https://stackoverflow.com/questions/31706577/cannot-read-property-labels-of-undefined" class="whitebut ">Cannot read property 'labels' of undefined</a>

const user = {
    id: 101,
    email: 'jack@dev.com',
    personalInfo: {
        name: 'Jack',
        address: {
            line1: 'westwish st',
            line2: 'washmasher',
            city: 'wallas',
            state: 'WX'
        }
    }
}

To access the name of the our user:
const name = user.personalInfo.name;
const userCity = user.personalInfo.address.city;

But, for some reason, if our user’s personal info is not available, the object structure will be like this,
const user = {
    id: 101,
    email: 'jack@dev.com'
}

The usual way how most devs deal with this scenario is,
const name = user && user.personalInfo ? user.personalInfo.name : null;
// undefined error will NOT be thrown as we check for existence before access

This is okay if your nested structure is simple, but if you have your data nested 5 or 6 levels deep, then your code will look really messy like this,
let city;
if (
    data && data.user && data.user.personalInfo &&
    data.user.personalInfo.addressDetails &&
    data.user.personalInfo.addressDetails.primaryAddress
   ) {
    city = data.user.personalInfo.addressDetails.primaryAddress;
}

There are a few tricks to deal with this messy object structures.

Oliver Steele’s Nested Object Access Pattern
This is my personal favorite as it makes the code look clean and simple. I picked this style from stackoverflow a while back and it is pretty catchy once you understand how it works.

const name = ((user || {}).personalInfo || {}).name;
With this notation, you’ll never run into Cannot read property ‘name’ of undefined. You basically check if user exists, if not, you create an empty object on the fly. This way, the next level key will always be accessed from an object that exists or an empty object, but never from undefined.

Unfortunately, you cannot access nested arrays with this trick

Access Nested Objects Using Array Reduce
Array reduce method is very powerful and it can be used to safely access nested objects.

const getNestedObject = (nestedObj, pathArr) => {
    return pathArr.reduce((obj, key) =>
        (obj && obj[key] !== 'undefined') ? obj[key] : undefined, nestedObj);
}
// pass in your object structure as array elements
const name = getNestedObject(user, ['personalInfo', 'name']);
// to access nested array, just pass in array index as an element the path array.
const city = getNestedObject(user, ['personalInfo', 'addresses', 0, 'city']);
// this will return the city from the first address item.

<h2>Rgraph object available methods</h2>
Adjusting_mousemove: ƒ (e)
Draw: ƒ ()
DrawAxes: ƒ ()
DrawBevel: ƒ ()
DrawIEShadow: ƒ (coords)
DrawLabels: ƒ ()
Drawbars: ƒ ()
Drawlabels_bottom: ƒ ()
Drawlabels_center: ƒ ()
Drawlabels_top: ƒ ()
Get: ƒ (name)
Highlight: ƒ (shape)
Set: ƒ (name)
adjusting_mousemove: ƒ (e)
cachedBackgroundCanvas: null
canvas: canvas#cvs
colorWave: ƒ ()
colorsParsed: true
context: CanvasRenderingContext2D {canvas: canvas#cvs, globalAlpha: 1, globalCompositeOperation: "source-over", filter: "none", imageSmoothingEnabled: true, …}
coords: (10) [Array(4), Array(4), Array(4), Array(4), Array(4), Array(4), Array(4), Array(4), Array(4), Array(4)]
coords2: (10) [Array(1), Array(1), Array(1), Array(1), Array(1), Array(1), Array(1), Array(1), Array(1), Array(1)]
coordsText: (16) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
data: (10) [1, 3, 5, 3, 5, 7, 7, 9, 12, 24]
data_arr: (10) [1, 3, 5, 3, 5, 7, 7, 9, 12, 24]
draw: ƒ ()
drawAboveLabels: ƒ ()
drawAxes: ƒ ()
drawBevel: ƒ ()
drawErrorbars: ƒ ()
drawIEShadow: ƒ (coords)
drawLabels: ƒ ()
drawbars: ƒ ()
drawlabels_bottom: ƒ ()
drawlabels_center: ƒ ()
drawlabels_top: ƒ ()
exec: ƒ (func)
firstDraw: false
firstDrawFunc: ƒ ()
get: ƒ (name)
getBar: ƒ (e)
getObjectByXY: ƒ (e)
getShape: ƒ (e)
getShapeByX: ƒ (e)
getValue: ƒ (arg)
getYCoord: ƒ (value)
grapharea: 390
grow: ƒ ()
gutterBottom: 35
gutterLeft: 20
gutterRight: 25
gutterTop: 25
halfTextHeight: 9
halfgrapharea: 195
highlight: ƒ (shape)
id: "cvs"
interactiveKeyHighlight: ƒ (index)
isAdjustable: ƒ (shape)
isRGraph: true
max: 25
on: ƒ (type, func)
original_colors: [chart.colors: Array(1), chart.key.colors: null, chart.crosshairs.color: "#333", chart.highlight.stroke: "rgba(0,0,0,0)", chart.highlight.fill: "rgba(255,255,255,0.7)", …]
original_data: (10) [1, 3, 5, 3, 5, 7, 7, 9, 12, 24]
parseColors: ƒ ()
parseSingleColorForGradient: ƒ (color)
properties: {chart.background.barcolor1: "rgba(0,0,0,0)", chart.background.barcolor2: "rgba(0,0,0,0)", chart.background.grid: true, chart.background.grid.color: "#005010", chart.background.grid.width: 1, …}
reset: ƒ ()
scale2: {max: 25, labels: Array(5), values: Array(5), units_pre: "", units_post: " 只", …}
set: ƒ (name)
stackedOrGrouped: false
type: "bar"
uid: "f7d9d1b2-296e-4805-94b8-254fe8fb42ad"
wave: ƒ ()

<h2>Testing and Automation Tools</h2>
API
application programming interfaces (APIs)
API testing is performed at the message layer
<a href="https://www.guru99.com/api-testing.html" class="whitebut ">API Testing Tutorial</a>

Appium
Appium is an open source test automation framework for use with native, hybrid and mobile web apps.
It drives iOS, Android, and Windows apps using the WebDriver protocol.
<a href="http://appium.io/" class="whitebut ">Appium</a>

Database Testing
<a href="https://www.softwaretestinghelp.com/database-testing-process/" class="whitebut ">Database Testing Complete Guide</a>

ETL
ETL stands for Extract-Transform-Load
to ensure that the data that has been loaded from a source to the destination after business transformation is accurate.
It also involves the verification of data at various middle stages that are being used between source and destination. 
<a href="https://www.guru99.com/utlimate-guide-etl-datawarehouse-testing.html" class="whitebut ">ETL Testing or Data Warehouse Testing Tutorial</a>


Informatica
Informatica Powercenter ETL/Data Integration tool is the most widely used tool and in the common term when we say Informatica, it refers to the Informatica PowerCenter tool for ETL.
<a href="https://www.guru99.com/introduction-informatica.html" class="whitebut ">Informatica</a>


Mobile with Automation
Mobile automation can be done using many tools
<a href="https://economictimes.indiatimes.com/definition/mobile-automation" class="whitebut ">Mobile automation</a>

QC/ALM
HP Application LifeCycle Management (ALM) is the latest incarnation of flagship test management tool Quality Center(QC).
<a href="https://www.tutorialspoint.com/qc/qc_overview.htm" class="whitebut ">HP ALM /Quality Center Tutorial</a>


UFT/QTP
test automation using QTP tool
QTP stands for QuickTest Professional
helps testers to perform an automated functional testing seamlessly, without monitoring, once script development is complete.
<a href="https://www.tutorialspoint.com/qtp/qtp_overview.htm" class="whitebut ">QTP</a>


Scrum master
A scrum master is the facilitator for an agile development team.
Scrum is a methodology that allows a team to self-organize and make changes quickly, in accordance with agile principles.
The scrum master manages the process for how information is exchanged.
https://www.visual-paradigm.com/scrum/what-is-scrum-master/
<a href="Scrum master" class="whitebut "></a>


Selenium
Selenium automates browsers
Primarily it is for automating web applications for testing purposes
web-based administration tasks can be automated
<a href="https://www.selenium.dev/" class="whitebut ">Selenium</a>


SOAP UI
SoapUI is an open-source web service testing application for Simple Object Access Protocol (SOAP) and representational state transfers (REST). 
web service inspection, invoking, development, simulation and mocking, functional testing, load and compliance testing. 
SoapUI is cross-platform. 
<a href="https://www.soapui.org/" class="whitebut ">SOAP UI</a>

<h2>clean up RGraph</h2>
<a href="https://www.easyafrikaans.com/easyafrikaans/js/RGraph/demos/basic-clear.html" class="whitebut ">example of clearing your canvas</a>
<a href="https://www.rgraph.net/canvas/updating.html" class="whitebut ">updating rgraph</a>
<a href="https://www.easyafrikaans.com/easyafrikaans/js/RGraph/demos/" class="whitebut ">Index of RGraph demos</a>

<span class="red">RGraph.clear(document.getElementById("cvs"));</span>
RGraph.Reset(document.getElementById('cvs'))


<h2>to remove an element at that index</h2>
  notvisitedList.splice(topicpointer, 1);

<h2>to remove an element at with that value</h2>
  var index = notvisitedList.indexOf(topicpointer);
  notvisitedList.splice(index, 1);

<h2>get href value of an anchor tag</h2>

Use the <code>.prop()</code> method
    var href = $('a').prop('href');

Use the <code>.text()</code> method.
    var text = $('a').text();

Use the <code>querySelector()</code> which will return the first anchor tag within the document. Then we can directly access the href property to get the exact value of the href attribute.
  var href = document.querySelector('a').href;

theElement.match(/href="([^"]*)/)[1];
theElement.getAttribute("href");
document.getElementById("aaa").href;

var LibDocsList = [];
  $('a[href*="LibDocs"]').each(function(i) {
      var anchor = $(this).prop('href'); anchorNumber = i; anchorLength = anchorNumber;
      LibDocsList.push(anchor);
  });

<h2>random jump to some pages</h2>
function randomLinkTo() {
  linkpointer = Math.floor(Math.random() * notvisitedList.length);
  linkToAddr = LibDocsList[linkpointer]

  var index = notvisitedList.indexOf(linkpointer);
  notvisitedList.splice(index, 1);

  window.open(linkToAddr, "_blank");
}

  // following code must be at end to allow full page loaded OK
  var LibDocsList = [];
  $('a[href*="LibDocs"]').each(function(i) {
      var anchor = $(this).prop('href'); anchorNumber = i; anchorLength = anchorNumber;
      LibDocsList.push(anchor);
  });
  var totalLength = LibDocsList.length - 1
  var notvisitedList = [...Array(totalLength).keys()];

<h2>document on ready load script</h2>
$(document).ready(function(){
    $('&lt;script/>',{type:'text/javascript', src:'http://williamkpchan.github.io/LibDocs/readbook.js'}).appendTo('head');
 }); 

<h2>add bootstrap table styles to pandoc tables</h2>
&lt;script>
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});

<h2>dynamically load mathjax for compatibility with self-contained</h2>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
&lt;/script>

<h2>JavaScript HTML Input Examples</h2>
Examples of using JavaScript to access and manipulate HTML 
input objects.
<h3>Button Object</h3>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=tryjs_button_disabled">Disable a button</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=tryjs_button_name">Find the name of a button</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=tryjs_button_type">Find the type of a button</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=tryjs_button_value">Find the value of a button</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=tryjs_button_text">Find the text displayed on a button</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=tryjs_button_form">Find the id of the form a button belongs to</a>

<h3>Form Object</h3>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=tryjs_form_submit">Submit a form</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=tryjs_form_reset">Reset a form</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=tryjs_form_elements">Find the value of each element in a form</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=tryjs_form_acceptcharset">Find the accepted character set of a form</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=tryjs_form_action">Find the action attribute of a form</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=tryjs_form_enctype">Find the value of the enctype attribute in a form</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=tryjs_form_length">Find the number of elements in a form</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=tryjs_form_method">Find the method for sending form data</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=tryjs_form_name">Find the name of a form</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=tryjs_form_target">Find the target of a form</a>

<h3>Option and Select Objects</h3>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=try_dom_select_disabled">Disable and enable a dropdown list</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=try_dom_select_form">Get the id of the form that contains the dropdown list</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=try_dom_select_length">Get the number of options in the dropdown list</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=try_dom_select_size">Turn the dropdown list into a multiline list</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=try_dom_select_multiple">Select multiple options in a dropdown list</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=try_dom_select_option">Display the selected option in a dropdown list</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=try_dom_select_options">Display all options from a dropdown list</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=try_dom_option_index">Display the index of the selected option in a dropdown list</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=try_dom_option_settext">Change the text of the selected option</a>
<a href="https://www.w3schools.com/JS/tryit.asp?filename=try_dom_select_remove">Remove options from a dropdown list</a>

<h2>close a window using Javascript</h2>
some browsers will give you a warning

Javascript code is;
window.close("","_parent","");

<h2>attach script to html</h2>
document.writeln("&lt;script type=\"text/javascript\">");

document.writeln("\"https://secure.\" : \"http://www.\");");
document.writeln("document.write(\"&lt;sc\"+\"ript type='text/javascript' src='\" +");

document.writeln("href=\"http://statcounter.com/\" target=\"_blank\">&lt;img ");
document.writeln("class=\"statcounter\" ");
document.writeln("alt=\"web counter\">&lt;/a>&lt;/div>&lt;/noscript>");

<h2>spread operator</h2>
The spread operator in JavaScript is a useful syntax for adding elements to an array, combining arrays into one larger one, spreading an array inside the arguments of a function, and more.

// Concatenating arrays and objects
let arr1 = [1,2,3]; 
let arr2 = [4,5]; 
let newArray = [...arr1,...arr2]; 
console.log(newArray);
// Output: [ 1, 2, 3, 4, 5 ] 

// Copying array elements
let arr = ["a","b","c"]; 
let newArray = [...arr]; 
console.log(newArray);
// Output: ["a", "b", "c"]

// Expanding arrays
let arr = ["a","b"]; 
let newArray = [...arr,"c","d"]; 
console.log(newArray);
// Output: ["a", "b", "c", "d"]

// Merging objects
const userBasic = { 
	name: "Jen", 
	age: 22,
}; 
const userMoreInfo = { 
	country: "Argentina", 
	city: "Córdoba", 
}; 
const user = {... userBasic, ... userMoreInfo};
// Output: {  name: "Jen",  age: 22, country: "Argentina", city: "Córdoba" }

<h2>Find the Max of all the nested arrays</h2>
const arr = [[12,45,75], [54,45,2],[23,54,75,2]];

const max = Math.max(...[].concat(...arr));

<h2>Four ways to merge arrays</h2>
<h3>1. Using for loop</h3>
We can loop through the array source array which need to be pushed , then add elements one by one

function push(fromArray, toArray) {<strong>
     for(let i = 0, len = fromArray.length; i &lt; len; i++) {
            toArray.push(fromArray[i]);
     }</strong>
      return toArray;
}
var array1 = [1,2,3,4,5];var array2= [6,7,8,9,10];var array3 = [];push(array1, array3);push(array2, array3);
<h3>2. Using spread operator</h3>

<strong>Spread syntax</strong> allows an iterable such as an array expression or string to be expanded in places where zero or more arguments (for function calls) or elements (for array literals) are expected

var array1 = [1,2,3,4,5];var array2 = [6,7,8,9,10];var array3 = [...array1, ...array2];array3; // [1,2,3,4,5,6,7,8,9,10];

We can use spread operator with push

var array1 = [1,2,3,4,5];var array2 = [6,7,8,9,10];var array3 = []array3.push(...array1, ...array2);array3; //  [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

We can also use spread operator with <code>Array.of</code>

var array1 = [1,2,3,4,5]
var array2 = [6,7,8,9,10];var array3 = Array.of(...array2, ...array1);

We can use spread operator to convert string to array

var string =&quot;two&quot;;var arrayOfChar = [...string];arrayOfChar; //[&quot;t&quot;, &quot;w&quot;, &quot;o&quot;]
<h3>3. Using concat method</h3>

The <code><strong>concat()</strong></code> method is used to merge two or more arrays. This method does not change the existing arrays, but instead returns a <code><strong>new array.</strong></code>

var array1 = [1,2,3,4,5]var array2 = [6,7,8,9,10];
var array3 = array1.concat(array2);// orvar array3 = [].concat(array1, array2);

We can pass other than array as arguments.

var a = &quot;string&quot;;var b = 1;var c = {};var combined = [].concat(a, b, c)combined; //  [&quot;string&quot;, 1, {…}]
<h3>4. Using Reduce method</h3>

The <code><strong>reduce()</strong></code> method executes a <strong>reducer</strong> function (that you provide) on each element of the array, resulting in a single output value.

var array1 = [1,2,3,4,5];var array2 = [6,7,8,9,10];var array3 = array2.reduce((newArray, item) =&gt; {
          <strong>newArray.push(item);
          return newArray;</strong> ), <strong>array1</strong>);

<h2>merge 2 arrays into coordinates</h2>
yCord = [30, 29, 31, 32];
xCord = [0, 1, 2 ,3];
coords = xCord.map((i, index)=> [i, yCord[index]]);
console.log(coords)

<h2>Try fabric JS to convert canvas to svg</h2>
http://jsfiddle.net/Nofiden/3hcyjo0e/2/

<a href="https://svgjs.com/docs/3.0/" class="whitebut ">SVG.js lightweight library for manipulating and animating SVG</a>

HTML

<canvas id="canvas" width=1024 height=1020></canvas>
<button id="canvas2svg">Canvas 2 SVG</button>

JS
var canvas = new fabric.Canvas('canvas', { isDrawingMode: true });
  //var canvas = document.getElementById("canvas");
  var ctx = canvas.getContext("2d");
$("#canvas2svg").click(function(){
    canvas.isDrawingMode = false;
    alert(canvas.toSVG());
});

<h2>LocalStorage, sessionStorage</h2>

Web storage objects <code>localStorage</code> and <code>sessionStorage</code> allow to save key/value pairs in the browser.

What’s interesting about them is that the data survives a page refresh (for <code>sessionStorage</code>) and even a full browser restart (for <code>localStorage</code>). 
We already have cookies. Why additional objects?

Unlike cookies, web storage objects are not sent to server with each request. 
Because of that, we can store much more. 
Most browsers allow at least 2 megabytes of data (or more) and have settings to configure that.

Also unlike cookies, the server can’t manipulate storage objects via HTTP headers. 
Everything’s done in JavaScript.

The storage is bound to the origin (domain/protocol/port triplet). 
That is, different protocols or subdomains infer different storage objects, they can’t access data from each other.

Both storage objects provide same methods and properties:

<code>setItem(key, value)</code> – store key/value pair.
<code>getItem(key)</code> – get the value by key.
<code>removeItem(key)</code> – remove the key with its value.
<code>clear()</code> – delete everything.
<code>key(index)</code> – get the key on a given position.
<code>length</code> – the number of stored items.

As you can see, it’s like a <code>Map</code> collection (<code>setItem/getItem/removeItem</code>), but also allows access by index with <code>key(index)</code>.
<h3>localStorage demo</h3>
The main features of <code>localStorage</code> are:

Shared between all tabs and windows from the same origin.
The data does not expire. 
It remains after the browser restart and even OS reboot.

For instance, if you run this code…

<code>localStorage.setItem('test', 1);</code>
…And close/open the browser or just open the same page in a different window, then you can get it like this:
<code>alert( localStorage.getItem('test') ); // 1</code>

We only have to be on the same origin (domain/port/protocol), the url path can be different.
The <code>localStorage</code> is shared between all windows with the same origin, so if we set the data in one window, the change becomes visible in another one.
<h3>Object-like access</h3>
We can also use a plain object way of getting/setting keys, like this:
<code>// set key
localStorage.test = 2;
// get key
alert( localStorage.test ); // 2

// remove key
delete localStorage.test;</code>

That’s allowed for historical reasons, and mostly works, but generally not recommended, because:

If the key is user-generated, it can be anything, like <code>length</code> or <code>toString</code>, or another built-in method of <code>localStorage</code>. 
In that case <code>getItem/setItem</code> work fine, while object-like access fails:

<code>let key = 'length';
localStorage[key] = 5; // Error, can't assign length</code>

There’s a <code>storage</code> event, it triggers when we modify the data. 
That event does not happen for object-like access. 
We’ll see that later in this chapter.

<h3>Looping over keys</h3>
As we’ve seen, the methods provide “get/set/remove by key” functionality. 
But how to get all saved values or keys?

Unfortunately, storage objects are not iterable.

One way is to loop over them as over an array:

<code>for(let i=0; i&lt;localStorage.length; i++) {
let key = localStorage.key(i);
alert(`${key}: ${localStorage.getItem(key)}`);
}</code>

Another way is to use <code>for key in localStorage</code> loop, just as we do with regular objects.

It iterates over keys, but also outputs few built-in fields that we don’t need:

<code>// bad try
for(let key in localStorage) {
alert(key); // shows getItem, setItem and other built-in stuff
}</code>

…So we need either to filter fields from the prototype with <code>hasOwnProperty</code> check:

<code>for(let key in localStorage) {
if (!localStorage.hasOwnProperty(key)) {
  continue; // skip keys like &quot;setItem&quot;, &quot;getItem&quot; etc
}
alert(`${key}: ${localStorage.getItem(key)}`);
}</code>

…Or just get the “own” keys with <code>Object.keys</code> and then loop over them if needed:

<code>let keys = Object.keys(localStorage);
for(let key of keys) {
  alert(`${key}: ${localStorage.getItem(key)}`);
}</code>

The latter works, because <code>Object.keys</code> only returns the keys that belong to the object, ignoring the prototype.

<h3>Strings only</h3>
Please note that both key and value must be strings.

If were any other type, like a number, or an object, it gets converted to string automatically:

<code>sessionStorage.user = {name: &quot;John&quot;};
alert(sessionStorage.user); // [object Object]</code>

We can use <code>JSON</code> to store objects though:

<code>sessionStorage.user = JSON.stringify({name: &quot;John&quot;});

// sometime later
let user = JSON.parse( sessionStorage.user );
alert( user.name ); // John</code>

Also it is possible to stringify the whole storage object, e.g. 
for debugging purposes:

<code>// added formatting options to JSON.stringify to make the object look nicer
alert( JSON.stringify(localStorage, null, 2) );</code>

<h3>sessionStorage</h3>
The <code>sessionStorage</code> object is used much less often than <code>localStorage</code>.

Properties and methods are the same, but it’s much more limited:

The <code>sessionStorage</code> exists only within the current browser tab.

Another tab with the same page will have a different storage.

But it is shared between iframes in the same tab (assuming they come from the same origin).

The data survives page refresh, but not closing/opening the tab.

Let’s see that in action.

Run this code…

<code>sessionStorage.setItem('test', 1);</code>

…Then refresh the page. 
Now you can still get the data:

<code>alert( sessionStorage.getItem('test') ); // after refresh: 1</code>

…But if you open the same page in another tab, and try again there, the code above returns <code>null</code>, meaning “nothing found”.

That’s exactly because <code>sessionStorage</code> is bound not only to the origin, but also to the browser tab. 
For that reason, <code>sessionStorage</code> is used sparingly.

<h3>Storage event</h3>
When the data gets updated in <code>localStorage</code> or <code>sessionStorage</code>, storage event triggers, with properties:

<code>key</code> – the key that was changed (<code>null</code> if <code>.clear()</code> is called).
<code>oldValue</code> – the old value (<code>null</code> if the key is newly added).
<code>newValue</code> – the new value (<code>null</code> if the key is removed).
<code>url</code> – the url of the document where the update happened.
<code>storageArea</code> – either <code>localStorage</code> or <code>sessionStorage</code> object where the update happened.

The important thing is: the event triggers on all <code>window</code> objects where the storage is accessible, except the one that caused it.

Let’s elaborate.

Imagine, you have two windows with the same site in each. 
So <code>localStorage</code> is shared between them.

You might want to open this page in two browser windows to test the code below.

If both windows are listening for <code>window.onstorage</code>, then each one will react on updates that happened in the other one.

<code>// triggers on updates made to the same storage from other documents
window.onstorage = event =&gt; { // same as window.addEventListener('storage', event =&gt; {
if (event.key != 'now') return;
alert(event.key + ':' + event.newValue + &quot; at &quot; + event.url);
};

localStorage.setItem('now', Date.now());</code>

Please note that the event also contains: <code>event.url</code> – the url of the document where the data was updated.

Also, <code>event.storageArea</code> contains the storage object – the event is the same for both <code>sessionStorage</code> and <code>localStorage</code>, so <code>event.storageArea</code> references the one that was modified. 
We may even want to set something back in it, to “respond” to a change.

<strong>That allows different windows from the same origin to exchange messages.</strong>

Modern browsers also support Broadcast channel API, the special API for same-origin inter-window communication, it’s more full featured, but less supported. 
There are libraries that polyfill that API, based on <code>localStorage</code>, that make it available everywhere.

<h3>Summary</h3>
Web storage objects <code>localStorage</code> and <code>sessionStorage</code> allow to store key/value in the browser.

Both <code>key</code> and <code>value</code> must be strings.

The limit is 5mb+, depends on the browser.

They do not expire.

The data is bound to the origin (domain/port/protocol).

<code>localStorage</code>
Shared between all tabs and windows with the same origin
Visible within a browser tab, including iframes from the same origin

<code>sessionStorage</code>
Survives browser restart
Survives page refresh (but not tab close)

API:
<code>setItem(key, value)</code> – store key/value pair.
<code>getItem(key)</code> – get the value by key.
<code>removeItem(key)</code> – remove the key with its value.
<code>clear()</code> – delete everything.
<code>key(index)</code> – get the key number <code>index</code>.
<code>length</code> – the number of stored items.
Use <code>Object.keys</code> to get all keys.

We access keys as object properties, in that case <code>storage</code> event isn’t triggered.

Storage event:

Triggers on <code>setItem</code>, <code>removeItem</code>, <code>clear</code> calls.

Contains all the data about the operation (<code>key/oldValue/newValue</code>), the document <code>url</code> and the storage object <code>storageArea</code>.

Triggers on all <code>window</code> objects that have access to the storage except the one that generated it (within a tab for <code>sessionStorage</code>, globally for <code>localStorage</code>).

<h2>Complete Guide To Node Client-Server Communication</h2>
This covers the following forms of client-server connection:

XMLHttpRequest
Server-Sent Events
WebSocket
HTTP/2
Server to server

You can check out the complete source code for each implementation <a href="https://github.com/JoeKarlsson1/Complete_Guide_To_Client_Server_Communication" rel="noopener nofollow">here</a>.

Before we begin, I should note that there is no one best protocol or API for client/server communication. 
Every non-trivial application will require a mix of different transports based on a variety of requirements: interaction with the browser cache, protocol overhead, message latency, reliability, type of data transfer, and more. 
Some protocols may offer low-latency delivery (e.g., Server-Sent Events, WebSocket), but may not meet other critical criteria, such as the ability to leverage the browser cache or support efficient binary transfers in all cases. 
Here is visualization to help illustrate how XHR, SSE, and WebSockets differ in their implementations.

<img src="https://miro.medium.com/max/2048/0*1LzuWqDF3n107sFm.png">
CLIENT SERVER RELATIONSHIP

<strong>XHR</strong> is optimized for “transactional” request-response communication: the client sends the full, well-formed HTTP request to the server, and the server responds with a full response. 
There is no support for request streaming, and until the Streams API is available, no reliable cross-browser response streaming API.
<strong>SSE</strong> enables efficient, low-latency server-to-client streaming of text-based data: the client initiates the SSE connection, and the server uses the event source protocol to stream updates to the client. 
The client can’t send any data to the server after the initial handshake.
<strong>WebSocket</strong> is the only transport that allows bidirectional communication over the same TCP connection (Figure 17–2): the client and server can exchange messages at will. 
As a result, WebSocket provides low latency delivery of text and binary application data in both directions.

<h3><a href="https://github.com/JoeKarlsson1/Complete_Guide_To_Client_Server_Communication/tree/master/client-server-sockets" rel="noopener nofollow">WebSocket Client-Server Demo</a></h3>
WebSockets is a technology, based on the <em>ws</em> protocol, that makes it possible to establish a continuous full-duplex connection stream between a client and a server. 
A typical websocket client would be a user’s browser, but the protocol is platform independent. 
It is the closest API to a raw network socket in the browser. 
Except a WebSocket connection is also much more than a network socket, as the browser abstracts all the complexity behind a simple API and provides a number of additional services:

Connection negotiation and same-origin policy enforcement
Interoperability with existing HTTP infrastructure
Message-oriented communication and efficient message framing
Subprotocol negotiation and extensibility
This is a demo shows a demo of a client connecting to a websocket server and sharing data. 
Here is the server.js of a websocket.

'use strict';
const WebSocketServer = require('ws').Server
const wss = new WebSocketServer({ port: 8081 });
wss.on('connection', ((ws) =&gt; {
  ws.on('message', (message) =&gt; {
    console.log(`received: ${message}`);
  });

  ws.on('end', () =&gt; {
    console.log('Connection ended...');
  });

  ws.send('Hello Client');
}));

Here is the client.js of a websocket.

  console.log('open: ');
var ws = new WebSocket("ws://127.0.0.1:8081");
ws.onopen = function (event) {
  console.log('Connection is open ...');
ws.send("Hello Server");
};ws.onerror = function (err) {
  console.log('err: ', err);
}ws.onmessage = function (event) {
  console.log(event.data);
document.body.innerHTML += event.data + '&lt;br&gt;';
};ws.onclose = function() {
  console.log("Connection is closed...");
}
<h3><a href="https://github.com/JoeKarlsson1/Complete_Guide_To_Client_Server_Communication/tree/master/server-side-events" rel="noopener nofollow">Stream Updates with Server-Sent Events (SSE)</a></h3>
SSEs are sent over traditional HTTP. 
That means they do not require a special protocol or server implementation to get working. 
WebSockets on the other hand, require full-duplex connections and new Web Socket servers to handle the protocol. 
In addition, Server-Sent Events have a variety of features that WebSockets lack by design such as automatic reconnection, event IDs, and the ability to send arbitrary events.
<h3>Server-Sent Events vs. WebSockets</h3>
Why would you choose Server-Sent Events over WebSockets? Good question. 
One reason SSEs have been kept in the shadow is because later APIs like WebSockets provide a richer protocol to perform bi-directional, full-duplex communication. 
Having a two-way channel is more attractive for things like games, messaging apps, and for cases where you need near real-time updates in both directions. 
However, in some scenarios data doesn’t need to be sent from the client. 
You simply need updates from some server action. 
A few examples would be friends’ status updates, stock tickers, news feeds, or other automated data push mechanisms (e.g. 
updating a client-side Web SQL Database or IndexedDB object store). 
If you’ll need to send data to a server, XMLHttpRequest is always a friend.

Here is the server.js of our Server Sent Event, we will be sending out data to the client every 5 seconds with an updated timestamp via SSE.

'use strict';const http = require('http');
const util = require('util');
const fs = require('fs');http.createServer((req, res) =&gt; {
debugHeaders(req);if (req.headers.accept &amp;&amp; req.headers.accept == 'text/event-stream') {
if (req.url == '/events') {
sendSSE(req, res);
} else {
res.writeHead(404);
res.end();
}
} else {
res.writeHead(200, {'Content-Type': 'text/html'});
res.write(fs.readFileSync(__dirname + '/index.html'));
res.end();
}
}).listen(8000);const sendSSE = (req, res) =&gt; {
res.writeHead(200, {
'Content-Type': 'text/event-stream',
'Cache-Control': 'no-cache',
'Connection': 'keep-alive'
});const id = (new Date()).toLocaleTimeString();setInterval(() =&gt; {
constructSSE(res, id, (new Date()).toLocaleTimeString());
}, 5000);constructSSE(res, id, (new Date()).toLocaleTimeString());
//res.end();
}const constructSSE = (res, id, data) =&gt; {
res.write('id: ' + id + '\n');
res.write("data: " + data + '\n\n');
}const debugHeaders = (req) =&gt; {
util.puts('URL: ' + req.url);
for (let key in req.headers) {
util.puts(key + ': ' + req.headers[key]);
}
util.puts('\n\n');
}

And here is the client.js which is reference by the index.html on the client side. 
Notice how the client never sends out a formal request for data with SSE’s. 
Once the intial connection has been made with the server then the plain text data can be sent to the client as needed!

var source = new EventSource('/events');
source.onmessage = function(e) {
document.body.innerHTML += e.data + ';
};
<h3><a href="https://github.com/JoeKarlsson1/Complete_Guide_To_Client_Server_Communication/tree/master/xhr" rel="noopener nofollow">XMLHttpRequest (XHR)</a></h3>
XMLHttpRequest (XHR) is a browser-level API that enables the client to script data transfers via JavaScript. 
XHR made its first debut in Internet Explorer 5, became one of the key technologies behind the Asynchronous JavaScript and XML (AJAX) revolution, and is now a fundamental building block of nearly every modern web application.

XMLHTTP changed everything. 
It put the “D” in DHTML. 
It allowed us to asynchronously get data from the server and preserve document state on the client… The Outlook Web Access (OWA) team’s desire to build a rich Win32 like application in a browser pushed the technology into IE that allowed AJAX to become a reality. 
— Jim Van Eaton Outlook Web Access: A catalyst for web evolution

<img src="https://miro.medium.com/max/2048/0*Z7iLEDVToDLrzN-o.png">

Here I am running a simple Express server with a simple route to send requested data to the Client.

'use strict';var express = require('express');
var app = express();app.use(express.static(`${__dirname}/public`));app.get('/api', function(req, res){
res.send((new Date()).toLocaleTimeString());
});app.listen(3000);

Here is the javascript file linked to my index.html on the client side. 
I am using the baked in XHR methods as opposed to jQuery since I love to use vanilla JavaScript whenever possible.

'use strict'function reqListener (data) {
document.body.innerHTML += this.responseText + '&lt;br>';
}setInterval(function () {
var oReq = new XMLHttpRequest();
oReq.addEventListener("load", reqListener);
oReq.open("GET", "/api");
oReq.send();
}, 3000);

In my Github repo, I cover two more use cases not referenced here, server to server communications and HTTP/2. 
If you are curious about those forms of communication check it out. 
One word about HTTP/2 before wrapping up. 
HTTP/2 is the future of Client-Server communication, but it is a protocol built on top of HTTP/1.1 which means that all of these forms of communicating will be still be relevant in the future, just the means that they are transmitted will be updated.

As you can see there are a ton of different ways you can send data between a client and server. 

<h2>Client-server communication in Node.js</h2>

I would use websockets for this. 
Once you've set up the connection you can initiate messages from either side. 
The WS npm package makes this pretty easy.

Server example (using the ws npm package):

    const WebSocket = require('ws');
    const wss = new WebSocket.Server({ port: 8080 });    // Set up server
    wss.on('connection', function connection(ws) { //   when client connects

      // when client sends something
      ws.on('message', function incoming(message) {
        console.log('received: %s', message);
      });

      // Send a message
      ws.send('Hello client!');
    });

Client example (no need for any package, it's built-in) :

const socket = new WebSocket('ws://localhost:8080');  // Create WebSocket

socket.addEventListener('open', function (event) {    // Connection opened
    socket.send('Hello Server!');
});

socket.addEventListener('message', function (event) { // Listen for messages
    console.log('Message from server ', event.data);
});

There are alternatives if you can't use websockets, such as polling (where the client periodically calls the server to see if theres a message), and long-polling (where the server holds a http request open for an artificially long period of time until a message is ready).

<h3>other method: Server side</h3>
http.createServer(function(req, res) {
    if (req.method == 'GET') {

    } else if (req.method == 'POST') {
        var body = '';
        req.on('data', function(data) {
            body += data;
        });
        req.on('end', function() {
         console.log("We have received your request successfully.");
        });
    }
    res.end("ok");
})

<h2>Ways to Remove Elements From Array</h2>
JavaScript arrays allow you to group values and iterate over them. 
You can add and remove array elements in different ways. 
Unfortunately there is not a simple Array.remove method.
So, how do you delete an element from a JavaScript array?
Instead of a delete method, the JavaScript array has a variety of ways you can clean array values.
You can remove elements from the end of an array using pop, from the beginning using shift, or from the middle using splice. 
The JavaScript Array filter method to create a new array with desired items, a more advanced way to remove unwanted elements.

Removing Elements from End of a JavaScript Array
Removing Elements from Beginning of a JavaScript Array
Using Splice to Remove Array Elements
Removing Array Items By Value Using Splice
The Lodash Array Remove Method
Making a Remove Method
Explicitly Remove Array Elements Using the Delete Operator
Clear or Reset a JavaScript Array
Summary

There are different methods and techniques you can use to remove elements from JavaScript arrays:
pop - Removes from the End of an Array
shift - Removes from the beginning of an Array
splice - removes from a specific Array index
filter - allows you to programatically remove elements from an Array

You will also learn some other ways you can remove elements from an array that may not be so obvious, like with <a href="https://lodash.com">LoDash</a>.
<h3>Removing Elements from End of a JavaScript Array</h3>
JavaScript Array elements can be removed from the end of an array by setting the length property to a value less than the current value. 
Any element whose index is greater than or equal to the new length will be removed.
<code>
    
    var ar = [1, 2, 3, 4, 5, 6];
    
    ar.length = 4; // set length to remove elements
    console.log( ar ); // [1, 2, 3, 4]

</code>
The pop method removes the last element of the array, returns that element, and updates the length property. 
The pop method modifies the array on which it is invoked, This means unlike using delete the last element is removed completely and the array length reduced. 

<code>
    
    var ar = [1, 2, 3, 4, 5, 6];
    
    ar.pop(); // returns 6
    
    console.log( ar ); // [1, 2, 3, 4, 5]
</code><h3>Removing Elements from Beginning of a JavaScript Array</h3>
How do you remove the first element of a JavaScript array?
The shift method works much like the pop method except it removes the first element of a JavaScript array instead of the last.
There are no parameters since the shift method only removed the first array element. 
When the element is removed the remaining elements are shifted down.
<code>
    
    var ar = ['zero', 'one', 'two', 'three'];
    
    ar.shift(); // returns "zero"
    
    console.log( ar ); // ["one", "two", "three"]

</code>
The shift method returns the element that has been removed, updates the indexes of remaining elements, and updates the length property. 
It modifies the array on which it is invoked.
If there are no elements, or the array length is 0, the method returns undefined.
<h3>Using Splice to Remove Array Elements in JavaScript</h3>
The splice method can be used to add or remove elements from an array. 
The first argument specifies the location at which to begin adding or removing elements. 
The second argument specifies the number of elements to remove. 
The third and subsequent arguments are optional; they specify elements to be added to the array.
Here we use the splice method to remove two elements starting from position three (zero based index):
<code>
    
    var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 0];
    var removed = arr.splice(2,2);
    
    
</code>
An array containing the removed elements is returned by the splice method. 
You can see the removed array contains [3, 4] and the original array contains the remaining values.
The splice method can also be used to remove a range of elements from an array.
<code>
    
    var list = ["bar", "baz", "foo", "qux"];
    
    list.splice(0, 2); 
    // Starting at index position 0, remove two elements ["bar", "baz"] and retains ["foo", "qux"].

</code><h3>Removing Array Items By Value Using Splice</h3>
If you know the value you want to remove from an array you can use the splice method. 
First you must identify the index of the target item. 
You then use the index as the start element and remove just one element.
<code>
    
    var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 0];
    
    for( var i = 0; i &lt; arr.length; i++){ 
    
        if ( arr[i] === 5) { 
    
            arr.splice(i, 1); 
        }
    
    }
    
    //=&gt; [1, 2, 3, 4, 6, 7, 8, 9, 0]

</code>
This is a simple example where the elements are integers. 
If you have an array of objects you would need a more sophisticated routine.
This works if you only want to remove a single item. 
If you want to remove multiple items that match your criteria there is a glitch.
As the items are removed from the array the index still increments and the next item after your matched value is skipped.
The simple solution is to modify the above example to decrement the index variable so it does not skip the next item in the array.
<code>
    
    var arr = [1, 2, 3, 4, 5, 5, 6, 7, 8, 5, 9, 0];
    
    for( var i = 0; i &lt; arr.length; i++){ 
                                   
        if ( arr[i] === 5) { 
            arr.splice(i, 1); 
            i--; 
        }
    }

    //=&gt; [1, 2, 3, 4, 6, 7, 8, 9, 0]
    
</code>
In the modified example I added 2 additional 5 values to the array. 
I also added 'i--;' after the splice call.
Now when you execute the loop it will remove every matching item.
Thanks to Kristian Sletten for pointing out the issue with the loop skipping the following item.
<h3>Using the Array filter Method to Remove Items By Value</h3>
Unlike the splice method, filter creates a new array. 
filter() does not mutate the array on which it is called, but returns a new array.
filter() has a single parameter, a callback method. 
The callback is triggered as the filter method iterates through the array elements. 
It will pass three values to the callback: the current value or element, the current array index and the full array.
The callback method should return either true or false. 
It is your responsibility to test the value (element) to see if it meets your criteria. 
If it does you can return true. 
Elements that return true are added to the new, filtered array.
<code>
    
    var array = [1, 2, 3, 4, 5, 6, 7, 8, 9, 0];
    var filtered = array.filter(function(value, index, arr){ 
        return value &gt; 5;
    });
    //filtered =&gt; [6, 7, 8, 9]
    //array =&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 0]

</code>
You should note a new array containing matching values is returned. 
The original array is left untouched. 
I find this useful because I often want to retain an original data source, but retrieve subsets based on different logic sets.
<h3>The Lodash Array Remove Method</h3>
Sometimes utility libraries are the best way to solve more complex problems. 
Lodash provides a rich set of array manipulation methods, one being remove.
The Lodash remove method works much like the array filter method, but sort of in reverse. 
It does not save the original array values, but removes matching elements. 
It returns the matching elements as a new array.
<code>var array = [1, 2, 3, 4];var evens = _.remove(array, function(n) { return n % 2 === 0;});console.log(array);// =&gt; [1, 3]console.log(evens);// =&gt; [2, 4]</code><h3>Making a Remove Method</h3>
As I mentionmed before, there is no native Array.remove method. 
The Lodash method does solve this problem, but you may not always want to use Lodash. 
This does not mean you cannot create a utility method. 
John Resig gave us a <a href="https://johnresig.com/blog/javascript-array-remove/">model to follow</a>, however he extended the Array prototype, which is a bad idea.
Instead I created an Array remove utility method that can be added to a helper or utility library. 
Like the Lodash remove method the first parameter is the target array. 
It uses Array.filter to return elements not matching a value.
<code>
    
    function arrayRemove(arr, value) { 
    
        return arr.filter(function(ele){ 
            return ele != value; 
        });
    }
    
    var result = arrayRemove(array, 6);
    // result = [1, 2, 3, 4, 5, 7, 8, 9, 0]

</code>This method is simple, it assumes simple values like numbers or strings. 
You could modify this method to use a customcomparison method, but I think it would be easier to just use the filter method directly.

<h3>Explicitly Remove Array Elements Using the Delete Operator</h3>
You can remove specific array elements using the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/delete" rel="noopener" target="_blank">delete operator</a>:
<code>
    
    var ar = [1, 2, 3, 4, 5, 6];
    
    delete ar[4]; // delete element with index 4
    
    console.log( ar ); 
    
    // [1, 2, 3, 4, undefined, 6]
    
    alert( ar ); 
    
    // 1,2,3,4,,6

</code>
Using the delete operator does not affect the length property. 
Nor does it affect the indexes of subsequent elements. 
The array becomes sparse, which is a fancy way of saying the deleted item is not removed but becomes undefined. 
Compare using delete with the splice method described below.
The delete operator is designed to remove properties from JavaScript objects, which arrays are objects.
The reason the element is not actually removed from the array is the delete operator is more about freeing memory than deleting an element. 
The memory is freed when there are no more references to the value.
<h3>Clear or Reset a JavaScript Array</h3>
What if you want to empty an entire array and just dump all of it's elements?
There are a couple of techniques you can use to create an empty or new array.
The simplest and fastest technique is to set an array variable to an empty array:
<code>

var ar = [1, 2, 3, 4, 5, 6];
//do stuffar = [];
//a new, empty array!

</code>
The problem this can create is when you have references to the variable. 
The references to this variable will not change, they will still hold the original array's values. 
This of course can create a bug🐛.
This is an over simplified example of this scenario:
<code>

var arr1 = [1, 2, 3, 4, 5, 6];
var arr2 = arr1; 
    // Reference arr1 by another variable arr1 = [];
    
console.log(arr2); 
// Output [1, 2, 3, 4, 5, 6]

</code>
A simple trick to clear an array is to set its length property to 0.
<code>

var ar = [1, 2, 3, 4, 5, 6];

console.log(ar); 
// Output [1, 2, 3, 4, 5, 6]

ar.length = 0;

console.log(ar); 

// Output []

</code>
Another, sort of unnatural technique, is to use the splice method, passing the array length as the 2nd parameter. 
This will return a copy of the original elements, which may be handy for your scenario.
<code>

var ar = [1, 2, 3, 4, 5, 6];

console.log(ar); 
// Output [1, 2, 3, 4, 5, 6]
ar.splice(0, ar.length);
console.log(ar); 
// Output []
</code>
The last two techniques don't create a new array, but change the array's elements. 
This means references should also update.
There is another way, using a while loop. 
It feels a little odd to me, but at the same time looks fancy, so it may impress some friends!
<code>

var ar = [1, 2, 3, 4, 5, 6];

console.log(ar); 
// Output [1, 2, 3, 4, 5, 6] 

while (ar.length) { 
    ar.pop(); 
}

console.log(ar); 

// Output []

</code>
Not a way I would go about clearing a JavaScript array, but it works and it is readable. 
Some performance test have also shown this to be the fastest technique, so maybe it is better than I originally thought!
<h3>Summary</h3>
Removing JavaScript Array items is important to managing your data. 
There is not a single 'remove' method available, but there are different methods and techniques you can use to purge unwanted array items.





<br><br><br><br><br>


<script type='text/javascript' src='readbook.js'></script>
<script>
var lazyLoadInstance = new LazyLoad({
    elements_selector: ".lazy"
    // ... more custom settings?
});
</script>

</body>
</html>
