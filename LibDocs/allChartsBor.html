<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>allChartsBor</title>
<link rel="stylesheet" href="https://williamkpchan.github.io/maincss.css">
<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="https://williamkpchan.github.io/mainscript.js"></script>

<style>
body{width:100%; margin-left: 0%; font-size:20px;}
span {width:50px;}
img {max-width:100%;}
.goldbut { font-size:20px;}

.dropbtn {
    background-color: black;
    color: gold;
    padding: 8px;
    font-size: 20px;
    border: 1px solid gold;
    cursor: pointer;
}
button {color:#586;}
.dropbtn:hover, .dropbtn:focus {
    background-color: darkblue;
}

.dropdown {
    display: inline-block;
    border-radius:8%;
    right: 2%;
    position: absolute;
}

.dropdown-content {
    display: inline-block;
    display: none;
    background-color: black;
    min-width: 160px;
    overflow: auto;
    box-shadow: 0px 4px 4px 0px rgba(0,5,3,0.6);
    z-index: 1;
}

.dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
}

.dropdown a:hover {background-color: #ddd}

.show {display:block;}
#myDropdown {line-height:2;}

</style>

</head>
<body onkeypress="chkKey()">
<span class="bluebut yellow darkblueback" onclick="window.open('Random Charts.html');">Normal Chart</span>
<span class="redbut gold darkblueback" onclick="askCode()">askCode</span>
<span class="goldbut red" onclick="jpForeward()">jpForeward</span>
<span class="bluebut" onclick="jpBackWard()">jpBackWard</span>
<span class="goldbut white" onclick="jpListForeward()">List Foreward</span>
<span class="bluebut white" onclick="jpListBackWard()">List BackWard</span>
<span id="disppanel" class="smallsize"></span>
<span id="dateTime" class="lime smallsize"> </span>

<div class="dropdown">
<button onclick="toggleButton()" class="dropbtn">stkCode</button>
  <div id="myDropdown" class="dropdown-content">
        <span onclick="changeCode('110000');toggleButton()">恒指</span><br>
        <span onclick="changeCode('000001.sh');toggleButton()">上证</span><br>
        <span onclick="changeCode('399001.sz');toggleButton()">深證</span><br>
        <span onclick="changeCode('221000&AHFT=T');toggleButton()">夜期</span><br>
        <span onclick="changeCode('221002&AHFT=T');toggleButton()">下月</span><br>
        <span onclick="changeCode('110010.HK');toggleButton()">國企</span><br>
        <span onclick="changeCode('110050');toggleButton()">创业板</span><br>
        <span onclick="changeCode('110041');toggleButton()">波幅</span><br>
        <span onclick="changeCode('110078');toggleButton()">科技</span><br>
        <span onclick="changeCode('111000');toggleButton()">dow</span><br>
        <span onclick="changeCode('111100');toggleButton()">Ndsq</span><br>
        <span onclick="changeCode('04246');toggleButton()">ibond</span><br>
        <span onclick="jpTo0();toggleButton()">jpTo0</span><br>
        <span onclick="showActivity();toggleButton()">showActivity</span><br>
        <span onclick="askforCode();toggleButton()">askforCode</span><br>
        <span onclick="window.location = '#imgp0';toggleButton()">#imgp0</span><br>
        <span onclick="window.scrollTo(0,0);toggleButton()">scrollTo(0,0)</span><br>
        <span onclick="setupAll();toggleButton()">setupAll</span><br>
        <span onclick="window.open('https://williamkpchan.github.io/LibDocs/listofcharts.html', '_blank');toggleButton()">listofcharts</span><br>
        <span onclick="window.open('https://williamkpchan.github.io/LibDocs/mlinechart.html');toggleButton()">mlinechart</span><br>
        <span onclick="window.open('https://williamkpchan.github.io/LibDocs/minuteLayersAcc.html');toggleButton()">minuteLayersAcc</span><br>
        <span onclick="window.open('追風10.html');toggleButton()">追風10</span><br>
  </div>
</div>
<br>
<div id="chart"></div>

恒指成分：
<br>
<span class="goldbut" onclick="changeCode('00001')">00001 長和</span>
<span class="goldbut" onclick="changeCode('00002')">00002 中電控股</span>
<span class="goldbut" onclick="changeCode('00003')">00003 香港中華煤氣</span>
<span class="goldbut" onclick="changeCode('00005')">00005 匯豐控股</span>
<span class="goldbut" onclick="changeCode('00006')">00006 電能實業</span>
<br><br>
<span class="goldbut" onclick="changeCode('00011')">00011 恆生銀行</span>
<span class="goldbut" onclick="changeCode('00012')">00012 恆基地產</span>
<span class="goldbut" onclick="changeCode('00016')">00016 新鴻基地產</span>
<span class="goldbut" onclick="changeCode('00017')">00017 新世界發展</span>
<span class="goldbut" onclick="changeCode('00027')">00027 銀河娛樂</span>
<br><br>
<span class="goldbut" onclick="changeCode('00066')">00066 港鐵公司</span>
<span class="goldbut" onclick="changeCode('00101')">00101 恒隆地產</span>
<span class="goldbut" onclick="changeCode('00175')">00175 吉利汽車</span>
<span class="goldbut" onclick="changeCode('00241')">00241 阿里健康</span>
<span class="goldbut" onclick="changeCode('00267')">00267 中信股份</span>
<br><br>
<span class="goldbut" onclick="changeCode('00285')">00285 比亞迪電子</span>
<span class="goldbut" onclick="changeCode('00288')">00288 萬洲國際</span>
<span class="goldbut" onclick="changeCode('00291')">00291 華潤啤酒</span>
<span class="goldbut" onclick="changeCode('00316')">00316 東方海外國際</span>
<span class="goldbut" onclick="changeCode('00322')">00322 康師傅控股</span>
<br><br>
<span class="goldbut" onclick="changeCode('00386')">00386 中國石油化工股份</span>
<span class="goldbut" onclick="changeCode('00388')">00388 香港交易所</span>
<span class="goldbut" onclick="changeCode('00669')">00669 創科實業</span>
<span class="goldbut" onclick="changeCode('00688')">00688 中國海外發展</span>
<span class="goldbut" onclick="changeCode('00700')">00700 騰訊控股</span>
<br><br>
<span class="goldbut" onclick="changeCode('00762')">00762 中國聯通</span>
<span class="goldbut" onclick="changeCode('00823')">00823 領展房產基金</span>
<span class="goldbut" onclick="changeCode('00836')">00836 華潤電力</span>
<span class="goldbut" onclick="changeCode('00857')">00857 中國石油股份</span>
<span class="goldbut" onclick="changeCode('00868')">00868 信義玻璃</span>
<br><br>
<span class="goldbut" onclick="changeCode('00881')">00881 中升控股</span>
<span class="goldbut" onclick="changeCode('00883')">00883 中國海洋石油</span>
<span class="goldbut" onclick="changeCode('00939')">00939 建設銀行</span>
<span class="goldbut" onclick="changeCode('00941')">00941 中國移動</span>
<span class="goldbut" onclick="changeCode('00960')">00960 龍湖集團</span>
<br><br>
<span class="goldbut" onclick="changeCode('00968')">00968 信義光能</span>
<span class="goldbut" onclick="changeCode('00981')">00981 中芯國際</span>
<span class="goldbut" onclick="changeCode('00992')">00992 聯想集團</span>
<span class="goldbut" onclick="changeCode('01038')">01038 長江基建集團</span>
<span class="goldbut" onclick="changeCode('01044')">01044 恆安國際</span>
<br><br>
<span class="goldbut" onclick="changeCode('01088')">01088 中國神華</span>
<span class="goldbut" onclick="changeCode('01093')">01093 石藥集團</span>
<span class="goldbut" onclick="changeCode('01099')">01099 國藥控股</span>
<span class="goldbut" onclick="changeCode('01109')">01109 華潤置地</span>
<span class="goldbut" onclick="changeCode('01113')">01113 長實集團</span>
<br><br>
<span class="goldbut" onclick="changeCode('01177')">01177 中國生物製藥</span>
<span class="goldbut" onclick="changeCode('01209')">01209 華潤萬象生活</span>
<span class="goldbut" onclick="changeCode('01211')">01211 比亞迪股份</span>
<span class="goldbut" onclick="changeCode('01299')">01299 友邦保險</span>
<span class="goldbut" onclick="changeCode('01378')">01378 中國宏橋</span>
<br><br>
<span class="goldbut" onclick="changeCode('01398')">01398 工商銀行</span>
<span class="goldbut" onclick="changeCode('01810')">01810 小米集團</span>
<span class="goldbut" onclick="changeCode('01876')">01876 百威亞太</span>
<span class="goldbut" onclick="changeCode('01928')">01928 金沙中國有限公司</span>
<span class="goldbut" onclick="changeCode('01929')">01929 周大福</span>
<br><br>
<span class="goldbut" onclick="changeCode('01997')">01997 九龍倉置業</span>
<span class="goldbut" onclick="changeCode('02015')">02015 理想汽車</span>
<span class="goldbut" onclick="changeCode('02020')">02020 安踏體育</span>
<span class="goldbut" onclick="changeCode('02269')">02269 藥明生物</span>
<span class="goldbut" onclick="changeCode('02313')">02313 申洲國際</span>
<br><br>
<span class="goldbut" onclick="changeCode('02318')">02318 中國平安</span>
<span class="goldbut" onclick="changeCode('02319')">02319 蒙牛乳業</span>
<span class="goldbut" onclick="changeCode('02331')">02331 李寧</span>
<span class="goldbut" onclick="changeCode('02359')">02359 藥明康德</span>
<span class="goldbut" onclick="changeCode('02382')">02382 舜宇光學科技</span>
<br><br>
<span class="goldbut" onclick="changeCode('02388')">02388 中銀香港</span>
<span class="goldbut" onclick="changeCode('02628')">02628 中國人壽</span>
<span class="goldbut" onclick="changeCode('02688')">02688 新奧能源</span>
<span class="goldbut" onclick="changeCode('02899')">02899 紫金礦業</span>
<span class="goldbut" onclick="changeCode('03690')">03690 美團</span>
<br><br>
<span class="goldbut" onclick="changeCode('03692')">03692 翰森製藥</span>
<span class="goldbut" onclick="changeCode('03968')">03968 招商銀行</span>
<span class="goldbut" onclick="changeCode('03988')">03988 中國銀行</span>
<span class="goldbut" onclick="changeCode('06618')">06618 京東健康</span>
<span class="goldbut" onclick="changeCode('06690')">06690 海爾智家</span>
<br><br>
<span class="goldbut" onclick="changeCode('06862')">06862 海底撈</span>
<span class="goldbut" onclick="changeCode('09618')">09618 京東集團</span>
<span class="goldbut" onclick="changeCode('09633')">09633 農夫山泉</span>
<span class="goldbut" onclick="changeCode('09888')">09888 百度集團</span>
<span class="goldbut" onclick="changeCode('09961')">09961 攜程集團</span>
<span class="goldbut" onclick="changeCode('09988')">09988 阿里巴巴</span>
<span class="goldbut" onclick="changeCode('09999')">09999 網易</span>
<script>
chartPeriod = [5000,5012,2,3,4,6,9,16,11,2059,2060]
emaPeriod = [12,10,5,3,4,2,3,12,3,3,2]
periodPtr = 0

hsList = ['00001','00002','00003','00005','00006','00011','00012','00016','00017','00027','00066','00101','00175','00241','00267','00285','00288','00291','00316','00322','00386','00388','00669','00688','00700','00762','00823','00836','00857','00868','00881','00883','00939','00941','00960','00968','00981','00992','01038','01044','01088','01093','01099','01109','01113','01177','01209','01211','01299','01378','01398','01810','01876','01928','01929','01997','02015','02020','02269','02313','02318','02319','02331','02359','02382','02388','02628','02688','02899','03690','03692','03968','03988','06618','06690','06862','09618','09633','09888','09961','09988','09999',]
listPtr = 0

function showcharts() {
 var imgAdr ='<br>'
 var theCode = localStorage.randomcode;
 imgAdr = sCt(theCode)
 $( "#chart" ).html( imgAdr);
 showDateTime();
}

function sCt(stkcode) {
  indpara1 = [40,20,12,10,10,8,6,30,6,25,6]
  imgHead01 = "<img id='imgp0' src='https://charts.aastocks.com/servlet/Charts?fontsize=12&15MinDelay=T&lang=1&titlestyle=1&vol=1&Indicator=9&indpara1="
  imgHead02 = "&indpara2=1.6&indpara3=0&indpara4=0&indpara5=0&subChart1=3&ref1para1=5&ref1para2=10&ref1para3=3&subChart2=3&ref2para1=12&ref2para2=26&ref2para3=9&subChart3=7&ref3para1=7&ref3para2=5&ref3para3=0&subChart4=7&ref4para1=11&ref4para2=8&ref3para3=0&subChart5=13&ref3para1=0&ref3para2=0&ref3para3=0&scheme=3&com=100&chartwidth=1350&chartheight=1000&stockid=";
  imgPCode = "&period=";
  imgTail = "&type=1&logoStyle=1'>";
  //chartWidth = 1350;
  // if((periodPtr = 7)||(periodPtr = 9)){chartWidth = 2700;}
  $("#disppanel").html("periodPtr: "+(periodPtr+1) + " sma: " + indpara1[periodPtr])

  emaPeriodArray = [2,3,4,5,6]
  baseNum = emaPeriod[periodPtr]
  emaChartNum = emaPeriodArray.map((currentValue) => baseNum * currentValue);

  imgemaHead01 = "<img id='imgp3' src='https://charts.aastocks.com/servlet/Charts?fontsize=12&15MinDelay=F&lang=1&titlestyle=1&vol=1&Indicator=3&indpara1="
    + emaChartNum[0]
  imgemaHead02 = "&indpara2=" + emaChartNum[1]
    + "&indpara3=" + emaChartNum[2]
    + "&indpara4=" + emaChartNum[3]
    + "&indpara5=" + emaChartNum[4]
    + "&subChart1=3&ref1para1=7&ref1para2=10&ref1para3=3&subChart2=3&ref2para1=12&ref2para2=26&ref2para3=9&subChart3=7&ref3para1=7&ref3para2=5&ref3para3=0&subChart4=7&ref4para1=11&ref4para2=8&ref3para3=0&subChart5=13&ref4para1=0&ref4para2=0&ref4para3=0&scheme=3&com=100&chartwidth=1350&chartheight=1000&stockid="

  theListDom = imgHead01 + indpara1[periodPtr] + imgHead02+ stkcode + imgPCode + chartPeriod[periodPtr] + imgTail;
  theListDom = theListDom + imgemaHead01 + imgemaHead02+ stkcode + imgPCode + chartPeriod[periodPtr] + imgTail;
  return theListDom;
}

function chkKey() {
  var testkey = getChar(event);
  if(testkey == '0'){changeCode('000001.sh');}
  else if(testkey == '3'){changeCode('399001.sz');}
  else if(testkey == '\\'){changeCode('399006.sz');}
  else if(testkey == '1'){changeCode('110000');}
  else if(testkey == '2'){changeCode('00388');}
  else if(testkey == '4'){changeCode('01766');}
  else if(testkey == '5'){changeCode('02009');}
  else if(testkey == '6'){changeCode('01186');}
  else if(testkey == '7'){changeCode('28647');}
  else if(testkey == '8'){changeCode('00308');}
  else if(testkey == '9'){changeCode('00390');}
  else if(testkey == 't'){window.location = '#dateAndTime';}
  else if(testkey == 'w'){window.scrollTo(0,0);}
  else if(testkey == 'e'){window.scrollTo(0,document.body.scrollHeight);}

  //else if(testkey == 't'){jpTo0();}
  else if(testkey == 'g'){window.open('heedChart.html');}
  else if(testkey == 'r'){
    localStorage.setItem("randomcode", thecode);
    window.open('Random Charts.html');}
  else if(testkey == 'f'){jpForeward();}
  else if(testkey == 'F'){jpListForeward();}
  else if(testkey == 'b'){jpBackWard();}
  else if(testkey == 'B'){jpListBackWard();}
  else if(testkey == 'c'){askCode();}
  else if(testkey == 'a'){window.location = '#imgp0';}
  else if(testkey == 's'){window.location = '#imgp3';}
  //else if(testkey == 'd'){window.location = '#daychart';}
  else if(testkey == 'd'){window.location = '#imgp5';}
  else if(testkey == 'v'){window.location = '#imgp6';}

  else if(testkey == 'X'){window.open('Random Charts.html', "_blank");}
  else if(testkey == 'x'){window.open('hourBor.html', "_blank");}
  else if(testkey == 'z'){window.open('View STK Charts.html', "_blank");}
  else{chkOtherKeys(tBstkey)} 

}

function getChar(event) {
  if (event.which!=0 && event.charCode!=0) {
    return String.fromCharCode(event.which)   // the rest
  } else {
    return null // special key
  }
}


function changeCode(thecode) {
  localStorage.setItem("randomcode", thecode)
  showcharts(thecode)
  //document.getElementById('myDropdown').classList.toggle('show');
  window.location = '#chart'
}

function jpForeward() {
  periodPtr = periodPtr + 1
  if (periodPtr >= chartPeriod.length) {
    periodPtr = 0
  }
  showcharts()
}

function jpBackWard() {
  periodPtr = periodPtr - 1
  if (periodPtr < 0) {
    periodPtr = chartPeriod.length -1
  }
  showcharts()
}

function jpListForeward() {
  listPtr = listPtr + 1
  if (listPtr >= hsList.length) {
    listPtr = 0
  }

  localStorage.setItem("randomcode", hsList[listPtr-1])
  showcharts()
}

function jpListBackWard() {
  listPtr = listPtr - 1
  if (listPtr < 0) {
    listPtr = hsList.length -1
  }

  localStorage.setItem("randomcode", hsList[listPtr-1])
  showcharts()
}

function askCode() {
    var thecode = prompt("Code Number:", "");
    if (thecode != null && thecode != "") {
        if (thecode != "HSI") { thecode = FormatNumberLength5(thecode);}
        localStorage.setItem("randomcode", thecode)
        showcharts(thecode)
    }
}

function toggleButton() {
    document.getElementById('myDropdown').classList.toggle('show');
}

function showDateTime() {
    var theDateTime = showDate() +" "+ showTime();
    $("#dateTime").html(theDateTime)
}

showcharts()
</script>

</body>
</html>
