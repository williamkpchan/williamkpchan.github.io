<!-- note there are 2 Random Charts.html -->
<!DOCTYPE html>
<head>
<!--meta http-equiv="refresh" content="60"-->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>尋寶機</title>
<link rel="stylesheet" href="https://williamkpchan.github.io/maincss.css">
<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="https://williamkpchan.github.io/mainscript.js"></script>
<!--script src="https://williamkpchan.github.io/LibDocs/stkComments.js"></script-->
<script src="https://williamkpchan.github.io/LibDocs/longHistList.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


<style>
body {
  background-color: black  !important;
  color: gray;
  justify-content: center;
  align-content: center;
}
canvas {max-width:80%;}
select {border-radius:10px; font-size:20px;background-color:black; color:brown;}
#stkChart {font-size: 18px; font-weight:lighter;}
img {display: inline-block; width: 48%; padding: 2px; border-radius: 4px;}
a:visited { color: #389898;}
#trendstatus {color:#bbb;}
#cmtNote, #instruction, #memo{display:none;}
@media only screen and (max-width: 1080px) {
  body, pre, div {width:100%;}
  canvas {max-width:100%;}
}
#hiden {display:none;}

.dropbtn {
    background-color: black;
    color: gold;
    padding: 8px;
    font-size: 20px;
    border: 1px solid gold;
    cursor: pointer;
}
button {color:#586;}
.dropbtn:hover, .dropbtn:focus {
    background-color: darkblue;
}

.dropdown {
    display: inline-block;
    border-radius:8%;
    right: 2%;
    position: absolute;
}

.dropdown-content {
    display: inline-block;
    display: none;
    background-color: black;
    min-width: 160px;
    overflow: auto;
    box-shadow: 0px 4px 4px 0px rgba(0,5,3,0.6);
    z-index: 1;
}

.dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
}

.dropdown a:hover {background-color: #ddd}

.show {display:block;}
#myDropdown {line-height:2;}

</style>
</head>
<body onkeypress="chkKey()">
<center>
<div class="smallsize">
<a href="https://stockapp.finance.qq.com/mstats/" class="redbut gold blueblackgrad" target="_blank">行情</a>
<a href="https://www.aastocks.com/tc/stocks/warrant/search.aspx" class="redbut gold2bs white blueblackgrad">窩輪</a>
<a href="LibDocs\CheckDayLineStatus.html" class="cyanbut white blueblackgrad">CheckDayLineStatus</a>
<!--a href="monitorHSI.html" target="_blank"><span class="but goldbut redblackgrad white blackts white2bs"><span class="glare"></span>mHSI</span></a-->
<!--a href="Hour STK Charts.html" target="_blank"><span class="but bluebut bluebs"><span class="glare"></span><span class="gold">隨風擺柳</span></span></a-->
<a href="追風10.html" target="_blank"><span class="but redbut darkblueback"><span class="glare"></span><b class="gold">追風</b></span></a>
<a href="minMACharts.html" target="_blank"><span class="but redbut darkblueback"><span class="glare"></span><b class="gold">逐浪</b></span></a>

<span class="goldbut red blueblackgrad" onclick=askforCode()>尋寶</span>
<span class="goldbut red greenblackgrad" onclick=shortSCt()>分鐘圖</span>
<span class="goldbut red grayblackgrad" onclick=addToquickCodeList()>&hearts;</span>
<a href="heedChart.html" target="_blank"><span class="whiteb">關注組</span></a> 
<a href="OHLCOtherCode.html"  target="_blank" class="redbut gold brownblackgrad gold2bs">OD</a>
<a href="OHLCOtherCode2.html"  target="_blank" class="redbut gold brownblackgrad gold2bs">OD2</a>
<a href="otherCode.html" target="_blank" class="bluebut white blueblackgrad lime2bs">P</a>
<a href="https://williamkpchanhp.github.io/listofcharts.html" target="_blank"><b class="greenbut white blueblackgrad">板块</b></a>
<a href="https://stock360.hkej.com/marketWatch/Industry/sectors" class="redbut ">熱炒</a>
<a href="https://stock360.hkej.com/marketWatch/Spot/todayStrong?si=Turnover&so=DESC&p=1" class="whitebut ">異動</a>
<a href="https://www.zhitongcaijing.com/bazaar.html" class="bluebut red">智通</a>
<a href="https://vip.stock.finance.sina.com.cn/corp/go.php/vCI_CorpInfo/stockid/300953.phtml" class="whitebut ">A股资料</a>

<!--	<a href="Hour STK Charts.html" target="_blank"><span class="goldblackb">指標</span></a> -->
	<button id="jumpButton" onclick=jpButClick()><span id="stkChartsLeft"></span></button>
	<button onclick=jpback()>back</button>
<br>
<a href="InspectChart.html" class="bluebut red">InspectChart</a>
<pk onclick='window.open("HourBor.html#daychart", "_blank");' class="redbut">Bor</pk>
<o onclick='window.open("allChartsBor.html#daychart", "_blank");' class="whitebut">full</o>
<r onclick='window.open("stkanalysis/trae/compareStatus.html", "_blank");' class="redbut">统计表</r>
<y onclick='window.open("stkanalysis/trae/compareStatusHLC.html", "_blank");' class="redbut">测短线</y>
<dr onclick='window.location = "#imgb1";' class="redbut white">分期保力加</dr>
<pk onclick='window.location = "#linecharts";' class="redbut">日保力加</pk>
<pk onclick='window.scrollTo(0,document.body.scrollHeight);' class="greenbut yellow">去最底</pk>


</div>
<div class="dropdown">
<button onclick="toggleButton()" class="dropbtn">stkCode</button>
  <div id="myDropdown" class="dropdown-content">
        <span onclick=changeCode("110000")>恒指</span><br>
        <span onclick=changeCode("000001.sh")>上证</span><br>
        <span onclick=changeCode("399001.sz")>深證</span><br>
        <span onclick=changeCode("221000&AHFT=T")>夜期</span><br>
        <span onclick="window.location = '#boll';">保力加</span><br>
        <span onclick=changeCode("221002&AHFT=T")>下月</span><br>
        <span onclick=changeCode("110010.HK")>國企</span><br>
        <span onclick=changeCode("110050")>创业板</span><br>
        <span onclick=changeCode("110041")>波幅</span><br>
        <span onclick=changeCode("110078")>科技</span><br>
        <span onclick=changeCode("111000")>dow</span><br>
        <span onclick=changeCode("111100")>Ndsq</span><br>
        <span onclick=changeCode("04246")>ibond</span><br>
        <span onclick="jpTo0();">jpTo0</span><br>
        <span onclick="showActivity();">showActivity</span><br>
        <span onclick="askforCode();">askforCode</span><br>
        <span onclick="window.location = '#imgp0';">#imgp0</span><br>
        <span onclick="window.location = '#imgp2';">#imgp2</span><br>
        <span onclick="window.location = '#imgp4';">#imgp4</span><br>
        <span onclick="window.location = '#imgp6';">#imgp6</span><br>
        <span onclick="$('#cmtNote').toggle();">cmtNote</span><br>
        <span onclick="window.scrollTo(0,0);">scrollTo(0,0)</span><br>
        <span onclick="window.location = '#filterMarkers';">#filterMarkers</span><br>
        <span onclick="setupAll();">setupAll</span><br>
        <span onclick="window.open('https://williamkpchanhp.github.io/LibDocs/listofcharts.html', '_blank');">listofcharts</span><br>
        <span onclick="window.open('https://williamkpchan.github.io/LibDocs/mlinechart.html');">mlinechart</span><br>
        <span onclick="window.open('https://williamkpchan.github.io/LibDocs/minuteLayersAcc.html');">minuteLayersAcc</span><br>
        <span onclick="window.open('追風10.html')">追風10</span><br>
  </div>
</div>

	<br>
</center>
	<div id="dateTime" style="margin-left:5%;" class="lime"> </div>
	<div id="turnover" style="margin-left:5%;"> </div>
	<div id="trendstatus" style="text-align:center;"> </div>
	<div id="stkChart" style="text-align:center;"> </div>
<p id="message"></p>
<br>
<span onclick="$('#instruction').toggle();"> 🎌 </span>

<select id="selectList" onchange="assignList()"></select>
<a href="AStkList.txt" class="whitebut" target="_blank">A股清单</a>

<span class="orange" onclick="showActivity();"> ✨ 特征</span>
<pre id="filterMarkers"></pre>

<br>
<pre id="instruction">
+ addToquickCodeList
q myfavor

c choose stock
r randomFlip
f forward
b back

g open heedChart
H open Hour Charts
Z View STK Charts
z large chart

p plot chart (othercode)
M Magnified
m mlineMinutechart
n Normal

t scrollTo top
a scrollTo 2nd top
e scrollTo bottom
d scrollTo day
s scrollTo hour
v,m scrollTo month

0 changeCode 000001.sh
3 changeCode 399001.sz
k shortsellurl
l bigVolurl

B	listofcharts
m	mlineMinutechart
N	mlinechart
M	shortSCt
n	sSCt
p	otherCode
D	bigVol
G	shortsell
X,x	15yr 2060
</pre>
<a href="https://www.aastocks.com/tc/stock/InterestsDisclosure.aspx?&symbol=00981" class="whitebut ">權益披露</a>
<a href="https://www.aastocks.com/tc/stocks/analysis/blocktrade.aspx?symbol=00981" class="whitebut ">大戶、散戶成交分析</a>
<a href="https://sc.hkex.com.hk/TuniS/www.hkex.com.hk/Mutual-Market/Stock-Connect/Statistics/Short-Selling?sc_lang=zh-CN#select1=0&select2=0" class="whitebut ">股票卖空数据</a>
<a href="https://sc.hkex.com.hk/TuniS/www.hkex.com.hk/Mutual-Market/Stock-Connect/Statistics/Historical-Daily?sc_lang=zh-CN#select1=3&select4=0&select5=0&select3=0&select2=11" class="whitebut ">每日数据</a>
<a href="https://sc.hkex.com.hk/TuniS/www.hkex.com.hk/Market-Data/Statistics/Securities-Market/Short-Selling-Turnover-Today?sc_lang=zh-CN" class="whitebut ">即日卖空成交资料</a>
<a href="https://sc.hkex.com.hk/gb/www.hkex.com.hk/chi/stat/smstat/dayquot/d201204c.htm#short_selling" class="whitebut ">***卖空成交-每日报表</a>
<a href="https://sc.hkex.com.hk/gb/www.hkex.com.hk/chi/stat/smstat/dayquot/qtn_c.asp" class="whitebut chgFontsize">***日报表（主板）</a>
<a href="https://www.hkex.com.hk/chi/market/sec_tradinfo/ds20201202_c.htm" class="whitebut ">可進行賣空的指定證券名單</a>
<a href="https://www.hkex.com.hk/Services/Trading/Securities/Securities-Lists/Designated-Securities-Eligible-for-Short-Selling?sc_lang=zh-HK" class="whitebut ">空軍平倉：</a>
<a href="https://www.hkex.com.hk/Market-Data/Securities-Prices/Callable-Bull-Bear-Contracts?sc_lang=zh-HK" class="whitebut ">港交所牛熊證市場數據</a>
恒生聰明貝塔指數 Hang Seng Smart Beta Index
<a href="补仓.html" target="_blank" class="redbut gold cyanbs">补仓</a>
<a href="https://williamkpchanhp.github.io/price2Book.html" class="whitebut ">市净率排序</a>
<a href="https://hk.warrants.com/tc/cbbc/outstanding-distribution" class="goldbut red2bs">恒指牛熊街货比</a>

<br>
<a href="https://hk.eastmoney.com/" class="whitebut ">港股公告精选</a>
<span class="redbut red blueblackgrad" onclick="setupAll()">setup</span>
<span class="redbut red blueblackgrad" onclick="changePeriod()">chgPeriod</span>

<span class="goldbut" onclick="changeCode('28718');">28718</span>
<span class="goldbut" onclick="changeCode('13336');">13336</span>
<span class="goldbut" onclick="changeCode('28647');">28647</span>
<span class="goldbut" onclick="changeCode('27992');">27992</span>
<span class="goldbut" onclick="changeCode('26076');">26076</span>
<span class="goldbut" onclick="changeCode('24407');">24407</span>

</center>

<script>

if (localStorage.getItem("stkListArr") === null) {
      stkChartList = "7500";
} else{
      stkChartList = localStorage.getItem("stkListArr").split(' ');
}

// console.log(stkChartList);
var remainChtNo = stkChartList.length;
//var remainChtNo = 1;
thecode ="";
var pointer;
urladdr = "";


shortsellHeader = "https://www.aastocks.com/tc/stocks/analysis/stock-short-selling-ratio.aspx?symbol="
bigVolHeader = "https://www.etnet.com.hk/www/tc/stocks/realtime/quote_transaction.php?code="

// load localStorage.randomcode
var url_string = location.href;
paramsArray = url_string.split('?')  // note this has changed to array
console.log("paramsArray0 ",paramsArray)
paramsArray.shift()
console.log("paramsArray1 ",paramsArray)

if (sessionStorage.getItem("randomcode") === null) {
  if(paramsArray.length!=0){
    thecode = paramsArray[0]; // paramsArray is still array
        localStorage.setItem("randomcode", thecode)
        localStorage.setItem("stkCode", thecode)
  
  } else{
      if (localStorage.getItem("randomcode") === null) {
        localStorage.randomcode = "07500";
      } else{
        thecode = localStorage.getItem("randomcode");
      }
  }
}else{
  thecode = sessionStorage.getItem("randomcode");
}

console.log("thecode before modify: ",thecode)
thecode = modify(thecode) // convert to std code
console.log("thecode modify: ",thecode)
      var options = '';  // build the List select option
      for (var i = 0; i < allListNames.length; i++) {
         options += '<option value="' + allListNames[i]+ '">' + allListNames[i] + '</option>';
      }
      $("#selectList").html(options);

function shuffle() {
 var listlen = stkChartList.length, j = 0, temp;

 while (listlen--) {
  j = Math.floor(Math.random() * (listlen+1));

  temp = stkChartList[listlen];
  stkChartList[listlen] = stkChartList[j];
  stkChartList[j] = temp;
 }
}

function showSTKChart() {
  document.querySelector('#stkChartsLeft').innerHTML = remainChtNo;
  sSCt(thecode);
  showTO(thecode);
  $('#filterMarkers').text("")
  if(screen.width < 560){ $('img').css('width','100%'); }

  document.querySelector('#jumpButton').focus();

}

function jpTo0() {
    pointer = 0;
    jpto(pointer);
}

function jpButClick() {
  var jpBut = document.querySelector('#jumpButton');
   //console.log("\nbefore jump ",remainChtNo);

  if ((pointer >= 0) &(pointer < (stkChartList.length-1))){
    pointer = pointer + 1;
  }else {
    pointer = 0;
  }
  remainChtNo = pointer+1
  localStorage.setItem("randomcode", thecode)
  jpto(pointer);
}

function jpback() {
  if ((pointer > 0) &(pointer < (stkChartList.length))){
    pointer = pointer - 1;
  }else {
    pointer = stkChartList.length-1;
  }
  remainChtNo = pointer +1
  localStorage.setItem("randomcode", thecode)
  jpto(pointer);
}
function jpto(pointer) {
    //console.log("pointer is ",pointer);
    thecode = stkChartList[pointer];
    localStorage.setItem("randomcode", thecode)
    showSTKChart();
}
function randomFlip() {
    remainChtNo = Math.floor(Math.random() * stkChartList.length);
    thecode = stkChartList[remainChtNo];
    localStorage.setItem("randomcode", thecode)
    showSTKChart();
}

    function myfavor() {
        myfavorLst = mychips.split(" ");
        stkChartList = myfavorLst;
        alert("MyfavorLst Total: " + myfavorLst.length + "\ndetails see end of this page.\nremember to modify mustadd list!")
        $("#message").text("myfavorLst Total: " + myfavorLst.length + "\n"+stkChartList);
    }
    function usebig20List() {
        myfavorLst = big20List.split(" ");
        stkChartList = myfavorLst;
        alert("big20List Total: " + stkChartList.length + "\ndetails see end of this page.\nremember to modify mustadd list!")
        $("#message").text("big20List Total: " + stkChartList.length + "\n"+stkChartList);
    }

    function usequickCodeList() {
        stkChartList = quickCodeList;
        alert("quickCodeList Total: " + quickCodeList.length + "\ndetails see end of this page.\nremember to modify mustadd list!")
        $("#message").text("quickCodeList Total: " + quickCodeList.length + "\n"+stkChartList);
    }

let timeoutId;
//let period = localStorage.getItem('timeoutPeriod');
let period = 600000;

// Function to refresh the page
function refreshPage() {
    location.reload(); // Reload the page
}

// Function to prompt for a new period and save it in localStorage
function changePeriod() {
    newPeriod = prompt('Enter the new period in seconds:', 60);
    if (newPeriod) {
        newPeriod = parseInt(newPeriod)*1000;
        if(newPeriod<15000){newPeriod = 15000}
        localStorage.setItem('timeoutPeriod', newPeriod);
        period = newPeriod
        clearTimeout(timeoutId); // Clear the existing timeout
        timeoutId = setTimeout(refreshPage, period); // Set a new timeout with the updated period
    }
}

// Start the initial timeout
timeoutId = setTimeout(refreshPage, period);

function chkKey() {
  var testkey = getChar(event);
  if(testkey == '0'){changeCode('000001.sh');}
  else if(testkey == '3'){changeCode('399001.sz');}
  else if(testkey == '\\'){changeCode('399006.sz');}
  else if(testkey == '1'){changeCode('110000');}
  else if(testkey == '2'){changeCode('00388');}
  else if(testkey == '4'){changeCode('01766');}
  else if(testkey == '5'){changeCode('02009');}
  else if(testkey == '6'){changeCode('01186');}
  else if(testkey == '7'){changeCode('09618');}
  else if(testkey == '8'){changeCode('01193');}
  else if(testkey == '9'){changeCode('00390');}

  else if(testkey == 't'){window.location = '#jumpButton';}
  //else if(testkey == 't'){jpTo0();}
  else if(testkey == 'T'){showActivity();window.scrollTo(0,document.body.scrollHeight);}
  else if(testkey == 'f'){window.location = '#imgb1';}
  else if(testkey == ']'){jpButClick();}
  else if(testkey == '['){jpback();}
  else if(testkey == 'B'){window.location = '#boll';}
  else if(testkey == 'b'){window.open("HourBor.html#daychart", "_blank");}
  else if(testkey == 'c'){askforCode();}
  else if(testkey == 'C'){window.open("allChartsBor.html", "_blank");}
  //else if(testkey == 'C'){window.open("dailyChart.html", "_blank");}
  else if(testkey == '+'){addToquickCodeList();}
  //else if(testkey == 'g'){window.open("https://williamkpchan.github.io/LibDocs/heedChart.html", "_blank");}
  else if(testkey == 'g'){window.location = '#imgb3';}
  //else if(testkey == 'h'){localStorage.setItem("randomcode", thecode); window.open("HIghLowTrend.html", "_blank");}
  else if(testkey == 'h'){window.location = '#imgb5';}
  else if(testkey == 'H'){window.open("https://williamkpchan.github.io/LibDocs/Hour STK Charts.html", "_blank");}
  else if(testkey == 'i'){window.open("https://williamkpchan.github.io/LibDocs/InspectChart.html", "_blank");}
  else if(testkey == 'l'){askaList();} // input a list of codes and store it
  else if(testkey == 'k'){ changeCode(localStorage.getItem("randomcode"))}
  else if(testkey == 'L'){
      bigVolurl = "https://www.etnet.com.hk/www/tc/stocks/realtime/quote_transaction.php?code=" + thecode
      window.open(bigVolurl, "_blank");}
  //else if(testkey == 'B'){window.open("https://williamkpchan.github.io/LibDocs/listofcharts.html", "_blank");}
  else if(testkey == 'e'){$('#memo').toggle();window.location = '#memo';window.scrollBy(0, -100);}
  //else if(testkey == 'm'){window.open("mlineMinutechart.html", "_blank");}
  else if(testkey == 'N'){window.open("mlinechart.html", "_blank");}
  else if(testkey == 'M'){shortSCt();}
  else if(testkey == 'n'){window.location = "#niumin";}
  else if(testkey == ','){window.open("mlinechart.html");}
  else if(testkey == ':'){window.open("minuteLayers.html");}
  //else if(testkey == ';'){window.open("minuteLayersAcc.html");}
  else if(testkey == ';'){window.open("modminuteLayersAcc.html");}

  else if(testkey == '"'){window.open("dayLayers.html");}
  else if(testkey == "'"){window.open("swipeChart.html");}
  // else if(testkey == "'"){window.open("mline11chart.html");}
  else if(testkey == '.'){localStorage.setItem("randomcode", thecode); window.open("mlineMinutechart.html");}

  else if(testkey == 'a'){window.location = '#imgp0';}
  else if(testkey == 's'){window.location = '#imgp2';}
  else if(testkey == 'd'){window.location = '#imgp4';}
  else if(testkey == 'v'){window.location = '#imgp6';}
  else if(testkey == 'A'){$('#cmtNote').toggle();}

  else if(testkey == 'w'){window.scrollTo(0,0);}
  else if(testkey == 'E'){window.location = '#filterMarkers';}
  else if(testkey == 'x'){window.scrollTo(0,document.body.scrollHeight);}
  else if(testkey == 'r'){randomFlip();}
  else if(testkey == 'o'){window.open("https://charts.aastocks.com/servlet/Charts?fontsize=12&15MinDelay=T&lang=1&titlestyle=1&vol=1&Indicator=3&indpara1=5&indpara2=10&indpara3=20&indpara4=40&indpara5=60&subChart1=9&ref5para1=0&ref5para2=0&ref5para3=0&scheme=3&com=100&chartwidth=1350&chartheight=1000&stockid=" + thecode + "&period=9&type=1&logoStyle=1");}
  else if(testkey == 'q'){myfavor();}
  else if(testkey == 'Q'){usequickCodeList();}
  //else if(testkey == 'j'){usebig20List();}
  else if(testkey == 'j'){window.location = '#imgb7';}
  else if(testkey == 'J'){window.open("https://charts.aastocks.com/servlet/Charts?fontsize=12&15MinDelay=T&lang=1&titlestyle=1&vol=1&Indicator=3&indpara1=5&indpara2=10&indpara3=20&indpara4=40&indpara5=60&subChart1=13&ref4para1=0&ref4para2=0&ref4para3=0&scheme=3&com=100&chartwidth=1350&chartheight=1000&stockid=" + thecode + "&period=5000&type=1&logoStyle=1");}
  else if(testkey == 'S'){setupAll();}

  else if(testkey == 'p'){
       thecode = "00000" + thecode
       codewidth = thecode.length
       thecode = thecode.slice(codewidth-5, codewidth)
       localStorage.setItem("otherCode", thecode);
       window.open('otherCode.html');
     }
  //else if(testkey == 'x'){largeWkCht()}
  else if(testkey == 'X'){window.open("追風4.html")}
  else if(testkey == 'y'){window.open("https://charts.aastocks.com/servlet/Charts?fontsize=12&15MinDelay=T&lang=1&titlestyle=1&vol=1&Indicator=3&indpara1=10&indpara2=20&indpara3=40&indpara4=60&indpara5=80&subChart1=3&ref1para1=15&ref1para2=20&ref1para3=3&subChart2=3&ref2para1=25&ref2para2=30&ref2para3=9&subChart3=12&ref3para1=0&ref3para2=0&ref3para3=0&scheme=3&com=100&chartwidth=1350&chartheight=1000&stockid=221002.HK&period=5012&type=1&logoStyle=1&AHFT=T", "_blank");}
  else if(testkey == 'Y'){largeCht()}
  else if(testkey == 'z'){window.location = '#linecharts';}
  //else if(testkey == 'z'){window.open("追風10.html")}
  else if(testkey == 'Z'){
       thecode = localStorage.getItem("randomcode");
       localStorage.setItem("stkCode", thecode);
       window.open("minBor.html", "_blank");
     }
  else if(testkey == 'D'){
    bigVolAdr = bigVolHeader + thecode; window.open(bigVolAdr);
  }
  else if(testkey == 'G'){
    bigVolAdr = shortsellHeader + thecode; window.open(bigVolAdr);
  }
  else{chkOtherKeys(testkey)} 

  jQuery("body").on( "swipeleft", function( event ) {jpback();} );
  jQuery("body").on( "swiperight", function( event ) {jpButClick();});
}
function getChar(event) {
  if (event.which!=0 && event.charCode!=0) {
    return String.fromCharCode(event.which)   // the rest
  } else {
    return null // special key
  }
}

function askforCode() {
    thecode = prompt("Code Number:", "");
    if (thecode != null && thecode != "") {
      changeCode(thecode);
    }else{
      return;
    }
}

    function largeCht() {
        imgHead = "https://charts.aastocks.com/servlet/Charts?fontsize=12&15MinDelay=F&lang=1&titlestyle=1&vol=1&Indicator=9&indpara1=8&indpara2=1.5&indpara3=10&indpara4=15&indpara5=20&subChart2=3&ref2para1=12&ref2para2=26&ref2para3=9&subChart3=12&ref3para1=0&ref3para2=0&ref3para3=0&scheme=3&com=100&chartwidth=1600&chartheight=900&stockid=";

        imgTail = "&period=2060&type=1&logoStyle=1"
        imgURL = imgHead + thecode + imgTail
        window.open(imgURL, "_blank")
    }
    function largeWkCht() {
        imgHead = "https://charts.aastocks.com/servlet/Charts?fontsize=12&15MinDelay=F&lang=1&titlestyle=1&vol=1&Indicator=9&indpara1=24&indpara2=1.5&indpara3=10&indpara4=15&indpara5=20&subChart2=3&ref2para1=12&ref2para2=26&ref2para3=9&subChart3=12&ref3para1=0&ref3para2=0&ref3para3=0&scheme=3&com=100&chartwidth=1600&chartheight=900&stockid=";

        imgTail = "&period=2059&type=1&logoStyle=1"
        imgURL = imgHead + thecode + imgTail
        window.open(imgURL, "_blank")
    }

function showTO(stkcode) {
  codewidth = stkcode.length
  if((stkcode.substring(codewidth-3, codewidth) == ".US") ||
     (stkcode == "111000.HK")){
     console.log(stkcode.substring(codewidth-3, codewidth))
     return false
     }

  if(codewidth <= 5){
    stkcode = "00000"+stkcode;
    codewidth = stkcode.length;
    stkcode = "hk"+stkcode.slice(codewidth-5, codewidth);
    codewidth = stkcode.length; //update to be used later
  }else{
    if (stkcode.includes(".s")) {
      markindex = stkcode.indexOf('.s');
      stkcode = markindex !== -1 ? stkcode.substring(0, markindex) : stkcode;
    }
    codewidth = stkcode.length
    if((codewidth == 6) && !hsReservedCode.includes(stkcode)){
       if (stkcode.charAt(0) == "6"){ stkcode = "sh"+ stkcode; 
       }else{ stkcode = "sz" + stkcode}
    }else if(codewidth == 9){
      stkcode = stkcode.substring(7, 9) + stkcode.substring(0, 7);
    }
    codewidth = stkcode.length; //update to be used later
  }
console.log("stkcode ",stkcode)
  urladdr = 'https://web.ifzq.gtimg.cn/appstock/app/fqkline/get?_var=kline_dayqfq&param=' + stkcode + ',day,,,60,qfq';
  var script = document.createElement('script');
  script.onload = function() {
    $("#turnover").html("Turnover: ");
    theObj = kline_dayqfq.data;
    newObj = Object.values(theObj);
    stockName = newObj[0].qt[stkcode][1]

    newObj = Object.values(newObj[0]);

    newObj = Object.values(newObj[0]);
// console.log("newObj: ",newObj) //20 objs
// HK ["2024-11-01", "311.200", "311.400", "314.800", "308.800", "3863084.00", {}, "0", "120483.40"]
// open 311.2 close 311.4 high 314.8 low 308.8

closeArr = [];
highArr = [];
lowArr = [];
dateArr = [];
amtArr = []

for (let i = 0; i < newObj.length; i++) {
    dateArr.push(newObj[i][0]);
    closeArr.push(Number(newObj[i][2]));
    highArr.push(Number(newObj[i][3]));
    lowArr.push(Number(newObj[i][4]));
    amtArr.push(Number(newObj[i][5]));
}
// console.log("newObj",newObj)
upstatusMsg = ""
    curSWma = calculateWeightedMovingAverage(closeArr, 3);
    //if(c>curSWma){upstatusMsg = "C>WMA3"}
    statusMsg3 = checkXStatus(3, 6) +"&emsp;&emsp;"
    statusMsg5 = checkXStatus(5, 10) +"&emsp;&emsp;"
    statusMsg10 = checkXStatus(10, 20) +"&emsp;&emsp;"
    
    $("#trendstatus").html(upstatusMsg + statusMsg3 + statusMsg5 + statusMsg10)
plotBollingerBands(highArr, dateArr, 5, 1,"高位", stockName);
plotBollingerBands(lowArr, dateArr, 5, 1,"低位", stockName);
plotBollingerBands(closeArr, dateArr, 5, 1,"收市", stockName);

midArr = highArr.map(function (num, idx) {
  return (num + lowArr[idx])/2;
});

plotBollingerBands(midArr, dateArr, 5, 1,"中间数", stockName);
plotAmtBollingerBands(amtArr, dateArr, 3, 1, "成交比例 ", stkcode, stockName)


// select column: arrayColumn = (newObj, n) => newObj.map(x => x[n]);
// open: arrayColumn(newObj, 1), close: arrayColumn(newObj, 2)
// high: arrayColumn(newObj, 3), low: arrayColumn(newObj, 4)

// A stk ["2024-11-01", "7.40", "7.35", "8.20", "6.90", "5483674"]
// open 7.4  close 7.35 high 8.2 low 6.9
    for(i=49;i<newObj.length;i++){
      thedate = newObj[i][0];  // date
      if(codewidth == 5){
        theAmtIdx = 8;
      }else{
        theAmtIdx = 5;
      }
      theamt = Math.round(Number(newObj[i][theAmtIdx]));
        if(stkcode.slice(0, 2) == "sh"){
          theamt = Math.round(theamt * Number(newObj[i][2])/100);
        }

        if(stkcode.slice(0, 1) == "sz"){
          theamt = Math.round(theamt * Number(newObj[i][2])/10000);
        }

        if(stkcode.slice(0, 1) == "h"){
          theamt = Math.round(theamt * Number(newObj[i][2])/10000);
        }

      theamt = theamt.toString().replace(/\B(?=(\d{4})+(?!\d))/g, ",");

      $("#turnover").append( theamt,"w ");
    }
    theH = Number(newObj[newObj.length-1][3]);  // High
    theL = Number(newObj[newObj.length-1][4]);  // Low
    theClose = Number(newObj[newObj.length-1][2]);  // Close

    thePrevClose = Number(newObj[newObj.length-2][2]);  // PrevClose
    theCDiff = Math.round((theClose - thePrevClose)*10000)/10000;
    theCPct = Math.round((theCDiff / thePrevClose)*1000)/10;
    if(theCDiff>0){
      theCDiff = '<span class="red">' + theCDiff + '</span>'
      theCPct = '<span class="red">' + theCPct + '</span>'
    }
    if(theCDiff<0){
      theCDiff = '<span class="green">' + theCDiff + '</span>'
      theCPct = '<span class="green">' + theCPct + '</span>'
    }

    // calculate period ranges
    List5 = newObj.slice(newObj.length-5, newObj.length)
    List5H = List5.map(function(value,index) { return value[3]; })
    List5H = List5H.map(function (x) { return Number(x); });
    max5 = Math.max(...List5H)

    List5L = List5.map(function(value,index) { return value[4]; })
    List5L = List5L.map(function (x) { return Number(x); });
    min5 = Math.min(...List5L)

    // cal current pos
    c5Pos = Math.round((theClose - min5)*100/ (max5-min5))
    c5fluc = Math.round((max5 - min5)*100/ min5)

    List20H = newObj.map(function(value,index) { return value[3]; })
    List20H = List20H.map(function (x) { return Number(x); });
    max20 = Math.max(...List20H)

    List20L = newObj.map(function(value,index) { return value[4]; })
    List20L = List20L.map(function (x) { return Number(x); });
    min20 = Math.min(...List20L)

    // cal current pos
    c20Pos = Math.round((theClose - min20)*100/ (max20-min20))
    c20fluc = Math.round((max20 - min20)*100/ min20)

    // cal day fluc
    dayMax = Math.max(theH,thePrevClose)
    dayMin = Math.min(theL,thePrevClose)
    dPos = Math.round((theClose - dayMin)*100/ (dayMax-dayMin))
    dfluc =  Math.round((dayMax - dayMin)*100/ dayMin)

    $("#turnover").append( '<br>'+ '<span class="red">maxS</span> '+ max5+ ' <span class="green">minS</span> '+ min5+
      ' <span class="orange">Sfluc '+ c5fluc+
      '%</span><span class="yellow"> SPos '+ c5Pos+ ' </span>, <u><span class="red">maxL</span> '+ max20+
      ' <span class="green">minL</span> '+ min20+ 
      ' <span class="orange">Lfluc '+ c20fluc+
      '%</span><span class="yellow"> LPos '+ c20Pos+ '</span></u>'+
      ', <span class="red">H '+ theH+
      '</span> <span class="green">L '+ theL+
      '</span> <span class="yellow bigfont">C '+ theClose+
      '</span> Dif '+ theCDiff+ ', ',theCPct+ ' % ' + 
      '<span class="orange">dfluc '+ dfluc+
      '%<span class="yellow"> dPos '+ dPos);

  };
  script.src = urladdr;
  document.getElementsByTagName('head')[0].appendChild(script);
}


function modify(stkcode) {
      codewidth = stkcode.length
      if(stkcode == "HSI"){ stkcode = '110000';
      }else{
        if(codewidth <= 5){
          stkcode = "00000"+stkcode;
          codewidth = stkcode.length;
          stkcode = stkcode.slice(codewidth-5, codewidth);
          codewidth = stkcode.length; //update to be used later
        }else{
          codewidth = stkcode.length
          if((codewidth == 6) && !hsReservedCode.includes(stkcode)){
             if (stkcode.charAt(0) == "6"){ stkcode = stkcode + ".sh"; 
             }else{ stkcode = stkcode + ".sz" }
          }else if(codewidth == 8){
            stkcode = stkcode.substring(2, 8) + "."+stkcode.substring(0, 2);
          }
        }
      }
  return stkcode;

}

function sSCt(stkcode) {
  stkcode = modify(stkcode)
  imgHead00 = "<img id='imgp";
  imgHead01 = "' ondblclick='openlarge()' src='https://charts.aastocks.com/servlet/Charts?fontsize=12&15MinDelay=F&lang=1&titlestyle=1&vol=1&Indicator=3&indpara1=10&indpara2=20&indpara3=30&indpara4=40&indpara5=50&subChart1=3&ref1para1=15&ref1para2=30&ref1para3=5&subChart2=3&ref2para1=20&ref2para2=40&ref2para3=15&subChart3=7&ref3para1=15&ref3para2=10&ref3para3=0&subChart4=7&ref4para1=30&ref4para2=20&ref3para3=0&subChart5=13&ref4para1=0&ref4para2=0&ref4para3=0&scheme=3&com=100&chartwidth=550&chartheight=760&stockid=";

  imgHead11 = "' ondblclick='openlarge()' src='https://charts.aastocks.com/servlet/Charts?fontsize=12&15MinDelay=F&lang=1&titlestyle=1&vol=1&Indicator=3&indpara1=3&indpara2=6&indpara3=9&indpara4=12&indpara5=15&subChart1=3&ref1para1=7&ref1para2=10&ref1para3=3&subChart2=3&ref2para1=12&ref2para2=26&ref2para3=9&subChart3=7&ref3para1=7&ref3para2=5&ref3para3=0&subChart4=7&ref4para1=11&ref4para2=8&ref3para3=0&subChart5=13&ref4para1=0&ref4para2=0&ref4para3=0&scheme=3&com=100&chartwidth=550&chartheight=760&stockid=";
  imgPCode= "&period=";
  imgTail="&type=1&logoStyle=1'>";

  intv = [5000, 5012, 2, 4, 7, 10, 12, 18];
  newshead = "https://www.aastocks.com/tc/stocks/analysis/stock-aafn/"
  newstail = "/0/all/1"
  newsStr = newshead + stkcode + newstail

  shortSellAdr = "<a href='" + shortsellHeader + stkcode +"' target = _blank>" + " 沽空</a>" 
  bigVolAdr = "<a href='" + bigVolHeader + stkcode +"' target = _blank>" + " 大戶</a>" 

  if(fraudSTK.includes(stkcode)){
    imgAdr = '<span class="bordred1 borRad15 blinkred whiteback goldbs">提防老千 !!! </span>'
  }else if(ignoreSTK.includes(stkcode)){
    imgAdr = '<span class="bordlime1 borRad15 blinkyellow blueback bluebs">可忽视</span>'
  }else if(mustAdd.includes(stkcode)){
    if(pointer!=null){
      imgAdr = pointer + "/"+stkChartList.length+' <span class="bordwhite2 borRad20 blinkslow red bluebs">留意股</span>'
    }else{
      imgAdr = ' <span class="bordwhite2 borRad20 blinkslow red bluebs">留意股</span>'
    }
  }else{
    if(pointer!=null){
      imgAdr = pointer + "/"+stkChartList.length+' '
    }else{
      imgAdr = ''
    }
  }

  imgAdr = imgAdr + "<a href='" + newsStr + "' target = _blank>" + stkcode + "</a>" + shortSellAdr + bigVolAdr +"<br>" 

  for( var imgPeriod = 0; imgPeriod < 2; imgPeriod++){
    imgAdr = imgAdr + imgHead00 + imgPeriod + imgHead01 + stkcode + imgPCode + intv[imgPeriod] + imgTail;
  };
  for( var imgPeriod = 2; imgPeriod < intv.length; imgPeriod++){
    imgAdr = imgAdr + imgHead00 + imgPeriod  + imgHead11 + stkcode + imgPCode + intv[imgPeriod] + imgTail;
  };

    imgAdr = imgAdr + '<br><h3 id="boll">保力加</h3><br>' + sCt(thecode) // add the Bor chart

    document.getElementById("stkChart").innerHTML = imgAdr;
    showDateTime();
}

function shortSCt() {
  imgmHead = "<img style='width:100%; max-width:100%;' src='https://charts.aastocks.com/servlet/Charts?fontsize=12&15MinDelay=F&lang=1&titlestyle=1&vol=1&Indicator=3&indpara1=5&indpara2=10&indpara3=15&indpara4=20&indpara5=25&subChart1=3&ref1para1=5&ref1para2=10&ref1para3=3&subChart2=3&ref2para1=12&ref2para2=26&ref2para3=9&subChart3=7&ref3para1=5&ref3para2=3&ref3para3=0&subChart4=1&ref4para1=0&ref4para2=0&ref4para3=0&subChart5=11&ref5para1=5&ref5para2=0&ref5para3=0&scheme=3&com=100&chartwidth=";
  imgwidth = 1350;
  heightstr = "&chartheight=";
  imgheight = 1500;
  idcode = "&stockid=";
  imgPCode= "&period=";
  imgTail="&type=1&logoStyle=1'><br><br>";

  var d = new Date();
  var mins=d.getMinutes();
  var hr=d.getHours();

  hrdiff = hr - 9;
  mindiff = mins -30;
  timespan = hrdiff * 60 + mindiff;
  if(timespan<60){imgwidth = timespan*22}

  intv = [5000,2,7,10,2060];
  newshead = "https://www.futunn.com/hk/stock/"
  newstail = "-HK"
  newsStr = newshead + thecode + newstail
  imgAdr = "<a href='" + newsStr + "' target = _blank>" + thecode + "</a><br>" 

  imgAdr = imgAdr + imgmHead +  imgwidth + heightstr + imgheight+ idcode+ thecode + imgPCode + intv[0] + imgTail;

  for( var imgPeriod = 1; imgPeriod < intv.length; imgPeriod++){
    imgAdr = imgAdr + imgmHead +  1350 + heightstr + imgheight+ idcode+ thecode + imgPCode + intv[imgPeriod] + imgTail;
  };

  imgAdr = imgAdr + sCt(thecode) // add the Bor chart
    document.getElementById("stkChart").innerHTML = imgAdr;
    showDateTime();
}


// load localStorage.savedCodeList
if (localStorage.getItem("savedCodeList") === null) {
  quickCodeList = ["110000"];
  localStorage.savedCodeList = quickCodeList;
} else{
  quickCodeList = localStorage.getItem("savedCodeList").split(',');
}

function sCt(stkcode) {
  stkcode = modify(stkcode)
  indpara1 = [22,16,12,10,10,8,6,6]
  imgHead00 = "<img id='imgb";
  imgHead01 = " src='https://charts.aastocks.com/servlet/Charts?fontsize=12&15MinDelay=T&lang=1&titlestyle=1&vol=1&Indicator=9&indpara1="
  imgHead02 = "&indpara2=1.6&indpara3=0&indpara4=0&indpara5=0&subChart1=3&ref1para1=5&ref1para2=10&ref1para3=3&subChart2=3&ref2para1=12&ref2para2=26&ref2para3=9&subChart3=7&ref3para1=7&ref3para2=5&ref3para3=0&subChart4=7&ref4para1=11&ref4para2=8&ref3para3=0&subChart5=13&ref3para1=0&ref3para2=0&ref3para3=0&scheme=3&com=100&chartwidth=650&chartheight=1000&stockid=";
  imgPCode= "&period=";
  imgTail="&type=1&logoStyle=1'>";
  theListDom = imgHead00 + "0'"+imgHead01 + indpara1[0] + imgHead02+ stkcode + imgPCode + 5012 + imgTail;
  theListDom = theListDom + imgHead00 + "1'"+imgHead01 + indpara1[1] + imgHead02+ stkcode + imgPCode + 3 + imgTail;
  theListDom = theListDom + imgHead00 + "2'"+imgHead01 + indpara1[2] + imgHead02+ stkcode + imgPCode + 4 + imgTail;
  theListDom = theListDom + imgHead00 + "3'"+imgHead01 + indpara1[3] + imgHead02+ stkcode + imgPCode + 7 + imgTail;
  theListDom = theListDom + imgHead00 + "4'"+imgHead01 + indpara1[4] + imgHead02+ stkcode + imgPCode + 6 + imgTail;
  theListDom = theListDom + imgHead00 + "5'"+imgHead01 + indpara1[5] + imgHead02+ stkcode + imgPCode + 10 + imgTail;
  theListDom = theListDom + imgHead00 + "6'"+imgHead01 + indpara1[6] + imgHead02+ stkcode + imgPCode + 12 + imgTail;
  theListDom = theListDom + imgHead00 + "7'"+imgHead01 + indpara1[7] + imgHead02+ stkcode + imgPCode + 18 + imgTail;
  return theListDom;
}

function addToquickCodeList() {
  codewidth = thecode.length
  if(codewidth <= 5){
    thecode = "00000"+thecode;
    codewidth = thecode.length;
    thecode = thecode.slice(codewidth-5, codewidth);
  }
  if (!quickCodeList.includes(thecode)) {
    quickCodeList.push(thecode);
    quickCodeList = Array.from(new Set(quickCodeList)); // set unique
    localStorage.savedCodeList = quickCodeList;
  }
}

function showDateTime() {
    var theDateTime = showDate() +" "+ showTime();
    cmtCode = thecode // use another name not to interfere other parts
    var cmtcodewidth = cmtCode.length
    if(cmtcodewidth <= 5){
      cmtCode = "00000"+cmtCode;
      cmtcodewidth = cmtCode.length;
      cmtCode = cmtCode.slice(cmtcodewidth-5, cmtcodewidth);
    }
    else if(cmtcodewidth == 8){
      cmtCode = cmtCode.slice(2, 8);
    }
    else if(cmtcodewidth == 9){
      cmtCode = cmtCode.slice(0, 6);
    }
    commentName = "j" + cmtCode;
    //var CommentListNames = Object.keys(theCommentList); // extract the names from comments
    // to show comments

    //if(CommentListNames.includes(commentName)){
    //  cmtLocation = CommentListNames.indexOf(commentName);
    //  commentTxt = theCommentList[Object.keys(theCommentList)[cmtLocation]]
    //}else{commentTxt = "No data!";}

    //document.getElementById("dateTime").innerHTML = theDateTime  + " <span onclick=\"$('#cmtNote').toggle();\"> 🎌 </span><br><span class='orange' id='cmtNote'>" + commentTxt + "</span>";
    document.getElementById("dateTime").innerHTML = theDateTime  + " <span onclick=\"$('#cmtNote').toggle();\"> 🎌 </span><br><span class='orange' id='cmtNote'>" + "</span>";

    $('#filterMarkers').text("") // clean the history characterictics
}

function toggleButton() {
    document.getElementById('myDropdown').classList.toggle('show');
}

// Close the dropdown if the user clicks outside of it
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {
    var dropdowns = document.getElementsByClassName('dropdown-content');
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}

// window.ondblclick = function(event) {shortSCt();}

function changeCode(thecode) {
     console.log("changeCode: ", thecode)
	sessionStorage.setItem("randomcode", thecode)
	localStorage.setItem("randomcode", thecode)
     window.location.href = "Random Charts.html";
}

function askaList() {
  var theList = prompt("Enter stk list seperated by space:", "");
  if (theList != null && theList != "") {
    localStorage.setItem("stkListArr",theList); // this is the shareList
    localStorage.setItem("titlebar","temp list");
    location.reload();
    stkChartList = theList;
  }
}


function showActivity(){
    tempcode = "00000" + thecode
    codewidth = tempcode.length
    tempcode = tempcode.slice(codewidth-5, codewidth)

    markers = filterResult.filter(element => element.includes(tempcode));
    // clean the h2 tags
    markers = markers.map(element => element.replace(/<\/h2>.*/gi, ""))
    markers = markers.map(element => element.replace(/<h2>/gi, ""))

    markers = markers.map(element => formatWeekDay(element))
    if (markers.length > 50){ markers.splice(0, markers.length-80);}

    $('#filterMarkers').text("")
    $('#filterMarkers').append("<b class='red'>" + tempcode + " 日线特征:</b><br>")
    $('#filterMarkers').append(markers)
}

// format WeekDay
function formatWeekDay(element) {
    dayStr = element.replace(/<.*?>/gi, "") // clean span tags
    dayStr = dayStr.substr(0,6)
    dayStr = convertWeekday(dayStr)
    return(dayStr + " " + element + "<br>")
}

// convert date string to weekday
function parse(str) {
    str = "20" + str
    var y = str.substr(0,4), m = str.substr(4,2) - 1,
        d = str.substr(6,2);
    var D = new Date(y,m,d);
    return (D.getFullYear() == y && D.getMonth() == m && D.getDate() == d) ? D : 'invalid date';
}
function convertWeekday(str) {
    return ["SUN","MON","TUE","WED","THU","FRI","SAT"][parse(str).getDay()]
}

function assignList(){
  newList = eval(document.getElementById("selectList").value).split(" ");
  stkChartList = newList;

  alert(" Total: " + stkChartList.length + "\ndetails see end of this page.\nremember to modify mustadd list!\n" + newList)
        $("#message").text("Total: " + stkChartList.length + "\n"+stkChartList);
  $('#selectList').blur()
  window.location.hash = '#dateTime';
}

function setupAll() {
	localStorage.setItem("fourcodes", "23707,11979,12725,28045,110000,000001.sh")
	localStorage.setItem("ImgPCode", "&period=10")
	localStorage.setItem("randomcode", "00388");
	localStorage.setItem("stkListArr","00700,00388,00939");
	localStorage.setItem("titlebar","temp list");
	localStorage.setItem("trendBase",10);
	localStorage.setItem("chaseWindTime", 60000);
	localStorage.setItem("stkListArr", "00388");
	localStorage.setItem("savedCodeList", "00388");
     changePeriod()
     alert("setup complete!")
}

// <y>加权移动平均 (WMA)</y>
function weightedMovingAverage(data, period) {
 const weights = Array.from({length: period}, (_, i) => period - i);
 const wma = new Array(period - 1).fill(null); // <y>填充 null</y>
 for (let i = period - 1; i < data.length; i++) {
  let sum = 0;
  let weightSum = 0;
  for (let j = 0; j < period; j++) {
   sum += data[i - j] * weights[j];
   weightSum += weights[j];
  }
  wma.push(sum / weightSum);
 }
 return wma;
}

// <y>标准差</y>
function standardDeviation(data, period) {
 const std = new Array(period - 1).fill(null); // <y>填充 null</y>
 for (let i = period - 1; i < data.length; i++) {
  const avg = data.slice(i - period + 1, i + 1).reduce((a, b) => a + b, 0) / period;
  const variance = data.slice(i - period + 1, i + 1).reduce((a, b) => a + Math.pow(b - avg, 2), 0) / period;
  std.push(Math.sqrt(variance));
 }
 return std;
}

// <y>计算保力加通道</y>
function bollingerBands(data, period, multiplier) {
 const wmaL1 = weightedMovingAverage(data, period);
 const wmaL2 = weightedMovingAverage(data, period*2);
 const wmaL3 = weightedMovingAverage(data, period*3);
 const wmaL4 = weightedMovingAverage(data, period*4);
 const wmaL5 = weightedMovingAverage(data, period*5);

 const std = standardDeviation(data, period);
 const upperBand = wmaL2.map((val, i) => val === null ? null : val + multiplier * std[i]);
 const lowerBand = wmaL2.map((val, i) => val === null ? null : val - multiplier * std[i]);
//console.log("lowerBand: ",lowerBand)
 return { wmaL1, wmaL2, wmaL3, wmaL4, wmaL5, upperBand, lowerBand, std };
}

function plotBollingerBands(data, dateArr, period, multiplier, chartTitle, stockName) {
    // 计算保力加通道数据
    const bands = bollingerBands(data, period, multiplier);

    // 创建标题
    const title = document.createElement('pk');
    title.innerHTML = chartTitle + " " + thecode +" "+stockName+ '&emsp;<a href=#top target="_self"><b>&#8679;</b></a><br>';
    document.body.appendChild(title);

    // 动态创建画布
    const canvas = document.createElement('canvas');
    const aspectRatio = 1.6; // 预设宽高比
    const containerWidth = document.body.clientWidth; // 获取页面宽度
    canvas.style.width = '100%';
    canvas.width = containerWidth;
    canvas.height = containerWidth / aspectRatio; 
    document.body.appendChild(canvas);

    // 获取画布上下文
    const ctx = canvas.getContext('2d');

    // 绘制图表
    new Chart(ctx, {
        type: 'line',
        data: {
            //labels: Array.from({ length: data.length }, (_, i) => i + 1),
            labels: dateArr,
            datasets: [
                {
                    label: 'Price',
                    data: data,
                    borderColor: 'yellow',
                    fill: false,
                    borderWidth: 1,
                    pointStyle: false,
                },
                {
                    label: 'WMAL5',
                    data: bands.wmaL1,
                    borderColor: 'green',
                    fill: false,
                    borderWidth: 1,
                    pointStyle: false,
                },
                {
                    label: 'wmaL10',
                    data: bands.wmaL2,
                    borderColor: 'red',
                    fill: false,
                    borderWidth: 1,
                    pointStyle: false,
                },
                {
                    label: 'wmaL15',
                    data: bands.wmaL3,
                    borderColor: 'orange',
                    fill: false,
                    borderWidth: 1,
                    pointStyle: false,
                },
                {
                    label: 'wmaL20',
                    data: bands.wmaL4,
                    borderColor: 'brown',
                    fill: false,
                    borderWidth: 1,
                    pointStyle: false,
                },
                {
                    label: 'wmaL25',
                    data: bands.wmaL5,
                    borderColor: 'gray',
                    fill: false,
                    borderWidth: 1,
                    pointStyle: false,
                },
                {
                    label: 'Upper Band',
                    data: bands.upperBand,
                    borderColor: 'purple',
                    fill: false,
                    borderWidth: 1,
                    pointStyle: false,
                },
                {
                    label: 'Lower Band',
                    data: bands.lowerBand,
                    borderColor: 'purple',
                    fill: false,
                    borderWidth: 1,
                    pointStyle: false,
                },

            ]
        },
        options: {
            responsive: true,
            scales: {
                x: {
                    display: true,
                    title: {
                        display: false,
                        text: 'Time'
                    }
                },
                y: {
                    display: true,
                    title: {
                        display: false,
                        text: 'Price'
                    }
                }
            }
        }
    });
}

function plotAmtBollingerBands(data, dateArr, period, multiplier, chartTitle, stknum, stockName) {
    // 计算保力加通道数据
    bands = bollingerBands(data, period, multiplier);

    // 创建标题
    title = document.createElement('pk');
    codeStr = `<o onclick="changeCode('` + stknum + `')">` + stknum + "</o>"

    title.innerHTML = chartTitle + " "+ codeStr+" "+stockName + '&emsp;<a href=#top target="_self"><b>&#8679;</b></a><br>';
    document.body.appendChild(title);

    // 动态创建画布
    canvas = document.createElement('canvas');
    aspectRatio = 1.5; // 预设宽高比
    containerWidth = document.body.clientWidth; // 获取页面宽度
    canvas.style.width = '100%';
    canvas.width = containerWidth;
    canvas.height = containerWidth / aspectRatio; 
    document.body.appendChild(canvas);

    // 获取画布上下文
    ctx = canvas.getContext('2d');

    // 绘制图表
    new Chart(ctx, {
        type: 'line',
        data: {
            labels: dateArr,
            datasets: [
                {
                    label: 'amt',
                    data: data,
                    borderColor: 'yellow',
                    fill: false,
                    borderWidth: 1,
                    pointStyle: false,
                },
                {
                    label: 'wmaL3',
                    data: bands.wmaL1,
                    borderColor: 'blue',
                    fill: false,
                    borderWidth: 1,
                    pointStyle: false,
                },
                {
                    label: 'wmaL6',
                    data: bands.wmaL2,
                    borderColor: 'green',
                    fill: false,
                    borderWidth: 1,
                    pointStyle: false,
                },
                {
                    label: 'Upper Band',
                    data: bands.upperBand,
                    borderColor: 'purple',
                    fill: false,
                    borderWidth: 1,
                    pointStyle: false,
                },
                {
                    label: 'Lower Band',
                    data: bands.lowerBand,
                    borderColor: 'purple',
                    fill: false,
                    borderWidth: 1,
                    pointStyle: false,
                },

            ]
        },
        options: {
            responsive: false,
            scales: {
                x: {
                    display: true,
                    title: {
                        display: false,
                        text: 'Time'
                    }
                },
                y: {
                    display: true,
                    title: {
                        display: false,
                        text: 'amt'
                    }
                }
            }
        }
    });
}



function checkX(prevL, prevS, curL, curS) {
 if (curS == curL){return "<y>平</y>" }
 if (((prevL == prevS) && (curS > curL )) || ((prevL>prevS) && (curS > curL ))){
  return '<r>升穿</r>'
 }
 if (((prevL == prevS) && (curS < curL )) || ((prevL<prevS) && (curS < curL ))){
  return '<bgr>跌穿</bgr>'
 }
 if ((prevL<prevS) && (curS > curL )){return '<pk>继续升</pk>' } // c must > prevC, this is not correct, further check for condition
 if ((prevL>prevS) && (curS < curL )){return '<lg>继续跌</lg>' }
}


function calculateWeightedMovingAverage(data, period) {
 if (data.length < period) {
  throw new Error("Data array is shorter than the period.");
 }

 // calculate the weights and sum of weights
 const weights = Array.from({ length: period }, (_, i) => i + 1);
 const weightSum = weights.reduce((a, b) => a + b, 0);
 
 // extract recentData
 const recentData = data.slice(data.length - period);

 // calculate weightedSum, this is still the sum
 const weightedSum = recentData.reduce((sum, value, index) => {
  return sum + value * weights[index];
 }, 0);

 return weightedSum / weightSum;  // this is ema value
}

function checkXStatus(shortperiod, longperiod) {
 // Create a new array without the last element
 prevArray = closeArr.slice(0, closeArr.length - 1);

 prevLWma = calculateWeightedMovingAverage(prevArray, longperiod);
 prevSWma = calculateWeightedMovingAverage(prevArray, shortperiod);
 curLWma = calculateWeightedMovingAverage(closeArr, longperiod);
 curSWma = calculateWeightedMovingAverage(closeArr, shortperiod);

 if(curSWma>prevSWma){
   shortTrendMsg = shortperiod + "<r>日线升</r>"
 }else if(curSWma=prevSWma){
   shortTrendMsg = shortperiod + "<y>日线平</y>"
 }else{
   shortTrendMsg = shortperiod + "<gr>日线跌</gr>"
 }

 return (shortTrendMsg + ", " + shortperiod + "日线" + checkX(prevLWma, prevSWma, curLWma, curSWma) + longperiod + "日线")
}

showSTKChart();

</script>

<a href="https://www.youtube.com/watch?v=-zCS5TUmanw" class="whitebut ">副部级央企详细大名单</a>

<br>
<span class="redbut" onclick="$('#memo').toggle();window.location = '#memo';"> memo 🎌 </span>
<br>
<r>优质：
<br>
<span onclick=changeCode("688256.sh")><wh>688256 寒武纪</wh></span>
<span onclick=changeCode("688981.sh")><wh>688981 中芯国际</wh></span>
<span onclick=changeCode("00683")>00683</span>
<span onclick=changeCode("06110")>06110</span>
<span onclick=changeCode("00005")>00005</span>
<span onclick=changeCode("00011")>00011</span>
<span onclick=changeCode("02208")>02208</span>
<span onclick=changeCode("01378")>01378</span>
<span onclick=changeCode("01810")>01810</span>
<pk onclick=changeCode("07200")>07200 +</pk>
<lg onclick=changeCode("07500")>07500 -</lg>
<pk onclick=changeCode("07226")>07226 +</pk>
<lg onclick=changeCode("07552")>07552 -</lg>
<span onclick=changeCode("27772")>27772</span>
<lg onclick=changeCode("6127")>6127</lg>
<lg onclick=changeCode("2727")>2727</lg>
<lg onclick=changeCode("2338")>2338</lg>
<lg onclick=changeCode("00552")>00552</lg>
<lg onclick=changeCode("2013")>2013</lg>
<lg onclick=changeCode("1951")>1951</lg>
<lg onclick=changeCode("1766")>1766</lg>
<lg onclick=changeCode("1448")>1448</lg>
<lg onclick=changeCode("1186")>1186</lg>
<lg onclick=changeCode("390")>390</lg>
<lg onclick=changeCode("291")>291</lg>
<lg onclick=changeCode("2382")>2382</lg>
<lg onclick=changeCode("2018")>2018</lg>

</r>
<br>
<br>
<pre id="memo">

<center><div id="toc" class="toc"></div></center><br>

<o>恒指成分</o>:
<y onclick=changeCode("00001")>00001 長和 </y> <y onclick=changeCode("00002")>00002 中電控股 </y> <y onclick=changeCode("00003")>00003 香港中華煤氣 </y> <y onclick=changeCode("00005")>00005 匯豐控股 </y> <y onclick=changeCode("00006")>00006 電能實業 </y> <y onclick=changeCode("00011")>00011 恆生銀行 </y> <y onclick=changeCode("00012")>00012 恆基地產 </y> <y onclick=changeCode("00016")>00016 新鴻基地產 </y>
<y onclick=changeCode("00017")>00017 新世界發展 </y> <y onclick=changeCode("00027")>00027 銀河娛樂 </y> <y onclick=changeCode("00066")>00066 港鐵公司 </y> <y onclick=changeCode("00101")>00101 恒隆地產 </y> <y onclick=changeCode("00175")>00175 吉利汽車 </y> <y onclick=changeCode("00241")>00241 阿里健康 </y> <y onclick=changeCode("00267")>00267 中信股份 </y> <y onclick=changeCode("00285")>00285 比亞迪電子 </y>
<y onclick=changeCode("00288")>00288 萬洲國際 </y> <y onclick=changeCode("00291")>00291 華潤啤酒 </y> <y onclick=changeCode("00316")>00316 東方海外國際 </y> <y onclick=changeCode("00322")>00322 康師傅控股 </y> <y onclick=changeCode("00386")>00386 中國石油化工股份 </y> <y onclick=changeCode("00388")>00388 香港交易所 </y> <y onclick=changeCode("00669")>00669 創科實業 </y>
<y onclick=changeCode("00700")>00700 騰訊控股 </y> <y onclick=changeCode("00762")>00762 中國聯通 </y> <y onclick=changeCode("00823")>00823 領展房產基金 </y> <y onclick=changeCode("00836")>00836 華潤電力 </y> <y onclick=changeCode("00857")>00857 中國石油股份 </y> <y onclick=changeCode("00868")>00868 信義玻璃 </y> <y onclick=changeCode("00881")>00881 中升控股 </y> <y onclick=changeCode("00883")>00883 中國海洋石油 </y>
<y onclick=changeCode("00939")>00939 建設銀行 </y> <y onclick=changeCode("00941")>00941 中國移動 </y> <y onclick=changeCode("00960")>00960 龍湖集團 </y> <y onclick=changeCode("00968")>00968 信義光能 </y> <y onclick=changeCode("00981")>00981 中芯國際 </y> <y onclick=changeCode("00992")>00992 聯想集團 </y> <y onclick=changeCode("01038")>01038 長江基建集團 </y> <y onclick=changeCode("01044")>01044 恆安國際 </y>
<y onclick=changeCode("01088")>01088 中國神華 </y> <y onclick=changeCode("01093")>01093 石藥集團 </y> <y onclick=changeCode("01099")>01099 國藥控股 </y> <y onclick=changeCode("01109")>01109 華潤置地 </y> <y onclick=changeCode("01113")>01113 長實集團 </y> <y onclick=changeCode("01177")>01177 中國生物製藥 </y> <y onclick=changeCode("01209")>01209 華潤萬象生活 </y> <y onclick=changeCode("01211")>01211 比亞迪股份 </y>
<y onclick=changeCode("01299")>01299 友邦保險 </y> <y onclick=changeCode("01378")>01378 中國宏橋 </y> <y onclick=changeCode("01398")>01398 工商銀行 </y> <y onclick=changeCode("01810")>01810 小米集團 </y> <y onclick=changeCode("01876")>01876 百威亞太 </y> <y onclick=changeCode("01928")>01928 金沙中國有限公司 </y> <y onclick=changeCode("01929")>01929 周大福 </y> <y onclick=changeCode("01997")>01997 九龍倉置業 </y>
<y onclick=changeCode("02015")>02015 理想汽車 </y> <y onclick=changeCode("02020")>02020 安踏體育 </y> <y onclick=changeCode("02269")>02269 藥明生物 </y> <y onclick=changeCode("02313")>02313 申洲國際 </y> <y onclick=changeCode("02318")>02318 中國平安 </y> <y onclick=changeCode("02319")>02319 蒙牛乳業 </y> <y onclick=changeCode("02331")>02331 李寧 </y> <y onclick=changeCode("02359")>02359 藥明康德 </y>
<y onclick=changeCode("02382")>02382 舜宇光學科技 </y> <y onclick=changeCode("02388")>02388 中銀香港 </y> <y onclick=changeCode("02628")>02628 中國人壽 </y> <y onclick=changeCode("02688")>02688 新奧能源 </y> <y onclick=changeCode("02899")>02899 紫金礦業 </y> <y onclick=changeCode("03690")>03690 美團 </y> <y onclick=changeCode("03692")>03692 翰森製藥 </y> <y onclick=changeCode("03968")>03968 招商銀行 </y>
<y onclick=changeCode("03988")>03988 中國銀行 </y> <y onclick=changeCode("06618")>06618 京東健康 </y> <y onclick=changeCode("06690")>06690 海爾智家 </y> <y onclick=changeCode("06862")>06862 海底撈 </y> <y onclick=changeCode("09618")>09618 京東集團 </y> <y onclick=changeCode("09633")>09633 農夫山泉 </y> <y onclick=changeCode("09888")>09888 百度集團 </y> <y onclick=changeCode("09961")>09961 攜程集團 </y>
<y onclick=changeCode("09988")>09988 阿里巴巴 </y> <y onclick=changeCode("09999")>09999 網易</y>  <y onclick=changeCode("00688")>00688 中國海外發展 </y>
股票號碼	公司名稱	比重(%) <a href="https://www.hsi.com.hk/chi/indexes/all-indexes/hsi" class="whitebut ">比重</a>
<y onclick=changeCode("00700")>00700 騰訊控股	8.27</y>
<y onclick=changeCode("00005")>00005 滙豐控股	7.93</y>
<y onclick=changeCode("09988")>09988 阿里巴巴 – W	7.72</y>
<y onclick=changeCode("01810")>01810 小米集團 – W	6.14</y>
<y onclick=changeCode("00939")>00939 建設銀行	5.54</y>
<y onclick=changeCode("01299")>01299 友邦保險	5.00</y>
<y onclick=changeCode("03690")>03690 美團 – W	4.26</y>
<y onclick=changeCode("00941")>00941 中國移動	3.40</y>
<y onclick=changeCode("00388")>00388 香港交易所	3.27</y>
<y onclick=changeCode("01398")>01398 工商銀行	3.16</y>
<y onclick=changeCode("01211")>01211 比亞迪股份	2.71</y>
<y onclick=changeCode("03988")>03988 中國銀行	2.42</y>
<y onclick=changeCode("02318")>02318 中國平安	2.30</y>
<y onclick=changeCode("00883")>00883 中國海洋石油	1.88</y>
<y onclick=changeCode("09999")>09999 網易 – S	1.80</y>
<y onclick=changeCode("01024")>01024 快手 – W	1.48</y>
<y onclick=changeCode("00981")>00981 中芯國際	1.46</y>
<y onclick=changeCode("09618")>09618 京東集團 – SW	1.37</y>
<y onclick=changeCode("03968")>03968 招商銀行	1.27</y>
<y onclick=changeCode("02628")>02628 中國人壽	1.08</y>
<y onclick=changeCode("00857")>00857 中國石油股份	1.03</y>

<o>基建互联</o>
<y onclick=changeCode("01766")>01766 中国中车 </y><y onclick=changeCode("03969")>03969 中国通号 </y><y onclick=changeCode("03898")>03898 时代电气 </y><y onclick=changeCode("00390")>00390 中国中铁 </y><y onclick=changeCode("03311")>03311 中国建筑国际 </y>
<o>中國科技十姐妹</o>
<y onclick=changeCode("09988")>09988 阿里巴巴 </y><y onclick=changeCode("00700")>00700 騰訊 </y><y onclick=changeCode("03690")>03690 美團 </y><y onclick=changeCode("01810")>01810 小米 </y><y onclick=changeCode("01211")>01211 比亞迪 </y><y onclick=changeCode("09618")>09618 京東 </y><y onclick=changeCode("09999")>09999 網易 </y><y onclick=changeCode("09888")>09888 百度 </y><y onclick=changeCode("00175")>00175 吉利 中芯國際 00981</y>

<o><r>Notes</r></o>
<y onclick="changeCode('01378')">01378 中国宏桥</y>
<h3>北上十大持仓</h3> 宁德时代 贵州茅台 美的集团 招商银行 比亚迪 长江电力 汇川资本 中国平安 迈瑞医疗 紫金矿业  
<h3>社保持仓</h3>
<y onclick="changeCode('601288')">601288</y> <y onclick="changeCode('601398')">601398</y> <y onclick="changeCode('601319')">601319</y> <y onclick="changeCode('601328')">601328</y> <y onclick="changeCode('601816')">601816</y> <y onclick="changeCode('601901')">601901</y> <y onclick="changeCode('002736')">002736</y> <y onclick="changeCode('600031')">600031</y>
<y onclick="changeCode('688036')">688036</y> <y onclick="changeCode('000807')">000807</y> <y onclick="changeCode('600415')">600415</y> <y onclick="changeCode('600309')">600309</y> <y onclick="changeCode('002410')">002410</y> <y onclick="changeCode('002027')">002027</y> <y onclick="changeCode('300433')">300433</y> <y onclick="changeCode('002469')">002469</y> <y onclick="changeCode('603517')">603517</y> <y onclick="changeCode('000408')">000408</y> <y onclick="changeCode('600019')">600019</y>
中船防务

<h3>社保减持</h3> 603456 605589 000719 
固态电池产业链: 宁德时代(300750.SZ)(03750) 比亚迪(01211) 中创新航(03931) 广汽集团(02238) 天能动力(00819) 瑞浦兰钧(00666) 龙蟠科技(02465)

00670 东方航空 600115 中国东航
<o id="niumin"><r>晨练</r></o>
<y onclick="changeCode('600798')">600798 宁波海运</y>

<o id="niumin"><r>牛泯</r></o>
科创50

安徽凤凰 <a href="https://q.stock.sohu.com/cn/832000/index.shtml" class="whitebut ">832000</a>
<y onclick="changeCode('159813')">159813 半导体ETF</y> <y onclick="changeCode('600000')">600000 浦发银行</y> <y onclick="changeCode('600517')">600517 国网英大</y> <y onclick="changeCode('601318')">601318 中国平安</y> <y onclick="changeCode('002727')">002727 一心堂</y>
<y onclick="changeCode('300059')">300059 东方财富</y> <y onclick="changeCode('000688')">000688</y> <y onclick="changeCode('600300')">600300</y> <y onclick="changeCode('600308')">600308</y> <y onclick="changeCode('300368')">300368</y>
<y onclick="changeCode('600491')">600491</y> <y onclick="changeCode('601318')">601318</y> <y onclick="changeCode('603707')">603707</y> <y onclick="changeCode('000088')">000088</y> <y onclick="changeCode('000564')">000564</y>
<y onclick="changeCode('000789')">000789</y> <y onclick="changeCode('000785')">000785</y> <y onclick="changeCode('000863')">000863</y> <y onclick="changeCode('002125')">002125</y> <y onclick="changeCode('002385')">002385</y> <y onclick="changeCode('002476')">002476</y> <y onclick="changeCode('002641')">002641</y> <y onclick="changeCode('002936')">002936</y>

<o><lg>军工</lg></o>
<y onclick="changeCode('000519')">000519 中兵红箭</y> <y onclick="changeCode('000547')">000547 航天发展</y> <y onclick="changeCode('000561')">000561 烽火电子</y> <y onclick="changeCode('000576')">000576 甘化科工</y> <y onclick="changeCode('000638')">000638 *ST万方</y>
<y onclick="changeCode('000697')">000697 ST炼石</y> <y onclick="changeCode('000733')">000733 振华科技</y> <y onclick="changeCode('000738')">000738 航发控制</y> <y onclick="changeCode('000768')">000768 中航西飞</y> <y onclick="changeCode('001270')">001270 *ST铖昌</y>
<y onclick="changeCode('002023')">002023 海特高新</y> <y onclick="changeCode('002025')">002025 航天电器</y> <y onclick="changeCode('002111')">002111 威海广泰</y> <y onclick="changeCode('002151')">002151 北斗星通</y> <y onclick="changeCode('002179')">002179 中航光电</y>
<y onclick="changeCode('002189')">002189 中光学</y> <y onclick="changeCode('002214')">002214 *ST大立</y> <y onclick="changeCode('002231')">002231 *ST奥维</y> <y onclick="changeCode('002297')">002297 博云新材</y> <y onclick="changeCode('002338')">002338 奥普光电</y>
<y onclick="changeCode('002383')">002383 合众思壮</y> <y onclick="changeCode('002389')">002389 航天彩虹</y> <y onclick="changeCode('002413')">002413 雷科防务</y> <y onclick="changeCode('002414')">002414 高德红外</y> <y onclick="changeCode('002446')">002446 盛路通信</y>
<y onclick="changeCode('002465')">002465 海格通信</y> <y onclick="changeCode('002519')">002519 银河电子</y> <y onclick="changeCode('002625')">002625 光启技术</y> <y onclick="changeCode('002651')">002651 利君股份</y> <y onclick="changeCode('002829')">002829 星网宇达</y>
<y onclick="changeCode('002933')">002933 新兴装备</y> <y onclick="changeCode('002935')">002935 天奥电子</y> <y onclick="changeCode('002977')">002977 天箭科技</y> <y onclick="changeCode('002985')">002985 北摩高科</y> <y onclick="changeCode('003009')">003009 中天火箭</y>
<y onclick="changeCode('300008')">300008 天海防务</y> <y onclick="changeCode('300034')">300034 钢研高纳</y> <y onclick="changeCode('300045')">300045 华力创通</y> <y onclick="changeCode('300065')">300065 海兰信</y> <y onclick="changeCode('300101')">300101 振芯科技</y>
<y onclick="changeCode('300123')">300123 亚光科技</y> <y onclick="changeCode('300177')">300177 中海达</y> <y onclick="changeCode('300252')">300252 金信诺</y> <y onclick="changeCode('300395')">300395 菲利华</y> <y onclick="changeCode('300397')">300397 天和防务</y>
<y onclick="changeCode('300424')">300424 航新科技</y> <y onclick="changeCode('300447')">300447 全信股份</y> <y onclick="changeCode('300474')">300474 景嘉微</y> <y onclick="changeCode('300527')">300527 ST应急</y> <y onclick="changeCode('300581')">300581 晨曦航空</y>
<y onclick="changeCode('300589')">300589 江龙船艇</y> <y onclick="changeCode('300600')">300600 国瑞科技</y> <y onclick="changeCode('300629')">300629 新劲刚</y> <y onclick="changeCode('300696')">300696 爱乐达</y> <y onclick="changeCode('300699')">300699 光威复材</y>
<y onclick="changeCode('300719')">300719 安达维尔</y> <y onclick="changeCode('300722')">300722 新余国科</y> <y onclick="changeCode('300726')">300726 宏达电子</y> <y onclick="changeCode('300762')">300762 上海瀚讯</y> <y onclick="changeCode('300775')">300775 三角防务</y>
<y onclick="changeCode('300777')">300777 中简科技</y> <y onclick="changeCode('300810')">300810 中科海讯</y> <y onclick="changeCode('300875')">300875 捷强装备</y> <y onclick="changeCode('300900')">300900 广联航空</y> <y onclick="changeCode('300922')">300922 天秦装备</y>
<y onclick="changeCode('300965')">300965 恒宇信通</y> <y onclick="changeCode('301050')">301050 雷电微力</y> <y onclick="changeCode('301213')">301213 观想科技</y> <y onclick="changeCode('301302')">301302 华如科技</y> <y onclick="changeCode('301306')">301306 西测测试</y>
<y onclick="changeCode('301357')">301357 北方长龙</y> <y onclick="changeCode('301517')">301517 陕西华达</y> <y onclick="changeCode('301571')">301571 国科天成</y> <y onclick="changeCode('301586')">301586 佳力奇</y> <y onclick="changeCode('301592')">301592 六九一二</y>
<y onclick="changeCode('302132')">302132 中航成飞</y> <y onclick="changeCode('600038')">600038 中直股份</y> <y onclick="changeCode('600118')">600118 中国卫星</y> <y onclick="changeCode('600150')">600150 中国船舶</y> <y onclick="changeCode('600184')">600184 光电股份</y>
<y onclick="changeCode('600316')">600316 洪都航空</y> <y onclick="changeCode('600372')">600372 中航机载</y> <y onclick="changeCode('600391')">600391 航发科技</y> <y onclick="changeCode('600435')">600435 北方导航</y> <y onclick="changeCode('600562')">600562 国睿科技</y>
<y onclick="changeCode('600590')">600590 泰豪科技</y> <y onclick="changeCode('600685')">600685 中船防务</y> <y onclick="changeCode('600760')">600760 中航沈飞</y> <y onclick="changeCode('600764')">600764 中国海防</y> <y onclick="changeCode('600765')">600765 中航重机</y>
<y onclick="changeCode('600855')">600855 航天长峰</y> <y onclick="changeCode('600862')">600862 中航高科</y> <y onclick="changeCode('600879')">600879 航天电子</y> <y onclick="changeCode('600893')">600893 航发动力</y> <y onclick="changeCode('600967')">600967 内蒙一机</y>
<y onclick="changeCode('600990')">600990 四创电子</y> <y onclick="changeCode('601606')">601606 长城军工</y> <y onclick="changeCode('601698')">601698 中国卫通</y> <y onclick="changeCode('601890')">601890 亚星锚链</y> <y onclick="changeCode('601989')">601989 中国重工</y>
<y onclick="changeCode('603261')">603261 *ST立航</y> <y onclick="changeCode('603267')">603267 鸿远电子</y> <y onclick="changeCode('603678')">603678 火炬电子</y> <y onclick="changeCode('603712')">603712 七一二</y> <y onclick="changeCode('605123')">605123 派克新材</y>
<y onclick="changeCode('688002')">688002 睿创微纳</y> <y onclick="changeCode('688011')">688011 新光光电</y> <y onclick="changeCode('688053')">688053 思科瑞</y> <y onclick="changeCode('688070')">688070 纵横股份</y> <y onclick="changeCode('688081')">688081 兴图新科</y>
<y onclick="changeCode('688084')">688084 晶品特装</y> <y onclick="changeCode('688122')">688122 西部超导</y> <y onclick="changeCode('688132')">688132 邦彦技术</y> <y onclick="changeCode('688175')">688175 高凌信息</y> <y onclick="changeCode('688237')">688237 超卓航科</y>
<y onclick="changeCode('688239')">688239 航宇科技</y> <y onclick="changeCode('688272')">688272 富吉瑞</y> <y onclick="changeCode('688281')">688281 华秦科技</y> <y onclick="changeCode('688282')">688282 理工导航</y> <y onclick="changeCode('688287')">688287 *ST观典</y>
<y onclick="changeCode('688297')">688297 中无人机</y> <y onclick="changeCode('688311')">688311 盟升电子</y> <y onclick="changeCode('688375')">688375 国博电子</y> <y onclick="changeCode('688439')">688439 振华风光</y> <y onclick="changeCode('688510')">688510 航亚科技</y>
<y onclick="changeCode('688511')">688511 *ST天微</y> <y onclick="changeCode('688522')">688522 纳睿雷达</y> <y onclick="changeCode('688523')">688523 航天环宇</y> <y onclick="changeCode('688543')">688543 国科军工</y> <y onclick="changeCode('688552')">688552 航天南湖</y>
<y onclick="changeCode('688563')">688563 航材股份</y> <y onclick="changeCode('688586')">688586 江航装备</y> <y onclick="changeCode('688629')">688629 华丰科技</y> <y onclick="changeCode('688636')">688636 智明达</y> <y onclick="changeCode('688682')">688682 霍莱沃</y>
<y onclick="changeCode('688685')">688685 迈信林</y> <y onclick="changeCode('688708')">688708 佳驰科技</y> <y onclick="changeCode('688776')">688776 国光电气</y> <y onclick="changeCode('688788')">688788 科思科技</y> <y onclick="changeCode('837006')">837006 晟楠科技</y> <y onclick="changeCode('871642')">871642 通易航天</y> <y onclick="changeCode('920008')">920008 成电光信</y>

<o>证券</o>
<y onclick="changeCode('300803')">300803 指南针</y> <y onclick="changeCode('300033')">300033 同花顺</y> <y onclick="changeCode('002939')">002939 长城证券</y> <y onclick="changeCode('002945')">002945 华林证券</y> <y onclick="changeCode('600095')">600095 湘财股份</y>
<y onclick="changeCode('002673')">002673 西部证券</y> <y onclick="changeCode('601162')">601162 天风证券</y> <y onclick="changeCode('300059')">300059 东方财富</y> <y onclick="changeCode('601456')">601456 国联民生</y> <y onclick="changeCode('600030')">600030 中信证券</y>
<y onclick="changeCode('601066')">601066 中信建投</y> <y onclick="changeCode('601375')">601375 中原证券</y> <y onclick="changeCode('601059')">601059 信达证券</y> <y onclick="changeCode('600369')">600369 西南证券</y> <y onclick="changeCode('000750')">000750 国海证券</y>
<y onclick="changeCode('600918')">600918 中泰证券</y> <y onclick="changeCode('601995')">601995 中金公司</y> <y onclick="changeCode('601236')">601236 红塔证券</y> <y onclick="changeCode('600864')">600864 哈投股份</y> <y onclick="changeCode('600109')">600109 国金证券</y>
<y onclick="changeCode('600906')">600906 财达证券</y> <y onclick="changeCode('601990')">601990 南京证券</y> <y onclick="changeCode('002797')">002797 第一创业</y> <y onclick="changeCode('601099')">601099 太平洋</y> <y onclick="changeCode('600999')">600999 招商证券</y>
<y onclick="changeCode('000686')">000686 东北证券</y> <y onclick="changeCode('600155')">600155 华创云信</y> <y onclick="changeCode('601377')">601377 兴业证券</y> <y onclick="changeCode('000712')">000712 锦龙股份</y> <y onclick="changeCode('601881')">601881 中国银河</y>
<y onclick="changeCode('601878')">601878 浙商证券</y> <y onclick="changeCode('600621')">600621 华鑫股份</y> <y onclick="changeCode('601136')">601136 首创证券</y> <y onclick="changeCode('002926')">002926 华西证券</y> <y onclick="changeCode('601198')">601198 东兴证券</y>
<y onclick="changeCode('601901')">601901 方正证券</y> <y onclick="changeCode('600958')">600958 东方证券</y> <y onclick="changeCode('601555')">601555 东吴证券</y> <y onclick="changeCode('600909')">600909 华安证券</y> <y onclick="changeCode('000166')">000166 申万宏源</y>
<y onclick="changeCode('600390')">600390 五矿资本</y> <y onclick="changeCode('601211')">601211 国泰海通</y> <y onclick="changeCode('002500')">002500 山西证券</y> <y onclick="changeCode('601108')">601108 财通证券</y> <y onclick="changeCode('601788')">601788 光大证券</y>
<y onclick="changeCode('000728')">000728 国元证券</y> <y onclick="changeCode('600446')">600446 金证股份</y> <y onclick="changeCode('600517')">600517 国网英大</y> <y onclick="changeCode('000783')">000783 长江证券</y> <y onclick="changeCode('600061')">600061 国投资本</y>
<y onclick="changeCode('002736')">002736 国信证券</y> <y onclick="changeCode('601688')">601688 华泰证券</y> <y onclick="changeCode('000776')">000776 广发证券</y> <y onclick="changeCode('002670')">002670 国盛金控</y> <y onclick="changeCode('601696')">601696 中银证券</y>

<o>b保险</o>
<y onclick="changeCode('300049')">300049 福瑞股份</y> <y onclick="changeCode('600588')">600588 用友网络</y> <y onclick="changeCode('600400')">600400 红豆股份</y> <y onclick="changeCode('002131')">002131 利欧股份</y> <y onclick="changeCode('600392')">600392 盛和资源</y>
<y onclick="changeCode('600570')">600570 恒生电子</y> <y onclick="changeCode('300399')">300399 天利科技</y> <y onclick="changeCode('600143')">600143 金发科技</y> <y onclick="changeCode('601908')">601908 京运通</y> <y onclick="changeCode('002468')">002468 申通快递</y>
<y onclick="changeCode('300003')">300003 乐普医疗</y> <y onclick="changeCode('002542')">002542 中化岩土</y> <y onclick="changeCode('300242')">300242 佳云科技</y> <y onclick="changeCode('601999')">601999 出版传媒</y> <y onclick="changeCode('603999')">603999 读者传媒</y>
<y onclick="changeCode('600739')">600739 辽宁成大</y> <y onclick="changeCode('600390')">600390 五矿资本</y> <y onclick="changeCode('002416')">002416 爱施德</y> <y onclick="changeCode('000533')">000533 顺钠股份</y> <y onclick="changeCode('000712')">000712 锦龙股份</y>
<y onclick="changeCode('600718')">600718 东软集团</y> <y onclick="changeCode('601766')">601766 中国中车</y> <y onclick="changeCode('000850')">000850 华茂股份</y> <y onclick="changeCode('600816')">600816 建元信托</y> <y onclick="changeCode('603858')">603858 步长制药</y>
<y onclick="changeCode('300024')">300024 机器人</y> <y onclick="changeCode('601555')">601555 东吴证券</y> <y onclick="changeCode('600157')">600157 永泰能源</y> <y onclick="changeCode('600135')">600135 乐凯胶片</y> <y onclick="changeCode('300773')">300773 拉卡拉</y>
<y onclick="changeCode('300096')">300096 ST易联众</y> <y onclick="changeCode('600195')">600195 中牧股份</y> <y onclick="changeCode('002403')">002403 爱仕达</y> <y onclick="changeCode('600801')">600801 华新水泥</y> <y onclick="changeCode('002423')">002423 中粮资本</y>
<y onclick="changeCode('000581')">000581 威孚高科</y> <y onclick="changeCode('002275')">002275 桂林三金</y> <y onclick="changeCode('600120')">600120 浙江东方</y> <y onclick="changeCode('605266')">605266 健之佳</y> <y onclick="changeCode('002608')">002608 江苏国信</y>
<y onclick="changeCode('000617')">000617 中油资本</y> <y onclick="changeCode('000428')">000428 华天酒店</y> <y onclick="changeCode('600287')">600287 江苏舜天</y> <y onclick="changeCode('000415')">000415 渤海租赁</y> <y onclick="changeCode('000563')">000563 陕国投Ａ</y>
<y onclick="changeCode('002091')">002091 江苏国泰</y> <y onclick="changeCode('601007')">601007 金陵饭店</y> <y onclick="changeCode('600704')">600704 物产中大</y> <y onclick="changeCode('000890')">000890 法尔胜</y> <y onclick="changeCode('600742')">600742 富维股份</y>
<y onclick="changeCode('002558')">002558 巨人网络</y> <y onclick="changeCode('002271')">002271 东方雨虹</y> <y onclick="changeCode('601169')">601169 北京银行</y> <y onclick="changeCode('000798')">000798 中水渔业</y> <y onclick="changeCode('002304')">002304 洋河股份</y>
<y onclick="changeCode('600177')">600177 雅戈尔</y> <y onclick="changeCode('002029')">002029 七 匹 狼</y> <y onclick="changeCode('600248')">600248 陕建股份</y> <y onclick="changeCode('601678')">601678 滨化股份</y> <y onclick="changeCode('002162')">002162 悦心健康</y>
<y onclick="changeCode('000539')">000539 粤电力Ａ</y> <y onclick="changeCode('600269')">600269 赣粤高速</y> <y onclick="changeCode('000030')">000030 富奥股份</y> <y onclick="changeCode('600663')">600663 陆家嘴</y> <y onclick="changeCode('600033')">600033 福建高速</y>
<y onclick="changeCode('600020')">600020 中原高速</y> <y onclick="changeCode('000883')">000883 湖北能源</y> <y onclick="changeCode('000627')">000627 *ST天茂</y> <y onclick="changeCode('002700')">002700 万憬能源</y> <y onclick="changeCode('002492')">002492 恒基达鑫</y>
<y onclick="changeCode('601398')">601398 工商银行</y> <y onclick="changeCode('600167')">600167 联美控股</y> <y onclick="changeCode('601857')">601857 中国石油</y> <y onclick="changeCode('002717')">002717 ST岭南</y> <y onclick="changeCode('002294')">002294 信立泰</y> <y onclick="changeCode('000056')">000056 皇庭国际</y> <y onclick="changeCode('600219')">600219 南山铝业</y> <y onclick="changeCode('300300')">300300 海峡创新</y> <y onclick="changeCode('002653')">002653 海思科</y>

<o>高端医疗器械：</o>
<y onclick="changeCode('02252')">02252 微创机器人</y>
<y onclick="changeCode('02522')">02522 一脉阳光</y>
<y onclick="changeCode('01612')">01612 永胜医疗</y>
<y onclick="changeCode('09997')">09997 康基医疗</y>

<r>03188 唯一可在港買賣的滬深300ETF
<a href="https://www.youtube.com/watch?v=JnRZzIieHHI" class="whitebut ">雷鼎鳴：棄中國大水喉是搵自己笨</a>


512100 中證1000ETF
00857 中國石油股份 00386 中國石化 00902 華能國際 00316 東方海外
002583 海能达</r>

301234 五洲医疗 000623 600535 600887 伊利股份

<o>稀土</o>
金力永磁(06680)
中国稀土(00769)
中国稀土(000831.SZ)
中国铝业(02600)

<o>电力</o>
华润电力(00836)
华电国际电力股份(01071)
大唐新能源(01798)

<r>AI</r>
百度集团-SW(09888)
阿里巴巴-SW(09988)
商汤-W(00020)
优必选(09880)
地平线机器人-W(09660)
<a href="https://cn.
investing.com/indices/nq-golden-dragon-china" class="whitebut"  target="_blank">纳斯达克中国金龙指数 HXC</a>
Fri, 11 October, 2024:
002066 瑞泰科技 600106 重庆路桥 600272 开开实业 600280 中央商场 600439 瑞贝卡 600938 中国海油 601069 西部黄金 601600 中国铝业
002583 600415 000908 000158 603016 300468 600225 300583 002987 000595 
股票有拆細的，基本上是好公司，股價要合併的，就要小心了
乜叫貪婪 看裂口 若然有連續數個上升裂口，幾可判斷是市場貪婪了 要謹慎，要出貨。
反之，若然有連續數個下跌裂口，則市場是恐慌了，要定，可伺機入貨。
<o>恒生指數調整</o>
恒生指數調整 成分股仍然維持83隻成分股
恒生國企指數納入了中通快遞-W(02057)（權重0.72%）和百濟神州(06160)(1.3%)，同時剔除了中國生物製藥(01177)（原權重0.35%）和李寧(02331)(0.39%)。
成分股數量維持50隻不變。
恒生科技指數納入了騰訊音樂-SW(01698)(0.07%)和地平線機器人-W(09660)(0.34%)，剔除了東方甄選(01797)(0.23%)和眾安在綫(06060)(0.46%)。
成分股數量同樣維持30隻不變。
港股通標亦有調整
納入標的方面，共有27隻新股被納入，包括英諾賽科(02577)、華潤飲料(02460)、中信金融資產(02799)、地平線機器人-W（待上市滿6個月後）等。
剔除標的方面，共有25隻股票被剔除，包括周大福創建(00659)、科濟藥業-B(02171)、知乎-W(02390)、奈雪的茶(02150)等。
貝殼-W(02423)亦滿足了同股不同權公司納入港股通的條件。

<o>滬深300指數十大權重股</o>
600519 貴州茅台 300750 寧德時代 601318 中國平安 600036 招商銀行
000333 美的集團 600900 長江電力 300059 東方財富 000858 五糧液
601899 紫金礦業 600030 中信証券
<img src="https://img.etnet.com.hk/column/images/stories/335/2024/10/24102024sheksira02.jpg" loading="lazy">

<o>滬股通 20大成交額</o>
688981 中芯國際 588000 科創50ETF 588200 科創芯片ETF 600418 江淮汽車
601162 天風證券 600460 士蘭微 600519 貴州茅台 601127 賽力斯 688256
寒武紀-U 601318 中國平安 600030 中信證券 603019 中科曙光 510300

688041 海光信息 600171 上海貝嶺 688008 瀾起科技 600837 海通證券
601138 工業富聯 600895 張江高科
<o>风电</o>:
金风科技 02208 大唐新能源 01798 新天绿色能源 00956 
稀土永磁: 00769 06680 000612 000663 000758 000795 000831 000969 000970 000993 002056 002057 002167 002202 002334 002340 002378 002497 002645 002738 002902 002943 159713 159715 300066 300127 300224 300328 300340 300428 300631 300706 300748 300779 300797 300835 301141 301323 516150 516780 600010 600103 600111 600173 600193 600206 600259 600330 600366 600390 600392 600416 600549 600872 600980 600988 601600 601609 601908 603650 603701 688020 688077 688456 688571 836807 836961 873305
自动驾驶概念: 09888 百度集团 01274 知行汽车科技 01316 耐世特 09680 如祺出行 
<o>公募基金</o>:
貴州茅台 600519 寧德時代 300750 五糧液 000858 長江電力 600900 立訊精密 002475
陽光電源 300274 中際旭創 300308 恒瑞醫藥 600276 邁瑞醫療 300760 東方財富 300059
海光信息 688041 新易盛 300502 山西汾酒 600809 瀘州老窖 000568 中微公司 688015
北方華創 002371 瀾起科技 688088 滬電股份 002463 億緯鋰能 300014 萬華化學 600309
匯川技術 300124 古井貢酒 000596 金山辦公 688111 傳音控股 688036 愛爾眼科 300015
中國船舶 600150 工商銀行 01398 中國平安 02318 美的集團 00300 紫金礦業 02899 招商銀行 03968 比亞迪 01211 中芯國際 00981 中信証券 06030 藥明康德 02359 海爾智家 06690
基金重仓：00300 00981 01211 01398 02318 02359 02899 03968 06030 06690
基金重仓A：000568 000596 000858 002371 002463 002475 300014 300015 300059 300124 300274 300308 300502 300750 300760 600150 600276 600309 600519 600809 600900 688015 688036 688041 688088 688111

<o>北交所股票</o>
430017 星昊医药 430047 诺思兰德 430090 同辉信息 430139 华岭股份 430198 微创光电 
430300 辰光医疗 430418 苏轴股份 430425 乐创技术 430476 海能技术 430478 峆一药业 
430489 佳先股份 430510 丰光精密 430556 雅达股份 430564 天润科技 430685 新芝生物 
430718 合肥高科 830779 武汉蓝电 830799 艾融软件 830809 安达科技 830832 齐鲁华信 
830839 万通液压 830879 基康仪器 830896 旺成科技 830946 森萱医药 830964 润农节水 
830974 凯大催化 831010 凯添燃气 831039 国义招标 831087 秋乐种业 831152 昆工科技 
831167 鑫汇科 831175 派诺科技 831195 三祥科技 831278 泰德股份 831304 迪尔化工 
831305 海希通讯 831370 新安洁 831396 许昌智能 831445 龙竹科技 831526 凯华材料 
831627 力王股份 831641 格利尔 831689 克莱特 831726 朱老六 831768 拾比佰 
831832 科达自控 831834 三维股份 831855 浙江大农 831856 浩淼科技 831906 舜宇精工 
831961 创远信科 832000 安徽凤凰 832023 田野股份 832089 禾昌聚合 832110 雷特科技 
832145 恒合股份 832149 利尔达 832171 志晟信息 832175 东方碳素 832225 利通科技 
832278 鹿得医疗 832317 观典防务 832419 路斯股份 832469 富恒新材 832471 美邦科技 
832491 奥迪威 832522 纳科诺尔 832566 梓橦宫 832651 天罡股份 832662 方盛股份 
832735 德源药业 832786 骑士乳业 832802 保丽洁 832876 慧为智能 832885 星辰科技 
832978 开特股份 832982 锦波生物 833030 立方控股 833075 柏星龙 833171 国航远洋 
833230 欧康医药 833284 灵鸽科技 833346 威贸电子 833394 民士达 833427 华维设计 
833429 康比特 833454 同心传动 833455 汇隆活塞 833509 同惠电子 833523 德瑞锂电 
833533 骏创科技 833575 康乐卫士 833580 科创新材 833751 惠同新材 833781 瑞奇智造 
833819 颖泰生物 833873 中设咨询 833874 泰祥股份 833914 远航精密 833943 优机股份 
833994 翰博高新 834014 特瑞斯 834021 流金科技 834033 康普化学 834058 华洋赛车 
834062 科润智控 834261 一诺威 834407 驰诚股份 834415 恒拓开源 834475 三友科技 
834599 同力股份 834639 晨光电缆 834682 球冠电缆 834765 美之高 834770 艾能聚 
834950 迅安科技 835174 五新隧装 835179 凯德石英 835184 国源科技 835184 国源科技 
835185 贝特瑞 835207 众诚科技 835237 力佳科技 835305 云创数据 835368 连城数控 
835438 戈碧迦 835508 殷图网联 835579 机科股份 835640 富士达 835670 数字人 
835857 百甲科技 835892 中科美菱 835985 海泰新能 836077 吉林碳谷 836149 旭杰科技 
836208 青矩技术 836221 易实精密 836239 长虹能源 836247 华密新材 836260 中寰股份 
836263 中航泰达 836270 天铭科技 836395 朗鸿科技 836414 欧普泰 836419 万德股份 
836422 润普食品 836433 大唐药业 836504 博迅生物 836547 无锡晶海 836675 秉扬科技 
836699 海达尔 836717 瑞星股份 836720 吉冈精密 836807 奔朗新材 836826 盖世食品 
836871 派特尔 836892 广咨国际 836942 恒立钻具 836957 汉维科技 836961 西磁科技 
837006 晟楠科技 837023 芭薇股份 837046 亿能电力 837092 汉鑫科技 837174 宏裕包材 
837212 智新电子 837242 建邦科技 837344 三元基因 837403 康农种业 837592 华信永道 
837663 明阳科技 837748 路桥信息 837821 则成电子 838030 德众汽车 838163 方大新材 
838171 邦德股份 838227 美登科技 838262 太湖雪 838275 驱动力 838402 硅烷科技 
838670 恒进感应 838701 豪声电子 838810 春光药装 838837 华原股份 838924 广脉科技 
838971 天马新材 839167 同享科技 839273 一致魔芋 839371 欧福蛋业 839493 并行科技 
839680 广道数字 839719 宁新新材 839725 惠丰钻石 839729 永顺生物 839790 联迪信息 
839792 东和新材 839946 华阳变速 870199 倍益康 870204 沪江材料 870299 灿能电力 
870357 雅葆轩 870436 大地电气 870508 丰安股份 870656 海昇药业 870726 鸿智科技 
870866 绿亨科技 870976 视声智能 871245 威博液压 871263 莱赛激光 871396 常辅股份 
871478 巨能股份 871553 凯腾精工 871634 新威凌 871642 通易航天 871694 中裕科技 
871753 天纺标 871857 泓禧科技 871970 大禹生物 871981 晶赛科技 872190 雷神科技 
872351 华光源海 872374 云里物里 872392 佳合科技 872541 铁大科技 872808 曙光数创 
872895 花溪科技 872925 锦好医疗 872931 无锡鼎邦 872953 国子软件 873001 纬达光电 
873122 中纺标 873132 泰鹏智能 873152 天宏锂电 873167 新赣江 873169 七丰精工 
873223 荣亿精密 873305 九菱科技 873339 恒太照明 873527 夜光明 873570 坤博精工 
873576 天力复合 873593 鼎智科技 873665 科强股份 873679 前进科技 873690 捷众科技 
873693 阿为特 873703 广厦环能 873706 铁拓机械 873726 卓兆点胶 873806 云星宇 
873833 美心翼申 920002 万达轴承 920008 成电光信 920016 中草香料 920019 铜冠矿建 
920060 万源通 920066 科拜尔 920088 科力股份 920099 瑞华技术 920111 聚星科技 
920118 太湖远大

<o>300ETF成分股</o>：
600000 浦發銀行 600009 上海機場 600010 包鋼股份 600011 華能國際 
600015 華夏銀行 600016 民生銀行 600018 上港集團 600019 寶鋼股份 600023 浙能電力 
600025 華能水電 600026 中遠海能 600027 華電國際 600028 中國石化 600029 南方航空 
600030 中信証券 600031 三一重工 600036 招商銀行 600039 四川路橋 600048 保利發展 
600050 中國聯通 600061 國投資本 600085 同仁堂 600089 特變電工 600104 上汽集團 
600111 北方稀土 600115 中國東航 600132 重慶啤酒 600150 中國船舶 600161 天壇生物 
600176 中國巨石 600183 生益科技 600188 兗礦能源 600196 復星醫藥 600219 南山鋁業 
600233 圓通速遞 600276 恒瑞醫藥 600309 萬華化學 600332 白雲山 600346 恒力石化 
600362 江西銅業 600372 中航機載 600406 國電南瑞 600415 小商品城 600426 華魯恒升 
600436 片仔癀 600438 通威股份 600460 士蘭微 600489 中金黃金 600515 海南機場 
600519 貴州茅台 600547 山東黃金 600570 恒生電子 600584 長電科技 600585 海螺水泥 
600588 用友網絡 600600 青島啤酒 600660 福耀玻璃 600674 川投能源 600690 海爾智家 
600732 愛旭股份 600741 華域汽車 600745 聞泰科技 600760 中航沈飛 600795 國電電力 
600803 新奧股份 600809 山西汾酒 600837 海通證券 600845 寶信軟件 600875 東方電氣 
600886 國投電力 600887 伊利股份 600893 航發動力 600900 長江電力 600905 三峽能源 
600918 中泰證券 600919 江蘇銀行 600926 杭州銀行 600938 中國海油 600941 中國移動 
600958 東方證券 600989 寶豐能源 600999 招商證券 601006 大秦鐵路 601009 南京銀行 
601012 隆基綠能 601021 春秋航空 601059 信達證券 601066 中信建投 601088 中國神華 
601100 恒立液壓 601111 中國國航 601117 中國化學 601138 工業富聯 601166 興業銀行 
601169 北京銀行 601186 中國鐵建 601211 國泰君安 601225 陝西煤業 601229 上海銀行 
601236 紅塔證券 601238 廣汽集團 601288 農業銀行 601318 中國平安 601319 中國人保 
601328 交通銀行 601336 新華保險 601360 三六零 601377 興業證券 601390 中國中鐵 
601398 工商銀行 601600 中國鋁業 601601 中國太保 601607 上海醫藥 601618 中國中冶 
601628 中國人壽 601633 長城汽車 601658 郵儲銀行 601668 中國建築 601669 中國電建 
601688 華泰證券 601689 拓普集團 601698 中國衞通 601699 潞安環能 601728 中國電信 
601766 中國中車 601788 光大證券 601799 星宇股份 601800 中國交建 601808 中海油服 
601816 京滬高鐵 601818 光大銀行 601838 成都銀行 601857 中國石油 601865 福萊特 
601868 中國能建 601872 招商輪船 601877 正泰電器 601878 浙商證券 601881 中國銀河 
601888 中國中免 601898 中煤能源 601899 紫金礦業 601901 方正證券 601916 浙商銀行 
601919 中遠海控 601939 建設銀行 601985 中國核電 601988 中國銀行 601989 中國重工 
601995 中金公司 601998 中信銀行 603019 中科曙光 603195 公牛集團 603259 藥明康得 
603260 合盛矽業 603288 海天味業 603296 華勤技術 603369 今世緣 603392 萬泰生物 
603501 韋爾股份 603659 璞泰來 603799 華友鈷業 603806 福斯特 603833 歐派家居 
603899 晨光股份 603986 兆易創新 603993 洛陽鉬業 605117 德業股份 605499 東鵬飲料 
688008 瀾起科技 688009 中國通號 688012 中微公司 688036 傳音控股 688041 海光信息 
688082 盛美上海 688111 金山辦公 688126 滬矽產業 688187 時代電氣 688223 晶科能源 
688256 寒武紀 688271 聯影醫療 688303 大全能源 688363 華熙生物 688396 華潤微 
688599 天合光能 688981 中芯國際 000001 平安銀行 000002 萬科A 000063 中興通訊 
000100 TCL科技 000157 中聯重科 000166 申萬宏源 000301 東方盛虹 000333 美的集團 
000338 濰柴動力 000408 藏格礦業 000425 徐工機械 000538 雲南白藥 000568 瀘州老窖 
000596 古井貢酒 000617 中油資本 000625 長安汽車 000651 格力電器 000661 長春高新 
000708 中信特鋼 000725 京東方A 000733 振華科技 000768 中航西飛 000776 廣發證券 
000786 北新建材 000792 鹽湖股份 000800 一汽解放 000807 雲鋁股份 000858 五糧液 
000876 新希望 000895 雙匯發展 000938 紫光股份 000963 華東醫藥 000977 浪潮信息 
000983 山西焦煤 000999 華潤三九 001289 龍源電力 001965 招商公路 001979 招商蛇口 
002001 新和成 002007 華蘭生物 002027 分眾傳媒 002049 紫光國微 002050 三花智控 
002074 國軒高科 002129 TCL中環 002142 寧波銀行 002179 中航光電 002180 納思達 
002230 科大訊飛 002236 大華股份 002241 歌爾股份 002252 上海萊士 002271 東方雨虹 
002304 洋河股份 002311 海大集團 002352 順豐控股 002371 北方華創 002410 廣聯達 
002415 海康威視 002459 晶澳科技 002460 贛鋒鋰業 002466 天齊鋰業 002475 立訊精密 
002493 榮盛石化 002555 三七互娛 002594 比亞迪 002601 龍佰集團 002603 以嶺藥業 
002648 衞星化學 002709 天賜材料 002714 牧原股份 002736 國信證券 002812 恩捷股份 
002821 凱萊英 002841 視源股份 002916 深南電路 002920 德賽西威 002938 鵬鼎控股 
003816 中國廣核 300014 億緯鋰能 300015 愛爾眼科 300033 同花順 300059 東方財富 
300122 智飛生物 300124 匯川技術 300142 沃森生物 300223 北京君正 300274 陽光電源 
300308 中際旭創 300316 晶盛機電 300347 泰格醫藥 300408 三環集團 300413 芒果超媒 
300418 崑崙萬維 300433 藍思科技 300442 潤澤科技 300450 先導智能 300454 深信服 
300496 中科創達 300498 温氏股份 300628 億聯網絡 300661 聖邦股份 300750 寧德時代 
300751 邁為股份 300759 康龍化成 300760 邁瑞醫療 300782 卓勝微 300832 新產業 
300896 愛美客 300919 中偉股份 300957 貝泰妮 300979 華利集團 300999 金龍魚 
301269 華大九天

<o>淨利潤排名</o>
工商銀行 601398 建設銀行 601939 農業銀行 601288 中國銀行 601988
四大行淨利潤均超1700億元，工行甚至高達2690億元

淨利潤超1000億的公司，還有這六大巨頭 中國石油 601857 中國平安 601318 中國海油 600938 招商銀行 600036 中國移動 600941 中國人壽 601628

能與銀行股業績規模媲美的公司，也僅有貴州茅台 600519 中國神華 601088 中國建築 601668 寧德時代 300750 美的集團 000333 等少數公司

淨利潤超100億的上市公司還有37家，包括 長江電力 600900 比亞迪 002594 五糧液 000858 紫金礦業 601899 格力電器 000651 寧波銀行 002142 新華保險 601336 北京銀行 601169 中國中鐵 601390 華夏銀行 600015 上海銀行 601229 中信証券 600030 等

哪些公司淨利潤增速較快
淨利潤增速超百倍的公司共計6家，分別是 長盈精密 300115 晉億實業 601002 長川科技 300604 志特新材 300986 明志科技 688355 寶莫股份 002476

淨利潤增速超20倍的公司還有20家，包括 元琛科技 688659 豐華股份 600615 隆利科技 300752 振東製藥 300158 金利華電 300069 萬林物流 603117 華圖山鼎 300492 匯頂科技 603160 七彩化學 300758 金安國紀 002636 安迪蘇 600299 等
<img src="https://img.etnet.com.hk/column/images/stories/335/2024/11/07112024sheksira01.jpg" loading="lazy">

<o>新能源車</o>
新能源車銷量大增，會帶動新能源車整個生產鏈。
零部件：如浙江世寶(深:002703)(01057)
自動駕駛技術：百度(09888)
新能源技術：電池、電機、電控系統
汽車貿易：買賣應多
汽車金融：銀行保險會多些生意
受惠的公司包括：
上汽集團(滬:600104)：中國最大汽車集團之一
比亞迪(01211)：新能源汽車龍頭，在電池技術和整車製造有顯著優勢
寧德時代(深:300750)：全球領先電池製造商
廣汽集團(02238)：大型綜合汽車製造商
長安汽車(深:000625)：國內知名汽車製造商
吉利汽車(00175)：新能源與傳統汽車均有
車企的一些出路在拍上低空經濟及機械人製造。
<o>買美股</o>
港投資者如想簡單買美股，可留意南方美股七巨頭(03454)和華夏納指(03086)
</pre>
<div id="bollcharts"></div>
<div id="shortcutKeys" class="red"></div>

<div id="linecharts"></div>

<y onclick=changeCode("01876")>01876</y>
<y onclick=changeCode("00291")>00291</y>
<y onclick=changeCode("02338")>02338</y>
<y onclick=changeCode("00586")>00586</y>
<y onclick=changeCode("01157")>01157</y>
<y onclick=changeCode("01888")>01888</y>
<y onclick=changeCode("00148")>00148</y>...<br>
250606<br>
<lg onclick="('02057')">02057 中通快递-W</lg>
<lg onclick="('00300')">00300 美的集团</lg>
<lg onclick="('00303')">00303 伟易达集团</lg>
<lg onclick="('00522')">00522 ASMPT</lg>
<lg onclick="('00014')">00014 希慎兴业</lg>
<lg onclick="('00772')">00772 阅文集团</lg>
<lg onclick="('01908')">01908 建发国际集团</lg>
<lg onclick="('06690')">06690 海尔智家</lg>
<lg onclick="('06618')">06618 京东健康</lg>
<lg onclick="('09626')">09626 哔哩哔哩-W</lg>
<lg onclick="('02015')">02015 理想汽车-W</lg>
<lg onclick="('00780')">00780 同程旅行</lg>
<lg onclick="('09868')">09868 小鹏汽车-W</lg>
<lg onclick="('02382')">02382 舜宇光学科技</lg>
<lg onclick="('00285')">00285 比亚迪电子</lg>
<lg onclick="('01698')">01698 腾讯音乐-SW</lg>
<lg onclick="('01024')">01024 快手-W</lg>
<lg onclick="('00700')">00700 腾讯控股</lg>
<lg onclick="('00291')">00291 华润啤酒</lg>
<lg onclick="('09995')">09995 荣昌生物</lg>
<lg onclick="('09992')">09992 泡泡玛特</lg>
<lg onclick="('01787')">01787 山东黄金</lg>
<br>
<o>上证系列指数列表</o>
<span onclick="$('#hiden').toggle();"> 🎌 </span>
<br>
<br>
<pre id="hiden">

指数代码	指数名称	成份股数量
000001	上证指数	2236
000002	Ａ股指数	2194
000003	Ｂ股指数	41
000009	上证380	380
000010	上证180	180
000016	上证50	50
000017	新综指	2194
000020	中型综指	862
000043	超大盘	20
000044	上证中盘	130
000045	上证小盘	320
000046	上证中小	450
000047	上证全指	500
000090	上证流通	2194
000132	上证100	100
000133	上证150	150
000155	市值百强	99
000680	科创综指	571
000681	科创价格	571
000688	科创50	50
000698	科创100	100
000699	科创200	200
950580	上证580	580

</pre>

<script>
// show shortcut
document.getElementById("shortcutKeys").innerHTML = 'shortcutKeys:<br><lg>a</lg> #imgp0 <lg>s</lg> #imgp2 <lg>d</lg> #imgp4 <lg>f</lg> #imgb1 <lg>v</lg> #imgp6 <br><lg>g</lg> #imgb3 <lg>h</lg> #imgb5 <lg>j</lg> #imgb7 <br><lg>B</lg> #boll <lg>E</lg> #filterMarkers <lg>t</lg> #jumpButton <lg>z</lg> #bollcharts <lg>w</lg> window.scrollTo(0,0) <lg>e</lg> show #memo <lg>x</lg><br> goto EOP<br><lg>0</lg> 000001.sh <lg>1</lg> 110000 <lg>2</lg> 00388 <lg>3</lg> 399001.sz <lg>4</lg> 01766 <lg>5</lg> 02009<br><lg>6</lg> 01186 <lg>7</lg> 28647 <lg>8</lg> 00308 <lg>9</lg> 00390 <lg>y</lg> 221002 <br><br><lg>[</lg> jpback() <lg>]</lg> jpButClick() <lg>A</lg> cmtNote.toggle() <lg>c</lg> askforCode()<br><lg>l</lg> askaList() input <lg>a</lg> list of codes and store it <lg>M</lg> shortSCt()<br><lg>q</lg> myfavor() <lg>Q</lg> usequickCodeList() <lg>r</lg> randomFlip() <lg>S</lg> setupAll()<br><lg>T</lg> showActivity() <lg>x</lg> largeWkCht() <lg>Y</lg> largeCht()} <lg>+</lg> addToquickCodeList() <br><br><lg>D</lg> bigVolAdr <lg>J</lg> period=5000 <lg>k</lg> shortsellurl <lg>L</lg> bigVolurl <lg>n</lg> sSCt(thecode) <lg>o</lg> period <br><br><lg>:</lg> minuteLayers.html <lg>;</lg> modminuteLayersAcc.html <lg>b</lg> HourBor.html<br><lg>C</lg> allChartsBor.html <lg>H</lg> Hour STK Charts.html <lg>i</lg> InspectChart.html<br><lg>N</lg> mlinechart.html <lg>X</lg> 追風4.html <lg>Z</lg> minBor.html <lg>"</lg> dayLayers.html<br><lg>\'</lg> swipeChart.html <lg>,</lg> mlinechart.html <lg>.</lg> mlineMinutechart.html<br><lg>p</lg> otherCode.htm<br><br>';


var showTopicNumber = false; var topicEnd = "&emsp;"; var bookid = "pppp"; var markerName = "o" 
var toc = $('#toc');
var markerList = []
  $(markerName).each(function(i) {
      // prepare for the toc
      var topic = $(this), topicNumber = i; topicLength = topicNumber +1;

      // make a content list
      var markerContent = $(this).text();
      markerList.push(markerContent);
  
      if (typeof(showTopicNumber) !== 'undefined'){
        if (showTopicNumber == true){
          toc.append(topicNumber +' <a href="#topic-'+topicNumber+'" target="_self" onclick="jumpto(' + topicNumber + ')">'+topic.html()+'</a>'+topicEnd);
        }else{
          toc.append('<a href="#topic-'+topicNumber+'" target="_self" onclick="jumpto(' + topicNumber + ')">'+topic.html()+'</a>'+topicEnd);
        }
      }else{ toc.append('<a href="#topic-'+topicNumber+'" target="_self" onclick="jumpto(' + topicNumber + ')">'+topic.html()+'</a><br>'); }
      topic.attr('id', 'topic-' + topicNumber);
      topic.after('&emsp;<a href=#top target="_self"><b>&#8679;</b></a><br>')
  });



</script>

</body>
</html>
