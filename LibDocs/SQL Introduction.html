<base target="_blank"><html><head><title>SQL Introduction</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://williamkpchan.github.io/maincss.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script src="https://williamkpchan.github.io/lazyload.min.js"></script>
<script src='https://williamkpchan.github.io/mainscript.js'></script>
<script src="https://williamkpchan.github.io/commonfunctions.js"></script>
<script>
  var showTopicNumber = false;
  var topicEnd = "<br>";
  var bookid = "SQL Introduction"
  var markerName = "h2"
</script>
<style>
body{width:80%;margin-left: 10%; font-size:24px;}
h1, h2 {color: gold;}
strong {color: orange;}
img {max-width:90%; display: inline-block; margin-top: 2%;margin-bottom: 1%; border-radius:3px;}
.note{color:orange;}
.sqltoc {
	display: inline-block;color: GoldenRod;font-size: 100%;text-align: left;
	padding: 2%;
	line-height: 160%;
	box-shadow: 5px 5px 15px silver;border-radius: 10px;border: 1px solid DarkSlateGray;}
</style></head><body onkeypress="chkKey()"><center>

<h1>SQL Introduction</h1>
<a href="#mustWatch" class="red goldbs" target="_self">Must Watch!</a><br><br>
<div id="toc" class="toc"></div></center><br><br>
<div id="mustWatch"><center><span class="red">MustWatch</span></center><br></div>
<pre><br><br>
<a href="#mustWatch" class="red goldbs" target="_self">Must Watch!</a><br><br>
<a href="https://www.youtube.com/watch?v=lhRJFgDG-5o" class="whitebut ">Introduction to Databases: LibreOffice Base</a>

<a href="MySQL stored procedures.html" class="bluebut orange redbs">MySQL stored procedures Tutorial</a>

<a href="https://www.youtube.com/watch?v=p3qvj9hO_Bo" class="whitebut ">Learn SQL In 60 Minutes</a>

<a href="MySQL stored procedures.html" class="bluebut orange redbs">MySQL stored procedures Tutorial</a>
<a href="SQL Database.html" class="whitebut red limebs">SQL Database</a>


<a href="https://dev.mysql.com/doc/refman/8.0/en/tutorial.html" class="whitebut ">MySQL 8.0 Tutorial</a>
<b>Select first row in MySQL</b>
SELECT * FROM englishwords ORDER BY id ASC LIMIT ;

<b>Select last row in MySQL</b>
SELECT * FROM englishwords ORDER BY id DESC LIMIT 1;

You can use an OFFSET in a LIMIT command:

SELECT * FROM englishwords LIMIT 1 OFFSET 99
in case your table has 100 rows this return the last row without relying on a primary_key

<b>Count table rows</b>
SELECT COUNT(*) FROM englishwords;

<b>mysql #1054 - Unknown column error</b>
While inserting a varchar value, if you will forget to add single quotes, then this error will arise.


</pre>
</div>
<pre>
<br>
<br>
<h2>run mysql in command mode</span></h2>
<a href="https://www.youtube.com/watch?v=RQuTiZnDLcM">SQLTools and Sublime Text - Executing SQL, directly in your editor</a>
<a href="https://sqlzoo.net/">SQLZoo practise SQL</a>
<a href="MySQL by Examples1.html" class="pink">MySQL by Examples1</a>
To log in mysql:
shell> mysql --user=root --password=asdf1234  db_name

<i>mysql -u user_name -p  then press_enter_key
then type password
i.e.
line-1 : mysql -u root -p
line-2 : admin

USE sampleDB;
show tables;</i>

eg. mysql -u root -p

show the structure of the table
<i>desc world;

show keys from world;

SELECT population FROM world WHERE name = "Germany"
</i>

Listing all databases inside mysql
<i>mysql> show databases;</i>

Listing all databases according to a specific name.
<i>mysql> SHOW DATABASES LIKE '%customer%';</i>

Listing tables and their structure with the MySQL Command Line

select a database
list all the tables in the selected database with the following command:
<i>mysql> show tables;</i>

We can show the structure of the table using the "desc" command:
<i>mysql> desc tableName;</i>

show the indexes from a particular table:
<i>mysql> show keys from tableName;</i>

<h2>rename and duplicate table</span></h2>
<i>RENAME TABLE tb1 TO tb2;

CREATE TABLE newtable LIKE oldtable; 
INSERT INTO newtable SELECT * FROM oldtable;
</i>

<h2>import SQL file using the command line</h2>
mysql -u username -p database_name < file.sql

A common use of mysqldump is for making a backup of an entire database:
mysqldump db_name > backup-file.sql

backup of an entire database
mysql -p -u [user] [database] < backup-file.sql

<h3>MySQL command line</h3>
mysql> use db_name;
mysql> source backup-file.sql;

source C:\\Users\\User\\Desktop\\mysqlsampledatabase.sql;

desc example;
desc t_test;

use classicmodels;
desc classicmodels;

http://www.mysqltutorial.org/mysql-sample-database.aspx
http://www.mysqltutorial.org/getting-started-with-mysql/
http://www.mysqltutorial.org/

<br>
<br>
<br>
<a href="https://www.kaggle.com/dansbecker/select-from-where">SQL select from where</a>
<br>
<a href="https://github.com/Chenzilla/SQL_Zoo">SQL_Zoo answers</a>
<br>
<h2>DML (Data Manipulation Language) Commands in MySQL</span></h2>
<strong>Some commands of DML are:</strong>
SELECT: retrieve data from a database
INSERT: insert data into a table
UPDATE: updates existing data within a table
DELETE: deletes all records from a table, the space for the records remain
MERGE: UPSERT operation (insert or update)
CALL: call a PL/SQL or Java subprogram
LOCK TABLE: control concurrency

<h2>&emsp;- Insert :</h2>
The insert statement is used to add new row to a table.

<i>INSERT INTO &lt;table name> VALUES (&lt;value 1>, ... &lt;value n>);</i>
Example:

INSERT INTO STUDENT VALUES (1001,&lsquo;Ram&rsquo;);
The inserted values must match the table structure exactly in the number of attributes and the data type of each attribute. 
Character type values are always enclosed in single quotes; number values are never in quotes; date values are often (but not always) in the format &lsquo;yyyy-mm-dd&rsquo; (for example, &lsquo;2006-11- 30&rsquo;).

<h2>&emsp;- UPDATE :</h2>
The update statement is used to change values that are already in a table.

<i>&nbsp;UPDATE &lt;table name> SET &lt;attribute> = &lt;expression> WHERE &lt;condition>;</i>
Example:

UPDATE STUDENT SET Name = &lsquo;Amar&rsquo; WHERE StudID=1001;
The update expression can be a constant, any computed value, or even the result of a SELECT statement that returns a single row and a single column.

<h2>&emsp;- DELETE :</h2>
The delete statement deletes row(s) from a table.

<i>DELETE FROM &lt;table name> WHERE &lt;condition>;</i>
Example:

DELETE FROM STUDENT WHERE StudID=1001;
If the WHERE clause is omitted, then every row of the table is deleted that matches with the specified condition.

<h2>&emsp;- SELECT :</h2>
The SELECT statement is used to form queries for extracting information out of the database.

<i>SELECT &lt;attribute>, &hellip;.., &lt;attribute n> FROM &lt;table name>;</i>
Example:

SELECT StudID, Name FROM STUDENT;
Apart from these statements, some statements are also used to control the transaction made by DML statements. 
The commands used for this purpose are called Transaction Control (TCL) statements. 
It allows statements to be grouped together into logical transactions. 
Some commands of TCL are:

COMMIT: save work done.
SAVEPOINT: identify a point in a transaction to which you can later roll back.
ROLLBACK: restore database to original since the last COMMIT.


<h2>Query</span></h2>
SQL queries will help you sort through a massive dataset, to retrieve only the information that you need.
We'll begin by using the keywords <strong>SELECT</strong>, <strong>FROM</strong>, and <strong>WHERE</strong> to get data from specific columns based on conditions you specify.
For clarity, we'll work with a small imaginary dataset <code>pet_records</code> which contains just one table, called <code>pets</code>.
<img src="https://i.imgur.com/fI5Pvvp.png" width="800px;">

<h2>&emsp;SELECT ... FROM</h2>
The most basic SQL query selects a single column from a single table.  
To do this,
specify the column you want after the word <strong>SELECT</strong>, and then 
specify the table after the word <strong>FROM</strong>.  
For instance, to select the <code>Name</code> column (from the <code>pets</code> table in the <code>pet_records</code> database in the <code>bigquery-public-data</code> project), our query would appear as follows:
<img src="https://i.imgur.com/c3GxYRt.png" width="800px;">
Note that when writing an SQL query, the argument we pass to <strong>FROM</strong> is <em>not</em> in single or double quotation marks (' or "). It is in backticks (`).
<h2>&emsp;WHERE ...</h2>
BigQuery datasets are large, so you'll usually want to return only the rows meeting specific conditions. You can do this using the <strong>WHERE</strong> clause.
The query below returns the entries from the <code>Name</code> column that are in rows where the <code>Animal</code> column has the text <code>'Cat'</code>.

<img src="https://i.imgur.com/HJOT8Kb.png" width="800px;">
<h2>&emsp;Example: What are all the U.S. cities in the OpenAQ dataset?</h2>

Now that you've got the basics down, let's work through an example with a real dataset. We'll use an 
<a href="https://openaq.org">OpenAQ</a> dataset about air quality.
First, we'll set up everything we need to run queries and take a quick peek at what tables are in our database.  (
<em>Since you learned how to do this in the previous tutorial, we have hidden the code.  
But if you'd like to take a peek, you need only click on the "Code" button below.</em>)

Code
In [1]:

from google.cloud import bigquery

# Create a "Client" object
client = bigquery.Client()

# Construct a reference to the "openaq" dataset

dataset_ref = client.dataset("openaq",project="bigquery-public-data")
# API request - fetch the dataset

dataset=client.get_dataset(dataset_ref)
# List all the tables in the "openaq" dataset

tables = list(client.list_tables(dataset))

# Print names of all tables in the dataset (there's only one!)

for table in tables :
   print(table.table_id)



Using Kaggle's public dataset BigQuery integration.
global_air_quality
 

The dataset contains only one table, called <code>global_air_quality</code>.  
We'll fetch the table and take a peek at the first few rows to see what sort of data it contains.  (Again, we have hidden the code.  
To take a peek, click on the "Code" button below.) 
Code
In [2]:



# Construct a reference to the "global_air_quality" table table_ref=dataset_ref.
table ("global_air_quality")

# API request - fetch the table table=client.
get_table(table_ref)

# Preview the first five lines of the "global_air_quality" table client.
list_rows(table , max_results=5).to_dataframe ()

 
Out[2]:

<table border="1" class="dataframe">
  
<thead>
<tr style="text-align: right;">
  <th></th>
  <th>location</th>
  <th>city</th>
  <th>country</th>
  <th>pollutant</th>
  <th>value</th>
  <th>timestamp</th>
  <th>unit</th>
  <th>source_name</th>
  <th>latitude</th>
  <th>longitude</th>
  <th>averaged_over_in_hours</th>
</tr>
  
</thead>
  
<tbody>
<tr>
  <th>0</th>
  <td>BTM Layout, Bengaluru - KSPCB</td>
  <td>Bengaluru</td>
  <td>IN</td>
  <td>co</td>
  <td>910.00</td>
  <td>2018-02-22 03:00:00+00:00</td>
  <td>µg/m³</td>
  <td>CPCB</td>
  <td>12.912811</td>
  <td>77.60922</td>
  <td>0.25</td>
</tr>
<tr>
  <th>1</th>
  <td>BTM Layout, Bengaluru - KSPCB</td>
  <td>Bengaluru</td>
  <td>IN</td>
  <td>no2</td>
  <td>131.87</td>
  <td>2018-02-22 03:00:00+00:00</td>
  <td>µg/m³</td>
  <td>CPCB</td>
  <td>12.912811</td>
  <td>77.60922</td>
  <td>0.25</td>
</tr>
<tr>
  <th>2</th>
  <td>BTM Layout, Bengaluru - KSPCB</td>
  <td>Bengaluru</td>
  <td>IN</td>
  <td>o3</td>
  <td>15.57</td>
  <td>2018-02-22 03:00:00+00:00</td>
  <td>µg/m³</td>
  <td>CPCB</td>
  <td>12.912811</td>
  <td>77.60922</td>
  <td>0.25</td>
</tr>
<tr>
  <th>3</th>
  <td>BTM Layout, Bengaluru - KSPCB</td>
  <td>Bengaluru</td>
  <td>IN</td>
  <td>pm25</td>
  <td>45.62</td>
  <td>2018-02-22 03:00:00+00:00</td>
  <td>µg/m³</td>
  <td>CPCB</td>
  <td>12.912811</td>
  <td>77.60922</td>
  <td>0.25</td>
</tr>
<tr>
  <th>4</th>
  <td>BTM Layout, Bengaluru - KSPCB</td>
  <td>Bengaluru</td>
  <td>IN</td>
  <td>so2</td>
  <td>4.49</td>
  <td>2018-02-22 03:00:00+00:00</td>
  <td>µg/m³</td>
  <td>CPCB</td>
  <td>12.912811</td>
  <td>77.60922</td>
  <td>0.25</td>
</tr>
  
</tbody>
</table> 

Everything looks good! So, let's put together a query. Say we want to select all the values from the <code>city</code> column that are in rows where the <code>country</code> column is <code>'US'</code> (for "United States"). 

In [3]:



# Query to select all the items from the "city" column where the "country" column is 'US'
query ="""
       SELECT city
       FROM `bigquery-public-data.openaq.global_air_quality`
       WHERE country = 'US'
       """
 

Take the time now to ensure that this query lines up with what you learned above.
<h2>Submitting the query to the dataset</span></h2>

We're ready to use this query to get information from the OpenAQ dataset.  
As in the previous tutorial, the first step is to create a <code>Client</code> object. 
In [4]:


# Create a "Client" object client=bigquery.Client ()
 


Using Kaggle's public dataset BigQuery integration.

 

We begin by setting up the query with the <code>query()</code> method.  
We run the method with the default parameters, but this method also allows us to specify more complicated settings that you can read about in the documentation.  
We'll revisit this later. 
In [5]:


# Set up the query query_job=client.
query(query) 

Next, we run the query and convert the results to a pandas DataFrame. 
In [6]:



# API request - run the query, and return a pandas DataFrame us_cities=query_job.
to_dataframe ()
 

Now we've got a pandas DataFrame called <code>us_cities</code>, which we can use like any other DataFrame. 
In [7]:



# What five cities have the most measurements? us_cities.city.value_counts ().head ()
 

Out[7]: 

Phoenix-Mesa-Scottsdale                     87
Houston                                     80
New York-Northern New Jersey-Long Island    60
Los Angeles-Long Beach-Santa Ana            60
Riverside-San Bernardino-Ontario            59
Name: city, dtype: int64
 
<h2>More queries</span></h2>
If you want multiple columns, you can select them with a comma between the names: 
In [8]:

query ="""
       SELECT city, country
       FROM `bigquery-public-data.openaq.global_air_quality`
       WHERE country = 'US'
       """
 

You can select all columns with a <code>*</code> like this: 
In [9]:


query="""
       SELECT *
       FROM `bigquery-public-data.openaq.global_air_quality`
       WHERE country = 'US'
       """
 
<h2>Q&amp;A: Notes on formatting</span></h2>
The formatting of the SQL query might feel unfamiliar. If you have any questions, you can ask in the comments section at the bottom of this page.  
Here are answers to two common questions:
<h2><strong>Question: What's up with the triple quotation marks (""")?</strong>
</span></h2> <em>Answer</em>: These tell Python that everything inside them is a single string, even though we have line breaks in it. The line breaks aren't necessary, but they make it easier to read your query.
<h2>
<strong>Question: Do you need to capitalize SELECT and FROM?</strong>
</span></h2> <em>Answer</em>: No, SQL doesn't care about capitalization. However, it's customary to capitalize your SQL commands, and it makes your queries a bit easier to read. 

<h2>Working with big datasets</span></h2>

BigQuery datasets can be huge. We allow you to do a lot of computation for free, but everyone has some limit.

<strong>Each Kaggle user can scan 5TB every 30 days for free. Once you hit that limit, you'll have to wait for it to reset.</strong>

The biggest dataset currently on Kaggle is 3TB, so you can go through your 30-day limit in a couple queries if you aren't careful.
Don't worry though: we'll teach you how to avoid scanning too much data at once, so that you don't run over your limit.
To begin,you can estimate the size of any query before running it. Here is an example using the (
<em>very large!</em>) Hacker News dataset. To see how much data a query will scan, we create a <code>QueryJobConfig</code> object and set the <code>dry_run</code> parameter to <code>True</code>. 
In [10]:

# Query to get the score column from every row where the type column has value "job" query
=
"""       SELECT score, title
       FROM `bigquery-public-data.hacker_news.full`
       WHERE type = "job" 
       """

# Create a QueryJobConfig object to estimate size of query without running it dry_run_config=bigquery.

QueryJobConfig ( dry_run= True)
# API request - dry run query to estimate costs dry_run_query_job=client.
query(query ,

job_config= dry_run_config) print (

"This query will process 

{}

bytes.".
format(dry_run_query_job.
total_bytes_processed))
 


This query will process 399514186 bytes.

 
You can also specify a parameter when running the query to limit how much data you are willing to scan. Here's an example with a low limit. 
n [11]:

# Only run the query if it's less than 1 MB ONE_MB
=
1000 *
1000 safe_config=bigquery.
QueryJobConfig ( maximum_bytes_billed= ONE_MB)
# Set up the query (will only run if it's less than 1 MB) safe_query_job=client.
query(query ,

job_config= safe_config)
# API request - try to run the query, and return a pandas DataFrame safe_query_job.
to_dataframe ()
 

Out[11]:

<style scoped="">
    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }
    .dataframe tbody tr th {        vertical-align: top;    }
    .dataframe thead th {        text-align: right;    }

</style>
<table border="1" class="dataframe">
  
<thead>
<tr style="text-align: right;">
  <th></th>
  <th>score</th>
  <th>title</th>
</tr>
  
</thead>
  
<tbody>
<tr>
  <th>0</th>
  <td>51.0</td>
  <td>Justin.tv is looking for a Product Manager</td>
</tr>
<tr>
  <th>1</th>
  <td>5.0</td>
  <td>WePay - Designer</td>
</tr>
<tr>
  <th>2</th>
  <td>14.0</td>
  <td>Greplin is looking for an iPhone developer</td>
</tr>
<tr>
  <th>3</th>
  <td>46.0</td>
  <td>Senior Software Engineer - Comprehend Systems ...</td>
</tr>
<tr>
  <th>4</th>
  <td>15.0</td>
  <td>Justin.tv is still hiring Software Engineering...</td>
</tr>
<tr>
  <th>5</th>
  <td>5.0</td>
  <td>Backend Developer at Listia</td>
</tr>
<tr>
  <th>6</th>
  <td>6.0</td>
  <td>[DISQUS - San Francisco] Hiring: Back-end deve...</td>
</tr>
<tr>
  <th>7</th>
  <td>7.0</td>
  <td>Lead iOS Developer - HighlightCam</td>
</tr>
<tr>
  <th>8</th>
  <td>7.0</td>
  <td>Mixpanel - Designer</td>
</tr>
<tr>
  <th>9</th>
  <td>72.0</td>
  <td>thesixtyone (YC W09) is hiring software engineers</td>
</tr>
<tr>
  <th>10</th>
  <td>70.0</td>
  <td>Weebly is hiring a front-end web developer in ...</td>
</tr>
<tr>
  <th>11</th>
  <td>32.0</td>
  <td>Work at Socialcam and help the world share mob...</td>
</tr>
<tr>
  <th>12</th>
  <td>44.0</td>
  <td>Posterous - Frontend Design Engineer</td>
</tr>
<tr>
  <th>13</th>
  <td>47.0</td>
  <td>drchrono is looking for Healthcare Hackers. Jo...</td>
</tr>
<tr>
  <th>14</th>
  <td>24.0</td>
  <td>Justin.tv looking for a Head of Communications</td>
</tr>
<tr>
  <th>15</th>
  <td>20.0</td>
  <td>Wundrbar seeking iPhone developer</td>
</tr>
<tr>
  <th>16</th>
  <td>4.0</td>
  <td>WePay - Operations Associate</td>
</tr>
<tr>
  <th>17</th>
  <td>11.0</td>
  <td>Scoopler is Hiring: Join the real-time Revolut...</td>
</tr>
<tr>
  <th>18</th>
  <td>5.0</td>
  <td>Listia (YC S09) needs a great Rails Developer/...</td>
</tr>
<tr>
  <th>19</th>
  <td>5.0</td>
  <td>Justin.tv is hiring the smartest hackers from ...</td>
</tr>
<tr>
  <th>20</th>
  <td>44.0</td>
  <td>Graphic Designer needed for stealth/VC funded ...</td>
</tr>
<tr>
  <th>21</th>
  <td>21.0</td>
  <td>Work on something millions use: Intern at Just...</td>
</tr>
<tr>
  <th>22</th>
  <td>39.0</td>
  <td>Posterous is hiring UI Designers and Software ...</td>
</tr>
<tr>
  <th>23</th>
  <td>70.0</td>
  <td>BackType (YC S08) is hiring an Engineer (3rd T...</td>
</tr>
<tr>
  <th>24</th>
  <td>34.0</td>
  <td>Heysan looking for Java-developer   [San Franc...</td>
</tr>
<tr>
  <th>25</th>
  <td>6.0</td>
  <td>Mixpanel - Hardcore Engineer</td>
</tr>
<tr>
  <th>26</th>
  <td>14.0</td>
  <td>[Mountain View/Vancouver] SocialPicks Looking ...</td>
</tr>
<tr>
  <th>27</th>
  <td>7.0</td>
  <td>Airbnb hiring SEM specialist</td>
</tr>
<tr>
  <th>28</th>
  <td>8.0</td>
  <td>Mixpanel (S09) hiring a Software Engineer</td>
</tr>
<tr>
  <th>29</th>
  <td>53.0</td>
  <td>Optimizely is hiring software engineers!</td>
</tr>
<tr>
  <th>...</th>
  <td>...</td>
  <td>...</td>
</tr>
<tr>
  <th>12129</th>
  <td>3.0</td>
  <td>YC startup looking for short-term contract help</td>
</tr>
<tr>
  <th>12130</th>
  <td>3.0</td>
  <td>Frontend Engineer - Mixpanel Analytics [SF]</td>
</tr>
<tr>
  <th>12131</th>
  <td>3.0</td>
  <td>Airbnb hiring analytics specialist</td>
</tr>
<tr>
  <th>12132</th>
  <td>3.0</td>
  <td>Airbnb - Frontend Engineer</td>
</tr>
<tr>
  <th>12133</th>
  <td>3.0</td>
  <td>Airbnb - Fraud Management Engineer</td>
</tr>
<tr>
  <th>12134</th>
  <td>3.0</td>
  <td>Web developer intern - Mertado</td>
</tr>
<tr>
  <th>12135</th>
  <td>3.0</td>
  <td>BackType is hiring front and back-end developers</td>
</tr>
<tr>
  <th>12136</th>
  <td>3.0</td>
  <td>Software Architect at Mertado</td>
</tr>
<tr>
  <th>12137</th>
  <td>3.0</td>
  <td>WePay - Lead Designer</td>
</tr>
<tr>
  <th>12138</th>
  <td>3.0</td>
  <td>Front-end developers: hack your way around the...</td>
</tr>
<tr>
  <th>12139</th>
  <td>3.0</td>
  <td>BackType is hiring a BD engineer</td>
</tr>
<tr>
  <th>12140</th>
  <td>3.0</td>
  <td>BackType Is Hiring Search And Software Engineers</td>
</tr>
<tr>
  <th>12141</th>
  <td>3.0</td>
  <td>Weebly [W07] hiring a System Administrator - T...</td>
</tr>
<tr>
  <th>12142</th>
  <td>3.0</td>
  <td>Mertado (venture funded) is hiring web engineers</td>
</tr>
<tr>
  <th>12143</th>
  <td>3.0</td>
  <td>BackType is hiring designers and product engin...</td>
</tr>
<tr>
  <th>12144</th>
  <td>3.0</td>
  <td>Airbnb - Frontend Engineer</td>
</tr>
<tr>
  <th>12145</th>
  <td>3.0</td>
  <td>Airbnb - SEM Specialist</td>
</tr>
<tr>
  <th>12146</th>
  <td>3.0</td>
  <td>Mixpanel needs a frontend engineer (Python/JS)</td>
</tr>
<tr>
  <th>12147</th>
  <td>3.0</td>
  <td>Airbnb hiring 3 front-end engineers</td>
</tr>
<tr>
  <th>12148</th>
  <td>3.0</td>
  <td>Men wanted for hazardous journey: AdGrok (YC S...</td>
</tr>
<tr>
  <th>12149</th>
  <td>3.0</td>
  <td>Rails Programmer at Inkling</td>
</tr>
<tr>
  <th>12150</th>
  <td>3.0</td>
  <td>Javascript badass - Mixpanel</td>
</tr>
<tr>
  <th>12151</th>
  <td>3.0</td>
  <td>Mixpanel is looking for a great frontend devel...</td>
</tr>
<tr>
  <th>12152</th>
  <td>3.0</td>
  <td>BackType - Interns - SF</td>
</tr>
<tr>
  <th>12153</th>
  <td>3.0</td>
  <td>Tuxebo - Hiring London based hacker</td>
</tr>
<tr>
  <th>12154</th>
  <td>3.0</td>
  <td>Software Engineers Wanted (bounty: iPad for ea...</td>
</tr>
<tr>
  <th>12155</th>
  <td>3.0</td>
  <td>Airbnb - User Acquisition Engineer</td>
</tr>
<tr>
  <th>12156</th>
  <td>3.0</td>
  <td>Mixpanel is looking for a front-end engineer</td>
</tr>
<tr>
  <th>12157</th>
  <td>3.0</td>
  <td>Nowmov (YC 2010W) looking for Rails rockstars</td>
</tr>
<tr>
  <th>12158</th>
  <td>3.0</td>
  <td>WePay - Senior Backend Engineer</td>
</tr>
  
</tbody>
</table>
12159 rows × 2 columns 
In this case, the query was cancelled, because the limit of 1 MB was exceeded.  
However, we can increase the limit to run the query successfully! 
n [12]:

# Only run the query if it's less than 1 GB ONE_GB
=
1000 *
1000 *

1000 safe_config=bigquery.

QueryJobConfig ( maximum_bytes_billed= ONE_GB)
# Set up the query (will only run if it's less than 1 GB) safe_query_job=client.
query(query ,

job_config= safe_config)
# API request - try to run the query, and return a pandas DataFrame job_post_scores=safe_query_job.
to_dataframe ()

# Print average score for job posts job_post_scores.
score.
mean ()
 

Out[12]: 

1.95482369169756
 
<h2>A procedure</span></h2>
A procedure (often called a stored procedure) is a subroutine stored in database. 

<h2>A trigger</span></h2>
<strong>Trigger:</strong> A trigger is a stored procedure in database which automatically invokes whenever a special event in the database occurs. For example, a trigger can be invoked when a row is inserted into a specified table or when certain table columns are being updated. 


The CREATE TRIGGER statement allows you to create a new trigger that is fired automatically whenever an event such as INSERT, DELETE, or UPDATE occurs against a table.

The following illustrates the syntax of the CREATE TRIGGER statement:

CREATE TRIGGER [schema_name.]trigger_name
ON table_name
AFTER  {[INSERT],[UPDATE],[DELETE]}
[NOT FOR REPLICATION]
AS
{sql_statements}

In this syntax:
<li>The <code>schema_name</code> is the name of the schema to which the new trigger belongs. The schema name is optional.</li><li>The <code>trigger_name</code> is the user-defined name for the new trigger.</li><li>The <code>table_name</code> is the table to which the trigger applies.</li><li>The event is listed in the <code>AFTER</code> clause. The event could be <code>INSERT</code>, <code>UPDATE</code>, or <code>DELETE</code>. A single trigger can fire in response to one or more actions against the table.</li><li>The <code>NOT FOR REPLICATION</code> option instructs SQL Server not to fire the trigger when data modification is made as part of a replication process.</li><li>The <code>sql_statements</code> is one or more Transact-SQL used to carry out actions once an event occurs.</li>

<strong>Syntax:</strong>  

create trigger [trigger_name] 
[before | after]  
{insert | update | delete}  
on [table_name]  
[for each row]  
[trigger_body] 
<strong>Explanation of syntax:</strong>
<br/>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
          <!-- post_top_responsive -->
          <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-9465609616171866"
          data-ad-slot="4501693235"
          data-ad-format="auto"></ins>
          <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
        <br/>
            
<ol>
<li>create trigger [trigger_name]: Creates or replaces an existing trigger with the trigger_name.
</li>
<li>[before | after]: This specifies when the trigger will be executed.
</li>
<li>{insert | update | delete}: This specifies the DML operation.
</li>
<li>on [table_name]: This specifies the name of the table associated with the trigger.
</li>
<li>[for each row]: This specifies a row-level trigger, i.e., the trigger will be executed for each row being affected.
</li>
<li>[trigger_body]: This provides the operation to be performed as trigger is fired
</li>
</ol>
<strong>BEFORE and AFTER of Trigger:</strong><br />
BEFORE triggers run the trigger action before the triggering statement is run.<br />
AFTER triggers run the trigger action after the triggering statement is run.

<strong>Example:</strong><br />
Given Student Report Database, in which student marks assessment is recorded. In such schema, create a trigger so that the total and average of specified marks is automatically inserted whenever a record is insert.

Here, as trigger will invoke before record is inserted so, BEFORE Tag can be used.

<strong>Suppose the database Schema &#8211;</strong>

mysql> desc Student; 
+-------+-------------+------+-----+---------+----------------+ 
| Field | Type        | Null | Key | Default | Extra          | 
+-------+-------------+------+-----+---------+----------------+ 
| tid   | int(4)      | NO   | PRI | NULL    | auto_increment | 
| name  | varchar(30) | YES  |     | NULL    |                | 
| subj1 | int(2)      | YES  |     | NULL    |                | 
| subj2 | int(2)      | YES  |     | NULL    |                | 
| subj3 | int(2)      | YES  |     | NULL    |                | 
| total | int(3)      | YES  |     | NULL    |                | 
| per   | int(3)      | YES  |     | NULL    |                |
+-------+-------------+------+-----+---------+----------------+ 
7 rows in set (0.00 sec)
SQL Trigger to problem statement.

create trigger stud_marks 
before INSERT 
on 
Student 
for each row 
set Student.total = Student.subj1 + Student.subj2 + Student.subj3, Student.per = Student.total * 60 / 100;
Above SQL statement will create a trigger in the student database in which whenever subjects marks are entered, before inserting this data into the database, trigger will compute those two values and insert with the entered values. i.e.,

mysql> insert into Student values(0, "ABCDE", 20, 20, 20, 0, 0); 
Query OK, 1 row affected (0.09 sec) 

mysql> select * from Student; 
+-----+-------+-------+-------+-------+-------+------+ 
| tid | name  | subj1 | subj2 | subj3 | total | per  | 
+-----+-------+-------+-------+-------+-------+------+ 
| 100 | ABCDE |    20 |    20 |    20 |    60 |   36 | 
+-----+-------+-------+-------+-------+-------+------+ 
1 row in set (0.00 sec)
In this way trigger can be creates and executed in the databases.


<h2>SQL Views</span></h2>
Views in SQL are kind of virtual tables. 
A view also has rows and columns as they are in a real table in the database. 
We can create a view by selecting fields from one or more tables present in the database. 
A View can either have all the rows of a table or specific rows based on certain condition.
In this article we will learn about creating , deleting and updating Views.<br />
<strong>Sample Tables</strong>:
StudentDetails

<img src="https://media.geeksforgeeks.org/wp-content/uploads/Screenshot-57-300x125.png">
StudentMarks
<img src="https://media.geeksforgeeks.org/wp-content/uploads/Screenshot-58-300x126.png">
<strong>CREATING VIEWS</strong>
We can create View using <strong>CREATE VIEW</strong> statement. 
A View can be created from a single table or multiple tables.
<strong>Syntax</strong>:
CREATE VIEW view_name AS
SELECT column1, column2.....
FROM table_name
WHERE condition;

<strong>view_name</strong>: Name for the View
<strong>table_name</strong>: Name of the table
<strong>condition</strong>: Condition to select rows

<strong>Examples</strong>:

<li><strong>Creating View from a single table:</strong>

<li>In this example we will create a View named DetailsView from the table StudentDetails.<br />
Query:
CREATE VIEW DetailsView AS
SELECT NAME, ADDRESS
FROM StudentDetails
WHERE S_ID &lt; 5;

To see the data in the View, we can query the view in the same manner as we query a table.
SELECT * FROM DetailsView;

Output:<br />
<img src="https://media.geeksforgeeks.org/wp-content/uploads/Screenshot-571-300x156.png"></li>
<li>In this example, we will create a view named StudentNames from the table StudentDetails.<br />
Query:

CREATE VIEW StudentNames AS
SELECT S_ID, NAME
FROM StudentDetails
ORDER BY NAME;

If we now query the view as,
SELECT * FROM StudentNames;

Output:<br />
<img src="https://media.geeksforgeeks.org/wp-content/uploads/Screenshot-64-300x126.png"></li>

</li>
<li><strong>Creating View from multiple tables</strong>: In this example we will create a View named MarksView from two tables StudentDetails and StudentMarks. 
To create a View from multiple tables we can simply include multiple tables in the SELECT statement. 
Query:
CREATE VIEW MarksView AS
SELECT StudentDetails.NAME, StudentDetails.ADDRESS, StudentMarks.MARKS
FROM StudentDetails, StudentMarks
WHERE StudentDetails.NAME = StudentMarks.NAME;

To display data of View MarksView:
SELECT * FROM MarksView;

Output:<br />
<img src="https://media.geeksforgeeks.org/wp-content/uploads/Screenshot-591-300x105.png"></li>

<strong>DELETING VIEWS</strong>
We have learned about creating a View, but what if a created View is not needed any more? Obviously we will want to delete it. 
SQL allows us to delete an existing View. 
We can delete or drop a View using the DROP statement.
<strong>Syntax</strong>:
DROP VIEW view_name;

<strong>view_name</strong>: Name of the View which we want to delete.

For example, if we want to delete the View <strong>MarksView</strong>, we can do this as:
DROP VIEW MarksView;

<strong>UPDATING VIEWS</strong>
There are certain conditions needed to be satisfied to update a view. 
If any one of these conditions is <strong>not</strong> met, then we will not be allowed to update the view.
<ol>
<li>The SELECT statement which is used to create the view should not include GROUP BY clause or ORDER BY clause.</li>
<li>The SELECT statement should not have the DISTINCT keyword.</li>
<li>The View should have all NOT NULL values.</li>
<li>The view should not be created using nested queries or complex queries.</li>
<li>The view should be created from a single table. 
If the view is created using multiple tables then we will not be allowed to update the view.</li>
</ol>

<li>We can use the <strong>CREATE OR REPLACE VIEW</strong> statement to add or remove fields from a view.<br />
<strong>Syntax</strong>:
CREATE OR REPLACE VIEW view_name AS
SELECT column1,coulmn2,..
FROM table_name
WHERE condition;

For example, if we want to update the view <strong>MarksView</strong> and add the field AGE to this View from <strong>StudentMarks </strong>Table, we can do this as:

CREATE OR REPLACE VIEW MarksView AS
SELECT StudentDetails.NAME, StudentDetails.ADDRESS, StudentMarks.MARKS, StudentMarks.AGE
FROM StudentDetails, StudentMarks
WHERE StudentDetails.NAME = StudentMarks.NAME;

If we fetch all the data from MarksView now as:
SELECT * FROM MarksView;

Output:<br />
<img src="https://media.geeksforgeeks.org/wp-content/uploads/Screenshot-60-300x78.png"></li>
<li><strong>Inserting a row in a view</strong>:<br />
We can insert a row in a View in a same way as we do in a table. 
We can use the INSERT INTO statement of SQL to insert a row in a View.<strong>Syntax</strong>:
INSERT view_name(column1, column2 , column3,..) 
VALUES(value1, value2, value3..);

<strong>view_name</strong>: Name of the View

<strong>Example</strong>:<br />
In the below example we will insert a new row in the View DetailsView which we have created above in the example of "creating views from a single table".
INSERT INTO DetailsView(NAME, ADDRESS)
VALUES("Suresh","Gurgaon");

If we fetch all the data from DetailsView now as,
SELECT * FROM DetailsView;

Output:<br />
<img src="https://media.geeksforgeeks.org/wp-content/uploads/Screenshot-62-300x194.png"></li>
<li><strong>Deleting a row from a View</strong>:<br />
Deleting rows from a view is also as simple as deleting rows from a table. 
We can use the DELETE statement of SQL to delete rows from a view. 
Also deleting a row from a view first delete the row from the actual table and the change is then reflected in the view.<strong>Syntax</strong>:
DELETE FROM view_name
WHERE condition;

<strong>view_name</strong>:Name of view from where we want to delete rows
<strong>condition</strong>: Condition to select rows 

<strong>Example</strong>:<br />
In this example we will delete the last row from the view DetailsView which we just added in the above example of inserting rows.
DELETE FROM DetailsView
WHERE NAME="Suresh";

If we fetch all the data from DetailsView now as,
SELECT * FROM DetailsView;

Output:<br />
<img src="https://media.geeksforgeeks.org/wp-content/uploads/Screenshot-571-300x156.png"></li>

<strong>WITH CHECK OPTION</strong>
The WITH CHECK OPTION clause in SQL is a very useful clause for views. 
It is applicable to a updatable view. 
If the view is not updatable, then there is no meaning of including this clause in the CREATE VIEW statement.

<li>The WITH CHECK OPTION clause is used to prevent the insertion of rows in the view where the condition in the WHERE clause in CREATE VIEW statement is not satisfied.</li>
<li>If we have used the WITH CHECK OPTION clause in the CREATE VIEW statement, and if the UPDATE or INSERT clause does not satisfy the conditions then they will return an error.</li>

<strong>Example</strong>:<br />
In the below example we are creating a View SampleView from StudentDetails Table with WITH CHECK OPTION clause.
CREATE VIEW SampleView AS
SELECT S_ID, NAME
FROM  StudentDetails
WHERE NAME IS NOT NULL
WITH CHECK OPTION;

In this View if we now try to insert a new row with null value in the NAME column then it will give an error because the view is created with the condition for NAME column as NOT NULL.<br />
For example,though the View is updatable but then also the below query for this View is not valid:
INSERT INTO SampleView(S_ID)
VALUES(6);

<strong>NOTE</strong>: The default value of NAME column is <em>null</em>.

<h2><span class="white">How to use phpMyAdmin</span></span></h2>

This article will explain how you can use PHPMyAdmin and how to create a database dump.
By default it is accessible at <code>http://appname.hypernode.io/phpmyadmin</code>
For protection, phpMyAdmin by default is only accessible through the <code>appname.hypernode.io/phpmyadmin</code> URL, on Vagrant via the <code>appname.hypernode.local/phpmyadmin</code> url and on Docker through <code>YourBaseURL/dbadmin</code> after you followed <a href="https://support.hypernode.com/knowledgebase/use-phpmyadmin/#Reroute_phpmyadmin_to_dbadmin_and_add_a_whitelist">these</a> instructions. 
You can adjust this behaviour to your own preference.

<h2>Working with phpMyAdmin</span></h2>
<h2>Access phpMyAdmin</span></h2>
<h4>Credentials</h4>
PHPMyAdmin uses the same user and password your database uses. 
You can find them safely stored in <code>/data/web/.my.cnf</code>.
<h4>All customers: via URL</h4>
Did you order a trial via Hypernode.com? Please be aware you do not have access to a control panel yet. 
Access phpMyAdmin only via <code>http://appname.hypernode.io/phpmyadmin</code>.
You can log in using the credentials supplied in your .my.cnf file or through the user/password you might have created.
<h4>Dutch customers: via Service Panel</h4>
As a Dutch customer you can access phpMyAdmin via your Service Panel as well:

Log in to the <a href="https://service.byte.nl/protected/overzicht/">Byte Service Panel</a>
Select your Hypernode plan
Click on the Hypernode tab.
Click phpMyAdmin

<a href="http://support.hypernode.com/assets/uploads/pms_service_panel.png"><img aria-describedby="caption-attachment-418" class="size-large wp-image-418" src="http://support.hypernode.com/assets/uploads/pms_service_panel-300x174.png" alt="phpMyAdmin is accessible through the Service panel" width="300" height="174" /></a>Use phpMyAdmin on Hypernode
<h2>Create a database dump using phpMyAdmin</span></h2>

Go To <code>http://appname.hypernode.io/phpmyadmin</code>
Click on “Databases” and select the database.
Click on “Export”.
Click on “Go” and the export/backup will be available.

<strong>If you have a large database, making a database dump through phpMyAdmin is not very reliable. 
Before importing it, make sure the integrity of your database dump is sane!</strong>
<h2>Configure phpMyAdmin</span></h2>
<h2>Create whitelisting and/or basic_auth config</span></h2>
If you haven&#8217;t <a href="https://support.hypernode.com/knowledgebase/create-reusable-for-custom-nginx-locations/">created a whitelist or basic_auth config using include files</a> to protect your <code>phpmyadmin</code> from unsolicited IP addresses, do this first before you follow the instructions below.
<h2>Using phpMyAdmin over SSL or through another URL</span></h2>
When you <a href="https://support.hypernode.com/knowledgebase/redirect-all-http-traffic-to-https-in-nginx/" target="_blank" rel="noopener">redirect all traffic to HTTPS</a>, you might experience a SSL browser error when connecting to PHPMyAdmin as the SSL certificate of your domain does not match the .hypernode.io domain name.
To avoid this, there are 2 possible solutions:

<a href="https://support.hypernode.com/knowledgebase/use-lets-encrypt-hypernode/">Use Let&#8217;s Encrypt</a> and create an SSL certificate for appname.hypernode.io.
Adjust your Nginx config to make phpMyAdmin accessible through another url then appname.hypernode.io.

For the latter, use the instructions below.
<h2>Reroute /phpmyadmin to /dbadmin and add a whitelist</span></h2>
When you want to use phpMyAdmin over SSL, or you want to add a whitelist with IP&#8217;s that are allowed to access phpMyAdmin, you can do so by moving phpMyAdmin to another URL that we can adjust to our needs:

First, create a symlink in <code>/data/web/public</code>:
<textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 16px !important;">
ln -s /usr/share/phpmyadmin/ /data/web/public/dbadmin</textarea>

1

ln -s /usr/share/phpmyadmin/ /data/web/public/dbadmin

<!-- [Format Time: 0.0003 seconds] -->

For Magento 2, depending on your symlink settings you can use the same command as for a Magento 1 environment or you can use this command for the symlink:

<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

<textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 16px !important;">
ln -s /usr/share/phpmyadmin/ /data/web/magento2/pub/dbadmin</textarea>

1

ln -s /usr/share/phpmyadmin/ /data/web/magento2/pub/dbadmin

<!-- [Format Time: 0.0003 seconds] -->

Next, create a snippet in /data/web/nginx called <code>server.phpmyadmin</code> with the following content:

<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

<textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 16px !important;">
location /dbadmin {
# Only allow IP addresses defined in /data/web/include.whitelist
include /etc/nginx/app/include.whitelist;

# Uncomment to secure phpMyAdmin with additional basic_auth
# include /etc/nginx/app/include.basic_auth;

try_files $uri $uri/ /dbadmin/index.php last;

location ~ \.php$ {
echo_exec @phpfpm;
}
}</textarea>

12345678910111213

location /dbadmin {# Only allow IP addresses defined in /data/web/include.whitelistinclude /etc/nginx/app/include.whitelist; 
# Uncomment to secure phpMyAdmin with additional basic_auth# include /etc/nginx/app/include.basic_auth; 
try_files $uri $uri/ /dbadmin/index.php last; 
location ~ \.php$ {echo_exec @phpfpm;}}

<!-- [Format Time: 0.0010 seconds] -->

Next, create the include.whitelist in /data/web/nginx and add your IP(s) to the snippet

<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

<textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 16px !important;">
allow XXX.XXX.XXX.XXX;
deny all;</textarea>

12

allow XXX.XXX.XXX.XXX;deny all;

<!-- [Format Time: 0.0003 seconds] -->

And finally visit phpMyAdmin on https://yourdomain.nl/dbadmin
<strong>This will only add another URL where phpMyAdmin is accessible. 
If you only want to use this endpoint, block all access to <code>/phpmyadmin</code> too</strong>
<h2>Blocking all access to phpMyAdmin</span></h2>
If you want to fully disable phpMyAdmin, create the following snippet as <code>/data/web/nginx/server.phpmyadmin</code>:
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

<textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 16px !important;">
## Block PHPMyAdmin
location ~* phpmyadmin {
deny all;
}</textarea>

1234

## Block PHPMyAdminlocation ~* phpmyadmin {deny all;}

<!-- [Format Time: 0.0003 seconds] -->

<h2>Troubleshooting phpMyAdmin</span></h2>

The phpMyAdmin button in the control panel redirects to <code>https://</code> and gives a 404 in Nginx

This is probably because you redirect ALL traffic over HTTPS. 
Try using PHPMyAdmin over ssl as explained above.

I&#8217;m receiving an error while dumping the database

Most of the time this happens when a database is large and you exceed the <code>max_execution_time</code> or <code>memory_limit</code> in php. 
If this happens try <a href="https://support.hypernode.com/knowledgebase/using-mysql-on-hypernode/#Creating_a_MySQL_back-up">dumping your database on the command line</a>

My phpMyAdmin does not show any images

This happens when you redirect all traffic to HTTPS, causing mixed content errors in your browser. 
To solve this, use phpMyAdmin over SSL.

Static content doesn&#8217;t (fully) display

This happens if you define a regex location block in your nginx config that matches phpmyadmin&#8217;s static files; This will override the existing config for static files under /phpmyadmin/. 
To solve this, you will have to change your custom location block to not match files in the /phpmyadmin/ location.


<h2><span class="white">SQL_Zoo answers</span></span></h2>
LOAD DATA from text file:
not work: LOAD DATA INFILE 'world.txt' INTO TABLE world;
work: LOAD DATA LOCAL INFILE "C:\\Users\\User\\Desktop\\world.txt" INTO TABLE world;

The MySQL server is running with the --secure-file-priv option so it cannot execute this statement

Your MySQL server has been started with --secure-file-priv option which basically limits from which directories you can load files using LOAD DATA INFILE.

You may use SHOW VARIABLES LIKE "secure_file_priv"; to see the directory that has been configured.

<i>USE sampleDB;
show tables;</i>

show the structure of the table
<i>desc world;

show keys from world;

SELECT population FROM world WHERE name = "Germany"
</i>

SELECT population FROM world WHERE name = 'Germany'
uses a WHERE clause to select population of 'France'. Note that strings should be in 'single quotes';

SELECT name, population FROM world WHERE name IN ('Sweden', 'Norway', 'Denmark');
The IN operator allows you to specify multiple values in a WHERE clause.
Show the name and the population for 'Sweden', 'Norway' and 'Denmark'.

SELECT name, area FROM world WHERE area BETWEEN 250000 AND 300000
shows countries with an area of 250,000-300,000 sq. km

SELECT name FROM world WHERE name LIKE 'Y%'
find the countries that start with "B".
The % is a wild-card it can match any characters

SELECT name FROM world WHERE name LIKE '%Y'
Find the countries that end with y

SELECT name FROM world WHERE name LIKE '%x%'
Find the countries that contain the letter x

SELECT name FROM world WHERE name LIKE '%land'
Find the countries that end with land

SELECT name FROM world WHERE name LIKE 'c%ia'
Find the countries that start with C and end with ia

SELECT name FROM world WHERE name LIKE '%oo%'
Find the country that has oo in the name

SELECT name FROM world WHERE name LIKE '%a%a%a%'
Find the countries that have three or more a in the name

SELECT name FROM world WHERE name LIKE '_t%' ORDER BY name
Find the countries that have "t" as the second character.
the underscore is a single character wildcard.

SELECT name FROM world WHERE name LIKE '%o__o%'
Find the countries that have two "o" characters separated by two others.

SELECT name FROM world WHERE name LIKE '____'
Find the countries that have exactly four characters.

The capital of Luxembourg is Luxembourg. Show all the countries where the capital is the same as the name of the country

SELECT name, capital, continent FROM world WHERE (name = capital)
sql Find the country where the name is the capital city.

SELECT name FROM world WHERE name LIKE capital
Find the country where the name is the capital city.

SELECT name FROM world WHERE capital = concat(name, ' City');
Find the country where the capital is the country plus "City".
concat function combine two or more strings.


SELECT capital,name FROM world WHERE capital LIKE concat('%', name, '%')
Find the capital and the name where the capital includes the name of the country.

SELECT name, capital FROM world WHERE capital LIKE concat('%', name, '%') AND capital > name
Find the capital and the name where the capital is an extension of name of the country.

SELECT name, REPLACE(capital, name, '') FROM world WHERE capital LIKE concat('%', name, '%') AND capital > name
Show the name and the extension where the capital is an extension of name of the country.

<h3>&emsp;mysql path:</h2>
D:\wamp64\bin\mysql\mysql5.7.23\bin

<h2>&emsp;Cannot log in to the MySQL server:</h2>
shell> mysql -u root
mysql> FLUSH PRIVILEGES;
mysql> SET PASSWORD FOR 'root'@'localhost' = PASSWORD('asdf1234');

check the version info:
shell> mysqladmin -u root -p version


change the connect_type parameter from tcp to socket and added the parameter socket in config.inc.php:

$cfg['Servers'][$i]['host'] = 'localhost';
$cfg['Servers'][$i]['connect_type'] = 'socket';
$cfg['Servers'][$i]['socket'] = '/tmp/mysql.sock';

<h2>How to run SQL script in MySQL?</span></h2>

use the MySQL command line client: 
mysql -h hostname -u user database < path/to/test.sql

OR:
execute mysql statements that have been written in a text file using the following command:
mysql -u yourusername -p yourpassword yourdatabase < text_file

if yourdatabase has not been created yet, log into your mysql first using:

mysql -u yourusername -p yourpassword yourdatabase
then:

mysql>CREATE DATABASE a_new_database_name
then:

mysql -u yourusername -p yourpassword a_new_database_name < text_file
that should do it!

AND save results to a file:
mysql -u yourusername -p yourpassword yourdatabase < text_file > results_file


to run a single MySQL query from your regular shell instead of from MySQL's interactive command line you would do this:

mysql -u [username] -p [dbname] -e [query]

to create the database
mysql -u [username] -p -e "create database somedb"

running the query from the MySQL command line:
 $ mysql -u root -p somedb -e "select * from mytable"
Enter password:


Multiple-line Support

In SQL mode multiple line mode starts when the command \ is issued.
Once multiple-line mode is started, the subsequently entered statements are cached.

For example:
mysql-sql> \
... create procedure get_actors()
... begin
...   select first_name from sakila.actor;
... end



Invoke mysql:
shell> mysql db_name

Or:
shell> mysql --user=user_name --password db_name
Enter password: your_password

<i>mysql -u user_name -p  then press_enter_key
then type password
i.e.
line-1 : mysql -u root -p
line-2 : admin
</i>

<i>USE sampleDB;
show tables;</i>

show the structure of the table
<i>desc world;

show keys from world;

SELECT population FROM world WHERE name = "Germany"
</i>


https://dev.mysql.com/doc/refman/8.0/en/mysql-commands.html
mysql Client Commands

mysql> help

List of all MySQL commands:
Note that all text commands must be first on line and end with ';'
?         (\?) Synonym for `help'.
clear     (\c) Clear the current input statement.
connect   (\r) Reconnect to the server. Optional arguments are db and host.
delimiter (\d) Set statement delimiter.
edit      (\e) Edit command with $EDITOR.
ego       (\G) Send command to mysql server, display result vertically.
exit      (\q) Exit mysql. Same as quit.
go        (\g) Send command to mysql server.
help      (\h) Display this help.
nopager   (\n) Disable pager, print to stdout.
notee     (\t) Don't write into outfile.
pager     (\P) Set PAGER [to_pager]. Print the query results via PAGER.
print     (\p) Print current command.
prompt    (\R) Change your mysql prompt.
quit      (\q) Quit mysql.
rehash    (\#) Rebuild completion hash.
source    (\.) Execute an SQL script file. Takes a file name as an argument.
status    (\s) Get status information from the server.
system    (\!) Execute a system shell command.
tee       (\T) Set outfile [to_outfile]. Append everything into given
               outfile.
use       (\u) Use another database. Takes database name as argument.
charset   (\C) Switch to another charset. Might be needed for processing
               binlog with multi-byte charsets.
warnings  (\W) Show warnings after every statement.
nowarning (\w) Don't show warnings after every statement.
resetconnection(\x) Clean session context.

For server side help, type 'help contents'

<h2><span class="gold">Create MySQL Database, Table & User From Command Line Guide</span></span></h2>
<a href="https://www.a2hosting.com/kb/developer-corner/mysql/managing-mysql-databases-and-users-from-the-command-line">managing mysql databases and users from the command line</a>
<br>

<h2>Create MySQL&nbsp;Databases&nbsp;and Users</span></h2>

To create MySQL database and users, follow these steps:

At the command line, log in to MySQL as the root user:
mysql -u root -p

Type the MySQL root password, and then press Enter.

To create a database user, type the following command. Replace <span style="color:#ff0000;"><em>username</em></span> with the user you want to create, and replace <span style="color:#ff0000;"><em>password</em></span> with the user&#39;s password:<br />GRANT ALL PRIVILEGES ON *.* TO &#39;username&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;;

<div class="note">
This command grants the user all permissions. However, you can grant specific permissions to maintain precise control over database access. For example, to explicitly grant the <strong>SELECT</strong> permission, you would use the following command:
GRANT SELECT ON *.* TO &#39;username&#39;@&#39;localhost&#39;;
</div>
For more information about setting MySQL database permissions, please visit <a href="https://dev.mysql.com/doc/refman/5.5/en/grant.html">https://dev.mysql.com/doc/refman/5.5/en/grant.html</a>.

Type <span class="user-input">\q</span> to exit the <em>mysql</em> program.

To log in to MySQL as the user you just created, type the following command. Replace <span style="color:#ff0000;"><em>username</em></span> with the name of the user you created in step 3:<br />mysql -u username -p

Type the user&#39;s password, and then press Enter.

To create a database, type the following command. Replace <span style="color:#ff0000;"><em>dbname</em></span> with the name of the database that you want to create:<br />CREATE DATABASE dbname;

To work with the new database, type the following command. Replace <span style="color:#ff0000;"><em>dbname</em></span> with the name of the database you created in step 7:<br />USE dbname;

You can now work with the database. For example, the following commands demonstrate how to create a basic table named <em>example</em>, and how to insert some data into it:<br />CREATE TABLE example ( id smallint unsigned not null auto_increment, name varchar(20) not null, constraint pk_example primary key (id) );&#10;INSERT INTO example ( id, name ) VALUES ( null, &#39;Sample data&#39; );&#10;

<h5>Using SQL script files</h5>

The previous procedure demonstrates how to create and populate a MySQL database by typing each command interactively with the <em>mysql</em> program. However, you can streamline the process by combining commands into a SQL script file.

The following procedure demonstrates how to use a SQL script file to create and populate a database:

As in the previous procedure, you should first create a user for the database. To do this, type the following commands:
mysql -u root -p&#10;GRANT ALL PRIVILEGES ON *.* TO &#39;username&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;;&#10;\q&#10;

Create a file named <em>example.sql</em> and open it in your preferred text edtior. Copy and paste the following text into the file:<br />CREATE DATABASE <span style="color:#ff0000;"><em>dbname</em></span>;&#10;USE <span style="color:#ff0000;"><em>dbname</em></span>;&#10;CREATE TABLE <span style="color:#ff0000;"><em>tablename</em></span> ( id smallint unsigned not null auto_increment, name varchar(20) not null, constraint pk_example primary key (id) );&#10;INSERT INTO <span style="color:#ff0000;"><em>tablename</em></span> ( id, name ) VALUES ( null, &#39;Sample data&#39; );

Replace <span style="color:#ff0000;"><em>dbname</em></span> with the name of the database that you want to create, and <span style="color:#ff0000;"><em>tablename</em></span> with the name of the table that you want to create.<br /><div class="note">You can modify the sample script file to create multiple databases and tables all at once. Additionally, the sample script creates a very simple table. You will likely have additional data requirements for your tables.
Save the changes to the <em>example.sql</em> file and exit the text editor.
</div>
To process the SQL script, type the following command. Replace <span style="color:#ff0000;"><em>username</em></span> with the name of the user you created in step 1:<br />mysql -u username -p &lt; example.sql

The <em>mysql</em> program processes the script file statement by statement. When it finishes, the database and table are created, and the table contains the data you specified in the <strong>INSERT</strong> statements.


<h2>Delete&nbsp;MySQL Tables and Databases</span></h2>

To delete a table, type the following command from the <strong>mysql></strong> prompt. Replace <span style="color:#ff0000;"><em>tablename</em></span> with the name of the table that you want to delete:
DROP TABLE tablename;

<div class="note">This command assumes that you have already selected a database by using the <strong>USE</strong> statement.
</div>
Similarly, to delete an entire database, type the following command from the <strong>mysql></strong> prompt. Replace <span style="color:#ff0000;"><em>dbname</em></span> with the name of the database that you want to delete:
DROP DATABASE dbname;

<div class="warning">The <em>mysql</em> program does not ask for confirmation when you use this command. As soon as you press Enter, MySQL deletes the database and all of the data it contains.
</div>
<h2>Delete MySQL&nbsp;Users</span></h2>

To view a list of all users, type the following command from the <strong>mysql></strong> prompt:
SELECT user FROM mysql.user GROUP BY user;

To delete a specific user, type the following command from the <strong>mysql></strong> prompt. Replace <span style="color:#ff0000;"><em>username</em></span> with the name of the user that you want to delete:
DELETE FROM mysql.user WHERE user = &#39;username&#39;;

<h2>More Information</span></h2>
To view the official MySQL documentation, please visit <a href="https://dev.mysql.com/doc/refman/5.5/en/index.html">https://dev.mysql.com/doc/refman/5.5/en/index.html</a>.

<br />
<h2>Related Articles</span></h2>

<a href="https://www.a2hosting.com/kb/developer-corner/mysql/connect-to-mysql-from-the-command-line">Connecting to MySQL from the command line</a>
Learn how to connect to MySQL from the command line using the mysql program with this guide including detailed instructions, code snippets and links to related articles.

<a href="https://www.a2hosting.com/kb/developer-corner/mysql/reset-mysql-root-password">Reset MySQL root password</a>
You can reset your MySQL root password if you have forgotten it. This article shows you how to change it. Note that you must have root access to your server to accomplish this.


<h2><span class="crimson">SQLTools</span></span></h2>

Install SQLTools plugin
Configure Connections file (sublime command ST: Setup Connection or look in menu Package Settings - SQLTools - Connections)
Execute SQL or other SQLTools command using shortcuts or Commands (ST: Execute, ST: Table Description, etc)


Auto complete (PostgreSQL & MySQL) && Run SQL Queries
execute_auto_complete.gif?raw=true
Formatting SQL Queries (CTRL+e, CTRL+b) Formatting SQL Queries
List and Run saved queries (CTRL+e, CTRL+a)
Remove saved queries (CTRL+e, CTRL+r)
Run SQL Queries (CTRL+e, CTRL+e) Auto complete (PostgreSQL & MySQL) && Run SQL Queries
Save queries (CTRL+e, CTRL+q)
Show explain plan for queries (PostgreSQL, MySQL, Oracle, Vertica, SQLite) (CTRL+e, CTRL+x)
Show table records (CTRL+e, CTRL+s) Show table records
View Queries history (CTRL+e, CTRL+h)
View table schemas (CTRL+e, CTRL+d) View table schemas
Works with PostgreSQL, MySQL, Oracle, MSSQL, SQLite, Vertica, Firebird and Snowflake
Smart completions (except SQLite)
Run SQL Queries   CTRL+e, CTRL+e
View table description   CTRL+e, CTRL+d
Show table records   CTRL+e, CTRL+s
Show explain plan for queries   CTRL+e, CTRL+x
Formatting SQL Queries   CTRL+e, CTRL+b
View Queries history   CTRL+e, CTRL+h
Save queries   CTRL+e, CTRL+q
List and Run saved queries   CTRL+e, CTRL+l
Remove saved queries   CTRL+e, CTRL+r

Below you can see an example of the SQLToolsConnections.sublime-settings:

{
    "connections": {
        "Connection MySQL": {
            "type"    : "mysql",
            "host"    : "127.0.0.1",
            "port"    : 3306,
            "database": "dbname",
            "username": "user",
            "password": "password",  // you will get a security warning in the output
            // "defaults-extra-file": "/path/to/defaults_file_with_password",  // use [client] or [mysql] section
            // "login-path": "your_login_path",  // login path in your ".mylogin.cnf"
            "encoding": "utf-8"
        },
        "Connection PostgreSQL": {
            "type"    : "pgsql",
            "host"    : "127.0.0.1",
            "port"    :  5432,
            "database": "dbname",
            "username": "anotheruser",
            // for PostgreSQL "password" is optional (setup "pgpass.conf" file instead)
            "password": "password",
            "encoding": "utf-8"
        },
        "Connection Oracle": {
            "type"    : "oracle",
            "host"    : "127.0.0.1",
            "port"    :  1522,
            "database": "dbname",
            "username": "anotheruser",
            "password": "password",
            "service" : "servicename",
            "encoding": "utf-8"
        },
        "Connection SQLite": {
            "type"    : "sqlite",
            "database": "d:/sqlite/sample_db/chinook.db",
            "encoding": "utf-8"
        }
    },
    "default": "Connection MySQL"
}

Auto Complete
After you select one connection, SQLTools will prepare auto completions for you.

PS: For a better experience, add this line to your sublime settings file

CTRL+SHIFT+p, select “Preferences: Settings - User”
add this option:
{
  "auto_complete_triggers": [
    {"selector": "text.html", "characters": "<" },
    {"selector": "source.sql", "characters": "."}
  ]
}


<h2><span class="pink">R SQLite</span></span></h2>
Embeds the SQLite database engine in R, providing a DBI-compliant interface. <a href="http://www.sqlite.org">SQLite</a> is a public-domain, single-user, very light-weight database engine that implements a decent subset of the SQL 92 standard, including the core table creation, updating, insertion, and selection operations, plus transaction management.
You can install the latest released version of RSQLite from CRAN with:
<code>install.packages("RSQLite")</code>
Or install the latest development version from GitHub with:
<code># install.packages("devtools")
devtools::install_github("rstats-db/RSQLite")</code>
To install from GitHub, you’ll need a <a href="http://www.rstudio.com/ide/docs/packages/prerequisites">development environment</a>.

<h2>Basic usage</span></h2>
<code>library(DBI)
# Create an ephemeral in-memory RSQLite database
con &lt;- dbConnect(RSQLite::SQLite(), ":memory:")

dbListTables(con)</code>
<code>## character(0)</code>
<code>dbWriteTable(con, "mtcars", mtcars)
dbListTables(con)</code>
<code>## [1] "mtcars"</code>
<code>dbListFields(con, "mtcars")</code>
<code>##  [1] "mpg"  "cyl"  "disp" "hp"   "drat" "wt"   "qsec" "vs"   "am"   "gear"
## [11] "carb"</code>
<code>dbReadTable(con, "mtcars")</code>
<code>##     mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## 1  21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## 2  21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## 3  22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
.....
## 30 19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
## 31 15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
## 32 21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code>
<code># You can fetch all results:
res &lt;- dbSendQuery(con, "SELECT * FROM mtcars WHERE cyl = 4")
dbFetch(res)</code>
<code>##     mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## 1  22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## 2  24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## 3  22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
.....
## 10 30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
## 11 21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code>
<code>dbClearResult(res)

# Or a chunk at a time
res &lt;- dbSendQuery(con, "SELECT * FROM mtcars WHERE cyl = 4")
while(!dbHasCompleted(res)){
  chunk &lt;- dbFetch(res, n = 5)
  print(nrow(chunk))
}</code>
<code>## [1] 5
## [1] 5
## [1] 1</code>
<code># Clear the result
dbClearResult(res)

# Disconnect from the database
dbDisconnect(con)</code>

<h2><span class="red">Database Queries With R</span></span></h2>
There are many ways to query data with R. 
This article shows you three of the most common ways:
<ol style="list-style-type: decimal">
<li>Using <code>DBI</code></li>
<li>Using <code>dplyr</code> syntax</li>
<li>Using R Notebooks</li>
</ol>

<h2>Background</span></h2>
Several recent package improvements make it easier for you to use databases with R. 
The query examples below demonstrate some of the capabilities of these R packages.

<li><a href="/dbi">DBI</a>. 
The <code>DBI</code> specification has gone through many <a href="https://www.r-consortium.org/blog/2017/05/15/improving-dbi-a-retrospect">recent improvements</a>. 
When working with databases, you should always use packages that are <code>DBI</code>-compliant.</li>
<li><a href="/dplyr">dplyr</a> &amp; <code>dbplyr</code>. 
The <code>dplyr</code> package now has a generalized SQL backend for talking to databases, and the new <code>dbplyr</code> package translates R code into database-specific variants. 
As of this writing, SQL variants are supported for the following databases: Oracle, Microsoft SQL Server, PostgreSQL, Amazon Redshift, Apache Hive, and Apache Impala. 
More will follow over time.</li>
<li><a href="/odbc">odbc</a>. 
The <code>odbc</code> R package provides a standard way for you to connect to any database as long as you have an ODBC driver installed. 
The <code>odbc</code> R package is <code>DBI</code>-compliant, and is recommended for ODBC connections.</li>

RStudio also made recent improvements to its products so they work better with databases.

<li><a href="/connections">RStudio>. 
With the latest version of the RStudio>connections contract</a>.</li>
<li><a href="/rstudio/pro-drivers/">RStudio Professional Drivers</a>. 
If you are using RStudio professional products, you can download RStudio Professional Drivers for no additional cost. 
The examples below use the Oracle ODBC driver. 
If you are using open-source tools, you can bring your own driver or use community packages – many open-source drivers and community packages exist for connecting to a variety of databases.</li>

Using databases with R is a broad subject and there is more work to be done. 
An earlier blog post discussed <a href="https://blog.rstudio.com/2017/06/27/dbplyr-1-1-0/">our vision</a>.


<h2>Example: Query bank data in an Oracle database</span></h2>
In this example, we will query bank data in an Oracle database. 
We connect to the database by using the <code>DBI</code> and <code>odbc</code> packages. 
This specific connection requires a database driver and a data source name (DSN) that have both been configured by the system administrator. 
Your connection might use another method.
<code>library(DBI)
library(dplyr)
library(dbplyr)
library(odbc)
con &lt;- dbConnect(odbc::odbc(), &quot;Oracle DB&quot;)</code>


<h2>1. Query using <code>DBI</code></span></h2>
You can query your data with <code>DBI</code> by using the <code>dbGetQuery()</code> function. 
Simply paste your SQL code into the R function as a quoted string. 
This method is sometimes referred to as <em>pass through SQL code</em>, and is probably the simplest way to query your data. 
Care should be used to escape your quotes as needed. 
For example, <code>'yes'</code> is written as <code>\'yes\'</code>.
<code>dbGetQuery(con,&#39;
  select &quot;month_idx&quot;, &quot;year&quot;, &quot;month&quot;,
  sum(case when &quot;term_deposit&quot; = \&#39;yes\&#39; then 1.0 else 0.0 end) as subscribe,
  count(*) as total
  from &quot;bank&quot;
  group by &quot;month_idx&quot;, &quot;year&quot;, &quot;month&quot;
&#39;)</code>


<h2>2. Query using dplyr syntax</span></h2>
You can write your code in <code>dplyr</code> syntax, and <code>dplyr</code> will translate your code into SQL. 
There are several benefits to writing queries in <code>dplyr</code> syntax: you can keep the same consistent language both for R objects and database tables, no knowledge of SQL or the specific SQL variant is required, and you can take advantage of the fact that <code>dplyr</code> uses <a href="http://dbplyr.tidyverse.org/articles/dbplyr.html">lazy evaluation</a>. 
<code>dplyr</code> syntax is easy to read, but you can always inspect the SQL translation with the <code>show_query()</code> function.
<code>q1 &lt;- tbl(con, &quot;bank&quot;) %>%
  group_by(month_idx, year, month) %>%
  summarise(
    subscribe = sum(ifelse(term_deposit == &quot;yes&quot;, 1, 0)),
    total = n())
show_query(q1)</code>
<br/>
<code>&lt;SQL>
SELECT &quot;month_idx&quot;, &quot;year&quot;, &quot;month&quot;, SUM(CASE WHEN (&quot;term_deposit&quot; = &#39;yes&#39;) THEN (1.0) ELSE (0.0) END) AS &quot;subscribe&quot;, COUNT(*) AS &quot;total&quot;
FROM (&quot;bank&quot;) 
GROUP BY &quot;month_idx&quot;, &quot;year&quot;, &quot;month&quot;</code>


<h2>3. Query using an R Notebooks</span></h2>
Did you know that you can run SQL code in an <a href="http://rmarkdown.rstudio.com/r_notebooks.html">R Notebook</a> code chunk? To use SQL, open an <a href="http://rmarkdown.rstudio.com/r_notebooks.html">R Notebook</a> in the RStudio>File > New File</strong> menu. 
Start a new code chunk with <code>{sql}</code>, and specify your connection with the <code>connection=con</code> code chunk option. 
If you want to send the query output to an R dataframe, use <code>output.var = &quot;mydataframe&quot;</code> in the code chunk options. 
When you specify <code>output.var</code>, you will be able to use the output in subsequent R code chunks. 
In this example, we use the output in <code>ggplot2</code>.
<code>```{sql, connection=con, output.var = &quot;mydataframe&quot;}
SELECT &quot;month_idx&quot;, &quot;year&quot;, &quot;month&quot;, SUM(CASE WHEN (&quot;term_deposit&quot; = &#39;yes&#39;) THEN (1.0) ELSE (0.0) END) AS &quot;subscribe&quot;,
COUNT(*) AS &quot;total&quot;
FROM (&quot;bank&quot;) 
GROUP BY &quot;month_idx&quot;, &quot;year&quot;, &quot;month&quot;
```</code>
<br/>
<code>```{r}
library(ggplot2)
ggplot(mydataframe, aes(total, subscribe, color = year)) +
  geom_point() +
  xlab(&quot;Total contacts&quot;) +
  ylab(&quot;Term Deposit Subscriptions&quot;) +
  ggtitle(&quot;Contact volume&quot;)
```</code>
<img src="https://d33wubrfki0l68.cloudfront.net/d821119ba6b773602e2b49539741197c815725cf/ca183/images/bankggplot.png" />
The benefits to using SQL in a code chunk are that you can paste your SQL code without any modification. 
For example, you do not have to escape quotes. 
If you are using the proverbial <em>spaghetti code</em> that is hundreds of lines long, then a SQL code chunk might be a good option. 
Another benefit is that the SQL code in a code chunk is highlighted, making it very easy to read. 
For more information on SQL engines, see this page on <a href="http://rmarkdown.rstudio.com/authoring_knitr_engines.html">knitr language engines</a>.


<h2>Summary</span></h2>
There is no single best way to query data with R. 
You have many methods to chose from, and each has its advantages. 
Here are some of the advantages using the methods described in this article.

<table>
<colgroup>
<col width="34%" />
<col width="65%" />
</colgroup>
<thead>
<tr class="header">
<th>Method</th>
<th>Advantages</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><ol style="list-style-type: decimal">
<li>DBI::dbGetQuery</li>
</ol></td>
<td>
<li>Fewer dependencies required</li>
</td>
</tr>
<tr class="even">
<td><ol start="2" style="list-style-type: decimal">
<li>dplyr syntax</li>
</ol></td>
<td>
<li>Use the same syntax for R and database objects</li>
<li>No knowledge of SQL required</li>
<li>Code is standard across SQL variants</li>
<li>Lazy evaluation</li>
</td>
</tr>
<tr class="odd">
<td><ol start="3" style="list-style-type: decimal">
<li>R Notebook SQL engine</li>
</ol></td>
<td>
<li>Copy and paste SQL – no formatting required</li>
<li>SQL syntax is highlighted</li>
</td>
</tr>
</tbody>
</table>


<h2>SQL in R</span></h2>
SQL is a database query language - a language designed specifically for interacting with a database. 
It offers syntax for extracting data, updating data, replacing data, creating data, etc. 
For our purposes, it will typically be used when accessing data off a server database. 
If the database isn’t too large, you can grab the entire data set and stick it in a <code>data.frame</code>. 
However, often the data are quite large so you interact with it piecemeal via SQL.
There are various database implementations (SQLite, Microsoft SQL Server, PostgreSQL, etc) which are database management software which use SQL to access the data. 
The method of connecting with each database may differ, but they support SQL (specifically they support ANSI SQL) and often extend it in subtle ways. 
This means that in general, SQL written to access a SQLite database may not work to access a PostgreSQL database.
Thankfully, most of these differences are on more fringe operations, and standard commands tend to be equivalent.

<h2>SQL in this</span></h2>
The first (and in my opinion, biggest) hurdle in using SQL is accessing the actual data. 
If you are accessing data which someone else is hosting, they will (hopefully) have IT administrators who can assist you with this task. 
The exact method and settings used with differ greatly by project, so we will not be covering it in this>
<li><a href="https://cran.r-project.org/web/packages/DBI/index.html">DBI</a></li>
<li><a href="https://cran.r-project.org/web/packages/RODBC/index.html">RODBC</a></li>
<li><a href="https://cran.r-project.org/web/packages/dbConnect/index.html">dbConnect</a></li>
<li><a href="https://cran.r-project.org/web/packages/RSQLite/index.html">RSQLite</a></li>
<li><a href="https://cran.r-project.org/web/packages/RMySQL/index.html">RMySQL</a></li>
<li><a href="https://cran.r-project.org/web/packages/RPostgreSQL/index.html">RPostgreSQL</a></li>

For these notes, we will cover only the syntax of SQL queries, using the <a href="https://cran.r-project.org/web/packages/sqldf/index.html">sqldf</a> package which enables SQL queries on a <code>data.frame</code>. 
<em>We will not cover connecting to a SQL server, nor modifying an existing database, only extracting the data to analyze in R with normal methods.</em>

<h2>sqldf package</span></h2>
<code>library(sqldf)</code>
The sqldf package is incredibly simple, from R’s point of view. 
There is a single function are concerned about: <code>sqldf</code>. 
Passed to this function is a SQL statement, such as
<code>sqldf('SELECT age, circumference FROM Orange WHERE Tree = 1 ORDER BY circumference ASC')
## Warning: Quoted identifiers should have>
##    age circumference
## 1  118            30
## 2  484            58
## 3  664            87
## 4 1004           115
## 5 1231           120
## 6 1372           142
## 7 1582           145</code>
(Note: The above warning is due to some <a href="https://github.com/rstats-db/RSQLite/issues/196">compatibility issues</a> between sqldf and RSQLite and shouldn’t affect anything.)
<h2>SQL Queries</span></h2>
There are a large number of SQL major commands. 
Queries are accomplished with the <code>SELECT</code> command. 
First a note about convention:
By convention, SQL syntax is written in all UPPER CASE and variable names/database names are written in lower case. 
Technically, the SQL syntax is case insensitive, so it can be written in lower case or otherwise. 
Note however that R is <strong>not</strong> case insensitive, so variable names and data frame names must have proper capitalization. 
Hence
<code>sqldf("SELECT * FROM iris")
sqldf("select * from iris")</code>
are equivalent, but this would fail (assuming you haven’t created a new object called “IRIS”):
<code>sqldf("SELECT * from IRIS")</code>
The basic syntax for SELECT is
<code>SELECT variable1, variable2 FROM data</code>
For example,
<code>data(BOD)
BOD</code>
<code>##   Time demand
## 1    1    8.3
## 2    2   10.3
## 3    3   19.0
## 4    4   16.0
## 5    5   15.6
## 6    7   19.8</code>
<code>sqldf('SELECT demand FROM BOD')</code>
<code>##   demand
## 1    8.3
## 2   10.3
## 3   19.0
## 4   16.0
## 5   15.6
## 6   19.8</code>
<code>sqldf('SELECT Time, demand from BOD')</code>
<code>##   Time demand
## 1    1    8.3
## 2    2   10.3
## 3    3   19.0
## 4    4   16.0
## 5    5   15.6
## 6    7   19.8</code>
A quick sidenote: SQL does not like variables with <code>.</code> in their name. 
If you have any, refer to the variable wrapped in quotes, such as
<code>iris1 &lt;- sqldf('SELECT Petal.Width FROM iris')</code>
<code>## Error in rsqlite_send_query(conn@ptr, statement): no such column: Petal.Width</code>
<code>iris2 &lt;- sqldf('SELECT "Petal.Width" FROM iris')</code>

<h2>Wildcard</span></h2>
A wild card can be passed to extract everything.
<code>bod2 &lt;- sqldf('SELECT * FROM BOD')
bod2</code>
<code>##   Time demand
## 1    1    8.3
## 2    2   10.3
## 3    3   19.0
## 4    4   16.0
## 5    5   15.6
## 6    7   19.8</code>
<h2>LIMIT</span></h2>
To control the number of results returned, use <code>LIMIT #</code>.
<code>sqldf('SELECT * FROM iris LIMIT 5')</code>
<code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa</code>
<h2>ORDER BY</span></h2>
To order variables, use the syntax
<code>ORDER BY var1 {ASC/DESC}, var2 {ASC/DESC}</code>
where the choice of <code>ASC</code> for ascending or <code>DESC</code> for descending is made per variable.
<code>sqldf("SELECT * FROM Orange ORDER BY age ASC, circumference DESC LIMIT 5")</code>
<code>##   Tree age circumference
## 1    2 118            33
## 2    4 118            32
## 3    1 118            30
## 4    3 118            30
## 5    5 118            30</code>
<h2>WHERE</span></h2>
Conditional statements can be added via <code>WHERE</code>:
<code>sqldf('SELECT demand FROM BOD WHERE Time &lt; 3')</code>
<code>##   demand
## 1    8.3
## 2   10.3</code>
Both <code>AND</code> and <code>OR</code> are valid, along with paranthese to affect order of operations.
<code>sqldf('SELECT * FROM rock WHERE (peri > 5000 AND shape &lt; .05) OR perm > 1000')</code>
<code>##   area     peri    shape perm
## 1 5048  941.543 0.328641 1300
## 2 1016  308.642 0.230081 1300
## 3 5605 1145.690 0.464125 1300
## 4 8793 2280.490 0.420477 1300</code>
There are few more complicated ways to use <code>WHERE</code>:

<h2>IN</span></h2>
<code>WHERE IN</code> is used similar to R’s <code>%in%</code>. 
It also supports <code>NOT</code>.
<code>sqldf('SELECT * FROM BOD WHERE Time IN (1,7)')</code>
<code>##   Time demand
## 1    1    8.3
## 2    7   19.8</code>
<code>sqldf('SELECT * FROM BOD WHERE Time NOT IN (1,7)')</code>
<code>##   Time demand
## 1    2   10.3
## 2    3   19.0
## 3    4   16.0
## 4    5   15.6</code>
<h2>LIKE</span></h2>
<code>LIKE</code> can be thought of as a weak regular expression command. 
It only allows the single wildcard <code>%</code> which matches any number of characters. 
For example, to extract the data where the feed ends with “bean”:
<code>sqldf('SELECT * FROM chickwts WHERE feed LIKE "%bean" LIMIT 5')</code>
<code>##   weight      feed
## 1    179 horsebean
## 2    160 horsebean
## 3    136 horsebean
## 4    227 horsebean
## 5    217 horsebean</code>
<code>sqldf('SELECT * FROM chickwts WHERE feed NOT LIKE "%bean" LIMIT 5')</code>
<code>##   weight    feed
## 1    309 linseed
## 2    229 linseed
## 3    181 linseed
## 4    141 linseed
## 5    260 linseed</code>

<h2>Aggregated data</span></h2>
Select statements can create aggregated data using <code>AVG</code>, <code>MEDIAN</code>, <code>MAX</code>, <code>MIN</code>, and <code>SUM</code> as functions in the list of variables to select. 
The <code>GROUP BY</code> statement can be added to aggregate by groups. 
<code>AS</code> can name the
<code>sqldf("SELECT AVG(circumference) FROM Orange")</code>
<code>##   AVG(circumference)
## 1           115.8571</code>
<code>sqldf("SELECT tree, AVG(circumference) AS meancirc FROM Orange GROUP BY tree")</code>
<code>##   Tree  meancirc
## 1    1  99.57143
## 2    2 135.28571
## 3    3  94.00000
## 4    4 139.28571
## 5    5 111.14286</code>

<h2>Counting data</span></h2>
<code>SELECT COUNT()</code> returns the number of observations. 
Passing <code>*</code> or nothing returns total rows, passing a variable name returns the number of non-NA entries. 
<code>AS</code> works as well.
<code>d &lt;- data.frame(a = c(1,1,1), b = c(1,NA,NA))
d</code>
<code>##   a  b
## 1 1  1
## 2 1 NA
## 3 1 NA</code>
<code>sqldf("SELECT COUNT() as numrows FROM d")</code>
<code>##   numrows
## 1       3</code>
<code>sqldf("SELECT COUNT(b) FROM d")</code>
<code>##   COUNT(b)
## 1        1</code>


<h2>Conclusion</span></h2>
This is only the tip of the iceberg which is SQL. 
There are far more advanced commands available, from <code>DELETE</code> or <code>UPDATE</code> to modify a database, to various <code>JOIN</code> commands for merging. 
If the database is large enough that you cannot store the entire dataset on your computer, you may need to learn more commands. 
For some tutorials into more advanced SQL see the following:

<h2>@ symbol</span></h2>
The @ symbol in front of a function silences it. Meaning, you won't get any types of error messages when executing it, even if it fails. So I suggest: don't use it

in addition: dont use mysql_* functions at all since it deprecated

<h2>Storage Sizes for MySQL TEXT Data Types</span></h2>

SQL Server supported data types (Data Types (Transact-SQL) )
large-value data types (VARCHAR(MAX), NVARCHAR(MAX) and VARBINARY(MAX))
store up to 2^31-1 bytes of data.


The <code>LONGTEXT</code> data object is for use in extreme text string storage use cases. 
It is a viable option when the <code>MEDIUMTEXT</code> object is not big enough. 
Computer programs and applications often reach text lengths in the <code>LONGTEXT</code> range. 
These data objects can be as large as 4 GB (expressed as 2^32 -1) and store up to 4,294,967,295 characters with 4 bytes of overhead storage,
<h2>TEXT vs. BLOB</span></h2>
<code>BLOB</code>s are an alternative type of data storage that share matching naming and capacity mechanisms with <code>TEXT</code> objects. 
However, <code>BLOB</code>s are binary strings with no character set sorting, so they are treated as numeric values while <code>TEXT</code> objects are treated as character strings. 
This differentiation is important for sorting information. 
<code>BLOB</code>s are used to store data files like images, videos, and executables.
<h2>Usage Notes</span></h2><li>Using <code>TEXT</code> fields for select and search queries will incur performance hits because the server will call the objects individually and scan them during the query instead of paging data stored in the memory.</li><li>Enabling strict SQL will enforce the maximum character lengths and truncate any entered data that exceeds those limits.</li><li><code>TEXT</code> columns require an index prefix length and can’t have <code>DEFAULT</code> values, unlike <code>CHAR</code> and <code>VARCHAR</code> objects.</li><li>Estimating size by word count: assume average English word is 4.5 letters long and needs 1 extra character for spacing. </li>
Example, a site that consists of 500 word articles would use about 2,750 characters on average for the article text data. 
<code>TINYTEXT</code>’s 255 character capacity is insufficient for this use case, while <code>TEXT</code>’s 65535 character capacity offers storage for articles that hit over 11,900 words based on the average criteria.

<h2>SQL Data Types for MySQL, SQL Server, and MS Access</span></h2>

The data type of a column defines what value the column can hold: 
integer, character, money, date and time, binary, 
and so on.

<h2>SQL Data Types</span></h2>
Each column in a database table is required to have a name and a data type.
An SQL developer must decide what type of data that will be stored inside each 
column when creating a table. 
The data type is a 
guideline for SQL to understand what type of data is expected inside of each 
column, and it also identifies how SQL will interact with the stored data.

<strong>Note:</strong> Data types might have different names in different database.
And even if the name is the same, the size and other details may be different! 
<strong>Always check the 
documentation!</strong>\

<h2>MySQL Data Types (Version 8.0)</span></h2>
In MySQL there are three main data types: string, numeric, and date and time.
<h3>&emsp;String data types:</h3>

<table class="w3-table-all notranslate">
  <tr>
    <th>Data type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>CHAR(size)</td>
    <td>A FIXED length string (can contain letters, numbers, and special characters). 
The
    <em>size</em> parameter specifies the column length in characters - can be 
    from 0 to   255. 
Default is 1</td>
  </tr>
  <tr>
    <td>VARCHAR(size)</td>
    <td>A VARIABLE length string (can contain letters, numbers, and special 
    characters). 
The <em>size</em> parameter specifies the maximum column 
    length in characters - can be from 0 to 65535</td>
  </tr>
  <tr>
    <td>BINARY(size)</td>
    <td>Equal to CHAR(), but stores binary byte strings. 
The <em>size</em> 
    parameter specifies the column length in bytes. 
Default is 1</td>
  </tr>
  <tr>
    <td>VARBINARY(size)</td>
    <td>Equal to VARCHAR(), but stores binary byte strings. 
The <em>size</em> 
    parameter specifies the maximum column length in bytes.</td>
  </tr>
  <tr>
    <td>TINYBLOB</td>
    <td>For BLOBs (Binary Large OBjects). 
Max length: 255 bytes</td>
  </tr>
  <tr>
    <td>TINYTEXT</td>
    <td>Holds a string with a maximum length of 255 characters</td>
  </tr>
  <tr>
    <td>TEXT(size)</td>
    <td>Holds a string with a maximum length of 65,535 bytes</td>
  </tr>
  <tr>
    <td>BLOB(size)</td>
    <td>For BLOBs (Binary Large OBjects). 
Holds up to 65,535 bytes of data</td>
  </tr>
  <tr>
    <td>MEDIUMTEXT</td>
    <td>Holds a string with a maximum length of 16,777,215 characters</td>
  </tr>
  <tr>
    <td>MEDIUMBLOB</td>
    <td>For BLOBs (Binary Large OBjects). 
Holds up to 16,777,215 bytes of data</td>
  </tr>
  <tr>
    <td>LONGTEXT</td>
    <td>Holds a string with a maximum length of 4,294,967,295 characters</td>
  </tr>
  <tr>
    <td>LONGBLOB</td>
    <td>For BLOBs (Binary Large OBjects). 
Holds up to 4,294,967,295 bytes of data</td>
  </tr>
  <tr>
    <td>ENUM(val1, val2, val3, ...)</td>
    <td>A string object that can have only one value, chosen from a list of possible values. 
You can list up to 65535 values in an ENUM list. 
If a value is inserted that is not in the list, a   blank value will be inserted. 

    The values are sorted in the order you enter them</td>
  </tr>
<tr>
    <td>SET(val1, val2, val3, ...)</td>
    <td>A string object that can have 0 or more values, chosen from a list of 
    possible values. 
You can list up to 64 values in a SET list</td>
  </tr>
</table>

<h3>&emsp;Numeric data types:</h3>

<table class="w3-table-all notranslate">
  <tr>
    <th>Data type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>BIT(<em>size</em>)</td>
    <td>A bit-value type. 
The number of bits per value is specified in <em>size</em>. 

    The <em>size</em> parameter can hold a value from 1 to 64. 
The default 
    value for <em>size</em> is 1.</td>
  </tr>
  <tr>
    <td>TINYINT(<em>size</em>)</td>
    <td>A very small integer. 
Signed range is from -128 to 127. 
Unsigned range 
    is from 0 to 255. 
The <em>size</em> parameter specifies the maximum 
    display width (which is 255)</td>
  </tr>
  <tr>
    <td>BOOL</td>
    <td>Zero is considered as false, nonzero values are considered as true. 
</td>
  </tr>
  <tr>
    <td>BOOLEAN</td>
    <td>Equal to BOOL</td>
  </tr>
  <tr>
    <td>SMALLINT(<em>size</em>)</td>
    <td>A small integer. 
Signed range is from -32768 to 32767. 
Unsigned range 
    is from 0 to 65535. 
The <em>size</em> parameter specifies the maximum 
    display width (which is 255)</td>
  </tr>
  <tr>
    <td>MEDIUMINT(<em>size</em>)</td>
    <td>A medium integer. 
Signed range is from -8388608 to 8388607. 
Unsigned 
    range is from 0 to 16777215. 
The <em>size</em> parameter specifies the 
    maximum display width (which is 255)</td>
  </tr>
  <tr>
    <td>INT(<em>size</em>)</td>
    <td>A medium integer. 
Signed range is from -2147483648 to 2147483647. 

    Unsigned range is from 0 to 4294967295. 
The <em>size</em> parameter 
    specifies the maximum display width (which is 255)</td>
  </tr>
  <tr>
    <td>INTEGER(<em>size</em>)</td>
    <td>Equal to INT(size)</td>
  </tr>
  <tr>
    <td>BIGINT(<em>size</em>)</td>
    <td>A large integer. 
Signed range is from -9223372036854775808 to 
    9223372036854775807. 
Unsigned range is from 0 to 18446744073709551615. 
The
    <em>size</em> parameter specifies the maximum display width (which is 255)</td>
  </tr>
  <tr>
    <td>FLOAT(<em>size</em>, <em>d</em>)</td>
    <td>A floating point number. 
The total number of digits is specified in 
    <em>size</em>. 
The   number of digits after the decimal point is specified 
    in the <em>d</em> parameter. 
This syntax is deprecated in MySQL 8.0.17, 
    and it will be removed in future MySQL versions</td>
  </tr>
  <tr>
    <td>FLOAT(<em>p</em>)</td>
    <td>A floating point number. 
MySQL uses the <em>p</em> value to determine 
    whether to use FLOAT or DOUBLE for the resulting data type. 
If <em>p</em> 
    is from 0 to 24, the data type becomes FLOAT(). 
If <em>p</em> is from 25 to 
    53, the data type becomes DOUBLE()</td>
  </tr>
  <tr>
    <td>DOUBLE(<em>size</em>, <em>d</em>)</td>
    <td>A normal-size floating point number. 
The total number of digits is specified in 
    <em>size</em>. 
The   number of digits after the decimal point is specified 
    in the <em>d</em> parameter</td>
  </tr>
  <tr>
    <td>DOUBLE PRECISION(<em>size</em>, <em>d</em>)</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>DECIMAL(<em>size</em>, <em>d</em>)</td>
    <td>An exact fixed-point number. 
The   total number of digits is specified in 
    <em>size</em>. 
The   number of digits after the decimal point is specified 
    in the <em>d</em> parameter. 
The maximum number for <em>size</em> is 65. 

    The maximum number for <em>d</em> is 30. 
The default value for <em>size</em> 
    is 10. 
The default value for <em>d</em> is 0.</td>
  </tr>
  <tr>
    <td>DEC(<em>size</em>, <em>d</em>)</td>
    <td>Equal to DECIMAL(size,d)</td>
  </tr>
  </table>
  
<strong>Note:</strong> All the numeric data types may have an extra option: UNSIGNED 
or ZEROFILL. 
If you add the UNSIGNED option, MySQL disallows negative values for 
the column. 
If you add the ZEROFILL option, MySQL automatically also adds the 
UNSIGNED attribute to the column.

<h3>&emsp;Date and Time data types:</h3>
<table class="w3-table-all notranslate">
  <tr>
    <th>Data type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>DATE</td>
    <td>A date. 
Format: YYYY-MM-DD. 
The supported range is from '1000-01-01' to '9999-12-31'</td>
  </tr>
  <tr>
    <td>DATETIME(<em>fsp</em>)</td>
    <td>A date and time combination. 
Format: YYYY-MM-DD hh:mm:ss. 
The supported range is from '1000-01-01 00:00:00' to '9999-12-31 23:59:59'. 

    Adding DEFAULT and ON UPDATE in the column definition to get automatic 
    initialization and updating to the current date and time</td>
  </tr>
  <tr>
    <td>TIMESTAMP(<em>fsp</em>)</td>
    <td>A timestamp. 
TIMESTAMP values are stored as the number of seconds since the Unix epoch ('1970-01-01 00:00:00' UTC). 
Format: YYYY-MM-DD   
    hh:mm:ss. 
The supported range is from '1970-01-01 00:00:01'   UTC to '2038-01-09 03:14:07' UTC. 

    Automatic initialization and updating to the current date and time can be 
    specified using DEFAULT CURRENT_TIMESTAMP and ON UPDATE CURRENT_TIMESTAMP 
    in the column definition</td>
  </tr>
  <tr>
    <td>TIME(<em>fsp</em>)</td>
    <td>A time. 
Format: hh:mm:ss. 
The supported range is from '-838:59:59' to '838:59:59'</td>
  </tr>
  <tr>
    <td>YEAR</td>
    <td>A year in four-digit format. 
Values allowed in four-digit format: 1901 to 2155, and 0000.<br>
    MySQL 8.0 does not support year in two-digit format.</td>
  </tr>
</table>

<h2>SQL Server Data Types</span></h2>
<h3>&emsp;String data types:</h3>

<table class="w3-table-all notranslate">
  <tr>
    <th>Data type</th>
    <th>Description</th>
    <th>Max size</th>
    <th>Storage</th>
  </tr>
  <tr>
    <td>char(n)</td>
    <td>Fixed width character string</td>
    <td>8,000 characters</td>
    <td>Defined width</td>
  </tr>
  <tr>
    <td>varchar(n)</td>
    <td>Variable width character string</td>
    <td>8,000 characters</td>
    <td>2 bytes + number of chars</td>
  </tr>
  <tr>
    <td>varchar(max)</td>
    <td>Variable width character string</td>
    <td>1,073,741,824 characters</td>
    <td>2 bytes + number of chars</td>
  </tr>
  <tr>
    <td>text</td>
    <td>Variable width character string</td>
    <td>2GB of text data</td>
    <td>4 bytes + number of chars</td>
  </tr>
  <tr>
    <td>nchar</td>
    <td>Fixed width Unicode string</td>
    <td>4,000 characters</td>
    <td>Defined width x 2</td>
  </tr>
  <tr>
    <td>nvarchar</td>
    <td>Variable width Unicode string</td>
    <td>4,000 characters</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>nvarchar(max)</td>
    <td>Variable width Unicode string</td>
    <td>536,870,912 characters</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>ntext</td>
    <td>Variable width Unicode string</td>
    <td>2GB of text data</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>binary(n)</td>
    <td>Fixed width binary string</td>
    <td>8,000 bytes</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>varbinary</td>
    <td>Variable width binary string</td>
    <td>8,000 bytes</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>varbinary(max)</td>
    <td>Variable width binary string</td>
    <td>2GB</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>image</td>
    <td>Variable width binary string</td>
    <td>2GB</td>
    <td>&nbsp;</td>
  </tr>
</table>

<h3>&emsp;Numeric data types:</h3>

<table class="w3-table-all notranslate">
  <tr>
    <th style="width:20%">Data type</th>
    <th>Description</th>
    <th style="width:10%">Storage</th>
  </tr>
  <tr>
    <td>bit</td>
    <td>Integer that can be 0, 1, or NULL</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>tinyint</td>
    <td>Allows whole numbers from 0 to 255</td>
    <td>1 byte</td>
  </tr>
  <tr>
    <td>smallint</td>
    <td>Allows whole numbers between -32,768 and 32,767</td>
    <td>2 bytes</td>
  </tr>
  <tr>
    <td>int</td>
    <td>Allows whole numbers between -2,147,483,648 and 2,147,483,647 </td>
    <td>4 bytes</td>
  </tr>
  <tr>
    <td>bigint</td>
    <td>Allows whole numbers between -9,223,372,036,854,775,808 and   9,223,372,036,854,775,807 </td>
    <td>8 bytes</td>
  </tr>
  <tr>
    <td>decimal(p,s)</td>
    <td>Fixed precision and scale numbers.
    Allows numbers from -10^38 +1 to 10^38 –1.
The p parameter indicates the maximum total number of digits that can  be stored (both to the left and to the right of the decimal point). 
p  must be a value from 1 to 38. 
Default is 18.
The s parameter indicates the maximum number of digits stored to the  right of the decimal point. 
s must be a value from 0 to p. 
Default value  is 0\</td>
    <td>5-17 bytes</td>
  </tr>
  <tr>
    <td>numeric(p,s)</td>
    <td>Fixed precision and scale numbers.
    Allows numbers from -10^38 +1 to 10^38 –1.
The p parameter indicates the maximum total number of digits that can  be stored (both to the left and to the right of the decimal point). 
p  must be a value from 1 to 38. 
Default is 18.
The s parameter indicates the maximum number of digits stored to the  right of the decimal point. 
s must be a value from 0 to p. 
Default value  is 0\</td>
    <td>5-17 bytes</td>
  </tr>
  <tr>
    <td>smallmoney</td>
    <td>Monetary data from -214,748.3648 to 214,748.3647 </td>
    <td>4 bytes</td>
  </tr>
  <tr>
    <td>money</td>
    <td>Monetary data from -922,337,203,685,477.5808 to   922,337,203,685,477.5807</td>
    <td>8 bytes</td>
  </tr>
  <tr>
    <td>float(n)</td>
    <td>Floating precision number data from -1.79E + 308 to 1.79E + 308.The   n parameter indicates whether the field should hold 4 or 8 bytes. 
float(24) holds a 4-byte field and float(53) holds an 8-byte field. 
Default value of n is 53.</td>
    <td>4 or 8 bytes</td>
  </tr>
  <tr>
    <td>real</td>
    <td>Floating precision number data from -3.40E + 38 to 3.40E + 38</td>
    <td>4 bytes</td>
  </tr>
</table>

<h3>&emsp;Date and Time data types:</h3>

<table class="w3-table-all notranslate">
  <tr>
    <th style="width:20%">Data type</th>
    <th>Description</th>
    <th style="width:10%">Storage</th>
  </tr>
  <tr>
    <td>datetime</td>
    <td>From January 1, 1753 to December 31, 9999 with an accuracy of 3.33   milliseconds</td>
    <td>8 bytes</td>
  </tr>
  <tr>
    <td>datetime2</td>
    <td>From January 1, 0001 to December 31, 9999 with an accuracy of 100   nanoseconds</td>
    <td>6-8 bytes</td>
  </tr>
  <tr>
    <td>smalldatetime</td>
    <td>From January 1, 1900 to June 6, 2079 with an accuracy of 1 minute</td>
    <td>4 bytes</td>
  </tr>
  <tr>
    <td>date</td>
    <td>Store a date only. 
From January 1, 0001 to December 31, 9999</td>
    <td>3 bytes</td>
  </tr>
  <tr>
    <td>time</td>
    <td>Store a time only to an accuracy of 100 nanoseconds</td>
    <td>3-5 bytes</td>
  </tr>
  <tr>
    <td>datetimeoffset</td>
    <td>The same as datetime2 with the addition of a time zone offset</td>
    <td>8-10 bytes</td>
  </tr>
  <tr>
    <td>timestamp</td>
    <td>Stores a unique number that gets updated every time a row gets created   or modified. 
The timestamp value is based upon an internal clock and does   not correspond to real time. 
Each table may have only one timestamp   variable</td>
    <td>&nbsp;</td>
  </tr>
</table>

<h3>&emsp;Other data types:</h3>
<table class="w3-table-all notranslate">
  <tr>
    <th style="width:20%">Data type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>sql_variant</td>
    <td>Stores up to 8,000 bytes of data of various data types, except text,   ntext, and timestamp</td>
  </tr>
  <tr>
    <td>uniqueidentifier</td>
    <td>Stores a globally unique identifier (GUID)</td>
  </tr>
  <tr>
    <td>xml</td>
    <td>Stores XML formatted data. 
Maximum 2GB</td>
  </tr>
  <tr>
    <td>cursor</td>
    <td>Stores a reference to a cursor used for database operations</td>
  </tr>
  <tr>
    <td>table</td>
    <td>Stores a result-set for later processing</td>
  </tr>
</table>
<h2>Microsoft Access Data Types</span></h2>

<table class="w3-table-all notranslate">
  <tr>
    <th style="width:20%">Data type</th>
    <th>Description</th>
    <th style="width:10%">Storage</th>
  </tr>
  <tr>
    <td>Text</td>
    <td>Use for text or combinations of text and numbers. 
255 characters maximum</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>Memo</td>
    <td>Memo is used for larger amounts of text. 
Stores up to 65,536 characters. 
<b>Note:</b> You cannot sort a memo field. 
However, they are   searchable</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>Byte</td>
    <td>Allows whole numbers from 0 to 255</td>
    <td>1 byte</td>
  </tr>
  <tr>
    <td>Integer</td>
    <td>Allows whole numbers between -32,768 and 32,767</td>
    <td>2 bytes</td>
  </tr>
  <tr>
    <td>Long</td>
    <td>Allows whole numbers between -2,147,483,648 and 2,147,483,647</td>
    <td>4 bytes</td>
  </tr>
  <tr>
    <td>Single</td>
    <td>Single precision floating-point. 
Will handle most decimals </td>
    <td>4 bytes</td>
  </tr>
  <tr>
    <td>Double</td>
    <td>Double precision floating-point. 
Will handle most decimals</td>
    <td>8 bytes</td>
  </tr>
  <tr>
    <td>Currency</td>
    <td>Use for currency. 
Holds up to 15 digits of whole dollars, plus 4 decimal places. 
<b>Tip:</b> You can choose which country's currency to use</td>
    <td>8 bytes</td>
  </tr>
  <tr>
    <td>AutoNumber</td>
    <td>AutoNumber fields automatically give each record its own number, usually starting at 1</td>
    <td>4 bytes</td>
  </tr>
  <tr>
    <td>Date/Time</td>
    <td>Use for dates and times</td>
    <td>8 bytes</td>
  </tr>
  <tr>
    <td>Yes/No</td>
    <td>A logical field can be displayed as Yes/No, True/False, or On/Off. 
In code, use the constants True and False (equivalent to -1 and 0). 
<b>Note:</b>   Null values are not allowed in Yes/No fields</td>
    <td>1 bit</td>
  </tr>
  <tr>
    <td>Ole Object</td>
    <td>Can store pictures, audio, video, or other BLOBs (Binary Large OBjects)</td>
    <td>up to 1GB</td>
  </tr>
  <tr>
    <td>Hyperlink</td>
    <td>Contain links to other files, including web pages</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>Lookup Wizard</td>
    <td>Let you type a list of options, which can then be chosen from a drop-down list</td>
    <td>4 bytes</td>
  </tr>
</table>

<h2>reset autoincrement id</span></h2>
Alter table syntax provides a way to reset autoincrement column.
ALTER TABLE table_name AUTO_INCREMENT = 1;

<h2>MySQL Regular expressions (Regexp)</span></h2>
SQL pattern matching enables you to use _ to match any single character and % to match an arbitrary number of characters (including zero characters). 
In MySQL, SQL patterns are case-insensitive by default. 
Some examples are shown here. 
Do not use = or <> when you use SQL patterns. 
Use the LIKE or NOT LIKE comparison operators instead.

To find names beginning with b:

mysql> SELECT * FROM pet WHERE name LIKE 'b%';

 name    owner   species  sex   birth       death     
 Buffy   Harold  dog      f     1989-05-13  NULL      
 Bowser  Diane   dog      m     1989-08-31  1995-07-29
To find names ending with fy:

mysql> SELECT * FROM pet WHERE name LIKE '%fy';

 name    owner   species  sex   birth       death
 Fluffy  Harold  cat      f     1993-02-04  NULL 
 Buffy   Harold  dog      f     1989-05-13  NULL 
To find names containing a w:

mysql> SELECT * FROM pet WHERE name LIKE '%w%';

 name      owner  species  sex   birth       death     
 Claws     Gwen   cat      m     1994-03-17  NULL      
 Bowser    Diane  dog      m     1989-08-31  1995-07-29
 Whistler  Gwen   bird     NULL  1997-12-09  NULL      

To find names containing exactly five characters, use five instances of the _ pattern character:

mysql> SELECT * FROM pet WHERE name LIKE '_____';
 name   owner   species  sex   birth       death
 Claws  Gwen    cat      m     1994-03-17  NULL 
 Buffy  Harold  dog      f     1989-05-13  NULL 

The other type of pattern matching provided by MySQL uses extended regular expressions. 
When you test for a match for this type of pattern, use the REGEXP_LIKE() function (or the REGEXP or RLIKE operators, which are synonyms for REGEXP_LIKE()).

The following list describes some characteristics of extended regular expressions:

. matches any single character.

A character class [...] matches any character within the brackets. 
For example, [abc] matches a, b, or c. 
To name a range of characters, use a dash. 
[a-z] matches any letter, whereas [0-9] matches any digit.

* matches zero or more instances of the thing preceding it. 
For example, x* matches any number of x characters, [0-9]* matches any number of digits, and .* matches any number of anything.

A regular expression pattern match succeeds if the pattern matches anywhere in the value being tested. 
(This differs from a LIKE pattern match, which succeeds only if the pattern matches the entire value.)

To anchor a pattern so that it must match the beginning or end of the value being tested, use ^ at the beginning or $ at the end of the pattern.

To demonstrate how extended regular expressions work, the LIKE queries shown previously are rewritten here to use REGEXP_LIKE().

To find names beginning with b, use ^ to match the beginning of the name:

mysql> SELECT * FROM pet WHERE REGEXP_LIKE(name, '^b');
 name    owner   species  sex   birth       death     
 Buffy   Harold  dog      f     1989-05-13  NULL      
 Bowser  Diane   dog      m     1979-08-31  1995-07-29
To force a regular expression comparison to be case sensitive, use a case-sensitive collation, or use the BINARY keyword to make one of the strings a binary string, or specify the c match-control character. 
Each of these queries matches only lowercase b at the beginning of a name:

SELECT * FROM pet WHERE REGEXP_LIKE(name, '^b' COLLATE utf8mb4_0900_as_cs);
SELECT * FROM pet WHERE REGEXP_LIKE(name, BINARY '^b');
SELECT * FROM pet WHERE REGEXP_LIKE(name, '^b', 'c');
To find names ending with fy, use $ to match the end of the name:

mysql> SELECT * FROM pet WHERE REGEXP_LIKE(name, 'fy$');
 name    owner   species  sex   birth       death
 Fluffy  Harold  cat      f     1993-02-04  NULL 
 Buffy   Harold  dog      f     1989-05-13  NULL 
To find names containing a w, use this query:

mysql> SELECT * FROM pet WHERE REGEXP_LIKE(name, 'w');
 name      owner  species  sex   birth       death     
 Claws     Gwen   cat      m     1994-03-17  NULL      
 Bowser    Diane  dog      m     1989-08-31  1995-07-29
 Whistler  Gwen   bird     NULL  1997-12-09  NULL      
Because a regular expression pattern matches if it occurs anywhere in the value, it is not necessary in the previous query to put a wildcard on either side of the pattern to get it to match the entire value as would be true with an SQL pattern.

To find names containing exactly five characters, use ^ and $ to match the beginning and end of the name, and five instances of . 
in between:

mysql> SELECT * FROM pet WHERE REGEXP_LIKE(name, '^.....$');
 name   owner   species  sex   birth       death
 Claws  Gwen    cat      m     1994-03-17  NULL 
 Buffy  Harold  dog      f     1989-05-13  NULL 
You could also write the previous query using the {n} (“repeat-n-times”) operator:


mysql> SELECT * FROM pet WHERE REGEXP_LIKE(name, '^.{5}$');
 name   owner   species  sex   birth       death
 Claws  Gwen    cat      m     1994-03-17  NULL 
 Buffy  Harold  dog      f     1989-05-13  NULL 

MySQL supports another type of pattern matching operation based on the regular expressions and the REGEXP operator.

REGEXP is the operator used when performing regular expression pattern matches. 

RLIKE is the synonym.

The backslash is used as an escape character. 
It’s only considered in the pattern match if double backslashes have used.
Not case sensitive.

PATTERN	WHAT THE PATTERN MATCHES
*	Zero or more instances of string preceding it
+	One or more instances of strings preceding it
.	Any single character
?	Match zero or one instances of the strings preceding it.
^	caret(^) matches Beginning of string
$	End of string
[abc]	Any character listed between the square brackets
[^abc]	Any character not listed between the square brackets
[A-Z]	match any upper case letter.
[a-z]	match any lower case letter
[0-9]	match any digit from 0 through to 9.
[[:&lt;:]]	matches the beginning of words.
[[:>:]]	matches the end of words.
[:class:]	matches a character class i.e. 
[:alpha:] to match letters, [:space:] to match white space, [:punct:] is match punctuations and [:upper:] for upper class letters.
p1|p2|p3	Alternation; matches any of the patterns p1, p2, or p3
{n}	n instances of preceding element
{m,n}	m through n instances of preceding element

Examples with explanation :

Match beginning of string(^):
Gives all the names starting with ‘sa’.Example- sam,samarth.

SELECT name FROM student_tbl WHERE name REGEXP '^sa';

Match the end of a string($):
Gives all the names ending with ‘on’.Example – norton,merton.
SELECT name FROM student_tbl WHERE name REGEXP 'on$';

Match zero or one instance of the strings preceding it(?):
Gives all the titles containing ‘com’.Example – comedy , romantic comedy.
SELECT title FROM movies_tbl WHERE title REGEXP 'com?'; 

matches any of the patterns p1, p2, or p3(p1|p2|p3):
Gives all the names containing ‘be’ or ‘ae’.Example – Abel, Baer.
SELECT name FROM student_tbl WHERE name REGEXP 'be|ae' ;

Matches any character listed between the square brackets([abc]):
Gives all the names containing ‘j’ or ‘z’.Example – Lorentz, Rajs.
SELECT name FROM student_tbl WHERE name REGEXP '[jz]' ;

Matches any lower case letter between ‘a’ to ‘z’- ([a-z]) ([a-z] and (.)):
Retrieve all names that contain a letter in the range of ‘b’ and ‘g’, followed by any character, followed by the letter ‘a’.Example – Tobias, sewall.

Matches any single character(.)

SELECT name FROM student_tbl WHERE name REGEXP '[b-g].[a]' ;

Matches any character not listed between the square brackets.([^abc]):
Gives all the names not containing ‘j’ or ‘z’. 
Example – nerton, sewall.
SELECT name FROM student_tbl WHERE name REGEXP '[^jz]' ;

Matches the end of words[[:>:]]:
Gives all the titles ending with character “ack”. 
Example – Black.
SELECT title FROM movies_tbl WHERE REGEXP 'ack[[:>:]]'; 

Matches the beginning of words[[:&lt;:]]:
Gives all the titles starting with character “for”. 
Example – Forgetting Sarah Marshal.
SELECT title FROM movies_tbl WHERE title REGEXP '[[:&lt;:]]for'; 

Matches a character class[:class:]:
i.e [:lower:]- lowercase character ,[:digit:] – digit characters etc.
Gives all the titles containing alphabetic character only. 
Example – stranger things, Avengers.
SELECT title FROM movies_tbl WHERE REGEXP '[:alpha:]' ;


<h2><span class="blue">SQL Server Sample Database</span></span></h2>
The following illustrates the BikeStores database diagram:

<img class="lazy" data-src="https://www.sqlservertutorial.net/wp-content/uploads/SQL-Server-Sample-Database.png">

As you can see from the diagram, the BikeStores sample database has two schemas sales and production, and these schemas have nine tables.
<h3>&emsp;<span class="blue">Database Tables</span></h3><h3>&emsp;Table sales.stores</h3>
The <code>sales.stores</code> table includes the store's information. Each store has a store name, contact information such as phone and email, and an address including street, city, state, and zip code.

<code>CREATE TABLE sales.stores (
	store_id INT IDENTITY (1, 1) PRIMARY KEY,
	store_name VARCHAR (255) NOT NULL,
	phone VARCHAR (25),
	email VARCHAR (255),
	street VARCHAR (255),
	city VARCHAR (255),
	state VARCHAR (10),
	zip_code VARCHAR (5)
);</code>
Code language: SQL (Structured Query Language) (sql)
<h3>&emsp;Table sales.staffs</h3>
The  <code>sales.staffs</code> table stores the essential information of staffs including first name, last name. It also contains the communication information such as email and phone.

A staff works at a store specified by the value in the <code>store_id</code> column. A store can have one or more staffs.

A staff reports to a store manager specified by the value in the <code>manager_id</code> column. If the value in the manager_id is null, then the staff is the top manager.

If a staff no longer works for any stores, the value in the active column is set to zero.
<code>CREATE TABLE sales.staffs (
	staff_id INT IDENTITY (1, 1) PRIMARY KEY,
	first_name VARCHAR (50) NOT NULL,
	last_name VARCHAR (50) NOT NULL,
	email VARCHAR (255) NOT NULL UNIQUE,
	phone VARCHAR (25),
	active tinyint NOT NULL,
	store_id INT NOT NULL,
	manager_id INT,
	FOREIGN KEY (store_id) 
        REFERENCES sales.stores (store_id) 
        ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (manager_id) 
        REFERENCES sales.staffs (staff_id) 
        ON DELETE NO ACTION ON UPDATE NO ACTION
);</code>
Code language: SQL (Structured Query Language) (sql)
<h3>&emsp;Table production.categories</h3>
The <code>production.categories</code> table stores the bike's categories such as children bicycles, comfort bicycles, and electric bikes.
<code>CREATE TABLE production.categories (
	category_id INT IDENTITY (1, 1) PRIMARY KEY,
	category_name VARCHAR (255) NOT NULL
);</code>
Code language: SQL (Structured Query Language) (sql)
<h3>&emsp;Table production.brands</h3>
The  <code>production.brands</code> table stores the brand's information of bikes, for example, Electra, Haro, and Heller.
<code>CREATE TABLE production.brands (
	brand_id INT IDENTITY (1, 1) PRIMARY KEY,
	brand_name VARCHAR (255) NOT NULL
);</code>
Code language: SQL (Structured Query Language) (sql)
<h3>&emsp;Table production.products</h3>
The <code>production.products</code> table stores the product's information such as name, brand, category, model year, and list price.

Each product belongs to a brand specified by the <code>brand_id</code> column. Hence, a brand may have zero or many products.

Each product also belongs a category specified by the <code>category_id</code> column. Also, each category may have zero or many products.
<code>CREATE TABLE production.products (
	product_id INT IDENTITY (1, 1) PRIMARY KEY,
	product_name VARCHAR (255) NOT NULL,
	brand_id INT NOT NULL,
	category_id INT NOT NULL,
	model_year SMALLINT NOT NULL,
	list_price DECIMAL (10, 2) NOT NULL,
	FOREIGN KEY (category_id) 
        REFERENCES production.categories (category_id) 
        ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (brand_id) 
        REFERENCES production.brands (brand_id) 
        ON DELETE CASCADE ON UPDATE CASCADE
);</code>
Code language: SQL (Structured Query Language) (sql)
<h3>&emsp;Table sales.customers</h3>
The  <code>sales.customers</code> table stores customer's information including first name, last name, phone, email, street, city, state and zip code.
<code>CREATE TABLE sales.customers (
	customer_id INT IDENTITY (1, 1) PRIMARY KEY,
	first_name VARCHAR (255) NOT NULL,
	last_name VARCHAR (255) NOT NULL,
	phone VARCHAR (25),
	email VARCHAR (255) NOT NULL,
	street VARCHAR (255),
	city VARCHAR (50),
	state VARCHAR (25),
	zip_code VARCHAR (5)
);</code>
Code language: SQL (Structured Query Language) (sql)
<h3>&emsp;Table sales.orders</h3>
The <code>sales.orders</code> table stores the sales order's header information including customer, order status, order date, required date, shipped date.

It also stores the information on where the sales transaction was created (store) and who created it (staff).

Each sales order has a row in the sales_orders table. A sales order has one or many line items stored in the <code>sales.order_items</code> table.
<code>CREATE TABLE sales.orders (
	order_id INT IDENTITY (1, 1) PRIMARY KEY,
	customer_id INT,
	order_status tinyint NOT NULL,
	-- Order status: 1 = Pending; 2 = Processing; 3 = Rejected; 4 = Completed
	order_date DATE NOT NULL,
	required_date DATE NOT NULL,
	shipped_date DATE,
	store_id INT NOT NULL,
	staff_id INT NOT NULL,
	FOREIGN KEY (customer_id) 
        REFERENCES sales.customers (customer_id) 
        ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (store_id) 
        REFERENCES sales.stores (store_id) 
        ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (staff_id) 
        REFERENCES sales.staffs (staff_id) 
        ON DELETE NO ACTION ON UPDATE NO ACTION
);</code>
Code language: SQL (Structured Query Language) (sql)
<h3>&emsp;Table sales.order_items</h3>
The <code>sales.order_items</code> table stores the line items of a sales order. Each line item belongs to a sales order specified by the <code>order_id</code> column.

A sales order line item includes product, order quantity, list price, and discount.
<code>CREATE TABLE sales.order_items(
	order_id INT,
	item_id INT,
	product_id INT NOT NULL,
	quantity INT NOT NULL,
	list_price DECIMAL (10, 2) NOT NULL,
	discount DECIMAL (4, 2) NOT NULL DEFAULT 0,
	PRIMARY KEY (order_id, item_id),
	FOREIGN KEY (order_id) 
        REFERENCES sales.orders (order_id) 
        ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (product_id) 
        REFERENCES production.products (product_id) 
        ON DELETE CASCADE ON UPDATE CASCADE
);</code>
Code language: SQL (Structured Query Language) (sql)
<h3>&emsp;Table production.stocks</h3>
The <code>production.stocks</code> table stores the inventory information i.e. the quantity of a particular product in a specific store.
<code>CREATE TABLE production.stocks (
	store_id INT,
	product_id INT,
	quantity INT,
	PRIMARY KEY (store_id, product_id),
	FOREIGN KEY (store_id) 
        REFERENCES sales.stores (store_id) 
        ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (product_id) 
        REFERENCES production.products (product_id) 
        ON DELETE CASCADE ON UPDATE CASCADE
);</code>
Code language: SQL (Structured Query Language) (sql)

Click the following link to download the sample database script:

<a href="https://www.sqlservertutorial.net/wp-content/uploads/SQL-Server-Sample-Database.zip">Download SQL Server Sample Database</a>

Now, you should be familiar with the BikeStores sample database and ready to load it into the SQL Server.

<h2>SQL examples: SQL SELECT statement usage</span></h2>
SQLSELECT statements are used to retrieve data from the database and also, they populate the result of the query into the result-sets. 
The SQL examples of this article discourse and explain the fundamental usage of the <strong>SELECT</strong> statement in the queries. 
<a href="https://en.wikipedia.org/wiki/SQL"> SQL (Structured Query Language)</a> queries can be used to select, update and delete data from the database. 
If anyone desires to learn SQL, to learn the <strong>SELECT</strong> statements can be the best starting point. 
On the other hand, we can use <strong>T-SQL</strong> query language particularly for SQL Server databases and it is a proprietary extension form of the SQL. 
<h3>&emsp;SELECT statement overview</h3>

The most basic form of the SQL <strong>SELECT</strong> statement must be include <strong>SELECT</strong>, <strong>FROM</strong> clauses. 
In addition, if we want to filter the result set of the query, we should use the <strong>WHERE</strong> clause.

SELECT column1, column2 FROM table 

The above query template specifies a very basic SQL <strong>SELECT</strong> statement. 
As you can see, column names are placed after the <strong>SELECT </strong>clause and these columns are separated with a comma sign with <strong>(,)</strong>. 
After the <strong>FROM</strong> clause, we add the table name in which we want to populate the data into the result set. 
In addition, the following query template illustrates the usage of the <strong>WHERE</strong> clause in the <strong>SELECT</strong> query.

SELECT column1, column2 FROM table WHERE column1='value'

With the <strong>WHERE</strong> clause, we can filter the result set of the select statement. 
Filtering patterns are used after the <strong>WHERE</strong> clause. 
Now, we will make some SQL examples of the SQL <strong>SELECT</strong> statement and reinforce these theoretical notions.

<h3>&emsp;Basic SQL examples: Your first step into a SELECT statement</h3>

Assume that, we have a fruits table which likes the below and includes the following rows;

<strong>ID</strong>

<strong>Fruit_Name</strong>

<strong>Fruit_Color</strong>
1 Banana Yellow
2 Apple Red
3 Lemon Yellow
4 Strawberry Red
5 Watermelon Green
6 Lime Green

We want to get all data of the <strong>Fruit_Name</strong> from the <strong>Fruits</strong> table. 
In this case, we must write a SQL <strong>SELECT</strong> statement which looks like the below.SQL Server database engine processes this query and then returns the result-set of the query.

SELECT Fruit_Name FROM Fruits

<img src="https://www.sqlshack.com/wp-content/uploads/2019/05/sql-select-statement-result-set.png" />
As you can see, the query returns only <strong>Fruit_Name</strong> column data. 
Now, we will practice other SQL examples which are related to the <strong>SELECT</strong> statement. 
In this example first example, we will retrieve all columns of the table. 
If we want to return all columns of the table, we can use a <strong>(*) asterisk</strong> sign instead of writing whole columns of the table. 
Through the following query, we can return all columns of the table.

SELECT * FROM Fruits

<img src="https://www.sqlshack.com/wp-content/uploads/2019/05/sql-examples-which-is-using-asterisk-wildcard-.png" />
At the same time, to retrieve all columns, we can do this by writing them all separately. 
However, this will be a very cumbersome operation. 
SELECT ID,Fruit_Name ,Fruit_Color FROM Fruits

<img src="https://www.sqlshack.com/wp-content/uploads/2019/05/sql-select-statement-multiple-columns-result-set.png" />
<h3>&emsp;SQL examples: How to filter a SELECT statement</h3>

In this section, we will take a glance at simple clause usage of the <strong>WHERE </strong>clause. 
If we want to filter the result set of the SQL <strong>SELECT</strong> statement, we have to use the <strong>WHERE</strong> clause. 
For example, we want to filter the fruits whose colors are red. 
In order to filter results of the query, at first we add the column name which we want to filter and then specify the filtering condition. 
In the below SQL example, we will filter the red fruits of the <strong>Fruits</strong> table.

SELECT * FROM Fruits WHERE Fruit_Color='Red'

<img src="https://www.sqlshack.com/wp-content/uploads/2019/05/sql-select-example-which-is-using-equal-opera.png" />

As you can see that, the result set only includes the red fruits data. 
However, in this example, we filter the exact values of the columns with (<strong>=</strong>) equal operator. 
In some circumstances, we want to compare the similarity of the filtered condition. 
<strong>LIKE</strong> clause and <strong>(%) </strong>percent sign operator combination helps us to overcome these type of issues. 
For example, we can filter the fruits who start with the letter “L” character. 
The following query will apply a filter to <strong>Fruit_Name</strong> and this filter enables to retrieve fruits who start with “L” chracter.

SELECT * FROM Fruits WHERE Fruit_Name LIKE 'L%'

  
<img src="https://www.sqlshack.com/wp-content/uploads/2019/05/filtering-sql-select-statement-with-like-clause-wi.png" alt="Filtering SQL SELECT statement with LIKE clause with single '%' percentage sign. 
" /><noscript><img style="margin: 0px auto; display: block;" src="https://www.sqlshack.com/wp-content/uploads/2019/05/filtering-sql-select-statement-with-like-clause-wi.png" alt="Filtering SQL SELECT statement with LIKE clause with single '%' percentage sign. 
" /></noscript>

At the same time, we can apply <strong>(%) </strong>percentage<strong> </strong>operator at any place or multiple times to thw filter pattern. 
In the following example, we will filter the fruits name which includes ‘n’ chracter.

SELECT * FROM Fruits WHERE Fruit_Name LIKE '%n%'

<img src="https://www.sqlshack.com/wp-content/uploads/2019/05/filtering-select-statement-with-like-clause-with-m.png" alt="Filtering SELECT statement with LIKE clause with multiple '%' percentage sign. 
" /><noscript><img style="margin: 0px auto; display: block;" src="https://www.sqlshack.com/wp-content/uploads/2019/05/filtering-select-statement-with-like-clause-with-m.png" alt="Filtering SELECT statement with LIKE clause with multiple '%' percentage sign. 
" /></noscript>

Another commonly used operator is (<strong>_</strong>)<strong> </strong>the underscore operator. 
This operator represents any character in the filter pattern. 
Assume that, we want to apply a filter to the fruit names which meet the following criterias:

<ul>
<li>
 The first character of the fruit name could be any character
</li>
<li>
 The second character of the fruit name must be ‘a’
</li>
<li>
 The remaining part of the fruit name can contain any character
</li>
</ul>

The following SQL example will meet all criteria. 
SELECT * FROM Fruits WHERE Fruit_Name LIKE '_a%'

<img src="https://www.sqlshack.com/wp-content/uploads/2019/05/filtering-select-statement-with-like-clause-with.png" alt="Filtering SELECT statement with LIKE clause with '_' underscore sign. 
" /><noscript><img style="margin: 0px auto; display: block;" src="https://www.sqlshack.com/wp-content/uploads/2019/05/filtering-select-statement-with-like-clause-with.png" alt="Filtering SELECT statement with LIKE clause with '_' underscore sign. 
" /></noscript>

<h3>&emsp;SQL examples: SELECT TOP statement</h3>

The<strong> SELECT TOP</strong> statement is used to limit the number of rows which returns the result of the query. 
For example, if want to retrieve only two rows from the table we can use the following query. 
Therefore, we can limit the result set of the query. 
In the following SQL examples, we will limit the result set of the query. 
Normally, the result of the query without <strong>TOP</strong> operator can returns much more rows but we force to limit returning row numbers of the query with <strong>TOP</strong> clause.

SELECT TOP (2) * FROM Fruits
<img src="https://www.sqlshack.com/wp-content/uploads/2019/05/sql-examples-which-is-using-top-clause-.png" />
At the same time, we can limit the result set of the SQL SELECT statement with a percent value. 
Such as, the following query returns only %60 percentage of result set. 
SELECT TOP (60) PERCENT * FROM Fruits

<img src="https://www.sqlshack.com/wp-content/uploads/2019/05/sql-examples-which-is-using-top-percent-combinati.png" />
As you can see we added <strong>PERCENT</strong> expression to <strong>TOP</strong> operator and limit the result set of the query.

<h2><span class="blue">SQL Sample Code Examples</span></span></h2>
<div id="sqltoc" class="toc"><a href="#sqltopic-0" target="_self">Overview</a><br><a href="#sqltopic-1" target="_self">Sample Tables</a><br><a href="#sqltopic-2" target="_self">Retrieving Data Using a DataReader</a><br><a href="#sqltopic-3" target="_self">Using a Local Transaction</a><br><a href="#sqltopic-4" target="_self">Using the Distributed Transaction</a><br><a href="#sqltopic-5" target="_self">Using the CommandBuilder</a><br><a href="#sqltopic-6" target="_self">Updating Data in a DataSet</a><br><a href="#sqltopic-7" target="_self">Calling a Stored Procedure for SQL Server</a><br><a href="#sqltopic-8" target="_self">Retrieving a Scalar Value</a><br><a href="#sqltopic-9" target="_self">Retrieving Warning Information</a><br><a href="#sqltopic-10" target="_self"><span class="blue">The Best SQL Examples</span></a><br><a href="#sqltopic-11" target="_self">Basic SQL Syntax Example</a><br><a href="#sqltopic-12" target="_self">What we will cover</a><br><a href="#sqltopic-13" target="_self">How to use this</a><br><a href="#sqltopic-14" target="_self">Select and From clauses</a><br><a href="#sqltopic-15" target="_self">Where Clause (and / or, IN, Between and LIKE)</a><br><a href="#sqltopic-16" target="_self">Order By (ASC, DESC)</a><br><a href="#sqltopic-17" target="_self">Group By and Having</a><br></div></center>
<br><br>
<pre>
<h3 id="sqltopic-0">&emsp;Overview</h3>
Make sure to include the "<em>using</em>" directive for <em>System.Data </em>and<em> DDTek.SQLServer</em> in your project:
<code>using System.Data;
using DDTek.SQLServer;</code>
<h3 id="sqltopic-1">&emsp;Sample Tables</h3>
Many of the samples in this product brief use the emp and dept tables. 
You can create the tables using an ISQL script, or by using the data provider.
<h5>Creating the sample tables using an ISQL script</h5>
The following script can be run in ISQL. 
See the Microsoft SQL Server documentation for details.
<code>CREATE TABLE emp (
empno INT PRIMARY KEY,
ename VARCHAR(10),
job VARCHAR(9),
mgr INT NULL,
hiredate DATETIME,
sal NUMERIC(7,2),
comm NUMERIC(7,2) NULL,
dept INT)
begin
insert into emp values
    (1,'JOHNSON','ADMIN',6,'12-17-1990',18000,NULL,4)
insert into emp values
    (2,'HARDING','MANAGER',9,'02-02-1998',52000,300,3)
insert into emp values
    (3,'TAFT','SALES I',2,'01-02-1996',25000,500,3)
insert into emp values
    (4,'HOOVER','SALES I',2,'04-02-1990',27000,NULL,3)
insert into emp values
    (5,'LINCOLN','TECH',6,'06-23-1994',22500,1400,4)
insert into emp values
    (6,'GARFIELD','MANAGER',9,'05-01-1993',54000,NULL,4)
insert into emp values
    (7,'POLK','TECH',6,'09-22-1997',25000,NULL,4)
insert into emp values
    (8,'GRANT','ENGINEER',10,'03-30-1997',32000,NULL,2)
insert into emp values
    (9,'JACKSON','CEO',NULL,'01-01-1990',75000,NULL,4)
insert into emp values
    (10,'FILLMORE','MANAGER',9,'08-09-1994',56000,NULL,2)
insert into emp values
    (11,'ADAMS','ENGINEER',10,'03-15-1996',34000,NULL,2)
insert into emp values
    (12,'WASHINGTON','ADMIN',6,'04-16-1998',18000,NULL,4)
insert into emp values
    (13,'MONROE','ENGINEER',10,'12-03-2000',30000,NULL,2)
insert into emp values
    (14,'ROOSEVELT','CPA',9,'10-12-1995',35000,NULL,1)
end
CREATE TABLE dept (
deptno INT NOT NULL,
dname VARCHAR(14),
loc VARCHAR(13))
begin
insert into dept values (1,'ACCOUNTING','ST LOUIS')
insert into dept values (2,'RESEARCH','NEW YORK')
insert into dept values (3,'SALES','ATLANTA')
insert into dept values (4, 'OPERATIONS','SEATTLE')
end</code>
 
<h5>Creating the sample tables using the data provider</h5>
The sample tables used in this Product Brief can be created with the data provider, as shown in the following code example:<br>
<code>SQLServerConnection Conn;
Conn = new SQLServerConnection("host=nc-star;port=1433;
User ID=test01;Password=test01; Database Name=Test");
try
{ Conn.Open(); }
catch (SQLServerException ex)
{ // Connection failed
Console.WriteLine(ex.Message);
return; }
string[] DropTableSQL = {"drop table emp", "drop table dept"};
for (int x=0; x&lt;=1; x++)
{ try
{ // Drop the tables, don't care if they don't exist
SQLServerCommand DBCmd = new SQLServerCommand(DropTableSQL[x], Conn);
DBCmd.ExecuteNonQuery(); }
catch (SQLServerException ex)
{ }
// Create the tables
string CreateEmpTableSQL = "CREATE TABLE emp
(empno INT PRIMARY KEY NOT NULL,"
+"ename VARCHAR(10) NOT NULL,"
+"job VARCHAR(9) NOT NULL,"
+"mgr INT,"
+"hiredate DATETIME NOT NULL,"
+"sal NUMERIC(7,2) NOT NULL,"
+"comm NUMERIC(7,2),"
+"dept INT NOT NULL)";
string CreateDeptTableSQL = "CREATE TABLE dept ("
+"deptno INT NOT NULL,"
+"dname VARCHAR(14),"
+"loc VARCHAR(13))";
try
{ SQLServerCommand DBCmd = new SQLServerCommand(CreateEmpTableSQL, Conn);
DBCmd.ExecuteNonQuery();
DBCmd.CommandText = CreateDeptTableSQL;
DBCmd.ExecuteNonQuery(); }
catch (Exception ex)
{ //Create tables failed
Console.WriteLine (ex.Message);
return; }
// Now insert the records
string[] InsertEmpRecordsSQL = {      "insert into emp values
        (1,'JOHNSON','ADMIN',6,'12-17-1990',18000,NULL,4)",
     "insert into emp values
        (2,'HARDING','MANAGER',9,'02-02-1998',52000,300,3)",
     "insert into emp values
        (3,'TAFT','SALES I',2,'01-02-1996',25000,500,3)",
     "insert into emp values
        (4,'HOOVER','SALES I',2,'04-02-1990',27000,NULL,3)",
     "insert into emp values
        (5,'LINCOLN','TECH',6,'06-23-1994',22500,1400,4)",
     "insert into emp values
        (6,'GARFIELD','MANAGER',9,'05-01-1993',54000,NULL,4)",
     "insert into emp values
        (7,'POLK','TECH',6,'09-22-1997',25000,NULL,4)",
     "insert into emp values
        (8,'GRANT','ENGINEER',10,'03-30-1997',32000,NULL,2)",
     "insert into emp values
        (9,'JACKSON','CEO',NULL,'01-01-1990',75000,NULL,4)",
"insert into emp values
    (10,'FILLMORE','MANAGER',9,'08-09-1994',56000, NULL,2)",
     "insert into emp values
        (11,'ADAMS','ENGINEER',10,'03-15-1996',34000, NULL,2)",
     "insert into emp values
        (12,'WASHINGTON','ADMIN',6,'04-16-1998',18000,NULL,4)",
     "insert into emp values
        (13,'MONROE','ENGINEER',10,'12-03-2000',30000,NULL,2)",
     "insert into emp values
        (14,'ROOSEVELT','CPA',9,'10-12-1995',35000,NULL,1)"};
string[] InsertDeptRecordsSQL = {      "insert into dept values (1,'ACCOUNTING','ST LOUIS')",
     "insert into dept values (2,'RESEARCH','NEW YORK')",
     "insert into dept values (3,'SALES','ATLANTA')",
     "insert into dept values (4, 'OPERATIONS','SEATTLE')"};
// Insert dept table records first
for (int x = 0; x&lt;InsertDeptRecordsSQL.Length; x++)
{ try
{ SQLServerCommand DBCmd =
    new SQLServerCommand(InsertDeptRecordsSQL[x], Conn);
DBCmd.ExecuteNonQuery(); }
catch (Exception ex)
{ Console.WriteLine (ex.Message);
return; } }
// Now the emp table records
for (int x = 0; x&lt;InsertEmpRecordsSQL.Length; x++)
{ try
{ SQLServerCommand DBCmd =
    new SQLServerCommand(InsertEmpRecordsSQL[x], Conn);
DBCmd.ExecuteNonQuery(); }
catch (Exception ex)
{ Console.WriteLine (ex.Message);
return; } }
Console.WriteLine ("Tables created Successfully!");
// Close the connection
Conn.Close();</code>
<h3 id="sqltopic-2">&emsp;Retrieving Data Using a DataReader</h3>
The DataReader provides the fastest but least flexible way to retrieve data from the database. 
Data is returned as a read-only, forward-only stream of data that is returned one record at a time. 
If you need to retrieve many records rapidly, using a DataReader would require fewer resources than using a DataSet, which would need large amounts of memory to hold the results.
<em>In the following code example, you execute a simple query on a Microsoft SQL Server database and read the results using a DataReader. 
This example uses the emp table.</em>
<code>Open connection to SQL Server database
SQLServerConnection Conn;
try
{ Conn = new SQLServerConnection("host=nc-star;port=1433;
User ID=test01;Password=test01; Database Name=Test");
Conn.Open();
Console.WriteLine ("Connection successful!"); }
catch (Exception ex)
{ // Connection failed
Console.WriteLine(ex.Message);
return; }
try
{ // Create a SQL command
string strSQL = "SELECT ename FROM emp WHERE sal>50000";
SQLServerCommand DBCmd = new SQLServerCommand(strSQL, Conn);
SQLServerDataReader myDataReader;
myDataReader = DBCmd.ExecuteReader();
while (myDataReader.Read())
{ Console.WriteLine("High salaries: " + myDataReader["ename"].ToString()); }
myDataReader.Close();
// Close the connection
Conn.Close(); }
catch (Exception ex)
{ Console.WriteLine(ex.Message);
return; }</code>
 
<h3 id="sqltopic-3">&emsp;Using a Local Transaction</h3>
<em>The following code example uses the emp table to show how to use a local transaction:</em>
<code>SQLServerConnection Conn;
Conn = new SQLServerConnection("host=nc-star;port=1433; User ID=test01;
Password=test01;Database Name=Test");
try
{ Conn.Open();
Console.WriteLine ("Connection successful!"); }
catch (Exception ex)
{ // Connection failed
Console.WriteLine(ex.Message);
return; }
SQLServerCommand DBCmd = new SQLServerCommand();
SQLServerTransaction DBTxn = null;
try
{ DBTxn = Conn.BeginTransaction();
// Set the Connection property of the Command object
DBCmd.Connection = Conn;
// Set the text of the Command to the INSERT statement
DBCmd.CommandText = "insert into emp VALUES
(16,'HAYES','ADMIN',6,'17-APR-2002',18000,NULL,4)";
// Set the transaction property of the Command object
DBCmd.Transaction = DBTxn;
// Execute the statement with ExecuteNonQuery, because we are not
// returning results
DBCmd.ExecuteNonQuery();
// Now commit the transaction
DBTxn.Commit();
// Display any exceptions
Console.WriteLine ("Transaction Committed!"); }
catch (Exception ex)
{ // Display any exceptions
Console.WriteLine (ex.Message);
// If anything failed after the connection was opened, roll back the
// transaction
if (DBTxn != null)
{ DBTxn.Rollback(); } }
// Close the connection
Conn.Close();</code>
 
<h3 id="sqltopic-4">&emsp;Using the Distributed Transaction</h3>
The following code shows how to use a distributed transaction across two connections to two different Microsoft SQL Server servers. 
The example uses the emp table.
<strong>NOTES:</strong>
When you use distributed transactions, you must add System.EnterpriseServices to the Solution Reference list. 
In addition, the application must be strongly named.
To do this:
<ol>
<li>Open a command window and go to the application directory. 
Then, run the following command:<br>
<br>
<code>sn –k SolutionName.snk</code>
</li>
<li>Delete the AssemblyInfo.cs file from the Solution.</li>
<li>Microsoft Distributed Transaction Coordinator must be running on all clients and servers.</li>
</ol>
<code>using System;
using System.EnterpriseServices;
using System.Reflection;
using DDTek.SQLServer;
[assembly: ApplicationName("yourapplicationname")]
[assembly: AssemblyKeyFileAttribute(@"..\..\yourapplicationname.snk")]
namespace DistTransaction
{ /// &lt;summary>
/// Summary description for Class1.
/// &lt;/summary>
public class Class1
{ /// &lt;summary>
/// The main entry point for the application.
/// &lt;/summary>
[STAThread]
static void Main(string[] args)
{ SQLServerConnection Conn1;
Conn1 = new SQLServerConnection("host=nc-star;port=1433;
User ID=test01;Password=test01;
Database Name=Test;Enlist=true");
SQLServerConnection Conn2;
Conn2 = new SQLServerConnection("host=nc-star;port=1433;
User ID=test07;Password= test07;
Database Name=test;Enlist=true");
try
{ DistributedTran myDistributedTran = new DistributedTran();
myDistributedTran.TestDistributedTransaction(Conn1, Conn2);
Console.WriteLine("Success!!"); }
catch (Exception e)
{ System.Console.WriteLine("Error returned: " + e.Message); } } }
/// &lt;summary>
/// To use distributed transactions in .NET, we need a ServicedComponent
/// derived class with transaction attribute declared as "Required".
/// &lt;/summary>
[Transaction(TransactionOption.Required) ]
public class DistributedTran : ServicedComponent
{ /// &lt;summary>
/// This method executes two SQL statements.
/// If both are successful, both are committed by DTC after the
/// method finishes. 
However, if an exception is thrown, both will be
/// rolled back by DTC.
/// &lt;/summary>
[AutoComplete]
public void TestDistributedTransaction(SQLServerConnection Conn1,
SQLServerConnection Conn2)
{ // The following Insert statement goes to the first server, orca.
// This Insert statement does not produce any errors.
string DBCmdSql1 = "Insert into emp VALUES
(16,'HAYES','ADMIN',6,'17-NOV-2002',18000,
NULL,4)";
string DBCmdSql2 = "Delete from emp WHERE sal > 100000";
try
{ Conn1.Open();
Conn2.Open();
Console.WriteLine ("Connection successful!"); }
catch (Exception ex)
{ // Connection failed
Console.WriteLine(ex.Message);
return; }
SQLServerCommand DBCmd1 = new SQLServerCommand(DBCmdSql1, Conn1);
SQLServerCommand DBCmd2 = new SQLServerCommand(DBCmdSql2, Conn2);
DBCmd1.ExecuteNonQuery();
DBCmd2.ExecuteNonQuery();
Conn1.Close();
Conn2.Close();
Console.WriteLine("Success!! "); } } }</code>
<br>
<h3 id="sqltopic-5">&emsp;Using the CommandBuilder</h3>
A CommandBuilder object can be used to generate the Insert, Update, and Delete statements for a DataAdapter.
<em>The following code example uses the emp sample table with the CommandBuilder to update a DataSet:</em>
<code>SQLServerConnection Conn;
Conn = new SQLServerConnection("host=nc-star; port=4100;User ID=test01;
Password=test01;Database Name=Test ");
try
{ Conn.Open();
Console.WriteLine ("Connection successful!"); }
catch (Exception ex)
{ // Connection failed
Console.WriteLine(ex.Message);
return; }
SQLServerDataAdapter myDataAdapter = new SQLServerDataAdapter();
SQLServerCommand DBCmd = new SQLServerCommand("select * from emp",Conn);
myDataAdapter.SelectCommand = DBCmd;
// Set up the CommandBuilder
SQLServerCommandBuilder CommBuild =
    new SQLServerCommandBuilder(myDataAdapter);
DataSet myDataSet = new DataSet();
try
{ myDataAdapter.Fill(myDataSet);
// Now change the salary of the first employee
DataRow myRow;
myRow = myDataSet.Tables["Table"].Rows[0];
myRow["sal"] = 95000;
// Tell the DataAdapter to resync with the SQL Server server.
// Without the CommandBuilder, this line would fail.
myDataAdapter.Update(myDataSet);
Console.WriteLine ("Update with CommandBuilder Successful!"); }
catch (Exception ex)
{ // Display any exceptions
Console.WriteLine (ex.Message); }
// Close the connection
Conn.Close();</code>
 
<h3 id="sqltopic-6">&emsp;Updating Data in a DataSet</h3>
When updating a row at the data source, the DataSet uses the SQL provided in UpdateCommand of the Data Adapter. 
The Update statement can use parameters that contain the unique identifier, such as the primary key, and the columns to be updated, as shown in the following example:
<code>[C#]
string updateSQL As String = "UPDATE emp SET sal = ?, job = ? + 
= WHERE empno = ?;</code>
<br>
The parameterized query statements define the parameters that will be created. 
Refer to the
<em>DataDirect Connect for ADO.NET User's Guide and Reference </em>for more information about using parameters with the SQL Server data provider.
The following code example shows how to provide an UpdateCommand to a DataAdapter for use in synchronizing changes made to a DataSet with the actual data on the SQL Server server, using data from the emp table. 
The example uses the Parameters.Add method to create the parameters for the Update statement, fills a DataSet, programmatically makes changes to the DataSet, then synchronizes the changes back to the database.
<code>SQLServerConnection Conn =
new SQLServerConnection("host=nc-star;port=4100;User ID=test01;
        Password=test01;Database Name=Test");
try
{ string selectText = "select sal, job, empno from emp";
string updateText = "update emp set sal = ?, job = ? where empno = ?";
SQLServerDataAdapter adapter = new SQLServerDataAdapter(selectText, Conn);
SQLServerCommand updateCommand = new SQLServerCommand(updateText, Conn);
adapter.UpdateCommand = updateCommand;
updateCommand.Parameters.Add("@sal", SQLServerDbType.Int, 15, "SAL");
updateCommand.Parameters.Add("@job", SQLServerDbType.VarChar, 9, "JOB");
updateCommand.Parameters.Add("@empno", SQLServerDbType.Int, 15, "empno");
DataSet myDataSet = new DataSet("emp");
adapter.Fill(myDataSet, "emp");
// Give employee number 11 a promotion and a raise
DataRow changeRow = myDataSet.Tables["emp"].Rows[11];
changeRow["sal"] = "35000";
changeRow["job"] = "MANAGER";
// Send back to database
adapter.Update(myDataSet, "emp");
myDataSet.Dispose(); }
catch (Exception ex)
{ // Display any exceptions
Console.WriteLine (ex.Message); }
Console.WriteLine("DataSet Updated Successfully!");
// Close the connection
Conn.Close();</code>
 
<h3 id="sqltopic-7">&emsp;Calling a Stored Procedure for SQL Server</h3>
You call stored procedures using a Command object. 
When you issue a command on a stored procedure, you must set the CommandType of the Command object to StoredProcedure, or use the ODBC/JDBC escape syntax. 
For information on using the ODBC/JDBC escape syntax with the data provider, refer to the the DataDirect Connect <em>for </em>ADO.NET User's Guide.
The following code shows how to execute a stored procedure on a SQL Server database and read the results using a DataReader. 
The sample data is in the emp table.
<h5>Creating the stored procedure</h5>
First, execute the following code to create the stored procedure:
<code>// Open connection to SQL Server database
SQLServerConnection Conn;
Conn = new SQLServerConnection("host=nc-star;port=4100;User ID=test01;
Password=test01;Database Name=Test");
try
{ Conn.Open();
Console.WriteLine ("Connection successful!"); }
catch (Exception ex)
{ // Connection failed
Console.WriteLine(ex.Message);
return; }
string spCreate = "CREATE PROCEDURE GetEmpSalary(@empno int,@sal
numeric(7,2) output)AS SELECT @sal = sal from emp where empno = @empno";
try
{ SQLServerCommand DBCmd=new SQLServerCommand(spCreate, Conn);
DBCmd.ExecuteNonQuery(); }
catch (Exception ex)
{ //Create procedure failed
Console.WriteLine (ex.Message);
return; }
Console.WriteLine ("Procedure Created Successfully!");</code>
 
<h5>Executing the stored procedure</h5>
Now, use the following code example to execute the GetEmpSalary stored procedure:
<code>// Open connection to SQL Server database
SQLServerConnection Conn;
try
{ Conn = new SQLServerConnection("host=nc-star;port=4100;User ID=test01;
Password=test01;Database Name=Test");
Conn.Open();
Console.WriteLine ("Connection successful!"); }
catch (Exception ex)
{ // Connection failed
Console.WriteLine(ex.Message);
return; }
// Make a command object for the stored procedure
// You must set the CommandType of the Command object
// to StoredProcedure
SQLServerCommand DBCmd = new SQLServerCommand("GetEmpSalary",Conn);
DBCmd.CommandType = CommandType.StoredProcedure;
// The stored procedure expects one input and one output parameter
// Define the parameters for the stored procedure
// We don't need to specify the direction of the parameter, since the
default is INPUT
DBCmd.Parameters.Add("@empno", SQLServerDbType.Int, 10).Value = 5;
// Output parameter
DBCmd.Parameters.Add("@sal", SQLServerDbType.Numeric, 10).Direction =
ParameterDirection.Output;
SQLServerDataReader myDataReader;
try
{ myDataReader = DBCmd.ExecuteReader();
myDataReader.Close(); }
catch (Exception ex)
{ // Display any exceptions
Console.WriteLine (ex.Message); }
Console.WriteLine("Procedure Executed Successfully!");
// Close the connection
Conn.Close();</code>
 
<h3 id="sqltopic-8">&emsp;Retrieving a Scalar Value</h3>
You can use the ExecuteScalar method of the Command object to return a single value, such as a sum or a count, from the database. 
The ExecuteScalar method returns the value of the first column of the first row of the result set. 
If you know the result set has only one row and one column, you can use this method to speed up retrieval of the value.
<em>The following code example retrieves the number of employees who make more than $50000. 
This example uses the emp table.</em>
<code>// Open connection to SQL Server database
SQLServerConnection Conn;
Conn = new SQLServerConnection("host=nc-star;port=4100;User ID=test01;
Password=test01;Database Name=Test");
try
{ Conn.Open();
Console.WriteLine ("Connection successful!"); }
catch (Exception ex)
{ // Connection failed
Console.WriteLine(ex.Message);
return; }
// Make a command object
SQLServerCommand salCmd = new SQLServerCommand("select count(sal) from emp
where sal>50000",Conn);
try
{ int count = (int)salCmd.ExecuteScalar();
Console.WriteLine("Count of Salaries >$50,000 : "
+ Convert.ToString(count)); }
catch (Exception ex)
{ // Display any exceptions
Console.WriteLine(ex.Message); }
// Close the connection
Conn.Close();</code>
 
<h3 id="sqltopic-9">&emsp;Retrieving Warning Information</h3>
The data provider handles database server warnings through the InfoMessage delegates on the Connection objects.
The following example shows how to retrieve a warning generated by a Microsoft SQL Server server: 
<code>// Define an event handler
public void myHandler(object sender, SQLServerInfoMessageEventArgs e)
{ // Display any warnings
Console.WriteLine ("Warning Returned: " + e.Message);</code>
<em>Add the following code to a method and call it:</em> 
<code>// Define an event handler
public void myHandler(object sender, SQLServerInfoMessageEventArgs e)
{ // Display any warnings
Console.WriteLine ("Warning Returned: " + e.Message); }
Add the following code to a method and call it:
SQLServerConnection Conn;
Conn = new SQLServerConnection("host=nc-star;port=4100;User ID=test01;
Password=test01;Database Name=Test");
SQLServerCommand DBCmd = new SQLServerCommand
("print 'This is a Warning.'",Conn);
SQLServerDataReader myDataReader;
try
{ Conn.InfoMessage += new SQLServerInfoMessageEventHandler(myHandler);
Conn.Open();
myDataReader = DBCmd.ExecuteReader();
// This will throw a SQLServerInfoMessageEvent as the print
// statement generates a warning. }
catch (Exception ex)
{ // Display any exceptions in a messagebox
MessageBox.Show (ex.Message); }
// Close the connection
Conn.Close();</code>

<h3 id="sqltopic-10">&emsp;<span class="blue">The Best SQL Examples</span></h3>
<h3 id="sqltopic-11">&emsp;Basic SQL Syntax Example</h3>This guide provides a basic, high level description of the syntax for SQL statements.SQL is an international standard (ISO), but you will find many differences between implementations. 
This guide uses MySQL as an example. 

If you use one of the many other Relational Database Managers (DBMS) you’ll need to check the manual for that DBMS if needed.<h4 id="sqltopic-12">What we will cover</h4>
Use (sets what database the statement will use)
Select and From clauses
Where Clause (and / or, IN, Between, LIKE)
Order By (ASC, DESC)
Group by and Having

<h4 id="sqltopic-13">How to use this</h4>This is used to select the database containing the tables for your SQL statements:
<code>use fcc_sql_guides_database; -- select the guide sample database
</code><h4 id="sqltopic-14">Select and From clauses</h4>The Select part is normally used to determine which columns of the data you want to show in the results. 
There are also options you can use to show data that is not a table column.This example shows two columns selected from the “student” table, and two calculated columns. 

The first of the calculated columns is a meaningless number, and the other is the system date.
<code>	select studentID, FullName, 3+2 as five, now() as currentDate
from student;
</code><img src="https://freecodecamp.s3.amazonaws.com/guide-sql-images/syntax01.JPG">
<strong><strong>syntax01.JPG767×241</strong></strong><h4 id="sqltopic-15">Where Clause (and / or, IN, Between and LIKE)</h4>The WHERE clause is used to limit the number of rows returned.In this case all five of these will be used is a somewhat ridiculous Where clause.Compare this result to the above SQL statement to follow this logic.Rows will be presented that:
Have Student IDs between 1 and 5 (inclusive)
or studentID = 8
or have “Maxmimo” in the name

The following example is similar, but it further specifies that if any of the students have certain SAT scores (1000, 1400), they will not be presented:
<code>    select studentID, FullName, sat_score, recordUpdated

from student
where (
studentID between 1 and 5
or studentID = 8
or FullName like '%Maximo%'
)
and sat_score NOT in (1000, 1400);
</code><img src="https://freecodecamp.s3.amazonaws.com/guide-sql-images/syntax02.JPG">
<h4 id="sqltopic-16">Order By (ASC, DESC)</h4>Order By gives us a way to sort the result set by one or more of the items in the SELECT section. 
Here is the same list as above, but sorted by the students Full Name. 

The default sort order is ascending (ASC), but to sort in the opposite order (descending) you use DESC, as in the example below:
<code>    select studentID, FullName, sat_score
from student
where (studentID between 1 and 5 -- inclusive
or studentID = 8
or FullName like '%Maximo%')
and sat_score NOT in (1000, 1400)
order by FullName DESC;
</code><img src="https://freecodecamp.s3.amazonaws.com/guide-sql-images/syntax03.JPG">
<h4 id="sqltopic-17">Group By and Having</h4>Group By gives us a way to combine rows and aggregate data. 
The Having clause is like the above Where clause, except that it acts on the grouped data.This data is from the campaign contributions data we’ve been using in some of these guides.This SQL statement answers the question: “which candidates recieved the largest number of contributions (not $ amount, but count (*)) in 2016, but only those who had more than 80 contributions?”Ordering this data set in a descending (DESC) order places the candidates with the largest number of contributions at the top of the list.
<code>    select Candidate, Election_year, sum(Total_$), count(*)
from combined_party_data
where Election_year = 2016
group by Candidate, Election_year
having count(*) > 80
order by count(*) DESC;
</code><img src="https://freecodecamp.s3.amazonaws.com/guide-sql-images/syntax04.JPG">
As with all of these SQL things there is MUCH MORE to them than what’s in this introductory guide. 

I hope this at least gives you enough to get started. 
Please see the manual for your database manager and have fun trying different options yourself.
</pre>

<h2>Learn SQL</span></h2>
Setup
First drop your existing database that was created in the tutorial. 
`DROP DATABASE record_company;`

Copy the code inside the [schema.sql](schema.sql) file, paste it into MySQL Workbench, and run it. 

CREATE DATABASE record_company;
USE record_company;

CREATE TABLE bands (
  id INT NOT NULL AUTO_INCREMENT,
  name VARCHAR(255) NOT NULL,
  PRIMARY KEY (id)
);

CREATE TABLE albums (
  id INT NOT NULL AUTO_INCREMENT,
  name VARCHAR(255) NOT NULL,
  release_year INT,
  band_id INT NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (band_id) REFERENCES bands(id)
);

<h2>1. Create a Songs Table</span></h2>

This table should be called `songs` and have four properties with these exact names.
1. 
`id`: An integer that is the primary key, and auto increments.
2. 
`name`: A string that cannot be null.
3. 
`length`: A float that represents the length of the song in minutes that cannot be null.
4. 
`album_id`: An integer that is a foreign key referencing the albums table that cannot be null.

After successfully creating the table copy the code from [data.sql](data.sql   see end of file) into MySQL Workbench, and run it to populate all of the data for the rest of the exercises. 
If you do not encounter any errors, then your answer is most likely correct.

Solution:
CREATE TABLE songs (
  id INT NOT NULL AUTO_INCREMENT,
  name VARCHAR(255) NOT NULL,
  length FLOAT NOT NULL,
  album_id INT NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (album_id) REFERENCES albums(id)
);

<h2>2. Select only the Names of all the Bands</span></h2>

Change the name of the column the data returns to `Band Name`

| Band Name         | 
|-------------------| 
| Seventh Wonder    | 
| Metallica         | 
| The Ocean         | 
| Within Temptation | 
| Death             | 
| Van Canto         | 
| Dream Theater     | 

Solution:
SELECT bands.name AS 'Band Name'
FROM bands;

<h2>3. Select the Oldest Album</span></h2>

Make sure to only return one result from this query, and that you are not returning any albums that do not have a release year.

| id | name                   | release_year | band_id | 
|----|------------------------|--------------|---------| 
| 5  | ...And Justice for All | 1988         | 2       | 

Solution:
SELECT * FROM albums
WHERE release_year IS NOT NULL
ORDER BY release_year
LIMIT 1;

<h2>4. Get all Bands that have Albums</span></h2>

There are multiple different ways to solve this problem, but they will all involve a join.

Return the band name as `Band Name`.

| Band Name         | 
|-------------------| 
| Seventh Wonder    | 
| Metallica         | 
| The Ocean         | 
| Within Temptation | 
| Death             | 
| Van Canto         | 

Solution:
/* This assummes all bands have a unique name */
SELECT DISTINCT bands.name AS 'Band Name'
FROM bands
JOIN albums ON bands.id = albums.band_id;

/* If bands do not have a unique name then use this query */
/* 
  SELECT bands.name AS 'Band Name'
  FROM bands
  JOIN albums ON bands.id = albums.band_id
  GROUP BY albums.band_id
  HAVING COUNT(albums.id) > 0;
*/

<h2>5. Get all Bands that have No Albums</span></h2>

This is very similar to #4 but will require more than just a join.

Return the band name as `Band Name`.

| Band Name     | 
|---------------| 
| Dream Theater | 

Solution:
SELECT bands.name AS 'Band Name'
FROM bands
LEFT JOIN albums ON bands.id = albums.band_id
GROUP BY albums.band_id
HAVING COUNT(albums.id) = 0;

<h2>6. Get the Longest Album</span></h2>

This problem sounds a lot like #3 but the solution is quite a bit different. 
I would recommend looking up the SUM aggregate function.

Return the album name as `Name`, the album release year as `Release Year`, and the album length as `Duration`.

| Name           | Release Year | Duration          | 
|----------------|--------------|-------------------| 
| Death Magnetic | 2008         | 74.76666593551636 | 

Solution:
SELECT
  albums.name as Name,
  albums.release_year as 'Release Year',
  SUM(songs.length) as 'Duration'
FROM albums
JOIN songs on albums.id = songs.album_id
GROUP BY songs.album_id
ORDER BY Duration DESC
LIMIT 1;

<h2>7. Update the Release Year of the Album with no Release Year</span></h2>

Set the release year to 1986.

You may run into an error if you try to update the release year by using `release_year IS NULL` in the WHERE statement of your UPDATE. 
This is because MySQL Workbench by default will not let you update a table that has a primary key without using the primary key in the UPDATE statement. 
This is a good thing since you almost never want to update rows without using the primary key, so to get around this error make sure to use the primary key of the row you want to update in the WHERE of the UPDATE statement.

Solution:
/* This is the query used to get the id */
/*
  SELECT * FROM albums where release_year IS NULL;
*/

UPDATE albums
SET release_year = 1986
WHERE id = 4;

<h2>8. Insert a record for your favorite Band and one of their </span></h2>Albums

If you performed this correctly you should be able to now see that band and album in your tables.

Solution:
INSERT INTO bands (name)
VALUES ('Favorite Band Name');

/* This is the query used to get the band id of the band just added */
/*
  SELECT id FROM bands
  ORDER BY id DESC LIMIT 1;
*/

INSERT INTO albums (name, release_year, band_id)
VALUES ('Favorite Album Name', 2000, 8);

<h2>9. Delete the Band and Album you added in #8</span></h2>

The order of how you delete the records is important since album has a foreign key to band.

Solution:
/* This is the query used to get the album id of the album added in #8 */
/*
  SELECT id FROM albums
  ORDER BY id DESC LIMIT 1;
*/

DELETE FROM albums
WHERE id = 19;

/* This is the query used to get the band id of the band added in #8 */
/*
  SELECT id FROM bands
  ORDER BY id DESC LIMIT 1;
*/

DELETE FROM bands
WHERE id = 8;

<h2>10. Get the Average Length of all Songs</span></h2>

Return the average length as `Average Song Duration`.

| Average Song Duration | 
|-----------------------| 
| 5.352472513259112     | 

Solution:
SELECT AVG(length) as 'Average Song Duration'
FROM songs;

<h2>11. Select the longest Song off each Album</span></h2>

Return the album name as `Album`, the album release year as `Release Year`, and the longest song length as `Duration`.

| Album                       | Release Year | Duration | 
|-----------------------------|--------------|----------| 
| Tiara                       | 2018         | 9.5      | 
| The Great Escape            | 2010         | 30.2333  | 
| Mercy Falls                 | 2008         | 9.48333  | 
| Master of Puppets           | 1986         | 8.58333  | 
| ...And Justice for All      | 1988         | 9.81667  | 
| Death Magnetic              | 2008         | 9.96667  | 
| Heliocentric                | 2010         | 7.48333  | 
| Pelagial                    | 2013         | 9.28333  | 
| Anthropocentric             | 2010         | 9.4      | 
| Resist                      | 2018         | 5.85     | 
| The Unforgiving             | 2011         | 5.66667  | 
| Enter                       | 1997         | 7.25     | 
| The Sound of Perseverance   | 1998         | 8.43333  | 
| Individual Thought Patterns | 1993         | 4.81667  | 
| Human                       | 1991         | 4.65     | 
| A Storm to Come             | 2006         | 5.21667  | 
| Break the Silence           | 2011         | 6.15     | 
| Tribe of Force              | 2010         | 8.38333  | 

Solution:
SELECT
  albums.name AS 'Album',
  albums.release_year AS 'Release Year',
  MAX(songs.length) AS 'Duration'
FROM albums
JOIN songs ON albums.id = songs.album_id
GROUP BY songs.album_id;

<h2>12. Get the number of Songs for each Band</span></h2>

This is one of the toughest question on the list. 
It will require you to chain together two joins instead of just one.

Return the band name as `Band`, the number of songs as `Number of Songs`.

| Band              | Number of Songs | 
|-------------------|-----------------| 
| Seventh Wonder    | 35              | 
| Metallica         | 27              | 
| The Ocean         | 31              | 
| Within Temptation | 30              | 
| Death             | 27              | 
| Van Canto         | 32              | 

Solution:
SELECT
  bands.name AS 'Band',
  COUNT(songs.id) AS 'Number of Songs'
FROM bands
JOIN albums ON bands.id = albums.band_id
JOIN songs ON albums.id = songs.album_id
GROUP BY albums.band_id;

<h2>data.sql</span></h2>
INSERT INTO bands(id,name) VALUES (1,'Seventh Wonder');
INSERT INTO bands(id,name) VALUES (2,'Metallica');
INSERT INTO bands(id,name) VALUES (3,'The Ocean');
INSERT INTO bands(id,name) VALUES (4,'Within Temptation');
INSERT INTO bands(id,name) VALUES (5,'Death');
INSERT INTO bands(id,name) VALUES (6,'Van Canto');
INSERT INTO bands(id,name) VALUES (7,'Dream Theater');

INSERT INTO albums(id,name,release_year,band_id) VALUES (1,'Tiara',2018,1);
INSERT INTO albums(id,name,release_year,band_id) VALUES (2,'The Great Escape',2010,1);
INSERT INTO albums(id,name,release_year,band_id) VALUES (3,'Mercy Falls',2008,1);
INSERT INTO albums(id,name,release_year,band_id) VALUES (4,'Master of Puppets',NULL,2);
INSERT INTO albums(id,name,release_year,band_id) VALUES (5,'...And Justice for All',1988,2);
INSERT INTO albums(id,name,release_year,band_id) VALUES (6,'Death Magnetic',2008,2);
INSERT INTO albums(id,name,release_year,band_id) VALUES (7,'Heliocentric',2010,3);
INSERT INTO albums(id,name,release_year,band_id) VALUES (8,'Pelagial',2013,3);
INSERT INTO albums(id,name,release_year,band_id) VALUES (9,'Anthropocentric',2010,3);
INSERT INTO albums(id,name,release_year,band_id) VALUES (10,'Resist',2018,4);
INSERT INTO albums(id,name,release_year,band_id) VALUES (11,'The Unforgiving',2011,4);
INSERT INTO albums(id,name,release_year,band_id) VALUES (12,'Enter',1997,4);
INSERT INTO albums(id,name,release_year,band_id) VALUES (13,'The Sound of Perseverance',1998,5);
INSERT INTO albums(id,name,release_year,band_id) VALUES (14,'Individual Thought Patterns',1993,5);
INSERT INTO albums(id,name,release_year,band_id) VALUES (15,'Human',1991,5);
INSERT INTO albums(id,name,release_year,band_id) VALUES (16,'A Storm to Come',2006,6);
INSERT INTO albums(id,name,release_year,band_id) VALUES (17,'Break the Silence',2011,6);
INSERT INTO albums(id,name,release_year,band_id) VALUES (18,'Tribe of Force',2010,6);

INSERT INTO songs(id,name,length,album_id) VALUES (1,'Arrival',1+(30/60),1);
INSERT INTO songs(id,name,length,album_id) VALUES (2,'The Everones',6+(13/60),1);
INSERT INTO songs(id,name,length,album_id) VALUES (3,'Dream Machines',5+(38/60),1);
INSERT INTO songs(id,name,length,album_id) VALUES (4,'Against the Grain',6+(58/60),1);
INSERT INTO songs(id,name,length,album_id) VALUES (5,'Victorious',4+(55/60),1);
INSERT INTO songs(id,name,length,album_id) VALUES (6,'Tiara''s Song (Farewell Pt. 1)',7+(16/60),1);
INSERT INTO songs(id,name,length,album_id) VALUES (7,'Goodnight (Farewell Pt. 2)',7+(10/60),1);
INSERT INTO songs(id,name,length,album_id) VALUES (8,'Beyond Today (Farewell Pt. 3)',5+(06/60),1);
INSERT INTO songs(id,name,length,album_id) VALUES (9,'The Truth',4+(17/60),1);
INSERT INTO songs(id,name,length,album_id) VALUES (10,'By the Light of the Funeral Pyres',3+(54/60),1);
INSERT INTO songs(id,name,length,album_id) VALUES (11,'Damnation Below',6+(44/60),1);
INSERT INTO songs(id,name,length,album_id) VALUES (12,'Procession',0+(45/60),1);
INSERT INTO songs(id,name,length,album_id) VALUES (13,'Exhale',9+(30/60),1);
INSERT INTO songs(id,name,length,album_id) VALUES (14,'Wiseman',5+(42/60),2);
INSERT INTO songs(id,name,length,album_id) VALUES (15,'Alley Cat',6+(06/60),2);
INSERT INTO songs(id,name,length,album_id) VALUES (16,'The Angelmaker',8+(29/60),2);
INSERT INTO songs(id,name,length,album_id) VALUES (17,'King of Whitewater',7+(20/60),2);
INSERT INTO songs(id,name,length,album_id) VALUES (18,'Long Way Home',4+(26/60),2);
INSERT INTO songs(id,name,length,album_id) VALUES (19,'Move on Through',5+(04/60),2);
INSERT INTO songs(id,name,length,album_id) VALUES (20,'The Great Escape',30+(14/60),2);
INSERT INTO songs(id,name,length,album_id) VALUES (21,'A New Beginning',3+(05/60),3);
INSERT INTO songs(id,name,length,album_id) VALUES (22,'There and Back',3+(02/60),3);
INSERT INTO songs(id,name,length,album_id) VALUES (23,'Welcome to Mercy Falls',5+(11/60),3);
INSERT INTO songs(id,name,length,album_id) VALUES (24,'Unbreakable',7+(19/60),3);
INSERT INTO songs(id,name,length,album_id) VALUES (25,'Tears for a Father',1+(58/60),3);
INSERT INTO songs(id,name,length,album_id) VALUES (26,'A Day Away',3+(43/60),3);
INSERT INTO songs(id,name,length,album_id) VALUES (27,'Tears for a Son',1+(42/60),3);
INSERT INTO songs(id,name,length,album_id) VALUES (28,'Paradise',5+(46/60),3);
INSERT INTO songs(id,name,length,album_id) VALUES (29,'Fall in Line',6+(09/60),3);
INSERT INTO songs(id,name,length,album_id) VALUES (30,'Break the Silence',9+(29/60),3);
INSERT INTO songs(id,name,length,album_id) VALUES (31,'Hide and Seek',7+(46/60),3);
INSERT INTO songs(id,name,length,album_id) VALUES (32,'Destiny Calls',6+(18/60),3);
INSERT INTO songs(id,name,length,album_id) VALUES (33,'One Last Goodbye',4+(21/60),3);
INSERT INTO songs(id,name,length,album_id) VALUES (34,'Back in Time',1+(14/60),3);
INSERT INTO songs(id,name,length,album_id) VALUES (35,'The Black Parade',6+(57/60),3);
INSERT INTO songs(id,name,length,album_id) VALUES (36,'Battery',5+(13/60),4);
INSERT INTO songs(id,name,length,album_id) VALUES (37,'Master of Puppets',8+(35/60),4);
INSERT INTO songs(id,name,length,album_id) VALUES (38,'The Thing That Should Not Be',6+(36/60),4);
INSERT INTO songs(id,name,length,album_id) VALUES (39,'Welcome Home (Sanitarium)',6+(27/60),4);
INSERT INTO songs(id,name,length,album_id) VALUES (40,'Disposable Heroes',8+(17/60),4);
INSERT INTO songs(id,name,length,album_id) VALUES (41,'Leper Messiah',5+(40/60),4);
INSERT INTO songs(id,name,length,album_id) VALUES (42,'Orion',8+(27/60),4);
INSERT INTO songs(id,name,length,album_id) VALUES (43,'Damage Inc.',5+(32/60),4);
INSERT INTO songs(id,name,length,album_id) VALUES (44,'Blackened',6+(41/60),5);
INSERT INTO songs(id,name,length,album_id) VALUES (45,'...And Justice for All',9+(47/60),5);
INSERT INTO songs(id,name,length,album_id) VALUES (46,'Eye of the Beholder',6+(30/60),5);
INSERT INTO songs(id,name,length,album_id) VALUES (47,'One',7+(27/60),5);
INSERT INTO songs(id,name,length,album_id) VALUES (48,'The Shortest Straw',6+(36/60),5);
INSERT INTO songs(id,name,length,album_id) VALUES (49,'Harvester of Sorrow',5+(46/60),5);
INSERT INTO songs(id,name,length,album_id) VALUES (50,'The Frayed Ends of Sanity',7+(44/60),5);
INSERT INTO songs(id,name,length,album_id) VALUES (51,'To Live Is to Die',9+(49/60),5);
INSERT INTO songs(id,name,length,album_id) VALUES (52,'Dyers Eve',5+(13/60),5);
INSERT INTO songs(id,name,length,album_id) VALUES (53,'That Was Just Your Life',7+(08/60),6);
INSERT INTO songs(id,name,length,album_id) VALUES (54,'The End of the Line',7+(52/60),6);
INSERT INTO songs(id,name,length,album_id) VALUES (55,'Broken Beat & Scarred',6+(25/60),6);
INSERT INTO songs(id,name,length,album_id) VALUES (56,'The Day That Never Comes',7+(56/60),6);
INSERT INTO songs(id,name,length,album_id) VALUES (57,'All Nightmare Long',7+(58/60),6);
INSERT INTO songs(id,name,length,album_id) VALUES (58,'Cyanide',6+(40/60),6);
INSERT INTO songs(id,name,length,album_id) VALUES (59,'The Unforgiven III',7+(47/60),6);
INSERT INTO songs(id,name,length,album_id) VALUES (60,'The Judas Kiss',8+(01/60),6);
INSERT INTO songs(id,name,length,album_id) VALUES (61,'Suicide & Redemption',9+(58/60),6);
INSERT INTO songs(id,name,length,album_id) VALUES (62,'My Apocalypse',5+(01/60),6);
INSERT INTO songs(id,name,length,album_id) VALUES (63,'Shamayim',1+(53/60),7);
INSERT INTO songs(id,name,length,album_id) VALUES (64,'Firmament',7+(29/60),7);
INSERT INTO songs(id,name,length,album_id) VALUES (65,'The First Commandment of the Luminaries',6+(47/60),7);
INSERT INTO songs(id,name,length,album_id) VALUES (66,'Ptolemy Was Wrong',6+(28/60),7);
INSERT INTO songs(id,name,length,album_id) VALUES (67,'Metaphysics of the Hangman',5+(41/60),7);
INSERT INTO songs(id,name,length,album_id) VALUES (68,'Catharsis of a Heretic',2+(08/60),7);
INSERT INTO songs(id,name,length,album_id) VALUES (69,'Swallowed by the Earth',4+(59/60),7);
INSERT INTO songs(id,name,length,album_id) VALUES (70,'Epiphany',3+(37/60),7);
INSERT INTO songs(id,name,length,album_id) VALUES (71,'The Origin of Species',7+(23/60),7);
INSERT INTO songs(id,name,length,album_id) VALUES (72,'The Origin of God',4+(33/60),7);
INSERT INTO songs(id,name,length,album_id) VALUES (73,'Epipelagic',1+(12/60),8);
INSERT INTO songs(id,name,length,album_id) VALUES (74,'Mesopelagic: Into the Uncanny',5+(56/60),8);
INSERT INTO songs(id,name,length,album_id) VALUES (75,'Bathyalpelagic I: Impasses',4+(24/60),8);
INSERT INTO songs(id,name,length,album_id) VALUES (76,'Bathyalpelagic II: The Wish in Dreams',3+(18/60),8);
INSERT INTO songs(id,name,length,album_id) VALUES (77,'Bathyalpelagic III: Disequilibrated',4+(27/60),8);
INSERT INTO songs(id,name,length,album_id) VALUES (78,'Abyssopelagic I: Boundless Vasts',3+(27/60),8);
INSERT INTO songs(id,name,length,album_id) VALUES (79,'Abyssopelagic II: Signals of Anxiety',5+(05/60),8);
INSERT INTO songs(id,name,length,album_id) VALUES (80,'Hadopelagic I: Omen of the Deep',1+(07/60),8);
INSERT INTO songs(id,name,length,album_id) VALUES (81,'Hadopelagic II: Let Them Believe',9+(17/60),8);
INSERT INTO songs(id,name,length,album_id) VALUES (82,'Demersal: Cognitive Dissonance',9+(05/60),8);
INSERT INTO songs(id,name,length,album_id) VALUES (83,'Benthic: The Origin of Our Wishes',5+(55/60),8);
INSERT INTO songs(id,name,length,album_id) VALUES (84,'Anthropocentric',9+(24/60),9);
INSERT INTO songs(id,name,length,album_id) VALUES (85,'The Grand Inquisitor I: Karamazov Baseness',5+(02/60),9);
INSERT INTO songs(id,name,length,album_id) VALUES (86,'She Was the Universe',5+(39/60),9);
INSERT INTO songs(id,name,length,album_id) VALUES (87,'For He That Wavereth...',2+(07/60),9);
INSERT INTO songs(id,name,length,album_id) VALUES (88,'The Grand Inquisitor II: Roots & Locusts',6+(33/60),9);
INSERT INTO songs(id,name,length,album_id) VALUES (89,'The Grand Inquisitor III: A Tiny Grain of Faith',1+(56/60),9);
INSERT INTO songs(id,name,length,album_id) VALUES (90,'Sewers of the Soul',3+(44/60),9);
INSERT INTO songs(id,name,length,album_id) VALUES (91,'Wille zum Untergang',6+(03/60),9);
INSERT INTO songs(id,name,length,album_id) VALUES (92,'Heaven TV',5+(04/60),9);
INSERT INTO songs(id,name,length,album_id) VALUES (93,'The Almightiness Contradiction',4+(34/60),9);
INSERT INTO songs(id,name,length,album_id) VALUES (94,'The Reckoning',4+(11/60),10);
INSERT INTO songs(id,name,length,album_id) VALUES (95,'Endless War',4+(09/60),10);
INSERT INTO songs(id,name,length,album_id) VALUES (96,'Raise Your Banner',5+(34/60),10);
INSERT INTO songs(id,name,length,album_id) VALUES (97,'Supernova',5+(34/60),10);
INSERT INTO songs(id,name,length,album_id) VALUES (98,'Holy Ground',4+(10/60),10);
INSERT INTO songs(id,name,length,album_id) VALUES (99,'In Vain',4+(25/60),10);
INSERT INTO songs(id,name,length,album_id) VALUES (100,'Firelight',4+(46/60),10);
INSERT INTO songs(id,name,length,album_id) VALUES (101,'Mad World',4+(57/60),10);
INSERT INTO songs(id,name,length,album_id) VALUES (102,'Mercy Mirror',3+(49/60),10);
INSERT INTO songs(id,name,length,album_id) VALUES (103,'Trophy Hunter',5+(51/60),10);
INSERT INTO songs(id,name,length,album_id) VALUES (104,'Why Not Me',0+(34/60),11);
INSERT INTO songs(id,name,length,album_id) VALUES (105,'Shot in the Dark',5+(02/60),11);
INSERT INTO songs(id,name,length,album_id) VALUES (106,'In the Middle of the Night',5+(11/60),11);
INSERT INTO songs(id,name,length,album_id) VALUES (107,'Faster',4+(23/60),11);
INSERT INTO songs(id,name,length,album_id) VALUES (108,'Fire and Ice',3+(57/60),11);
INSERT INTO songs(id,name,length,album_id) VALUES (109,'Iron',5+(40/60),11);
INSERT INTO songs(id,name,length,album_id) VALUES (110,'Where Is the Edge',3+(59/60),11);
INSERT INTO songs(id,name,length,album_id) VALUES (111,'Sinéad',4+(23/60),11);
INSERT INTO songs(id,name,length,album_id) VALUES (112,'Lost',5+(14/60),11);
INSERT INTO songs(id,name,length,album_id) VALUES (113,'Murder',4+(16/60),11);
INSERT INTO songs(id,name,length,album_id) VALUES (114,'A Demon''s Fate',5+(30/60),11);
INSERT INTO songs(id,name,length,album_id) VALUES (115,'Stairway to the Skies',5+(32/60),11);
INSERT INTO songs(id,name,length,album_id) VALUES (116,'Restless',6+(08/60),12);
INSERT INTO songs(id,name,length,album_id) VALUES (117,'Enter',7+(15/60),12);
INSERT INTO songs(id,name,length,album_id) VALUES (118,'Pearls of Light',5+(15/60),12);
INSERT INTO songs(id,name,length,album_id) VALUES (119,'Deep Within',4+(30/60),12);
INSERT INTO songs(id,name,length,album_id) VALUES (120,'Gatekeeper',6+(43/60),12);
INSERT INTO songs(id,name,length,album_id) VALUES (121,'Grace',5+(10/60),12);
INSERT INTO songs(id,name,length,album_id) VALUES (122,'Blooded',3+(38/60),12);
INSERT INTO songs(id,name,length,album_id) VALUES (123,'Candles',7+(07/60),12);
INSERT INTO songs(id,name,length,album_id) VALUES (124,'Scavenger of Human Sorrow',6+(56/60),13);
INSERT INTO songs(id,name,length,album_id) VALUES (125,'Bite the Pain',4+(29/60),13);
INSERT INTO songs(id,name,length,album_id) VALUES (126,'Spirit Crusher',6+(47/60),13);
INSERT INTO songs(id,name,length,album_id) VALUES (127,'Story to Tell',6+(34/60),13);
INSERT INTO songs(id,name,length,album_id) VALUES (128,'Flesh and the Power It Holds',8+(26/60),13);
INSERT INTO songs(id,name,length,album_id) VALUES (129,'Voice of the Soul',3+(43/60),13);
INSERT INTO songs(id,name,length,album_id) VALUES (130,'To Forgive Is to Suffer',5+(55/60),13);
INSERT INTO songs(id,name,length,album_id) VALUES (131,'A Moment of Clarity',7+(25/60),13);
INSERT INTO songs(id,name,length,album_id) VALUES (132,'Painkiller',6+(02/60),13);
INSERT INTO songs(id,name,length,album_id) VALUES (133,'Overactive Imagination',3+(30/60),14);
INSERT INTO songs(id,name,length,album_id) VALUES (134,'In Human Form',3+(57/60),14);
INSERT INTO songs(id,name,length,album_id) VALUES (135,'Jealousy',3+(41/60),14);
INSERT INTO songs(id,name,length,album_id) VALUES (136,'Trapped in a Corner',4+(14/60),14);
INSERT INTO songs(id,name,length,album_id) VALUES (137,'Nothing Is Everything',3+(19/60),14);
INSERT INTO songs(id,name,length,album_id) VALUES (138,'Mentally Blind',4+(49/60),14);
INSERT INTO songs(id,name,length,album_id) VALUES (139,'Individual Thought Patterns',4+(01/60),14);
INSERT INTO songs(id,name,length,album_id) VALUES (140,'Destiny',4+(06/60),14);
INSERT INTO songs(id,name,length,album_id) VALUES (141,'Out of Touch',4+(22/60),14);
INSERT INTO songs(id,name,length,album_id) VALUES (142,'The Philosopher',4+(13/60),14);
INSERT INTO songs(id,name,length,album_id) VALUES (143,'Flattening of Emotions',4+(28/60),15);
INSERT INTO songs(id,name,length,album_id) VALUES (144,'Suicide Machine',4+(23/60),15);
INSERT INTO songs(id,name,length,album_id) VALUES (145,'Together as One',4+(10/60),15);
INSERT INTO songs(id,name,length,album_id) VALUES (146,'Secret Face',4+(39/60),15);
INSERT INTO songs(id,name,length,album_id) VALUES (147,'Lack of Comprehension',3+(43/60),15);
INSERT INTO songs(id,name,length,album_id) VALUES (148,'See Through Dreams',4+(39/60),15);
INSERT INTO songs(id,name,length,album_id) VALUES (149,'Cosmic Sea',4+(27/60),15);
INSERT INTO songs(id,name,length,album_id) VALUES (150,'Vacant Planets',3+(52/60),15);
INSERT INTO songs(id,name,length,album_id) VALUES (151,'Stora Rövardansen',1+(33/60),16);
INSERT INTO songs(id,name,length,album_id) VALUES (152,'King',3+(44/60),16);
INSERT INTO songs(id,name,length,album_id) VALUES (153,'The Mission',4+(18/60),16);
INSERT INTO songs(id,name,length,album_id) VALUES (154,'Lifetime',4+(49/60),16);
INSERT INTO songs(id,name,length,album_id) VALUES (155,'Rain',4+(03/60),16);
INSERT INTO songs(id,name,length,album_id) VALUES (156,'She''s Alive',4+(12/60),16);
INSERT INTO songs(id,name,length,album_id) VALUES (157,'I Stand Alone',4+(44/60),16);
INSERT INTO songs(id,name,length,album_id) VALUES (158,'Starlight',4+(40/60),16);
INSERT INTO songs(id,name,length,album_id) VALUES (159,'Battery',5+(13/60),16);
INSERT INTO songs(id,name,length,album_id) VALUES (160,'If I Die in Battle',4+(46/60),17);
INSERT INTO songs(id,name,length,album_id) VALUES (161,'The Seller of Souls',3+(24/60),17);
INSERT INTO songs(id,name,length,album_id) VALUES (162,'Primo Victoria',3+(44/60),17);
INSERT INTO songs(id,name,length,album_id) VALUES (163,'Dangers in My Head',4+(05/60),17);
INSERT INTO songs(id,name,length,album_id) VALUES (164,'Black Wings of Hate',4+(41/60),17);
INSERT INTO songs(id,name,length,album_id) VALUES (165,'Bed of Nails',3+(37/60),17);
INSERT INTO songs(id,name,length,album_id) VALUES (166,'Spelled in Waters',4+(26/60),17);
INSERT INTO songs(id,name,length,album_id) VALUES (167,'Neuer Wind',3+(21/60),17);
INSERT INTO songs(id,name,length,album_id) VALUES (168,'The Higher Flight',5+(00/60),17);
INSERT INTO songs(id,name,length,album_id) VALUES (169,'Master of the Wind',6+(09/60),17);
INSERT INTO songs(id,name,length,album_id) VALUES (170,'Lost Forever',4+(44/60),18);
INSERT INTO songs(id,name,length,album_id) VALUES (171,'To Sing a Metal Song',3+(24/60),18);
INSERT INTO songs(id,name,length,album_id) VALUES (172,'One to Ten',4+(06/60),18);
INSERT INTO songs(id,name,length,album_id) VALUES (173,'I Am Human',3+(56/60),18);
INSERT INTO songs(id,name,length,album_id) VALUES (174,'My Voice',5+(30/60),18);
INSERT INTO songs(id,name,length,album_id) VALUES (175,'Rebellion',4+(05/60),18);
INSERT INTO songs(id,name,length,album_id) VALUES (176,'Last Night of the Kings',3+(52/60),18);
INSERT INTO songs(id,name,length,album_id) VALUES (177,'Tribe of Force',3+(17/60),18);
INSERT INTO songs(id,name,length,album_id) VALUES (178,'Water Fire Heaven Earth',3+(32/60),18);
INSERT INTO songs(id,name,length,album_id) VALUES (179,'Master of Puppets',8+(23/60),18);
INSERT INTO songs(id,name,length,album_id) VALUES (180,'Magic Taborea',3+(22/60),18);
INSERT INTO songs(id,name,length,album_id) VALUES (181,'Hearted',4+(00/60),18);
INSERT INTO songs(id,name,length,album_id) VALUES (182,'Frodo''s Dream',3+(06/60),18);

<h2>to read MYI, MYD, frm</span></h2>
(from the mysql commandline tool) CREATE DATABASE mytest; -- .
(in the filesystem) copy those files (foo.MYD, foo.MYI, foo.frm) into the directory called mytest.
(from the mysql commandline tool) SELECT * FROM mytest.foo;
Then gripe at the user who gave you those files; that is not the way to pass MySQL data around.

<h2>SQL Script</h2>
In programming, scripts are the series of commands (sequence of instructions) or a program that will be executed in another program rather than by the computer processor (compiled programs are executed by computer processor –> please notice that the script is not compiled).
Same stands for SQL scripts.
The only thing that is specific is that commands in such scripts are SQL commands.
And these commands could be any combination of DDL (Data Definition Language) or DML (Data Manipulation Language) commands.
Therefore, you could change the database structure (CREATE, ALTER, DROP objects) and/or change the data (perform INSERT/UPDATE/DELETE commands).
It’s desired that you use scripts, especially when you’re deploying a new version and you want to keep current data as they were before that change.
<h3>Backup and restore</h3>
Using scripts is usually related to making significant changes in the database.
I might be paranoid about this, but
I prefer to backup the database before these changes.

<k><em>Tip:</k> If you expect major changes in your databases, either in structure, either data changes, creating a backup is always a good idea.
You could backup the entire database or only 1 table.
That’s completely up to you and the changes you’re making.</em>

<h2>SQL Script &#8211; example</h2>
Now we’re ready to take a look at our script.
We want to do two different things:

Create new database objects (tables and relations) – DDL commands, and
Populate these tables with data – DML commands

Of course, we’ll run DDL commands first and then run DML commands.
Trying to insert data into a table that doesn’t exist would result in errors.
So, let’s take a look at our script now:

-- tables
-- Table: call
CREATE TABLE call (
    id int  NOT NULL IDENTITY(1, 1),
    employee_id int  NOT NULL,
    customer_id int  NOT NULL,
    start_time datetime  NOT NULL,
    end_time datetime  NULL,
    call_outcome_id int  NULL,
    CONSTRAINT call_ak_1 UNIQUE (employee_id, start_time),
    CONSTRAINT call_pk PRIMARY KEY  (id)
);
    
-- Table: call_outcome
CREATE TABLE call_outcome (
    id int  NOT NULL IDENTITY(1, 1),
    outcome_text char(128)  NOT NULL,
    CONSTRAINT call_outcome_ak_1 UNIQUE (outcome_text),
    CONSTRAINT call_outcome_pk PRIMARY KEY  (id)
);
    
-- Table: customer
CREATE TABLE customer (
    id int  NOT NULL IDENTITY(1, 1),
    customer_name varchar(255)  NOT NULL,
    city_id int  NOT NULL,
    customer_address varchar(255)  NOT NULL,
    next_call_date date  NULL,
    ts_inserted datetime  NOT NULL,
    CONSTRAINT customer_pk PRIMARY KEY  (id)
);
    
-- Table: employee
CREATE TABLE employee (
    id int  NOT NULL IDENTITY(1, 1),
    first_name varchar(255)  NOT NULL,
    last_name varchar(255)  NOT NULL,
    CONSTRAINT employee_pk PRIMARY KEY  (id)
);
    
-- foreign keys
-- Reference: call_call_outcome (table: call)
ALTER TABLE call ADD CONSTRAINT call_call_outcome
    FOREIGN KEY (call_outcome_id)
    REFERENCES call_outcome (id);
    
-- Reference: call_customer (table: call)
ALTER TABLE call ADD CONSTRAINT call_customer
    FOREIGN KEY (customer_id)
    REFERENCES customer (id);
 
-- Reference: call_employee (table: call)
ALTER TABLE call ADD CONSTRAINT call_employee
    FOREIGN KEY (employee_id)
    REFERENCES employee (id);
 
-- Reference: customer_city (table: customer)
ALTER TABLE customer ADD CONSTRAINT customer_city
    FOREIGN KEY (city_id)
    REFERENCES city (id);
    
-- insert values
INSERT INTO call_outcome (outcome_text) VALUES ('call started');
INSERT INTO call_outcome (outcome_text) VALUES ('finished - successfully');
INSERT INTO call_outcome (outcome_text) VALUES ('finished - unsuccessfully');
    
INSERT INTO employee (first_name, last_name) VALUES ('Thomas (Neo)', 'Anderson');
INSERT INTO employee (first_name, last_name) VALUES ('Agent', 'Smith');
    
INSERT INTO customer (customer_name, city_id, customer_address, next_call_date, ts_inserted) VALUES ('Jewelry Store', 4, 'Long Street 120', '2020/1/21', '2020/1/9 14:1:20');
INSERT INTO customer (customer_name, city_id, customer_address, next_call_date, ts_inserted) VALUES ('Bakery', 1, 'Kurfürstendamm 25', '2020/2/21', '2020/1/9 17:52:15');
INSERT INTO customer (customer_name, city_id, customer_address, next_call_date, ts_inserted) VALUES ('Café', 1, 'Tauentzienstraße 44', '2020/1/21', '2020/1/10 8:2:49');
INSERT INTO customer (customer_name, city_id, customer_address, next_call_date, ts_inserted) VALUES ('Restaurant', 3, 'Ulica lipa 15', '2020/1/21', '2020/1/10 9:20:21');
    
INSERT INTO call (employee_id, customer_id, start_time, end_time, call_outcome_id) VALUES (1, 4, '2020/1/11 9:0:15', '2020/1/11 9:12:22', 2);
INSERT INTO call (employee_id, customer_id, start_time, end_time, call_outcome_id) VALUES (1, 2, '2020/1/11 9:14:50', '2020/1/11 9:20:1', 2);
INSERT INTO call (employee_id, customer_id, start_time, end_time, call_outcome_id) VALUES (2, 3, '2020/1/11 9:2:20', '2020/1/11 9:18:5', 3);
INSERT INTO call (employee_id, customer_id, start_time, end_time, call_outcome_id) VALUES (1, 1, '2020/1/11 9:24:15', '2020/1/11 9:25:5', 3);
INSERT INTO call (employee_id, customer_id, start_time, end_time, call_outcome_id) VALUES (1, 3, '2020/1/11 9:26:23', '2020/1/11 9:33:45', 2);
INSERT INTO call (employee_id, customer_id, start_time, end_time, call_outcome_id) VALUES (1, 2, '2020/1/11 9:40:31', '2020/1/11 9:42:32', 2);
INSERT INTO call (employee_id, customer_id, start_time, end_time, call_outcome_id) VALUES (2, 4, '2020/1/11 9:41:17', '2020/1/11 9:45:21', 2);
INSERT INTO call (employee_id, customer_id, start_time, end_time, call_outcome_id) VALUES (1, 1, '2020/1/11 9:42:32', '2020/1/11 9:46:53', 3);
INSERT INTO call (employee_id, customer_id, start_time, end_time, call_outcome_id) VALUES (2, 1, '2020/1/11 9:46:0', '2020/1/11 9:48:2', 2);
INSERT INTO call (employee_id, customer_id, start_time, end_time, call_outcome_id) VALUES (2, 2, '2020/1/11 9:50:12', '2020/1/11 9:55:35', 2);</td>

Our script is a series of CREATE TABLE commands (creating 4 new tables), ALTER TABLE commands (adding foreign keys to these tables) and INSERT INTO commands (populating tables with the data).
For INSERT commands, I’ve once more used Excel to create commands from the set of values:

<img class="lazy" data-src="/wp-content/uploads/2020/01/sql-server-script-execution-outcome.jpeg">

Everything should go smoothly and you should see this under <em>“Messages”</em> (a lot of (1 row affected messages)) as well the message <em>“Query executed successfully”</em> (and everything shall be green).
In case something wouldn’t be OK, you’ll notice that 🙂
On the other hand, in the database list, when you expand <k>our_first_database</k> tables, you should see all the new tables.
Now, we’re sure that we have new objects (tables) in our database.
But what about the data?
We’ll check the contents of these tables with simple SELECT statements.

<img class="lazy" data-src="/wp-content/uploads/2020/01/sql-script-result.jpeg">

<h2>SQL Script – Comment</h2>
As you’ve seen, in our SQL script we’ve combined DDL and DML commands.
That will usually be the case when you’re deploying the new version of the database on the system that is currently live.
You can’t simply delete everything and create new objects (tables & relations) because you would lose existing data and nobody really wants that
(losing the data is probably the worst thing you could do about databases).
Therefore, you’ll need to create a script that performs changes and inserts new data (usually data for new dictionaries).
In our script, we’ve only created new objects and inserted data.
All other commands are also allowed.
For example, you could alter the existing table (adding or removing columns, adding properties) or even delete the table if it’s not needed anymore.
Same stands for the data.
You could perform not only INSERTs but also UPDATEs and DELETEs.
In case you need to do that, you’ll make changes to the existing logic, so double-check everything (even things that you’ve already double-checked).

<h2>run SQL script in MySQL</h2>
mysql> source \home\user\Desktop\test.sql;
mysql -h hostname -u user database < path/to/test.sql

set up a simple test database and table using the mysql Command-Line Client or MySQL Workbench.
Commands for the mysql Command-Line Client are given here:

CREATE DATABASE TestDB;
USE TestDB;
CREATE TABLE TestTable (id INT NOT NULL PRIMARY KEY
  AUTO_INCREMENT, name VARCHAR(100));
<h2>Creating a MySQL Script</h2>
A SQL script in MySQL is a series of SQL statements in a file with a .SQL extension.
You can use any SQL statement under the sun like:
CREATE DATABASE,
USE ,
SELECT,
INSERT,
UPDATE,
DELETE,
CALL
and others

The file is readable from any text editor because it is a text file.
And when MySQL reads the file, it will execute each statement.
So, instead of typing each statement, save the commands in a file for later execution.
But like any statement with the wrong syntax, MySQL will throw an error if it encounters an error in your .SQL file.
Here's an example of a MySQL script that will add a new record in a table and query it afterward:

<table><tbody>
<tr><td>USE sakila;
INSERT INTO actor (first_name, last_name, last_update)
  VALUES ('Chris', 'Evans', NOW());
SELECT * FROM actor ORDER BY actor_id DESC LIMIT 1;</td></tr></tbody></table>

The script above uses the actor table in the sakila database.
The USE statement switches to that database.
Then, MySQL adds a record to the actor table.
And finally, it queries the record to verify the successful insert.
Creating a file with the statements above is easy using your favorite text editor.
Here's an example using the GNU nano text editor in Ubuntu 22.04.
<img src="https://1721181113.rsc.cdn77.org/data/images/full/44372/mysql-script-3-easy-ways-to-run-sql-commands-in-a-file.png">

And I named the script insert-actor.sql.
Let's try running this script later when we get to the different methods.
Another option in various operating systems is to use MySQL Workbench.
Here's a screenshot of the same script:
<img src="https://1721181113.rsc.cdn77.org/data/images/full/44373/mysql-script-3-easy-ways-to-run-sql-commands-in-a-file.png">

Better yet, you can use dbForge Studio for MySQL.
Here's a screenshot of the same script <a href="https://www.devart.com/dbforge/mysql/studio/">using this GUI tool</a>:

<img src="https://1721181113.rsc.cdn77.org/data/images/full/44374/mysql-script-3-easy-ways-to-run-sql-commands-in-a-file.png">

When the file is ready, it's time to run the script.
<h3>How to Run a .SQL Script File in MySQL</h3>
There are various ways to run the SQL script we made earlier.
You can run it from any operating system's Terminal.
MySQL also has a command-line utility in different operating systems supported.
You can run the script from there.
But if you are not a fan of the command-line interface, you can use <a href="https://www.devart.com/dbforge/mysql/studio/mysql-code-editor.html">
MySQL database editor</a>.
You can run the script with a few clicks using GUI tools.
Next, let's discuss the 3 methods to see how this works.
<h3>Method 1: Run MySQL Script From the Terminal</h3>
It's easy to run a script in a terminal.
You can use this in repetitive runs in batch mode.
So, here's how to do it.
First, open the Terminal of your operating system where you installed MySQL.
Then, type and run:
<table><tbody>
<tr><td>$ mysql -u mysql_user -p &lt; sql_script_file</td></tr></tbody></table>
Supply the mysql_user with a valid MySQL user in your database server.
And use an existing .SQL file with the full path and filename for the sql_script_file. And because of the -p option, MySQL will ask you for the password for the local server.
Then, after you supply the correct password, the script will run.
See a sample below using Ubuntu 22.04:

The output is the new row in the actor table.
If you need to run a script against another host, use the -h option.
Here's an example:
<table><tbody>
<tr><td>$ mysql -h host -u mysql_user -p &lt; sql_script_file</td></tr></tbody></table>
Where the host is an IP address or a hostname.
Let's have another example.
The output will also display the statement to run using the -verbose option.

<img src="https://1721181113.rsc.cdn77.org/data/images/full/44375/mysql-script-3-easy-ways-to-run-sql-commands-in-a-file.png">

You can also output the rows into an XML file with the -X option.
Here's the code:
<table><tbody>
<tr><td>$ mysql -u root -p -X &lt; ~/Source/sql/script.sql > ~/Source/sql/actors.xml</td></tr></tbody></table>

Here it is in action:
The final frames show the XML file opened from a text editor.
Finally, if your SQL script has a lot of text output, you can use a pager to avoid scrolling off the top of your screen.
See an example below:
<table><tbody>
<tr><td>$ mysql &lt; batch-file-with-lots-of-output.sql | more</td></tr></tbody></table>

<h3>Method 2: Run a Script From the MySQL Prompt</h3>
This method still uses the Terminal.
But the difference is running the MySQL Client command-line utility first.
And then run the script from there using the source command.
This method is useful if you want to run further MySQL commands to check your output.
First, open the Terminal then run:
<table><tbody>
<tr><td>$ mysql -u mysql_user -p</td></tr></tbody></table>
Replace mysql_user with a valid user in the MySQL server.
Then, enter the password.
Once you see the MySQL prompt, run:
<table><tbody>
<tr><td>mysql> source sql_script_file</td></tr></tbody></table>
Replace sql_script_file with the full path and filename of the SQL script.
Here's an example:

Notice the difference in the output compared to Method #1.
Result sets are within a table.
<h3>Method #3: Use a MySQL GUI Client</h3>
In this method, we will use 2 known MySQL GUI tools: MySQL Workbench and dbForge Studio for MySQL.
<h3>Using MySQL Workbench</h3>
This is the MySQL GUI tool by Oracle.
MySQL Workbench has basic features needed by administrators, developers, and designers.
It would be best if you use the MySQL Workbench that will work for your version of MySQL server.

The following are the steps to run SQL scripts in MySQL Workbench:
Open MySQL Workbench.
Connect to your MySQL Server.
You can create a new MySQL connection or click an existing connection.
Open the .SQL file.
Finally, press CTRL-Shift-Enter to run.
Or click the Query menu then select Execute (All or Selection).
Or click the lightning icon of the SQL window.
See it in action below:

<h3>Using dbForge Studio for MySQL</h3>
dbForge Studio for MySQL is a top-of-the-line GUI tool from Devart.
Creating SQL scripts is a breeze with this tool.
You have autocompletion and code suggestions.
Also, a data generator, a query profiler, and more.
This tool is a lifesaver for administrators, developers, and database designers.
The following are the steps to run scripts in dbForge Studio for MySQL:
Open dbForge Studio for MySQL.
You have 2 options to run a SQL script:
From the Start Page
Click SQL Development -> Execute Script...
Specify the MySQL connection, database (optional), and the SQL file you want.
Click Execute.

From the File menu
Click File -> Open File
Select the folder and .SQL file.
Click Open.
Press F5 or click Execute from the toolbar.

See it in action using the File menu.
<a href="https://www3.ntu.edu.sg/home/ehchua/programming/sql/MySQL_Intermediate.html" class="whitebut ">Scripting, Data Types, Examples</a>

<h2>Prepared Statements and Bound Parameters</h2>
A prepared statement is a feature used to execute the same (or similar) SQL statements repeatedly with high efficiency.

Prepared statements basically work like this:
Prepare: An SQL statement template is created and sent to the database. 
Certain values are left unspecified, called parameters (labeled "?"). 
Example: INSERT INTO MyGuests VALUES(?, ?, ?)

The database parses, compiles, and performs query optimization on the SQL statement template, and stores the result without executing it

Execute: At a later time, the application binds the values to the parameters, and the database executes the statement. 
The application may execute the statement as many times as it wants with different values

Compared to executing SQL statements directly, prepared statements have three main advantages:
Prepared statements reduce parsing time as the preparation on the query is done only once (although the statement is executed multiple times)
Bound parameters minimize bandwidth to the server as you need send only the parameters each time, and not the whole query

Prepared statements are very useful against SQL injections, because parameter values, which are transmitted later using a different protocol, need not be correctly escaped. 
If the original statement template is not derived from external input, SQL injection cannot occur.

&lt;?php
  $servername = "localhost";
  $username = "username";
  $password = "password";
  $dbname = "myDB";

  // Create connection
  $conn = new mysqli($servername, $username, $password, $dbname);

  // Check connection
  if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
  }

  // prepare and bind
  $stmt = $conn->prepare("INSERT INTO MyGuests (firstname, lastname, email) VALUES (?, ?, ?)");
  $stmt->bind_param("sss", $firstname, $lastname, $email);

  // set parameters and execute
  $firstname = "John";
  $lastname = "Doe";
  $email = "john@example.com";
  $stmt->execute();

  $firstname = "Mary";
  $lastname = "Moe";
  $email = "mary@example.com";
  $stmt->execute();

  $firstname = "Julie";
  $lastname = "Dooley";
  $email = "julie@example.com";
  $stmt->execute();

  echo "New records created successfully";

  $stmt->close();
  $conn->close();
?>










<script src='https://williamkpchan.github.io/LibDocs/readbook.js'></script>
<script>
var lazyLoadInstance = new LazyLoad({
    elements_selector: ".lazy"
    // ... more custom settings?
});
</script>
</pre>
</body></html>