<base target="_blank"><html><head><title>SQL Introduction</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://williamkpchan.github.io/maincss.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@13.0.1/dist/lazyload.min.js"></script>
<script type='text/javascript' src='../mainscript.js'></script>
<script>
  var showTopicNumber = true;
</script>
<style>
body{width:80%;margin-left: 10%; font-size:22px;}
h1, h2 {color: gold;}
strong {color: orange;}
img {max-width:90%; display: inline-block; margin-top: 2%;margin-bottom: 1%; border-radius:3px;}
.note{color:orange;}
</style></head><body onkeypress="chkKey()"><center>
<h1>SQL Introduction</h1>
<a href="#mustWatch" class="red goldbs" target="_self">Must Watch!</a><br><br>
<a href="MySQL stored procedures.html" class="bluebut orange redbs">MySQL stored procedures Tutorial</a>

<br><br>
<div id="toc"></div></center>
<br><br>
<div id="mustWatch"><center><span class="red">MustWatch</span></center><br>
<a href="MySQL stored procedures.html" class="bluebut orange redbs">MySQL stored procedures Tutorial</a>

<pre>
<a href="https://dev.mysql.com/doc/refman/8.0/en/tutorial.html" class="whitebut ">MySQL 8.0 Tutorial</a>
<b>Select first row in MySQL</b>
SELECT * FROM englishwords ORDER BY id ASC LIMIT ;

<b>Select last row in MySQL</b>
SELECT * FROM englishwords ORDER BY id DESC LIMIT 1;

You can use an OFFSET in a LIMIT command:

SELECT * FROM englishwords LIMIT 1 OFFSET 99
in case your table has 100 rows this return the last row without relying on a primary_key

<b>Count table rows</b>
SELECT COUNT(*) FROM englishwords;

<b>mysql #1054 - Unknown column error</b>
While inserting a varchar value, if you will forget to add single quotes, then this error will arise.


</pre>
</div>
<pre>
<br>
<br>
<h2>run mysql in command mode</h2>
<a href="https://www.youtube.com/watch?v=RQuTiZnDLcM">SQLTools and Sublime Text - Executing SQL, directly in your editor</a>
<a href="https://sqlzoo.net/">SQLZoo practise SQL</a>
<a href="MySQL by Examples1.html" class="pink">MySQL by Examples1</a>
To log in mysql:
shell> mysql --user=root --password=asdf1234  db_name

<i>mysql -u user_name -p  then press_enter_key
then type password
i.e.
line-1 : mysql -u root -p
line-2 : admin

USE sampleDB;
show tables;</i>

eg. mysql -u root -p

show the structure of the table
<i>desc world;

show keys from world;

SELECT population FROM world WHERE name = "Germany"
</i>

Listing all databases inside mysql
<i>mysql> show databases;</i>

Listing all databases according to a specific name.
<i>mysql> SHOW DATABASES LIKE '%customer%';</i>

Listing tables and their structure with the MySQL Command Line

select a database
list all the tables in the selected database with the following command:
<i>mysql> show tables;</i>

We can show the structure of the table using the "desc" command:
<i>mysql> desc tableName;</i>

show the indexes from a particular table:
<i>mysql> show keys from tableName;</i>

<h2>rename and duplicate table</h2>
<i>RENAME TABLE tb1 TO tb2;

CREATE TABLE newtable LIKE oldtable; 
INSERT INTO newtable SELECT * FROM oldtable;
</i>
<br>
<br>


Import an SQL file <b class="gold">using the command</b> line in MySQL
mysql> use db_name;
mysql> source backup-file.sql;

source C:\\Users\\User\\Desktop\\mysqlsampledatabase.sql;

desc example;
desc t_test;

use classicmodels;
desc classicmodels;

http://www.mysqltutorial.org/mysql-sample-database.aspx
http://www.mysqltutorial.org/getting-started-with-mysql/
http://www.mysqltutorial.org/

<br>
<br>
<br>
<a href="https://www.kaggle.com/dansbecker/select-from-where">SQL select from where</a>
<br>
<a href="https://github.com/Chenzilla/SQL_Zoo">SQL_Zoo answers</a>
<br>
<h2>DML (Data Manipulation Language) Commands in MySQL</h2>
<strong>Some commands of DML are:</strong>
SELECT: retrieve data from a database
INSERT: insert data into a table
UPDATE: updates existing data within a table
DELETE: deletes all records from a table, the space for the records remain
MERGE: UPSERT operation (insert or update)
CALL: call a PL/SQL or Java subprogram
LOCK TABLE: control concurrency

<h2>- Insert :</h2>
The insert statement is used to add new row to a table.

<i>INSERT INTO &lt;table name&gt; VALUES (&lt;value 1&gt;, ... &lt;value n&gt;);</i>
Example:

INSERT INTO STUDENT VALUES (1001,&lsquo;Ram&rsquo;);
The inserted values must match the table structure exactly in the number of attributes and the data type of each attribute. 
Character type values are always enclosed in single quotes; number values are never in quotes; date values are often (but not always) in the format &lsquo;yyyy-mm-dd&rsquo; (for example, &lsquo;2006-11- 30&rsquo;).

<h2>- UPDATE :</h2>
The update statement is used to change values that are already in a table.

<i>&nbsp;UPDATE &lt;table name&gt; SET &lt;attribute&gt; = &lt;expression&gt; WHERE &lt;condition&gt;;</i>
Example:

UPDATE STUDENT SET Name = &lsquo;Amar&rsquo; WHERE StudID=1001;
The update expression can be a constant, any computed value, or even the result of a SELECT statement that returns a single row and a single column.

<h2>- DELETE :</h2>
The delete statement deletes row(s) from a table.

<i>DELETE FROM &lt;table name&gt; WHERE &lt;condition&gt;;</i>
Example:

DELETE FROM STUDENT WHERE StudID=1001;
If the WHERE clause is omitted, then every row of the table is deleted that matches with the specified condition.

<h2>- SELECT :</h2>
The SELECT statement is used to form queries for extracting information out of the database.

<i>SELECT &lt;attribute&gt;, &hellip;.., &lt;attribute n&gt; FROM &lt;table name&gt;;</i>
Example:

SELECT StudID, Name FROM STUDENT;
Apart from these statements, some statements are also used to control the transaction made by DML statements. 
The commands used for this purpose are called Transaction Control (TCL) statements. 
It allows statements to be grouped together into logical transactions. 
Some commands of TCL are:

COMMIT: save work done.
SAVEPOINT: identify a point in a transaction to which you can later roll back.
ROLLBACK: restore database to original since the last COMMIT.


<h2>Query</h2>
SQL queries will help you sort through a massive dataset, to retrieve only the information that you need.
We'll begin by using the keywords <strong>SELECT</strong>, <strong>FROM</strong>, and <strong>WHERE</strong> to get data from specific columns based on conditions you specify.
For clarity, we'll work with a small imaginary dataset <code>pet_records</code> which contains just one table, called <code>pets</code>.
<img src="https://i.imgur.com/fI5Pvvp.png" width="800px;">

<h2>SELECT ... FROM</h2>
The most basic SQL query selects a single column from a single table.  
To do this,
specify the column you want after the word <strong>SELECT</strong>, and then 
specify the table after the word <strong>FROM</strong>.  
For instance, to select the <code>Name</code> column (from the <code>pets</code> table in the <code>pet_records</code> database in the <code>bigquery-public-data</code> project), our query would appear as follows:
<img src="https://i.imgur.com/c3GxYRt.png" width="800px;">
Note that when writing an SQL query, the argument we pass to <strong>FROM</strong> is <em>not</em> in single or double quotation marks (' or "). It is in backticks (`).
<h2>WHERE ...</h2>
BigQuery datasets are large, so you'll usually want to return only the rows meeting specific conditions. You can do this using the <strong>WHERE</strong> clause.
The query below returns the entries from the <code>Name</code> column that are in rows where the <code>Animal</code> column has the text <code>'Cat'</code>.

<img src="https://i.imgur.com/HJOT8Kb.png" width="800px;">
<h2>Example: What are all the U.S. cities in the OpenAQ dataset?</h2>

Now that you've got the basics down, let's work through an example with a real dataset. We'll use an 
<a href="https://openaq.org">OpenAQ</a> dataset about air quality.
First, we'll set up everything we need to run queries and take a quick peek at what tables are in our database.  (
<em>Since you learned how to do this in the previous tutorial, we have hidden the code.  
But if you'd like to take a peek, you need only click on the "Code" button below.</em>)

Code
In [1]:

from google.cloud import bigquery

# Create a "Client" object
client = bigquery.Client()

# Construct a reference to the "openaq" dataset

dataset_ref = client.dataset("openaq",project="bigquery-public-data")
# API request - fetch the dataset

dataset=client.get_dataset(dataset_ref)
# List all the tables in the "openaq" dataset

tables = list(client.list_tables(dataset))

# Print names of all tables in the dataset (there's only one!)

for table in tables :
   print(table.table_id)



Using Kaggle's public dataset BigQuery integration.
global_air_quality
 

The dataset contains only one table, called <code>global_air_quality</code>.  
We'll fetch the table and take a peek at the first few rows to see what sort of data it contains.  (Again, we have hidden the code.  
To take a peek, click on the "Code" button below.) 
Code
In [2]:



# Construct a reference to the "global_air_quality" table table_ref=dataset_ref.
table ("global_air_quality")

# API request - fetch the table table=client.
get_table(table_ref)

# Preview the first five lines of the "global_air_quality" table client.
list_rows(table , max_results=5).to_dataframe ()

 
Out[2]:

<table border="1" class="dataframe">
  
<thead>
<tr style="text-align: right;">
  <th></th>
  <th>location</th>
  <th>city</th>
  <th>country</th>
  <th>pollutant</th>
  <th>value</th>
  <th>timestamp</th>
  <th>unit</th>
  <th>source_name</th>
  <th>latitude</th>
  <th>longitude</th>
  <th>averaged_over_in_hours</th>
</tr>
  
</thead>
  
<tbody>
<tr>
  <th>0</th>
  <td>BTM Layout, Bengaluru - KSPCB</td>
  <td>Bengaluru</td>
  <td>IN</td>
  <td>co</td>
  <td>910.00</td>
  <td>2018-02-22 03:00:00+00:00</td>
  <td>µg/m³</td>
  <td>CPCB</td>
  <td>12.912811</td>
  <td>77.60922</td>
  <td>0.25</td>
</tr>
<tr>
  <th>1</th>
  <td>BTM Layout, Bengaluru - KSPCB</td>
  <td>Bengaluru</td>
  <td>IN</td>
  <td>no2</td>
  <td>131.87</td>
  <td>2018-02-22 03:00:00+00:00</td>
  <td>µg/m³</td>
  <td>CPCB</td>
  <td>12.912811</td>
  <td>77.60922</td>
  <td>0.25</td>
</tr>
<tr>
  <th>2</th>
  <td>BTM Layout, Bengaluru - KSPCB</td>
  <td>Bengaluru</td>
  <td>IN</td>
  <td>o3</td>
  <td>15.57</td>
  <td>2018-02-22 03:00:00+00:00</td>
  <td>µg/m³</td>
  <td>CPCB</td>
  <td>12.912811</td>
  <td>77.60922</td>
  <td>0.25</td>
</tr>
<tr>
  <th>3</th>
  <td>BTM Layout, Bengaluru - KSPCB</td>
  <td>Bengaluru</td>
  <td>IN</td>
  <td>pm25</td>
  <td>45.62</td>
  <td>2018-02-22 03:00:00+00:00</td>
  <td>µg/m³</td>
  <td>CPCB</td>
  <td>12.912811</td>
  <td>77.60922</td>
  <td>0.25</td>
</tr>
<tr>
  <th>4</th>
  <td>BTM Layout, Bengaluru - KSPCB</td>
  <td>Bengaluru</td>
  <td>IN</td>
  <td>so2</td>
  <td>4.49</td>
  <td>2018-02-22 03:00:00+00:00</td>
  <td>µg/m³</td>
  <td>CPCB</td>
  <td>12.912811</td>
  <td>77.60922</td>
  <td>0.25</td>
</tr>
  
</tbody>
</table> 

Everything looks good! So, let's put together a query. Say we want to select all the values from the <code>city</code> column that are in rows where the <code>country</code> column is <code>'US'</code> (for "United States"). 

In [3]:



# Query to select all the items from the "city" column where the "country" column is 'US'
query ="""
       SELECT city
       FROM `bigquery-public-data.openaq.global_air_quality`
       WHERE country = 'US'
       """
 

Take the time now to ensure that this query lines up with what you learned above.
<h2>Submitting the query to the dataset</h2>

We're ready to use this query to get information from the OpenAQ dataset.  
As in the previous tutorial, the first step is to create a <code>Client</code> object. 
In [4]:


# Create a "Client" object client=bigquery.Client ()
 


Using Kaggle's public dataset BigQuery integration.

 

We begin by setting up the query with the <code>query()</code> method.  
We run the method with the default parameters, but this method also allows us to specify more complicated settings that you can read about in the documentation.  
We'll revisit this later. 
In [5]:


# Set up the query query_job=client.
query(query) 

Next, we run the query and convert the results to a pandas DataFrame. 
In [6]:



# API request - run the query, and return a pandas DataFrame us_cities=query_job.
to_dataframe ()
 

Now we've got a pandas DataFrame called <code>us_cities</code>, which we can use like any other DataFrame. 
In [7]:



# What five cities have the most measurements? us_cities.city.value_counts ().head ()
 

Out[7]: 

Phoenix-Mesa-Scottsdale                     87
Houston                                     80
New York-Northern New Jersey-Long Island    60
Los Angeles-Long Beach-Santa Ana            60
Riverside-San Bernardino-Ontario            59
Name: city, dtype: int64
 
<h2>More queries</h2>
If you want multiple columns, you can select them with a comma between the names: 
In [8]:

query ="""
       SELECT city, country
       FROM `bigquery-public-data.openaq.global_air_quality`
       WHERE country = 'US'
       """
 

You can select all columns with a <code>*</code> like this: 
In [9]:


query="""
       SELECT *
       FROM `bigquery-public-data.openaq.global_air_quality`
       WHERE country = 'US'
       """
 
<h2>Q&amp;A: Notes on formatting</h2>
The formatting of the SQL query might feel unfamiliar. If you have any questions, you can ask in the comments section at the bottom of this page.  
Here are answers to two common questions:
<h2><strong>Question: What's up with the triple quotation marks (""")?</strong>
</h2> <em>Answer</em>: These tell Python that everything inside them is a single string, even though we have line breaks in it. The line breaks aren't necessary, but they make it easier to read your query.
<h2>
<strong>Question: Do you need to capitalize SELECT and FROM?</strong>
</h2> <em>Answer</em>: No, SQL doesn't care about capitalization. However, it's customary to capitalize your SQL commands, and it makes your queries a bit easier to read. 

<h2>Working with big datasets</h2>

BigQuery datasets can be huge. We allow you to do a lot of computation for free, but everyone has some limit.

<strong>Each Kaggle user can scan 5TB every 30 days for free. Once you hit that limit, you'll have to wait for it to reset.</strong>

The biggest dataset currently on Kaggle is 3TB, so you can go through your 30-day limit in a couple queries if you aren't careful.
Don't worry though: we'll teach you how to avoid scanning too much data at once, so that you don't run over your limit.
To begin,you can estimate the size of any query before running it. Here is an example using the (
<em>very large!</em>) Hacker News dataset. To see how much data a query will scan, we create a <code>QueryJobConfig</code> object and set the <code>dry_run</code> parameter to <code>True</code>. 
In [10]:

# Query to get the score column from every row where the type column has value "job" query
=
"""       SELECT score, title
       FROM `bigquery-public-data.hacker_news.full`
       WHERE type = "job" 
       """

# Create a QueryJobConfig object to estimate size of query without running it dry_run_config=bigquery.

QueryJobConfig ( dry_run= True)
# API request - dry run query to estimate costs dry_run_query_job=client.
query(query ,

job_config= dry_run_config) print (

"This query will process 

{}

bytes.".
format(dry_run_query_job.
total_bytes_processed))
 


This query will process 399514186 bytes.

 
You can also specify a parameter when running the query to limit how much data you are willing to scan. Here's an example with a low limit. 
n [11]:

# Only run the query if it's less than 1 MB ONE_MB
=
1000 *
1000 safe_config=bigquery.
QueryJobConfig ( maximum_bytes_billed= ONE_MB)
# Set up the query (will only run if it's less than 1 MB) safe_query_job=client.
query(query ,

job_config= safe_config)
# API request - try to run the query, and return a pandas DataFrame safe_query_job.
to_dataframe ()
 

Out[11]:

<style scoped="">
    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }
    .dataframe tbody tr th {        vertical-align: top;    }
    .dataframe thead th {        text-align: right;    }

</style>
<table border="1" class="dataframe">
  
<thead>
<tr style="text-align: right;">
  <th></th>
  <th>score</th>
  <th>title</th>
</tr>
  
</thead>
  
<tbody>
<tr>
  <th>0</th>
  <td>51.0</td>
  <td>Justin.tv is looking for a Product Manager</td>
</tr>
<tr>
  <th>1</th>
  <td>5.0</td>
  <td>WePay - Designer</td>
</tr>
<tr>
  <th>2</th>
  <td>14.0</td>
  <td>Greplin is looking for an iPhone developer</td>
</tr>
<tr>
  <th>3</th>
  <td>46.0</td>
  <td>Senior Software Engineer - Comprehend Systems ...</td>
</tr>
<tr>
  <th>4</th>
  <td>15.0</td>
  <td>Justin.tv is still hiring Software Engineering...</td>
</tr>
<tr>
  <th>5</th>
  <td>5.0</td>
  <td>Backend Developer at Listia</td>
</tr>
<tr>
  <th>6</th>
  <td>6.0</td>
  <td>[DISQUS - San Francisco] Hiring: Back-end deve...</td>
</tr>
<tr>
  <th>7</th>
  <td>7.0</td>
  <td>Lead iOS Developer - HighlightCam</td>
</tr>
<tr>
  <th>8</th>
  <td>7.0</td>
  <td>Mixpanel - Designer</td>
</tr>
<tr>
  <th>9</th>
  <td>72.0</td>
  <td>thesixtyone (YC W09) is hiring software engineers</td>
</tr>
<tr>
  <th>10</th>
  <td>70.0</td>
  <td>Weebly is hiring a front-end web developer in ...</td>
</tr>
<tr>
  <th>11</th>
  <td>32.0</td>
  <td>Work at Socialcam and help the world share mob...</td>
</tr>
<tr>
  <th>12</th>
  <td>44.0</td>
  <td>Posterous - Frontend Design Engineer</td>
</tr>
<tr>
  <th>13</th>
  <td>47.0</td>
  <td>drchrono is looking for Healthcare Hackers. Jo...</td>
</tr>
<tr>
  <th>14</th>
  <td>24.0</td>
  <td>Justin.tv looking for a Head of Communications</td>
</tr>
<tr>
  <th>15</th>
  <td>20.0</td>
  <td>Wundrbar seeking iPhone developer</td>
</tr>
<tr>
  <th>16</th>
  <td>4.0</td>
  <td>WePay - Operations Associate</td>
</tr>
<tr>
  <th>17</th>
  <td>11.0</td>
  <td>Scoopler is Hiring: Join the real-time Revolut...</td>
</tr>
<tr>
  <th>18</th>
  <td>5.0</td>
  <td>Listia (YC S09) needs a great Rails Developer/...</td>
</tr>
<tr>
  <th>19</th>
  <td>5.0</td>
  <td>Justin.tv is hiring the smartest hackers from ...</td>
</tr>
<tr>
  <th>20</th>
  <td>44.0</td>
  <td>Graphic Designer needed for stealth/VC funded ...</td>
</tr>
<tr>
  <th>21</th>
  <td>21.0</td>
  <td>Work on something millions use: Intern at Just...</td>
</tr>
<tr>
  <th>22</th>
  <td>39.0</td>
  <td>Posterous is hiring UI Designers and Software ...</td>
</tr>
<tr>
  <th>23</th>
  <td>70.0</td>
  <td>BackType (YC S08) is hiring an Engineer (3rd T...</td>
</tr>
<tr>
  <th>24</th>
  <td>34.0</td>
  <td>Heysan looking for Java-developer   [San Franc...</td>
</tr>
<tr>
  <th>25</th>
  <td>6.0</td>
  <td>Mixpanel - Hardcore Engineer</td>
</tr>
<tr>
  <th>26</th>
  <td>14.0</td>
  <td>[Mountain View/Vancouver] SocialPicks Looking ...</td>
</tr>
<tr>
  <th>27</th>
  <td>7.0</td>
  <td>Airbnb hiring SEM specialist</td>
</tr>
<tr>
  <th>28</th>
  <td>8.0</td>
  <td>Mixpanel (S09) hiring a Software Engineer</td>
</tr>
<tr>
  <th>29</th>
  <td>53.0</td>
  <td>Optimizely is hiring software engineers!</td>
</tr>
<tr>
  <th>...</th>
  <td>...</td>
  <td>...</td>
</tr>
<tr>
  <th>12129</th>
  <td>3.0</td>
  <td>YC startup looking for short-term contract help</td>
</tr>
<tr>
  <th>12130</th>
  <td>3.0</td>
  <td>Frontend Engineer - Mixpanel Analytics [SF]</td>
</tr>
<tr>
  <th>12131</th>
  <td>3.0</td>
  <td>Airbnb hiring analytics specialist</td>
</tr>
<tr>
  <th>12132</th>
  <td>3.0</td>
  <td>Airbnb - Frontend Engineer</td>
</tr>
<tr>
  <th>12133</th>
  <td>3.0</td>
  <td>Airbnb - Fraud Management Engineer</td>
</tr>
<tr>
  <th>12134</th>
  <td>3.0</td>
  <td>Web developer intern - Mertado</td>
</tr>
<tr>
  <th>12135</th>
  <td>3.0</td>
  <td>BackType is hiring front and back-end developers</td>
</tr>
<tr>
  <th>12136</th>
  <td>3.0</td>
  <td>Software Architect at Mertado</td>
</tr>
<tr>
  <th>12137</th>
  <td>3.0</td>
  <td>WePay - Lead Designer</td>
</tr>
<tr>
  <th>12138</th>
  <td>3.0</td>
  <td>Front-end developers: hack your way around the...</td>
</tr>
<tr>
  <th>12139</th>
  <td>3.0</td>
  <td>BackType is hiring a BD engineer</td>
</tr>
<tr>
  <th>12140</th>
  <td>3.0</td>
  <td>BackType Is Hiring Search And Software Engineers</td>
</tr>
<tr>
  <th>12141</th>
  <td>3.0</td>
  <td>Weebly [W07] hiring a System Administrator - T...</td>
</tr>
<tr>
  <th>12142</th>
  <td>3.0</td>
  <td>Mertado (venture funded) is hiring web engineers</td>
</tr>
<tr>
  <th>12143</th>
  <td>3.0</td>
  <td>BackType is hiring designers and product engin...</td>
</tr>
<tr>
  <th>12144</th>
  <td>3.0</td>
  <td>Airbnb - Frontend Engineer</td>
</tr>
<tr>
  <th>12145</th>
  <td>3.0</td>
  <td>Airbnb - SEM Specialist</td>
</tr>
<tr>
  <th>12146</th>
  <td>3.0</td>
  <td>Mixpanel needs a frontend engineer (Python/JS)</td>
</tr>
<tr>
  <th>12147</th>
  <td>3.0</td>
  <td>Airbnb hiring 3 front-end engineers</td>
</tr>
<tr>
  <th>12148</th>
  <td>3.0</td>
  <td>Men wanted for hazardous journey: AdGrok (YC S...</td>
</tr>
<tr>
  <th>12149</th>
  <td>3.0</td>
  <td>Rails Programmer at Inkling</td>
</tr>
<tr>
  <th>12150</th>
  <td>3.0</td>
  <td>Javascript badass - Mixpanel</td>
</tr>
<tr>
  <th>12151</th>
  <td>3.0</td>
  <td>Mixpanel is looking for a great frontend devel...</td>
</tr>
<tr>
  <th>12152</th>
  <td>3.0</td>
  <td>BackType - Interns - SF</td>
</tr>
<tr>
  <th>12153</th>
  <td>3.0</td>
  <td>Tuxebo - Hiring London based hacker</td>
</tr>
<tr>
  <th>12154</th>
  <td>3.0</td>
  <td>Software Engineers Wanted (bounty: iPad for ea...</td>
</tr>
<tr>
  <th>12155</th>
  <td>3.0</td>
  <td>Airbnb - User Acquisition Engineer</td>
</tr>
<tr>
  <th>12156</th>
  <td>3.0</td>
  <td>Mixpanel is looking for a front-end engineer</td>
</tr>
<tr>
  <th>12157</th>
  <td>3.0</td>
  <td>Nowmov (YC 2010W) looking for Rails rockstars</td>
</tr>
<tr>
  <th>12158</th>
  <td>3.0</td>
  <td>WePay - Senior Backend Engineer</td>
</tr>
  
</tbody>
</table>
12159 rows × 2 columns 
In this case, the query was cancelled, because the limit of 1 MB was exceeded.  
However, we can increase the limit to run the query successfully! 
n [12]:

# Only run the query if it's less than 1 GB ONE_GB
=
1000 *
1000 *

1000 safe_config=bigquery.

QueryJobConfig ( maximum_bytes_billed= ONE_GB)
# Set up the query (will only run if it's less than 1 GB) safe_query_job=client.
query(query ,

job_config= safe_config)
# API request - try to run the query, and return a pandas DataFrame job_post_scores=safe_query_job.
to_dataframe ()

# Print average score for job posts job_post_scores.
score.
mean ()
 

Out[12]: 

1.95482369169756
 
<h2>A procedure</h2>
A procedure (often called a stored procedure) is a subroutine stored in database. 

<h2>A trigger</h2>
<strong>Trigger:</strong> A trigger is a stored procedure in database which automatically invokes whenever a special event in the database occurs. For example, a trigger can be invoked when a row is inserted into a specified table or when certain table columns are being updated. 


The CREATE TRIGGER statement allows you to create a new trigger that is fired automatically whenever an event such as INSERT, DELETE, or UPDATE occurs against a table.

The following illustrates the syntax of the CREATE TRIGGER statement:

CREATE TRIGGER [schema_name.]trigger_name
ON table_name
AFTER  {[INSERT],[UPDATE],[DELETE]}
[NOT FOR REPLICATION]
AS
{sql_statements}

In this syntax:
<li>The <code>schema_name</code> is the name of the schema to which the new trigger belongs. The schema name is optional.</li><li>The <code>trigger_name</code> is the user-defined name for the new trigger.</li><li>The <code>table_name</code> is the table to which the trigger applies.</li><li>The event is listed in the <code>AFTER</code> clause. The event could be <code>INSERT</code>, <code>UPDATE</code>, or <code>DELETE</code>. A single trigger can fire in response to one or more actions against the table.</li><li>The <code>NOT FOR REPLICATION</code> option instructs SQL Server not to fire the trigger when data modification is made as part of a replication process.</li><li>The <code>sql_statements</code> is one or more Transact-SQL used to carry out actions once an event occurs.</li>

<strong>Syntax:</strong>  

create trigger [trigger_name] 
[before | after]  
{insert | update | delete}  
on [table_name]  
[for each row]  
[trigger_body] 
<strong>Explanation of syntax:</strong>
<br/>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
          <!-- post_top_responsive -->
          <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-9465609616171866"
          data-ad-slot="4501693235"
          data-ad-format="auto"></ins>
          <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
        <br/>
            
<ol>
<li>create trigger [trigger_name]: Creates or replaces an existing trigger with the trigger_name.
</li>
<li>[before | after]: This specifies when the trigger will be executed.
</li>
<li>{insert | update | delete}: This specifies the DML operation.
</li>
<li>on [table_name]: This specifies the name of the table associated with the trigger.
</li>
<li>[for each row]: This specifies a row-level trigger, i.e., the trigger will be executed for each row being affected.
</li>
<li>[trigger_body]: This provides the operation to be performed as trigger is fired
</li>
</ol>
<strong>BEFORE and AFTER of Trigger:</strong><br />
BEFORE triggers run the trigger action before the triggering statement is run.<br />
AFTER triggers run the trigger action after the triggering statement is run.

<strong>Example:</strong><br />
Given Student Report Database, in which student marks assessment is recorded. In such schema, create a trigger so that the total and average of specified marks is automatically inserted whenever a record is insert.

Here, as trigger will invoke before record is inserted so, BEFORE Tag can be used.

<strong>Suppose the database Schema &#8211;</strong>

mysql&gt; desc Student; 
+-------+-------------+------+-----+---------+----------------+ 
| Field | Type        | Null | Key | Default | Extra          | 
+-------+-------------+------+-----+---------+----------------+ 
| tid   | int(4)      | NO   | PRI | NULL    | auto_increment | 
| name  | varchar(30) | YES  |     | NULL    |                | 
| subj1 | int(2)      | YES  |     | NULL    |                | 
| subj2 | int(2)      | YES  |     | NULL    |                | 
| subj3 | int(2)      | YES  |     | NULL    |                | 
| total | int(3)      | YES  |     | NULL    |                | 
| per   | int(3)      | YES  |     | NULL    |                |
+-------+-------------+------+-----+---------+----------------+ 
7 rows in set (0.00 sec)
SQL Trigger to problem statement.

create trigger stud_marks 
before INSERT 
on 
Student 
for each row 
set Student.total = Student.subj1 + Student.subj2 + Student.subj3, Student.per = Student.total * 60 / 100;
Above SQL statement will create a trigger in the student database in which whenever subjects marks are entered, before inserting this data into the database, trigger will compute those two values and insert with the entered values. i.e.,

mysql&gt; insert into Student values(0, "ABCDE", 20, 20, 20, 0, 0); 
Query OK, 1 row affected (0.09 sec) 

mysql&gt; select * from Student; 
+-----+-------+-------+-------+-------+-------+------+ 
| tid | name  | subj1 | subj2 | subj3 | total | per  | 
+-----+-------+-------+-------+-------+-------+------+ 
| 100 | ABCDE |    20 |    20 |    20 |    60 |   36 | 
+-----+-------+-------+-------+-------+-------+------+ 
1 row in set (0.00 sec)
In this way trigger can be creates and executed in the databases.


<h2>SQL Views</h2>
Views in SQL are kind of virtual tables. 
A view also has rows and columns as they are in a real table in the database. 
We can create a view by selecting fields from one or more tables present in the database. 
A View can either have all the rows of a table or specific rows based on certain condition.
In this article we will learn about creating , deleting and updating Views.<br />
<strong>Sample Tables</strong>:
StudentDetails

<img src="https://media.geeksforgeeks.org/wp-content/uploads/Screenshot-57-300x125.png">
StudentMarks
<img src="https://media.geeksforgeeks.org/wp-content/uploads/Screenshot-58-300x126.png">
<strong>CREATING VIEWS</strong>
We can create View using <strong>CREATE VIEW</strong> statement. 
A View can be created from a single table or multiple tables.
<strong>Syntax</strong>:
CREATE VIEW view_name AS
SELECT column1, column2.....
FROM table_name
WHERE condition;

<strong>view_name</strong>: Name for the View
<strong>table_name</strong>: Name of the table
<strong>condition</strong>: Condition to select rows

<strong>Examples</strong>:

<li><strong>Creating View from a single table:</strong>

<li>In this example we will create a View named DetailsView from the table StudentDetails.<br />
Query:
CREATE VIEW DetailsView AS
SELECT NAME, ADDRESS
FROM StudentDetails
WHERE S_ID &lt; 5;

To see the data in the View, we can query the view in the same manner as we query a table.
SELECT * FROM DetailsView;

Output:<br />
<img src="https://media.geeksforgeeks.org/wp-content/uploads/Screenshot-571-300x156.png"></li>
<li>In this example, we will create a view named StudentNames from the table StudentDetails.<br />
Query:

CREATE VIEW StudentNames AS
SELECT S_ID, NAME
FROM StudentDetails
ORDER BY NAME;

If we now query the view as,
SELECT * FROM StudentNames;

Output:<br />
<img src="https://media.geeksforgeeks.org/wp-content/uploads/Screenshot-64-300x126.png"></li>

</li>
<li><strong>Creating View from multiple tables</strong>: In this example we will create a View named MarksView from two tables StudentDetails and StudentMarks. 
To create a View from multiple tables we can simply include multiple tables in the SELECT statement. 
Query:
CREATE VIEW MarksView AS
SELECT StudentDetails.NAME, StudentDetails.ADDRESS, StudentMarks.MARKS
FROM StudentDetails, StudentMarks
WHERE StudentDetails.NAME = StudentMarks.NAME;

To display data of View MarksView:
SELECT * FROM MarksView;

Output:<br />
<img src="https://media.geeksforgeeks.org/wp-content/uploads/Screenshot-591-300x105.png"></li>

<strong>DELETING VIEWS</strong>
We have learned about creating a View, but what if a created View is not needed any more? Obviously we will want to delete it. 
SQL allows us to delete an existing View. 
We can delete or drop a View using the DROP statement.
<strong>Syntax</strong>:
DROP VIEW view_name;

<strong>view_name</strong>: Name of the View which we want to delete.

For example, if we want to delete the View <strong>MarksView</strong>, we can do this as:
DROP VIEW MarksView;

<strong>UPDATING VIEWS</strong>
There are certain conditions needed to be satisfied to update a view. 
If any one of these conditions is <strong>not</strong> met, then we will not be allowed to update the view.
<ol>
<li>The SELECT statement which is used to create the view should not include GROUP BY clause or ORDER BY clause.</li>
<li>The SELECT statement should not have the DISTINCT keyword.</li>
<li>The View should have all NOT NULL values.</li>
<li>The view should not be created using nested queries or complex queries.</li>
<li>The view should be created from a single table. 
If the view is created using multiple tables then we will not be allowed to update the view.</li>
</ol>

<li>We can use the <strong>CREATE OR REPLACE VIEW</strong> statement to add or remove fields from a view.<br />
<strong>Syntax</strong>:
CREATE OR REPLACE VIEW view_name AS
SELECT column1,coulmn2,..
FROM table_name
WHERE condition;

For example, if we want to update the view <strong>MarksView</strong> and add the field AGE to this View from <strong>StudentMarks </strong>Table, we can do this as:

CREATE OR REPLACE VIEW MarksView AS
SELECT StudentDetails.NAME, StudentDetails.ADDRESS, StudentMarks.MARKS, StudentMarks.AGE
FROM StudentDetails, StudentMarks
WHERE StudentDetails.NAME = StudentMarks.NAME;

If we fetch all the data from MarksView now as:
SELECT * FROM MarksView;

Output:<br />
<img src="https://media.geeksforgeeks.org/wp-content/uploads/Screenshot-60-300x78.png"></li>
<li><strong>Inserting a row in a view</strong>:<br />
We can insert a row in a View in a same way as we do in a table. 
We can use the INSERT INTO statement of SQL to insert a row in a View.<strong>Syntax</strong>:
INSERT view_name(column1, column2 , column3,..) 
VALUES(value1, value2, value3..);

<strong>view_name</strong>: Name of the View

<strong>Example</strong>:<br />
In the below example we will insert a new row in the View DetailsView which we have created above in the example of &#8220;creating views from a single table&#8221;.
INSERT INTO DetailsView(NAME, ADDRESS)
VALUES("Suresh","Gurgaon");

If we fetch all the data from DetailsView now as,
SELECT * FROM DetailsView;

Output:<br />
<img src="https://media.geeksforgeeks.org/wp-content/uploads/Screenshot-62-300x194.png"></li>
<li><strong>Deleting a row from a View</strong>:<br />
Deleting rows from a view is also as simple as deleting rows from a table. 
We can use the DELETE statement of SQL to delete rows from a view. 
Also deleting a row from a view first delete the row from the actual table and the change is then reflected in the view.<strong>Syntax</strong>:
DELETE FROM view_name
WHERE condition;

<strong>view_name</strong>:Name of view from where we want to delete rows
<strong>condition</strong>: Condition to select rows 

<strong>Example</strong>:<br />
In this example we will delete the last row from the view DetailsView which we just added in the above example of inserting rows.
DELETE FROM DetailsView
WHERE NAME="Suresh";

If we fetch all the data from DetailsView now as,
SELECT * FROM DetailsView;

Output:<br />
<img src="https://media.geeksforgeeks.org/wp-content/uploads/Screenshot-571-300x156.png"></li>

<strong>WITH CHECK OPTION</strong>
The WITH CHECK OPTION clause in SQL is a very useful clause for views. 
It is applicable to a updatable view. 
If the view is not updatable, then there is no meaning of including this clause in the CREATE VIEW statement.

<li>The WITH CHECK OPTION clause is used to prevent the insertion of rows in the view where the condition in the WHERE clause in CREATE VIEW statement is not satisfied.</li>
<li>If we have used the WITH CHECK OPTION clause in the CREATE VIEW statement, and if the UPDATE or INSERT clause does not satisfy the conditions then they will return an error.</li>

<strong>Example</strong>:<br />
In the below example we are creating a View SampleView from StudentDetails Table with WITH CHECK OPTION clause.
CREATE VIEW SampleView AS
SELECT S_ID, NAME
FROM  StudentDetails
WHERE NAME IS NOT NULL
WITH CHECK OPTION;

In this View if we now try to insert a new row with null value in the NAME column then it will give an error because the view is created with the condition for NAME column as NOT NULL.<br />
For example,though the View is updatable but then also the below query for this View is not valid:
INSERT INTO SampleView(S_ID)
VALUES(6);

<strong>NOTE</strong>: The default value of NAME column is <em>null</em>.

<h2></h2>
<h2><span class="white">How to use phpMyAdmin</span></h2>

This article will explain how you can use PHPMyAdmin and how to create a database dump.
By default it is accessible at <code>http://appname.hypernode.io/phpmyadmin</code>
For protection, phpMyAdmin by default is only accessible through the <code>appname.hypernode.io/phpmyadmin</code> URL, on Vagrant via the <code>appname.hypernode.local/phpmyadmin</code> url and on Docker through <code>YourBaseURL/dbadmin</code> after you followed <a href="https://support.hypernode.com/knowledgebase/use-phpmyadmin/#Reroute_phpmyadmin_to_dbadmin_and_add_a_whitelist">these</a> instructions. 
You can adjust this behaviour to your own preference.

<h2>Working with phpMyAdmin</h2>
<h2>Access phpMyAdmin</h2>
<h4>Credentials</h4>
PHPMyAdmin uses the same user and password your database uses. 
You can find them safely stored in <code>/data/web/.my.cnf</code>.
<h4>All customers: via URL</h4>
Did you order a trial via Hypernode.com? Please be aware you do not have access to a control panel yet. 
Access phpMyAdmin only via <code>http://appname.hypernode.io/phpmyadmin</code>.
You can log in using the credentials supplied in your .my.cnf file or through the user/password you might have created.
<h4>Dutch customers: via Service Panel</h4>
As a Dutch customer you can access phpMyAdmin via your Service Panel as well:

Log in to the <a href="https://service.byte.nl/protected/overzicht/">Byte Service Panel</a>
Select your Hypernode plan
Click on the Hypernode tab.
Click phpMyAdmin

<a href="http://support.hypernode.com/assets/uploads/pms_service_panel.png"><img aria-describedby="caption-attachment-418" class="size-large wp-image-418" src="http://support.hypernode.com/assets/uploads/pms_service_panel-300x174.png" alt="phpMyAdmin is accessible through the Service panel" width="300" height="174" /></a>Use phpMyAdmin on Hypernode
<h2>Create a database dump using phpMyAdmin</h2>

Go To <code>http://appname.hypernode.io/phpmyadmin</code>
Click on “Databases” and select the database.
Click on “Export”.
Click on “Go” and the export/backup will be available.

<strong>If you have a large database, making a database dump through phpMyAdmin is not very reliable. 
Before importing it, make sure the integrity of your database dump is sane!</strong>
<h2>Configure phpMyAdmin</h2>
<h2>Create whitelisting and/or basic_auth config</h2>
If you haven&#8217;t <a href="https://support.hypernode.com/knowledgebase/create-reusable-for-custom-nginx-locations/">created a whitelist or basic_auth config using include files</a> to protect your <code>phpmyadmin</code> from unsolicited IP addresses, do this first before you follow the instructions below.
<h2>Using phpMyAdmin over SSL or through another URL</h2>
When you <a href="https://support.hypernode.com/knowledgebase/redirect-all-http-traffic-to-https-in-nginx/" target="_blank" rel="noopener">redirect all traffic to HTTPS</a>, you might experience a SSL browser error when connecting to PHPMyAdmin as the SSL certificate of your domain does not match the .hypernode.io domain name.
To avoid this, there are 2 possible solutions:

<a href="https://support.hypernode.com/knowledgebase/use-lets-encrypt-hypernode/">Use Let&#8217;s Encrypt</a> and create an SSL certificate for appname.hypernode.io.
Adjust your Nginx config to make phpMyAdmin accessible through another url then appname.hypernode.io.

For the latter, use the instructions below.
<h2>Reroute /phpmyadmin to /dbadmin and add a whitelist</h2>
When you want to use phpMyAdmin over SSL, or you want to add a whitelist with IP&#8217;s that are allowed to access phpMyAdmin, you can do so by moving phpMyAdmin to another URL that we can adjust to our needs:

First, create a symlink in <code>/data/web/public</code>:
<textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 16px !important;">
ln -s /usr/share/phpmyadmin/ /data/web/public/dbadmin</textarea>

1

ln -s /usr/share/phpmyadmin/ /data/web/public/dbadmin

<!-- [Format Time: 0.0003 seconds] -->

For Magento 2, depending on your symlink settings you can use the same command as for a Magento 1 environment or you can use this command for the symlink:

<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

<textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 16px !important;">
ln -s /usr/share/phpmyadmin/ /data/web/magento2/pub/dbadmin</textarea>

1

ln -s /usr/share/phpmyadmin/ /data/web/magento2/pub/dbadmin

<!-- [Format Time: 0.0003 seconds] -->

Next, create a snippet in /data/web/nginx called <code>server.phpmyadmin</code> with the following content:

<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

<textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 16px !important;">
location /dbadmin {
# Only allow IP addresses defined in /data/web/include.whitelist
include /etc/nginx/app/include.whitelist;

# Uncomment to secure phpMyAdmin with additional basic_auth
# include /etc/nginx/app/include.basic_auth;

try_files $uri $uri/ /dbadmin/index.php last;

location ~ \.php$ {
echo_exec @phpfpm;
}
}</textarea>

12345678910111213

location /dbadmin {# Only allow IP addresses defined in /data/web/include.whitelistinclude /etc/nginx/app/include.whitelist; 
# Uncomment to secure phpMyAdmin with additional basic_auth# include /etc/nginx/app/include.basic_auth; 
try_files $uri $uri/ /dbadmin/index.php last; 
location ~ \.php$ {echo_exec @phpfpm;}}

<!-- [Format Time: 0.0010 seconds] -->

Next, create the include.whitelist in /data/web/nginx and add your IP(s) to the snippet

<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

<textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 16px !important;">
allow XXX.XXX.XXX.XXX;
deny all;</textarea>

12

allow XXX.XXX.XXX.XXX;deny all;

<!-- [Format Time: 0.0003 seconds] -->

And finally visit phpMyAdmin on https://yourdomain.nl/dbadmin
<strong>This will only add another URL where phpMyAdmin is accessible. 
If you only want to use this endpoint, block all access to <code>/phpmyadmin</code> too</strong>
<h2>Blocking all access to phpMyAdmin</h2>
If you want to fully disable phpMyAdmin, create the following snippet as <code>/data/web/nginx/server.phpmyadmin</code>:
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

<textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 16px !important;">
## Block PHPMyAdmin
location ~* phpmyadmin {
deny all;
}</textarea>

1234

## Block PHPMyAdminlocation ~* phpmyadmin {deny all;}

<!-- [Format Time: 0.0003 seconds] -->

<h2>Troubleshooting phpMyAdmin</h2>

The phpMyAdmin button in the control panel redirects to <code>https://</code> and gives a 404 in Nginx

This is probably because you redirect ALL traffic over HTTPS. 
Try using PHPMyAdmin over ssl as explained above.

I&#8217;m receiving an error while dumping the database

Most of the time this happens when a database is large and you exceed the <code>max_execution_time</code> or <code>memory_limit</code> in php. 
If this happens try <a href="https://support.hypernode.com/knowledgebase/using-mysql-on-hypernode/#Creating_a_MySQL_back-up">dumping your database on the command line</a>

My phpMyAdmin does not show any images

This happens when you redirect all traffic to HTTPS, causing mixed content errors in your browser. 
To solve this, use phpMyAdmin over SSL.

Static content doesn&#8217;t (fully) display

This happens if you define a regex location block in your nginx config that matches phpmyadmin&#8217;s static files; This will override the existing config for static files under /phpmyadmin/. 
To solve this, you will have to change your custom location block to not match files in the /phpmyadmin/ location.


<h2><span class="white">SQL_Zoo answers</span></h2>
LOAD DATA from text file:
not work: LOAD DATA INFILE 'world.txt' INTO TABLE world;
work: LOAD DATA LOCAL INFILE "C:\\Users\\User\\Desktop\\world.txt" INTO TABLE world;

The MySQL server is running with the --secure-file-priv option so it cannot execute this statement

Your MySQL server has been started with --secure-file-priv option which basically limits from which directories you can load files using LOAD DATA INFILE.

You may use SHOW VARIABLES LIKE "secure_file_priv"; to see the directory that has been configured.

<i>USE sampleDB;
show tables;</i>

show the structure of the table
<i>desc world;

show keys from world;

SELECT population FROM world WHERE name = "Germany"
</i>

SELECT population FROM world WHERE name = 'Germany'
uses a WHERE clause to select population of 'France'. Note that strings should be in 'single quotes';

SELECT name, population FROM world WHERE name IN ('Sweden', 'Norway', 'Denmark');
The IN operator allows you to specify multiple values in a WHERE clause.
Show the name and the population for 'Sweden', 'Norway' and 'Denmark'.

SELECT name, area FROM world WHERE area BETWEEN 250000 AND 300000
shows countries with an area of 250,000-300,000 sq. km

SELECT name FROM world WHERE name LIKE 'Y%'
find the countries that start with "B".
The % is a wild-card it can match any characters

SELECT name FROM world WHERE name LIKE '%Y'
Find the countries that end with y

SELECT name FROM world WHERE name LIKE '%x%'
Find the countries that contain the letter x

SELECT name FROM world WHERE name LIKE '%land'
Find the countries that end with land

SELECT name FROM world WHERE name LIKE 'c%ia'
Find the countries that start with C and end with ia

SELECT name FROM world WHERE name LIKE '%oo%'
Find the country that has oo in the name

SELECT name FROM world WHERE name LIKE '%a%a%a%'
Find the countries that have three or more a in the name

SELECT name FROM world WHERE name LIKE '_t%' ORDER BY name
Find the countries that have "t" as the second character.
the underscore is a single character wildcard.

SELECT name FROM world WHERE name LIKE '%o__o%'
Find the countries that have two "o" characters separated by two others.

SELECT name FROM world WHERE name LIKE '____'
Find the countries that have exactly four characters.

The capital of Luxembourg is Luxembourg. Show all the countries where the capital is the same as the name of the country

SELECT name, capital, continent FROM world WHERE (name = capital)
sql Find the country where the name is the capital city.

SELECT name FROM world WHERE name LIKE capital
Find the country where the name is the capital city.

SELECT name FROM world WHERE capital = concat(name, ' City');
Find the country where the capital is the country plus "City".
concat function combine two or more strings.


SELECT capital,name FROM world WHERE capital LIKE concat('%', name, '%')
Find the capital and the name where the capital includes the name of the country.

SELECT name, capital FROM world WHERE capital LIKE concat('%', name, '%') AND capital > name
Find the capital and the name where the capital is an extension of name of the country.

SELECT name, REPLACE(capital, name, '') FROM world WHERE capital LIKE concat('%', name, '%') AND capital > name
Show the name and the extension where the capital is an extension of name of the country.

<h2></h2>
<h2>mysql path:</h2>
D:\wamp64\bin\mysql\mysql5.7.23\bin

<h2></h2>
<h2>Cannot log in to the MySQL server:</h2>

shell> mysql -u root
mysql> FLUSH PRIVILEGES;
mysql> SET PASSWORD FOR 'root'@'localhost' = PASSWORD('asdf1234');

check the version info:
shell> mysqladmin -u root -p version


change the connect_type parameter from tcp to socket and added the parameter socket in config.inc.php:

$cfg['Servers'][$i]['host'] = 'localhost';
$cfg['Servers'][$i]['connect_type'] = 'socket';
$cfg['Servers'][$i]['socket'] = '/tmp/mysql.sock';

<h2></h2>
<h2>How to run SQL script in MySQL?</h2>

use the MySQL command line client: 
mysql -h hostname -u user database < path/to/test.sql

OR:
execute mysql statements that have been written in a text file using the following command:
mysql -u yourusername -p yourpassword yourdatabase < text_file

if yourdatabase has not been created yet, log into your mysql first using:

mysql -u yourusername -p yourpassword yourdatabase
then:

mysql>CREATE DATABASE a_new_database_name
then:

mysql -u yourusername -p yourpassword a_new_database_name < text_file
that should do it!

AND save results to a file:
mysql -u yourusername -p yourpassword yourdatabase < text_file > results_file


to run a single MySQL query from your regular shell instead of from MySQL's interactive command line you would do this:

mysql -u [username] -p [dbname] -e [query]

to create the database
mysql -u [username] -p -e "create database somedb"

running the query from the MySQL command line:
 $ mysql -u root -p somedb -e "select * from mytable"
Enter password:


Multiple-line Support

In SQL mode multiple line mode starts when the command \ is issued.
Once multiple-line mode is started, the subsequently entered statements are cached.

For example:
mysql-sql> \
... create procedure get_actors()
... begin
...   select first_name from sakila.actor;
... end



Invoke mysql:
shell> mysql db_name

Or:
shell> mysql --user=user_name --password db_name
Enter password: your_password

<i>mysql -u user_name -p  then press_enter_key
then type password
i.e.
line-1 : mysql -u root -p
line-2 : admin
</i>

<i>USE sampleDB;
show tables;</i>

show the structure of the table
<i>desc world;

show keys from world;

SELECT population FROM world WHERE name = "Germany"
</i>


https://dev.mysql.com/doc/refman/8.0/en/mysql-commands.html
mysql Client Commands

mysql> help

List of all MySQL commands:
Note that all text commands must be first on line and end with ';'
?         (\?) Synonym for `help'.
clear     (\c) Clear the current input statement.
connect   (\r) Reconnect to the server. Optional arguments are db and host.
delimiter (\d) Set statement delimiter.
edit      (\e) Edit command with $EDITOR.
ego       (\G) Send command to mysql server, display result vertically.
exit      (\q) Exit mysql. Same as quit.
go        (\g) Send command to mysql server.
help      (\h) Display this help.
nopager   (\n) Disable pager, print to stdout.
notee     (\t) Don't write into outfile.
pager     (\P) Set PAGER [to_pager]. Print the query results via PAGER.
print     (\p) Print current command.
prompt    (\R) Change your mysql prompt.
quit      (\q) Quit mysql.
rehash    (\#) Rebuild completion hash.
source    (\.) Execute an SQL script file. Takes a file name as an argument.
status    (\s) Get status information from the server.
system    (\!) Execute a system shell command.
tee       (\T) Set outfile [to_outfile]. Append everything into given
               outfile.
use       (\u) Use another database. Takes database name as argument.
charset   (\C) Switch to another charset. Might be needed for processing
               binlog with multi-byte charsets.
warnings  (\W) Show warnings after every statement.
nowarning (\w) Don't show warnings after every statement.
resetconnection(\x) Clean session context.

For server side help, type 'help contents'

<h2></h2>
<h2><span class="gold">Create MySQL Database, Table & User From Command Line Guide</span></h2>
<a href="https://www.a2hosting.com/kb/developer-corner/mysql/managing-mysql-databases-and-users-from-the-command-line">managing mysql databases and users from the command line</a>
<br>

<h2>Create MySQL&nbsp;Databases&nbsp;and Users</h2>

To create MySQL database and users, follow these steps:

At the command line, log in to MySQL as the root user:
mysql -u root -p

Type the MySQL root password, and then press Enter.

To create a database user, type the following command. Replace <span style="color:#ff0000;"><em>username</em></span> with the user you want to create, and replace <span style="color:#ff0000;"><em>password</em></span> with the user&#39;s password:<br />GRANT ALL PRIVILEGES ON *.* TO &#39;username&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;;

<div class="note">
This command grants the user all permissions. However, you can grant specific permissions to maintain precise control over database access. For example, to explicitly grant the <strong>SELECT</strong> permission, you would use the following command:
GRANT SELECT ON *.* TO &#39;username&#39;@&#39;localhost&#39;;
</div>
For more information about setting MySQL database permissions, please visit <a href="https://dev.mysql.com/doc/refman/5.5/en/grant.html">https://dev.mysql.com/doc/refman/5.5/en/grant.html</a>.

Type <span class="user-input">\q</span> to exit the <em>mysql</em> program.

To log in to MySQL as the user you just created, type the following command. Replace <span style="color:#ff0000;"><em>username</em></span> with the name of the user you created in step 3:<br />mysql -u username -p

Type the user&#39;s password, and then press Enter.

To create a database, type the following command. Replace <span style="color:#ff0000;"><em>dbname</em></span> with the name of the database that you want to create:<br />CREATE DATABASE dbname;

To work with the new database, type the following command. Replace <span style="color:#ff0000;"><em>dbname</em></span> with the name of the database you created in step 7:<br />USE dbname;

You can now work with the database. For example, the following commands demonstrate how to create a basic table named <em>example</em>, and how to insert some data into it:<br />CREATE TABLE example ( id smallint unsigned not null auto_increment, name varchar(20) not null, constraint pk_example primary key (id) );&#10;INSERT INTO example ( id, name ) VALUES ( null, &#39;Sample data&#39; );&#10;

<h5>Using SQL script files</h5>

The previous procedure demonstrates how to create and populate a MySQL database by typing each command interactively with the <em>mysql</em> program. However, you can streamline the process by combining commands into a SQL script file.

The following procedure demonstrates how to use a SQL script file to create and populate a database:

As in the previous procedure, you should first create a user for the database. To do this, type the following commands:
mysql -u root -p&#10;GRANT ALL PRIVILEGES ON *.* TO &#39;username&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;;&#10;\q&#10;

Create a file named <em>example.sql</em> and open it in your preferred text edtior. Copy and paste the following text into the file:<br />CREATE DATABASE <span style="color:#ff0000;"><em>dbname</em></span>;&#10;USE <span style="color:#ff0000;"><em>dbname</em></span>;&#10;CREATE TABLE <span style="color:#ff0000;"><em>tablename</em></span> ( id smallint unsigned not null auto_increment, name varchar(20) not null, constraint pk_example primary key (id) );&#10;INSERT INTO <span style="color:#ff0000;"><em>tablename</em></span> ( id, name ) VALUES ( null, &#39;Sample data&#39; );

Replace <span style="color:#ff0000;"><em>dbname</em></span> with the name of the database that you want to create, and <span style="color:#ff0000;"><em>tablename</em></span> with the name of the table that you want to create.<br /><div class="note">You can modify the sample script file to create multiple databases and tables all at once. Additionally, the sample script creates a very simple table. You will likely have additional data requirements for your tables.
Save the changes to the <em>example.sql</em> file and exit the text editor.
</div>
To process the SQL script, type the following command. Replace <span style="color:#ff0000;"><em>username</em></span> with the name of the user you created in step 1:<br />mysql -u username -p &lt; example.sql

The <em>mysql</em> program processes the script file statement by statement. When it finishes, the database and table are created, and the table contains the data you specified in the <strong>INSERT</strong> statements.


<h2>Delete&nbsp;MySQL Tables and Databases</h2>

To delete a table, type the following command from the <strong>mysql&gt;</strong> prompt. Replace <span style="color:#ff0000;"><em>tablename</em></span> with the name of the table that you want to delete:
DROP TABLE tablename;

<div class="note">This command assumes that you have already selected a database by using the <strong>USE</strong> statement.
</div>
Similarly, to delete an entire database, type the following command from the <strong>mysql&gt;</strong> prompt. Replace <span style="color:#ff0000;"><em>dbname</em></span> with the name of the database that you want to delete:
DROP DATABASE dbname;

<div class="warning">The <em>mysql</em> program does not ask for confirmation when you use this command. As soon as you press Enter, MySQL deletes the database and all of the data it contains.
</div>
<h2>Delete MySQL&nbsp;Users</h2>

To view a list of all users, type the following command from the <strong>mysql&gt;</strong> prompt:
SELECT user FROM mysql.user GROUP BY user;

To delete a specific user, type the following command from the <strong>mysql&gt;</strong> prompt. Replace <span style="color:#ff0000;"><em>username</em></span> with the name of the user that you want to delete:
DELETE FROM mysql.user WHERE user = &#39;username&#39;;

<h2>More Information</h2>
To view the official MySQL documentation, please visit <a href="https://dev.mysql.com/doc/refman/5.5/en/index.html">https://dev.mysql.com/doc/refman/5.5/en/index.html</a>.

<br />
<h2>Related Articles</h2>

<a href="https://www.a2hosting.com/kb/developer-corner/mysql/connect-to-mysql-from-the-command-line">Connecting to MySQL from the command line</a>
Learn how to connect to MySQL from the command line using the mysql program with this guide including detailed instructions, code snippets and links to related articles.

<a href="https://www.a2hosting.com/kb/developer-corner/mysql/reset-mysql-root-password">Reset MySQL root password</a>
You can reset your MySQL root password if you have forgotten it. This article shows you how to change it. Note that you must have root access to your server to accomplish this.


<h2><span class="crimson">SQLTools</span></h2>

Install SQLTools plugin
Configure Connections file (sublime command ST: Setup Connection or look in menu Package Settings - SQLTools - Connections)
Execute SQL or other SQLTools command using shortcuts or Commands (ST: Execute, ST: Table Description, etc)


Auto complete (PostgreSQL & MySQL) && Run SQL Queries
execute_auto_complete.gif?raw=true
Formatting SQL Queries (CTRL+e, CTRL+b) Formatting SQL Queries
List and Run saved queries (CTRL+e, CTRL+a)
Remove saved queries (CTRL+e, CTRL+r)
Run SQL Queries (CTRL+e, CTRL+e) Auto complete (PostgreSQL & MySQL) && Run SQL Queries
Save queries (CTRL+e, CTRL+q)
Show explain plan for queries (PostgreSQL, MySQL, Oracle, Vertica, SQLite) (CTRL+e, CTRL+x)
Show table records (CTRL+e, CTRL+s) Show table records
View Queries history (CTRL+e, CTRL+h)
View table schemas (CTRL+e, CTRL+d) View table schemas
Works with PostgreSQL, MySQL, Oracle, MSSQL, SQLite, Vertica, Firebird and Snowflake
Smart completions (except SQLite)
Run SQL Queries   CTRL+e, CTRL+e
View table description   CTRL+e, CTRL+d
Show table records   CTRL+e, CTRL+s
Show explain plan for queries   CTRL+e, CTRL+x
Formatting SQL Queries   CTRL+e, CTRL+b
View Queries history   CTRL+e, CTRL+h
Save queries   CTRL+e, CTRL+q
List and Run saved queries   CTRL+e, CTRL+l
Remove saved queries   CTRL+e, CTRL+r

Below you can see an example of the SQLToolsConnections.sublime-settings:

{
    "connections": {
        "Connection MySQL": {
            "type"    : "mysql",
            "host"    : "127.0.0.1",
            "port"    : 3306,
            "database": "dbname",
            "username": "user",
            "password": "password",  // you will get a security warning in the output
            // "defaults-extra-file": "/path/to/defaults_file_with_password",  // use [client] or [mysql] section
            // "login-path": "your_login_path",  // login path in your ".mylogin.cnf"
            "encoding": "utf-8"
        },
        "Connection PostgreSQL": {
            "type"    : "pgsql",
            "host"    : "127.0.0.1",
            "port"    :  5432,
            "database": "dbname",
            "username": "anotheruser",
            // for PostgreSQL "password" is optional (setup "pgpass.conf" file instead)
            "password": "password",
            "encoding": "utf-8"
        },
        "Connection Oracle": {
            "type"    : "oracle",
            "host"    : "127.0.0.1",
            "port"    :  1522,
            "database": "dbname",
            "username": "anotheruser",
            "password": "password",
            "service" : "servicename",
            "encoding": "utf-8"
        },
        "Connection SQLite": {
            "type"    : "sqlite",
            "database": "d:/sqlite/sample_db/chinook.db",
            "encoding": "utf-8"
        }
    },
    "default": "Connection MySQL"
}

Auto Complete
After you select one connection, SQLTools will prepare auto completions for you.

PS: For a better experience, add this line to your sublime settings file

CTRL+SHIFT+p, select “Preferences: Settings - User”
add this option:
{
  "auto_complete_triggers": [
    {"selector": "text.html", "characters": "<" },
    {"selector": "source.sql", "characters": "."}
  ]
}


<h2><span class="pink">R SQLite</span></h2>
Embeds the SQLite database engine in R, providing a DBI-compliant interface. <a href="http://www.sqlite.org">SQLite</a> is a public-domain, single-user, very light-weight database engine that implements a decent subset of the SQL 92 standard, including the core table creation, updating, insertion, and selection operations, plus transaction management.
You can install the latest released version of RSQLite from CRAN with:
<code>install.packages("RSQLite")</code>
Or install the latest development version from GitHub with:
<code># install.packages("devtools")
devtools::install_github("rstats-db/RSQLite")</code>
To install from GitHub, you’ll need a <a href="http://www.rstudio.com/ide/docs/packages/prerequisites">development environment</a>.

<h2>Basic usage</h2>
<code>library(DBI)
# Create an ephemeral in-memory RSQLite database
con &lt;- dbConnect(RSQLite::SQLite(), ":memory:")

dbListTables(con)</code>
<code>## character(0)</code>
<code>dbWriteTable(con, "mtcars", mtcars)
dbListTables(con)</code>
<code>## [1] "mtcars"</code>
<code>dbListFields(con, "mtcars")</code>
<code>##  [1] "mpg"  "cyl"  "disp" "hp"   "drat" "wt"   "qsec" "vs"   "am"   "gear"
## [11] "carb"</code>
<code>dbReadTable(con, "mtcars")</code>
<code>##     mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## 1  21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## 2  21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## 3  22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
.....
## 30 19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
## 31 15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
## 32 21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code>
<code># You can fetch all results:
res &lt;- dbSendQuery(con, "SELECT * FROM mtcars WHERE cyl = 4")
dbFetch(res)</code>
<code>##     mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## 1  22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## 2  24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## 3  22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
.....
## 10 30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
## 11 21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code>
<code>dbClearResult(res)

# Or a chunk at a time
res &lt;- dbSendQuery(con, "SELECT * FROM mtcars WHERE cyl = 4")
while(!dbHasCompleted(res)){
  chunk &lt;- dbFetch(res, n = 5)
  print(nrow(chunk))
}</code>
<code>## [1] 5
## [1] 5
## [1] 1</code>
<code># Clear the result
dbClearResult(res)

# Disconnect from the database
dbDisconnect(con)</code>

<h2></h2>
<h2><span class="red">Database Queries With R</span></h2>
There are many ways to query data with R. 
This article shows you three of the most common ways:
<ol style="list-style-type: decimal">
<li>Using <code>DBI</code></li>
<li>Using <code>dplyr</code> syntax</li>
<li>Using R Notebooks</li>
</ol>

<h2>Background</h2>
Several recent package improvements make it easier for you to use databases with R. 
The query examples below demonstrate some of the capabilities of these R packages.

<li><a href="/dbi">DBI</a>. 
The <code>DBI</code> specification has gone through many <a href="https://www.r-consortium.org/blog/2017/05/15/improving-dbi-a-retrospect">recent improvements</a>. 
When working with databases, you should always use packages that are <code>DBI</code>-compliant.</li>
<li><a href="/dplyr">dplyr</a> &amp; <code>dbplyr</code>. 
The <code>dplyr</code> package now has a generalized SQL backend for talking to databases, and the new <code>dbplyr</code> package translates R code into database-specific variants. 
As of this writing, SQL variants are supported for the following databases: Oracle, Microsoft SQL Server, PostgreSQL, Amazon Redshift, Apache Hive, and Apache Impala. 
More will follow over time.</li>
<li><a href="/odbc">odbc</a>. 
The <code>odbc</code> R package provides a standard way for you to connect to any database as long as you have an ODBC driver installed. 
The <code>odbc</code> R package is <code>DBI</code>-compliant, and is recommended for ODBC connections.</li>

RStudio also made recent improvements to its products so they work better with databases.

<li><a href="/connections">RStudio>. 
With the latest version of the RStudio>connections contract</a>.</li>
<li><a href="/rstudio/pro-drivers/">RStudio Professional Drivers</a>. 
If you are using RStudio professional products, you can download RStudio Professional Drivers for no additional cost. 
The examples below use the Oracle ODBC driver. 
If you are using open-source tools, you can bring your own driver or use community packages – many open-source drivers and community packages exist for connecting to a variety of databases.</li>

Using databases with R is a broad subject and there is more work to be done. 
An earlier blog post discussed <a href="https://blog.rstudio.com/2017/06/27/dbplyr-1-1-0/">our vision</a>.


<h2>Example: Query bank data in an Oracle database</h2>
In this example, we will query bank data in an Oracle database. 
We connect to the database by using the <code>DBI</code> and <code>odbc</code> packages. 
This specific connection requires a database driver and a data source name (DSN) that have both been configured by the system administrator. 
Your connection might use another method.
<code>library(DBI)
library(dplyr)
library(dbplyr)
library(odbc)
con &lt;- dbConnect(odbc::odbc(), &quot;Oracle DB&quot;)</code>


<h2>1. Query using <code>DBI</code></h2>
You can query your data with <code>DBI</code> by using the <code>dbGetQuery()</code> function. 
Simply paste your SQL code into the R function as a quoted string. 
This method is sometimes referred to as <em>pass through SQL code</em>, and is probably the simplest way to query your data. 
Care should be used to escape your quotes as needed. 
For example, <code>'yes'</code> is written as <code>\'yes\'</code>.
<code>dbGetQuery(con,&#39;
  select &quot;month_idx&quot;, &quot;year&quot;, &quot;month&quot;,
  sum(case when &quot;term_deposit&quot; = \&#39;yes\&#39; then 1.0 else 0.0 end) as subscribe,
  count(*) as total
  from &quot;bank&quot;
  group by &quot;month_idx&quot;, &quot;year&quot;, &quot;month&quot;
&#39;)</code>


<h2>2. Query using dplyr syntax</h2>
You can write your code in <code>dplyr</code> syntax, and <code>dplyr</code> will translate your code into SQL. 
There are several benefits to writing queries in <code>dplyr</code> syntax: you can keep the same consistent language both for R objects and database tables, no knowledge of SQL or the specific SQL variant is required, and you can take advantage of the fact that <code>dplyr</code> uses <a href="http://dbplyr.tidyverse.org/articles/dbplyr.html">lazy evaluation</a>. 
<code>dplyr</code> syntax is easy to read, but you can always inspect the SQL translation with the <code>show_query()</code> function.
<code>q1 &lt;- tbl(con, &quot;bank&quot;) %&gt;%
  group_by(month_idx, year, month) %&gt;%
  summarise(
    subscribe = sum(ifelse(term_deposit == &quot;yes&quot;, 1, 0)),
    total = n())
show_query(q1)</code>
<br/>
<code>&lt;SQL&gt;
SELECT &quot;month_idx&quot;, &quot;year&quot;, &quot;month&quot;, SUM(CASE WHEN (&quot;term_deposit&quot; = &#39;yes&#39;) THEN (1.0) ELSE (0.0) END) AS &quot;subscribe&quot;, COUNT(*) AS &quot;total&quot;
FROM (&quot;bank&quot;) 
GROUP BY &quot;month_idx&quot;, &quot;year&quot;, &quot;month&quot;</code>


<h2>3. Query using an R Notebooks</h2>
Did you know that you can run SQL code in an <a href="http://rmarkdown.rstudio.com/r_notebooks.html">R Notebook</a> code chunk? To use SQL, open an <a href="http://rmarkdown.rstudio.com/r_notebooks.html">R Notebook</a> in the RStudio>File &gt; New File</strong> menu. 
Start a new code chunk with <code>{sql}</code>, and specify your connection with the <code>connection=con</code> code chunk option. 
If you want to send the query output to an R dataframe, use <code>output.var = &quot;mydataframe&quot;</code> in the code chunk options. 
When you specify <code>output.var</code>, you will be able to use the output in subsequent R code chunks. 
In this example, we use the output in <code>ggplot2</code>.
<code>```{sql, connection=con, output.var = &quot;mydataframe&quot;}
SELECT &quot;month_idx&quot;, &quot;year&quot;, &quot;month&quot;, SUM(CASE WHEN (&quot;term_deposit&quot; = &#39;yes&#39;) THEN (1.0) ELSE (0.0) END) AS &quot;subscribe&quot;,
COUNT(*) AS &quot;total&quot;
FROM (&quot;bank&quot;) 
GROUP BY &quot;month_idx&quot;, &quot;year&quot;, &quot;month&quot;
```</code>
<br/>
<code>```{r}
library(ggplot2)
ggplot(mydataframe, aes(total, subscribe, color = year)) +
  geom_point() +
  xlab(&quot;Total contacts&quot;) +
  ylab(&quot;Term Deposit Subscriptions&quot;) +
  ggtitle(&quot;Contact volume&quot;)
```</code>
<img src="https://d33wubrfki0l68.cloudfront.net/d821119ba6b773602e2b49539741197c815725cf/ca183/images/bankggplot.png" />
The benefits to using SQL in a code chunk are that you can paste your SQL code without any modification. 
For example, you do not have to escape quotes. 
If you are using the proverbial <em>spaghetti code</em> that is hundreds of lines long, then a SQL code chunk might be a good option. 
Another benefit is that the SQL code in a code chunk is highlighted, making it very easy to read. 
For more information on SQL engines, see this page on <a href="http://rmarkdown.rstudio.com/authoring_knitr_engines.html">knitr language engines</a>.


<h2>Summary</h2>
There is no single best way to query data with R. 
You have many methods to chose from, and each has its advantages. 
Here are some of the advantages using the methods described in this article.

<table>
<colgroup>
<col width="34%" />
<col width="65%" />
</colgroup>
<thead>
<tr class="header">
<th>Method</th>
<th>Advantages</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><ol style="list-style-type: decimal">
<li>DBI::dbGetQuery</li>
</ol></td>
<td>
<li>Fewer dependencies required</li>
</td>
</tr>
<tr class="even">
<td><ol start="2" style="list-style-type: decimal">
<li>dplyr syntax</li>
</ol></td>
<td>
<li>Use the same syntax for R and database objects</li>
<li>No knowledge of SQL required</li>
<li>Code is standard across SQL variants</li>
<li>Lazy evaluation</li>
</td>
</tr>
<tr class="odd">
<td><ol start="3" style="list-style-type: decimal">
<li>R Notebook SQL engine</li>
</ol></td>
<td>
<li>Copy and paste SQL – no formatting required</li>
<li>SQL syntax is highlighted</li>
</td>
</tr>
</tbody>
</table>

<h2></h2>

<h2>SQL in R</h2>
SQL is a database query language - a language designed specifically for interacting with a database. 
It offers syntax for extracting data, updating data, replacing data, creating data, etc. 
For our purposes, it will typically be used when accessing data off a server database. 
If the database isn’t too large, you can grab the entire data set and stick it in a <code>data.frame</code>. 
However, often the data are quite large so you interact with it piecemeal via SQL.
There are various database implementations (SQLite, Microsoft SQL Server, PostgreSQL, etc) which are database management software which use SQL to access the data. 
The method of connecting with each database may differ, but they support SQL (specifically they support ANSI SQL) and often extend it in subtle ways. 
This means that in general, SQL written to access a SQLite database may not work to access a PostgreSQL database.
Thankfully, most of these differences are on more fringe operations, and standard commands tend to be equivalent.

<h2>SQL in this</h2>
The first (and in my opinion, biggest) hurdle in using SQL is accessing the actual data. 
If you are accessing data which someone else is hosting, they will (hopefully) have IT administrators who can assist you with this task. 
The exact method and settings used with differ greatly by project, so we will not be covering it in this>
<li><a href="https://cran.r-project.org/web/packages/DBI/index.html">DBI</a></li>
<li><a href="https://cran.r-project.org/web/packages/RODBC/index.html">RODBC</a></li>
<li><a href="https://cran.r-project.org/web/packages/dbConnect/index.html">dbConnect</a></li>
<li><a href="https://cran.r-project.org/web/packages/RSQLite/index.html">RSQLite</a></li>
<li><a href="https://cran.r-project.org/web/packages/RMySQL/index.html">RMySQL</a></li>
<li><a href="https://cran.r-project.org/web/packages/RPostgreSQL/index.html">RPostgreSQL</a></li>

For these notes, we will cover only the syntax of SQL queries, using the <a href="https://cran.r-project.org/web/packages/sqldf/index.html">sqldf</a> package which enables SQL queries on a <code>data.frame</code>. 
<em>We will not cover connecting to a SQL server, nor modifying an existing database, only extracting the data to analyze in R with normal methods.</em>

<h2>sqldf package</h2>
<code>library(sqldf)</code>
The sqldf package is incredibly simple, from R’s point of view. 
There is a single function are concerned about: <code>sqldf</code>. 
Passed to this function is a SQL statement, such as
<code>sqldf('SELECT age, circumference FROM Orange WHERE Tree = 1 ORDER BY circumference ASC')
## Warning: Quoted identifiers should have>
##    age circumference
## 1  118            30
## 2  484            58
## 3  664            87
## 4 1004           115
## 5 1231           120
## 6 1372           142
## 7 1582           145</code>
(Note: The above warning is due to some <a href="https://github.com/rstats-db/RSQLite/issues/196">compatibility issues</a> between sqldf and RSQLite and shouldn’t affect anything.)
<h2>SQL Queries</h2>
There are a large number of SQL major commands. 
Queries are accomplished with the <code>SELECT</code> command. 
First a note about convention:
By convention, SQL syntax is written in all UPPER CASE and variable names/database names are written in lower case. 
Technically, the SQL syntax is case insensitive, so it can be written in lower case or otherwise. 
Note however that R is <strong>not</strong> case insensitive, so variable names and data frame names must have proper capitalization. 
Hence
<code>sqldf("SELECT * FROM iris")
sqldf("select * from iris")</code>
are equivalent, but this would fail (assuming you haven’t created a new object called “IRIS”):
<code>sqldf("SELECT * from IRIS")</code>
The basic syntax for SELECT is
<code>SELECT variable1, variable2 FROM data</code>
For example,
<code>data(BOD)
BOD</code>
<code>##   Time demand
## 1    1    8.3
## 2    2   10.3
## 3    3   19.0
## 4    4   16.0
## 5    5   15.6
## 6    7   19.8</code>
<code>sqldf('SELECT demand FROM BOD')</code>
<code>##   demand
## 1    8.3
## 2   10.3
## 3   19.0
## 4   16.0
## 5   15.6
## 6   19.8</code>
<code>sqldf('SELECT Time, demand from BOD')</code>
<code>##   Time demand
## 1    1    8.3
## 2    2   10.3
## 3    3   19.0
## 4    4   16.0
## 5    5   15.6
## 6    7   19.8</code>
A quick sidenote: SQL does not like variables with <code>.</code> in their name. 
If you have any, refer to the variable wrapped in quotes, such as
<code>iris1 &lt;- sqldf('SELECT Petal.Width FROM iris')</code>
<code>## Error in rsqlite_send_query(conn@ptr, statement): no such column: Petal.Width</code>
<code>iris2 &lt;- sqldf('SELECT "Petal.Width" FROM iris')</code>

<h2>Wildcard</h2>
A wild card can be passed to extract everything.
<code>bod2 &lt;- sqldf('SELECT * FROM BOD')
bod2</code>
<code>##   Time demand
## 1    1    8.3
## 2    2   10.3
## 3    3   19.0
## 4    4   16.0
## 5    5   15.6
## 6    7   19.8</code>
<h2>LIMIT</h2>
To control the number of results returned, use <code>LIMIT #</code>.
<code>sqldf('SELECT * FROM iris LIMIT 5')</code>
<code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa</code>
<h2>ORDER BY</h2>
To order variables, use the syntax
<code>ORDER BY var1 {ASC/DESC}, var2 {ASC/DESC}</code>
where the choice of <code>ASC</code> for ascending or <code>DESC</code> for descending is made per variable.
<code>sqldf("SELECT * FROM Orange ORDER BY age ASC, circumference DESC LIMIT 5")</code>
<code>##   Tree age circumference
## 1    2 118            33
## 2    4 118            32
## 3    1 118            30
## 4    3 118            30
## 5    5 118            30</code>
<h2>WHERE</h2>
Conditional statements can be added via <code>WHERE</code>:
<code>sqldf('SELECT demand FROM BOD WHERE Time &lt; 3')</code>
<code>##   demand
## 1    8.3
## 2   10.3</code>
Both <code>AND</code> and <code>OR</code> are valid, along with paranthese to affect order of operations.
<code>sqldf('SELECT * FROM rock WHERE (peri &gt; 5000 AND shape &lt; .05) OR perm &gt; 1000')</code>
<code>##   area     peri    shape perm
## 1 5048  941.543 0.328641 1300
## 2 1016  308.642 0.230081 1300
## 3 5605 1145.690 0.464125 1300
## 4 8793 2280.490 0.420477 1300</code>
There are few more complicated ways to use <code>WHERE</code>:

<h2>IN</h2>
<code>WHERE IN</code> is used similar to R’s <code>%in%</code>. 
It also supports <code>NOT</code>.
<code>sqldf('SELECT * FROM BOD WHERE Time IN (1,7)')</code>
<code>##   Time demand
## 1    1    8.3
## 2    7   19.8</code>
<code>sqldf('SELECT * FROM BOD WHERE Time NOT IN (1,7)')</code>
<code>##   Time demand
## 1    2   10.3
## 2    3   19.0
## 3    4   16.0
## 4    5   15.6</code>
<h2>LIKE</h2>
<code>LIKE</code> can be thought of as a weak regular expression command. 
It only allows the single wildcard <code>%</code> which matches any number of characters. 
For example, to extract the data where the feed ends with “bean”:
<code>sqldf('SELECT * FROM chickwts WHERE feed LIKE "%bean" LIMIT 5')</code>
<code>##   weight      feed
## 1    179 horsebean
## 2    160 horsebean
## 3    136 horsebean
## 4    227 horsebean
## 5    217 horsebean</code>
<code>sqldf('SELECT * FROM chickwts WHERE feed NOT LIKE "%bean" LIMIT 5')</code>
<code>##   weight    feed
## 1    309 linseed
## 2    229 linseed
## 3    181 linseed
## 4    141 linseed
## 5    260 linseed</code>

<h2>Aggregated data</h2>
Select statements can create aggregated data using <code>AVG</code>, <code>MEDIAN</code>, <code>MAX</code>, <code>MIN</code>, and <code>SUM</code> as functions in the list of variables to select. 
The <code>GROUP BY</code> statement can be added to aggregate by groups. 
<code>AS</code> can name the
<code>sqldf("SELECT AVG(circumference) FROM Orange")</code>
<code>##   AVG(circumference)
## 1           115.8571</code>
<code>sqldf("SELECT tree, AVG(circumference) AS meancirc FROM Orange GROUP BY tree")</code>
<code>##   Tree  meancirc
## 1    1  99.57143
## 2    2 135.28571
## 3    3  94.00000
## 4    4 139.28571
## 5    5 111.14286</code>

<h2>Counting data</h2>
<code>SELECT COUNT()</code> returns the number of observations. 
Passing <code>*</code> or nothing returns total rows, passing a variable name returns the number of non-NA entries. 
<code>AS</code> works as well.
<code>d &lt;- data.frame(a = c(1,1,1), b = c(1,NA,NA))
d</code>
<code>##   a  b
## 1 1  1
## 2 1 NA
## 3 1 NA</code>
<code>sqldf("SELECT COUNT() as numrows FROM d")</code>
<code>##   numrows
## 1       3</code>
<code>sqldf("SELECT COUNT(b) FROM d")</code>
<code>##   COUNT(b)
## 1        1</code>


<h2>Conclusion</h2>
This is only the tip of the iceberg which is SQL. 
There are far more advanced commands available, from <code>DELETE</code> or <code>UPDATE</code> to modify a database, to various <code>JOIN</code> commands for merging. 
If the database is large enough that you cannot store the entire dataset on your computer, you may need to learn more commands. 
For some tutorials into more advanced SQL see the following:

<h2>@ symbol</h2>
The @ symbol in front of a function silences it. Meaning, you won't get any types of error messages when executing it, even if it fails. So I suggest: don't use it

in addition: dont use mysql_* functions at all since it deprecated

<h2>Storage Sizes for MySQL TEXT Data Types</h2>

SQL Server supported data types (Data Types (Transact-SQL) )
large-value data types (VARCHAR(MAX), NVARCHAR(MAX) and VARBINARY(MAX))
store up to 2^31-1 bytes of data.


The <code>LONGTEXT</code> data object is for use in extreme text string storage use cases. 
It is a viable option when the <code>MEDIUMTEXT</code> object is not big enough. 
Computer programs and applications often reach text lengths in the <code>LONGTEXT</code> range. 
These data objects can be as large as 4 GB (expressed as 2^32 -1) and store up to 4,294,967,295 characters with 4 bytes of overhead storage,
<h2>TEXT vs. BLOB</h2>
<code>BLOB</code>s are an alternative type of data storage that share matching naming and capacity mechanisms with <code>TEXT</code> objects. 
However, <code>BLOB</code>s are binary strings with no character set sorting, so they are treated as numeric values while <code>TEXT</code> objects are treated as character strings. 
This differentiation is important for sorting information. 
<code>BLOB</code>s are used to store data files like images, videos, and executables.
<h2>Usage Notes</h2><li>Using <code>TEXT</code> fields for select and search queries will incur performance hits because the server will call the objects individually and scan them during the query instead of paging data stored in the memory.</li><li>Enabling strict SQL will enforce the maximum character lengths and truncate any entered data that exceeds those limits.</li><li><code>TEXT</code> columns require an index prefix length and can’t have <code>DEFAULT</code> values, unlike <code>CHAR</code> and <code>VARCHAR</code> objects.</li><li>Estimating size by word count: assume average English word is 4.5 letters long and needs 1 extra character for spacing. </li>
Example, a site that consists of 500 word articles would use about 2,750 characters on average for the article text data. 
<code>TINYTEXT</code>’s 255 character capacity is insufficient for this use case, while <code>TEXT</code>’s 65535 character capacity offers storage for articles that hit over 11,900 words based on the average criteria.

<h2>SQL Data Types for MySQL, SQL Server, and MS Access</h2>

The data type of a column defines what value the column can hold: 
integer, character, money, date and time, binary, 
and so on.

<h2>SQL Data Types</h2>
Each column in a database table is required to have a name and a data type.
An SQL developer must decide what type of data that will be stored inside each 
column when creating a table. 
The data type is a 
guideline for SQL to understand what type of data is expected inside of each 
column, and it also identifies how SQL will interact with the stored data.

<strong>Note:</strong> Data types might have different names in different database.
And even if the name is the same, the size and other details may be different! 
<strong>Always check the 
documentation!</strong>\

<h2>MySQL Data Types (Version 8.0)</h2>
In MySQL there are three main data types: string, numeric, and date and time.
<h3>String data types:</h3>

<table class="w3-table-all notranslate">
  <tr>
    <th>Data type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>CHAR(size)</td>
    <td>A FIXED length string (can contain letters, numbers, and special characters). 
The
    <em>size</em> parameter specifies the column length in characters - can be 
    from 0 to   255. 
Default is 1</td>
  </tr>
  <tr>
    <td>VARCHAR(size)</td>
    <td>A VARIABLE length string (can contain letters, numbers, and special 
    characters). 
The <em>size</em> parameter specifies the maximum column 
    length in characters - can be from 0 to 65535</td>
  </tr>
  <tr>
    <td>BINARY(size)</td>
    <td>Equal to CHAR(), but stores binary byte strings. 
The <em>size</em> 
    parameter specifies the column length in bytes. 
Default is 1</td>
  </tr>
  <tr>
    <td>VARBINARY(size)</td>
    <td>Equal to VARCHAR(), but stores binary byte strings. 
The <em>size</em> 
    parameter specifies the maximum column length in bytes.</td>
  </tr>
  <tr>
    <td>TINYBLOB</td>
    <td>For BLOBs (Binary Large OBjects). 
Max length: 255 bytes</td>
  </tr>
  <tr>
    <td>TINYTEXT</td>
    <td>Holds a string with a maximum length of 255 characters</td>
  </tr>
  <tr>
    <td>TEXT(size)</td>
    <td>Holds a string with a maximum length of 65,535 bytes</td>
  </tr>
  <tr>
    <td>BLOB(size)</td>
    <td>For BLOBs (Binary Large OBjects). 
Holds up to 65,535 bytes of data</td>
  </tr>
  <tr>
    <td>MEDIUMTEXT</td>
    <td>Holds a string with a maximum length of 16,777,215 characters</td>
  </tr>
  <tr>
    <td>MEDIUMBLOB</td>
    <td>For BLOBs (Binary Large OBjects). 
Holds up to 16,777,215 bytes of data</td>
  </tr>
  <tr>
    <td>LONGTEXT</td>
    <td>Holds a string with a maximum length of 4,294,967,295 characters</td>
  </tr>
  <tr>
    <td>LONGBLOB</td>
    <td>For BLOBs (Binary Large OBjects). 
Holds up to 4,294,967,295 bytes of data</td>
  </tr>
  <tr>
    <td>ENUM(val1, val2, val3, ...)</td>
    <td>A string object that can have only one value, chosen from a list of possible values. 
You can list up to 65535 values in an ENUM list. 
If a value is inserted that is not in the list, a   blank value will be inserted. 

    The values are sorted in the order you enter them</td>
  </tr>
<tr>
    <td>SET(val1, val2, val3, ...)</td>
    <td>A string object that can have 0 or more values, chosen from a list of 
    possible values. 
You can list up to 64 values in a SET list</td>
  </tr>
</table>

<h3>Numeric data types:</h3>

<table class="w3-table-all notranslate">
  <tr>
    <th>Data type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>BIT(<em>size</em>)</td>
    <td>A bit-value type. 
The number of bits per value is specified in <em>size</em>. 

    The <em>size</em> parameter can hold a value from 1 to 64. 
The default 
    value for <em>size</em> is 1.</td>
  </tr>
  <tr>
    <td>TINYINT(<em>size</em>)</td>
    <td>A very small integer. 
Signed range is from -128 to 127. 
Unsigned range 
    is from 0 to 255. 
The <em>size</em> parameter specifies the maximum 
    display width (which is 255)</td>
  </tr>
  <tr>
    <td>BOOL</td>
    <td>Zero is considered as false, nonzero values are considered as true. 
</td>
  </tr>
  <tr>
    <td>BOOLEAN</td>
    <td>Equal to BOOL</td>
  </tr>
  <tr>
    <td>SMALLINT(<em>size</em>)</td>
    <td>A small integer. 
Signed range is from -32768 to 32767. 
Unsigned range 
    is from 0 to 65535. 
The <em>size</em> parameter specifies the maximum 
    display width (which is 255)</td>
  </tr>
  <tr>
    <td>MEDIUMINT(<em>size</em>)</td>
    <td>A medium integer. 
Signed range is from -8388608 to 8388607. 
Unsigned 
    range is from 0 to 16777215. 
The <em>size</em> parameter specifies the 
    maximum display width (which is 255)</td>
  </tr>
  <tr>
    <td>INT(<em>size</em>)</td>
    <td>A medium integer. 
Signed range is from -2147483648 to 2147483647. 

    Unsigned range is from 0 to 4294967295. 
The <em>size</em> parameter 
    specifies the maximum display width (which is 255)</td>
  </tr>
  <tr>
    <td>INTEGER(<em>size</em>)</td>
    <td>Equal to INT(size)</td>
  </tr>
  <tr>
    <td>BIGINT(<em>size</em>)</td>
    <td>A large integer. 
Signed range is from -9223372036854775808 to 
    9223372036854775807. 
Unsigned range is from 0 to 18446744073709551615. 
The
    <em>size</em> parameter specifies the maximum display width (which is 255)</td>
  </tr>
  <tr>
    <td>FLOAT(<em>size</em>, <em>d</em>)</td>
    <td>A floating point number. 
The total number of digits is specified in 
    <em>size</em>. 
The   number of digits after the decimal point is specified 
    in the <em>d</em> parameter. 
This syntax is deprecated in MySQL 8.0.17, 
    and it will be removed in future MySQL versions</td>
  </tr>
  <tr>
    <td>FLOAT(<em>p</em>)</td>
    <td>A floating point number. 
MySQL uses the <em>p</em> value to determine 
    whether to use FLOAT or DOUBLE for the resulting data type. 
If <em>p</em> 
    is from 0 to 24, the data type becomes FLOAT(). 
If <em>p</em> is from 25 to 
    53, the data type becomes DOUBLE()</td>
  </tr>
  <tr>
    <td>DOUBLE(<em>size</em>, <em>d</em>)</td>
    <td>A normal-size floating point number. 
The total number of digits is specified in 
    <em>size</em>. 
The   number of digits after the decimal point is specified 
    in the <em>d</em> parameter</td>
  </tr>
  <tr>
    <td>DOUBLE PRECISION(<em>size</em>, <em>d</em>)</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>DECIMAL(<em>size</em>, <em>d</em>)</td>
    <td>An exact fixed-point number. 
The   total number of digits is specified in 
    <em>size</em>. 
The   number of digits after the decimal point is specified 
    in the <em>d</em> parameter. 
The maximum number for <em>size</em> is 65. 

    The maximum number for <em>d</em> is 30. 
The default value for <em>size</em> 
    is 10. 
The default value for <em>d</em> is 0.</td>
  </tr>
  <tr>
    <td>DEC(<em>size</em>, <em>d</em>)</td>
    <td>Equal to DECIMAL(size,d)</td>
  </tr>
  </table>
  
<strong>Note:</strong> All the numeric data types may have an extra option: UNSIGNED 
or ZEROFILL. 
If you add the UNSIGNED option, MySQL disallows negative values for 
the column. 
If you add the ZEROFILL option, MySQL automatically also adds the 
UNSIGNED attribute to the column.

<h3>Date and Time data types:</h3>
<table class="w3-table-all notranslate">
  <tr>
    <th>Data type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>DATE</td>
    <td>A date. 
Format: YYYY-MM-DD. 
The supported range is from '1000-01-01' to '9999-12-31'</td>
  </tr>
  <tr>
    <td>DATETIME(<em>fsp</em>)</td>
    <td>A date and time combination. 
Format: YYYY-MM-DD hh:mm:ss. 
The supported range is from '1000-01-01 00:00:00' to '9999-12-31 23:59:59'. 

    Adding DEFAULT and ON UPDATE in the column definition to get automatic 
    initialization and updating to the current date and time</td>
  </tr>
  <tr>
    <td>TIMESTAMP(<em>fsp</em>)</td>
    <td>A timestamp. 
TIMESTAMP values are stored as the number of seconds since the Unix epoch ('1970-01-01 00:00:00' UTC). 
Format: YYYY-MM-DD   
    hh:mm:ss. 
The supported range is from '1970-01-01 00:00:01'   UTC to '2038-01-09 03:14:07' UTC. 

    Automatic initialization and updating to the current date and time can be 
    specified using DEFAULT CURRENT_TIMESTAMP and ON UPDATE CURRENT_TIMESTAMP 
    in the column definition</td>
  </tr>
  <tr>
    <td>TIME(<em>fsp</em>)</td>
    <td>A time. 
Format: hh:mm:ss. 
The supported range is from '-838:59:59' to '838:59:59'</td>
  </tr>
  <tr>
    <td>YEAR</td>
    <td>A year in four-digit format. 
Values allowed in four-digit format: 1901 to 2155, and 0000.<br>
    MySQL 8.0 does not support year in two-digit format.</td>
  </tr>
</table>

<h2>SQL Server Data Types</h2>
<h3>String data types:</h3>

<table class="w3-table-all notranslate">
  <tr>
    <th>Data type</th>
    <th>Description</th>
    <th>Max size</th>
    <th>Storage</th>
  </tr>
  <tr>
    <td>char(n)</td>
    <td>Fixed width character string</td>
    <td>8,000 characters</td>
    <td>Defined width</td>
  </tr>
  <tr>
    <td>varchar(n)</td>
    <td>Variable width character string</td>
    <td>8,000 characters</td>
    <td>2 bytes + number of chars</td>
  </tr>
  <tr>
    <td>varchar(max)</td>
    <td>Variable width character string</td>
    <td>1,073,741,824 characters</td>
    <td>2 bytes + number of chars</td>
  </tr>
  <tr>
    <td>text</td>
    <td>Variable width character string</td>
    <td>2GB of text data</td>
    <td>4 bytes + number of chars</td>
  </tr>
  <tr>
    <td>nchar</td>
    <td>Fixed width Unicode string</td>
    <td>4,000 characters</td>
    <td>Defined width x 2</td>
  </tr>
  <tr>
    <td>nvarchar</td>
    <td>Variable width Unicode string</td>
    <td>4,000 characters</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>nvarchar(max)</td>
    <td>Variable width Unicode string</td>
    <td>536,870,912 characters</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>ntext</td>
    <td>Variable width Unicode string</td>
    <td>2GB of text data</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>binary(n)</td>
    <td>Fixed width binary string</td>
    <td>8,000 bytes</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>varbinary</td>
    <td>Variable width binary string</td>
    <td>8,000 bytes</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>varbinary(max)</td>
    <td>Variable width binary string</td>
    <td>2GB</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>image</td>
    <td>Variable width binary string</td>
    <td>2GB</td>
    <td>&nbsp;</td>
  </tr>
</table>

<h3>Numeric data types:</h3>

<table class="w3-table-all notranslate">
  <tr>
    <th style="width:20%">Data type</th>
    <th>Description</th>
    <th style="width:10%">Storage</th>
  </tr>
  <tr>
    <td>bit</td>
    <td>Integer that can be 0, 1, or NULL</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>tinyint</td>
    <td>Allows whole numbers from 0 to 255</td>
    <td>1 byte</td>
  </tr>
  <tr>
    <td>smallint</td>
    <td>Allows whole numbers between -32,768 and 32,767</td>
    <td>2 bytes</td>
  </tr>
  <tr>
    <td>int</td>
    <td>Allows whole numbers between -2,147,483,648 and 2,147,483,647 </td>
    <td>4 bytes</td>
  </tr>
  <tr>
    <td>bigint</td>
    <td>Allows whole numbers between -9,223,372,036,854,775,808 and   9,223,372,036,854,775,807 </td>
    <td>8 bytes</td>
  </tr>
  <tr>
    <td>decimal(p,s)</td>
    <td>Fixed precision and scale numbers.
    Allows numbers from -10^38 +1 to 10^38 –1.
The p parameter indicates the maximum total number of digits that can  be stored (both to the left and to the right of the decimal point). 
p  must be a value from 1 to 38. 
Default is 18.
The s parameter indicates the maximum number of digits stored to the  right of the decimal point. 
s must be a value from 0 to p. 
Default value  is 0\</td>
    <td>5-17 bytes</td>
  </tr>
  <tr>
    <td>numeric(p,s)</td>
    <td>Fixed precision and scale numbers.
    Allows numbers from -10^38 +1 to 10^38 –1.
The p parameter indicates the maximum total number of digits that can  be stored (both to the left and to the right of the decimal point). 
p  must be a value from 1 to 38. 
Default is 18.
The s parameter indicates the maximum number of digits stored to the  right of the decimal point. 
s must be a value from 0 to p. 
Default value  is 0\</td>
    <td>5-17 bytes</td>
  </tr>
  <tr>
    <td>smallmoney</td>
    <td>Monetary data from -214,748.3648 to 214,748.3647 </td>
    <td>4 bytes</td>
  </tr>
  <tr>
    <td>money</td>
    <td>Monetary data from -922,337,203,685,477.5808 to   922,337,203,685,477.5807</td>
    <td>8 bytes</td>
  </tr>
  <tr>
    <td>float(n)</td>
    <td>Floating precision number data from -1.79E + 308 to 1.79E + 308.The   n parameter indicates whether the field should hold 4 or 8 bytes. 
float(24) holds a 4-byte field and float(53) holds an 8-byte field. 
Default value of n is 53.</td>
    <td>4 or 8 bytes</td>
  </tr>
  <tr>
    <td>real</td>
    <td>Floating precision number data from -3.40E + 38 to 3.40E + 38</td>
    <td>4 bytes</td>
  </tr>
</table>

<h3>Date and Time data types:</h3>

<table class="w3-table-all notranslate">
  <tr>
    <th style="width:20%">Data type</th>
    <th>Description</th>
    <th style="width:10%">Storage</th>
  </tr>
  <tr>
    <td>datetime</td>
    <td>From January 1, 1753 to December 31, 9999 with an accuracy of 3.33   milliseconds</td>
    <td>8 bytes</td>
  </tr>
  <tr>
    <td>datetime2</td>
    <td>From January 1, 0001 to December 31, 9999 with an accuracy of 100   nanoseconds</td>
    <td>6-8 bytes</td>
  </tr>
  <tr>
    <td>smalldatetime</td>
    <td>From January 1, 1900 to June 6, 2079 with an accuracy of 1 minute</td>
    <td>4 bytes</td>
  </tr>
  <tr>
    <td>date</td>
    <td>Store a date only. 
From January 1, 0001 to December 31, 9999</td>
    <td>3 bytes</td>
  </tr>
  <tr>
    <td>time</td>
    <td>Store a time only to an accuracy of 100 nanoseconds</td>
    <td>3-5 bytes</td>
  </tr>
  <tr>
    <td>datetimeoffset</td>
    <td>The same as datetime2 with the addition of a time zone offset</td>
    <td>8-10 bytes</td>
  </tr>
  <tr>
    <td>timestamp</td>
    <td>Stores a unique number that gets updated every time a row gets created   or modified. 
The timestamp value is based upon an internal clock and does   not correspond to real time. 
Each table may have only one timestamp   variable</td>
    <td>&nbsp;</td>
  </tr>
</table>

<h3>Other data types:</h3>
<table class="w3-table-all notranslate">
  <tr>
    <th style="width:20%">Data type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>sql_variant</td>
    <td>Stores up to 8,000 bytes of data of various data types, except text,   ntext, and timestamp</td>
  </tr>
  <tr>
    <td>uniqueidentifier</td>
    <td>Stores a globally unique identifier (GUID)</td>
  </tr>
  <tr>
    <td>xml</td>
    <td>Stores XML formatted data. 
Maximum 2GB</td>
  </tr>
  <tr>
    <td>cursor</td>
    <td>Stores a reference to a cursor used for database operations</td>
  </tr>
  <tr>
    <td>table</td>
    <td>Stores a result-set for later processing</td>
  </tr>
</table>
<h2>Microsoft Access Data Types</h2>

<table class="w3-table-all notranslate">
  <tr>
    <th style="width:20%">Data type</th>
    <th>Description</th>
    <th style="width:10%">Storage</th>
  </tr>
  <tr>
    <td>Text</td>
    <td>Use for text or combinations of text and numbers. 
255 characters maximum</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>Memo</td>
    <td>Memo is used for larger amounts of text. 
Stores up to 65,536 characters. 
<b>Note:</b> You cannot sort a memo field. 
However, they are   searchable</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>Byte</td>
    <td>Allows whole numbers from 0 to 255</td>
    <td>1 byte</td>
  </tr>
  <tr>
    <td>Integer</td>
    <td>Allows whole numbers between -32,768 and 32,767</td>
    <td>2 bytes</td>
  </tr>
  <tr>
    <td>Long</td>
    <td>Allows whole numbers between -2,147,483,648 and 2,147,483,647</td>
    <td>4 bytes</td>
  </tr>
  <tr>
    <td>Single</td>
    <td>Single precision floating-point. 
Will handle most decimals </td>
    <td>4 bytes</td>
  </tr>
  <tr>
    <td>Double</td>
    <td>Double precision floating-point. 
Will handle most decimals</td>
    <td>8 bytes</td>
  </tr>
  <tr>
    <td>Currency</td>
    <td>Use for currency. 
Holds up to 15 digits of whole dollars, plus 4 decimal places. 
<b>Tip:</b> You can choose which country's currency to use</td>
    <td>8 bytes</td>
  </tr>
  <tr>
    <td>AutoNumber</td>
    <td>AutoNumber fields automatically give each record its own number, usually starting at 1</td>
    <td>4 bytes</td>
  </tr>
  <tr>
    <td>Date/Time</td>
    <td>Use for dates and times</td>
    <td>8 bytes</td>
  </tr>
  <tr>
    <td>Yes/No</td>
    <td>A logical field can be displayed as Yes/No, True/False, or On/Off. 
In code, use the constants True and False (equivalent to -1 and 0). 
<b>Note:</b>   Null values are not allowed in Yes/No fields</td>
    <td>1 bit</td>
  </tr>
  <tr>
    <td>Ole Object</td>
    <td>Can store pictures, audio, video, or other BLOBs (Binary Large OBjects)</td>
    <td>up to 1GB</td>
  </tr>
  <tr>
    <td>Hyperlink</td>
    <td>Contain links to other files, including web pages</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>Lookup Wizard</td>
    <td>Let you type a list of options, which can then be chosen from a drop-down list</td>
    <td>4 bytes</td>
  </tr>
</table>

<h2>reset autoincrement id</h2>
Alter table syntax provides a way to reset autoincrement column.
ALTER TABLE table_name AUTO_INCREMENT = 1;

<h2>MySQL Regular expressions (Regexp)</h2>
SQL pattern matching enables you to use _ to match any single character and % to match an arbitrary number of characters (including zero characters). 
In MySQL, SQL patterns are case-insensitive by default. 
Some examples are shown here. 
Do not use = or <> when you use SQL patterns. 
Use the LIKE or NOT LIKE comparison operators instead.

To find names beginning with b:

mysql> SELECT * FROM pet WHERE name LIKE 'b%';

 name    owner   species  sex   birth       death     
 Buffy   Harold  dog      f     1989-05-13  NULL      
 Bowser  Diane   dog      m     1989-08-31  1995-07-29
To find names ending with fy:

mysql> SELECT * FROM pet WHERE name LIKE '%fy';

 name    owner   species  sex   birth       death
 Fluffy  Harold  cat      f     1993-02-04  NULL 
 Buffy   Harold  dog      f     1989-05-13  NULL 
To find names containing a w:

mysql> SELECT * FROM pet WHERE name LIKE '%w%';

 name      owner  species  sex   birth       death     
 Claws     Gwen   cat      m     1994-03-17  NULL      
 Bowser    Diane  dog      m     1989-08-31  1995-07-29
 Whistler  Gwen   bird     NULL  1997-12-09  NULL      

To find names containing exactly five characters, use five instances of the _ pattern character:

mysql> SELECT * FROM pet WHERE name LIKE '_____';
 name   owner   species  sex   birth       death
 Claws  Gwen    cat      m     1994-03-17  NULL 
 Buffy  Harold  dog      f     1989-05-13  NULL 

The other type of pattern matching provided by MySQL uses extended regular expressions. 
When you test for a match for this type of pattern, use the REGEXP_LIKE() function (or the REGEXP or RLIKE operators, which are synonyms for REGEXP_LIKE()).

The following list describes some characteristics of extended regular expressions:

. matches any single character.

A character class [...] matches any character within the brackets. 
For example, [abc] matches a, b, or c. 
To name a range of characters, use a dash. 
[a-z] matches any letter, whereas [0-9] matches any digit.

* matches zero or more instances of the thing preceding it. 
For example, x* matches any number of x characters, [0-9]* matches any number of digits, and .* matches any number of anything.

A regular expression pattern match succeeds if the pattern matches anywhere in the value being tested. 
(This differs from a LIKE pattern match, which succeeds only if the pattern matches the entire value.)

To anchor a pattern so that it must match the beginning or end of the value being tested, use ^ at the beginning or $ at the end of the pattern.

To demonstrate how extended regular expressions work, the LIKE queries shown previously are rewritten here to use REGEXP_LIKE().

To find names beginning with b, use ^ to match the beginning of the name:

mysql> SELECT * FROM pet WHERE REGEXP_LIKE(name, '^b');
 name    owner   species  sex   birth       death     
 Buffy   Harold  dog      f     1989-05-13  NULL      
 Bowser  Diane   dog      m     1979-08-31  1995-07-29
To force a regular expression comparison to be case sensitive, use a case-sensitive collation, or use the BINARY keyword to make one of the strings a binary string, or specify the c match-control character. 
Each of these queries matches only lowercase b at the beginning of a name:

SELECT * FROM pet WHERE REGEXP_LIKE(name, '^b' COLLATE utf8mb4_0900_as_cs);
SELECT * FROM pet WHERE REGEXP_LIKE(name, BINARY '^b');
SELECT * FROM pet WHERE REGEXP_LIKE(name, '^b', 'c');
To find names ending with fy, use $ to match the end of the name:

mysql> SELECT * FROM pet WHERE REGEXP_LIKE(name, 'fy$');
 name    owner   species  sex   birth       death
 Fluffy  Harold  cat      f     1993-02-04  NULL 
 Buffy   Harold  dog      f     1989-05-13  NULL 
To find names containing a w, use this query:

mysql> SELECT * FROM pet WHERE REGEXP_LIKE(name, 'w');
 name      owner  species  sex   birth       death     
 Claws     Gwen   cat      m     1994-03-17  NULL      
 Bowser    Diane  dog      m     1989-08-31  1995-07-29
 Whistler  Gwen   bird     NULL  1997-12-09  NULL      
Because a regular expression pattern matches if it occurs anywhere in the value, it is not necessary in the previous query to put a wildcard on either side of the pattern to get it to match the entire value as would be true with an SQL pattern.

To find names containing exactly five characters, use ^ and $ to match the beginning and end of the name, and five instances of . 
in between:

mysql> SELECT * FROM pet WHERE REGEXP_LIKE(name, '^.....$');
 name   owner   species  sex   birth       death
 Claws  Gwen    cat      m     1994-03-17  NULL 
 Buffy  Harold  dog      f     1989-05-13  NULL 
You could also write the previous query using the {n} (“repeat-n-times”) operator:


mysql> SELECT * FROM pet WHERE REGEXP_LIKE(name, '^.{5}$');
 name   owner   species  sex   birth       death
 Claws  Gwen    cat      m     1994-03-17  NULL 
 Buffy  Harold  dog      f     1989-05-13  NULL 

MySQL supports another type of pattern matching operation based on the regular expressions and the REGEXP operator.

REGEXP is the operator used when performing regular expression pattern matches. 

RLIKE is the synonym.

The backslash is used as an escape character. 
It’s only considered in the pattern match if double backslashes have used.
Not case sensitive.

PATTERN	WHAT THE PATTERN MATCHES
*	Zero or more instances of string preceding it
+	One or more instances of strings preceding it
.	Any single character
?	Match zero or one instances of the strings preceding it.
^	caret(^) matches Beginning of string
$	End of string
[abc]	Any character listed between the square brackets
[^abc]	Any character not listed between the square brackets
[A-Z]	match any upper case letter.
[a-z]	match any lower case letter
[0-9]	match any digit from 0 through to 9.
[[:&lt;:]]	matches the beginning of words.
[[:>:]]	matches the end of words.
[:class:]	matches a character class i.e. 
[:alpha:] to match letters, [:space:] to match white space, [:punct:] is match punctuations and [:upper:] for upper class letters.
p1|p2|p3	Alternation; matches any of the patterns p1, p2, or p3
{n}	n instances of preceding element
{m,n}	m through n instances of preceding element

Examples with explanation :

Match beginning of string(^):
Gives all the names starting with ‘sa’.Example- sam,samarth.

SELECT name FROM student_tbl WHERE name REGEXP '^sa';

Match the end of a string($):
Gives all the names ending with ‘on’.Example – norton,merton.
SELECT name FROM student_tbl WHERE name REGEXP 'on$';

Match zero or one instance of the strings preceding it(?):
Gives all the titles containing ‘com’.Example – comedy , romantic comedy.
SELECT title FROM movies_tbl WHERE title REGEXP 'com?'; 

matches any of the patterns p1, p2, or p3(p1|p2|p3):
Gives all the names containing ‘be’ or ‘ae’.Example – Abel, Baer.
SELECT name FROM student_tbl WHERE name REGEXP 'be|ae' ;

Matches any character listed between the square brackets([abc]):
Gives all the names containing ‘j’ or ‘z’.Example – Lorentz, Rajs.
SELECT name FROM student_tbl WHERE name REGEXP '[jz]' ;

Matches any lower case letter between ‘a’ to ‘z’- ([a-z]) ([a-z] and (.)):
Retrieve all names that contain a letter in the range of ‘b’ and ‘g’, followed by any character, followed by the letter ‘a’.Example – Tobias, sewall.

Matches any single character(.)

SELECT name FROM student_tbl WHERE name REGEXP '[b-g].[a]' ;

Matches any character not listed between the square brackets.([^abc]):
Gives all the names not containing ‘j’ or ‘z’. 
Example – nerton, sewall.
SELECT name FROM student_tbl WHERE name REGEXP '[^jz]' ;

Matches the end of words[[:>:]]:
Gives all the titles ending with character “ack”. 
Example – Black.
SELECT title FROM movies_tbl WHERE REGEXP 'ack[[:>:]]'; 

Matches the beginning of words[[:&lt;:]]:
Gives all the titles starting with character “for”. 
Example – Forgetting Sarah Marshal.
SELECT title FROM movies_tbl WHERE title REGEXP '[[:&lt;:]]for'; 

Matches a character class[:class:]:
i.e [:lower:]- lowercase character ,[:digit:] – digit characters etc.
Gives all the titles containing alphabetic character only. 
Example – stranger things, Avengers.
SELECT title FROM movies_tbl WHERE REGEXP '[:alpha:]' ;











<script type='text/javascript' src='readbook.js'></script>
<script>
var lazyLoadInstance = new LazyLoad({
    elements_selector: ".lazy"
    // ... more custom settings?
});
</script>
</body></html>