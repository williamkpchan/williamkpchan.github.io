<html>
<head>
<base target="_blank"><html><head><title>Basic Bars</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://williamkpchan.github.io/maincss.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script src="D:/Dropbox/Public/RGraph/libraries/RGraph.common.core.js" ></script>
<script src="D:/Dropbox/Public/RGraph/libraries/RGraph.bar.js" ></script>
<script src="D:/Dropbox/Public/RGraph/libraries/RGraph.hbar.js"></script>

<script src="D:/Dropbox/Public/RGraph/libraries/chartdatalist.js"></script>
</head>
<body onkeypress="chkKey()">
<br><br>
<center>
<canvas id="cvs" width="750" height="450">[No canvas support]</canvas>
<br><br>
<canvas id="hcvs" width="750" height="450">[No canvas support]</canvas>
</center>
<script>
  bar = new RGraph.Bar({
      id: 'cvs',
      data: dataList,
      options: {
          labels: dataLabelList, // counts must same as data
          unitsPost: ' 只', xaxisLabelsAngle: 45,xaxisLabelsOffsety: 10,
          shadow: false,
          colors: ['green'],
          strokestyle: 'rgba(255,200,12,80)',
          textSize: 18, textAccessible: true,
          backgroundGrid: true, axisColor: '#294', textColor: '#8cc',
          backgroundGridColor: '#005010', backgroundGridVlines: false,

          title: 'playing with Bar chart',
            titleColor: 'brown', 
            titleSize: 20,
          numyticks: 5,
          noxaxis: false,
          gutterLeft: 20
      }
  }).draw();

  hbar = new RGraph.HBar({
      id: 'hcvs',
      data: dataList,
      options: {
          labels: dataLabelList, // counts must same as data
          unitsPost: ' 只',
          shadow: false,
          colors: ['green'],
          strokestyle: 'rgba(255,200,12,80)',
          textSize: 18, textAccessible: true,
          backgroundGrid: true, axisColor: '#294', textColor: '#8cc',
          backgroundGridColor: '#005010', backgroundGridVlines: false,

          title: 'playing with Bar chart',
            titleColor: 'brown', 
            titleSize: 20,
          numyticks: 5,
          noxaxis: false,
          gutterLeft: 20
      }
  }).draw();

function chkKey() {
  var testkey = getChar(event);
  if(testkey == '0'){changeCode('000001.sh');}
  if(testkey == '9'){changeCode('00390');}

  if(testkey == 'c'){changeChartData();}
  if(testkey == 'l'){changeChartLabels();}
}
function getChar(event) {
  if (event.which!=0 && event.charCode!=0) {
    return String.fromCharCode(event.which)   // the rest
  } else {
    return null // special key
  }
}

function changeChartData() {
    newChartData = prompt("new Chart Data(include data inside []):", "");
    if (newChartData != null && newChartData != "") {
       bar.data = JSON.parse(newChartData); // eg [1,2,1,2,3]
       RGraph.clear(document.getElementById("cvs"));  // clear chart
       bar.draw()   // redraw  with new data
    }
}
function changeChartLabels() {  // dont work! cannot access name inside object name
    newChartData = prompt("new Chart Labels(include data inside []):", "");
    if (newChartData != null && newChartData != "") {
       bar.options.labels = JSON.parse(newChartData); // eg ["a","s","d","f"]
       RGraph.clear(document.getElementById("cvs"));  // clear chart
       bar.draw()   // redraw  with new data
    }
}

</script>
keys:
c enter new datasets
</body>
</html>