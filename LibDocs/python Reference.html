<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

<style>

a:hover,a:active{color:red}
table.w3-table-all{margin:20px 0}
.top {
 position:relative;
 background-color:black;
 height:68px;
 padding-top:20px;
 line-height:50px;
 overflow:hidden;
 z-index:2;
}
body {
 background-color: #000000;
 color: MediumSeaGreen;
 margin-left: 14%;
 margin-right: 14%;
 font-size: 22px;
}
a { text-decoration: none;
	color: #58D858;}
a:visited { color: #88C898;}
A:hover {	color: yellow;}
A:focus {	color: red;}
code { color: gray; background-color: #002010; font-size: 18px;}
pre { color: lightblue; background-color: #001010; font-size: 18px;}
h1, h2, h3, h4, h5, .goldword {
	color: gold;
}
table{
	width: 100%;
	font-size: 20px;
	border-collapse: collapse;
	border: 1px solid gray;
}
th{
	border: 1px solid gray;
	font-weight:bold;
	color: lightgreen;
}
td{
	padding:10px;
	border: 1px dotted dimgray;
}
tr>th:first-child{
	width:40%;
}
tr>td:first-child{
	color: lime;

}
img{
	margin-top:1%;
	margin-bottom:2%;
}
.topic{
    color: lime;
}
.goldsha {
    color: white;
    border: 1px solid gold;
    padding: 2px;
    border-radius: 3px;
	box-shadow: -2px -2px 3px gold inset;
}
.redsha {
    color: gold;
    border: 1px solid red;
    padding: 2px;
    border-radius: 3px;
	box-shadow: -2px -2px 3px red inset;
}
.whitesha {
    color: red;
    border: 1px solid white;
    padding: 2px;
    border-radius: 3px;
	box-shadow: -3px -2px 3px white inset;
}
.orangesha {
    color: yellow;
    border: 1px solid orange;
    padding: 2px;
    border-radius: 3px;
	box-shadow: -2px -2px 3px orange inset;
}
.yellowsha {
    color: lime;
    border: 1px solid yellow;
    padding: 2px;
    border-radius: 3px;
	box-shadow: 3px 3px 3px silver;
	display: inline-block;
}
.greensha {
    color: lightblue;
    border: 1px solid green;
    padding: 2px;
    border-radius: 3px;
	box-shadow: -2px -2px 3px green inset;
}
.left {
    position: absolute;
    left: 100px;
    color: GoldenRod;
    border: 1px solid GoldenRod;
    padding: 2px;
    font-size: 60%;
}
.bord {
    color: redpink;
    border: 1px solid GoldenRod;
    padding: 1px;
    font-size: 90%;
}
.yellowbord {
    color: lime;
    border: 1px solid yellow;
    padding: 2px;
    border-radius: 3px;
	box-shadow: 3px 3px 3px silver;
}
.bluebord {
    color: white;
    border: 1px solid lightblue;
    padding: 2px;
    border-radius: 3px;
	box-shadow: -2px -2px 3px silver inset;
}
.highlight { 
    color: white;
    background-color: #002030
  }
hr {width: 50%;}
li{
	list-style-type: decimal;
}
#toc, #tang, #san, #pill {
	margin-left: 15%;
	margin-right: 15%;
	color: gold;
	padding: 1%;
	text-align: left;
	box-shadow: 5px 5px 15px silver;
	border-radius: 5px;
	border: 1px solid DarkSlateGray;
    font-size: 90%;
}
.mywords{
    color: Crimson;
}
.orangeword{
    color: orange;
}
.remarks {
	font-size: 22px;
	color: MediumSeaGreen;
}
</STYLE>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script>
$(document).ready(function(){
    $('h1, h2, h3, h4, h5, .goldword, .topic').click(function(){
    parent.history.back();
    return false;
    });
});
</script>


</head><body>

<center><b class="goldword">The Python Language Reference</b></center>
<div id="toc"><ul></ul></div>
<br>
<br>

<span id="reference-index"></span><h1>The Python Language Reference</h1>
<p>This reference manual describes the syntax and “core semantics” of the
language. It is terse, but attempts to be exact and complete. The semantics of
non-essential built-in object types and of the built-in functions and modules
are described in <a href="../library/index.html#library-index"><span class="std std-ref">The Python Standard Library</span></a>. For an informal introduction to the
language, see <a href="../tutorial/index.html#tutorial-index"><span class="std std-ref">The Python Tutorial</span></a>. For C or C++ programmers, two additional
manuals exist: <a href="../extending/index.html#extending-index"><span class="std std-ref">Extending and Embedding the Python Interpreter</span></a> describes the high-level picture of how to
write a Python extension module, and the <a href="../c-api/index.html#c-api-index"><span class="std std-ref">Python/C API Reference Manual</span></a> describes the
interfaces available to C/C++ programmers in detail.</p>
<div class="toctree-wrapper compound">
<ul>
<li><a href="#introduction">1. Introduction</a><ul>
<li><a href="#alternate-implementations">1.1. Alternate Implementations</a></li>
<li><a href="#notation">1.2. Notation</a></li>
</ul>
</li>
<li><a href="#lexical-analysis">2. Lexical analysis</a><ul>
<li><a href="#line-structure">2.1. Line structure</a></li>
<li><a href="#other-tokens">2.2. Other tokens</a></li>
<li><a href="#identifiers">2.3. Identifiers and keywords</a></li>
<li><a href="#literals">2.4. Literals</a></li>
<li><a href="#operators">2.5. Operators</a></li>
<li><a href="#delimiters">2.6. Delimiters</a></li>
</ul>
</li>
<li><a href="#data-model">3. Data model</a><ul>
<li><a href="#objects-values-and-types">3.1. Objects, values and types</a></li>
<li><a href="#the-standard-type-hierarchy">3.2. The standard type hierarchy</a></li>
<li><a href="#new-style-and-classic-classes">3.3. New-style and classic classes</a></li>
<li><a href="#special-method-names">3.4. Special method names</a></li>
</ul>
</li>
<li><a href="#execution-model">4. Execution model</a><ul>
<li><a href="#naming-and-binding">4.1. Naming and binding</a></li>
<li><a href="#exceptions">4.2. Exceptions</a></li>
</ul>
</li>
<li><a href="#expressions">5. Expressions</a><ul>
<li><a href="#arithmetic-conversions">5.1. Arithmetic conversions</a></li>
<li><a href="#atoms">5.2. Atoms</a></li>
<li><a href="#primaries">5.3. Primaries</a></li>
<li><a href="#the-power-operator">5.4. The power operator</a></li>
<li><a href="#unary-arithmetic-and-bitwise-operations">5.5. Unary arithmetic and bitwise operations</a></li>
<li><a href="#binary-arithmetic-operations">5.6. Binary arithmetic operations</a></li>
<li><a href="#shifting-operations">5.7. Shifting operations</a></li>
<li><a href="#binary-bitwise-operations">5.8. Binary bitwise operations</a></li>
<li><a href="#comparisons">5.9. Comparisons</a></li>
<li><a href="#boolean-operations">5.10. Boolean operations</a></li>
<li><a href="#conditional-expressions">5.11. Conditional Expressions</a></li>
<li><a href="#lambda">5.12. Lambdas</a></li>
<li><a href="#expression-lists">5.13. Expression lists</a></li>
<li><a href="#evaluation-order">5.14. Evaluation order</a></li>
<li><a href="#operator-precedence">5.15. Operator precedence</a></li>
</ul>
</li>
<li><a href="#simple-statements">6. Simple statements</a><ul>
<li><a href="#expression-statements">6.1. Expression statements</a></li>
<li><a href="#assignment-statements">6.2. Assignment statements</a></li>
<li><a href="#the-assert-statement">6.3. The <code class="docutils literal"><span class="pre">assert</span></code> statement</a></li>
<li><a href="#the-pass-statement">6.4. The <code class="docutils literal"><span class="pre">pass</span></code> statement</a></li>
<li><a href="#the-del-statement">6.5. The <code class="docutils literal"><span class="pre">del</span></code> statement</a></li>
<li><a href="#the-print-statement">6.6. The <code class="docutils literal"><span class="pre">print</span></code> statement</a></li>
<li><a href="#the-return-statement">6.7. The <code class="docutils literal"><span class="pre">return</span></code> statement</a></li>
<li><a href="#the-yield-statement">6.8. The <code class="docutils literal"><span class="pre">yield</span></code> statement</a></li>
<li><a href="#the-raise-statement">6.9. The <code class="docutils literal"><span class="pre">raise</span></code> statement</a></li>
<li><a href="#the-break-statement">6.10. The <code class="docutils literal"><span class="pre">break</span></code> statement</a></li>
<li><a href="#the-continue-statement">6.11. The <code class="docutils literal"><span class="pre">continue</span></code> statement</a></li>
<li><a href="#the-import-statement">6.12. The <code class="docutils literal"><span class="pre">import</span></code> statement</a></li>
<li><a href="#the-global-statement">6.13. The <code class="docutils literal"><span class="pre">global</span></code> statement</a></li>
<li><a href="#the-exec-statement">6.14. The <code class="docutils literal"><span class="pre">exec</span></code> statement</a></li>
</ul>
</li>
<li><a href="#compound-statements">7. Compound statements</a><ul>
<li><a href="#the-if-statement">7.1. The <code class="docutils literal"><span class="pre">if</span></code> statement</a></li>
<li><a href="#the-while-statement">7.2. The <code class="docutils literal"><span class="pre">while</span></code> statement</a></li>
<li><a href="#the-for-statement">7.3. The <code class="docutils literal"><span class="pre">for</span></code> statement</a></li>
<li><a href="#the-try-statement">7.4. The <code class="docutils literal"><span class="pre">try</span></code> statement</a></li>
<li><a href="#the-with-statement">7.5. The <code class="docutils literal"><span class="pre">with</span></code> statement</a></li>
<li><a href="#function-definitions">7.6. Function definitions</a></li>
<li><a href="#class-definitions">7.7. Class definitions</a></li>
</ul>
</li>
<li><a href="#top-level-components">8. Top-level components</a><ul>
<li><a href="#complete-python-programs">8.1. Complete Python programs</a></li>
<li><a href="#file-input">8.2. File input</a></li>
<li><a href="#interactive-input">8.3. Interactive input</a></li>
<li><a href="#expression-input">8.4. Expression input</a></li>
</ul>
</li>
<li><a href="#full-grammar-specification">9. Full Grammar specification</a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
  <div class="section" id="introduction">
<span id="id1"></span><h1></h1><h1>1. Introduction</h1>
<p>This reference manual describes the Python programming language. It is not
intended as a tutorial.</p>
<p>While I am trying to be as precise as possible, I chose to use English rather
than formal specifications for everything except syntax and lexical analysis.
This should make the document more understandable to the average reader, but
will leave room for ambiguities. Consequently, if you were coming from Mars and
tried to re-implement Python from this document alone, you might have to guess
things and in fact you would probably end up implementing quite a different
language. On the other hand, if you are using Python and wonder what the precise
rules about a particular area of the language are, you should definitely be able
to find them here. If you would like to see a more formal definition of the
language, maybe you could volunteer your time — or invent a cloning machine
:-).</p>
<p>It is dangerous to add too many implementation details to a language reference
document — the implementation may change, and other implementations of the
same language may work differently.  On the other hand, there is currently only
one Python implementation in widespread use (although alternate implementations
exist), and its particular quirks are sometimes worth being mentioned,
especially where the implementation imposes additional limitations.  Therefore,
you’ll find short “implementation notes” sprinkled throughout the text.</p>
<p>Every Python implementation comes with a number of built-in and standard
modules.  These are documented in <a href="../library/index.html#library-index"><span class="std std-ref">The Python Standard Library</span></a>.  A few built-in modules
are mentioned when they interact in a significant way with the language
definition.</p>
<div class="section" id="alternate-implementations">
<span id="implementations"></span><h2>1.1. Alternate Implementations</h2>
<p>Though there is one Python implementation which is by far the most popular,
there are some alternate implementations which are of particular interest to
different audiences.</p>
<p>Known implementations include:</p>
<dl class="docutils">
<dt>CPython</dt>
<dd>This is the original and most-maintained implementation of Python, written in C.
New language features generally appear here first.</dd>
<dt>Jython</dt>
<dd>Python implemented in Java.  This implementation can be used as a scripting
language for Java applications, or can be used to create applications using the
Java class libraries.  It is also often used to create tests for Java libraries.
More information can be found at <a class="reference external" href="http://www.jython.org/">the Jython website</a>.</dd>
<dt>Python for .NET</dt>
<dd>This implementation actually uses the CPython implementation, but is a managed
.NET application and makes .NET libraries available.  It was created by Brian
Lloyd.  For more information, see the <a class="reference external" href="https://pythonnet.github.io/">Python for .NET home page</a>.</dd>
<dt>IronPython</dt>
<dd>An alternate Python for .NET.  Unlike Python.NET, this is a complete Python
implementation that generates IL, and compiles Python code directly to .NET
assemblies.  It was created by Jim Hugunin, the original creator of Jython.  For
more information, see <a class="reference external" href="http://ironpython.net/">the IronPython website</a>.</dd>
<dt>PyPy</dt>
<dd>An implementation of Python written completely in Python. It supports several
advanced features not found in other implementations like stackless support
and a Just in Time compiler. One of the goals of the project is to encourage
experimentation with the language itself by making it easier to modify the
interpreter (since it is written in Python).  Additional information is
available on <a class="reference external" href="http://pypy.org/">the PyPy project’s home page</a>.</dd>
</dl>
<p>Each of these implementations varies in some way from the language as documented
in this manual, or introduces specific information beyond what’s covered in the
standard Python documentation.  Please refer to the implementation-specific
documentation to determine what else you need to know about the specific
implementation you’re using.</p>
</div>
<div class="section" id="notation">
<span id="id2"></span><h2>1.2. Notation</h2>
<p id="index-0">The descriptions of lexical analysis and syntax use a modified BNF grammar
notation.  This uses the following style of definition:</p>
<pre>
<strong id="grammar-token-name">name     </strong> ::=  <a href="#grammar-token-lc_letter"><code class="xref docutils literal"><span class="pre">lc_letter</span></code></a> (<a href="#grammar-token-lc_letter"><code class="xref docutils literal"><span class="pre">lc_letter</span></code></a> | &quot;_&quot;)*
<strong id="grammar-token-lc_letter">lc_letter</strong> ::=  &quot;a&quot;...&quot;z&quot;
</pre>
<p>The first line says that a <code class="docutils literal"><span class="pre">name</span></code> is an <code class="docutils literal"><span class="pre">lc_letter</span></code> followed by a sequence
of zero or more <code class="docutils literal"><span class="pre">lc_letter</span></code>s and underscores.  An <code class="docutils literal"><span class="pre">lc_letter</span></code> in turn is
any of the single characters <code class="docutils literal"><span class="pre">'a'</span></code> through <code class="docutils literal"><span class="pre">'z'</span></code>.  (This rule is actually
adhered to for the names defined in lexical and grammar rules in this document.)</p>
<p>Each rule begins with a name (which is the name defined by the rule) and
<code class="docutils literal"><span class="pre">::=</span></code>.  A vertical bar (<code class="docutils literal"><span class="pre">|</span></code>) is used to separate alternatives; it is the
least binding operator in this notation.  A star (<code class="docutils literal"><span class="pre">*</span></code>) means zero or more
repetitions of the preceding item; likewise, a plus (<code class="docutils literal"><span class="pre">+</span></code>) means one or more
repetitions, and a phrase enclosed in square brackets (<code class="docutils literal"><span class="pre">[</span> <span class="pre">]</span></code>) means zero or
one occurrences (in other words, the enclosed phrase is optional).  The <code class="docutils literal"><span class="pre">*</span></code>
and <code class="docutils literal"><span class="pre">+</span></code> operators bind as tightly as possible; parentheses are used for
grouping.  Literal strings are enclosed in quotes.  White space is only
meaningful to separate tokens. Rules are normally contained on a single line;
rules with many alternatives may be formatted alternatively with each line after
the first beginning with a vertical bar.</p>
<p id="index-1">In lexical definitions (as the example above), two more conventions are used:
Two literal characters separated by three dots mean a choice of any single
character in the given (inclusive) range of ASCII characters.  A phrase between
angular brackets (<code class="docutils literal"><span class="pre">&lt;...&gt;</span></code>) gives an informal description of the symbol
defined; e.g., this could be used to describe the notion of ‘control character’
if needed.</p>
<p>Even though the notation used is almost the same, there is a big difference
between the meaning of lexical and syntactic definitions: a lexical definition
operates on the individual characters of the input source, while a syntax
definition operates on the stream of tokens generated by the lexical analysis.
All uses of BNF in the next chapter (“Lexical Analysis”) are lexical
definitions; uses in subsequent chapters are syntactic definitions.</p>
</div>
</div>


          </div>
        </div>
      </div>
  <div class="section" id="lexical-analysis">
<span id="lexical"></span><h1></h1><h1>2. Lexical analysis</h1>
<p id="index-0">A Python program is read by a <em>parser</em>.  Input to the parser is a stream of
<em>tokens</em>, generated by the <em>lexical analyzer</em>.  This chapter describes how the
lexical analyzer breaks a file into tokens.</p>
<p>Python uses the 7-bit ASCII character set for program text.</p>
<div class="versionadded">
<p><span>New in version 2.3: </span>An encoding declaration can be used to indicate that  string literals and
comments use an encoding different from ASCII.</p>
</div>
<p>For compatibility with older versions, Python only warns if it finds 8-bit
characters; those warnings should be corrected by either declaring an explicit
encoding, or using escape sequences if those bytes are binary data, instead of
characters.</p>
<p>The run-time character set depends on the I/O devices connected to the program
but is generally a superset of ASCII.</p>
<p><strong>Future compatibility note:</strong> It may be tempting to assume that the character
set for 8-bit characters is ISO Latin-1 (an ASCII superset that covers most
western languages that use the Latin alphabet), but it is possible that in the
future Unicode text editors will become common.  These generally use the UTF-8
encoding, which is also an ASCII superset, but with very different use for the
characters with ordinals 128-255.  While there is no consensus on this subject
yet, it is unwise to assume either Latin-1 or UTF-8, even though the current
implementation appears to favor Latin-1.  This applies both to the source
character set and the run-time character set.</p>
<div class="section" id="line-structure">
<span id="id1"></span><h2>2.1. Line structure</h2>
<p id="index-1">A Python program is divided into a number of <em>logical lines</em>.</p>
<div class="section" id="logical-lines">
<span id="logical"></span><h3>2.1.1. Logical lines</h3>
<p id="index-2">The end of a logical line is represented by the token NEWLINE.  Statements
cannot cross logical line boundaries except where NEWLINE is allowed by the
syntax (e.g., between statements in compound statements). A logical line is
constructed from one or more <em>physical lines</em> by following the explicit or
implicit <em>line joining</em> rules.</p>
</div>
<div class="section" id="physical-lines">
<span id="physical"></span><h3>2.1.2. Physical lines</h3>
<p>A physical line is a sequence of characters terminated by an end-of-line
sequence.  In source files, any of the standard platform line termination
sequences can be used - the Unix form using ASCII LF (linefeed), the Windows
form using the ASCII sequence CR LF (return followed by linefeed), or the old
Macintosh form using the ASCII CR (return) character.  All of these forms can be
used equally, regardless of platform.</p>
<p>When embedding Python, source code strings should be passed to Python APIs using
the standard C conventions for newline characters (the <code class="docutils literal"><span class="pre">\n</span></code> character,
representing ASCII LF, is the line terminator).</p>
</div>
<div class="section" id="comments">
<span id="id2"></span><h3>2.1.3. Comments</h3>
<p id="index-3">A comment starts with a hash character (<code class="docutils literal"><span class="pre">#</span></code>) that is not part of a string
literal, and ends at the end of the physical line.  A comment signifies the end
of the logical line unless the implicit line joining rules are invoked. Comments
are ignored by the syntax; they are not tokens.</p>
</div>
<div class="section" id="encoding-declarations">
<span id="encodings"></span><h3>2.1.4. Encoding declarations</h3>
<p id="index-4">If a comment in the first or second line of the Python script matches the
regular expression <code class="docutils literal"><span class="pre">coding[=:]\s*([-\w.]+)</span></code>, this comment is processed as an
encoding declaration; the first group of this expression names the encoding of
the source code file. The encoding declaration must appear on a line of its
own. If it is the second line, the first line must also be a comment-only line.
The recommended forms of an encoding expression are</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># -*- coding: &lt;encoding-name&gt; -*-</span>
</pre></div>
</div>
<p>which is recognized also by GNU Emacs, and</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># vim:fileencoding=&lt;encoding-name&gt;</span>
</pre></div>
</div>
<p>which is recognized by Bram Moolenaar’s VIM. In addition, if the first bytes of
the file are the UTF-8 byte-order mark (<code class="docutils literal"><span class="pre">'\xef\xbb\xbf'</span></code>), the declared file
encoding is UTF-8 (this is supported, among others, by Microsoft’s
<strong class="program">notepad</strong>).</p>
<p>If an encoding is declared, the encoding name must be recognized by Python. The
encoding is used for all lexical analysis, in particular to find the end of a
string, and to interpret the contents of Unicode literals. String literals are
converted to Unicode for syntactical analysis, then converted back to their
original encoding before interpretation starts.</p>
</div>
<div class="section" id="explicit-line-joining">
<span id="explicit-joining"></span><h3>2.1.5. Explicit line joining</h3>
<p id="index-5">Two or more physical lines may be joined into logical lines using backslash
characters (<code class="docutils literal"><span class="pre">\</span></code>), as follows: when a physical line ends in a backslash that is
not part of a string literal or comment, it is joined with the following forming
a single logical line, deleting the backslash and the following end-of-line
character.  For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="mi">1900</span> <span class="o">&lt;</span> <span class="n">year</span> <span class="o">&lt;</span> <span class="mi">2100</span> <span class="ow">and</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">month</span> <span class="o">&lt;=</span> <span class="mi">12</span> \
   <span class="ow">and</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">day</span> <span class="o">&lt;=</span> <span class="mi">31</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">hour</span> <span class="o">&lt;</span> <span class="mi">24</span> \
   <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">minute</span> <span class="o">&lt;</span> <span class="mi">60</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">second</span> <span class="o">&lt;</span> <span class="mi">60</span><span class="p">:</span>   <span class="c1"># Looks like a valid date</span>
        <span class="k">return</span> <span class="mi">1</span>
</pre></div>
</div>
<p>A line ending in a backslash cannot carry a comment.  A backslash does not
continue a comment.  A backslash does not continue a token except for string
literals (i.e., tokens other than string literals cannot be split across
physical lines using a backslash).  A backslash is illegal elsewhere on a line
outside a string literal.</p>
</div>
<div class="section" id="implicit-line-joining">
<span id="implicit-joining"></span><h3>2.1.6. Implicit line joining</h3>
<p>Expressions in parentheses, square brackets or curly braces can be split over
more than one physical line without using backslashes. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">month_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Januari&#39;</span><span class="p">,</span> <span class="s1">&#39;Februari&#39;</span><span class="p">,</span> <span class="s1">&#39;Maart&#39;</span><span class="p">,</span>      <span class="c1"># These are the</span>
               <span class="s1">&#39;April&#39;</span><span class="p">,</span>   <span class="s1">&#39;Mei&#39;</span><span class="p">,</span>      <span class="s1">&#39;Juni&#39;</span><span class="p">,</span>       <span class="c1"># Dutch names</span>
               <span class="s1">&#39;Juli&#39;</span><span class="p">,</span>    <span class="s1">&#39;Augustus&#39;</span><span class="p">,</span> <span class="s1">&#39;September&#39;</span><span class="p">,</span>  <span class="c1"># for the months</span>
               <span class="s1">&#39;Oktober&#39;</span><span class="p">,</span> <span class="s1">&#39;November&#39;</span><span class="p">,</span> <span class="s1">&#39;December&#39;</span><span class="p">]</span>   <span class="c1"># of the year</span>
</pre></div>
</div>
<p>Implicitly continued lines can carry comments.  The indentation of the
continuation lines is not important.  Blank continuation lines are allowed.
There is no NEWLINE token between implicit continuation lines.  Implicitly
continued lines can also occur within triple-quoted strings (see below); in that
case they cannot carry comments.</p>
</div>
<div class="section" id="blank-lines">
<span id="id3"></span><h3>2.1.7. Blank lines</h3>
<p id="index-6">A logical line that contains only spaces, tabs, formfeeds and possibly a
comment, is ignored (i.e., no NEWLINE token is generated).  During interactive
input of statements, handling of a blank line may differ depending on the
implementation of the read-eval-print loop.  In the standard implementation, an
entirely blank logical line (i.e. one containing not even whitespace or a
comment) terminates a multi-line statement.</p>
</div>
<div class="section" id="indentation">
<span id="id4"></span><h3>2.1.8. Indentation</h3>
<p id="index-7">Leading whitespace (spaces and tabs) at the beginning of a logical line is used
to compute the indentation level of the line, which in turn is used to determine
the grouping of statements.</p>
<p>First, tabs are replaced (from left to right) by one to eight spaces such that
the total number of characters up to and including the replacement is a multiple
of eight (this is intended to be the same rule as used by Unix).  The total
number of spaces preceding the first non-blank character then determines the
line’s indentation.  Indentation cannot be split over multiple physical lines
using backslashes; the whitespace up to the first backslash determines the
indentation.</p>
<p><strong>Cross-platform compatibility note:</strong> because of the nature of text editors on
non-UNIX platforms, it is unwise to use a mixture of spaces and tabs for the
indentation in a single source file.  It should also be noted that different
platforms may explicitly limit the maximum indentation level.</p>
<p>A formfeed character may be present at the start of the line; it will be ignored
for the indentation calculations above.  Formfeed characters occurring elsewhere
in the leading whitespace have an undefined effect (for instance, they may reset
the space count to zero).</p>
<p id="index-8">The indentation levels of consecutive lines are used to generate INDENT and
DEDENT tokens, using a stack, as follows.</p>
<p>Before the first line of the file is read, a single zero is pushed on the stack;
this will never be popped off again.  The numbers pushed on the stack will
always be strictly increasing from bottom to top.  At the beginning of each
logical line, the line’s indentation level is compared to the top of the stack.
If it is equal, nothing happens. If it is larger, it is pushed on the stack, and
one INDENT token is generated.  If it is smaller, it <em>must</em> be one of the
numbers occurring on the stack; all numbers on the stack that are larger are
popped off, and for each number popped off a DEDENT token is generated.  At the
end of the file, a DEDENT token is generated for each number remaining on the
stack that is larger than zero.</p>
<p>Here is an example of a correctly (though confusingly) indented piece of Python
code:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">perm</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
        <span class="c1"># Compute the list of all permutations of l</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
                  <span class="k">return</span> <span class="p">[</span><span class="n">l</span><span class="p">]</span>
    <span class="n">r</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">)):</span>
             <span class="n">s</span> <span class="o">=</span> <span class="n">l</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
             <span class="n">p</span> <span class="o">=</span> <span class="n">perm</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
             <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">p</span><span class="p">:</span>
              <span class="n">r</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">r</span>
</pre></div>
</div>
<p>The following example shows various indentation errors:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span> <span class="k">def</span> <span class="nf">perm</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>                       <span class="c1"># error: first line indented</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">)):</span>             <span class="c1"># error: not indented</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">l</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">perm</span><span class="p">(</span><span class="n">l</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:])</span>   <span class="c1"># error: unexpected indent</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">p</span><span class="p">:</span>
                <span class="n">r</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">r</span>                <span class="c1"># error: inconsistent dedent</span>
</pre></div>
</div>
<p>(Actually, the first three errors are detected by the parser; only the last
error is found by the lexical analyzer — the indentation of <code class="docutils literal"><span class="pre">return</span> <span class="pre">r</span></code> does
not match a level popped off the stack.)</p>
</div>
<div class="section" id="whitespace-between-tokens">
<span id="whitespace"></span><h3>2.1.9. Whitespace between tokens</h3>
<p>Except at the beginning of a logical line or in string literals, the whitespace
characters space, tab and formfeed can be used interchangeably to separate
tokens.  Whitespace is needed between two tokens only if their concatenation
could otherwise be interpreted as a different token (e.g., ab is one token, but
a b is two tokens).</p>
</div>
</div>
<div class="section" id="other-tokens">
<span id="id5"></span><h2>2.2. Other tokens</h2>
<p>Besides NEWLINE, INDENT and DEDENT, the following categories of tokens exist:
<em>identifiers</em>, <em>keywords</em>, <em>literals</em>, <em>operators</em>, and <em>delimiters</em>. Whitespace
characters (other than line terminators, discussed earlier) are not tokens, but
serve to delimit tokens. Where ambiguity exists, a token comprises the longest
possible string that forms a legal token, when read from left to right.</p>
</div>
<div class="section" id="identifiers">
<span id="identifiers-and-keywords"></span><h2>2.3. Identifiers and keywords</h2>
<p id="index-9">Identifiers (also referred to as <em>names</em>) are described by the following lexical
definitions:</p>
<pre>
<strong id="grammar-token-identifier">identifier</strong> ::=  (<a href="#grammar-token-letter"><code class="xref docutils literal"><span class="pre">letter</span></code></a>|&quot;_&quot;) (<a href="#grammar-token-letter"><code class="xref docutils literal"><span class="pre">letter</span></code></a> | <a href="#grammar-token-digit"><code class="xref docutils literal"><span class="pre">digit</span></code></a> | &quot;_&quot;)*
<strong id="grammar-token-letter">letter    </strong> ::=  <a href="#grammar-token-lowercase"><code class="xref docutils literal"><span class="pre">lowercase</span></code></a> | <a href="#grammar-token-uppercase"><code class="xref docutils literal"><span class="pre">uppercase</span></code></a>
<strong id="grammar-token-lowercase">lowercase </strong> ::=  &quot;a&quot;...&quot;z&quot;
<strong id="grammar-token-uppercase">uppercase </strong> ::=  &quot;A&quot;...&quot;Z&quot;
<strong id="grammar-token-digit">digit     </strong> ::=  &quot;0&quot;...&quot;9&quot;
</pre>
<p>Identifiers are unlimited in length.  Case is significant.</p>
<div class="section" id="keywords">
<span id="id6"></span><h3>2.3.1. Keywords</h3>
<p id="index-10">The following identifiers are used as reserved words, or <em>keywords</em> of the
language, and cannot be used as ordinary identifiers.  They must be spelled
exactly as written here:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>and       del       from      not       while
as        elif      global    or        with
assert    else      if        pass      yield
break     except    import    print
class     exec      in        raise
continue  finally   is        return
def       for       lambda    try
</pre></div>
</div>
<div class="versionchanged">
<p><span>Changed in version 2.4: </span><a href="../library/constants.html#None" title="None"><code class="xref py py-const docutils literal"><span class="pre">None</span></code></a> became a constant and is now recognized by the compiler as a name
for the built-in object <a href="../library/constants.html#None" title="None"><code class="xref py py-const docutils literal"><span class="pre">None</span></code></a>.  Although it is not a keyword, you cannot
assign a different object to it.</p>
</div>
<div class="versionchanged">
<p><span>Changed in version 2.5: </span>Using <a href="#as"><code class="xref std std-keyword docutils literal"><span class="pre">as</span></code></a> and <a href="#with"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a> as identifiers triggers a warning.  To
use them as keywords, enable the <code class="docutils literal"><span class="pre">with_statement</span></code> future feature .</p>
</div>
<div class="versionchanged">
<p><span>Changed in version 2.6: </span><a href="#as"><code class="xref std std-keyword docutils literal"><span class="pre">as</span></code></a> and <a href="#with"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a> are full keywords.</p>
</div>
</div>
<div class="section" id="reserved-classes-of-identifiers">
<span id="id-classes"></span><h3>2.3.2. Reserved classes of identifiers</h3>
<p>Certain classes of identifiers (besides keywords) have special meanings.  These
classes are identified by the patterns of leading and trailing underscore
characters:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">_*</span></code></dt>
<dd><p class="first">Not imported by <code class="docutils literal"><span class="pre">from</span> <span class="pre">module</span> <span class="pre">import</span> <span class="pre">*</span></code>.  The special identifier <code class="docutils literal"><span class="pre">_</span></code> is used
in the interactive interpreter to store the result of the last evaluation; it is
stored in the <a href="../library/__builtin__.html#module-__builtin__" title="__builtin__: The module that provides the built-in namespace."><code class="xref py py-mod docutils literal"><span class="pre">__builtin__</span></code></a> module.  When not in interactive mode, <code class="docutils literal"><span class="pre">_</span></code>
has no special meaning and is not defined. See section <a href="#import"><span class="std std-ref">The import statement</span></a>.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The name <code class="docutils literal"><span class="pre">_</span></code> is often used in conjunction with internationalization;
refer to the documentation for the <a href="../library/gettext.html#module-gettext" title="gettext: Multilingual internationalization services."><code class="xref py py-mod docutils literal"><span class="pre">gettext</span></code></a> module for more
information on this convention.</p>
</div>
</dd>
<dt><code class="docutils literal"><span class="pre">__*__</span></code></dt>
<dd>System-defined names. These names are defined by the interpreter and its
implementation (including the standard library).  Current system names are
discussed in the <a href="#specialnames"><span class="std std-ref">Special method names</span></a> section and elsewhere.  More will likely
be defined in future versions of Python.  <em>Any</em> use of <code class="docutils literal"><span class="pre">__*__</span></code> names, in
any context, that does not follow explicitly documented use, is subject to
breakage without warning.</dd>
<dt><code class="docutils literal"><span class="pre">__*</span></code></dt>
<dd>Class-private names.  Names in this category, when used within the context of a
class definition, are re-written to use a mangled form to help avoid name
clashes between “private” attributes of base and derived classes. See section
<a href="#atom-identifiers"><span class="std std-ref">Identifiers (Names)</span></a>.</dd>
</dl>
</div>
</div>
<div class="section" id="literals">
<span id="id7"></span><h2>2.4. Literals</h2>
<p id="index-11">Literals are notations for constant values of some built-in types.</p>
<div class="section" id="string-literals">
<span id="strings"></span><h3>2.4.1. String literals</h3>
<p id="index-12">String literals are described by the following lexical definitions:</p>
<pre id="index-13">
<strong id="grammar-token-stringliteral">stringliteral  </strong> ::=  [<a href="#grammar-token-stringprefix"><code class="xref docutils literal"><span class="pre">stringprefix</span></code></a>](<a href="#grammar-token-shortstring"><code class="xref docutils literal"><span class="pre">shortstring</span></code></a> | <a href="#grammar-token-longstring"><code class="xref docutils literal"><span class="pre">longstring</span></code></a>)
<strong id="grammar-token-stringprefix">stringprefix   </strong> ::=  &quot;r&quot; | &quot;u&quot; | &quot;ur&quot; | &quot;R&quot; | &quot;U&quot; | &quot;UR&quot; | &quot;Ur&quot; | &quot;uR&quot;
                     | &quot;b&quot; | &quot;B&quot; | &quot;br&quot; | &quot;Br&quot; | &quot;bR&quot; | &quot;BR&quot;
<strong id="grammar-token-shortstring">shortstring    </strong> ::=  &quot;'&quot; <a href="#grammar-token-shortstringitem"><code class="xref docutils literal"><span class="pre">shortstringitem</span></code></a>* &quot;'&quot; | '&quot;' <a href="#grammar-token-shortstringitem"><code class="xref docutils literal"><span class="pre">shortstringitem</span></code></a>* '&quot;'
<strong id="grammar-token-longstring">longstring     </strong> ::=  &quot;'''&quot; <a href="#grammar-token-longstringitem"><code class="xref docutils literal"><span class="pre">longstringitem</span></code></a>* &quot;'''&quot;
                     | '&quot;&quot;&quot;' <a href="#grammar-token-longstringitem"><code class="xref docutils literal"><span class="pre">longstringitem</span></code></a>* '&quot;&quot;&quot;'
<strong id="grammar-token-shortstringitem">shortstringitem</strong> ::=  <a href="#grammar-token-shortstringchar"><code class="xref docutils literal"><span class="pre">shortstringchar</span></code></a> | <a href="#grammar-token-escapeseq"><code class="xref docutils literal"><span class="pre">escapeseq</span></code></a>
<strong id="grammar-token-longstringitem">longstringitem </strong> ::=  <a href="#grammar-token-longstringchar"><code class="xref docutils literal"><span class="pre">longstringchar</span></code></a> | <a href="#grammar-token-escapeseq"><code class="xref docutils literal"><span class="pre">escapeseq</span></code></a>
<strong id="grammar-token-shortstringchar">shortstringchar</strong> ::=  &lt;any source character except &quot;\&quot; or newline or the quote&gt;
<strong id="grammar-token-longstringchar">longstringchar </strong> ::=  &lt;any source character except &quot;\&quot;&gt;
<strong id="grammar-token-escapeseq">escapeseq      </strong> ::=  &quot;\&quot; &lt;any ASCII character&gt;
</pre>
<p>One syntactic restriction not indicated by these productions is that whitespace
is not allowed between the <a href="#grammar-token-stringprefix"><code class="xref std std-token docutils literal"><span class="pre">stringprefix</span></code></a> and the rest of the string
literal. The source character set is defined by the encoding declaration; it is
ASCII if no encoding declaration is given in the source file; see section
<a href="#encodings"><span class="std std-ref">Encoding declarations</span></a>.</p>
<p id="index-14">In plain English: String literals can be enclosed in matching single quotes
(<code class="docutils literal"><span class="pre">'</span></code>) or double quotes (<code class="docutils literal"><span class="pre">&quot;</span></code>).  They can also be enclosed in matching groups
of three single or double quotes (these are generally referred to as
<em>triple-quoted strings</em>).  The backslash (<code class="docutils literal"><span class="pre">\</span></code>) character is used to escape
characters that otherwise have a special meaning, such as newline, backslash
itself, or the quote character.  String literals may optionally be prefixed with
a letter <code class="docutils literal"><span class="pre">'r'</span></code> or <code class="docutils literal"><span class="pre">'R'</span></code>; such strings are called <em class="dfn">raw strings</em> and use
different rules for interpreting backslash escape sequences.  A prefix of
<code class="docutils literal"><span class="pre">'u'</span></code> or <code class="docutils literal"><span class="pre">'U'</span></code> makes the string a Unicode string.  Unicode strings use the
Unicode character set as defined by the Unicode Consortium and ISO 10646.  Some
additional escape sequences, described below, are available in Unicode strings.
A prefix of <code class="docutils literal"><span class="pre">'b'</span></code> or <code class="docutils literal"><span class="pre">'B'</span></code> is ignored in Python 2; it indicates that the
literal should become a bytes literal in Python 3 (e.g. when code is
automatically converted with 2to3).  A <code class="docutils literal"><span class="pre">'u'</span></code> or <code class="docutils literal"><span class="pre">'b'</span></code> prefix may be followed
by an <code class="docutils literal"><span class="pre">'r'</span></code> prefix.</p>
<p>In triple-quoted strings, unescaped newlines and quotes are allowed (and are
retained), except that three unescaped quotes in a row terminate the string.  (A
“quote” is the character used to open the string, i.e. either <code class="docutils literal"><span class="pre">'</span></code> or <code class="docutils literal"><span class="pre">&quot;</span></code>.)</p>
<p id="index-15">Unless an <code class="docutils literal"><span class="pre">'r'</span></code> or <code class="docutils literal"><span class="pre">'R'</span></code> prefix is present, escape sequences in strings are
interpreted according to rules similar to those used by Standard C.  The
recognized escape sequences are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="58%" />
<col width="12%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Escape Sequence</th>
<th class="head">Meaning</th>
<th class="head">Notes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">\newline</span></code></td>
<td>Ignored</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">\\</span></code></td>
<td>Backslash (<code class="docutils literal"><span class="pre">\</span></code>)</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">\'</span></code></td>
<td>Single quote (<code class="docutils literal"><span class="pre">'</span></code>)</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">\&quot;</span></code></td>
<td>Double quote (<code class="docutils literal"><span class="pre">&quot;</span></code>)</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">\a</span></code></td>
<td>ASCII Bell (BEL)</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">\b</span></code></td>
<td>ASCII Backspace (BS)</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">\f</span></code></td>
<td>ASCII Formfeed (FF)</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">\n</span></code></td>
<td>ASCII Linefeed (LF)</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">\N{name}</span></code></td>
<td>Character named <em>name</em> in the
Unicode database (Unicode only)</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">\r</span></code></td>
<td>ASCII Carriage Return (CR)</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">\t</span></code></td>
<td>ASCII Horizontal Tab (TAB)</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">\uxxxx</span></code></td>
<td>Character with 16-bit hex value
<em>xxxx</em> (Unicode only)</td>
<td>(1)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">\Uxxxxxxxx</span></code></td>
<td>Character with 32-bit hex value
<em>xxxxxxxx</em> (Unicode only)</td>
<td>(2)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">\v</span></code></td>
<td>ASCII Vertical Tab (VT)</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">\ooo</span></code></td>
<td>Character with octal value
<em>ooo</em></td>
<td>(3,5)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">\xhh</span></code></td>
<td>Character with hex value <em>hh</em></td>
<td>(4,5)</td>
</tr>
</tbody>
</table>
<p id="index-16">Notes:</p>
<ol class="arabic simple">
<li>Individual code units which form parts of a surrogate pair can be encoded using
this escape sequence.</li>
<li>Any Unicode character can be encoded this way, but characters outside the Basic
Multilingual Plane (BMP) will be encoded using a surrogate pair if Python is
compiled to use 16-bit code units (the default).</li>
<li>As in Standard C, up to three octal digits are accepted.</li>
<li>Unlike in Standard C, exactly two hex digits are required.</li>
<li>In a string literal, hexadecimal and octal escapes denote the byte with the
given value; it is not necessary that the byte encodes a character in the source
character set. In a Unicode literal, these escapes denote a Unicode character
with the given value.</li>
</ol>
<p id="index-17">Unlike Standard C, all unrecognized escape sequences are left in the string
unchanged, i.e., <em>the backslash is left in the string</em>.  (This behavior is
useful when debugging: if an escape sequence is mistyped, the resulting output
is more easily recognized as broken.)  It is also important to note that the
escape sequences marked as “(Unicode only)” in the table above fall into the
category of unrecognized escapes for non-Unicode string literals.</p>
<p>When an <code class="docutils literal"><span class="pre">'r'</span></code> or <code class="docutils literal"><span class="pre">'R'</span></code> prefix is present, a character following a backslash
is included in the string without change, and <em>all backslashes are left in the
string</em>.  For example, the string literal <code class="docutils literal"><span class="pre">r&quot;\n&quot;</span></code> consists of two characters:
a backslash and a lowercase <code class="docutils literal"><span class="pre">'n'</span></code>.  String quotes can be escaped with a
backslash, but the backslash remains in the string; for example, <code class="docutils literal"><span class="pre">r&quot;\&quot;&quot;</span></code> is a
valid string literal consisting of two characters: a backslash and a double
quote; <code class="docutils literal"><span class="pre">r&quot;\&quot;</span></code> is not a valid string literal (even a raw string cannot end in
an odd number of backslashes).  Specifically, <em>a raw string cannot end in a
single backslash</em> (since the backslash would escape the following quote
character).  Note also that a single backslash followed by a newline is
interpreted as those two characters as part of the string, <em>not</em> as a line
continuation.</p>
<p>When an <code class="docutils literal"><span class="pre">'r'</span></code> or <code class="docutils literal"><span class="pre">'R'</span></code> prefix is used in conjunction with a <code class="docutils literal"><span class="pre">'u'</span></code> or
<code class="docutils literal"><span class="pre">'U'</span></code> prefix, then the <code class="docutils literal"><span class="pre">\uXXXX</span></code> and <code class="docutils literal"><span class="pre">\UXXXXXXXX</span></code> escape sequences are
processed while  <em>all other backslashes are left in the string</em>. For example,
the string literal <code class="docutils literal"><span class="pre">ur&quot;\u0062\n&quot;</span></code> consists of three Unicode characters: ‘LATIN
SMALL LETTER B’, ‘REVERSE SOLIDUS’, and ‘LATIN SMALL LETTER N’. Backslashes can
be escaped with a preceding backslash; however, both remain in the string.  As a
result, <code class="docutils literal"><span class="pre">\uXXXX</span></code> escape sequences are only recognized when there are an odd
number of backslashes.</p>
</div>
<div class="section" id="string-literal-concatenation">
<span id="string-catenation"></span><h3>2.4.2. String literal concatenation</h3>
<p>Multiple adjacent string literals (delimited by whitespace), possibly using
different quoting conventions, are allowed, and their meaning is the same as
their concatenation.  Thus, <code class="docutils literal"><span class="pre">&quot;hello&quot;</span> <span class="pre">'world'</span></code> is equivalent to
<code class="docutils literal"><span class="pre">&quot;helloworld&quot;</span></code>.  This feature can be used to reduce the number of backslashes
needed, to split long strings conveniently across long lines, or even to add
comments to parts of strings, for example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;[A-Za-z_]&quot;</span>       <span class="c1"># letter or underscore</span>
           <span class="s2">&quot;[A-Za-z0-9_]*&quot;</span>   <span class="c1"># letter, digit or underscore</span>
          <span class="p">)</span>
</pre></div>
</div>
<p>Note that this feature is defined at the syntactical level, but implemented at
compile time.  The ‘+’ operator must be used to concatenate string expressions
at run time.  Also note that literal concatenation can use different quoting
styles for each component (even mixing raw strings and triple quoted strings).</p>
</div>
<div class="section" id="numeric-literals">
<span id="numbers"></span><h3>2.4.3. Numeric literals</h3>
<p id="index-18">There are four types of numeric literals: plain integers, long integers,
floating point numbers, and imaginary numbers.  There are no complex literals
(complex numbers can be formed by adding a real number and an imaginary number).</p>
<p>Note that numeric literals do not include a sign; a phrase like <code class="docutils literal"><span class="pre">-1</span></code> is
actually an expression composed of the unary operator ‘<code class="docutils literal"><span class="pre">-</span></code>‘ and the literal
<code class="docutils literal"><span class="pre">1</span></code>.</p>
</div>
<div class="section" id="integer-and-long-integer-literals">
<span id="integers"></span><h3>2.4.4. Integer and long integer literals</h3>
<p>Integer and long integer literals are described by the following lexical
definitions:</p>
<pre>
<strong id="grammar-token-longinteger">longinteger   </strong> ::=  <a href="#grammar-token-integer"><code class="xref docutils literal"><span class="pre">integer</span></code></a> (&quot;l&quot; | &quot;L&quot;)
<strong id="grammar-token-integer">integer       </strong> ::=  <a href="#grammar-token-decimalinteger"><code class="xref docutils literal"><span class="pre">decimalinteger</span></code></a> | <a href="#grammar-token-octinteger"><code class="xref docutils literal"><span class="pre">octinteger</span></code></a> | <a href="#grammar-token-hexinteger"><code class="xref docutils literal"><span class="pre">hexinteger</span></code></a> | <a href="#grammar-token-bininteger"><code class="xref docutils literal"><span class="pre">bininteger</span></code></a>
<strong id="grammar-token-decimalinteger">decimalinteger</strong> ::=  <a href="#grammar-token-nonzerodigit"><code class="xref docutils literal"><span class="pre">nonzerodigit</span></code></a> <a href="#grammar-token-digit"><code class="xref docutils literal"><span class="pre">digit</span></code></a>* | &quot;0&quot;
<strong id="grammar-token-octinteger">octinteger    </strong> ::=  &quot;0&quot; (&quot;o&quot; | &quot;O&quot;) <a href="#grammar-token-octdigit"><code class="xref docutils literal"><span class="pre">octdigit</span></code></a>+ | &quot;0&quot; <a href="#grammar-token-octdigit"><code class="xref docutils literal"><span class="pre">octdigit</span></code></a>+
<strong id="grammar-token-hexinteger">hexinteger    </strong> ::=  &quot;0&quot; (&quot;x&quot; | &quot;X&quot;) <a href="#grammar-token-hexdigit"><code class="xref docutils literal"><span class="pre">hexdigit</span></code></a>+
<strong id="grammar-token-bininteger">bininteger    </strong> ::=  &quot;0&quot; (&quot;b&quot; | &quot;B&quot;) <a href="#grammar-token-bindigit"><code class="xref docutils literal"><span class="pre">bindigit</span></code></a>+
<strong id="grammar-token-nonzerodigit">nonzerodigit  </strong> ::=  &quot;1&quot;...&quot;9&quot;
<strong id="grammar-token-octdigit">octdigit      </strong> ::=  &quot;0&quot;...&quot;7&quot;
<strong id="grammar-token-bindigit">bindigit      </strong> ::=  &quot;0&quot; | &quot;1&quot;
<strong id="grammar-token-hexdigit">hexdigit      </strong> ::=  <a href="#grammar-token-digit"><code class="xref docutils literal"><span class="pre">digit</span></code></a> | &quot;a&quot;...&quot;f&quot; | &quot;A&quot;...&quot;F&quot;
</pre>
<p>Although both lower case <code class="docutils literal"><span class="pre">'l'</span></code> and upper case <code class="docutils literal"><span class="pre">'L'</span></code> are allowed as suffix
for long integers, it is strongly recommended to always use <code class="docutils literal"><span class="pre">'L'</span></code>, since the
letter <code class="docutils literal"><span class="pre">'l'</span></code> looks too much like the digit <code class="docutils literal"><span class="pre">'1'</span></code>.</p>
<p>Plain integer literals that are above the largest representable plain integer
(e.g., 2147483647 when using 32-bit arithmetic) are accepted as if they were
long integers instead. <a class="footnote-reference" href="#id11" id="id8">[1]</a>  There is no limit for long integer literals apart
from what can be stored in available memory.</p>
<p>Some examples of plain integer literals (first row) and long integer literals
(second and third rows):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">7</span>     <span class="mi">2147483647</span>                        <span class="mi">0177</span>
<span class="mi">3</span><span class="n">L</span>    <span class="mi">79228162514264337593543950336</span><span class="n">L</span>    <span class="mi">0377</span><span class="n">L</span>   <span class="mh">0x100000000</span><span class="n">L</span>
      <span class="mi">79228162514264337593543950336</span>             <span class="mh">0xdeadbeef</span>
</pre></div>
</div>
</div>
<div class="section" id="floating-point-literals">
<span id="floating"></span><h3>2.4.5. Floating point literals</h3>
<p>Floating point literals are described by the following lexical definitions:</p>
<pre>
<strong id="grammar-token-floatnumber">floatnumber  </strong> ::=  <a href="#grammar-token-pointfloat"><code class="xref docutils literal"><span class="pre">pointfloat</span></code></a> | <a href="#grammar-token-exponentfloat"><code class="xref docutils literal"><span class="pre">exponentfloat</span></code></a>
<strong id="grammar-token-pointfloat">pointfloat   </strong> ::=  [<a href="#grammar-token-intpart"><code class="xref docutils literal"><span class="pre">intpart</span></code></a>] <a href="#grammar-token-fraction"><code class="xref docutils literal"><span class="pre">fraction</span></code></a> | <a href="#grammar-token-intpart"><code class="xref docutils literal"><span class="pre">intpart</span></code></a> &quot;.&quot;
<strong id="grammar-token-exponentfloat">exponentfloat</strong> ::=  (<a href="#grammar-token-intpart"><code class="xref docutils literal"><span class="pre">intpart</span></code></a> | <a href="#grammar-token-pointfloat"><code class="xref docutils literal"><span class="pre">pointfloat</span></code></a>) <a href="#grammar-token-exponent"><code class="xref docutils literal"><span class="pre">exponent</span></code></a>
<strong id="grammar-token-intpart">intpart      </strong> ::=  <a href="#grammar-token-digit"><code class="xref docutils literal"><span class="pre">digit</span></code></a>+
<strong id="grammar-token-fraction">fraction     </strong> ::=  &quot;.&quot; <a href="#grammar-token-digit"><code class="xref docutils literal"><span class="pre">digit</span></code></a>+
<strong id="grammar-token-exponent">exponent     </strong> ::=  (&quot;e&quot; | &quot;E&quot;) [&quot;+&quot; | &quot;-&quot;] <a href="#grammar-token-digit"><code class="xref docutils literal"><span class="pre">digit</span></code></a>+
</pre>
<p>Note that the integer and exponent parts of floating point numbers can look like
octal integers, but are interpreted using radix 10.  For example, <code class="docutils literal"><span class="pre">077e010</span></code> is
legal, and denotes the same number as <code class="docutils literal"><span class="pre">77e10</span></code>. The allowed range of floating
point literals is implementation-dependent. Some examples of floating point
literals:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mf">3.14</span>    <span class="mf">10.</span>    <span class="o">.</span><span class="mi">001</span>    <span class="mf">1e100</span>    <span class="mf">3.14e-10</span>    <span class="mf">0e0</span>
</pre></div>
</div>
<p>Note that numeric literals do not include a sign; a phrase like <code class="docutils literal"><span class="pre">-1</span></code> is
actually an expression composed of the unary operator <code class="docutils literal"><span class="pre">-</span></code> and the literal
<code class="docutils literal"><span class="pre">1</span></code>.</p>
</div>
<div class="section" id="imaginary-literals">
<span id="imaginary"></span><h3>2.4.6. Imaginary literals</h3>
<p>Imaginary literals are described by the following lexical definitions:</p>
<pre>
<strong id="grammar-token-imagnumber">imagnumber</strong> ::=  (<a href="#grammar-token-floatnumber"><code class="xref docutils literal"><span class="pre">floatnumber</span></code></a> | <a href="#grammar-token-intpart"><code class="xref docutils literal"><span class="pre">intpart</span></code></a>) (&quot;j&quot; | &quot;J&quot;)
</pre>
<p>An imaginary literal yields a complex number with a real part of 0.0.  Complex
numbers are represented as a pair of floating point numbers and have the same
restrictions on their range.  To create a complex number with a nonzero real
part, add a floating point number to it, e.g., <code class="docutils literal"><span class="pre">(3+4j)</span></code>.  Some examples of
imaginary literals:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mf">3.14</span><span class="n">j</span>   <span class="mf">10.</span><span class="n">j</span>    <span class="mi">10</span><span class="n">j</span>     <span class="o">.</span><span class="mi">001</span><span class="n">j</span>   <span class="mf">1e100j</span>  <span class="mf">3.14e-10</span><span class="n">j</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="operators">
<span id="id9"></span><h2>2.5. Operators</h2>
<p id="index-19">The following tokens are operators:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>+       -       *       **      /       //      %
&lt;&lt;      &gt;&gt;      &amp;       |       ^       ~
&lt;       &gt;       &lt;=      &gt;=      ==      !=      &lt;&gt;
</pre></div>
</div>
<p>The comparison operators <code class="docutils literal"><span class="pre">&lt;&gt;</span></code> and <code class="docutils literal"><span class="pre">!=</span></code> are alternate spellings of the same
operator.  <code class="docutils literal"><span class="pre">!=</span></code> is the preferred spelling; <code class="docutils literal"><span class="pre">&lt;&gt;</span></code> is obsolescent.</p>
</div>
<div class="section" id="delimiters">
<span id="id10"></span><h2>2.6. Delimiters</h2>
<p id="index-20">The following tokens serve as delimiters in the grammar:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>(       )       [       ]       {       }      @
,       :       .       `       =       ;
+=      -=      *=      /=      //=     %=
&amp;=      |=      ^=      &gt;&gt;=     &lt;&lt;=     **=
</pre></div>
</div>
<p>The period can also occur in floating-point and imaginary literals.  A sequence
of three periods has a special meaning as an ellipsis in slices. The second half
of the list, the augmented assignment operators, serve lexically as delimiters,
but also perform an operation.</p>
<p>The following printing ASCII characters have special meaning as part of other
tokens or are otherwise significant to the lexical analyzer:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&#39;       &quot;       #       \
</pre></div>
</div>
<p id="index-21">The following printing ASCII characters are not used in Python.  Their
occurrence outside string literals and comments is an unconditional error:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>$       ?
</pre></div>
</div>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="id11" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id8">[1]</a></td><td>In versions of Python prior to 2.4, octal and hexadecimal literals in the range
just above the largest representable plain integer but below the largest
unsigned 32-bit number (on a machine using 32-bit arithmetic), 4294967296, were
taken as the negative plain integer obtained by subtracting 4294967296 from
their unsigned value.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
  <div class="section" id="data-model">
<span id="datamodel"></span><h1></h1><h1>3. Data model</h1>
<div class="section" id="objects-values-and-types">
<span id="objects"></span><h2>3.1. Objects, values and types</h2>
<p id="index-0"><em class="dfn">Objects</em> are Python’s abstraction for data.  All data in a Python program
is represented by objects or by relations between objects. (In a sense, and in
conformance to Von Neumann’s model of a “stored program computer,” code is also
represented by objects.)</p>
<p id="index-1">Every object has an identity, a type and a value.  An object’s <em>identity</em> never
changes once it has been created; you may think of it as the object’s address in
memory.  The ‘<a href="#is"><code class="xref std std-keyword docutils literal"><span class="pre">is</span></code></a>’ operator compares the identity of two objects; the
<a href="../library/functions.html#id" title="id"><code class="xref py py-func docutils literal"><span class="pre">id()</span></code></a> function returns an integer representing its identity (currently
implemented as its address). An object’s <em class="dfn">type</em> is also unchangeable. <a class="footnote-reference" href="#id5" id="id1">[1]</a>
An object’s type determines the operations that the object supports (e.g., “does
it have a length?”) and also defines the possible values for objects of that
type.  The <a href="../library/functions.html#type" title="type"><code class="xref py py-func docutils literal"><span class="pre">type()</span></code></a> function returns an object’s type (which is an object
itself).  The <em>value</em> of some objects can change.  Objects whose value can
change are said to be <em>mutable</em>; objects whose value is unchangeable once they
are created are called <em>immutable</em>. (The value of an immutable container object
that contains a reference to a mutable object can change when the latter’s value
is changed; however the container is still considered immutable, because the
collection of objects it contains cannot be changed.  So, immutability is not
strictly the same as having an unchangeable value, it is more subtle.) An
object’s mutability is determined by its type; for instance, numbers, strings
and tuples are immutable, while dictionaries and lists are mutable.</p>
<p id="index-2">Objects are never explicitly destroyed; however, when they become unreachable
they may be garbage-collected.  An implementation is allowed to postpone garbage
collection or omit it altogether — it is a matter of implementation quality
how garbage collection is implemented, as long as no objects are collected that
are still reachable.</p>
<div class="impl-detail compound">
<p><strong>CPython implementation detail:</strong> CPython currently uses a reference-counting scheme with (optional) delayed
detection of cyclically linked garbage, which collects most objects as soon
as they become unreachable, but is not guaranteed to collect garbage
containing circular references.  See the documentation of the <a href="../library/gc.html#module-gc" title="gc: Interface to the cycle-detecting garbage collector."><code class="xref py py-mod docutils literal"><span class="pre">gc</span></code></a>
module for information on controlling the collection of cyclic garbage.
Other implementations act differently and CPython may change.
Do not depend on immediate finalization of objects when they become
unreachable (ex: always close files).</p>
</div>
<p>Note that the use of the implementation’s tracing or debugging facilities may
keep objects alive that would normally be collectable. Also note that catching
an exception with a ‘<a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a>…<a href="#except"><code class="xref std std-keyword docutils literal"><span class="pre">except</span></code></a>’ statement may keep
objects alive.</p>
<p>Some objects contain references to “external” resources such as open files or
windows.  It is understood that these resources are freed when the object is
garbage-collected, but since garbage collection is not guaranteed to happen,
such objects also provide an explicit way to release the external resource,
usually a <code class="xref py py-meth docutils literal"><span class="pre">close()</span></code> method. Programs are strongly recommended to explicitly
close such objects.  The ‘<a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a>…<a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a>’ statement
provides a convenient way to do this.</p>
<p id="index-3">Some objects contain references to other objects; these are called <em>containers</em>.
Examples of containers are tuples, lists and dictionaries.  The references are
part of a container’s value.  In most cases, when we talk about the value of a
container, we imply the values, not the identities of the contained objects;
however, when we talk about the mutability of a container, only the identities
of the immediately contained objects are implied.  So, if an immutable container
(like a tuple) contains a reference to a mutable object, its value changes if
that mutable object is changed.</p>
<p>Types affect almost all aspects of object behavior.  Even the importance of
object identity is affected in some sense: for immutable types, operations that
compute new values may actually return a reference to any existing object with
the same type and value, while for mutable objects this is not allowed.  E.g.,
after <code class="docutils literal"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">1;</span> <span class="pre">b</span> <span class="pre">=</span> <span class="pre">1</span></code>, <code class="docutils literal"><span class="pre">a</span></code> and <code class="docutils literal"><span class="pre">b</span></code> may or may not refer to the same object
with the value one, depending on the implementation, but after <code class="docutils literal"><span class="pre">c</span> <span class="pre">=</span> <span class="pre">[];</span> <span class="pre">d</span> <span class="pre">=</span>
<span class="pre">[]</span></code>, <code class="docutils literal"><span class="pre">c</span></code> and <code class="docutils literal"><span class="pre">d</span></code> are guaranteed to refer to two different, unique, newly
created empty lists. (Note that <code class="docutils literal"><span class="pre">c</span> <span class="pre">=</span> <span class="pre">d</span> <span class="pre">=</span> <span class="pre">[]</span></code> assigns the same object to both
<code class="docutils literal"><span class="pre">c</span></code> and <code class="docutils literal"><span class="pre">d</span></code>.)</p>
</div>
<div class="section" id="the-standard-type-hierarchy">
<span id="types"></span><h2>3.2. The standard type hierarchy</h2>
<p id="index-4">Below is a list of the types that are built into Python.  Extension modules
(written in C, Java, or other languages, depending on the implementation) can
define additional types.  Future versions of Python may add types to the type
hierarchy (e.g., rational numbers, efficiently stored arrays of integers, etc.).</p>
<p id="index-5">Some of the type descriptions below contain a paragraph listing ‘special
attributes.’  These are attributes that provide access to the implementation and
are not intended for general use.  Their definition may change in the future.</p>
<dl class="docutils">
<dt>None</dt>
<dd><p class="first last" id="index-6">This type has a single value.  There is a single object with this value. This
object is accessed through the built-in name <code class="docutils literal"><span class="pre">None</span></code>. It is used to signify the
absence of a value in many situations, e.g., it is returned from functions that
don’t explicitly return anything. Its truth value is false.</p>
</dd>
<dt>NotImplemented</dt>
<dd><p class="first last" id="index-7">This type has a single value.  There is a single object with this value. This
object is accessed through the built-in name <code class="docutils literal"><span class="pre">NotImplemented</span></code>. Numeric methods
and rich comparison methods may return this value if they do not implement the
operation for the operands provided.  (The interpreter will then try the
reflected operation, or some other fallback, depending on the operator.)  Its
truth value is true.</p>
</dd>
<dt>Ellipsis</dt>
<dd><p class="first last" id="index-8">This type has a single value.  There is a single object with this value. This
object is accessed through the built-in name <code class="docutils literal"><span class="pre">Ellipsis</span></code>. It is used to
indicate the presence of the <code class="docutils literal"><span class="pre">...</span></code> syntax in a slice.  Its truth value is
true.</p>
</dd>
<dt><a href="../library/numbers.html#numbers.Number" title="numbers.Number"><code class="xref py py-class docutils literal"><span class="pre">numbers.Number</span></code></a></dt>
<dd><p class="first" id="index-9">These are created by numeric literals and returned as results by arithmetic
operators and arithmetic built-in functions.  Numeric objects are immutable;
once created their value never changes.  Python numbers are of course strongly
related to mathematical numbers, but subject to the limitations of numerical
representation in computers.</p>
<p>Python distinguishes between integers, floating point numbers, and complex
numbers:</p>
<dl class="last docutils">
<dt><a href="../library/numbers.html#numbers.Integral" title="numbers.Integral"><code class="xref py py-class docutils literal"><span class="pre">numbers.Integral</span></code></a></dt>
<dd><p class="first" id="index-10">These represent elements from the mathematical set of integers (positive and
negative).</p>
<p>There are three types of integers:</p>
<dl class="docutils">
<dt>Plain integers</dt>
<dd><p class="first last" id="index-11">These represent numbers in the range -2147483648 through 2147483647.
(The range may be larger on machines with a larger natural word size,
but not smaller.)  When the result of an operation would fall outside
this range, the result is normally returned as a long integer (in some
cases, the exception <a href="../library/exceptions.html#exceptions.OverflowError" title="exceptions.OverflowError"><code class="xref py py-exc docutils literal"><span class="pre">OverflowError</span></code></a> is raised instead).  For the
purpose of shift and mask operations, integers are assumed to have a
binary, 2’s complement notation using 32 or more bits, and hiding no
bits from the user (i.e., all 4294967296 different bit patterns
correspond to different values).</p>
</dd>
<dt>Long integers</dt>
<dd><p class="first last" id="index-12">These represent numbers in an unlimited range, subject to available
(virtual) memory only.  For the purpose of shift and mask operations, a
binary representation is assumed, and negative numbers are represented
in a variant of 2’s complement which gives the illusion of an infinite
string of sign bits extending to the left.</p>
</dd>
<dt>Booleans</dt>
<dd><p class="first last" id="index-13">These represent the truth values False and True.  The two objects
representing the values <code class="docutils literal"><span class="pre">False</span></code> and <code class="docutils literal"><span class="pre">True</span></code> are the only Boolean objects.
The Boolean type is a subtype of plain integers, and Boolean values
behave like the values 0 and 1, respectively, in almost all contexts,
the exception being that when converted to a string, the strings
<code class="docutils literal"><span class="pre">&quot;False&quot;</span></code> or <code class="docutils literal"><span class="pre">&quot;True&quot;</span></code> are returned, respectively.</p>
</dd>
</dl>
<p class="last" id="index-14">The rules for integer representation are intended to give the most
meaningful interpretation of shift and mask operations involving negative
integers and the least surprises when switching between the plain and long
integer domains.  Any operation, if it yields a result in the plain
integer domain, will yield the same result in the long integer domain or
when using mixed operands.  The switch between domains is transparent to
the programmer.</p>
</dd>
<dt><a href="../library/numbers.html#numbers.Real" title="numbers.Real"><code class="xref py py-class docutils literal"><span class="pre">numbers.Real</span></code></a> (<a href="../library/functions.html#float" title="float"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>)</dt>
<dd><p class="first last" id="index-15">These represent machine-level double precision floating point numbers. You are
at the mercy of the underlying machine architecture (and C or Java
implementation) for the accepted range and handling of overflow. Python does not
support single-precision floating point numbers; the savings in processor and
memory usage that are usually the reason for using these are dwarfed by the
overhead of using objects in Python, so there is no reason to complicate the
language with two kinds of floating point numbers.</p>
</dd>
<dt><a href="../library/numbers.html#numbers.Complex" title="numbers.Complex"><code class="xref py py-class docutils literal"><span class="pre">numbers.Complex</span></code></a></dt>
<dd><p class="first last" id="index-16">These represent complex numbers as a pair of machine-level double precision
floating point numbers.  The same caveats apply as for floating point numbers.
The real and imaginary parts of a complex number <code class="docutils literal"><span class="pre">z</span></code> can be retrieved through
the read-only attributes <code class="docutils literal"><span class="pre">z.real</span></code> and <code class="docutils literal"><span class="pre">z.imag</span></code>.</p>
</dd>
</dl>
</dd>
<dt>Sequences</dt>
<dd><p class="first" id="index-17">These represent finite ordered sets indexed by non-negative numbers. The
built-in function <a href="../library/functions.html#len" title="len"><code class="xref py py-func docutils literal"><span class="pre">len()</span></code></a> returns the number of items of a sequence. When
the length of a sequence is <em>n</em>, the index set contains the numbers 0, 1,
…, <em>n</em>-1.  Item <em>i</em> of sequence <em>a</em> is selected by <code class="docutils literal"><span class="pre">a[i]</span></code>.</p>
<p id="index-18">Sequences also support slicing: <code class="docutils literal"><span class="pre">a[i:j]</span></code> selects all items with index <em>k</em> such
that <em>i</em> <code class="docutils literal"><span class="pre">&lt;=</span></code> <em>k</em> <code class="docutils literal"><span class="pre">&lt;</span></code> <em>j</em>.  When used as an expression, a slice is a
sequence of the same type.  This implies that the index set is renumbered so
that it starts at 0.</p>
<p id="index-19">Some sequences also support “extended slicing” with a third “step” parameter:
<code class="docutils literal"><span class="pre">a[i:j:k]</span></code> selects all items of <em>a</em> with index <em>x</em> where <code class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">i</span> <span class="pre">+</span> <span class="pre">n*k</span></code>, <em>n</em>
<code class="docutils literal"><span class="pre">&gt;=</span></code> <code class="docutils literal"><span class="pre">0</span></code> and <em>i</em> <code class="docutils literal"><span class="pre">&lt;=</span></code> <em>x</em> <code class="docutils literal"><span class="pre">&lt;</span></code> <em>j</em>.</p>
<p>Sequences are distinguished according to their mutability:</p>
<dl class="last docutils">
<dt>Immutable sequences</dt>
<dd><p class="first" id="index-20">An object of an immutable sequence type cannot change once it is created.  (If
the object contains references to other objects, these other objects may be
mutable and may be changed; however, the collection of objects directly
referenced by an immutable object cannot change.)</p>
<p>The following types are immutable sequences:</p>
<dl class="last docutils">
<dt>Strings</dt>
<dd><p class="first" id="index-21">The items of a string are characters.  There is no separate character type; a
character is represented by a string of one item. Characters represent (at
least) 8-bit bytes.  The built-in functions <a href="../library/functions.html#chr" title="chr"><code class="xref py py-func docutils literal"><span class="pre">chr()</span></code></a> and <a href="../library/functions.html#ord" title="ord"><code class="xref py py-func docutils literal"><span class="pre">ord()</span></code></a> convert
between characters and nonnegative integers representing the byte values.  Bytes
with the values 0–127 usually represent the corresponding ASCII values, but the
interpretation of values is up to the program.  The string data type is also
used to represent arrays of bytes, e.g., to hold data read from a file.</p>
<p class="last" id="index-22">(On systems whose native character set is not ASCII, strings may use EBCDIC in
their internal representation, provided the functions <a href="../library/functions.html#chr" title="chr"><code class="xref py py-func docutils literal"><span class="pre">chr()</span></code></a> and
<a href="../library/functions.html#ord" title="ord"><code class="xref py py-func docutils literal"><span class="pre">ord()</span></code></a> implement a mapping between ASCII and EBCDIC, and string comparison
preserves the ASCII order. Or perhaps someone can propose a better rule?)</p>
</dd>
<dt>Unicode</dt>
<dd><p class="first last" id="index-23">The items of a Unicode object are Unicode code units.  A Unicode code unit is
represented by a Unicode object of one item and can hold either a 16-bit or
32-bit value representing a Unicode ordinal (the maximum value for the ordinal
is given in <code class="docutils literal"><span class="pre">sys.maxunicode</span></code>, and depends on how Python is configured at
compile time).  Surrogate pairs may be present in the Unicode object, and will
be reported as two separate items.  The built-in functions <a href="../library/functions.html#unichr" title="unichr"><code class="xref py py-func docutils literal"><span class="pre">unichr()</span></code></a> and
<a href="../library/functions.html#ord" title="ord"><code class="xref py py-func docutils literal"><span class="pre">ord()</span></code></a> convert between code units and nonnegative integers representing the
Unicode ordinals as defined in the Unicode Standard 3.0. Conversion from and to
other encodings are possible through the Unicode method <code class="xref py py-meth docutils literal"><span class="pre">encode()</span></code> and the
built-in function <a href="../library/functions.html#unicode" title="unicode"><code class="xref py py-func docutils literal"><span class="pre">unicode()</span></code></a>.</p>
</dd>
<dt>Tuples</dt>
<dd><p class="first last" id="index-24">The items of a tuple are arbitrary Python objects. Tuples of two or more items
are formed by comma-separated lists of expressions.  A tuple of one item (a
‘singleton’) can be formed by affixing a comma to an expression (an expression
by itself does not create a tuple, since parentheses must be usable for grouping
of expressions).  An empty tuple can be formed by an empty pair of parentheses.</p>
</dd>
</dl>
</dd>
<dt>Mutable sequences</dt>
<dd><p class="first" id="index-25">Mutable sequences can be changed after they are created.  The subscription and
slicing notations can be used as the target of assignment and <a href="#del"><code class="xref std std-keyword docutils literal"><span class="pre">del</span></code></a>
(delete) statements.</p>
<p>There are currently two intrinsic mutable sequence types:</p>
<dl class="docutils">
<dt>Lists</dt>
<dd><p class="first last" id="index-26">The items of a list are arbitrary Python objects.  Lists are formed by placing a
comma-separated list of expressions in square brackets. (Note that there are no
special cases needed to form lists of length 0 or 1.)</p>
</dd>
<dt>Byte Arrays</dt>
<dd><p class="first last" id="index-27">A bytearray object is a mutable array. They are created by the built-in
<a href="../library/functions.html#bytearray" title="bytearray"><code class="xref py py-func docutils literal"><span class="pre">bytearray()</span></code></a> constructor.  Aside from being mutable (and hence
unhashable), byte arrays otherwise provide the same interface and
functionality as immutable bytes objects.</p>
</dd>
</dl>
<p class="last" id="index-28">The extension module <a href="../library/array.html#module-array" title="array: Space efficient arrays of uniformly typed numeric values."><code class="xref py py-mod docutils literal"><span class="pre">array</span></code></a> provides an additional example of a mutable
sequence type.</p>
</dd>
</dl>
</dd>
<dt>Set types</dt>
<dd><p class="first" id="index-29">These represent unordered, finite sets of unique, immutable objects. As such,
they cannot be indexed by any subscript. However, they can be iterated over, and
the built-in function <a href="../library/functions.html#len" title="len"><code class="xref py py-func docutils literal"><span class="pre">len()</span></code></a> returns the number of items in a set. Common
uses for sets are fast membership testing, removing duplicates from a sequence,
and computing mathematical operations such as intersection, union, difference,
and symmetric difference.</p>
<p>For set elements, the same immutability rules apply as for dictionary keys. Note
that numeric types obey the normal rules for numeric comparison: if two numbers
compare equal (e.g., <code class="docutils literal"><span class="pre">1</span></code> and <code class="docutils literal"><span class="pre">1.0</span></code>), only one of them can be contained in a
set.</p>
<p>There are currently two intrinsic set types:</p>
<dl class="last docutils">
<dt>Sets</dt>
<dd><p class="first last" id="index-30">These represent a mutable set. They are created by the built-in <a href="../library/stdtypes.html#set" title="set"><code class="xref py py-func docutils literal"><span class="pre">set()</span></code></a>
constructor and can be modified afterwards by several methods, such as
<code class="xref py py-meth docutils literal"><span class="pre">add()</span></code>.</p>
</dd>
<dt>Frozen sets</dt>
<dd><p class="first last" id="index-31">These represent an immutable set.  They are created by the built-in
<a href="../library/stdtypes.html#frozenset" title="frozenset"><code class="xref py py-func docutils literal"><span class="pre">frozenset()</span></code></a> constructor.  As a frozenset is immutable and
<a href="../glossary.html#term-hashable"><span class="xref std std-term">hashable</span></a>, it can be used again as an element of another set, or as
a dictionary key.</p>
</dd>
</dl>
</dd>
<dt>Mappings</dt>
<dd><p class="first" id="index-32">These represent finite sets of objects indexed by arbitrary index sets. The
subscript notation <code class="docutils literal"><span class="pre">a[k]</span></code> selects the item indexed by <code class="docutils literal"><span class="pre">k</span></code> from the mapping
<code class="docutils literal"><span class="pre">a</span></code>; this can be used in expressions and as the target of assignments or
<a href="#del"><code class="xref std std-keyword docutils literal"><span class="pre">del</span></code></a> statements. The built-in function <a href="../library/functions.html#len" title="len"><code class="xref py py-func docutils literal"><span class="pre">len()</span></code></a> returns the number
of items in a mapping.</p>
<p>There is currently a single intrinsic mapping type:</p>
<dl class="last docutils">
<dt>Dictionaries</dt>
<dd><p class="first" id="index-33">These represent finite sets of objects indexed by nearly arbitrary values.  The
only types of values not acceptable as keys are values containing lists or
dictionaries or other mutable types that are compared by value rather than by
object identity, the reason being that the efficient implementation of
dictionaries requires a key’s hash value to remain constant. Numeric types used
for keys obey the normal rules for numeric comparison: if two numbers compare
equal (e.g., <code class="docutils literal"><span class="pre">1</span></code> and <code class="docutils literal"><span class="pre">1.0</span></code>) then they can be used interchangeably to index
the same dictionary entry.</p>
<p>Dictionaries are mutable; they can be created by the <code class="docutils literal"><span class="pre">{...}</span></code> notation (see
section <a href="#dict"><span class="std std-ref">Dictionary displays</span></a>).</p>
<p class="last" id="index-34">The extension modules <a href="../library/dbm.html#module-dbm" title="dbm: The standard &quot;database&quot; interface, based on ndbm. (Unix)"><code class="xref py py-mod docutils literal"><span class="pre">dbm</span></code></a>, <a href="../library/gdbm.html#module-gdbm" title="gdbm: GNU's reinterpretation of dbm. (Unix)"><code class="xref py py-mod docutils literal"><span class="pre">gdbm</span></code></a>, and <a href="../library/bsddb.html#module-bsddb" title="bsddb: Interface to Berkeley DB database library"><code class="xref py py-mod docutils literal"><span class="pre">bsddb</span></code></a> provide
additional examples of mapping types.</p>
</dd>
</dl>
</dd>
<dt>Callable types</dt>
<dd><p class="first" id="index-35">These are the types to which the function call operation (see section
<a href="#calls"><span class="std std-ref">Calls</span></a>) can be applied:</p>
<dl class="last docutils">
<dt>User-defined functions</dt>
<dd><p class="first" id="index-36">A user-defined function object is created by a function definition (see
section <a href="#function"><span class="std std-ref">Function definitions</span></a>).  It should be called with an argument list
containing the same number of items as the function’s formal parameter
list.</p>
<p>Special attributes:</p>
<table border="1" class="docutils" id="index-37">
<colgroup>
<col width="35%" />
<col width="48%" />
<col width="17%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Meaning</th>
<th class="head">&#160;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="xref py py-attr docutils literal"><span class="pre">__doc__</span></code>
<code class="xref py py-attr docutils literal"><span class="pre">func_doc</span></code></td>
<td>The function’s documentation
string, or <code class="docutils literal"><span class="pre">None</span></code> if
unavailable.</td>
<td>Writable</td>
</tr>
<tr class="row-odd"><td><a href="../library/stdtypes.html#definition.__name__" title="definition.__name__"><code class="xref py py-attr docutils literal"><span class="pre">__name__</span></code></a>
<code class="xref py py-attr docutils literal"><span class="pre">func_name</span></code></td>
<td>The function’s name</td>
<td>Writable</td>
</tr>
<tr class="row-even"><td><code class="xref py py-attr docutils literal"><span class="pre">__module__</span></code></td>
<td>The name of the module the
function was defined in, or
<code class="docutils literal"><span class="pre">None</span></code> if unavailable.</td>
<td>Writable</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-attr docutils literal"><span class="pre">__defaults__</span></code>
<code class="xref py py-attr docutils literal"><span class="pre">func_defaults</span></code></td>
<td>A tuple containing default
argument values for those
arguments that have defaults,
or <code class="docutils literal"><span class="pre">None</span></code> if no arguments
have a default value.</td>
<td>Writable</td>
</tr>
<tr class="row-even"><td><code class="xref py py-attr docutils literal"><span class="pre">__code__</span></code>
<code class="xref py py-attr docutils literal"><span class="pre">func_code</span></code></td>
<td>The code object representing
the compiled function body.</td>
<td>Writable</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-attr docutils literal"><span class="pre">__globals__</span></code>
<code class="xref py py-attr docutils literal"><span class="pre">func_globals</span></code></td>
<td>A reference to the dictionary
that holds the function’s
global variables — the
global namespace of the
module in which the function
was defined.</td>
<td>Read-only</td>
</tr>
<tr class="row-even"><td><a href="../library/stdtypes.html#object.__dict__" title="object.__dict__"><code class="xref py py-attr docutils literal"><span class="pre">__dict__</span></code></a>
<code class="xref py py-attr docutils literal"><span class="pre">func_dict</span></code></td>
<td>The namespace supporting
arbitrary function
attributes.</td>
<td>Writable</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-attr docutils literal"><span class="pre">__closure__</span></code>
<code class="xref py py-attr docutils literal"><span class="pre">func_closure</span></code></td>
<td><code class="docutils literal"><span class="pre">None</span></code> or a tuple of cells
that contain bindings for the
function’s free variables.</td>
<td>Read-only</td>
</tr>
</tbody>
</table>
<p>Most of the attributes labelled “Writable” check the type of the assigned value.</p>
<div class="versionchanged">
<p><span>Changed in version 2.4: </span><code class="docutils literal"><span class="pre">func_name</span></code> is now writable.</p>
</div>
<div class="versionchanged">
<p><span>Changed in version 2.6: </span>The double-underscore attributes <code class="docutils literal"><span class="pre">__closure__</span></code>, <code class="docutils literal"><span class="pre">__code__</span></code>,
<code class="docutils literal"><span class="pre">__defaults__</span></code>, and <code class="docutils literal"><span class="pre">__globals__</span></code> were introduced as aliases for
the corresponding <code class="docutils literal"><span class="pre">func_*</span></code> attributes for forwards compatibility
with Python 3.</p>
</div>
<p>Function objects also support getting and setting arbitrary attributes, which
can be used, for example, to attach metadata to functions.  Regular attribute
dot-notation is used to get and set such attributes. <em>Note that the current
implementation only supports function attributes on user-defined functions.
Function attributes on built-in functions may be supported in the future.</em></p>
<p class="last">Additional information about a function’s definition can be retrieved from its
code object; see the description of internal types below.</p>
</dd>
<dt>User-defined methods</dt>
<dd><p class="first" id="index-38">A user-defined method object combines a class, a class instance (or <code class="docutils literal"><span class="pre">None</span></code>)
and any callable object (normally a user-defined function).</p>
<p>Special read-only attributes: <code class="xref py py-attr docutils literal"><span class="pre">im_self</span></code> is the class instance object,
<code class="xref py py-attr docutils literal"><span class="pre">im_func</span></code> is the function object; <code class="xref py py-attr docutils literal"><span class="pre">im_class</span></code> is the class of
<code class="xref py py-attr docutils literal"><span class="pre">im_self</span></code> for bound methods or the class that asked for the method for
unbound methods; <code class="xref py py-attr docutils literal"><span class="pre">__doc__</span></code> is the method’s documentation (same as
<code class="docutils literal"><span class="pre">im_func.__doc__</span></code>); <a href="../library/stdtypes.html#definition.__name__" title="definition.__name__"><code class="xref py py-attr docutils literal"><span class="pre">__name__</span></code></a> is the method name (same as
<code class="docutils literal"><span class="pre">im_func.__name__</span></code>); <code class="xref py py-attr docutils literal"><span class="pre">__module__</span></code> is the name of the module the method
was defined in, or <code class="docutils literal"><span class="pre">None</span></code> if unavailable.</p>
<div class="versionchanged">
<p><span>Changed in version 2.2: </span><code class="xref py py-attr docutils literal"><span class="pre">im_self</span></code> used to refer to the class that defined the method.</p>
</div>
<div class="versionchanged">
<p><span>Changed in version 2.6: </span>For Python 3 forward-compatibility, <code class="xref py py-attr docutils literal"><span class="pre">im_func</span></code> is also available as
<code class="xref py py-attr docutils literal"><span class="pre">__func__</span></code>, and <code class="xref py py-attr docutils literal"><span class="pre">im_self</span></code> as <code class="xref py py-attr docutils literal"><span class="pre">__self__</span></code>.</p>
</div>
<p id="index-39">Methods also support accessing (but not setting) the arbitrary function
attributes on the underlying function object.</p>
<p>User-defined method objects may be created when getting an attribute of a class
(perhaps via an instance of that class), if that attribute is a user-defined
function object, an unbound user-defined method object, or a class method
object. When the attribute is a user-defined method object, a new method object
is only created if the class from which it is being retrieved is the same as, or
a derived class of, the class stored in the original method object; otherwise,
the original method object is used as it is.</p>
<p id="index-40">When a user-defined method object is created by retrieving a user-defined
function object from a class, its <code class="xref py py-attr docutils literal"><span class="pre">im_self</span></code> attribute is <code class="docutils literal"><span class="pre">None</span></code>
and the method object is said to be unbound. When one is created by
retrieving a user-defined function object from a class via one of its
instances, its <code class="xref py py-attr docutils literal"><span class="pre">im_self</span></code> attribute is the instance, and the method
object is said to be bound. In either case, the new method’s
<code class="xref py py-attr docutils literal"><span class="pre">im_class</span></code> attribute is the class from which the retrieval takes
place, and its <code class="xref py py-attr docutils literal"><span class="pre">im_func</span></code> attribute is the original function object.</p>
<p id="index-41">When a user-defined method object is created by retrieving another method object
from a class or instance, the behaviour is the same as for a function object,
except that the <code class="xref py py-attr docutils literal"><span class="pre">im_func</span></code> attribute of the new instance is not the
original method object but its <code class="xref py py-attr docutils literal"><span class="pre">im_func</span></code> attribute.</p>
<p id="index-42">When a user-defined method object is created by retrieving a class method object
from a class or instance, its <code class="xref py py-attr docutils literal"><span class="pre">im_self</span></code> attribute is the class itself, and
its <code class="xref py py-attr docutils literal"><span class="pre">im_func</span></code> attribute is the function object underlying the class method.</p>
<p>When an unbound user-defined method object is called, the underlying function
(<code class="xref py py-attr docutils literal"><span class="pre">im_func</span></code>) is called, with the restriction that the first argument must
be an instance of the proper class (<code class="xref py py-attr docutils literal"><span class="pre">im_class</span></code>) or of a derived class
thereof.</p>
<p>When a bound user-defined method object is called, the underlying function
(<code class="xref py py-attr docutils literal"><span class="pre">im_func</span></code>) is called, inserting the class instance (<code class="xref py py-attr docutils literal"><span class="pre">im_self</span></code>) in
front of the argument list.  For instance, when <code class="xref py py-class docutils literal"><span class="pre">C</span></code> is a class which
contains a definition for a function <code class="xref py py-meth docutils literal"><span class="pre">f()</span></code>, and <code class="docutils literal"><span class="pre">x</span></code> is an instance of
<code class="xref py py-class docutils literal"><span class="pre">C</span></code>, calling <code class="docutils literal"><span class="pre">x.f(1)</span></code> is equivalent to calling <code class="docutils literal"><span class="pre">C.f(x,</span> <span class="pre">1)</span></code>.</p>
<p>When a user-defined method object is derived from a class method object, the
“class instance” stored in <code class="xref py py-attr docutils literal"><span class="pre">im_self</span></code> will actually be the class itself, so
that calling either <code class="docutils literal"><span class="pre">x.f(1)</span></code> or <code class="docutils literal"><span class="pre">C.f(1)</span></code> is equivalent to calling <code class="docutils literal"><span class="pre">f(C,1)</span></code>
where <code class="docutils literal"><span class="pre">f</span></code> is the underlying function.</p>
<p class="last">Note that the transformation from function object to (unbound or bound) method
object happens each time the attribute is retrieved from the class or instance.
In some cases, a fruitful optimization is to assign the attribute to a local
variable and call that local variable. Also notice that this transformation only
happens for user-defined functions; other callable objects (and all non-callable
objects) are retrieved without transformation.  It is also important to note
that user-defined functions which are attributes of a class instance are not
converted to bound methods; this <em>only</em> happens when the function is an
attribute of the class.</p>
</dd>
<dt>Generator functions</dt>
<dd><p class="first last" id="index-43">A function or method which uses the <a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> statement (see section
<a href="#yield"><span class="std std-ref">The yield statement</span></a>) is called a <em class="dfn">generator
function</em>.  Such a function, when called, always returns an iterator object
which can be used to execute the body of the function:  calling the iterator’s
<a href="../library/stdtypes.html#iterator.next" title="iterator.next"><code class="xref py py-meth docutils literal"><span class="pre">next()</span></code></a> method will cause the function to execute until
it provides a value
using the <a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> statement.  When the function executes a
<a href="#return"><code class="xref std std-keyword docutils literal"><span class="pre">return</span></code></a> statement or falls off the end, a <a href="../library/exceptions.html#exceptions.StopIteration" title="exceptions.StopIteration"><code class="xref py py-exc docutils literal"><span class="pre">StopIteration</span></code></a>
exception is raised and the iterator will have reached the end of the set of
values to be returned.</p>
</dd>
<dt>Built-in functions</dt>
<dd><p class="first last" id="index-44">A built-in function object is a wrapper around a C function.  Examples of
built-in functions are <a href="../library/functions.html#len" title="len"><code class="xref py py-func docutils literal"><span class="pre">len()</span></code></a> and <a href="../library/math.html#math.sin" title="math.sin"><code class="xref py py-func docutils literal"><span class="pre">math.sin()</span></code></a> (<a href="../library/math.html#module-math" title="math: Mathematical functions (sin() etc.)."><code class="xref py py-mod docutils literal"><span class="pre">math</span></code></a> is a
standard built-in module). The number and type of the arguments are
determined by the C function. Special read-only attributes:
<code class="xref py py-attr docutils literal"><span class="pre">__doc__</span></code> is the function’s documentation string, or <code class="docutils literal"><span class="pre">None</span></code> if
unavailable; <a href="../library/stdtypes.html#definition.__name__" title="definition.__name__"><code class="xref py py-attr docutils literal"><span class="pre">__name__</span></code></a> is the function’s name; <code class="xref py py-attr docutils literal"><span class="pre">__self__</span></code> is
set to <code class="docutils literal"><span class="pre">None</span></code> (but see the next item); <code class="xref py py-attr docutils literal"><span class="pre">__module__</span></code> is the name of
the module the function was defined in or <code class="docutils literal"><span class="pre">None</span></code> if unavailable.</p>
</dd>
<dt>Built-in methods</dt>
<dd><p class="first last" id="index-45">This is really a different disguise of a built-in function, this time containing
an object passed to the C function as an implicit extra argument.  An example of
a built-in method is <code class="docutils literal"><span class="pre">alist.append()</span></code>, assuming <em>alist</em> is a list object. In
this case, the special read-only attribute <code class="xref py py-attr docutils literal"><span class="pre">__self__</span></code> is set to the object
denoted by <em>alist</em>.</p>
</dd>
<dt>Class Types</dt>
<dd>Class types, or “new-style classes,” are callable.  These objects normally act
as factories for new instances of themselves, but variations are possible for
class types that override <a href="#object.__new__" title="object.__new__"><code class="xref py py-meth docutils literal"><span class="pre">__new__()</span></code></a>.  The arguments of the call are passed
to <a href="#object.__new__" title="object.__new__"><code class="xref py py-meth docutils literal"><span class="pre">__new__()</span></code></a> and, in the typical case, to <a href="#object.__init__" title="object.__init__"><code class="xref py py-meth docutils literal"><span class="pre">__init__()</span></code></a> to initialize
the new instance.</dd>
<dt>Classic Classes</dt>
<dd><p class="first last" id="index-46">Class objects are described below.  When a class object is called, a new class
instance (also described below) is created and returned.  This implies a call to
the class’s <a href="#object.__init__" title="object.__init__"><code class="xref py py-meth docutils literal"><span class="pre">__init__()</span></code></a> method if it has one.  Any arguments are passed on
to the <a href="#object.__init__" title="object.__init__"><code class="xref py py-meth docutils literal"><span class="pre">__init__()</span></code></a> method.  If there is no <a href="#object.__init__" title="object.__init__"><code class="xref py py-meth docutils literal"><span class="pre">__init__()</span></code></a> method, the
class must be called without arguments.</p>
</dd>
<dt>Class instances</dt>
<dd>Class instances are described below.  Class instances are callable only when the
class has a <a href="#object.__call__" title="object.__call__"><code class="xref py py-meth docutils literal"><span class="pre">__call__()</span></code></a> method; <code class="docutils literal"><span class="pre">x(arguments)</span></code> is a shorthand for
<code class="docutils literal"><span class="pre">x.__call__(arguments)</span></code>.</dd>
</dl>
</dd>
<dt>Modules</dt>
<dd><p class="first" id="index-47">Modules are imported by the <a href="#import"><code class="xref std std-keyword docutils literal"><span class="pre">import</span></code></a> statement (see section
<a href="#import"><span class="std std-ref">The import statement</span></a>). A module object has a
namespace implemented by a dictionary object (this is the dictionary referenced
by the func_globals attribute of functions defined in the module).  Attribute
references are translated to lookups in this dictionary, e.g., <code class="docutils literal"><span class="pre">m.x</span></code> is
equivalent to <code class="docutils literal"><span class="pre">m.__dict__[&quot;x&quot;]</span></code>. A module object does not contain the code
object used to initialize the module (since it isn’t needed once the
initialization is done).</p>
<p>Attribute assignment updates the module’s namespace dictionary, e.g., <code class="docutils literal"><span class="pre">m.x</span> <span class="pre">=</span>
<span class="pre">1</span></code> is equivalent to <code class="docutils literal"><span class="pre">m.__dict__[&quot;x&quot;]</span> <span class="pre">=</span> <span class="pre">1</span></code>.</p>
<p id="index-48">Special read-only attribute: <a href="../library/stdtypes.html#object.__dict__" title="object.__dict__"><code class="xref py py-attr docutils literal"><span class="pre">__dict__</span></code></a> is the module’s namespace as a
dictionary object.</p>
<div class="impl-detail compound">
<p><strong>CPython implementation detail:</strong> Because of the way CPython clears module dictionaries, the module
dictionary will be cleared when the module falls out of scope even if the
dictionary still has live references.  To avoid this, copy the dictionary
or keep the module around while using its dictionary directly.</p>
</div>
<p class="last" id="index-49">Predefined (writable) attributes: <code class="xref py py-attr docutils literal"><span class="pre">__name__</span></code> is the module’s name;
<code class="xref py py-attr docutils literal"><span class="pre">__doc__</span></code> is the module’s documentation string, or <code class="docutils literal"><span class="pre">None</span></code> if
unavailable; <code class="xref py py-attr docutils literal"><span class="pre">__file__</span></code> is the pathname of the file from which the module
was loaded, if it was loaded from a file. The <code class="xref py py-attr docutils literal"><span class="pre">__file__</span></code> attribute is not
present for C modules that are statically linked into the interpreter; for
extension modules loaded dynamically from a shared library, it is the pathname
of the shared library file.</p>
</dd>
<dt>Classes</dt>
<dd><p class="first">Both class types (new-style classes) and class objects (old-style/classic
classes) are typically created by class definitions (see section
<a href="#class"><span class="std std-ref">Class definitions</span></a>).  A class has a namespace implemented by a dictionary object.
Class attribute references are translated to lookups in this dictionary, e.g.,
<code class="docutils literal"><span class="pre">C.x</span></code> is translated to <code class="docutils literal"><span class="pre">C.__dict__[&quot;x&quot;]</span></code> (although for new-style classes
in particular there are a number of hooks which allow for other means of
locating attributes). When the attribute name is not found there, the
attribute search continues in the base classes.  For old-style classes, the
search is depth-first, left-to-right in the order of occurrence in the base
class list. New-style classes use the more complex C3 method resolution
order which behaves correctly even in the presence of ‘diamond’
inheritance structures where there are multiple inheritance paths
leading back to a common ancestor. Additional details on the C3 MRO used by
new-style classes can be found in the documentation accompanying the
2.3 release at <a class="reference external" href="https://www.python.org/download/releases/2.3/mro/">https://www.python.org/download/releases/2.3/mro/</a>.</p>
<p id="index-50">When a class attribute reference (for class <code class="xref py py-class docutils literal"><span class="pre">C</span></code>, say) would yield a
user-defined function object or an unbound user-defined method object whose
associated class is either <code class="xref py py-class docutils literal"><span class="pre">C</span></code> or one of its base classes, it is
transformed into an unbound user-defined method object whose <code class="xref py py-attr docutils literal"><span class="pre">im_class</span></code>
attribute is <code class="xref py py-class docutils literal"><span class="pre">C</span></code>. When it would yield a class method object, it is
transformed into a bound user-defined method object whose
<code class="xref py py-attr docutils literal"><span class="pre">im_self</span></code> attribute is <code class="xref py py-class docutils literal"><span class="pre">C</span></code>.  When it would yield a
static method object, it is transformed into the object wrapped by the static
method object. See section <a href="#descriptors"><span class="std std-ref">Implementing Descriptors</span></a> for another way in which
attributes retrieved from a class may differ from those actually contained in
its <a href="../library/stdtypes.html#object.__dict__" title="object.__dict__"><code class="xref py py-attr docutils literal"><span class="pre">__dict__</span></code></a> (note that only new-style classes support descriptors).</p>
<p id="index-51">Class attribute assignments update the class’s dictionary, never the dictionary
of a base class.</p>
<p id="index-52">A class object can be called (see above) to yield a class instance (see below).</p>
<p class="last" id="index-53">Special attributes: <a href="../library/stdtypes.html#definition.__name__" title="definition.__name__"><code class="xref py py-attr docutils literal"><span class="pre">__name__</span></code></a> is the class name; <code class="xref py py-attr docutils literal"><span class="pre">__module__</span></code> is
the module name in which the class was defined; <a href="../library/stdtypes.html#object.__dict__" title="object.__dict__"><code class="xref py py-attr docutils literal"><span class="pre">__dict__</span></code></a> is the
dictionary containing the class’s namespace; <a href="../library/stdtypes.html#class.__bases__" title="class.__bases__"><code class="xref py py-attr docutils literal"><span class="pre">__bases__</span></code></a> is a
tuple (possibly empty or a singleton) containing the base classes, in the
order of their occurrence in the base class list; <code class="xref py py-attr docutils literal"><span class="pre">__doc__</span></code> is the
class’s documentation string, or <code class="docutils literal"><span class="pre">None</span></code> if undefined.</p>
</dd>
<dt>Class instances</dt>
<dd><p class="first" id="index-54">A class instance is created by calling a class object (see above). A class
instance has a namespace implemented as a dictionary which is the first place in
which attribute references are searched.  When an attribute is not found there,
and the instance’s class has an attribute by that name, the search continues
with the class attributes.  If a class attribute is found that is a user-defined
function object or an unbound user-defined method object whose associated class
is the class (call it <code class="xref py py-class docutils literal"><span class="pre">C</span></code>) of the instance for which the attribute
reference was initiated or one of its bases, it is transformed into a bound
user-defined method object whose <code class="xref py py-attr docutils literal"><span class="pre">im_class</span></code> attribute is <code class="xref py py-class docutils literal"><span class="pre">C</span></code> and
whose <code class="xref py py-attr docutils literal"><span class="pre">im_self</span></code> attribute is the instance. Static method and class method
objects are also transformed, as if they had been retrieved from class
<code class="xref py py-class docutils literal"><span class="pre">C</span></code>; see above under “Classes”. See section <a href="#descriptors"><span class="std std-ref">Implementing Descriptors</span></a> for
another way in which attributes of a class retrieved via its instances may
differ from the objects actually stored in the class’s <a href="../library/stdtypes.html#object.__dict__" title="object.__dict__"><code class="xref py py-attr docutils literal"><span class="pre">__dict__</span></code></a>. If no
class attribute is found, and the object’s class has a <a href="#object.__getattr__" title="object.__getattr__"><code class="xref py py-meth docutils literal"><span class="pre">__getattr__()</span></code></a>
method, that is called to satisfy the lookup.</p>
<p id="index-55">Attribute assignments and deletions update the instance’s dictionary, never a
class’s dictionary.  If the class has a <a href="#object.__setattr__" title="object.__setattr__"><code class="xref py py-meth docutils literal"><span class="pre">__setattr__()</span></code></a> or
<a href="#object.__delattr__" title="object.__delattr__"><code class="xref py py-meth docutils literal"><span class="pre">__delattr__()</span></code></a> method, this is called instead of updating the instance
dictionary directly.</p>
<p id="index-56">Class instances can pretend to be numbers, sequences, or mappings if they have
methods with certain special names.  See section <a href="#specialnames"><span class="std std-ref">Special method names</span></a>.</p>
<p class="last" id="index-57">Special attributes: <a href="../library/stdtypes.html#object.__dict__" title="object.__dict__"><code class="xref py py-attr docutils literal"><span class="pre">__dict__</span></code></a> is the attribute dictionary;
<a href="../library/stdtypes.html#instance.__class__" title="instance.__class__"><code class="xref py py-attr docutils literal"><span class="pre">__class__</span></code></a> is the instance’s class.</p>
</dd>
<dt>Files</dt>
<dd><p class="first last" id="index-58">A file object represents an open file.  File objects are created by the
<a href="../library/functions.html#open" title="open"><code class="xref py py-func docutils literal"><span class="pre">open()</span></code></a> built-in function, and also by <a href="../library/os.html#os.popen" title="os.popen"><code class="xref py py-func docutils literal"><span class="pre">os.popen()</span></code></a>,
<a href="../library/os.html#os.fdopen" title="os.fdopen"><code class="xref py py-func docutils literal"><span class="pre">os.fdopen()</span></code></a>, and the <code class="xref py py-meth docutils literal"><span class="pre">makefile()</span></code> method of socket objects (and
perhaps by other functions or methods provided by extension modules).  The
objects <code class="docutils literal"><span class="pre">sys.stdin</span></code>, <code class="docutils literal"><span class="pre">sys.stdout</span></code> and <code class="docutils literal"><span class="pre">sys.stderr</span></code> are initialized to
file objects corresponding to the interpreter’s standard input, output and
error streams.  See <a href="../library/stdtypes.html#bltin-file-objects"><span class="std std-ref">File Objects</span></a> for complete documentation of
file objects.</p>
</dd>
<dt>Internal types</dt>
<dd><p class="first" id="index-59">A few types used internally by the interpreter are exposed to the user. Their
definitions may change with future versions of the interpreter, but they are
mentioned here for completeness.</p>
<dl class="docutils" id="index-60">
<dt>Code objects</dt>
<dd><p class="first">Code objects represent <em>byte-compiled</em> executable Python code, or <a href="../glossary.html#term-bytecode"><span class="xref std std-term">bytecode</span></a>.
The difference between a code object and a function object is that the function
object contains an explicit reference to the function’s globals (the module in
which it was defined), while a code object contains no context; also the default
argument values are stored in the function object, not in the code object
(because they represent values calculated at run-time).  Unlike function
objects, code objects are immutable and contain no references (directly or
indirectly) to mutable objects.</p>
<p id="index-61">Special read-only attributes: <code class="xref py py-attr docutils literal"><span class="pre">co_name</span></code> gives the function name;
<code class="xref py py-attr docutils literal"><span class="pre">co_argcount</span></code> is the number of positional arguments (including arguments
with default values); <code class="xref py py-attr docutils literal"><span class="pre">co_nlocals</span></code> is the number of local variables used
by the function (including arguments); <code class="xref py py-attr docutils literal"><span class="pre">co_varnames</span></code> is a tuple containing
the names of the local variables (starting with the argument names);
<code class="xref py py-attr docutils literal"><span class="pre">co_cellvars</span></code> is a tuple containing the names of local variables that are
referenced by nested functions; <code class="xref py py-attr docutils literal"><span class="pre">co_freevars</span></code> is a tuple containing the
names of free variables; <code class="xref py py-attr docutils literal"><span class="pre">co_code</span></code> is a string representing the sequence
of bytecode instructions; <code class="xref py py-attr docutils literal"><span class="pre">co_consts</span></code> is a tuple containing the literals
used by the bytecode; <code class="xref py py-attr docutils literal"><span class="pre">co_names</span></code> is a tuple containing the names used by
the bytecode; <code class="xref py py-attr docutils literal"><span class="pre">co_filename</span></code> is the filename from which the code was
compiled; <code class="xref py py-attr docutils literal"><span class="pre">co_firstlineno</span></code> is the first line number of the function;
<code class="xref py py-attr docutils literal"><span class="pre">co_lnotab</span></code> is a string encoding the mapping from bytecode offsets to
line numbers (for details see the source code of the interpreter);
<code class="xref py py-attr docutils literal"><span class="pre">co_stacksize</span></code> is the required stack size (including local variables);
<code class="xref py py-attr docutils literal"><span class="pre">co_flags</span></code> is an integer encoding a number of flags for the interpreter.</p>
<p id="index-62">The following flag bits are defined for <code class="xref py py-attr docutils literal"><span class="pre">co_flags</span></code>: bit <code class="docutils literal"><span class="pre">0x04</span></code> is set if
the function uses the <code class="docutils literal"><span class="pre">*arguments</span></code> syntax to accept an arbitrary number of
positional arguments; bit <code class="docutils literal"><span class="pre">0x08</span></code> is set if the function uses the
<code class="docutils literal"><span class="pre">**keywords</span></code> syntax to accept arbitrary keyword arguments; bit <code class="docutils literal"><span class="pre">0x20</span></code> is set
if the function is a generator.</p>
<p>Future feature declarations (<code class="docutils literal"><span class="pre">from</span> <span class="pre">__future__</span> <span class="pre">import</span> <span class="pre">division</span></code>) also use bits
in <code class="xref py py-attr docutils literal"><span class="pre">co_flags</span></code> to indicate whether a code object was compiled with a
particular feature enabled: bit <code class="docutils literal"><span class="pre">0x2000</span></code> is set if the function was compiled
with future division enabled; bits <code class="docutils literal"><span class="pre">0x10</span></code> and <code class="docutils literal"><span class="pre">0x1000</span></code> were used in earlier
versions of Python.</p>
<p>Other bits in <code class="xref py py-attr docutils literal"><span class="pre">co_flags</span></code> are reserved for internal use.</p>
<p class="last" id="index-63">If a code object represents a function, the first item in <code class="xref py py-attr docutils literal"><span class="pre">co_consts</span></code> is
the documentation string of the function, or <code class="docutils literal"><span class="pre">None</span></code> if undefined.</p>
</dd>
</dl>
<dl class="last docutils" id="frame-objects">
<dt>Frame objects</dt>
<dd><p class="first" id="index-64">Frame objects represent execution frames.  They may occur in traceback objects
(see below).</p>
<p id="index-65">Special read-only attributes: <code class="xref py py-attr docutils literal"><span class="pre">f_back</span></code> is to the previous stack frame
(towards the caller), or <code class="docutils literal"><span class="pre">None</span></code> if this is the bottom stack frame;
<code class="xref py py-attr docutils literal"><span class="pre">f_code</span></code> is the code object being executed in this frame; <code class="xref py py-attr docutils literal"><span class="pre">f_locals</span></code>
is the dictionary used to look up local variables; <code class="xref py py-attr docutils literal"><span class="pre">f_globals</span></code> is used for
global variables; <code class="xref py py-attr docutils literal"><span class="pre">f_builtins</span></code> is used for built-in (intrinsic) names;
<code class="xref py py-attr docutils literal"><span class="pre">f_restricted</span></code> is a flag indicating whether the function is executing in
restricted execution mode; <code class="xref py py-attr docutils literal"><span class="pre">f_lasti</span></code> gives the precise instruction (this
is an index into the bytecode string of the code object).</p>
<p class="last" id="index-66">Special writable attributes: <code class="xref py py-attr docutils literal"><span class="pre">f_trace</span></code>, if not <code class="docutils literal"><span class="pre">None</span></code>, is a function
called at the start of each source code line (this is used by the debugger);
<code class="xref py py-attr docutils literal"><span class="pre">f_exc_type</span></code>, <code class="xref py py-attr docutils literal"><span class="pre">f_exc_value</span></code>, <code class="xref py py-attr docutils literal"><span class="pre">f_exc_traceback</span></code> represent the
last exception raised in the parent frame provided another exception was ever
raised in the current frame (in all other cases they are <code class="docutils literal"><span class="pre">None</span></code>); <code class="xref py py-attr docutils literal"><span class="pre">f_lineno</span></code>
is the current line number of the frame — writing to this from within a trace
function jumps to the given line (only for the bottom-most frame).  A debugger
can implement a Jump command (aka Set Next Statement) by writing to f_lineno.</p>
</dd>
<dt>Traceback objects</dt>
<dd><p class="first" id="index-67">Traceback objects represent a stack trace of an exception.  A traceback object
is created when an exception occurs.  When the search for an exception handler
unwinds the execution stack, at each unwound level a traceback object is
inserted in front of the current traceback.  When an exception handler is
entered, the stack trace is made available to the program. (See section
<a href="#try"><span class="std std-ref">The try statement</span></a>.) It is accessible as <code class="docutils literal"><span class="pre">sys.exc_traceback</span></code>,
and also as the third item of the tuple returned by <code class="docutils literal"><span class="pre">sys.exc_info()</span></code>.  The
latter is the preferred interface, since it works correctly when the program is
using multiple threads. When the program contains no suitable handler, the stack
trace is written (nicely formatted) to the standard error stream; if the
interpreter is interactive, it is also made available to the user as
<code class="docutils literal"><span class="pre">sys.last_traceback</span></code>.</p>
<p class="last" id="index-68">Special read-only attributes: <code class="xref py py-attr docutils literal"><span class="pre">tb_next</span></code> is the next level in the stack
trace (towards the frame where the exception occurred), or <code class="docutils literal"><span class="pre">None</span></code> if there is
no next level; <code class="xref py py-attr docutils literal"><span class="pre">tb_frame</span></code> points to the execution frame of the current
level; <code class="xref py py-attr docutils literal"><span class="pre">tb_lineno</span></code> gives the line number where the exception occurred;
<code class="xref py py-attr docutils literal"><span class="pre">tb_lasti</span></code> indicates the precise instruction.  The line number and last
instruction in the traceback may differ from the line number of its frame object
if the exception occurred in a <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a> statement with no matching except
clause or with a finally clause.</p>
</dd>
<dt>Slice objects</dt>
<dd><p class="first" id="index-69">Slice objects are used to represent slices when <em>extended slice syntax</em> is used.
This is a slice using two colons, or multiple slices or ellipses separated by
commas, e.g., <code class="docutils literal"><span class="pre">a[i:j:step]</span></code>, <code class="docutils literal"><span class="pre">a[i:j,</span> <span class="pre">k:l]</span></code>, or <code class="docutils literal"><span class="pre">a[...,</span> <span class="pre">i:j]</span></code>.  They are
also created by the built-in <a href="../library/functions.html#slice" title="slice"><code class="xref py py-func docutils literal"><span class="pre">slice()</span></code></a> function.</p>
<p id="index-70">Special read-only attributes: <code class="xref py py-attr docutils literal"><span class="pre">start</span></code> is the lower bound;
<code class="xref py py-attr docutils literal"><span class="pre">stop</span></code> is the upper bound; <code class="xref py py-attr docutils literal"><span class="pre">step</span></code> is the step
value; each is <code class="docutils literal"><span class="pre">None</span></code> if omitted.  These attributes can have any type.</p>
<p>Slice objects support one method:</p>
<dl class="last method">
<dt id="slice.indices">
<code class="descclassname">slice.</code><code class="descname">indices</code><span class="sig-paren">(</span><em>self</em>, <em>length</em><span class="sig-paren">)</span><dd><p>This method takes a single integer argument <em>length</em> and computes information
about the extended slice that the slice object would describe if applied to a
sequence of <em>length</em> items.  It returns a tuple of three integers; respectively
these are the <em>start</em> and <em>stop</em> indices and the <em>step</em> or stride length of the
slice. Missing or out-of-bounds indices are handled in a manner consistent with
regular slices.</p>
<div class="versionadded">
<p><span>New in version 2.3.</span></p>
</div>
</dd></dl>

</dd>
<dt>Static method objects</dt>
<dd>Static method objects provide a way of defeating the transformation of function
objects to method objects described above. A static method object is a wrapper
around any other object, usually a user-defined method object. When a static
method object is retrieved from a class or a class instance, the object actually
returned is the wrapped object, which is not subject to any further
transformation. Static method objects are not themselves callable, although the
objects they wrap usually are. Static method objects are created by the built-in
<a href="../library/functions.html#staticmethod" title="staticmethod"><code class="xref py py-func docutils literal"><span class="pre">staticmethod()</span></code></a> constructor.</dd>
<dt>Class method objects</dt>
<dd>A class method object, like a static method object, is a wrapper around another
object that alters the way in which that object is retrieved from classes and
class instances. The behaviour of class method objects upon such retrieval is
described above, under “User-defined methods”. Class method objects are created
by the built-in <a href="../library/functions.html#classmethod" title="classmethod"><code class="xref py py-func docutils literal"><span class="pre">classmethod()</span></code></a> constructor.</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="new-style-and-classic-classes">
<span id="newstyle"></span><h2>3.3. New-style and classic classes</h2>
<p>Classes and instances come in two flavors: old-style (or classic) and new-style.</p>
<p>Up to Python 2.1 the concept of <code class="docutils literal"><span class="pre">class</span></code> was unrelated to the concept of
<code class="docutils literal"><span class="pre">type</span></code>, and old-style classes were the only flavor available.  For an
old-style class, the statement <code class="docutils literal"><span class="pre">x.__class__</span></code> provides the class of <em>x</em>, but
<code class="docutils literal"><span class="pre">type(x)</span></code> is always <code class="docutils literal"><span class="pre">&lt;type</span> <span class="pre">'instance'&gt;</span></code>.  This reflects the fact that all
old-style instances, independent of their class, are implemented with a single
built-in type, called <code class="docutils literal"><span class="pre">instance</span></code>.</p>
<p>New-style classes were introduced in Python 2.2 to unify the concepts of
<code class="docutils literal"><span class="pre">class</span></code> and <code class="docutils literal"><span class="pre">type</span></code>.  A new-style class is simply a user-defined type,
no more, no less.  If <em>x</em> is an instance of a new-style class, then <code class="docutils literal"><span class="pre">type(x)</span></code>
is typically the same as <code class="docutils literal"><span class="pre">x.__class__</span></code> (although this is not guaranteed – a
new-style class instance is permitted to override the value returned for
<code class="docutils literal"><span class="pre">x.__class__</span></code>).</p>
<p>The major motivation for introducing new-style classes is to provide a unified
object model with a full meta-model.  It also has a number of practical
benefits, like the ability to subclass most built-in types, or the introduction
of “descriptors”, which enable computed properties.</p>
<p>For compatibility reasons, classes are still old-style by default.  New-style
classes are created by specifying another new-style class (i.e. a type) as a
parent class, or the “top-level type” <a href="../library/functions.html#object" title="object"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a> if no other parent is
needed.  The behaviour of new-style classes differs from that of old-style
classes in a number of important details in addition to what <a href="../library/functions.html#type" title="type"><code class="xref py py-func docutils literal"><span class="pre">type()</span></code></a>
returns.  Some of these changes are fundamental to the new object model, like
the way special methods are invoked.  Others are “fixes” that could not be
implemented before for compatibility concerns, like the method resolution order
in case of multiple inheritance.</p>
<p>While this manual aims to provide comprehensive coverage of Python’s class
mechanics, it may still be lacking in some areas when it comes to its coverage
of new-style classes. Please see <a class="reference external" href="https://www.python.org/doc/newstyle/">https://www.python.org/doc/newstyle/</a> for
sources of additional information.</p>
<p id="index-71">Old-style classes are removed in Python 3, leaving only new-style classes.</p>
</div>
<div class="section" id="special-method-names">
<span id="specialnames"></span><h2>3.4. Special method names</h2>
<p id="index-72">A class can implement certain operations that are invoked by special syntax
(such as arithmetic operations or subscripting and slicing) by defining methods
with special names. This is Python’s approach to <em class="dfn">operator overloading</em>,
allowing classes to define their own behavior with respect to language
operators.  For instance, if a class defines a method named <a href="#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code></a>,
and <code class="docutils literal"><span class="pre">x</span></code> is an instance of this class, then <code class="docutils literal"><span class="pre">x[i]</span></code> is roughly equivalent
to <code class="docutils literal"><span class="pre">x.__getitem__(i)</span></code> for old-style classes and <code class="docutils literal"><span class="pre">type(x).__getitem__(x,</span> <span class="pre">i)</span></code>
for new-style classes.  Except where mentioned, attempts to execute an
operation raise an exception when no appropriate method is defined (typically
<a href="../library/exceptions.html#exceptions.AttributeError" title="exceptions.AttributeError"><code class="xref py py-exc docutils literal"><span class="pre">AttributeError</span></code></a> or <a href="../library/exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a>).</p>
<p>When implementing a class that emulates any built-in type, it is important that
the emulation only be implemented to the degree that it makes sense for the
object being modelled.  For example, some sequences may work well with retrieval
of individual elements, but extracting a slice may not make sense.  (One example
of this is the <code class="xref py py-class docutils literal"><span class="pre">NodeList</span></code> interface in the W3C’s Document
Object Model.)</p>
<div class="section" id="basic-customization">
<span id="customization"></span><h3>3.4.1. Basic customization</h3>
<dl class="method">
<dt id="object.__new__">
<code class="descclassname">object.</code><code class="descname">__new__</code><span class="sig-paren">(</span><em>cls</em><span class="optional">[</span>, <em>...</em><span class="optional">]</span><span class="sig-paren">)</span><dd><p id="index-73">Called to create a new instance of class <em>cls</em>.  <a href="#object.__new__" title="object.__new__"><code class="xref py py-meth docutils literal"><span class="pre">__new__()</span></code></a> is a static
method (special-cased so you need not declare it as such) that takes the class
of which an instance was requested as its first argument.  The remaining
arguments are those passed to the object constructor expression (the call to the
class).  The return value of <a href="#object.__new__" title="object.__new__"><code class="xref py py-meth docutils literal"><span class="pre">__new__()</span></code></a> should be the new object instance
(usually an instance of <em>cls</em>).</p>
<p>Typical implementations create a new instance of the class by invoking the
superclass’s <a href="#object.__new__" title="object.__new__"><code class="xref py py-meth docutils literal"><span class="pre">__new__()</span></code></a> method using <code class="docutils literal"><span class="pre">super(currentclass,</span>
<span class="pre">cls).__new__(cls[,</span> <span class="pre">...])</span></code> with appropriate arguments and then modifying the
newly-created instance as necessary before returning it.</p>
<p>If <a href="#object.__new__" title="object.__new__"><code class="xref py py-meth docutils literal"><span class="pre">__new__()</span></code></a> returns an instance of <em>cls</em>, then the new instance’s
<a href="#object.__init__" title="object.__init__"><code class="xref py py-meth docutils literal"><span class="pre">__init__()</span></code></a> method will be invoked like <code class="docutils literal"><span class="pre">__init__(self[,</span> <span class="pre">...])</span></code>, where
<em>self</em> is the new instance and the remaining arguments are the same as were
passed to <a href="#object.__new__" title="object.__new__"><code class="xref py py-meth docutils literal"><span class="pre">__new__()</span></code></a>.</p>
<p>If <a href="#object.__new__" title="object.__new__"><code class="xref py py-meth docutils literal"><span class="pre">__new__()</span></code></a> does not return an instance of <em>cls</em>, then the new instance’s
<a href="#object.__init__" title="object.__init__"><code class="xref py py-meth docutils literal"><span class="pre">__init__()</span></code></a> method will not be invoked.</p>
<p><a href="#object.__new__" title="object.__new__"><code class="xref py py-meth docutils literal"><span class="pre">__new__()</span></code></a> is intended mainly to allow subclasses of immutable types (like
int, str, or tuple) to customize instance creation.  It is also commonly
overridden in custom metaclasses in order to customize class creation.</p>
</dd></dl>

<dl class="method">
<dt id="object.__init__">
<code class="descclassname">object.</code><code class="descname">__init__</code><span class="sig-paren">(</span><em>self</em><span class="optional">[</span>, <em>...</em><span class="optional">]</span><span class="sig-paren">)</span><dd><p id="index-74">Called after the instance has been created (by <a href="#object.__new__" title="object.__new__"><code class="xref py py-meth docutils literal"><span class="pre">__new__()</span></code></a>), but before
it is returned to the caller.  The arguments are those passed to the
class constructor expression.  If a base class has an <a href="#object.__init__" title="object.__init__"><code class="xref py py-meth docutils literal"><span class="pre">__init__()</span></code></a> method,
the derived class’s <a href="#object.__init__" title="object.__init__"><code class="xref py py-meth docutils literal"><span class="pre">__init__()</span></code></a> method, if any, must explicitly call it to
ensure proper initialization of the base class part of the instance; for
example: <code class="docutils literal"><span class="pre">BaseClass.__init__(self,</span> <span class="pre">[args...])</span></code>.</p>
<p>Because <a href="#object.__new__" title="object.__new__"><code class="xref py py-meth docutils literal"><span class="pre">__new__()</span></code></a> and <a href="#object.__init__" title="object.__init__"><code class="xref py py-meth docutils literal"><span class="pre">__init__()</span></code></a> work together in constructing
objects (<a href="#object.__new__" title="object.__new__"><code class="xref py py-meth docutils literal"><span class="pre">__new__()</span></code></a> to create it, and <a href="#object.__init__" title="object.__init__"><code class="xref py py-meth docutils literal"><span class="pre">__init__()</span></code></a> to customise it),
no non-<code class="docutils literal"><span class="pre">None</span></code> value may be returned by <a href="#object.__init__" title="object.__init__"><code class="xref py py-meth docutils literal"><span class="pre">__init__()</span></code></a>; doing so will
cause a <a href="../library/exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> to be raised at runtime.</p>
</dd></dl>

<dl class="method">
<dt id="object.__del__">
<code class="descclassname">object.</code><code class="descname">__del__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dd><p id="index-75">Called when the instance is about to be destroyed.  This is also called a
destructor.  If a base class has a <a href="#object.__del__" title="object.__del__"><code class="xref py py-meth docutils literal"><span class="pre">__del__()</span></code></a> method, the derived class’s
<a href="#object.__del__" title="object.__del__"><code class="xref py py-meth docutils literal"><span class="pre">__del__()</span></code></a> method, if any, must explicitly call it to ensure proper
deletion of the base class part of the instance.  Note that it is possible
(though not recommended!) for the <a href="#object.__del__" title="object.__del__"><code class="xref py py-meth docutils literal"><span class="pre">__del__()</span></code></a> method to postpone destruction
of the instance by creating a new reference to it.  It may then be called at a
later time when this new reference is deleted.  It is not guaranteed that
<a href="#object.__del__" title="object.__del__"><code class="xref py py-meth docutils literal"><span class="pre">__del__()</span></code></a> methods are called for objects that still exist when the
interpreter exits.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal"><span class="pre">del</span> <span class="pre">x</span></code> doesn’t directly call <code class="docutils literal"><span class="pre">x.__del__()</span></code> — the former decrements
the reference count for <code class="docutils literal"><span class="pre">x</span></code> by one, and the latter is only called when
<code class="docutils literal"><span class="pre">x</span></code>’s reference count reaches zero.  Some common situations that may
prevent the reference count of an object from going to zero include:
circular references between objects (e.g., a doubly-linked list or a tree
data structure with parent and child pointers); a reference to the object
on the stack frame of a function that caught an exception (the traceback
stored in <code class="docutils literal"><span class="pre">sys.exc_traceback</span></code> keeps the stack frame alive); or a
reference to the object on the stack frame that raised an unhandled
exception in interactive mode (the traceback stored in
<code class="docutils literal"><span class="pre">sys.last_traceback</span></code> keeps the stack frame alive).  The first situation
can only be remedied by explicitly breaking the cycles; the latter two
situations can be resolved by storing <code class="docutils literal"><span class="pre">None</span></code> in <code class="docutils literal"><span class="pre">sys.exc_traceback</span></code> or
<code class="docutils literal"><span class="pre">sys.last_traceback</span></code>.  Circular references which are garbage are
detected when the option cycle detector is enabled (it’s on by default),
but can only be cleaned up if there are no Python-level <a href="#object.__del__" title="object.__del__"><code class="xref py py-meth docutils literal"><span class="pre">__del__()</span></code></a>
methods involved. Refer to the documentation for the <a href="../library/gc.html#module-gc" title="gc: Interface to the cycle-detecting garbage collector."><code class="xref py py-mod docutils literal"><span class="pre">gc</span></code></a> module for
more information about how <a href="#object.__del__" title="object.__del__"><code class="xref py py-meth docutils literal"><span class="pre">__del__()</span></code></a> methods are handled by the
cycle detector, particularly the description of the <code class="docutils literal"><span class="pre">garbage</span></code> value.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Due to the precarious circumstances under which <a href="#object.__del__" title="object.__del__"><code class="xref py py-meth docutils literal"><span class="pre">__del__()</span></code></a> methods are
invoked, exceptions that occur during their execution are ignored, and a warning
is printed to <code class="docutils literal"><span class="pre">sys.stderr</span></code> instead.  Also, when <a href="#object.__del__" title="object.__del__"><code class="xref py py-meth docutils literal"><span class="pre">__del__()</span></code></a> is invoked in
response to a module being deleted (e.g., when execution of the program is
done), other globals referenced by the <a href="#object.__del__" title="object.__del__"><code class="xref py py-meth docutils literal"><span class="pre">__del__()</span></code></a> method may already have
been deleted or in the process of being torn down (e.g. the import
machinery shutting down).  For this reason, <a href="#object.__del__" title="object.__del__"><code class="xref py py-meth docutils literal"><span class="pre">__del__()</span></code></a> methods
should do the absolute
minimum needed to maintain external invariants.  Starting with version 1.5,
Python guarantees that globals whose name begins with a single underscore are
deleted from their module before other globals are deleted; if no other
references to such globals exist, this may help in assuring that imported
modules are still available at the time when the <a href="#object.__del__" title="object.__del__"><code class="xref py py-meth docutils literal"><span class="pre">__del__()</span></code></a> method is
called.</p>
</div>
<p>See also the <a href="../using/cmdline.html#cmdoption-r"><code class="xref std std-option docutils literal"><span class="pre">-R</span></code></a> command-line option.</p>
</dd></dl>

<dl class="method">
<dt id="object.__repr__">
<code class="descclassname">object.</code><code class="descname">__repr__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dd><p id="index-76">Called by the <a href="../library/functions.html#repr" title="repr"><code class="xref py py-func docutils literal"><span class="pre">repr()</span></code></a> built-in function and by string conversions (reverse
quotes) to compute the “official” string representation of an object.  If at all
possible, this should look like a valid Python expression that could be used to
recreate an object with the same value (given an appropriate environment).  If
this is not possible, a string of the form <code class="docutils literal"><span class="pre">&lt;...some</span> <span class="pre">useful</span> <span class="pre">description...&gt;</span></code>
should be returned.  The return value must be a string object. If a class
defines <a href="#object.__repr__" title="object.__repr__"><code class="xref py py-meth docutils literal"><span class="pre">__repr__()</span></code></a> but not <a href="#object.__str__" title="object.__str__"><code class="xref py py-meth docutils literal"><span class="pre">__str__()</span></code></a>, then <a href="#object.__repr__" title="object.__repr__"><code class="xref py py-meth docutils literal"><span class="pre">__repr__()</span></code></a> is also
used when an “informal” string representation of instances of that class is
required.</p>
<p id="index-77">This is typically used for debugging, so it is important that the representation
is information-rich and unambiguous.</p>
</dd></dl>

<dl class="method">
<dt id="object.__str__">
<code class="descclassname">object.</code><code class="descname">__str__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dd><p id="index-78">Called by the <a href="../library/functions.html#str" title="str"><code class="xref py py-func docutils literal"><span class="pre">str()</span></code></a> built-in function and by the <a href="#print"><code class="xref std std-keyword docutils literal"><span class="pre">print</span></code></a>
statement to compute the “informal” string representation of an object.  This
differs from <a href="#object.__repr__" title="object.__repr__"><code class="xref py py-meth docutils literal"><span class="pre">__repr__()</span></code></a> in that it does not have to be a valid Python
expression: a more convenient or concise representation may be used instead.
The return value must be a string object.</p>
</dd></dl>

<dl class="method">
<dt id="object.__lt__">
<code class="descclassname">object.</code><code class="descname">__lt__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__le__">
<code class="descclassname">object.</code><code class="descname">__le__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__eq__">
<code class="descclassname">object.</code><code class="descname">__eq__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__ne__">
<code class="descclassname">object.</code><code class="descname">__ne__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__gt__">
<code class="descclassname">object.</code><code class="descname">__gt__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__ge__">
<code class="descclassname">object.</code><code class="descname">__ge__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dd><div class="versionadded">
<p><span>New in version 2.1.</span></p>
</div>
<p id="index-79">These are the so-called “rich comparison” methods, and are called for comparison
operators in preference to <a href="#object.__cmp__" title="object.__cmp__"><code class="xref py py-meth docutils literal"><span class="pre">__cmp__()</span></code></a> below. The correspondence between
operator symbols and method names is as follows: <code class="docutils literal"><span class="pre">x&lt;y</span></code> calls <code class="docutils literal"><span class="pre">x.__lt__(y)</span></code>,
<code class="docutils literal"><span class="pre">x&lt;=y</span></code> calls <code class="docutils literal"><span class="pre">x.__le__(y)</span></code>, <code class="docutils literal"><span class="pre">x==y</span></code> calls <code class="docutils literal"><span class="pre">x.__eq__(y)</span></code>, <code class="docutils literal"><span class="pre">x!=y</span></code> and
<code class="docutils literal"><span class="pre">x&lt;&gt;y</span></code> call <code class="docutils literal"><span class="pre">x.__ne__(y)</span></code>, <code class="docutils literal"><span class="pre">x&gt;y</span></code> calls <code class="docutils literal"><span class="pre">x.__gt__(y)</span></code>, and <code class="docutils literal"><span class="pre">x&gt;=y</span></code> calls
<code class="docutils literal"><span class="pre">x.__ge__(y)</span></code>.</p>
<p>A rich comparison method may return the singleton <code class="docutils literal"><span class="pre">NotImplemented</span></code> if it does
not implement the operation for a given pair of arguments. By convention,
<code class="docutils literal"><span class="pre">False</span></code> and <code class="docutils literal"><span class="pre">True</span></code> are returned for a successful comparison. However, these
methods can return any value, so if the comparison operator is used in a Boolean
context (e.g., in the condition of an <code class="docutils literal"><span class="pre">if</span></code> statement), Python will call
<a href="../library/functions.html#bool" title="bool"><code class="xref py py-func docutils literal"><span class="pre">bool()</span></code></a> on the value to determine if the result is true or false.</p>
<p>There are no implied relationships among the comparison operators. The truth
of <code class="docutils literal"><span class="pre">x==y</span></code> does not imply that <code class="docutils literal"><span class="pre">x!=y</span></code> is false.  Accordingly, when
defining <a href="#object.__eq__" title="object.__eq__"><code class="xref py py-meth docutils literal"><span class="pre">__eq__()</span></code></a>, one should also define <a href="#object.__ne__" title="object.__ne__"><code class="xref py py-meth docutils literal"><span class="pre">__ne__()</span></code></a> so that the
operators will behave as expected.  See the paragraph on <a href="#object.__hash__" title="object.__hash__"><code class="xref py py-meth docutils literal"><span class="pre">__hash__()</span></code></a> for
some important notes on creating <a href="../glossary.html#term-hashable"><span class="xref std std-term">hashable</span></a> objects which support
custom comparison operations and are usable as dictionary keys.</p>
<p>There are no swapped-argument versions of these methods (to be used when the
left argument does not support the operation but the right argument does);
rather, <a href="#object.__lt__" title="object.__lt__"><code class="xref py py-meth docutils literal"><span class="pre">__lt__()</span></code></a> and <a href="#object.__gt__" title="object.__gt__"><code class="xref py py-meth docutils literal"><span class="pre">__gt__()</span></code></a> are each other’s reflection,
<a href="#object.__le__" title="object.__le__"><code class="xref py py-meth docutils literal"><span class="pre">__le__()</span></code></a> and <a href="#object.__ge__" title="object.__ge__"><code class="xref py py-meth docutils literal"><span class="pre">__ge__()</span></code></a> are each other’s reflection, and
<a href="#object.__eq__" title="object.__eq__"><code class="xref py py-meth docutils literal"><span class="pre">__eq__()</span></code></a> and <a href="#object.__ne__" title="object.__ne__"><code class="xref py py-meth docutils literal"><span class="pre">__ne__()</span></code></a> are their own reflection.</p>
<p>Arguments to rich comparison methods are never coerced.</p>
<p>To automatically generate ordering operations from a single root operation,
see <a href="../library/functools.html#functools.total_ordering" title="functools.total_ordering"><code class="xref py py-func docutils literal"><span class="pre">functools.total_ordering()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="object.__cmp__">
<code class="descclassname">object.</code><code class="descname">__cmp__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dd><p id="index-80">Called by comparison operations if rich comparison (see above) is not
defined.  Should return a negative integer if <code class="docutils literal"><span class="pre">self</span> <span class="pre">&lt;</span> <span class="pre">other</span></code>, zero if
<code class="docutils literal"><span class="pre">self</span> <span class="pre">==</span> <span class="pre">other</span></code>, a positive integer if <code class="docutils literal"><span class="pre">self</span> <span class="pre">&gt;</span> <span class="pre">other</span></code>.  If no
<a href="#object.__cmp__" title="object.__cmp__"><code class="xref py py-meth docutils literal"><span class="pre">__cmp__()</span></code></a>, <a href="#object.__eq__" title="object.__eq__"><code class="xref py py-meth docutils literal"><span class="pre">__eq__()</span></code></a> or <a href="#object.__ne__" title="object.__ne__"><code class="xref py py-meth docutils literal"><span class="pre">__ne__()</span></code></a> operation is defined, class
instances are compared by object identity (“address”).  See also the
description of <a href="#object.__hash__" title="object.__hash__"><code class="xref py py-meth docutils literal"><span class="pre">__hash__()</span></code></a> for some important notes on creating
<a href="../glossary.html#term-hashable"><span class="xref std std-term">hashable</span></a> objects which support custom comparison operations and are
usable as dictionary keys. (Note: the restriction that exceptions are not
propagated by <a href="#object.__cmp__" title="object.__cmp__"><code class="xref py py-meth docutils literal"><span class="pre">__cmp__()</span></code></a> has been removed since Python 1.5.)</p>
</dd></dl>

<dl class="method">
<dt id="object.__rcmp__">
<code class="descclassname">object.</code><code class="descname">__rcmp__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dd><div class="versionchanged">
<p><span>Changed in version 2.1: </span>No longer supported.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="object.__hash__">
<code class="descclassname">object.</code><code class="descname">__hash__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dd><p id="index-81">Called by built-in function <a href="../library/functions.html#hash" title="hash"><code class="xref py py-func docutils literal"><span class="pre">hash()</span></code></a> and for operations on members of
hashed collections including <a href="../library/stdtypes.html#set" title="set"><code class="xref py py-class docutils literal"><span class="pre">set</span></code></a>, <a href="../library/stdtypes.html#frozenset" title="frozenset"><code class="xref py py-class docutils literal"><span class="pre">frozenset</span></code></a>, and
<a href="../library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a>.  <a href="#object.__hash__" title="object.__hash__"><code class="xref py py-meth docutils literal"><span class="pre">__hash__()</span></code></a> should return an integer.  The only required
property is that objects which compare equal have the same hash value; it is
advised to mix together the hash values of the components of the object that
also play a part in comparison of objects by packing them into a tuple and
hashing the tuple. Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nick</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">))</span>
</pre></div>
</div>
<p>If a class does not define a <a href="#object.__cmp__" title="object.__cmp__"><code class="xref py py-meth docutils literal"><span class="pre">__cmp__()</span></code></a> or <a href="#object.__eq__" title="object.__eq__"><code class="xref py py-meth docutils literal"><span class="pre">__eq__()</span></code></a> method it
should not define a <a href="#object.__hash__" title="object.__hash__"><code class="xref py py-meth docutils literal"><span class="pre">__hash__()</span></code></a> operation either; if it defines
<a href="#object.__cmp__" title="object.__cmp__"><code class="xref py py-meth docutils literal"><span class="pre">__cmp__()</span></code></a> or <a href="#object.__eq__" title="object.__eq__"><code class="xref py py-meth docutils literal"><span class="pre">__eq__()</span></code></a> but not <a href="#object.__hash__" title="object.__hash__"><code class="xref py py-meth docutils literal"><span class="pre">__hash__()</span></code></a>, its instances
will not be usable in hashed collections.  If a class defines mutable objects
and implements a <a href="#object.__cmp__" title="object.__cmp__"><code class="xref py py-meth docutils literal"><span class="pre">__cmp__()</span></code></a> or <a href="#object.__eq__" title="object.__eq__"><code class="xref py py-meth docutils literal"><span class="pre">__eq__()</span></code></a> method, it should not
implement <a href="#object.__hash__" title="object.__hash__"><code class="xref py py-meth docutils literal"><span class="pre">__hash__()</span></code></a>, since hashable collection implementations require
that an object’s hash value is immutable (if the object’s hash value changes,
it will be in the wrong hash bucket).</p>
<p>User-defined classes have <a href="#object.__cmp__" title="object.__cmp__"><code class="xref py py-meth docutils literal"><span class="pre">__cmp__()</span></code></a> and <a href="#object.__hash__" title="object.__hash__"><code class="xref py py-meth docutils literal"><span class="pre">__hash__()</span></code></a> methods
by default; with them, all objects compare unequal (except with themselves)
and <code class="docutils literal"><span class="pre">x.__hash__()</span></code> returns a result derived from <code class="docutils literal"><span class="pre">id(x)</span></code>.</p>
<p>Classes which inherit a <a href="#object.__hash__" title="object.__hash__"><code class="xref py py-meth docutils literal"><span class="pre">__hash__()</span></code></a> method from a parent class but
change the meaning of <a href="#object.__cmp__" title="object.__cmp__"><code class="xref py py-meth docutils literal"><span class="pre">__cmp__()</span></code></a> or <a href="#object.__eq__" title="object.__eq__"><code class="xref py py-meth docutils literal"><span class="pre">__eq__()</span></code></a> such that the hash
value returned is no longer appropriate (e.g. by switching to a value-based
concept of equality instead of the default identity based equality) can
explicitly flag themselves as being unhashable by setting <code class="docutils literal"><span class="pre">__hash__</span> <span class="pre">=</span> <span class="pre">None</span></code>
in the class definition. Doing so means that not only will instances of the
class raise an appropriate <a href="../library/exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> when a program attempts to
retrieve their hash value, but they will also be correctly identified as
unhashable when checking <code class="docutils literal"><span class="pre">isinstance(obj,</span> <span class="pre">collections.Hashable)</span></code> (unlike
classes which define their own <a href="#object.__hash__" title="object.__hash__"><code class="xref py py-meth docutils literal"><span class="pre">__hash__()</span></code></a> to explicitly raise
<a href="../library/exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a>).</p>
<div class="versionchanged">
<p><span>Changed in version 2.5: </span><a href="#object.__hash__" title="object.__hash__"><code class="xref py py-meth docutils literal"><span class="pre">__hash__()</span></code></a> may now also return a long integer object; the 32-bit
integer is then derived from the hash of that object.</p>
</div>
<div class="versionchanged">
<p><span>Changed in version 2.6: </span><a href="#object.__hash__" title="object.__hash__"><code class="xref py py-attr docutils literal"><span class="pre">__hash__</span></code></a> may now be set to <a href="../library/constants.html#None" title="None"><code class="xref py py-const docutils literal"><span class="pre">None</span></code></a> to explicitly flag
instances of a class as unhashable.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="object.__nonzero__">
<code class="descclassname">object.</code><code class="descname">__nonzero__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dd><p id="index-82">Called to implement truth value testing and the built-in operation <code class="docutils literal"><span class="pre">bool()</span></code>;
should return <code class="docutils literal"><span class="pre">False</span></code> or <code class="docutils literal"><span class="pre">True</span></code>, or their integer equivalents <code class="docutils literal"><span class="pre">0</span></code> or
<code class="docutils literal"><span class="pre">1</span></code>.  When this method is not defined, <a href="#object.__len__" title="object.__len__"><code class="xref py py-meth docutils literal"><span class="pre">__len__()</span></code></a> is called, if it is
defined, and the object is considered true if its result is nonzero.
If a class defines neither <a href="#object.__len__" title="object.__len__"><code class="xref py py-meth docutils literal"><span class="pre">__len__()</span></code></a> nor <a href="#object.__nonzero__" title="object.__nonzero__"><code class="xref py py-meth docutils literal"><span class="pre">__nonzero__()</span></code></a>, all its
instances are considered true.</p>
</dd></dl>

<dl class="method">
<dt id="object.__unicode__">
<code class="descclassname">object.</code><code class="descname">__unicode__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dd><p id="index-83">Called to implement <a href="../library/functions.html#unicode" title="unicode"><code class="xref py py-func docutils literal"><span class="pre">unicode()</span></code></a> built-in; should return a Unicode object.
When this method is not defined, string conversion is attempted, and the result
of string conversion is converted to Unicode using the system default encoding.</p>
</dd></dl>

</div>
<div class="section" id="customizing-attribute-access">
<span id="attribute-access"></span><h3>3.4.2. Customizing attribute access</h3>
<p>The following methods can be defined to customize the meaning of attribute
access (use of, assignment to, or deletion of <code class="docutils literal"><span class="pre">x.name</span></code>) for class instances.</p>
<dl class="method">
<dt id="object.__getattr__">
<code class="descclassname">object.</code><code class="descname">__getattr__</code><span class="sig-paren">(</span><em>self</em>, <em>name</em><span class="sig-paren">)</span><dd><p>Called when an attribute lookup has not found the attribute in the usual places
(i.e. it is not an instance attribute nor is it found in the class tree for
<code class="docutils literal"><span class="pre">self</span></code>).  <code class="docutils literal"><span class="pre">name</span></code> is the attribute name. This method should return the
(computed) attribute value or raise an <a href="../library/exceptions.html#exceptions.AttributeError" title="exceptions.AttributeError"><code class="xref py py-exc docutils literal"><span class="pre">AttributeError</span></code></a> exception.</p>
<p id="index-84">Note that if the attribute is found through the normal mechanism,
<a href="#object.__getattr__" title="object.__getattr__"><code class="xref py py-meth docutils literal"><span class="pre">__getattr__()</span></code></a> is not called.  (This is an intentional asymmetry between
<a href="#object.__getattr__" title="object.__getattr__"><code class="xref py py-meth docutils literal"><span class="pre">__getattr__()</span></code></a> and <a href="#object.__setattr__" title="object.__setattr__"><code class="xref py py-meth docutils literal"><span class="pre">__setattr__()</span></code></a>.) This is done both for efficiency
reasons and because otherwise <a href="#object.__getattr__" title="object.__getattr__"><code class="xref py py-meth docutils literal"><span class="pre">__getattr__()</span></code></a> would have no way to access
other attributes of the instance.  Note that at least for instance variables,
you can fake total control by not inserting any values in the instance attribute
dictionary (but instead inserting them in another object).  See the
<a href="#object.__getattribute__" title="object.__getattribute__"><code class="xref py py-meth docutils literal"><span class="pre">__getattribute__()</span></code></a> method below for a way to actually get total control in
new-style classes.</p>
</dd></dl>

<dl class="method">
<dt id="object.__setattr__">
<code class="descclassname">object.</code><code class="descname">__setattr__</code><span class="sig-paren">(</span><em>self</em>, <em>name</em>, <em>value</em><span class="sig-paren">)</span><dd><p>Called when an attribute assignment is attempted.  This is called instead of the
normal mechanism (i.e. store the value in the instance dictionary).  <em>name</em> is
the attribute name, <em>value</em> is the value to be assigned to it.</p>
<p id="index-85">If <a href="#object.__setattr__" title="object.__setattr__"><code class="xref py py-meth docutils literal"><span class="pre">__setattr__()</span></code></a> wants to assign to an instance attribute, it should not
simply execute <code class="docutils literal"><span class="pre">self.name</span> <span class="pre">=</span> <span class="pre">value</span></code> — this would cause a recursive call to
itself.  Instead, it should insert the value in the dictionary of instance
attributes, e.g., <code class="docutils literal"><span class="pre">self.__dict__[name]</span> <span class="pre">=</span> <span class="pre">value</span></code>.  For new-style classes,
rather than accessing the instance dictionary, it should call the base class
method with the same name, for example, <code class="docutils literal"><span class="pre">object.__setattr__(self,</span> <span class="pre">name,</span>
<span class="pre">value)</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="object.__delattr__">
<code class="descclassname">object.</code><code class="descname">__delattr__</code><span class="sig-paren">(</span><em>self</em>, <em>name</em><span class="sig-paren">)</span><dd><p>Like <a href="#object.__setattr__" title="object.__setattr__"><code class="xref py py-meth docutils literal"><span class="pre">__setattr__()</span></code></a> but for attribute deletion instead of assignment.  This
should only be implemented if <code class="docutils literal"><span class="pre">del</span> <span class="pre">obj.name</span></code> is meaningful for the object.</p>
</dd></dl>

<div class="section" id="more-attribute-access-for-new-style-classes">
<span id="new-style-attribute-access"></span><h4>3.4.2.1. More attribute access for new-style classes</h4>
<p>The following methods only apply to new-style classes.</p>
<dl class="method">
<dt id="object.__getattribute__">
<code class="descclassname">object.</code><code class="descname">__getattribute__</code><span class="sig-paren">(</span><em>self</em>, <em>name</em><span class="sig-paren">)</span><dd><p>Called unconditionally to implement attribute accesses for instances of the
class. If the class also defines <a href="#object.__getattr__" title="object.__getattr__"><code class="xref py py-meth docutils literal"><span class="pre">__getattr__()</span></code></a>, the latter will not be
called unless <a href="#object.__getattribute__" title="object.__getattribute__"><code class="xref py py-meth docutils literal"><span class="pre">__getattribute__()</span></code></a> either calls it explicitly or raises an
<a href="../library/exceptions.html#exceptions.AttributeError" title="exceptions.AttributeError"><code class="xref py py-exc docutils literal"><span class="pre">AttributeError</span></code></a>. This method should return the (computed) attribute value
or raise an <a href="../library/exceptions.html#exceptions.AttributeError" title="exceptions.AttributeError"><code class="xref py py-exc docutils literal"><span class="pre">AttributeError</span></code></a> exception. In order to avoid infinite
recursion in this method, its implementation should always call the base class
method with the same name to access any attributes it needs, for example,
<code class="docutils literal"><span class="pre">object.__getattribute__(self,</span> <span class="pre">name)</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This method may still be bypassed when looking up special methods as the
result of implicit invocation via language syntax or built-in functions.
See <a href="#new-style-special-lookup"><span class="std std-ref">Special method lookup for new-style classes</span></a>.</p>
</div>
</dd></dl>

</div>
<div class="section" id="implementing-descriptors">
<span id="descriptors"></span><h4>3.4.2.2. Implementing Descriptors</h4>
<p>The following methods only apply when an instance of the class containing the
method (a so-called <em>descriptor</em> class) appears in an <em>owner</em> class (the
descriptor must be in either the owner’s class dictionary or in the class
dictionary for one of its parents).  In the examples below, “the attribute”
refers to the attribute whose name is the key of the property in the owner
class’ <a href="../library/stdtypes.html#object.__dict__" title="object.__dict__"><code class="xref py py-attr docutils literal"><span class="pre">__dict__</span></code></a>.</p>
<dl class="method">
<dt id="object.__get__">
<code class="descclassname">object.</code><code class="descname">__get__</code><span class="sig-paren">(</span><em>self</em>, <em>instance</em>, <em>owner</em><span class="sig-paren">)</span><dd><p>Called to get the attribute of the owner class (class attribute access) or of an
instance of that class (instance attribute access). <em>owner</em> is always the owner
class, while <em>instance</em> is the instance that the attribute was accessed through,
or <code class="docutils literal"><span class="pre">None</span></code> when the attribute is accessed through the <em>owner</em>.  This method
should return the (computed) attribute value or raise an <a href="../library/exceptions.html#exceptions.AttributeError" title="exceptions.AttributeError"><code class="xref py py-exc docutils literal"><span class="pre">AttributeError</span></code></a>
exception.</p>
</dd></dl>

<dl class="method">
<dt id="object.__set__">
<code class="descclassname">object.</code><code class="descname">__set__</code><span class="sig-paren">(</span><em>self</em>, <em>instance</em>, <em>value</em><span class="sig-paren">)</span><dd><p>Called to set the attribute on an instance <em>instance</em> of the owner class to a
new value, <em>value</em>.</p>
</dd></dl>

<dl class="method">
<dt id="object.__delete__">
<code class="descclassname">object.</code><code class="descname">__delete__</code><span class="sig-paren">(</span><em>self</em>, <em>instance</em><span class="sig-paren">)</span><dd><p>Called to delete the attribute on an instance <em>instance</em> of the owner class.</p>
</dd></dl>

</div>
<div class="section" id="invoking-descriptors">
<span id="descriptor-invocation"></span><h4>3.4.2.3. Invoking Descriptors</h4>
<p>In general, a descriptor is an object attribute with “binding behavior”, one
whose attribute access has been overridden by methods in the descriptor
protocol:  <a href="#object.__get__" title="object.__get__"><code class="xref py py-meth docutils literal"><span class="pre">__get__()</span></code></a>, <a href="#object.__set__" title="object.__set__"><code class="xref py py-meth docutils literal"><span class="pre">__set__()</span></code></a>, and <a href="#object.__delete__" title="object.__delete__"><code class="xref py py-meth docutils literal"><span class="pre">__delete__()</span></code></a>. If any of
those methods are defined for an object, it is said to be a descriptor.</p>
<p>The default behavior for attribute access is to get, set, or delete the
attribute from an object’s dictionary. For instance, <code class="docutils literal"><span class="pre">a.x</span></code> has a lookup chain
starting with <code class="docutils literal"><span class="pre">a.__dict__['x']</span></code>, then <code class="docutils literal"><span class="pre">type(a).__dict__['x']</span></code>, and
continuing through the base classes of <code class="docutils literal"><span class="pre">type(a)</span></code> excluding metaclasses.</p>
<p>However, if the looked-up value is an object defining one of the descriptor
methods, then Python may override the default behavior and invoke the descriptor
method instead.  Where this occurs in the precedence chain depends on which
descriptor methods were defined and how they were called.  Note that descriptors
are only invoked for new style objects or classes (ones that subclass
<a href="../library/functions.html#object" title="object"><code class="xref py py-class docutils literal"><span class="pre">object()</span></code></a> or <a href="../library/functions.html#type" title="type"><code class="xref py py-class docutils literal"><span class="pre">type()</span></code></a>).</p>
<p>The starting point for descriptor invocation is a binding, <code class="docutils literal"><span class="pre">a.x</span></code>. How the
arguments are assembled depends on <code class="docutils literal"><span class="pre">a</span></code>:</p>
<dl class="docutils">
<dt>Direct Call</dt>
<dd>The simplest and least common call is when user code directly invokes a
descriptor method:    <code class="docutils literal"><span class="pre">x.__get__(a)</span></code>.</dd>
<dt>Instance Binding</dt>
<dd>If binding to a new-style object instance, <code class="docutils literal"><span class="pre">a.x</span></code> is transformed into the call:
<code class="docutils literal"><span class="pre">type(a).__dict__['x'].__get__(a,</span> <span class="pre">type(a))</span></code>.</dd>
<dt>Class Binding</dt>
<dd>If binding to a new-style class, <code class="docutils literal"><span class="pre">A.x</span></code> is transformed into the call:
<code class="docutils literal"><span class="pre">A.__dict__['x'].__get__(None,</span> <span class="pre">A)</span></code>.</dd>
<dt>Super Binding</dt>
<dd>If <code class="docutils literal"><span class="pre">a</span></code> is an instance of <a href="../library/functions.html#super" title="super"><code class="xref py py-class docutils literal"><span class="pre">super</span></code></a>, then the binding <code class="docutils literal"><span class="pre">super(B,</span>
<span class="pre">obj).m()</span></code> searches <code class="docutils literal"><span class="pre">obj.__class__.__mro__</span></code> for the base class <code class="docutils literal"><span class="pre">A</span></code>
immediately preceding <code class="docutils literal"><span class="pre">B</span></code> and then invokes the descriptor with the call:
<code class="docutils literal"><span class="pre">A.__dict__['m'].__get__(obj,</span> <span class="pre">obj.__class__)</span></code>.</dd>
</dl>
<p>For instance bindings, the precedence of descriptor invocation depends on the
which descriptor methods are defined.  A descriptor can define any combination
of <a href="#object.__get__" title="object.__get__"><code class="xref py py-meth docutils literal"><span class="pre">__get__()</span></code></a>, <a href="#object.__set__" title="object.__set__"><code class="xref py py-meth docutils literal"><span class="pre">__set__()</span></code></a> and <a href="#object.__delete__" title="object.__delete__"><code class="xref py py-meth docutils literal"><span class="pre">__delete__()</span></code></a>.  If it does not
define <a href="#object.__get__" title="object.__get__"><code class="xref py py-meth docutils literal"><span class="pre">__get__()</span></code></a>, then accessing the attribute will return the descriptor
object itself unless there is a value in the object’s instance dictionary.  If
the descriptor defines <a href="#object.__set__" title="object.__set__"><code class="xref py py-meth docutils literal"><span class="pre">__set__()</span></code></a> and/or <a href="#object.__delete__" title="object.__delete__"><code class="xref py py-meth docutils literal"><span class="pre">__delete__()</span></code></a>, it is a data
descriptor; if it defines neither, it is a non-data descriptor.  Normally, data
descriptors define both <a href="#object.__get__" title="object.__get__"><code class="xref py py-meth docutils literal"><span class="pre">__get__()</span></code></a> and <a href="#object.__set__" title="object.__set__"><code class="xref py py-meth docutils literal"><span class="pre">__set__()</span></code></a>, while non-data
descriptors have just the <a href="#object.__get__" title="object.__get__"><code class="xref py py-meth docutils literal"><span class="pre">__get__()</span></code></a> method.  Data descriptors with
<a href="#object.__set__" title="object.__set__"><code class="xref py py-meth docutils literal"><span class="pre">__set__()</span></code></a> and <a href="#object.__get__" title="object.__get__"><code class="xref py py-meth docutils literal"><span class="pre">__get__()</span></code></a> defined always override a redefinition in an
instance dictionary.  In contrast, non-data descriptors can be overridden by
instances.</p>
<p>Python methods (including <a href="../library/functions.html#staticmethod" title="staticmethod"><code class="xref py py-func docutils literal"><span class="pre">staticmethod()</span></code></a> and <a href="../library/functions.html#classmethod" title="classmethod"><code class="xref py py-func docutils literal"><span class="pre">classmethod()</span></code></a>) are
implemented as non-data descriptors.  Accordingly, instances can redefine and
override methods.  This allows individual instances to acquire behaviors that
differ from other instances of the same class.</p>
<p>The <a href="../library/functions.html#property" title="property"><code class="xref py py-func docutils literal"><span class="pre">property()</span></code></a> function is implemented as a data descriptor. Accordingly,
instances cannot override the behavior of a property.</p>
</div>
<div class="section" id="slots">
<span id="id2"></span><h4>3.4.2.4. __slots__</h4>
<p>By default, instances of both old and new-style classes have a dictionary for
attribute storage.  This wastes space for objects having very few instance
variables.  The space consumption can become acute when creating large numbers
of instances.</p>
<p>The default can be overridden by defining <em>__slots__</em> in a new-style class
definition.  The <em>__slots__</em> declaration takes a sequence of instance variables
and reserves just enough space in each instance to hold a value for each
variable.  Space is saved because <em>__dict__</em> is not created for each instance.</p>
<dl class="data">
<dt id="__slots__">
<code class="descname">__slots__</code><dd><p>This class variable can be assigned a string, iterable, or sequence of strings
with variable names used by instances.  If defined in a new-style class,
<em>__slots__</em> reserves space for the declared variables and prevents the automatic
creation of <em>__dict__</em> and <em>__weakref__</em> for each instance.</p>
<div class="versionadded">
<p><span>New in version 2.2.</span></p>
</div>
</dd></dl>

<p>Notes on using <em>__slots__</em></p>
<ul>
<li><p class="first">When inheriting from a class without <em>__slots__</em>, the <em>__dict__</em> attribute of
that class will always be accessible, so a <em>__slots__</em> definition in the
subclass is meaningless.</p>
</li>
<li><p class="first">Without a <em>__dict__</em> variable, instances cannot be assigned new variables not
listed in the <em>__slots__</em> definition.  Attempts to assign to an unlisted
variable name raises <a href="../library/exceptions.html#exceptions.AttributeError" title="exceptions.AttributeError"><code class="xref py py-exc docutils literal"><span class="pre">AttributeError</span></code></a>. If dynamic assignment of new
variables is desired, then add <code class="docutils literal"><span class="pre">'__dict__'</span></code> to the sequence of strings in the
<em>__slots__</em> declaration.</p>
<div class="versionchanged">
<p><span>Changed in version 2.3: </span>Previously, adding <code class="docutils literal"><span class="pre">'__dict__'</span></code> to the <em>__slots__</em> declaration would not
enable the assignment of new attributes not specifically listed in the sequence
of instance variable names.</p>
</div>
</li>
<li><p class="first">Without a <em>__weakref__</em> variable for each instance, classes defining
<em>__slots__</em> do not support weak references to its instances. If weak reference
support is needed, then add <code class="docutils literal"><span class="pre">'__weakref__'</span></code> to the sequence of strings in the
<em>__slots__</em> declaration.</p>
<div class="versionchanged">
<p><span>Changed in version 2.3: </span>Previously, adding <code class="docutils literal"><span class="pre">'__weakref__'</span></code> to the <em>__slots__</em> declaration would not
enable support for weak references.</p>
</div>
</li>
<li><p class="first"><em>__slots__</em> are implemented at the class level by creating descriptors
(<a href="#descriptors"><span class="std std-ref">Implementing Descriptors</span></a>) for each variable name.  As a result, class attributes
cannot be used to set default values for instance variables defined by
<em>__slots__</em>; otherwise, the class attribute would overwrite the descriptor
assignment.</p>
</li>
<li><p class="first">The action of a <em>__slots__</em> declaration is limited to the class where it is
defined.  As a result, subclasses will have a <em>__dict__</em> unless they also define
<em>__slots__</em> (which must only contain names of any <em>additional</em> slots).</p>
</li>
<li><p class="first">If a class defines a slot also defined in a base class, the instance variable
defined by the base class slot is inaccessible (except by retrieving its
descriptor directly from the base class). This renders the meaning of the
program undefined.  In the future, a check may be added to prevent this.</p>
</li>
<li><p class="first">Nonempty <em>__slots__</em> does not work for classes derived from “variable-length”
built-in types such as <a href="../library/functions.html#long" title="long"><code class="xref py py-class docutils literal"><span class="pre">long</span></code></a>, <a href="../library/functions.html#str" title="str"><code class="xref py py-class docutils literal"><span class="pre">str</span></code></a> and <a href="../library/functions.html#tuple" title="tuple"><code class="xref py py-class docutils literal"><span class="pre">tuple</span></code></a>.</p>
</li>
<li><p class="first">Any non-string iterable may be assigned to <em>__slots__</em>. Mappings may also be
used; however, in the future, special meaning may be assigned to the values
corresponding to each key.</p>
</li>
<li><p class="first"><em>__class__</em> assignment works only if both classes have the same <em>__slots__</em>.</p>
<div class="versionchanged">
<p><span>Changed in version 2.6: </span>Previously, <em>__class__</em> assignment raised an error if either new or old class
had <em>__slots__</em>.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="customizing-class-creation">
<span id="metaclasses"></span><h3>3.4.3. Customizing class creation</h3>
<p>By default, new-style classes are constructed using <a href="../library/functions.html#type" title="type"><code class="xref py py-func docutils literal"><span class="pre">type()</span></code></a>. A class
definition is read into a separate namespace and the value of class name is
bound to the result of <code class="docutils literal"><span class="pre">type(name,</span> <span class="pre">bases,</span> <span class="pre">dict)</span></code>.</p>
<p>When the class definition is read, if <em>__metaclass__</em> is defined then the
callable assigned to it will be called instead of <a href="../library/functions.html#type" title="type"><code class="xref py py-func docutils literal"><span class="pre">type()</span></code></a>. This allows
classes or functions to be written which monitor or alter the class creation
process:</p>
<ul class="simple">
<li>Modifying the class dictionary prior to the class being created.</li>
<li>Returning an instance of another class – essentially performing the role of a
factory function.</li>
</ul>
<p>These steps will have to be performed in the metaclass’s <a href="#object.__new__" title="object.__new__"><code class="xref py py-meth docutils literal"><span class="pre">__new__()</span></code></a> method
– <code class="xref py py-meth docutils literal"><span class="pre">type.__new__()</span></code> can then be called from this method to create a class
with different properties.  This example adds a new element to the class
dictionary before creating the class:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">metacls</span><span class="p">(</span><span class="nb">type</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="nb">dict</span><span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;metacls was here&#39;</span>
        <span class="k">return</span> <span class="nb">type</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span>
</pre></div>
</div>
<p>You can of course also override other class methods (or add new methods); for
example defining a custom <a href="#object.__call__" title="object.__call__"><code class="xref py py-meth docutils literal"><span class="pre">__call__()</span></code></a> method in the metaclass allows custom
behavior when the class is called, e.g. not always creating a new instance.</p>
<dl class="data">
<dt id="__metaclass__">
<code class="descname">__metaclass__</code><dd><p>This variable can be any callable accepting arguments for <code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">bases</span></code>,
and <code class="docutils literal"><span class="pre">dict</span></code>.  Upon class creation, the callable is used instead of the built-in
<a href="../library/functions.html#type" title="type"><code class="xref py py-func docutils literal"><span class="pre">type()</span></code></a>.</p>
<div class="versionadded">
<p><span>New in version 2.2.</span></p>
</div>
</dd></dl>

<p>The appropriate metaclass is determined by the following precedence rules:</p>
<ul class="simple">
<li>If <code class="docutils literal"><span class="pre">dict['__metaclass__']</span></code> exists, it is used.</li>
<li>Otherwise, if there is at least one base class, its metaclass is used (this
looks for a <em>__class__</em> attribute first and if not found, uses its type).</li>
<li>Otherwise, if a global variable named __metaclass__ exists, it is used.</li>
<li>Otherwise, the old-style, classic metaclass (types.ClassType) is used.</li>
</ul>
<p>The potential uses for metaclasses are boundless. Some ideas that have been
explored including logging, interface checking, automatic delegation, automatic
property creation, proxies, frameworks, and automatic resource
locking/synchronization.</p>
</div>
<div class="section" id="customizing-instance-and-subclass-checks">
<h3>3.4.4. Customizing instance and subclass checks</h3>
<div class="versionadded">
<p><span>New in version 2.6.</span></p>
</div>
<p>The following methods are used to override the default behavior of the
<a href="../library/functions.html#isinstance" title="isinstance"><code class="xref py py-func docutils literal"><span class="pre">isinstance()</span></code></a> and <a href="../library/functions.html#issubclass" title="issubclass"><code class="xref py py-func docutils literal"><span class="pre">issubclass()</span></code></a> built-in functions.</p>
<p>In particular, the metaclass <a href="../library/abc.html#abc.ABCMeta" title="abc.ABCMeta"><code class="xref py py-class docutils literal"><span class="pre">abc.ABCMeta</span></code></a> implements these methods in
order to allow the addition of Abstract Base Classes (ABCs) as “virtual base
classes” to any class or type (including built-in types), including other
ABCs.</p>
<dl class="method">
<dt id="class.__instancecheck__">
<code class="descclassname">class.</code><code class="descname">__instancecheck__</code><span class="sig-paren">(</span><em>self</em>, <em>instance</em><span class="sig-paren">)</span><dd><p>Return true if <em>instance</em> should be considered a (direct or indirect)
instance of <em>class</em>. If defined, called to implement <code class="docutils literal"><span class="pre">isinstance(instance,</span>
<span class="pre">class)</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="class.__subclasscheck__">
<code class="descclassname">class.</code><code class="descname">__subclasscheck__</code><span class="sig-paren">(</span><em>self</em>, <em>subclass</em><span class="sig-paren">)</span><dd><p>Return true if <em>subclass</em> should be considered a (direct or indirect)
subclass of <em>class</em>.  If defined, called to implement <code class="docutils literal"><span class="pre">issubclass(subclass,</span>
<span class="pre">class)</span></code>.</p>
</dd></dl>

<p>Note that these methods are looked up on the type (metaclass) of a class.  They
cannot be defined as class methods in the actual class.  This is consistent with
the lookup of special methods that are called on instances, only in this
case the instance is itself a class.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><span class="target" id="index-86"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3119"><strong>PEP 3119</strong></a> - Introducing Abstract Base Classes</dt>
<dd>Includes the specification for customizing <a href="../library/functions.html#isinstance" title="isinstance"><code class="xref py py-func docutils literal"><span class="pre">isinstance()</span></code></a> and
<a href="../library/functions.html#issubclass" title="issubclass"><code class="xref py py-func docutils literal"><span class="pre">issubclass()</span></code></a> behavior through <a href="#class.__instancecheck__" title="class.__instancecheck__"><code class="xref py py-meth docutils literal"><span class="pre">__instancecheck__()</span></code></a> and
<a href="#class.__subclasscheck__" title="class.__subclasscheck__"><code class="xref py py-meth docutils literal"><span class="pre">__subclasscheck__()</span></code></a>, with motivation for this functionality
in the context of adding Abstract Base Classes (see the <a href="../library/abc.html#module-abc" title="abc: Abstract base classes according to PEP 3119."><code class="xref py py-mod docutils literal"><span class="pre">abc</span></code></a>
module) to the language.</dd>
</dl>
</div>
</div>
<div class="section" id="emulating-callable-objects">
<span id="callable-types"></span><h3>3.4.5. Emulating callable objects</h3>
<dl class="method">
<dt id="object.__call__">
<code class="descclassname">object.</code><code class="descname">__call__</code><span class="sig-paren">(</span><em>self</em><span class="optional">[</span>, <em>args...</em><span class="optional">]</span><span class="sig-paren">)</span><dd><p id="index-87">Called when the instance is “called” as a function; if this method is defined,
<code class="docutils literal"><span class="pre">x(arg1,</span> <span class="pre">arg2,</span> <span class="pre">...)</span></code> is a shorthand for <code class="docutils literal"><span class="pre">x.__call__(arg1,</span> <span class="pre">arg2,</span> <span class="pre">...)</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="emulating-container-types">
<span id="sequence-types"></span><h3>3.4.6. Emulating container types</h3>
<p>The following methods can be defined to implement container objects.  Containers
usually are sequences (such as lists or tuples) or mappings (like dictionaries),
but can represent other containers as well.  The first set of methods is used
either to emulate a sequence or to emulate a mapping; the difference is that for
a sequence, the allowable keys should be the integers <em>k</em> for which <code class="docutils literal"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">k</span> <span class="pre">&lt;</span>
<span class="pre">N</span></code> where <em>N</em> is the length of the sequence, or slice objects, which define a
range of items. (For backwards compatibility, the method <a href="#object.__getslice__" title="object.__getslice__"><code class="xref py py-meth docutils literal"><span class="pre">__getslice__()</span></code></a>
(see below) can also be defined to handle simple, but not extended slices.) It
is also recommended that mappings provide the methods <code class="xref py py-meth docutils literal"><span class="pre">keys()</span></code>,
<code class="xref py py-meth docutils literal"><span class="pre">values()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">items()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">has_key()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">get()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">clear()</span></code>,
<code class="xref py py-meth docutils literal"><span class="pre">setdefault()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">iterkeys()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">itervalues()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">iteritems()</span></code>,
<code class="xref py py-meth docutils literal"><span class="pre">pop()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">popitem()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">copy()</span></code>, and <code class="xref py py-meth docutils literal"><span class="pre">update()</span></code> behaving similar
to those for Python’s standard dictionary objects.  The <a href="../library/userdict.html#module-UserDict" title="UserDict: Class wrapper for dictionary objects."><code class="xref py py-mod docutils literal"><span class="pre">UserDict</span></code></a> module
provides a <code class="xref py py-class docutils literal"><span class="pre">DictMixin</span></code> class to help create those methods from a base set
of <a href="#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code></a>, <a href="#object.__setitem__" title="object.__setitem__"><code class="xref py py-meth docutils literal"><span class="pre">__setitem__()</span></code></a>, <a href="#object.__delitem__" title="object.__delitem__"><code class="xref py py-meth docutils literal"><span class="pre">__delitem__()</span></code></a>, and
<code class="xref py py-meth docutils literal"><span class="pre">keys()</span></code>. Mutable sequences should provide methods <code class="xref py py-meth docutils literal"><span class="pre">append()</span></code>,
<code class="xref py py-meth docutils literal"><span class="pre">count()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">index()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">extend()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">insert()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">pop()</span></code>,
<code class="xref py py-meth docutils literal"><span class="pre">remove()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">reverse()</span></code> and <code class="xref py py-meth docutils literal"><span class="pre">sort()</span></code>, like Python standard list
objects.  Finally, sequence types should implement addition (meaning
concatenation) and multiplication (meaning repetition) by defining the methods
<a href="#object.__add__" title="object.__add__"><code class="xref py py-meth docutils literal"><span class="pre">__add__()</span></code></a>, <a href="#object.__radd__" title="object.__radd__"><code class="xref py py-meth docutils literal"><span class="pre">__radd__()</span></code></a>, <a href="#object.__iadd__" title="object.__iadd__"><code class="xref py py-meth docutils literal"><span class="pre">__iadd__()</span></code></a>, <a href="#object.__mul__" title="object.__mul__"><code class="xref py py-meth docutils literal"><span class="pre">__mul__()</span></code></a>,
<a href="#object.__rmul__" title="object.__rmul__"><code class="xref py py-meth docutils literal"><span class="pre">__rmul__()</span></code></a> and <a href="#object.__imul__" title="object.__imul__"><code class="xref py py-meth docutils literal"><span class="pre">__imul__()</span></code></a> described below; they should not define
<a href="#object.__coerce__" title="object.__coerce__"><code class="xref py py-meth docutils literal"><span class="pre">__coerce__()</span></code></a> or other numerical operators.  It is recommended that both
mappings and sequences implement the <a href="#object.__contains__" title="object.__contains__"><code class="xref py py-meth docutils literal"><span class="pre">__contains__()</span></code></a> method to allow
efficient use of the <code class="docutils literal"><span class="pre">in</span></code> operator; for mappings, <code class="docutils literal"><span class="pre">in</span></code> should be equivalent
of <code class="xref py py-meth docutils literal"><span class="pre">has_key()</span></code>; for sequences, it should search through the values.  It is
further recommended that both mappings and sequences implement the
<a href="#object.__iter__" title="object.__iter__"><code class="xref py py-meth docutils literal"><span class="pre">__iter__()</span></code></a> method to allow efficient iteration through the container; for
mappings, <a href="#object.__iter__" title="object.__iter__"><code class="xref py py-meth docutils literal"><span class="pre">__iter__()</span></code></a> should be the same as <code class="xref py py-meth docutils literal"><span class="pre">iterkeys()</span></code>; for
sequences, it should iterate through the values.</p>
<dl class="method">
<dt id="object.__len__">
<code class="descclassname">object.</code><code class="descname">__len__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dd><p id="index-88">Called to implement the built-in function <a href="../library/functions.html#len" title="len"><code class="xref py py-func docutils literal"><span class="pre">len()</span></code></a>.  Should return the length
of the object, an integer <code class="docutils literal"><span class="pre">&gt;=</span></code> 0.  Also, an object that doesn’t define a
<a href="#object.__nonzero__" title="object.__nonzero__"><code class="xref py py-meth docutils literal"><span class="pre">__nonzero__()</span></code></a> method and whose <a href="#object.__len__" title="object.__len__"><code class="xref py py-meth docutils literal"><span class="pre">__len__()</span></code></a> method returns zero is
considered to be false in a Boolean context.</p>
<div class="impl-detail compound">
<p><strong>CPython implementation detail:</strong> In CPython, the length is required to be at most <a href="../library/sys.html#sys.maxsize" title="sys.maxsize"><code class="xref py py-attr docutils literal"><span class="pre">sys.maxsize</span></code></a>.
If the length is larger than <code class="xref py py-attr docutils literal"><span class="pre">sys.maxsize</span></code> some features (such as
<a href="../library/functions.html#len" title="len"><code class="xref py py-func docutils literal"><span class="pre">len()</span></code></a>) may raise <a href="../library/exceptions.html#exceptions.OverflowError" title="exceptions.OverflowError"><code class="xref py py-exc docutils literal"><span class="pre">OverflowError</span></code></a>.  To prevent raising
<code class="xref py py-exc docutils literal"><span class="pre">OverflowError</span></code> by truth value testing, an object must define a
<a href="#object.__nonzero__" title="object.__nonzero__"><code class="xref py py-meth docutils literal"><span class="pre">__nonzero__()</span></code></a> method.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="object.__getitem__">
<code class="descclassname">object.</code><code class="descname">__getitem__</code><span class="sig-paren">(</span><em>self</em>, <em>key</em><span class="sig-paren">)</span><dd><p id="index-89">Called to implement evaluation of <code class="docutils literal"><span class="pre">self[key]</span></code>. For sequence types, the
accepted keys should be integers and slice objects.  Note that the special
interpretation of negative indexes (if the class wishes to emulate a sequence
type) is up to the <a href="#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code></a> method. If <em>key</em> is of an inappropriate
type, <a href="../library/exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> may be raised; if of a value outside the set of indexes
for the sequence (after any special interpretation of negative values),
<a href="../library/exceptions.html#exceptions.IndexError" title="exceptions.IndexError"><code class="xref py py-exc docutils literal"><span class="pre">IndexError</span></code></a> should be raised. For mapping types, if <em>key</em> is missing (not
in the container), <a href="../library/exceptions.html#exceptions.KeyError" title="exceptions.KeyError"><code class="xref py py-exc docutils literal"><span class="pre">KeyError</span></code></a> should be raised.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a href="#for"><code class="xref std std-keyword docutils literal"><span class="pre">for</span></code></a> loops expect that an <a href="../library/exceptions.html#exceptions.IndexError" title="exceptions.IndexError"><code class="xref py py-exc docutils literal"><span class="pre">IndexError</span></code></a> will be raised for illegal
indexes to allow proper detection of the end of the sequence.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="object.__missing__">
<code class="descclassname">object.</code><code class="descname">__missing__</code><span class="sig-paren">(</span><em>self</em>, <em>key</em><span class="sig-paren">)</span><dd><p>Called by <a href="../library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a>.<a href="#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code></a> to implement <code class="docutils literal"><span class="pre">self[key]</span></code> for dict subclasses
when key is not in the dictionary.</p>
</dd></dl>

<dl class="method">
<dt id="object.__setitem__">
<code class="descclassname">object.</code><code class="descname">__setitem__</code><span class="sig-paren">(</span><em>self</em>, <em>key</em>, <em>value</em><span class="sig-paren">)</span><dd><p>Called to implement assignment to <code class="docutils literal"><span class="pre">self[key]</span></code>.  Same note as for
<a href="#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code></a>.  This should only be implemented for mappings if the
objects support changes to the values for keys, or if new keys can be added, or
for sequences if elements can be replaced.  The same exceptions should be raised
for improper <em>key</em> values as for the <a href="#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code></a> method.</p>
</dd></dl>

<dl class="method">
<dt id="object.__delitem__">
<code class="descclassname">object.</code><code class="descname">__delitem__</code><span class="sig-paren">(</span><em>self</em>, <em>key</em><span class="sig-paren">)</span><dd><p>Called to implement deletion of <code class="docutils literal"><span class="pre">self[key]</span></code>.  Same note as for
<a href="#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code></a>.  This should only be implemented for mappings if the
objects support removal of keys, or for sequences if elements can be removed
from the sequence.  The same exceptions should be raised for improper <em>key</em>
values as for the <a href="#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code></a> method.</p>
</dd></dl>

<dl class="method">
<dt id="object.__iter__">
<code class="descclassname">object.</code><code class="descname">__iter__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dd><p>This method is called when an iterator is required for a container. This method
should return a new iterator object that can iterate over all the objects in the
container.  For mappings, it should iterate over the keys of the container, and
should also be made available as the method <code class="xref py py-meth docutils literal"><span class="pre">iterkeys()</span></code>.</p>
<p>Iterator objects also need to implement this method; they are required to return
themselves.  For more information on iterator objects, see <a href="../library/stdtypes.html#typeiter"><span class="std std-ref">Iterator Types</span></a>.</p>
</dd></dl>

<dl class="method">
<dt id="object.__reversed__">
<code class="descclassname">object.</code><code class="descname">__reversed__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dd><p>Called (if present) by the <a href="../library/functions.html#reversed" title="reversed"><code class="xref py py-func docutils literal"><span class="pre">reversed()</span></code></a> built-in to implement
reverse iteration.  It should return a new iterator object that iterates
over all the objects in the container in reverse order.</p>
<p>If the <a href="#object.__reversed__" title="object.__reversed__"><code class="xref py py-meth docutils literal"><span class="pre">__reversed__()</span></code></a> method is not provided, the <a href="../library/functions.html#reversed" title="reversed"><code class="xref py py-func docutils literal"><span class="pre">reversed()</span></code></a>
built-in will fall back to using the sequence protocol (<a href="#object.__len__" title="object.__len__"><code class="xref py py-meth docutils literal"><span class="pre">__len__()</span></code></a> and
<a href="#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code></a>).  Objects that support the sequence protocol should
only provide <a href="#object.__reversed__" title="object.__reversed__"><code class="xref py py-meth docutils literal"><span class="pre">__reversed__()</span></code></a> if they can provide an implementation
that is more efficient than the one provided by <a href="../library/functions.html#reversed" title="reversed"><code class="xref py py-func docutils literal"><span class="pre">reversed()</span></code></a>.</p>
<div class="versionadded">
<p><span>New in version 2.6.</span></p>
</div>
</dd></dl>

<p>The membership test operators (<a href="#in"><code class="xref std std-keyword docutils literal"><span class="pre">in</span></code></a> and <a href="#not-in"><code class="xref std std-keyword docutils literal"><span class="pre">not</span> <span class="pre">in</span></code></a>) are normally
implemented as an iteration through a sequence.  However, container objects can
supply the following special method with a more efficient implementation, which
also does not require the object be a sequence.</p>
<dl class="method">
<dt id="object.__contains__">
<code class="descclassname">object.</code><code class="descname">__contains__</code><span class="sig-paren">(</span><em>self</em>, <em>item</em><span class="sig-paren">)</span><dd><p>Called to implement membership test operators.  Should return true if <em>item</em>
is in <em>self</em>, false otherwise.  For mapping objects, this should consider the
keys of the mapping rather than the values or the key-item pairs.</p>
<p>For objects that don’t define <a href="#object.__contains__" title="object.__contains__"><code class="xref py py-meth docutils literal"><span class="pre">__contains__()</span></code></a>, the membership test first
tries iteration via <a href="#object.__iter__" title="object.__iter__"><code class="xref py py-meth docutils literal"><span class="pre">__iter__()</span></code></a>, then the old sequence iteration
protocol via <a href="#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code></a>, see <a href="#membership-test-details"><span class="std std-ref">this section in the language
reference</span></a>.</p>
</dd></dl>

</div>
<div class="section" id="additional-methods-for-emulation-of-sequence-types">
<span id="sequence-methods"></span><h3>3.4.7. Additional methods for emulation of sequence types</h3>
<p>The following optional methods can be defined to further emulate sequence
objects.  Immutable sequences methods should at most only define
<a href="#object.__getslice__" title="object.__getslice__"><code class="xref py py-meth docutils literal"><span class="pre">__getslice__()</span></code></a>; mutable sequences might define all three methods.</p>
<dl class="method">
<dt id="object.__getslice__">
<code class="descclassname">object.</code><code class="descname">__getslice__</code><span class="sig-paren">(</span><em>self</em>, <em>i</em>, <em>j</em><span class="sig-paren">)</span><dd><div class="deprecated">
<p><span>Deprecated since version 2.0: </span>Support slice objects as parameters to the <a href="#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code></a> method.
(However, built-in types in CPython currently still implement
<a href="#object.__getslice__" title="object.__getslice__"><code class="xref py py-meth docutils literal"><span class="pre">__getslice__()</span></code></a>.  Therefore, you have to override it in derived
classes when implementing slicing.)</p>
</div>
<p>Called to implement evaluation of <code class="docutils literal"><span class="pre">self[i:j]</span></code>. The returned object should
be of the same type as <em>self</em>.  Note that missing <em>i</em> or <em>j</em> in the slice
expression are replaced by zero or <a href="../library/sys.html#sys.maxsize" title="sys.maxsize"><code class="xref py py-attr docutils literal"><span class="pre">sys.maxsize</span></code></a>, respectively.  If
negative indexes are used in the slice, the length of the sequence is added
to that index. If the instance does not implement the <a href="#object.__len__" title="object.__len__"><code class="xref py py-meth docutils literal"><span class="pre">__len__()</span></code></a> method,
an <a href="../library/exceptions.html#exceptions.AttributeError" title="exceptions.AttributeError"><code class="xref py py-exc docutils literal"><span class="pre">AttributeError</span></code></a> is raised. No guarantee is made that indexes
adjusted this way are not still negative.  Indexes which are greater than the
length of the sequence are not modified. If no <a href="#object.__getslice__" title="object.__getslice__"><code class="xref py py-meth docutils literal"><span class="pre">__getslice__()</span></code></a> is found,
a slice object is created instead, and passed to <a href="#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code></a> instead.</p>
</dd></dl>

<dl class="method">
<dt id="object.__setslice__">
<code class="descclassname">object.</code><code class="descname">__setslice__</code><span class="sig-paren">(</span><em>self</em>, <em>i</em>, <em>j</em>, <em>sequence</em><span class="sig-paren">)</span><dd><p>Called to implement assignment to <code class="docutils literal"><span class="pre">self[i:j]</span></code>. Same notes for <em>i</em> and <em>j</em> as
for <a href="#object.__getslice__" title="object.__getslice__"><code class="xref py py-meth docutils literal"><span class="pre">__getslice__()</span></code></a>.</p>
<p>This method is deprecated. If no <a href="#object.__setslice__" title="object.__setslice__"><code class="xref py py-meth docutils literal"><span class="pre">__setslice__()</span></code></a> is found, or for extended
slicing of the form <code class="docutils literal"><span class="pre">self[i:j:k]</span></code>, a slice object is created, and passed to
<a href="#object.__setitem__" title="object.__setitem__"><code class="xref py py-meth docutils literal"><span class="pre">__setitem__()</span></code></a>, instead of <a href="#object.__setslice__" title="object.__setslice__"><code class="xref py py-meth docutils literal"><span class="pre">__setslice__()</span></code></a> being called.</p>
</dd></dl>

<dl class="method">
<dt id="object.__delslice__">
<code class="descclassname">object.</code><code class="descname">__delslice__</code><span class="sig-paren">(</span><em>self</em>, <em>i</em>, <em>j</em><span class="sig-paren">)</span><dd><p>Called to implement deletion of <code class="docutils literal"><span class="pre">self[i:j]</span></code>. Same notes for <em>i</em> and <em>j</em> as for
<a href="#object.__getslice__" title="object.__getslice__"><code class="xref py py-meth docutils literal"><span class="pre">__getslice__()</span></code></a>. This method is deprecated. If no <a href="#object.__delslice__" title="object.__delslice__"><code class="xref py py-meth docutils literal"><span class="pre">__delslice__()</span></code></a> is
found, or for extended slicing of the form <code class="docutils literal"><span class="pre">self[i:j:k]</span></code>, a slice object is
created, and passed to <a href="#object.__delitem__" title="object.__delitem__"><code class="xref py py-meth docutils literal"><span class="pre">__delitem__()</span></code></a>, instead of <a href="#object.__delslice__" title="object.__delslice__"><code class="xref py py-meth docutils literal"><span class="pre">__delslice__()</span></code></a>
being called.</p>
</dd></dl>

<p>Notice that these methods are only invoked when a single slice with a single
colon is used, and the slice method is available.  For slice operations
involving extended slice notation, or in absence of the slice methods,
<a href="#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code></a>, <a href="#object.__setitem__" title="object.__setitem__"><code class="xref py py-meth docutils literal"><span class="pre">__setitem__()</span></code></a> or <a href="#object.__delitem__" title="object.__delitem__"><code class="xref py py-meth docutils literal"><span class="pre">__delitem__()</span></code></a> is called with a
slice object as argument.</p>
<p>The following example demonstrate how to make your program or module compatible
with earlier versions of Python (assuming that methods <a href="#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code></a>,
<a href="#object.__setitem__" title="object.__setitem__"><code class="xref py py-meth docutils literal"><span class="pre">__setitem__()</span></code></a> and <a href="#object.__delitem__" title="object.__delitem__"><code class="xref py py-meth docutils literal"><span class="pre">__delitem__()</span></code></a> support slice objects as
arguments):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="o">...</span>
    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="o">...</span>
    <span class="k">def</span> <span class="nf">__delitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
        <span class="c1"># They won&#39;t be defined if version is at least 2.0 final</span>

        <span class="k">def</span> <span class="nf">__getslice__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span><span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="p">):]</span>
        <span class="k">def</span> <span class="nf">__setslice__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">seq</span><span class="p">):</span>
            <span class="bp">self</span><span class="p">[</span><span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span><span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="p">):]</span> <span class="o">=</span> <span class="n">seq</span>
        <span class="k">def</span> <span class="nf">__delslice__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span>
            <span class="k">del</span> <span class="bp">self</span><span class="p">[</span><span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span><span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="p">):]</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Note the calls to <a href="../library/functions.html#max" title="max"><code class="xref py py-func docutils literal"><span class="pre">max()</span></code></a>; these are necessary because of the handling of
negative indices before the <code class="xref py py-meth docutils literal"><span class="pre">__*slice__()</span></code> methods are called.  When
negative indexes are used, the <code class="xref py py-meth docutils literal"><span class="pre">__*item__()</span></code> methods receive them as
provided, but the <code class="xref py py-meth docutils literal"><span class="pre">__*slice__()</span></code> methods get a “cooked” form of the index
values.  For each negative index value, the length of the sequence is added to
the index before calling the method (which may still result in a negative
index); this is the customary handling of negative indexes by the built-in
sequence types, and the <code class="xref py py-meth docutils literal"><span class="pre">__*item__()</span></code> methods are expected to do this as
well.  However, since they should already be doing that, negative indexes cannot
be passed in; they must be constrained to the bounds of the sequence before
being passed to the <code class="xref py py-meth docutils literal"><span class="pre">__*item__()</span></code> methods. Calling <code class="docutils literal"><span class="pre">max(0,</span> <span class="pre">i)</span></code>
conveniently returns the proper value.</p>
</div>
<div class="section" id="emulating-numeric-types">
<span id="numeric-types"></span><h3>3.4.8. Emulating numeric types</h3>
<p>The following methods can be defined to emulate numeric objects. Methods
corresponding to operations that are not supported by the particular kind of
number implemented (e.g., bitwise operations for non-integral numbers) should be
left undefined.</p>
<dl class="method">
<dt id="object.__add__">
<code class="descclassname">object.</code><code class="descname">__add__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__sub__">
<code class="descclassname">object.</code><code class="descname">__sub__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__mul__">
<code class="descclassname">object.</code><code class="descname">__mul__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__floordiv__">
<code class="descclassname">object.</code><code class="descname">__floordiv__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__mod__">
<code class="descclassname">object.</code><code class="descname">__mod__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__divmod__">
<code class="descclassname">object.</code><code class="descname">__divmod__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__pow__">
<code class="descclassname">object.</code><code class="descname">__pow__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="optional">[</span>, <em>modulo</em><span class="optional">]</span><span class="sig-paren">)</span><dt id="object.__lshift__">
<code class="descclassname">object.</code><code class="descname">__lshift__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__rshift__">
<code class="descclassname">object.</code><code class="descname">__rshift__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__and__">
<code class="descclassname">object.</code><code class="descname">__and__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__xor__">
<code class="descclassname">object.</code><code class="descname">__xor__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__or__">
<code class="descclassname">object.</code><code class="descname">__or__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dd><p id="index-90">These methods are called to implement the binary arithmetic operations (<code class="docutils literal"><span class="pre">+</span></code>,
<code class="docutils literal"><span class="pre">-</span></code>, <code class="docutils literal"><span class="pre">*</span></code>, <code class="docutils literal"><span class="pre">//</span></code>, <code class="docutils literal"><span class="pre">%</span></code>, <a href="../library/functions.html#divmod" title="divmod"><code class="xref py py-func docutils literal"><span class="pre">divmod()</span></code></a>, <a href="../library/functions.html#pow" title="pow"><code class="xref py py-func docutils literal"><span class="pre">pow()</span></code></a>, <code class="docutils literal"><span class="pre">**</span></code>, <code class="docutils literal"><span class="pre">&lt;&lt;</span></code>,
<code class="docutils literal"><span class="pre">&gt;&gt;</span></code>, <code class="docutils literal"><span class="pre">&amp;</span></code>, <code class="docutils literal"><span class="pre">^</span></code>, <code class="docutils literal"><span class="pre">|</span></code>).  For instance, to evaluate the expression
<code class="docutils literal"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span></code>, where <em>x</em> is an instance of a class that has an <a href="#object.__add__" title="object.__add__"><code class="xref py py-meth docutils literal"><span class="pre">__add__()</span></code></a>
method, <code class="docutils literal"><span class="pre">x.__add__(y)</span></code> is called.  The <a href="#object.__divmod__" title="object.__divmod__"><code class="xref py py-meth docutils literal"><span class="pre">__divmod__()</span></code></a> method should be the
equivalent to using <a href="#object.__floordiv__" title="object.__floordiv__"><code class="xref py py-meth docutils literal"><span class="pre">__floordiv__()</span></code></a> and <a href="#object.__mod__" title="object.__mod__"><code class="xref py py-meth docutils literal"><span class="pre">__mod__()</span></code></a>; it should not be
related to <a href="#object.__truediv__" title="object.__truediv__"><code class="xref py py-meth docutils literal"><span class="pre">__truediv__()</span></code></a> (described below).  Note that <a href="#object.__pow__" title="object.__pow__"><code class="xref py py-meth docutils literal"><span class="pre">__pow__()</span></code></a>
should be defined to accept an optional third argument if the ternary version of
the built-in <a href="../library/functions.html#pow" title="pow"><code class="xref py py-func docutils literal"><span class="pre">pow()</span></code></a> function is to be supported.</p>
<p>If one of those methods does not support the operation with the supplied
arguments, it should return <code class="docutils literal"><span class="pre">NotImplemented</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="object.__div__">
<code class="descclassname">object.</code><code class="descname">__div__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__truediv__">
<code class="descclassname">object.</code><code class="descname">__truediv__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dd><p>The division operator (<code class="docutils literal"><span class="pre">/</span></code>) is implemented by these methods.  The
<a href="#object.__truediv__" title="object.__truediv__"><code class="xref py py-meth docutils literal"><span class="pre">__truediv__()</span></code></a> method is used when <code class="docutils literal"><span class="pre">__future__.division</span></code> is in effect,
otherwise <a href="#object.__div__" title="object.__div__"><code class="xref py py-meth docutils literal"><span class="pre">__div__()</span></code></a> is used.  If only one of these two methods is defined,
the object will not support division in the alternate context; <a href="../library/exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a>
will be raised instead.</p>
</dd></dl>

<dl class="method">
<dt id="object.__radd__">
<code class="descclassname">object.</code><code class="descname">__radd__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__rsub__">
<code class="descclassname">object.</code><code class="descname">__rsub__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__rmul__">
<code class="descclassname">object.</code><code class="descname">__rmul__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__rdiv__">
<code class="descclassname">object.</code><code class="descname">__rdiv__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__rtruediv__">
<code class="descclassname">object.</code><code class="descname">__rtruediv__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__rfloordiv__">
<code class="descclassname">object.</code><code class="descname">__rfloordiv__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__rmod__">
<code class="descclassname">object.</code><code class="descname">__rmod__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__rdivmod__">
<code class="descclassname">object.</code><code class="descname">__rdivmod__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__rpow__">
<code class="descclassname">object.</code><code class="descname">__rpow__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__rlshift__">
<code class="descclassname">object.</code><code class="descname">__rlshift__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__rrshift__">
<code class="descclassname">object.</code><code class="descname">__rrshift__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__rand__">
<code class="descclassname">object.</code><code class="descname">__rand__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__rxor__">
<code class="descclassname">object.</code><code class="descname">__rxor__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__ror__">
<code class="descclassname">object.</code><code class="descname">__ror__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dd><p id="index-91">These methods are called to implement the binary arithmetic operations (<code class="docutils literal"><span class="pre">+</span></code>,
<code class="docutils literal"><span class="pre">-</span></code>, <code class="docutils literal"><span class="pre">*</span></code>, <code class="docutils literal"><span class="pre">/</span></code>, <code class="docutils literal"><span class="pre">%</span></code>, <a href="../library/functions.html#divmod" title="divmod"><code class="xref py py-func docutils literal"><span class="pre">divmod()</span></code></a>, <a href="../library/functions.html#pow" title="pow"><code class="xref py py-func docutils literal"><span class="pre">pow()</span></code></a>, <code class="docutils literal"><span class="pre">**</span></code>, <code class="docutils literal"><span class="pre">&lt;&lt;</span></code>, <code class="docutils literal"><span class="pre">&gt;&gt;</span></code>,
<code class="docutils literal"><span class="pre">&amp;</span></code>, <code class="docutils literal"><span class="pre">^</span></code>, <code class="docutils literal"><span class="pre">|</span></code>) with reflected (swapped) operands.  These functions are
only called if the left operand does not support the corresponding operation and
the operands are of different types. <a class="footnote-reference" href="#id6" id="id3">[2]</a> For instance, to evaluate the
expression <code class="docutils literal"><span class="pre">x</span> <span class="pre">-</span> <span class="pre">y</span></code>, where <em>y</em> is an instance of a class that has an
<a href="#object.__rsub__" title="object.__rsub__"><code class="xref py py-meth docutils literal"><span class="pre">__rsub__()</span></code></a> method, <code class="docutils literal"><span class="pre">y.__rsub__(x)</span></code> is called if <code class="docutils literal"><span class="pre">x.__sub__(y)</span></code> returns
<em>NotImplemented</em>.</p>
<p id="index-92">Note that ternary <a href="../library/functions.html#pow" title="pow"><code class="xref py py-func docutils literal"><span class="pre">pow()</span></code></a> will not try calling <a href="#object.__rpow__" title="object.__rpow__"><code class="xref py py-meth docutils literal"><span class="pre">__rpow__()</span></code></a> (the
coercion rules would become too complicated).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the right operand’s type is a subclass of the left operand’s type and that
subclass provides the reflected method for the operation, this method will be
called before the left operand’s non-reflected method.  This behavior allows
subclasses to override their ancestors’ operations.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="object.__iadd__">
<code class="descclassname">object.</code><code class="descname">__iadd__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__isub__">
<code class="descclassname">object.</code><code class="descname">__isub__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__imul__">
<code class="descclassname">object.</code><code class="descname">__imul__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__idiv__">
<code class="descclassname">object.</code><code class="descname">__idiv__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__itruediv__">
<code class="descclassname">object.</code><code class="descname">__itruediv__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__ifloordiv__">
<code class="descclassname">object.</code><code class="descname">__ifloordiv__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__imod__">
<code class="descclassname">object.</code><code class="descname">__imod__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__ipow__">
<code class="descclassname">object.</code><code class="descname">__ipow__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="optional">[</span>, <em>modulo</em><span class="optional">]</span><span class="sig-paren">)</span><dt id="object.__ilshift__">
<code class="descclassname">object.</code><code class="descname">__ilshift__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__irshift__">
<code class="descclassname">object.</code><code class="descname">__irshift__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__iand__">
<code class="descclassname">object.</code><code class="descname">__iand__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__ixor__">
<code class="descclassname">object.</code><code class="descname">__ixor__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dt id="object.__ior__">
<code class="descclassname">object.</code><code class="descname">__ior__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dd><p>These methods are called to implement the augmented arithmetic assignments
(<code class="docutils literal"><span class="pre">+=</span></code>, <code class="docutils literal"><span class="pre">-=</span></code>, <code class="docutils literal"><span class="pre">*=</span></code>, <code class="docutils literal"><span class="pre">/=</span></code>, <code class="docutils literal"><span class="pre">//=</span></code>, <code class="docutils literal"><span class="pre">%=</span></code>, <code class="docutils literal"><span class="pre">**=</span></code>, <code class="docutils literal"><span class="pre">&lt;&lt;=</span></code>, <code class="docutils literal"><span class="pre">&gt;&gt;=</span></code>,
<code class="docutils literal"><span class="pre">&amp;=</span></code>, <code class="docutils literal"><span class="pre">^=</span></code>, <code class="docutils literal"><span class="pre">|=</span></code>).  These methods should attempt to do the operation
in-place (modifying <em>self</em>) and return the result (which could be, but does
not have to be, <em>self</em>).  If a specific method is not defined, the augmented
assignment falls back to the normal methods.  For instance, to execute the
statement <code class="docutils literal"><span class="pre">x</span> <span class="pre">+=</span> <span class="pre">y</span></code>, where <em>x</em> is an instance of a class that has an
<a href="#object.__iadd__" title="object.__iadd__"><code class="xref py py-meth docutils literal"><span class="pre">__iadd__()</span></code></a> method, <code class="docutils literal"><span class="pre">x.__iadd__(y)</span></code> is called.  If <em>x</em> is an instance
of a class that does not define a <a href="#object.__iadd__" title="object.__iadd__"><code class="xref py py-meth docutils literal"><span class="pre">__iadd__()</span></code></a> method, <code class="docutils literal"><span class="pre">x.__add__(y)</span></code>
and <code class="docutils literal"><span class="pre">y.__radd__(x)</span></code> are considered, as with the evaluation of <code class="docutils literal"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="object.__neg__">
<code class="descclassname">object.</code><code class="descname">__neg__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dt id="object.__pos__">
<code class="descclassname">object.</code><code class="descname">__pos__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dt id="object.__abs__">
<code class="descclassname">object.</code><code class="descname">__abs__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dt id="object.__invert__">
<code class="descclassname">object.</code><code class="descname">__invert__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dd><p id="index-93">Called to implement the unary arithmetic operations (<code class="docutils literal"><span class="pre">-</span></code>, <code class="docutils literal"><span class="pre">+</span></code>, <a href="../library/functions.html#abs" title="abs"><code class="xref py py-func docutils literal"><span class="pre">abs()</span></code></a>
and <code class="docutils literal"><span class="pre">~</span></code>).</p>
</dd></dl>

<dl class="method">
<dt id="object.__complex__">
<code class="descclassname">object.</code><code class="descname">__complex__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dt id="object.__int__">
<code class="descclassname">object.</code><code class="descname">__int__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dt id="object.__long__">
<code class="descclassname">object.</code><code class="descname">__long__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dt id="object.__float__">
<code class="descclassname">object.</code><code class="descname">__float__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dd><p id="index-94">Called to implement the built-in functions <a href="../library/functions.html#complex" title="complex"><code class="xref py py-func docutils literal"><span class="pre">complex()</span></code></a>, <a href="../library/functions.html#int" title="int"><code class="xref py py-func docutils literal"><span class="pre">int()</span></code></a>,
<a href="../library/functions.html#long" title="long"><code class="xref py py-func docutils literal"><span class="pre">long()</span></code></a>, and <a href="../library/functions.html#float" title="float"><code class="xref py py-func docutils literal"><span class="pre">float()</span></code></a>.  Should return a value of the appropriate type.</p>
</dd></dl>

<dl class="method">
<dt id="object.__oct__">
<code class="descclassname">object.</code><code class="descname">__oct__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dt id="object.__hex__">
<code class="descclassname">object.</code><code class="descname">__hex__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dd><p id="index-95">Called to implement the built-in functions <a href="../library/functions.html#oct" title="oct"><code class="xref py py-func docutils literal"><span class="pre">oct()</span></code></a> and <a href="../library/functions.html#hex" title="hex"><code class="xref py py-func docutils literal"><span class="pre">hex()</span></code></a>.  Should
return a string value.</p>
</dd></dl>

<dl class="method">
<dt id="object.__index__">
<code class="descclassname">object.</code><code class="descname">__index__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dd><p>Called to implement <a href="../library/operator.html#operator.index" title="operator.index"><code class="xref py py-func docutils literal"><span class="pre">operator.index()</span></code></a>.  Also called whenever Python needs
an integer object (such as in slicing).  Must return an integer (int or long).</p>
<div class="versionadded">
<p><span>New in version 2.5.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="object.__coerce__">
<code class="descclassname">object.</code><code class="descname">__coerce__</code><span class="sig-paren">(</span><em>self</em>, <em>other</em><span class="sig-paren">)</span><dd><p>Called to implement “mixed-mode” numeric arithmetic.  Should either return a
2-tuple containing <em>self</em> and <em>other</em> converted to a common numeric type, or
<code class="docutils literal"><span class="pre">None</span></code> if conversion is impossible.  When the common type would be the type of
<code class="docutils literal"><span class="pre">other</span></code>, it is sufficient to return <code class="docutils literal"><span class="pre">None</span></code>, since the interpreter will also
ask the other object to attempt a coercion (but sometimes, if the implementation
of the other type cannot be changed, it is useful to do the conversion to the
other type here).  A return value of <code class="docutils literal"><span class="pre">NotImplemented</span></code> is equivalent to
returning <code class="docutils literal"><span class="pre">None</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="coercion-rules">
<span id="id4"></span><h3>3.4.9. Coercion rules</h3>
<p>This section used to document the rules for coercion.  As the language has
evolved, the coercion rules have become hard to document precisely; documenting
what one version of one particular implementation does is undesirable.  Instead,
here are some informal guidelines regarding coercion.  In Python 3, coercion
will not be supported.</p>
<ul>
<li><p class="first">If the left operand of a % operator is a string or Unicode object, no coercion
takes place and the string formatting operation is invoked instead.</p>
</li>
<li><p class="first">It is no longer recommended to define a coercion operation. Mixed-mode
operations on types that don’t define coercion pass the original arguments to
the operation.</p>
</li>
<li><p class="first">New-style classes (those derived from <a href="../library/functions.html#object" title="object"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a>) never invoke the
<a href="#object.__coerce__" title="object.__coerce__"><code class="xref py py-meth docutils literal"><span class="pre">__coerce__()</span></code></a> method in response to a binary operator; the only time
<a href="#object.__coerce__" title="object.__coerce__"><code class="xref py py-meth docutils literal"><span class="pre">__coerce__()</span></code></a> is invoked is when the built-in function <a href="../library/functions.html#coerce" title="coerce"><code class="xref py py-func docutils literal"><span class="pre">coerce()</span></code></a> is
called.</p>
</li>
<li><p class="first">For most intents and purposes, an operator that returns <code class="docutils literal"><span class="pre">NotImplemented</span></code> is
treated the same as one that is not implemented at all.</p>
</li>
<li><p class="first">Below, <code class="xref py py-meth docutils literal"><span class="pre">__op__()</span></code> and <code class="xref py py-meth docutils literal"><span class="pre">__rop__()</span></code> are used to signify the generic method
names corresponding to an operator; <code class="xref py py-meth docutils literal"><span class="pre">__iop__()</span></code> is used for the
corresponding in-place operator.  For example, for the operator ‘<code class="docutils literal"><span class="pre">+</span></code>’,
<a href="#object.__add__" title="object.__add__"><code class="xref py py-meth docutils literal"><span class="pre">__add__()</span></code></a> and <a href="#object.__radd__" title="object.__radd__"><code class="xref py py-meth docutils literal"><span class="pre">__radd__()</span></code></a> are used for the left and right variant of
the binary operator, and <a href="#object.__iadd__" title="object.__iadd__"><code class="xref py py-meth docutils literal"><span class="pre">__iadd__()</span></code></a> for the in-place variant.</p>
</li>
<li><p class="first">For objects <em>x</em> and <em>y</em>, first <code class="docutils literal"><span class="pre">x.__op__(y)</span></code> is tried.  If this is not
implemented or returns <code class="docutils literal"><span class="pre">NotImplemented</span></code>, <code class="docutils literal"><span class="pre">y.__rop__(x)</span></code> is tried.  If this
is also not implemented or returns <code class="docutils literal"><span class="pre">NotImplemented</span></code>, a <a href="../library/exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a>
exception is raised.  But see the following exception:</p>
</li>
<li><p class="first">Exception to the previous item: if the left operand is an instance of a built-in
type or a new-style class, and the right operand is an instance of a proper
subclass of that type or class and overrides the base’s <code class="xref py py-meth docutils literal"><span class="pre">__rop__()</span></code> method,
the right operand’s <code class="xref py py-meth docutils literal"><span class="pre">__rop__()</span></code> method is tried <em>before</em> the left operand’s
<code class="xref py py-meth docutils literal"><span class="pre">__op__()</span></code> method.</p>
<p>This is done so that a subclass can completely override binary operators.
Otherwise, the left operand’s <code class="xref py py-meth docutils literal"><span class="pre">__op__()</span></code> method would always accept the
right operand: when an instance of a given class is expected, an instance of a
subclass of that class is always acceptable.</p>
</li>
<li><p class="first">When either operand type defines a coercion, this coercion is called before that
type’s <code class="xref py py-meth docutils literal"><span class="pre">__op__()</span></code> or <code class="xref py py-meth docutils literal"><span class="pre">__rop__()</span></code> method is called, but no sooner.  If
the coercion returns an object of a different type for the operand whose
coercion is invoked, part of the process is redone using the new object.</p>
</li>
<li><p class="first">When an in-place operator (like ‘<code class="docutils literal"><span class="pre">+=</span></code>’) is used, if the left operand
implements <code class="xref py py-meth docutils literal"><span class="pre">__iop__()</span></code>, it is invoked without any coercion.  When the
operation falls back to <code class="xref py py-meth docutils literal"><span class="pre">__op__()</span></code> and/or <code class="xref py py-meth docutils literal"><span class="pre">__rop__()</span></code>, the normal
coercion rules apply.</p>
</li>
<li><p class="first">In <code class="docutils literal"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span></code>, if <em>x</em> is a sequence that implements sequence concatenation,
sequence concatenation is invoked.</p>
</li>
<li><p class="first">In <code class="docutils literal"><span class="pre">x</span> <span class="pre">*</span> <span class="pre">y</span></code>, if one operand is a sequence that implements sequence
repetition, and the other is an integer (<a href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></a> or <a href="../library/functions.html#long" title="long"><code class="xref py py-class docutils literal"><span class="pre">long</span></code></a>),
sequence repetition is invoked.</p>
</li>
<li><p class="first">Rich comparisons (implemented by methods <a href="#object.__eq__" title="object.__eq__"><code class="xref py py-meth docutils literal"><span class="pre">__eq__()</span></code></a> and so on) never use
coercion.  Three-way comparison (implemented by <a href="#object.__cmp__" title="object.__cmp__"><code class="xref py py-meth docutils literal"><span class="pre">__cmp__()</span></code></a>) does use
coercion under the same conditions as other binary operations use it.</p>
</li>
<li><p class="first">In the current implementation, the built-in numeric types <a href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></a>,
<a href="../library/functions.html#long" title="long"><code class="xref py py-class docutils literal"><span class="pre">long</span></code></a>, <a href="../library/functions.html#float" title="float"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>, and <a href="../library/functions.html#complex" title="complex"><code class="xref py py-class docutils literal"><span class="pre">complex</span></code></a> do not use coercion.
All these types implement a <a href="#object.__coerce__" title="object.__coerce__"><code class="xref py py-meth docutils literal"><span class="pre">__coerce__()</span></code></a> method, for use by the built-in
<a href="../library/functions.html#coerce" title="coerce"><code class="xref py py-func docutils literal"><span class="pre">coerce()</span></code></a> function.</p>
<div class="versionchanged">
<p><span>Changed in version 2.7: </span>The complex type no longer makes implicit calls to the <a href="#object.__coerce__" title="object.__coerce__"><code class="xref py py-meth docutils literal"><span class="pre">__coerce__()</span></code></a>
method for mixed-type binary arithmetic operations.</p>
</div>
</li>
</ul>
</div>
<div class="section" id="with-statement-context-managers">
<span id="context-managers"></span><h3>3.4.10. With Statement Context Managers</h3>
<div class="versionadded">
<p><span>New in version 2.5.</span></p>
</div>
<p>A <em class="dfn">context manager</em> is an object that defines the runtime context to be
established when executing a <a href="#with"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a> statement. The context manager
handles the entry into, and the exit from, the desired runtime context for the
execution of the block of code.  Context managers are normally invoked using the
<a href="#with"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a> statement (described in section <a href="#with"><span class="std std-ref">The with statement</span></a>), but can also be
used by directly invoking their methods.</p>
<p id="index-96">Typical uses of context managers include saving and restoring various kinds of
global state, locking and unlocking resources, closing opened files, etc.</p>
<p>For more information on context managers, see <a href="../library/stdtypes.html#typecontextmanager"><span class="std std-ref">Context Manager Types</span></a>.</p>
<dl class="method">
<dt id="object.__enter__">
<code class="descclassname">object.</code><code class="descname">__enter__</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><dd><p>Enter the runtime context related to this object. The <a href="#with"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a> statement
will bind this method’s return value to the target(s) specified in the
<a href="#as"><code class="xref std std-keyword docutils literal"><span class="pre">as</span></code></a> clause of the statement, if any.</p>
</dd></dl>

<dl class="method">
<dt id="object.__exit__">
<code class="descclassname">object.</code><code class="descname">__exit__</code><span class="sig-paren">(</span><em>self</em>, <em>exc_type</em>, <em>exc_value</em>, <em>traceback</em><span class="sig-paren">)</span><dd><p>Exit the runtime context related to this object. The parameters describe the
exception that caused the context to be exited. If the context was exited
without an exception, all three arguments will be <a href="../library/constants.html#None" title="None"><code class="xref py py-const docutils literal"><span class="pre">None</span></code></a>.</p>
<p>If an exception is supplied, and the method wishes to suppress the exception
(i.e., prevent it from being propagated), it should return a true value.
Otherwise, the exception will be processed normally upon exit from this method.</p>
<p>Note that <a href="#object.__exit__" title="object.__exit__"><code class="xref py py-meth docutils literal"><span class="pre">__exit__()</span></code></a> methods should not reraise the passed-in exception;
this is the caller’s responsibility.</p>
</dd></dl>

<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><span class="target" id="index-97"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0343"><strong>PEP 343</strong></a> - The “with” statement</dt>
<dd>The specification, background, and examples for the Python <a href="#with"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a>
statement.</dd>
</dl>
</div>
</div>
<div class="section" id="special-method-lookup-for-old-style-classes">
<span id="old-style-special-lookup"></span><h3>3.4.11. Special method lookup for old-style classes</h3>
<p>For old-style classes, special methods are always looked up in exactly the
same way as any other method or attribute. This is the case regardless of
whether the method is being looked up explicitly as in <code class="docutils literal"><span class="pre">x.__getitem__(i)</span></code>
or implicitly as in <code class="docutils literal"><span class="pre">x[i]</span></code>.</p>
<p>This behaviour means that special methods may exhibit different behaviour
for different instances of a single old-style class if the appropriate
special attributes are set differently:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">C</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c2</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span><span class="o">.</span><span class="fm">__len__</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c2</span><span class="o">.</span><span class="fm">__len__</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="mi">9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span>
<span class="go">9</span>
</pre></div>
</div>
</div>
<div class="section" id="special-method-lookup-for-new-style-classes">
<span id="new-style-special-lookup"></span><h3>3.4.12. Special method lookup for new-style classes</h3>
<p>For new-style classes, implicit invocations of special methods are only guaranteed
to work correctly if defined on an object’s type, not in the object’s instance
dictionary.  That behaviour is the reason why the following code raises an
exception (unlike the equivalent example with old-style classes):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="fm">__len__</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">TypeError</span>: <span class="n">object of type &#39;C&#39; has no len()</span>
</pre></div>
</div>
<p>The rationale behind this behaviour lies with a number of special methods such
as <a href="#object.__hash__" title="object.__hash__"><code class="xref py py-meth docutils literal"><span class="pre">__hash__()</span></code></a> and <a href="#object.__repr__" title="object.__repr__"><code class="xref py py-meth docutils literal"><span class="pre">__repr__()</span></code></a> that are implemented by all objects,
including type objects. If the implicit lookup of these methods used the
conventional lookup process, they would fail when invoked on the type object
itself:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mi">1</span> <span class="o">.</span><span class="fm">__hash__</span><span class="p">()</span> <span class="o">==</span> <span class="nb">hash</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="o">.</span><span class="fm">__hash__</span><span class="p">()</span> <span class="o">==</span> <span class="nb">hash</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">TypeError</span>: <span class="n">descriptor &#39;__hash__&#39; of &#39;int&#39; object needs an argument</span>
</pre></div>
</div>
<p>Incorrectly attempting to invoke an unbound method of a class in this way is
sometimes referred to as ‘metaclass confusion’, and is avoided by bypassing
the instance when looking up special methods:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="fm">__hash__</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="nb">hash</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">.</span><span class="fm">__hash__</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">==</span> <span class="nb">hash</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>In addition to bypassing any instance attributes in the interest of
correctness, implicit special method lookup generally also bypasses the
<a href="#object.__getattribute__" title="object.__getattribute__"><code class="xref py py-meth docutils literal"><span class="pre">__getattribute__()</span></code></a> method even of the object’s metaclass:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Meta</span><span class="p">(</span><span class="nb">type</span><span class="p">):</span>
<span class="gp">... </span>   <span class="k">def</span> <span class="nf">__getattribute__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="gp">... </span>      <span class="nb">print</span> <span class="s2">&quot;Metaclass getattribute invoked&quot;</span>
<span class="gp">... </span>      <span class="k">return</span> <span class="nb">type</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">__metaclass__</span> <span class="o">=</span> <span class="n">Meta</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="mi">10</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__getattribute__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span> <span class="s2">&quot;Class getattribute invoked&quot;</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="nb">object</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="fm">__len__</span><span class="p">()</span>                 <span class="c1"># Explicit lookup via instance</span>
<span class="go">Class getattribute invoked</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="fm">__len__</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>          <span class="c1"># Explicit lookup via type</span>
<span class="go">Metaclass getattribute invoked</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>                      <span class="c1"># Implicit lookup</span>
<span class="go">10</span>
</pre></div>
</div>
<p>Bypassing the <a href="#object.__getattribute__" title="object.__getattribute__"><code class="xref py py-meth docutils literal"><span class="pre">__getattribute__()</span></code></a> machinery in this fashion
provides significant scope for speed optimisations within the
interpreter, at the cost of some flexibility in the handling of
special methods (the special method <em>must</em> be set on the class
object itself in order to be consistently invoked by the interpreter).</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>It <em>is</em> possible in some cases to change an object’s type, under certain
controlled conditions. It generally isn’t a good idea though, since it can
lead to some very strange behaviour if it is handled incorrectly.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[2]</a></td><td>For operands of the same type, it is assumed that if the non-reflected method
(such as <a href="#object.__add__" title="object.__add__"><code class="xref py py-meth docutils literal"><span class="pre">__add__()</span></code></a>) fails the operation is not supported, which is why the
reflected method is not called.</td></tr>
</tbody>
</table>
</div>
</div>
</div>


          </div>
        </div>
      </div>
  <div class="section" id="execution-model">
<span id="execmodel"></span><h1></h1><h1>4. Execution model</h1>
<div class="section" id="naming-and-binding">
<span id="naming"></span><span id="index-0"></span><h2>4.1. Naming and binding</h2>
<span class="target" id="index-1"></span><p id="index-2"><em class="dfn">Names</em> refer to objects.  Names are introduced by name binding operations.
Each occurrence of a name in the program text refers to the <em class="dfn">binding</em> of
that name established in the innermost function block containing the use.</p>
<p id="index-3">A <em class="dfn">block</em> is a piece of Python program text that is executed as a unit.
The following are blocks: a module, a function body, and a class definition.
Each command typed interactively is a block.  A script file (a file given as
standard input to the interpreter or specified on the interpreter command line
the first argument) is a code block.  A script command (a command specified on
the interpreter command line with the ‘<strong>-c</strong>’ option) is a code block.  The
file read by the built-in function <a href="../library/functions.html#execfile" title="execfile"><code class="xref py py-func docutils literal"><span class="pre">execfile()</span></code></a> is a code block.  The string
argument passed to the built-in function <a href="../library/functions.html#eval" title="eval"><code class="xref py py-func docutils literal"><span class="pre">eval()</span></code></a> and to the <a href="#exec"><code class="xref std std-keyword docutils literal"><span class="pre">exec</span></code></a>
statement is a code block. The expression read and evaluated by the built-in
function <a href="../library/functions.html#input" title="input"><code class="xref py py-func docutils literal"><span class="pre">input()</span></code></a> is a code block.</p>
<p id="index-4">A code block is executed in an <em class="dfn">execution frame</em>.  A frame contains some
administrative information (used for debugging) and determines where and how
execution continues after the code block’s execution has completed.</p>
<p id="index-5">A <em class="dfn">scope</em> defines the visibility of a name within a block.  If a local
variable is defined in a block, its scope includes that block.  If the
definition occurs in a function block, the scope extends to any blocks contained
within the defining one, unless a contained block introduces a different binding
for the name.  The scope of names defined in a class block is limited to the
class block; it does not extend to the code blocks of methods – this includes
generator expressions since they are implemented using a function scope.  This
means that the following will fail:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mi">42</span>
    <span class="n">b</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
<p id="index-6">When a name is used in a code block, it is resolved using the nearest enclosing
scope.  The set of all such scopes visible to a code block is called the block’s
<em class="dfn">environment</em>.</p>
<p id="index-7">If a name is bound in a block, it is a local variable of that block. If a name
is bound at the module level, it is a global variable.  (The variables of the
module code block are local and global.)  If a variable is used in a code block
but not defined there, it is a <em class="dfn">free variable</em>.</p>
<p id="index-8">When a name is not found at all, a <a href="../library/exceptions.html#exceptions.NameError" title="exceptions.NameError"><code class="xref py py-exc docutils literal"><span class="pre">NameError</span></code></a> exception is raised.  If the
name refers to a local variable that has not been bound, a
<a href="../library/exceptions.html#exceptions.UnboundLocalError" title="exceptions.UnboundLocalError"><code class="xref py py-exc docutils literal"><span class="pre">UnboundLocalError</span></code></a> exception is raised.  <a href="../library/exceptions.html#exceptions.UnboundLocalError" title="exceptions.UnboundLocalError"><code class="xref py py-exc docutils literal"><span class="pre">UnboundLocalError</span></code></a> is a
subclass of <a href="../library/exceptions.html#exceptions.NameError" title="exceptions.NameError"><code class="xref py py-exc docutils literal"><span class="pre">NameError</span></code></a>.</p>
<p id="index-9">The following constructs bind names: formal parameters to functions,
<a href="#import"><code class="xref std std-keyword docutils literal"><span class="pre">import</span></code></a> statements, class and function definitions (these bind the
class or function name in the defining block), and targets that are identifiers
if occurring in an assignment, <a href="#for"><code class="xref std std-keyword docutils literal"><span class="pre">for</span></code></a> loop header, in the second
position of an <a href="#except"><code class="xref std std-keyword docutils literal"><span class="pre">except</span></code></a> clause header or after <a href="#as"><code class="xref std std-keyword docutils literal"><span class="pre">as</span></code></a> in a
<a href="#with"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a> statement.  The <a href="#import"><code class="xref std std-keyword docutils literal"><span class="pre">import</span></code></a> statement
of the form <code class="docutils literal"><span class="pre">from</span> <span class="pre">...</span> <span class="pre">import</span> <span class="pre">*</span></code> binds all names defined in the imported
module, except those beginning with an underscore.  This form may only be used
at the module level.</p>
<p>A target occurring in a <a href="#del"><code class="xref std std-keyword docutils literal"><span class="pre">del</span></code></a> statement is also considered bound for
this purpose (though the actual semantics are to unbind the name).  It is
illegal to unbind a name that is referenced by an enclosing scope; the compiler
will report a <a href="../library/exceptions.html#exceptions.SyntaxError" title="exceptions.SyntaxError"><code class="xref py py-exc docutils literal"><span class="pre">SyntaxError</span></code></a>.</p>
<p>Each assignment or import statement occurs within a block defined by a class or
function definition or at the module level (the top-level code block).</p>
<p>If a name binding operation occurs anywhere within a code block, all uses of the
name within the block are treated as references to the current block.  This can
lead to errors when a name is used within a block before it is bound. This rule
is subtle.  Python lacks declarations and allows name binding operations to
occur anywhere within a code block.  The local variables of a code block can be
determined by scanning the entire text of the block for name binding operations.</p>
<p>If the global statement occurs within a block, all uses of the name specified in
the statement refer to the binding of that name in the top-level namespace.
Names are resolved in the top-level namespace by searching the global namespace,
i.e. the namespace of the module containing the code block, and the builtins
namespace, the namespace of the module <a href="../library/__builtin__.html#module-__builtin__" title="__builtin__: The module that provides the built-in namespace."><code class="xref py py-mod docutils literal"><span class="pre">__builtin__</span></code></a>.  The global namespace
is searched first.  If the name is not found there, the builtins namespace is
searched.  The global statement must precede all uses of the name.</p>
<p id="index-10">The builtins namespace associated with the execution of a code block is actually
found by looking up the name <code class="docutils literal"><span class="pre">__builtins__</span></code> in its global namespace; this
should be a dictionary or a module (in the latter case the module’s dictionary
is used).  By default, when in the <a href="../library/__main__.html#module-__main__" title="__main__: The environment where the top-level script is run."><code class="xref py py-mod docutils literal"><span class="pre">__main__</span></code></a> module, <code class="docutils literal"><span class="pre">__builtins__</span></code> is
the built-in module <a href="../library/__builtin__.html#module-__builtin__" title="__builtin__: The module that provides the built-in namespace."><code class="xref py py-mod docutils literal"><span class="pre">__builtin__</span></code></a> (note: no ‘s’); when in any other module,
<code class="docutils literal"><span class="pre">__builtins__</span></code> is an alias for the dictionary of the <a href="../library/__builtin__.html#module-__builtin__" title="__builtin__: The module that provides the built-in namespace."><code class="xref py py-mod docutils literal"><span class="pre">__builtin__</span></code></a> module
itself.  <code class="docutils literal"><span class="pre">__builtins__</span></code> can be set to a user-created dictionary to create a
weak form of restricted execution.</p>
<div class="impl-detail compound">
<p><strong>CPython implementation detail:</strong> Users should not touch <code class="docutils literal"><span class="pre">__builtins__</span></code>; it is strictly an implementation
detail.  Users wanting to override values in the builtins namespace should
<a href="#import"><code class="xref std std-keyword docutils literal"><span class="pre">import</span></code></a> the <a href="../library/__builtin__.html#module-__builtin__" title="__builtin__: The module that provides the built-in namespace."><code class="xref py py-mod docutils literal"><span class="pre">__builtin__</span></code></a> (no ‘s’) module and modify its
attributes appropriately.</p>
</div>
<p id="index-11">The namespace for a module is automatically created the first time a module is
imported.  The main module for a script is always called <a href="../library/__main__.html#module-__main__" title="__main__: The environment where the top-level script is run."><code class="xref py py-mod docutils literal"><span class="pre">__main__</span></code></a>.</p>
<p>The <a href="#global"><code class="xref std std-keyword docutils literal"><span class="pre">global</span></code></a> statement has the same scope as a name binding operation
in the same block.  If the nearest enclosing scope for a free variable contains
a global statement, the free variable is treated as a global.</p>
<p>A class definition is an executable statement that may use and define names.
These references follow the normal rules for name resolution. The namespace of
the class definition becomes the attribute dictionary of the class.  Names
defined at the class scope are not visible in methods.</p>
<div class="section" id="interaction-with-dynamic-features">
<span id="dynamic-features"></span><h3>4.1.1. Interaction with dynamic features</h3>
<p>There are several cases where Python statements are illegal when used in
conjunction with nested scopes that contain free variables.</p>
<p>If a variable is referenced in an enclosing scope, it is illegal to delete the
name.  An error will be reported at compile time.</p>
<p>If the wild card form of import — <code class="docutils literal"><span class="pre">import</span> <span class="pre">*</span></code> — is used in a function and
the function contains or is a nested block with free variables, the compiler
will raise a <a href="../library/exceptions.html#exceptions.SyntaxError" title="exceptions.SyntaxError"><code class="xref py py-exc docutils literal"><span class="pre">SyntaxError</span></code></a>.</p>
<p>If <a href="#exec"><code class="xref std std-keyword docutils literal"><span class="pre">exec</span></code></a> is used in a function and the function contains or is a
nested block with free variables, the compiler will raise a <a href="../library/exceptions.html#exceptions.SyntaxError" title="exceptions.SyntaxError"><code class="xref py py-exc docutils literal"><span class="pre">SyntaxError</span></code></a>
unless the exec explicitly specifies the local namespace for the
<a href="#exec"><code class="xref std std-keyword docutils literal"><span class="pre">exec</span></code></a>.  (In other words, <code class="docutils literal"><span class="pre">exec</span> <span class="pre">obj</span></code> would be illegal, but <code class="docutils literal"><span class="pre">exec</span> <span class="pre">obj</span>
<span class="pre">in</span> <span class="pre">ns</span></code> would be legal.)</p>
<p>The <a href="../library/functions.html#eval" title="eval"><code class="xref py py-func docutils literal"><span class="pre">eval()</span></code></a>, <a href="../library/functions.html#execfile" title="execfile"><code class="xref py py-func docutils literal"><span class="pre">execfile()</span></code></a>, and <a href="../library/functions.html#input" title="input"><code class="xref py py-func docutils literal"><span class="pre">input()</span></code></a> functions and the
<a href="#exec"><code class="xref std std-keyword docutils literal"><span class="pre">exec</span></code></a> statement do not have access to the full environment for
resolving names.  Names may be resolved in the local and global namespaces of
the caller.  Free variables are not resolved in the nearest enclosing namespace,
but in the global namespace. <a class="footnote-reference" href="#id3" id="id1">[1]</a> The <a href="#exec"><code class="xref std std-keyword docutils literal"><span class="pre">exec</span></code></a> statement and the
<a href="../library/functions.html#eval" title="eval"><code class="xref py py-func docutils literal"><span class="pre">eval()</span></code></a> and <a href="../library/functions.html#execfile" title="execfile"><code class="xref py py-func docutils literal"><span class="pre">execfile()</span></code></a> functions have optional arguments to override
the global and local namespace.  If only one namespace is specified, it is used
for both.</p>
</div>
</div>
<div class="section" id="exceptions">
<span id="id2"></span><h2>4.2. Exceptions</h2>
<span class="target" id="index-12"></span><p id="index-13">Exceptions are a means of breaking out of the normal flow of control of a code
block in order to handle errors or other exceptional conditions.  An exception
is <em>raised</em> at the point where the error is detected; it may be <em>handled</em> by the
surrounding code block or by any code block that directly or indirectly invoked
the code block where the error occurred.</p>
<p>The Python interpreter raises an exception when it detects a run-time error
(such as division by zero).  A Python program can also explicitly raise an
exception with the <a href="#raise"><code class="xref std std-keyword docutils literal"><span class="pre">raise</span></code></a> statement. Exception handlers are specified
with the <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a> … <a href="#except"><code class="xref std std-keyword docutils literal"><span class="pre">except</span></code></a> statement.  The <a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a>
clause of such a statement can be used to specify cleanup code which does not
handle the exception, but is executed whether an exception occurred or not in
the preceding code.</p>
<p id="index-14">Python uses the “termination” model of error handling: an exception handler can
find out what happened and continue execution at an outer level, but it cannot
repair the cause of the error and retry the failing operation (except by
re-entering the offending piece of code from the top).</p>
<p id="index-15">When an exception is not handled at all, the interpreter terminates execution of
the program, or returns to its interactive main loop.  In either case, it prints
a stack backtrace, except when the exception is  <a href="../library/exceptions.html#exceptions.SystemExit" title="exceptions.SystemExit"><code class="xref py py-exc docutils literal"><span class="pre">SystemExit</span></code></a>.</p>
<p>Exceptions are identified by class instances.  The <a href="#except"><code class="xref std std-keyword docutils literal"><span class="pre">except</span></code></a> clause is
selected depending on the class of the instance: it must reference the class of
the instance or a base class thereof.  The instance can be received by the
handler and can carry additional information about the exceptional condition.</p>
<p>Exceptions can also be identified by strings, in which case the
<a href="#except"><code class="xref std std-keyword docutils literal"><span class="pre">except</span></code></a> clause is selected by object identity.  An arbitrary value can
be raised along with the identifying string which can be passed to the handler.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Messages to exceptions are not part of the Python API.  Their contents may
change from one version of Python to the next without warning and should not be
relied on by code which will run under multiple versions of the interpreter.</p>
</div>
<p>See also the description of the <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a> statement in section <a href="#try"><span class="std std-ref">The try statement</span></a>
and <a href="#raise"><code class="xref std std-keyword docutils literal"><span class="pre">raise</span></code></a> statement in section <a href="#raise"><span class="std std-ref">The raise statement</span></a>.</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>This limitation occurs because the code that is executed by these operations is
not available at the time the module is compiled.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
  <div class="section" id="expressions">
<span id="id1"></span><h1></h1><h1>5. Expressions</h1>
<p id="index-0">This chapter explains the meaning of the elements of expressions in Python.</p>
<p id="index-1"><strong>Syntax Notes:</strong> In this and the following chapters, extended BNF notation will
be used to describe syntax, not lexical analysis.  When (one alternative of) a
syntax rule has the form</p>
<pre>
<strong id="grammar-token-name">name</strong> ::=  <code class="xref docutils literal"><span class="pre">othername</span></code>
</pre>
<p id="index-2">and no semantics are given, the semantics of this form of <code class="docutils literal"><span class="pre">name</span></code> are the same
as for <code class="docutils literal"><span class="pre">othername</span></code>.</p>
<div class="section" id="arithmetic-conversions">
<span id="conversions"></span><h2>5.1. Arithmetic conversions</h2>
<p id="index-3">When a description of an arithmetic operator below uses the phrase “the numeric
arguments are converted to a common type,” the arguments are coerced using the
coercion rules listed at  <a href="#coercion-rules"><span class="std std-ref">Coercion rules</span></a>.  If both arguments are standard
numeric types, the following coercions are applied:</p>
<ul class="simple">
<li>If either argument is a complex number, the other is converted to complex;</li>
<li>otherwise, if either argument is a floating point number, the other is
converted to floating point;</li>
<li>otherwise, if either argument is a long integer, the other is converted to
long integer;</li>
<li>otherwise, both must be plain integers and no conversion is necessary.</li>
</ul>
<p>Some additional rules apply for certain operators (e.g., a string left argument
to the ‘%’ operator). Extensions can define their own coercions.</p>
</div>
<div class="section" id="atoms">
<span id="id2"></span><h2>5.2. Atoms</h2>
<p id="index-4">Atoms are the most basic elements of expressions.  The simplest atoms are
identifiers or literals.  Forms enclosed in reverse quotes or in parentheses,
brackets or braces are also categorized syntactically as atoms.  The syntax for
atoms is:</p>
<pre>
<strong id="grammar-token-atom">atom     </strong> ::=  <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a> | <a href="#grammar-token-literal"><code class="xref docutils literal"><span class="pre">literal</span></code></a> | <a href="#grammar-token-enclosure"><code class="xref docutils literal"><span class="pre">enclosure</span></code></a>
<strong id="grammar-token-enclosure">enclosure</strong> ::=  <a href="#grammar-token-parenth_form"><code class="xref docutils literal"><span class="pre">parenth_form</span></code></a> | <a href="#grammar-token-list_display"><code class="xref docutils literal"><span class="pre">list_display</span></code></a>
               | <a href="#grammar-token-generator_expression"><code class="xref docutils literal"><span class="pre">generator_expression</span></code></a> | <a href="#grammar-token-dict_display"><code class="xref docutils literal"><span class="pre">dict_display</span></code></a> | <a href="#grammar-token-set_display"><code class="xref docutils literal"><span class="pre">set_display</span></code></a>
               | <a href="#grammar-token-string_conversion"><code class="xref docutils literal"><span class="pre">string_conversion</span></code></a> | <a href="#grammar-token-yield_atom"><code class="xref docutils literal"><span class="pre">yield_atom</span></code></a>
</pre>
<div class="section" id="atom-identifiers">
<span id="identifiers-names"></span><h3>5.2.1. Identifiers (Names)</h3>
<p id="index-5">An identifier occurring as an atom is a name.  See section <a href="#identifiers"><span class="std std-ref">Identifiers and keywords</span></a>
for lexical definition and section <a href="#naming"><span class="std std-ref">Naming and binding</span></a> for documentation of naming and
binding.</p>
<p id="index-6">When the name is bound to an object, evaluation of the atom yields that object.
When a name is not bound, an attempt to evaluate it raises a <a href="../library/exceptions.html#exceptions.NameError" title="exceptions.NameError"><code class="xref py py-exc docutils literal"><span class="pre">NameError</span></code></a>
exception.</p>
<p id="index-7"><strong>Private name mangling:</strong> When an identifier that textually occurs in a class
definition begins with two or more underscore characters and does not end in two
or more underscores, it is considered a <em class="dfn">private name</em> of that class.
Private names are transformed to a longer form before code is generated for
them.  The transformation inserts the class name, with leading underscores
removed and a single underscore inserted, in front of the name.  For example,
the identifier <code class="docutils literal"><span class="pre">__spam</span></code> occurring in a class named <code class="docutils literal"><span class="pre">Ham</span></code> will be transformed
to <code class="docutils literal"><span class="pre">_Ham__spam</span></code>.  This transformation is independent of the syntactical
context in which the identifier is used.  If the transformed name is extremely
long (longer than 255 characters), implementation defined truncation may happen.
If the class name consists only of underscores, no transformation is done.</p>
</div>
<div class="section" id="literals">
<span id="atom-literals"></span><h3>5.2.2. Literals</h3>
<p id="index-8">Python supports string literals and various numeric literals:</p>
<pre>
<strong id="grammar-token-literal">literal</strong> ::=  <a href="#grammar-token-stringliteral"><code class="xref docutils literal"><span class="pre">stringliteral</span></code></a> | <a href="#grammar-token-integer"><code class="xref docutils literal"><span class="pre">integer</span></code></a> | <a href="#grammar-token-longinteger"><code class="xref docutils literal"><span class="pre">longinteger</span></code></a>
             | <a href="#grammar-token-floatnumber"><code class="xref docutils literal"><span class="pre">floatnumber</span></code></a> | <a href="#grammar-token-imagnumber"><code class="xref docutils literal"><span class="pre">imagnumber</span></code></a>
</pre>
<p>Evaluation of a literal yields an object of the given type (string, integer,
long integer, floating point number, complex number) with the given value.  The
value may be approximated in the case of floating point and imaginary (complex)
literals.  See section <a href="#literals"><span class="std std-ref">Literals</span></a> for details.</p>
<p id="index-9">All literals correspond to immutable data types, and hence the object’s identity
is less important than its value.  Multiple evaluations of literals with the
same value (either the same occurrence in the program text or a different
occurrence) may obtain the same object or a different object with the same
value.</p>
</div>
<div class="section" id="parenthesized-forms">
<span id="parenthesized"></span><h3>5.2.3. Parenthesized forms</h3>
<p id="index-10">A parenthesized form is an optional expression list enclosed in parentheses:</p>
<pre>
<strong id="grammar-token-parenth_form">parenth_form</strong> ::=  &quot;(&quot; [<a href="#grammar-token-expression_list"><code class="xref docutils literal"><span class="pre">expression_list</span></code></a>] &quot;)&quot;
</pre>
<p>A parenthesized expression list yields whatever that expression list yields: if
the list contains at least one comma, it yields a tuple; otherwise, it yields
the single expression that makes up the expression list.</p>
<p id="index-11">An empty pair of parentheses yields an empty tuple object.  Since tuples are
immutable, the rules for literals apply (i.e., two occurrences of the empty
tuple may or may not yield the same object).</p>
<p id="index-12">Note that tuples are not formed by the parentheses, but rather by use of the
comma operator.  The exception is the empty tuple, for which parentheses <em>are</em>
required — allowing unparenthesized “nothing” in expressions would cause
ambiguities and allow common typos to pass uncaught.</p>
</div>
<div class="section" id="list-displays">
<span id="lists"></span><h3>5.2.4. List displays</h3>
<p id="index-13">A list display is a possibly empty series of expressions enclosed in square
brackets:</p>
<pre>
<strong id="grammar-token-list_display">list_display       </strong> ::=  &quot;[&quot; [<a href="#grammar-token-expression_list"><code class="xref docutils literal"><span class="pre">expression_list</span></code></a> | <a href="#grammar-token-list_comprehension"><code class="xref docutils literal"><span class="pre">list_comprehension</span></code></a>] &quot;]&quot;
<strong id="grammar-token-list_comprehension">list_comprehension </strong> ::=  <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> <a href="#grammar-token-list_for"><code class="xref docutils literal"><span class="pre">list_for</span></code></a>
<strong id="grammar-token-list_for">list_for           </strong> ::=  &quot;for&quot; <a href="#grammar-token-target_list"><code class="xref docutils literal"><span class="pre">target_list</span></code></a> &quot;in&quot; <a href="#grammar-token-old_expression_list"><code class="xref docutils literal"><span class="pre">old_expression_list</span></code></a> [<a href="#grammar-token-list_iter"><code class="xref docutils literal"><span class="pre">list_iter</span></code></a>]
<strong id="grammar-token-old_expression_list">old_expression_list</strong> ::=  <a href="#grammar-token-old_expression"><code class="xref docutils literal"><span class="pre">old_expression</span></code></a> [(&quot;,&quot; <a href="#grammar-token-old_expression"><code class="xref docutils literal"><span class="pre">old_expression</span></code></a>)+ [&quot;,&quot;]]
<strong id="grammar-token-old_expression">old_expression     </strong> ::=  <a href="#grammar-token-or_test"><code class="xref docutils literal"><span class="pre">or_test</span></code></a> | <a href="#grammar-token-old_lambda_expr"><code class="xref docutils literal"><span class="pre">old_lambda_expr</span></code></a>
<strong id="grammar-token-list_iter">list_iter          </strong> ::=  <a href="#grammar-token-list_for"><code class="xref docutils literal"><span class="pre">list_for</span></code></a> | <a href="#grammar-token-list_if"><code class="xref docutils literal"><span class="pre">list_if</span></code></a>
<strong id="grammar-token-list_if">list_if            </strong> ::=  &quot;if&quot; <a href="#grammar-token-old_expression"><code class="xref docutils literal"><span class="pre">old_expression</span></code></a> [<a href="#grammar-token-list_iter"><code class="xref docutils literal"><span class="pre">list_iter</span></code></a>]
</pre>
<p id="index-14">A list display yields a new list object.  Its contents are specified by
providing either a list of expressions or a list comprehension.  When a
comma-separated list of expressions is supplied, its elements are evaluated from
left to right and placed into the list object in that order.  When a list
comprehension is supplied, it consists of a single expression followed by at
least one <a href="#for"><code class="xref std std-keyword docutils literal"><span class="pre">for</span></code></a> clause and zero or more <a href="#for"><code class="xref std std-keyword docutils literal"><span class="pre">for</span></code></a> or <a href="#if"><code class="xref std std-keyword docutils literal"><span class="pre">if</span></code></a>
clauses.  In this case, the elements of the new list are those that would be
produced by considering each of the <a href="#for"><code class="xref std std-keyword docutils literal"><span class="pre">for</span></code></a> or <a href="#if"><code class="xref std std-keyword docutils literal"><span class="pre">if</span></code></a> clauses a
block, nesting from left to right, and evaluating the expression to produce a
list element each time the innermost block is reached <a class="footnote-reference" href="#id19" id="id3">[1]</a>.</p>
</div>
<div class="section" id="displays-for-sets-and-dictionaries">
<span id="comprehensions"></span><h3>5.2.5. Displays for sets and dictionaries</h3>
<p>For constructing a set or a dictionary Python provides special syntax
called “displays”, each of them in two flavors:</p>
<ul class="simple">
<li>either the container contents are listed explicitly, or</li>
<li>they are computed via a set of looping and filtering instructions, called a
<em class="dfn">comprehension</em>.</li>
</ul>
<p>Common syntax elements for comprehensions are:</p>
<pre>
<strong id="grammar-token-comprehension">comprehension</strong> ::=  <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> <a href="#grammar-token-comp_for"><code class="xref docutils literal"><span class="pre">comp_for</span></code></a>
<strong id="grammar-token-comp_for">comp_for     </strong> ::=  &quot;for&quot; <a href="#grammar-token-target_list"><code class="xref docutils literal"><span class="pre">target_list</span></code></a> &quot;in&quot; <a href="#grammar-token-or_test"><code class="xref docutils literal"><span class="pre">or_test</span></code></a> [<a href="#grammar-token-comp_iter"><code class="xref docutils literal"><span class="pre">comp_iter</span></code></a>]
<strong id="grammar-token-comp_iter">comp_iter    </strong> ::=  <a href="#grammar-token-comp_for"><code class="xref docutils literal"><span class="pre">comp_for</span></code></a> | <a href="#grammar-token-comp_if"><code class="xref docutils literal"><span class="pre">comp_if</span></code></a>
<strong id="grammar-token-comp_if">comp_if      </strong> ::=  &quot;if&quot; <code class="xref docutils literal"><span class="pre">expression_nocond</span></code> [<a href="#grammar-token-comp_iter"><code class="xref docutils literal"><span class="pre">comp_iter</span></code></a>]
</pre>
<p>The comprehension consists of a single expression followed by at least one
<a href="#for"><code class="xref std std-keyword docutils literal"><span class="pre">for</span></code></a> clause and zero or more <a href="#for"><code class="xref std std-keyword docutils literal"><span class="pre">for</span></code></a> or <a href="#if"><code class="xref std std-keyword docutils literal"><span class="pre">if</span></code></a> clauses.
In this case, the elements of the new container are those that would be produced
by considering each of the <a href="#for"><code class="xref std std-keyword docutils literal"><span class="pre">for</span></code></a> or <a href="#if"><code class="xref std std-keyword docutils literal"><span class="pre">if</span></code></a> clauses a block,
nesting from left to right, and evaluating the expression to produce an element
each time the innermost block is reached.</p>
<p>Note that the comprehension is executed in a separate scope, so names assigned
to in the target list don’t “leak” in the enclosing scope.</p>
</div>
<div class="section" id="generator-expressions">
<span id="genexpr"></span><h3>5.2.6. Generator expressions</h3>
<p id="index-15">A generator expression is a compact generator notation in parentheses:</p>
<pre>
<strong id="grammar-token-generator_expression">generator_expression</strong> ::=  &quot;(&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> <a href="#grammar-token-comp_for"><code class="xref docutils literal"><span class="pre">comp_for</span></code></a> &quot;)&quot;
</pre>
<p>A generator expression yields a new generator object.  Its syntax is the same as
for comprehensions, except that it is enclosed in parentheses instead of
brackets or curly braces.</p>
<p>Variables used in the generator expression are evaluated lazily when the
<code class="xref py py-meth docutils literal"><span class="pre">__next__()</span></code> method is called for generator object (in the same fashion as
normal generators).  However, the leftmost <a href="#for"><code class="xref std std-keyword docutils literal"><span class="pre">for</span></code></a> clause is immediately
evaluated, so that an error produced by it can be seen before any other possible
error in the code that handles the generator expression.  Subsequent
<a href="#for"><code class="xref std std-keyword docutils literal"><span class="pre">for</span></code></a> clauses cannot be evaluated immediately since they may depend on
the previous <a href="#for"><code class="xref std std-keyword docutils literal"><span class="pre">for</span></code></a> loop. For example: <code class="docutils literal"><span class="pre">(x*y</span> <span class="pre">for</span> <span class="pre">x</span> <span class="pre">in</span> <span class="pre">range(10)</span> <span class="pre">for</span> <span class="pre">y</span>
<span class="pre">in</span> <span class="pre">bar(x))</span></code>.</p>
<p>The parentheses can be omitted on calls with only one argument.  See section
<a href="#calls"><span class="std std-ref">Calls</span></a> for the detail.</p>
</div>
<div class="section" id="dictionary-displays">
<span id="dict"></span><h3>5.2.7. Dictionary displays</h3>
<p id="index-16">A dictionary display is a possibly empty series of key/datum pairs enclosed in
curly braces:</p>
<pre>
<strong id="grammar-token-dict_display">dict_display      </strong> ::=  &quot;{&quot; [<a href="#grammar-token-key_datum_list"><code class="xref docutils literal"><span class="pre">key_datum_list</span></code></a> | <a href="#grammar-token-dict_comprehension"><code class="xref docutils literal"><span class="pre">dict_comprehension</span></code></a>] &quot;}&quot;
<strong id="grammar-token-key_datum_list">key_datum_list    </strong> ::=  <a href="#grammar-token-key_datum"><code class="xref docutils literal"><span class="pre">key_datum</span></code></a> (&quot;,&quot; <a href="#grammar-token-key_datum"><code class="xref docutils literal"><span class="pre">key_datum</span></code></a>)* [&quot;,&quot;]
<strong id="grammar-token-key_datum">key_datum         </strong> ::=  <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> &quot;:&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>
<strong id="grammar-token-dict_comprehension">dict_comprehension</strong> ::=  <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> &quot;:&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> <a href="#grammar-token-comp_for"><code class="xref docutils literal"><span class="pre">comp_for</span></code></a>
</pre>
<p>A dictionary display yields a new dictionary object.</p>
<p>If a comma-separated sequence of key/datum pairs is given, they are evaluated
from left to right to define the entries of the dictionary: each key object is
used as a key into the dictionary to store the corresponding datum.  This means
that you can specify the same key multiple times in the key/datum list, and the
final dictionary’s value for that key will be the last one given.</p>
<p>A dict comprehension, in contrast to list and set comprehensions, needs two
expressions separated with a colon followed by the usual “for” and “if” clauses.
When the comprehension is run, the resulting key and value elements are inserted
in the new dictionary in the order they are produced.</p>
<p id="index-17">Restrictions on the types of the key values are listed earlier in section
<a href="#types"><span class="std std-ref">The standard type hierarchy</span></a>.  (To summarize, the key type should be <a href="../glossary.html#term-hashable"><span class="xref std std-term">hashable</span></a>, which excludes
all mutable objects.)  Clashes between duplicate keys are not detected; the last
datum (textually rightmost in the display) stored for a given key value
prevails.</p>
</div>
<div class="section" id="set-displays">
<span id="set"></span><h3>5.2.8. Set displays</h3>
<p id="index-18">A set display is denoted by curly braces and distinguishable from dictionary
displays by the lack of colons separating keys and values:</p>
<pre>
<strong id="grammar-token-set_display">set_display</strong> ::=  &quot;{&quot; (<a href="#grammar-token-expression_list"><code class="xref docutils literal"><span class="pre">expression_list</span></code></a> | <a href="#grammar-token-comprehension"><code class="xref docutils literal"><span class="pre">comprehension</span></code></a>) &quot;}&quot;
</pre>
<p>A set display yields a new mutable set object, the contents being specified by
either a sequence of expressions or a comprehension.  When a comma-separated
list of expressions is supplied, its elements are evaluated from left to right
and added to the set object.  When a comprehension is supplied, the set is
constructed from the elements resulting from the comprehension.</p>
<p>An empty set cannot be constructed with <code class="docutils literal"><span class="pre">{}</span></code>; this literal constructs an empty
dictionary.</p>
</div>
<div class="section" id="string-conversions">
<span id="id4"></span><h3>5.2.9. String conversions</h3>
<p id="index-19">A string conversion is an expression list enclosed in reverse (a.k.a. backward)
quotes:</p>
<pre>
<strong id="grammar-token-string_conversion">string_conversion</strong> ::=  &quot;`&quot; <a href="#grammar-token-expression_list"><code class="xref docutils literal"><span class="pre">expression_list</span></code></a> &quot;`&quot;
</pre>
<p>A string conversion evaluates the contained expression list and converts the
resulting object into a string according to rules specific to its type.</p>
<p>If the object is a string, a number, <code class="docutils literal"><span class="pre">None</span></code>, or a tuple, list or dictionary
containing only objects whose type is one of these, the resulting string is a
valid Python expression which can be passed to the built-in function
<a href="../library/functions.html#eval" title="eval"><code class="xref py py-func docutils literal"><span class="pre">eval()</span></code></a> to yield an expression with the same value (or an approximation, if
floating point numbers are involved).</p>
<p>(In particular, converting a string adds quotes around it and converts “funny”
characters to escape sequences that are safe to print.)</p>
<p id="index-20">Recursive objects (for example, lists or dictionaries that contain a reference
to themselves, directly or indirectly) use <code class="docutils literal"><span class="pre">...</span></code> to indicate a recursive
reference, and the result cannot be passed to <a href="../library/functions.html#eval" title="eval"><code class="xref py py-func docutils literal"><span class="pre">eval()</span></code></a> to get an equal value
(<a href="../library/exceptions.html#exceptions.SyntaxError" title="exceptions.SyntaxError"><code class="xref py py-exc docutils literal"><span class="pre">SyntaxError</span></code></a> will be raised instead).</p>
<p id="index-21">The built-in function <a href="../library/functions.html#repr" title="repr"><code class="xref py py-func docutils literal"><span class="pre">repr()</span></code></a> performs exactly the same conversion in its
argument as enclosing it in parentheses and reverse quotes does.  The built-in
function <a href="../library/functions.html#str" title="str"><code class="xref py py-func docutils literal"><span class="pre">str()</span></code></a> performs a similar but more user-friendly conversion.</p>
</div>
<div class="section" id="yield-expressions">
<span id="yieldexpr"></span><h3>5.2.10. Yield expressions</h3>
<pre id="index-22">
<strong id="grammar-token-yield_atom">yield_atom      </strong> ::=  &quot;(&quot; <a href="#grammar-token-yield_expression"><code class="xref docutils literal"><span class="pre">yield_expression</span></code></a> &quot;)&quot;
<strong id="grammar-token-yield_expression">yield_expression</strong> ::=  &quot;yield&quot; [<a href="#grammar-token-expression_list"><code class="xref docutils literal"><span class="pre">expression_list</span></code></a>]
</pre>
<div class="versionadded">
<p><span>New in version 2.5.</span></p>
</div>
<p>The <a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> expression is only used when defining a generator function,
and can only be used in the body of a function definition. Using a
<a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> expression in a function definition is sufficient to cause that
definition to create a generator function instead of a normal function.</p>
<p>When a generator function is called, it returns an iterator known as a
generator.  That generator then controls the execution of a generator function.
The execution starts when one of the generator’s methods is called.  At that
time, the execution proceeds to the first <a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> expression, where it
is suspended again, returning the value of <a href="#grammar-token-expression_list"><code class="xref std std-token docutils literal"><span class="pre">expression_list</span></code></a> to
generator’s caller.  By suspended we mean that all local state is retained,
including the current bindings of local variables, the instruction pointer, and
the internal evaluation stack.  When the execution is resumed by calling one of
the generator’s methods, the function can proceed exactly as if the
<a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> expression was just another external call. The value of the
<a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> expression after resuming depends on the method which resumed
the execution.</p>
<p id="index-23">All of this makes generator functions quite similar to coroutines; they yield
multiple times, they have more than one entry point and their execution can be
suspended.  The only difference is that a generator function cannot control
where should the execution continue after it yields; the control is always
transferred to the generator’s caller.</p>
<div class="section" id="generator-iterator-methods">
<span id="index-24"></span><h4>5.2.10.1. Generator-iterator methods</h4>
<p>This subsection describes the methods of a generator iterator.  They can
be used to control the execution of a generator function.</p>
<p>Note that calling any of the generator methods below when the generator
is already executing raises a <a href="../library/exceptions.html#exceptions.ValueError" title="exceptions.ValueError"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> exception.</p>
<span class="target" id="index-25"></span><dl class="method">
<dt id="generator.next">
<code class="descclassname">generator.</code><code class="descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><dd><p>Starts the execution of a generator function or resumes it at the last executed
<a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> expression.  When a generator function is resumed with a
<a href="#generator.next" title="generator.next"><code class="xref py py-meth docutils literal"><span class="pre">next()</span></code></a> method, the current <a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> expression
always evaluates to
<a href="../library/constants.html#None" title="None"><code class="xref py py-const docutils literal"><span class="pre">None</span></code></a>.  The execution then continues to the next <a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a>
expression, where the generator is suspended again, and the value of the
<a href="#grammar-token-expression_list"><code class="xref std std-token docutils literal"><span class="pre">expression_list</span></code></a> is returned to <a href="#generator.next" title="generator.next"><code class="xref py py-meth docutils literal"><span class="pre">next()</span></code></a>’s caller.
If the generator
exits without yielding another value, a <a href="../library/exceptions.html#exceptions.StopIteration" title="exceptions.StopIteration"><code class="xref py py-exc docutils literal"><span class="pre">StopIteration</span></code></a> exception is
raised.</p>
</dd></dl>

<dl class="method">
<dt id="generator.send">
<code class="descclassname">generator.</code><code class="descname">send</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><dd><p>Resumes the execution and “sends” a value into the generator function.  The
<code class="docutils literal"><span class="pre">value</span></code> argument becomes the result of the current <a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a>
expression.  The <a href="#generator.send" title="generator.send"><code class="xref py py-meth docutils literal"><span class="pre">send()</span></code></a> method returns the next value yielded by the
generator, or raises <a href="../library/exceptions.html#exceptions.StopIteration" title="exceptions.StopIteration"><code class="xref py py-exc docutils literal"><span class="pre">StopIteration</span></code></a> if the generator exits without
yielding another value. When <a href="#generator.send" title="generator.send"><code class="xref py py-meth docutils literal"><span class="pre">send()</span></code></a> is called to start the generator, it
must be called with <a href="../library/constants.html#None" title="None"><code class="xref py py-const docutils literal"><span class="pre">None</span></code></a> as the argument, because there is no
<a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> expression that could receive the value.</p>
</dd></dl>

<dl class="method">
<dt id="generator.throw">
<code class="descclassname">generator.</code><code class="descname">throw</code><span class="sig-paren">(</span><em>type</em><span class="optional">[</span>, <em>value</em><span class="optional">[</span>, <em>traceback</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><dd><p>Raises an exception of type <code class="docutils literal"><span class="pre">type</span></code> at the point where generator was paused,
and returns the next value yielded by the generator function.  If the generator
exits without yielding another value, a <a href="../library/exceptions.html#exceptions.StopIteration" title="exceptions.StopIteration"><code class="xref py py-exc docutils literal"><span class="pre">StopIteration</span></code></a> exception is
raised.  If the generator function does not catch the passed-in exception, or
raises a different exception, then that exception propagates to the caller.</p>
</dd></dl>

<span class="target" id="index-26"></span><dl class="method">
<dt id="generator.close">
<code class="descclassname">generator.</code><code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><dd><p>Raises a <a href="../library/exceptions.html#exceptions.GeneratorExit" title="exceptions.GeneratorExit"><code class="xref py py-exc docutils literal"><span class="pre">GeneratorExit</span></code></a> at the point where the generator function was
paused.  If the generator function then raises <a href="../library/exceptions.html#exceptions.StopIteration" title="exceptions.StopIteration"><code class="xref py py-exc docutils literal"><span class="pre">StopIteration</span></code></a> (by exiting
normally, or due to already being closed) or <a href="../library/exceptions.html#exceptions.GeneratorExit" title="exceptions.GeneratorExit"><code class="xref py py-exc docutils literal"><span class="pre">GeneratorExit</span></code></a> (by not
catching the exception), close returns to its caller.  If the generator yields a
value, a <a href="../library/exceptions.html#exceptions.RuntimeError" title="exceptions.RuntimeError"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> is raised.  If the generator raises any other
exception, it is propagated to the caller.  <a href="#generator.close" title="generator.close"><code class="xref py py-meth docutils literal"><span class="pre">close()</span></code></a> does nothing if the
generator has already exited due to an exception or normal exit.</p>
</dd></dl>

<p>Here is a simple example that demonstrates the behavior of generators and
generator functions:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">echo</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span> <span class="s2">&quot;Execution starts when &#39;next()&#39; is called for the first time.&quot;</span>
<span class="gp">... </span>    <span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="gp">... </span>            <span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>                <span class="n">value</span> <span class="o">=</span> <span class="p">(</span><span class="k">yield</span> <span class="n">value</span><span class="p">)</span>
<span class="gp">... </span>            <span class="k">except</span> <span class="ne">Exception</span><span class="p">,</span> <span class="n">e</span><span class="p">:</span>
<span class="gp">... </span>                <span class="n">value</span> <span class="o">=</span> <span class="n">e</span>
<span class="gp">... </span>    <span class="k">finally</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span> <span class="s2">&quot;Don&#39;t forget to clean up when &#39;close()&#39; is called.&quot;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generator</span> <span class="o">=</span> <span class="n">echo</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">generator</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">Execution starts when &#39;next()&#39; is called for the first time.</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">generator</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">generator</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generator</span><span class="o">.</span><span class="n">throw</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s2">&quot;spam&quot;</span><span class="p">)</span>
<span class="go">TypeError(&#39;spam&#39;,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generator</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="go">Don&#39;t forget to clean up when &#39;close()&#39; is called.</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><span class="target" id="index-27"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0342"><strong>PEP 342</strong></a> - Coroutines via Enhanced Generators</dt>
<dd>The proposal to enhance the API and syntax of generators, making them usable as
simple coroutines.</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="section" id="primaries">
<span id="id5"></span><h2>5.3. Primaries</h2>
<p id="index-28">Primaries represent the most tightly bound operations of the language. Their
syntax is:</p>
<pre>
<strong id="grammar-token-primary">primary</strong> ::=  <a href="#grammar-token-atom"><code class="xref docutils literal"><span class="pre">atom</span></code></a> | <a href="#grammar-token-attributeref"><code class="xref docutils literal"><span class="pre">attributeref</span></code></a> | <a href="#grammar-token-subscription"><code class="xref docutils literal"><span class="pre">subscription</span></code></a> | <a href="#grammar-token-slicing"><code class="xref docutils literal"><span class="pre">slicing</span></code></a> | <a href="#grammar-token-call"><code class="xref docutils literal"><span class="pre">call</span></code></a>
</pre>
<div class="section" id="attribute-references">
<span id="id6"></span><h3>5.3.1. Attribute references</h3>
<p id="index-29">An attribute reference is a primary followed by a period and a name:</p>
<pre>
<strong id="grammar-token-attributeref">attributeref</strong> ::=  <a href="#grammar-token-primary"><code class="xref docutils literal"><span class="pre">primary</span></code></a> &quot;.&quot; <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a>
</pre>
<p id="index-30">The primary must evaluate to an object of a type that supports attribute
references, e.g., a module, list, or an instance.  This object is then asked to
produce the attribute whose name is the identifier.  If this attribute is not
available, the exception <a href="../library/exceptions.html#exceptions.AttributeError" title="exceptions.AttributeError"><code class="xref py py-exc docutils literal"><span class="pre">AttributeError</span></code></a> is raised. Otherwise, the type
and value of the object produced is determined by the object.  Multiple
evaluations of the same attribute reference may yield different objects.</p>
</div>
<div class="section" id="subscriptions">
<span id="id7"></span><h3>5.3.2. Subscriptions</h3>
<span class="target" id="index-31"></span><p id="index-32">A subscription selects an item of a sequence (string, tuple or list) or mapping
(dictionary) object:</p>
<pre>
<strong id="grammar-token-subscription">subscription</strong> ::=  <a href="#grammar-token-primary"><code class="xref docutils literal"><span class="pre">primary</span></code></a> &quot;[&quot; <a href="#grammar-token-expression_list"><code class="xref docutils literal"><span class="pre">expression_list</span></code></a> &quot;]&quot;
</pre>
<p>The primary must evaluate to an object of a sequence or mapping type.</p>
<p>If the primary is a mapping, the expression list must evaluate to an object
whose value is one of the keys of the mapping, and the subscription selects the
value in the mapping that corresponds to that key.  (The expression list is a
tuple except if it has exactly one item.)</p>
<p>If the primary is a sequence, the expression (list) must evaluate to a plain
integer.  If this value is negative, the length of the sequence is added to it
(so that, e.g., <code class="docutils literal"><span class="pre">x[-1]</span></code> selects the last item of <code class="docutils literal"><span class="pre">x</span></code>.)  The resulting value
must be a nonnegative integer less than the number of items in the sequence, and
the subscription selects the item whose index is that value (counting from
zero).</p>
<p id="index-33">A string’s items are characters.  A character is not a separate data type but a
string of exactly one character.</p>
</div>
<div class="section" id="slicings">
<span id="id8"></span><h3>5.3.3. Slicings</h3>
<span class="target" id="index-34"></span><p id="index-35">A slicing selects a range of items in a sequence object (e.g., a string, tuple
or list).  Slicings may be used as expressions or as targets in assignment or
<a href="#del"><code class="xref std std-keyword docutils literal"><span class="pre">del</span></code></a> statements.  The syntax for a slicing:</p>
<pre>
<strong id="grammar-token-slicing">slicing         </strong> ::=  <a href="#grammar-token-simple_slicing"><code class="xref docutils literal"><span class="pre">simple_slicing</span></code></a> | <a href="#grammar-token-extended_slicing"><code class="xref docutils literal"><span class="pre">extended_slicing</span></code></a>
<strong id="grammar-token-simple_slicing">simple_slicing  </strong> ::=  <a href="#grammar-token-primary"><code class="xref docutils literal"><span class="pre">primary</span></code></a> &quot;[&quot; <a href="#grammar-token-short_slice"><code class="xref docutils literal"><span class="pre">short_slice</span></code></a> &quot;]&quot;
<strong id="grammar-token-extended_slicing">extended_slicing</strong> ::=  <a href="#grammar-token-primary"><code class="xref docutils literal"><span class="pre">primary</span></code></a> &quot;[&quot; <a href="#grammar-token-slice_list"><code class="xref docutils literal"><span class="pre">slice_list</span></code></a> &quot;]&quot;
<strong id="grammar-token-slice_list">slice_list      </strong> ::=  <a href="#grammar-token-slice_item"><code class="xref docutils literal"><span class="pre">slice_item</span></code></a> (&quot;,&quot; <a href="#grammar-token-slice_item"><code class="xref docutils literal"><span class="pre">slice_item</span></code></a>)* [&quot;,&quot;]
<strong id="grammar-token-slice_item">slice_item      </strong> ::=  <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> | <a href="#grammar-token-proper_slice"><code class="xref docutils literal"><span class="pre">proper_slice</span></code></a> | <a href="#grammar-token-ellipsis"><code class="xref docutils literal"><span class="pre">ellipsis</span></code></a>
<strong id="grammar-token-proper_slice">proper_slice    </strong> ::=  <a href="#grammar-token-short_slice"><code class="xref docutils literal"><span class="pre">short_slice</span></code></a> | <a href="#grammar-token-long_slice"><code class="xref docutils literal"><span class="pre">long_slice</span></code></a>
<strong id="grammar-token-short_slice">short_slice     </strong> ::=  [<a href="#grammar-token-lower_bound"><code class="xref docutils literal"><span class="pre">lower_bound</span></code></a>] &quot;:&quot; [<a href="#grammar-token-upper_bound"><code class="xref docutils literal"><span class="pre">upper_bound</span></code></a>]
<strong id="grammar-token-long_slice">long_slice      </strong> ::=  <a href="#grammar-token-short_slice"><code class="xref docutils literal"><span class="pre">short_slice</span></code></a> &quot;:&quot; [<a href="#grammar-token-stride"><code class="xref docutils literal"><span class="pre">stride</span></code></a>]
<strong id="grammar-token-lower_bound">lower_bound     </strong> ::=  <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>
<strong id="grammar-token-upper_bound">upper_bound     </strong> ::=  <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>
<strong id="grammar-token-stride">stride          </strong> ::=  <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>
<strong id="grammar-token-ellipsis">ellipsis        </strong> ::=  &quot;...&quot;
</pre>
<p id="index-36">There is ambiguity in the formal syntax here: anything that looks like an
expression list also looks like a slice list, so any subscription can be
interpreted as a slicing.  Rather than further complicating the syntax, this is
disambiguated by defining that in this case the interpretation as a subscription
takes priority over the interpretation as a slicing (this is the case if the
slice list contains no proper slice nor ellipses).  Similarly, when the slice
list has exactly one short slice and no trailing comma, the interpretation as a
simple slicing takes priority over that as an extended slicing.</p>
<p>The semantics for a simple slicing are as follows.  The primary must evaluate to
a sequence object.  The lower and upper bound expressions, if present, must
evaluate to plain integers; defaults are zero and the <code class="docutils literal"><span class="pre">sys.maxint</span></code>,
respectively.  If either bound is negative, the sequence’s length is added to
it.  The slicing now selects all items with index <em>k</em> such that <code class="docutils literal"><span class="pre">i</span> <span class="pre">&lt;=</span> <span class="pre">k</span> <span class="pre">&lt;</span> <span class="pre">j</span></code>
where <em>i</em> and <em>j</em> are the specified lower and upper bounds.  This may be an
empty sequence.  It is not an error if <em>i</em> or <em>j</em> lie outside the range of valid
indexes (such items don’t exist so they aren’t selected).</p>
<p id="index-37">The semantics for an extended slicing are as follows.  The primary must evaluate
to a mapping object, and it is indexed with a key that is constructed from the
slice list, as follows.  If the slice list contains at least one comma, the key
is a tuple containing the conversion of the slice items; otherwise, the
conversion of the lone slice item is the key.  The conversion of a slice item
that is an expression is that expression.  The conversion of an ellipsis slice
item is the built-in <code class="docutils literal"><span class="pre">Ellipsis</span></code> object.  The conversion of a proper slice is a
slice object (see section <a href="#types"><span class="std std-ref">The standard type hierarchy</span></a>) whose <code class="xref py py-attr docutils literal"><span class="pre">start</span></code>,
<code class="xref py py-attr docutils literal"><span class="pre">stop</span></code> and <code class="xref py py-attr docutils literal"><span class="pre">step</span></code> attributes are the values of the
expressions given as lower bound, upper bound and stride, respectively,
substituting <code class="docutils literal"><span class="pre">None</span></code> for missing expressions.</p>
</div>
<div class="section" id="calls">
<span id="index-38"></span><span id="id9"></span><h3>5.3.4. Calls</h3>
<p>A call calls a callable object (e.g., a <a href="../glossary.html#term-function"><span class="xref std std-term">function</span></a>) with a possibly empty
series of <a href="../glossary.html#term-argument"><span class="xref std std-term">arguments</span></a>:</p>
<pre>
<strong id="grammar-token-call">call                </strong> ::=  <a href="#grammar-token-primary"><code class="xref docutils literal"><span class="pre">primary</span></code></a> &quot;(&quot; [<a href="#grammar-token-argument_list"><code class="xref docutils literal"><span class="pre">argument_list</span></code></a> [&quot;,&quot;]
                          | <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> <code class="xref docutils literal"><span class="pre">genexpr_for</span></code>] &quot;)&quot;
<strong id="grammar-token-argument_list">argument_list       </strong> ::=  <a href="#grammar-token-positional_arguments"><code class="xref docutils literal"><span class="pre">positional_arguments</span></code></a> [&quot;,&quot; <a href="#grammar-token-keyword_arguments"><code class="xref docutils literal"><span class="pre">keyword_arguments</span></code></a>]
                            [&quot;,&quot; &quot;*&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>] [&quot;,&quot; <a href="#grammar-token-keyword_arguments"><code class="xref docutils literal"><span class="pre">keyword_arguments</span></code></a>]
                            [&quot;,&quot; &quot;**&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>]
                          | <a href="#grammar-token-keyword_arguments"><code class="xref docutils literal"><span class="pre">keyword_arguments</span></code></a> [&quot;,&quot; &quot;*&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>]
                            [&quot;,&quot; &quot;**&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>]
                          | &quot;*&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> [&quot;,&quot; <a href="#grammar-token-keyword_arguments"><code class="xref docutils literal"><span class="pre">keyword_arguments</span></code></a>] [&quot;,&quot; &quot;**&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>]
                          | &quot;**&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>
<strong id="grammar-token-positional_arguments">positional_arguments</strong> ::=  <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> (&quot;,&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>)*
<strong id="grammar-token-keyword_arguments">keyword_arguments   </strong> ::=  <a href="#grammar-token-keyword_item"><code class="xref docutils literal"><span class="pre">keyword_item</span></code></a> (&quot;,&quot; <a href="#grammar-token-keyword_item"><code class="xref docutils literal"><span class="pre">keyword_item</span></code></a>)*
<strong id="grammar-token-keyword_item">keyword_item        </strong> ::=  <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a> &quot;=&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>
</pre>
<p>A trailing comma may be present after the positional and keyword arguments but
does not affect the semantics.</p>
<p id="index-39">The primary must evaluate to a callable object (user-defined functions, built-in
functions, methods of built-in objects, class objects, methods of class
instances, and certain class instances themselves are callable; extensions may
define additional callable object types).  All argument expressions are
evaluated before the call is attempted.  Please refer to section <a href="#function"><span class="std std-ref">Function definitions</span></a>
for the syntax of formal <a href="../glossary.html#term-parameter"><span class="xref std std-term">parameter</span></a> lists.</p>
<p>If keyword arguments are present, they are first converted to positional
arguments, as follows.  First, a list of unfilled slots is created for the
formal parameters.  If there are N positional arguments, they are placed in the
first N slots.  Next, for each keyword argument, the identifier is used to
determine the corresponding slot (if the identifier is the same as the first
formal parameter name, the first slot is used, and so on).  If the slot is
already filled, a <a href="../library/exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> exception is raised. Otherwise, the value of
the argument is placed in the slot, filling it (even if the expression is
<code class="docutils literal"><span class="pre">None</span></code>, it fills the slot).  When all arguments have been processed, the slots
that are still unfilled are filled with the corresponding default value from the
function definition.  (Default values are calculated, once, when the function is
defined; thus, a mutable object such as a list or dictionary used as default
value will be shared by all calls that don’t specify an argument value for the
corresponding slot; this should usually be avoided.)  If there are any unfilled
slots for which no default value is specified, a <a href="../library/exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> exception is
raised.  Otherwise, the list of filled slots is used as the argument list for
the call.</p>
<div class="impl-detail compound">
<p><strong>CPython implementation detail:</strong> An implementation may provide built-in functions whose positional parameters
do not have names, even if they are ‘named’ for the purpose of documentation,
and which therefore cannot be supplied by keyword.  In CPython, this is the
case for functions implemented in C that use <a href="../c-api/arg.html#c.PyArg_ParseTuple" title="PyArg_ParseTuple"><code class="xref c c-func docutils literal"><span class="pre">PyArg_ParseTuple()</span></code></a> to
parse their arguments.</p>
</div>
<p>If there are more positional arguments than there are formal parameter slots, a
<a href="../library/exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> exception is raised, unless a formal parameter using the syntax
<code class="docutils literal"><span class="pre">*identifier</span></code> is present; in this case, that formal parameter receives a tuple
containing the excess positional arguments (or an empty tuple if there were no
excess positional arguments).</p>
<p>If any keyword argument does not correspond to a formal parameter name, a
<a href="../library/exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> exception is raised, unless a formal parameter using the syntax
<code class="docutils literal"><span class="pre">**identifier</span></code> is present; in this case, that formal parameter receives a
dictionary containing the excess keyword arguments (using the keywords as keys
and the argument values as corresponding values), or a (new) empty dictionary if
there were no excess keyword arguments.</p>
<p id="index-40">If the syntax <code class="docutils literal"><span class="pre">*expression</span></code> appears in the function call, <code class="docutils literal"><span class="pre">expression</span></code> must
evaluate to an iterable.  Elements from this iterable are treated as if they
were additional positional arguments; if there are positional arguments
<em>x1</em>, …, <em>xN</em>, and <code class="docutils literal"><span class="pre">expression</span></code> evaluates to a sequence <em>y1</em>, …, <em>yM</em>, this
is equivalent to a call with M+N positional arguments <em>x1</em>, …, <em>xN</em>, <em>y1</em>,
…, <em>yM</em>.</p>
<p>A consequence of this is that although the <code class="docutils literal"><span class="pre">*expression</span></code> syntax may appear
<em>after</em> some keyword arguments, it is processed <em>before</em> the keyword arguments
(and the <code class="docutils literal"><span class="pre">**expression</span></code> argument, if any – see below).  So:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="p">,))</span>
<span class="go">2 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="p">,))</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">TypeError</span>: <span class="n">f() got multiple values for keyword argument &#39;a&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="p">,))</span>
<span class="go">1 2</span>
</pre></div>
</div>
<p>It is unusual for both keyword arguments and the <code class="docutils literal"><span class="pre">*expression</span></code> syntax to be
used in the same call, so in practice this confusion does not arise.</p>
<p id="index-41">If the syntax <code class="docutils literal"><span class="pre">**expression</span></code> appears in the function call, <code class="docutils literal"><span class="pre">expression</span></code> must
evaluate to a mapping, the contents of which are treated as additional keyword
arguments.  In the case of a keyword appearing in both <code class="docutils literal"><span class="pre">expression</span></code> and as an
explicit keyword argument, a <a href="../library/exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> exception is raised.</p>
<p>Formal parameters using the syntax <code class="docutils literal"><span class="pre">*identifier</span></code> or <code class="docutils literal"><span class="pre">**identifier</span></code> cannot be
used as positional argument slots or as keyword argument names.  Formal
parameters using the syntax <code class="docutils literal"><span class="pre">(sublist)</span></code> cannot be used as keyword argument
names; the outermost sublist corresponds to a single unnamed argument slot, and
the argument value is assigned to the sublist using the usual tuple assignment
rules after all other parameter processing is done.</p>
<p>A call always returns some value, possibly <code class="docutils literal"><span class="pre">None</span></code>, unless it raises an
exception.  How this value is computed depends on the type of the callable
object.</p>
<p>If it is—</p>
<dl class="docutils">
<dt>a user-defined function:</dt>
<dd><p class="first last" id="index-42">The code block for the function is executed, passing it the argument list.  The
first thing the code block will do is bind the formal parameters to the
arguments; this is described in section <a href="#function"><span class="std std-ref">Function definitions</span></a>.  When the code block
executes a <a href="#return"><code class="xref std std-keyword docutils literal"><span class="pre">return</span></code></a> statement, this specifies the return value of the
function call.</p>
</dd>
<dt>a built-in function or method:</dt>
<dd><p class="first last" id="index-43">The result is up to the interpreter; see <a href="../library/functions.html#built-in-funcs"><span class="std std-ref">Built-in Functions</span></a> for the
descriptions of built-in functions and methods.</p>
</dd>
<dt>a class object:</dt>
<dd><p class="first last" id="index-44">A new instance of that class is returned.</p>
</dd>
<dt>a class instance method:</dt>
<dd><p class="first last" id="index-45">The corresponding user-defined function is called, with an argument list that is
one longer than the argument list of the call: the instance becomes the first
argument.</p>
</dd>
<dt>a class instance:</dt>
<dd><p class="first last" id="index-46">The class must define a <a href="#object.__call__" title="object.__call__"><code class="xref py py-meth docutils literal"><span class="pre">__call__()</span></code></a> method; the effect is then the same as
if that method was called.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="the-power-operator">
<span id="power"></span><h2>5.4. The power operator</h2>
<p>The power operator binds more tightly than unary operators on its left; it binds
less tightly than unary operators on its right.  The syntax is:</p>
<pre>
<strong id="grammar-token-power">power</strong> ::=  <a href="#grammar-token-primary"><code class="xref docutils literal"><span class="pre">primary</span></code></a> [&quot;**&quot; <a href="#grammar-token-u_expr"><code class="xref docutils literal"><span class="pre">u_expr</span></code></a>]
</pre>
<p>Thus, in an unparenthesized sequence of power and unary operators, the operators
are evaluated from right to left (this does not constrain the evaluation order
for the operands): <code class="docutils literal"><span class="pre">-1**2</span></code> results in <code class="docutils literal"><span class="pre">-1</span></code>.</p>
<p>The power operator has the same semantics as the built-in <a href="../library/functions.html#pow" title="pow"><code class="xref py py-func docutils literal"><span class="pre">pow()</span></code></a> function,
when called with two arguments: it yields its left argument raised to the power
of its right argument.  The numeric arguments are first converted to a common
type.  The result type is that of the arguments after coercion.</p>
<p>With mixed operand types, the coercion rules for binary arithmetic operators
apply. For int and long int operands, the result has the same type as the
operands (after coercion) unless the second argument is negative; in that case,
all arguments are converted to float and a float result is delivered. For
example, <code class="docutils literal"><span class="pre">10**2</span></code> returns <code class="docutils literal"><span class="pre">100</span></code>, but <code class="docutils literal"><span class="pre">10**-2</span></code> returns <code class="docutils literal"><span class="pre">0.01</span></code>. (This last
feature was added in Python 2.2. In Python 2.1 and before, if both arguments
were of integer types and the second argument was negative, an exception was
raised).</p>
<p>Raising <code class="docutils literal"><span class="pre">0.0</span></code> to a negative power results in a <a href="../library/exceptions.html#exceptions.ZeroDivisionError" title="exceptions.ZeroDivisionError"><code class="xref py py-exc docutils literal"><span class="pre">ZeroDivisionError</span></code></a>.
Raising a negative number to a fractional power results in a <a href="../library/exceptions.html#exceptions.ValueError" title="exceptions.ValueError"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a>.</p>
</div>
<div class="section" id="unary-arithmetic-and-bitwise-operations">
<span id="unary"></span><h2>5.5. Unary arithmetic and bitwise operations</h2>
<p id="index-47">All unary arithmetic and bitwise operations have the same priority:</p>
<pre>
<strong id="grammar-token-u_expr">u_expr</strong> ::=  <a href="#grammar-token-power"><code class="xref docutils literal"><span class="pre">power</span></code></a> | &quot;-&quot; <a href="#grammar-token-u_expr"><code class="xref docutils literal"><span class="pre">u_expr</span></code></a> | &quot;+&quot; <a href="#grammar-token-u_expr"><code class="xref docutils literal"><span class="pre">u_expr</span></code></a> | &quot;~&quot; <a href="#grammar-token-u_expr"><code class="xref docutils literal"><span class="pre">u_expr</span></code></a>
</pre>
<p id="index-48">The unary <code class="docutils literal"><span class="pre">-</span></code> (minus) operator yields the negation of its numeric argument.</p>
<p id="index-49">The unary <code class="docutils literal"><span class="pre">+</span></code> (plus) operator yields its numeric argument unchanged.</p>
<p id="index-50">The unary <code class="docutils literal"><span class="pre">~</span></code> (invert) operator yields the bitwise inversion of its plain or
long integer argument.  The bitwise inversion of <code class="docutils literal"><span class="pre">x</span></code> is defined as
<code class="docutils literal"><span class="pre">-(x+1)</span></code>.  It only applies to integral numbers.</p>
<p id="index-51">In all three cases, if the argument does not have the proper type, a
<a href="../library/exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> exception is raised.</p>
</div>
<div class="section" id="binary-arithmetic-operations">
<span id="binary"></span><h2>5.6. Binary arithmetic operations</h2>
<p id="index-52">The binary arithmetic operations have the conventional priority levels.  Note
that some of these operations also apply to certain non-numeric types.  Apart
from the power operator, there are only two levels, one for multiplicative
operators and one for additive operators:</p>
<pre>
<strong id="grammar-token-m_expr">m_expr</strong> ::=  <a href="#grammar-token-u_expr"><code class="xref docutils literal"><span class="pre">u_expr</span></code></a> | <a href="#grammar-token-m_expr"><code class="xref docutils literal"><span class="pre">m_expr</span></code></a> &quot;*&quot; <a href="#grammar-token-u_expr"><code class="xref docutils literal"><span class="pre">u_expr</span></code></a> | <a href="#grammar-token-m_expr"><code class="xref docutils literal"><span class="pre">m_expr</span></code></a> &quot;//&quot; <a href="#grammar-token-u_expr"><code class="xref docutils literal"><span class="pre">u_expr</span></code></a> | <a href="#grammar-token-m_expr"><code class="xref docutils literal"><span class="pre">m_expr</span></code></a> &quot;/&quot; <a href="#grammar-token-u_expr"><code class="xref docutils literal"><span class="pre">u_expr</span></code></a>
            | <a href="#grammar-token-m_expr"><code class="xref docutils literal"><span class="pre">m_expr</span></code></a> &quot;%&quot; <a href="#grammar-token-u_expr"><code class="xref docutils literal"><span class="pre">u_expr</span></code></a>
<strong id="grammar-token-a_expr">a_expr</strong> ::=  <a href="#grammar-token-m_expr"><code class="xref docutils literal"><span class="pre">m_expr</span></code></a> | <a href="#grammar-token-a_expr"><code class="xref docutils literal"><span class="pre">a_expr</span></code></a> &quot;+&quot; <a href="#grammar-token-m_expr"><code class="xref docutils literal"><span class="pre">m_expr</span></code></a> | <a href="#grammar-token-a_expr"><code class="xref docutils literal"><span class="pre">a_expr</span></code></a> &quot;-&quot; <a href="#grammar-token-m_expr"><code class="xref docutils literal"><span class="pre">m_expr</span></code></a>
</pre>
<p id="index-53">The <code class="docutils literal"><span class="pre">*</span></code> (multiplication) operator yields the product of its arguments.  The
arguments must either both be numbers, or one argument must be an integer (plain
or long) and the other must be a sequence. In the former case, the numbers are
converted to a common type and then multiplied together.  In the latter case,
sequence repetition is performed; a negative repetition factor yields an empty
sequence.</p>
<p id="index-54">The <code class="docutils literal"><span class="pre">/</span></code> (division) and <code class="docutils literal"><span class="pre">//</span></code> (floor division) operators yield the quotient of
their arguments.  The numeric arguments are first converted to a common type.
Plain or long integer division yields an integer of the same type; the result is
that of mathematical division with the ‘floor’ function applied to the result.
Division by zero raises the <a href="../library/exceptions.html#exceptions.ZeroDivisionError" title="exceptions.ZeroDivisionError"><code class="xref py py-exc docutils literal"><span class="pre">ZeroDivisionError</span></code></a> exception.</p>
<p id="index-55">The <code class="docutils literal"><span class="pre">%</span></code> (modulo) operator yields the remainder from the division of the first
argument by the second.  The numeric arguments are first converted to a common
type.  A zero right argument raises the <a href="../library/exceptions.html#exceptions.ZeroDivisionError" title="exceptions.ZeroDivisionError"><code class="xref py py-exc docutils literal"><span class="pre">ZeroDivisionError</span></code></a> exception.  The
arguments may be floating point numbers, e.g., <code class="docutils literal"><span class="pre">3.14%0.7</span></code> equals <code class="docutils literal"><span class="pre">0.34</span></code>
(since <code class="docutils literal"><span class="pre">3.14</span></code> equals <code class="docutils literal"><span class="pre">4*0.7</span> <span class="pre">+</span> <span class="pre">0.34</span></code>.)  The modulo operator always yields a
result with the same sign as its second operand (or zero); the absolute value of
the result is strictly smaller than the absolute value of the second operand
<a class="footnote-reference" href="#id20" id="id10">[2]</a>.</p>
<p>The integer division and modulo operators are connected by the following
identity: <code class="docutils literal"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">(x/y)*y</span> <span class="pre">+</span> <span class="pre">(x%y)</span></code>.  Integer division and modulo are also
connected with the built-in function <a href="../library/functions.html#divmod" title="divmod"><code class="xref py py-func docutils literal"><span class="pre">divmod()</span></code></a>: <code class="docutils literal"><span class="pre">divmod(x,</span> <span class="pre">y)</span> <span class="pre">==</span> <span class="pre">(x/y,</span>
<span class="pre">x%y)</span></code>.  These identities don’t hold for floating point numbers; there similar
identities hold approximately where <code class="docutils literal"><span class="pre">x/y</span></code> is replaced by <code class="docutils literal"><span class="pre">floor(x/y)</span></code> or
<code class="docutils literal"><span class="pre">floor(x/y)</span> <span class="pre">-</span> <span class="pre">1</span></code> <a class="footnote-reference" href="#id21" id="id11">[3]</a>.</p>
<p>In addition to performing the modulo operation on numbers, the <code class="docutils literal"><span class="pre">%</span></code> operator is
also overloaded by string and unicode objects to perform string formatting (also
known as interpolation). The syntax for string formatting is described in the
Python Library Reference, section <a href="../library/stdtypes.html#string-formatting"><span class="std std-ref">String Formatting Operations</span></a>.</p>
<div class="deprecated">
<p><span>Deprecated since version 2.3: </span>The floor division operator, the modulo operator, and the <a href="../library/functions.html#divmod" title="divmod"><code class="xref py py-func docutils literal"><span class="pre">divmod()</span></code></a>
function are no longer defined for complex numbers.  Instead, convert to a
floating point number using the <a href="../library/functions.html#abs" title="abs"><code class="xref py py-func docutils literal"><span class="pre">abs()</span></code></a> function if appropriate.</p>
</div>
<p id="index-56">The <code class="docutils literal"><span class="pre">+</span></code> (addition) operator yields the sum of its arguments. The arguments
must either both be numbers or both sequences of the same type.  In the former
case, the numbers are converted to a common type and then added together.  In
the latter case, the sequences are concatenated.</p>
<p id="index-57">The <code class="docutils literal"><span class="pre">-</span></code> (subtraction) operator yields the difference of its arguments.  The
numeric arguments are first converted to a common type.</p>
</div>
<div class="section" id="shifting-operations">
<span id="shifting"></span><h2>5.7. Shifting operations</h2>
<p id="index-58">The shifting operations have lower priority than the arithmetic operations:</p>
<pre>
<strong id="grammar-token-shift_expr">shift_expr</strong> ::=  <a href="#grammar-token-a_expr"><code class="xref docutils literal"><span class="pre">a_expr</span></code></a> | <a href="#grammar-token-shift_expr"><code class="xref docutils literal"><span class="pre">shift_expr</span></code></a> ( &quot;&lt;&lt;&quot; | &quot;&gt;&gt;&quot; ) <a href="#grammar-token-a_expr"><code class="xref docutils literal"><span class="pre">a_expr</span></code></a>
</pre>
<p>These operators accept plain or long integers as arguments.  The arguments are
converted to a common type.  They shift the first argument to the left or right
by the number of bits given by the second argument.</p>
<p id="index-59">A right shift by <em>n</em> bits is defined as division by <code class="docutils literal"><span class="pre">pow(2,</span> <span class="pre">n)</span></code>.  A left shift
by <em>n</em> bits is defined as multiplication with <code class="docutils literal"><span class="pre">pow(2,</span> <span class="pre">n)</span></code>.  Negative shift
counts raise a <a href="../library/exceptions.html#exceptions.ValueError" title="exceptions.ValueError"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code></a> exception.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the current implementation, the right-hand operand is required
to be at most <a href="../library/sys.html#sys.maxsize" title="sys.maxsize"><code class="xref py py-attr docutils literal"><span class="pre">sys.maxsize</span></code></a>.  If the right-hand operand is larger than
<a href="../library/sys.html#sys.maxsize" title="sys.maxsize"><code class="xref py py-attr docutils literal"><span class="pre">sys.maxsize</span></code></a> an <a href="../library/exceptions.html#exceptions.OverflowError" title="exceptions.OverflowError"><code class="xref py py-exc docutils literal"><span class="pre">OverflowError</span></code></a> exception is raised.</p>
</div>
</div>
<div class="section" id="binary-bitwise-operations">
<span id="bitwise"></span><h2>5.8. Binary bitwise operations</h2>
<p id="index-60">Each of the three bitwise operations has a different priority level:</p>
<pre>
<strong id="grammar-token-and_expr">and_expr</strong> ::=  <a href="#grammar-token-shift_expr"><code class="xref docutils literal"><span class="pre">shift_expr</span></code></a> | <a href="#grammar-token-and_expr"><code class="xref docutils literal"><span class="pre">and_expr</span></code></a> &quot;&amp;&quot; <a href="#grammar-token-shift_expr"><code class="xref docutils literal"><span class="pre">shift_expr</span></code></a>
<strong id="grammar-token-xor_expr">xor_expr</strong> ::=  <a href="#grammar-token-and_expr"><code class="xref docutils literal"><span class="pre">and_expr</span></code></a> | <a href="#grammar-token-xor_expr"><code class="xref docutils literal"><span class="pre">xor_expr</span></code></a> &quot;^&quot; <a href="#grammar-token-and_expr"><code class="xref docutils literal"><span class="pre">and_expr</span></code></a>
<strong id="grammar-token-or_expr">or_expr </strong> ::=  <a href="#grammar-token-xor_expr"><code class="xref docutils literal"><span class="pre">xor_expr</span></code></a> | <a href="#grammar-token-or_expr"><code class="xref docutils literal"><span class="pre">or_expr</span></code></a> &quot;|&quot; <a href="#grammar-token-xor_expr"><code class="xref docutils literal"><span class="pre">xor_expr</span></code></a>
</pre>
<p id="index-61">The <code class="docutils literal"><span class="pre">&amp;</span></code> operator yields the bitwise AND of its arguments, which must be plain
or long integers.  The arguments are converted to a common type.</p>
<p id="index-62">The <code class="docutils literal"><span class="pre">^</span></code> operator yields the bitwise XOR (exclusive OR) of its arguments, which
must be plain or long integers.  The arguments are converted to a common type.</p>
<p id="index-63">The <code class="docutils literal"><span class="pre">|</span></code> operator yields the bitwise (inclusive) OR of its arguments, which
must be plain or long integers.  The arguments are converted to a common type.</p>
</div>
<div class="section" id="comparisons">
<span id="id12"></span><h2>5.9. Comparisons</h2>
<span class="target" id="index-64"></span><p id="index-65">Unlike C, all comparison operations in Python have the same priority, which is
lower than that of any arithmetic, shifting or bitwise operation.  Also unlike
C, expressions like <code class="docutils literal"><span class="pre">a</span> <span class="pre">&lt;</span> <span class="pre">b</span> <span class="pre">&lt;</span> <span class="pre">c</span></code> have the interpretation that is conventional
in mathematics:</p>
<pre>
<strong id="grammar-token-comparison">comparison   </strong> ::=  <a href="#grammar-token-or_expr"><code class="xref docutils literal"><span class="pre">or_expr</span></code></a> ( <a href="#grammar-token-comp_operator"><code class="xref docutils literal"><span class="pre">comp_operator</span></code></a> <a href="#grammar-token-or_expr"><code class="xref docutils literal"><span class="pre">or_expr</span></code></a> )*
<strong id="grammar-token-comp_operator">comp_operator</strong> ::=  &quot;&lt;&quot; | &quot;&gt;&quot; | &quot;==&quot; | &quot;&gt;=&quot; | &quot;&lt;=&quot; | &quot;&lt;&gt;&quot; | &quot;!=&quot;
                   | &quot;is&quot; [&quot;not&quot;] | [&quot;not&quot;] &quot;in&quot;
</pre>
<p>Comparisons yield boolean values: <code class="docutils literal"><span class="pre">True</span></code> or <code class="docutils literal"><span class="pre">False</span></code>.</p>
<p id="index-66">Comparisons can be chained arbitrarily, e.g., <code class="docutils literal"><span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">y</span> <span class="pre">&lt;=</span> <span class="pre">z</span></code> is equivalent to
<code class="docutils literal"><span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">y</span> <span class="pre">and</span> <span class="pre">y</span> <span class="pre">&lt;=</span> <span class="pre">z</span></code>, except that <code class="docutils literal"><span class="pre">y</span></code> is evaluated only once (but in both
cases <code class="docutils literal"><span class="pre">z</span></code> is not evaluated at all when <code class="docutils literal"><span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">y</span></code> is found to be false).</p>
<p>Formally, if <em>a</em>, <em>b</em>, <em>c</em>, …, <em>y</em>, <em>z</em> are expressions and <em>op1</em>, <em>op2</em>, …,
<em>opN</em> are comparison operators, then <code class="docutils literal"><span class="pre">a</span> <span class="pre">op1</span> <span class="pre">b</span> <span class="pre">op2</span> <span class="pre">c</span> <span class="pre">...</span> <span class="pre">y</span> <span class="pre">opN</span> <span class="pre">z</span></code> is equivalent
to <code class="docutils literal"><span class="pre">a</span> <span class="pre">op1</span> <span class="pre">b</span> <span class="pre">and</span> <span class="pre">b</span> <span class="pre">op2</span> <span class="pre">c</span> <span class="pre">and</span> <span class="pre">...</span> <span class="pre">y</span> <span class="pre">opN</span> <span class="pre">z</span></code>, except that each expression is
evaluated at most once.</p>
<p>Note that <code class="docutils literal"><span class="pre">a</span> <span class="pre">op1</span> <span class="pre">b</span> <span class="pre">op2</span> <span class="pre">c</span></code> doesn’t imply any kind of comparison between <em>a</em> and
<em>c</em>, so that, e.g., <code class="docutils literal"><span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">y</span> <span class="pre">&gt;</span> <span class="pre">z</span></code> is perfectly legal (though perhaps not
pretty).</p>
<p>The forms <code class="docutils literal"><span class="pre">&lt;&gt;</span></code> and <code class="docutils literal"><span class="pre">!=</span></code> are equivalent; for consistency with C, <code class="docutils literal"><span class="pre">!=</span></code> is
preferred; where <code class="docutils literal"><span class="pre">!=</span></code> is mentioned below <code class="docutils literal"><span class="pre">&lt;&gt;</span></code> is also accepted.  The <code class="docutils literal"><span class="pre">&lt;&gt;</span></code>
spelling is considered obsolescent.</p>
<div class="section" id="value-comparisons">
<h3>5.9.1. Value comparisons</h3>
<p>The operators <code class="docutils literal"><span class="pre">&lt;</span></code>, <code class="docutils literal"><span class="pre">&gt;</span></code>, <code class="docutils literal"><span class="pre">==</span></code>, <code class="docutils literal"><span class="pre">&gt;=</span></code>, <code class="docutils literal"><span class="pre">&lt;=</span></code>, and <code class="docutils literal"><span class="pre">!=</span></code> compare the
values of two objects.  The objects do not need to have the same type.</p>
<p>Chapter <a href="#objects"><span class="std std-ref">Objects, values and types</span></a> states that objects have a value (in addition to type
and identity).  The value of an object is a rather abstract notion in Python:
For example, there is no canonical access method for an object’s value.  Also,
there is no requirement that the value of an object should be constructed in a
particular way, e.g. comprised of all its data attributes. Comparison operators
implement a particular notion of what the value of an object is.  One can think
of them as defining the value of an object indirectly, by means of their
comparison implementation.</p>
<p>Types can customize their comparison behavior by implementing
a <a href="#object.__cmp__" title="object.__cmp__"><code class="xref py py-meth docutils literal"><span class="pre">__cmp__()</span></code></a> method or
<em class="dfn">rich comparison methods</em> like <a href="#object.__lt__" title="object.__lt__"><code class="xref py py-meth docutils literal"><span class="pre">__lt__()</span></code></a>, described in
<a href="#customization"><span class="std std-ref">Basic customization</span></a>.</p>
<p>The default behavior for equality comparison (<code class="docutils literal"><span class="pre">==</span></code> and <code class="docutils literal"><span class="pre">!=</span></code>) is based on
the identity of the objects.  Hence, equality comparison of instances with the
same identity results in equality, and equality comparison of instances with
different identities results in inequality.  A motivation for this default
behavior is the desire that all objects should be reflexive (i.e. <code class="docutils literal"><span class="pre">x</span> <span class="pre">is</span> <span class="pre">y</span></code>
implies <code class="docutils literal"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">y</span></code>).</p>
<p>The default order comparison (<code class="docutils literal"><span class="pre">&lt;</span></code>, <code class="docutils literal"><span class="pre">&gt;</span></code>, <code class="docutils literal"><span class="pre">&lt;=</span></code>, and <code class="docutils literal"><span class="pre">&gt;=</span></code>) gives a
consistent but arbitrary order.</p>
<p>(This unusual definition of comparison was used to simplify the definition of
operations like sorting and the <a href="#in"><code class="xref std std-keyword docutils literal"><span class="pre">in</span></code></a> and <a href="#not-in"><code class="xref std std-keyword docutils literal"><span class="pre">not</span> <span class="pre">in</span></code></a> operators.
In the future, the comparison rules for objects of different types are likely to
change.)</p>
<p>The behavior of the default equality comparison, that instances with different
identities are always unequal, may be in contrast to what types will need that
have a sensible definition of object value and value-based equality.  Such
types will need to customize their comparison behavior, and in fact, a number
of built-in types have done that.</p>
<p>The following list describes the comparison behavior of the most important
built-in types.</p>
<ul>
<li><p class="first">Numbers of built-in numeric types (<a href="../library/stdtypes.html#typesnumeric"><span class="std std-ref">Numeric Types — int, float, long, complex</span></a>) and of the standard
library types <a href="../library/fractions.html#fractions.Fraction" title="fractions.Fraction"><code class="xref py py-class docutils literal"><span class="pre">fractions.Fraction</span></code></a> and <a href="../library/decimal.html#decimal.Decimal" title="decimal.Decimal"><code class="xref py py-class docutils literal"><span class="pre">decimal.Decimal</span></code></a> can be
compared within and across their types, with the restriction that complex
numbers do not support order comparison.  Within the limits of the types
involved, they compare mathematically (algorithmically) correct without loss
of precision.</p>
</li>
<li><p class="first">Strings (instances of <a href="../library/functions.html#str" title="str"><code class="xref py py-class docutils literal"><span class="pre">str</span></code></a> or <a href="../library/functions.html#unicode" title="unicode"><code class="xref py py-class docutils literal"><span class="pre">unicode</span></code></a>)
compare lexicographically using the numeric equivalents (the
result of the built-in function <a href="../library/functions.html#ord" title="ord"><code class="xref py py-func docutils literal"><span class="pre">ord()</span></code></a>) of their characters. <a class="footnote-reference" href="#id22" id="id13">[4]</a>
When comparing an 8-bit string and a Unicode string, the 8-bit string
is converted to Unicode.  If the conversion fails, the strings
are considered unequal.</p>
</li>
<li><p class="first">Instances of <a href="../library/functions.html#tuple" title="tuple"><code class="xref py py-class docutils literal"><span class="pre">tuple</span></code></a> or <code class="xref py py-class docutils literal"><span class="pre">list</span></code> can be compared only
within each of their types.  Equality comparison across these types
results in unequality, and ordering comparison across these types
gives an arbitrary order.</p>
<p>These sequences compare lexicographically using comparison of corresponding
elements, whereby reflexivity of the elements is enforced.</p>
<p>In enforcing reflexivity of elements, the comparison of collections assumes
that for a collection element <code class="docutils literal"><span class="pre">x</span></code>, <code class="docutils literal"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">x</span></code> is always true.  Based on
that assumption, element identity is compared first, and element comparison
is performed only for distinct elements.  This approach yields the same
result as a strict element comparison would, if the compared elements are
reflexive.  For non-reflexive elements, the result is different than for
strict element comparison.</p>
<p>Lexicographical comparison between built-in collections works as follows:</p>
<ul class="simple">
<li>For two collections to compare equal, they must be of the same type, have
the same length, and each pair of corresponding elements must compare
equal (for example, <code class="docutils literal"><span class="pre">[1,2]</span> <span class="pre">==</span> <span class="pre">(1,2)</span></code> is false because the type is not the
same).</li>
<li>Collections are ordered the same as their
first unequal elements (for example, <code class="docutils literal"><span class="pre">cmp([1,2,x],</span> <span class="pre">[1,2,y])</span></code> returns the
same as <code class="docutils literal"><span class="pre">cmp(x,y)</span></code>).  If a corresponding element does not exist, the
shorter collection is ordered first (for example, <code class="docutils literal"><span class="pre">[1,2]</span> <span class="pre">&lt;</span> <span class="pre">[1,2,3]</span></code> is
true).</li>
</ul>
</li>
<li><p class="first">Mappings (instances of <a href="../library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal"><span class="pre">dict</span></code></a>) compare equal if and only if they have
equal <cite>(key, value)</cite> pairs. Equality comparison of the keys and values
enforces reflexivity.</p>
<p>Outcomes other than equality are resolved
consistently, but are not otherwise defined. <a class="footnote-reference" href="#id23" id="id14">[5]</a></p>
</li>
<li><p class="first">Most other objects of built-in types compare unequal unless they are the same
object; the choice whether one object is considered smaller or larger than
another one is made arbitrarily but consistently within one execution of a
program.</p>
</li>
</ul>
<p>User-defined classes that customize their comparison behavior should follow
some consistency rules, if possible:</p>
<ul>
<li><p class="first">Equality comparison should be reflexive.
In other words, identical objects should compare equal:</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">x</span> <span class="pre">is</span> <span class="pre">y</span></code> implies <code class="docutils literal"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">y</span></code></p>
</div></blockquote>
</li>
<li><p class="first">Comparison should be symmetric.
In other words, the following expressions should have the same result:</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">y</span></code> and <code class="docutils literal"><span class="pre">y</span> <span class="pre">==</span> <span class="pre">x</span></code></p>
<p><code class="docutils literal"><span class="pre">x</span> <span class="pre">!=</span> <span class="pre">y</span></code> and <code class="docutils literal"><span class="pre">y</span> <span class="pre">!=</span> <span class="pre">x</span></code></p>
<p><code class="docutils literal"><span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">y</span></code> and <code class="docutils literal"><span class="pre">y</span> <span class="pre">&gt;</span> <span class="pre">x</span></code></p>
<p><code class="docutils literal"><span class="pre">x</span> <span class="pre">&lt;=</span> <span class="pre">y</span></code> and <code class="docutils literal"><span class="pre">y</span> <span class="pre">&gt;=</span> <span class="pre">x</span></code></p>
</div></blockquote>
</li>
<li><p class="first">Comparison should be transitive.
The following (non-exhaustive) examples illustrate that:</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">y</span> <span class="pre">and</span> <span class="pre">y</span> <span class="pre">&gt;</span> <span class="pre">z</span></code> implies <code class="docutils literal"><span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">z</span></code></p>
<p><code class="docutils literal"><span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">y</span> <span class="pre">and</span> <span class="pre">y</span> <span class="pre">&lt;=</span> <span class="pre">z</span></code> implies <code class="docutils literal"><span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">z</span></code></p>
</div></blockquote>
</li>
<li><p class="first">Inverse comparison should result in the boolean negation.
In other words, the following expressions should have the same result:</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">y</span></code> and <code class="docutils literal"><span class="pre">not</span> <span class="pre">x</span> <span class="pre">!=</span> <span class="pre">y</span></code></p>
<p><code class="docutils literal"><span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">y</span></code> and <code class="docutils literal"><span class="pre">not</span> <span class="pre">x</span> <span class="pre">&gt;=</span> <span class="pre">y</span></code> (for total ordering)</p>
<p><code class="docutils literal"><span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">y</span></code> and <code class="docutils literal"><span class="pre">not</span> <span class="pre">x</span> <span class="pre">&lt;=</span> <span class="pre">y</span></code> (for total ordering)</p>
</div></blockquote>
<p>The last two expressions apply to totally ordered collections (e.g. to
sequences, but not to sets or mappings). See also the
<a href="../library/functools.html#functools.total_ordering" title="functools.total_ordering"><code class="xref py py-func docutils literal"><span class="pre">total_ordering()</span></code></a> decorator.</p>
</li>
<li><p class="first">The <a href="../library/functions.html#hash" title="hash"><code class="xref py py-func docutils literal"><span class="pre">hash()</span></code></a> result should be consistent with equality.
Objects that are equal should either have the same hash value,
or be marked as unhashable.</p>
</li>
</ul>
<p>Python does not enforce these consistency rules.</p>
</div>
<div class="section" id="membership-test-operations">
<span id="membership-test-details"></span><span id="not-in"></span><span id="in"></span><h3>5.9.2. Membership test operations</h3>
<p>The operators <a href="#in"><code class="xref std std-keyword docutils literal"><span class="pre">in</span></code></a> and <a href="#not-in"><code class="xref std std-keyword docutils literal"><span class="pre">not</span> <span class="pre">in</span></code></a> test for membership.  <code class="docutils literal"><span class="pre">x</span> <span class="pre">in</span>
<span class="pre">s</span></code> evaluates to <code class="docutils literal"><span class="pre">True</span></code> if <em>x</em> is a member of <em>s</em>, and <code class="docutils literal"><span class="pre">False</span></code> otherwise.
<code class="docutils literal"><span class="pre">x</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">s</span></code> returns the negation of <code class="docutils literal"><span class="pre">x</span> <span class="pre">in</span> <span class="pre">s</span></code>.  All built-in sequences and
set types support this as well as dictionary, for which <a href="#in"><code class="xref std std-keyword docutils literal"><span class="pre">in</span></code></a> tests
whether the dictionary has a given key. For container types such as list, tuple,
set, frozenset, dict, or collections.deque, the expression <code class="docutils literal"><span class="pre">x</span> <span class="pre">in</span> <span class="pre">y</span></code> is equivalent
to <code class="docutils literal"><span class="pre">any(x</span> <span class="pre">is</span> <span class="pre">e</span> <span class="pre">or</span> <span class="pre">x</span> <span class="pre">==</span> <span class="pre">e</span> <span class="pre">for</span> <span class="pre">e</span> <span class="pre">in</span> <span class="pre">y)</span></code>.</p>
<p>For the string and bytes types, <code class="docutils literal"><span class="pre">x</span> <span class="pre">in</span> <span class="pre">y</span></code> is <code class="docutils literal"><span class="pre">True</span></code> if and only if <em>x</em> is a
substring of <em>y</em>.  An equivalent test is <code class="docutils literal"><span class="pre">y.find(x)</span> <span class="pre">!=</span> <span class="pre">-1</span></code>.  Empty strings are
always considered to be a substring of any other string, so <code class="docutils literal"><span class="pre">&quot;&quot;</span> <span class="pre">in</span> <span class="pre">&quot;abc&quot;</span></code> will
return <code class="docutils literal"><span class="pre">True</span></code>.</p>
<p>For user-defined classes which define the <a href="#object.__contains__" title="object.__contains__"><code class="xref py py-meth docutils literal"><span class="pre">__contains__()</span></code></a> method, <code class="docutils literal"><span class="pre">x</span> <span class="pre">in</span>
<span class="pre">y</span></code> returns <code class="docutils literal"><span class="pre">True</span></code> if <code class="docutils literal"><span class="pre">y.__contains__(x)</span></code> returns a true value, and
<code class="docutils literal"><span class="pre">False</span></code> otherwise.</p>
<p>For user-defined classes which do not define <a href="#object.__contains__" title="object.__contains__"><code class="xref py py-meth docutils literal"><span class="pre">__contains__()</span></code></a> but do define
<a href="#object.__iter__" title="object.__iter__"><code class="xref py py-meth docutils literal"><span class="pre">__iter__()</span></code></a>, <code class="docutils literal"><span class="pre">x</span> <span class="pre">in</span> <span class="pre">y</span></code> is <code class="docutils literal"><span class="pre">True</span></code> if some value <code class="docutils literal"><span class="pre">z</span></code> with <code class="docutils literal"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">z</span></code> is
produced while iterating over <code class="docutils literal"><span class="pre">y</span></code>.  If an exception is raised during the
iteration, it is as if <a href="#in"><code class="xref std std-keyword docutils literal"><span class="pre">in</span></code></a> raised that exception.</p>
<p>Lastly, the old-style iteration protocol is tried: if a class defines
<a href="#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></code></a>, <code class="docutils literal"><span class="pre">x</span> <span class="pre">in</span> <span class="pre">y</span></code> is <code class="docutils literal"><span class="pre">True</span></code> if and only if there is a non-negative
integer index <em>i</em> such that <code class="docutils literal"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">y[i]</span></code>, and all lower integer indices do not
raise <a href="../library/exceptions.html#exceptions.IndexError" title="exceptions.IndexError"><code class="xref py py-exc docutils literal"><span class="pre">IndexError</span></code></a> exception. (If any other exception is raised, it is as
if <a href="#in"><code class="xref std std-keyword docutils literal"><span class="pre">in</span></code></a> raised that exception).</p>
<p id="index-67">The operator <a href="#not-in"><code class="xref std std-keyword docutils literal"><span class="pre">not</span> <span class="pre">in</span></code></a> is defined to have the inverse true value of
<a href="#in"><code class="xref std std-keyword docutils literal"><span class="pre">in</span></code></a>.</p>
</div>
<div class="section" id="is-not">
<span id="is"></span><span id="index-68"></span><span id="identity-comparisons"></span><h3>5.9.3. Identity comparisons</h3>
<p>The operators <a href="#is"><code class="xref std std-keyword docutils literal"><span class="pre">is</span></code></a> and <a href="#is-not"><code class="xref std std-keyword docutils literal"><span class="pre">is</span> <span class="pre">not</span></code></a> test for object identity: <code class="docutils literal"><span class="pre">x</span>
<span class="pre">is</span> <span class="pre">y</span></code> is true if and only if <em>x</em> and <em>y</em> are the same object.  <code class="docutils literal"><span class="pre">x</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">y</span></code>
yields the inverse truth value. <a class="footnote-reference" href="#id24" id="id15">[6]</a></p>
</div>
</div>
<div class="section" id="boolean-operations">
<span id="not"></span><span id="or"></span><span id="and"></span><span id="booleans"></span><h2>5.10. Boolean operations</h2>
<pre id="index-69">
<strong id="grammar-token-or_test">or_test </strong> ::=  <a href="#grammar-token-and_test"><code class="xref docutils literal"><span class="pre">and_test</span></code></a> | <a href="#grammar-token-or_test"><code class="xref docutils literal"><span class="pre">or_test</span></code></a> &quot;or&quot; <a href="#grammar-token-and_test"><code class="xref docutils literal"><span class="pre">and_test</span></code></a>
<strong id="grammar-token-and_test">and_test</strong> ::=  <a href="#grammar-token-not_test"><code class="xref docutils literal"><span class="pre">not_test</span></code></a> | <a href="#grammar-token-and_test"><code class="xref docutils literal"><span class="pre">and_test</span></code></a> &quot;and&quot; <a href="#grammar-token-not_test"><code class="xref docutils literal"><span class="pre">not_test</span></code></a>
<strong id="grammar-token-not_test">not_test</strong> ::=  <a href="#grammar-token-comparison"><code class="xref docutils literal"><span class="pre">comparison</span></code></a> | &quot;not&quot; <a href="#grammar-token-not_test"><code class="xref docutils literal"><span class="pre">not_test</span></code></a>
</pre>
<p>In the context of Boolean operations, and also when expressions are used by
control flow statements, the following values are interpreted as false:
<code class="docutils literal"><span class="pre">False</span></code>, <code class="docutils literal"><span class="pre">None</span></code>, numeric zero of all types, and empty strings and containers
(including strings, tuples, lists, dictionaries, sets and frozensets).  All
other values are interpreted as true.  (See the <a href="#object.__nonzero__" title="object.__nonzero__"><code class="xref py py-meth docutils literal"><span class="pre">__nonzero__()</span></code></a>
special method for a way to change this.)</p>
<p id="index-70">The operator <a href="#not"><code class="xref std std-keyword docutils literal"><span class="pre">not</span></code></a> yields <code class="docutils literal"><span class="pre">True</span></code> if its argument is false, <code class="docutils literal"><span class="pre">False</span></code>
otherwise.</p>
<p id="index-71">The expression <code class="docutils literal"><span class="pre">x</span> <span class="pre">and</span> <span class="pre">y</span></code> first evaluates <em>x</em>; if <em>x</em> is false, its value is
returned; otherwise, <em>y</em> is evaluated and the resulting value is returned.</p>
<p id="index-72">The expression <code class="docutils literal"><span class="pre">x</span> <span class="pre">or</span> <span class="pre">y</span></code> first evaluates <em>x</em>; if <em>x</em> is true, its value is
returned; otherwise, <em>y</em> is evaluated and the resulting value is returned.</p>
<p>(Note that neither <a href="#and"><code class="xref std std-keyword docutils literal"><span class="pre">and</span></code></a> nor <a href="#or"><code class="xref std std-keyword docutils literal"><span class="pre">or</span></code></a> restrict the value and type
they return to <code class="docutils literal"><span class="pre">False</span></code> and <code class="docutils literal"><span class="pre">True</span></code>, but rather return the last evaluated
argument. This is sometimes useful, e.g., if <code class="docutils literal"><span class="pre">s</span></code> is a string that should be
replaced by a default value if it is empty, the expression <code class="docutils literal"><span class="pre">s</span> <span class="pre">or</span> <span class="pre">'foo'</span></code> yields
the desired value.  Because <a href="#not"><code class="xref std std-keyword docutils literal"><span class="pre">not</span></code></a> has to invent a value anyway, it does
not bother to return a value of the same type as its argument, so e.g., <code class="docutils literal"><span class="pre">not</span>
<span class="pre">'foo'</span></code> yields <code class="docutils literal"><span class="pre">False</span></code>, not <code class="docutils literal"><span class="pre">''</span></code>.)</p>
</div>
<div class="section" id="conditional-expressions">
<h2>5.11. Conditional Expressions</h2>
<div class="versionadded">
<p><span>New in version 2.5.</span></p>
</div>
<pre id="index-73">
<strong id="grammar-token-conditional_expression">conditional_expression</strong> ::=  <a href="#grammar-token-or_test"><code class="xref docutils literal"><span class="pre">or_test</span></code></a> [&quot;if&quot; <a href="#grammar-token-or_test"><code class="xref docutils literal"><span class="pre">or_test</span></code></a> &quot;else&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>]
<strong id="grammar-token-expression">expression            </strong> ::=  <a href="#grammar-token-conditional_expression"><code class="xref docutils literal"><span class="pre">conditional_expression</span></code></a> | <a href="#grammar-token-lambda_expr"><code class="xref docutils literal"><span class="pre">lambda_expr</span></code></a>
</pre>
<p>Conditional expressions (sometimes called a “ternary operator”) have the lowest
priority of all Python operations.</p>
<p>The expression <code class="docutils literal"><span class="pre">x</span> <span class="pre">if</span> <span class="pre">C</span> <span class="pre">else</span> <span class="pre">y</span></code> first evaluates the condition, <em>C</em> (<em>not</em> <em>x</em>);
if <em>C</em> is true, <em>x</em> is evaluated and its value is returned; otherwise, <em>y</em> is
evaluated and its value is returned.</p>
<p>See <span class="target" id="index-74"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0308"><strong>PEP 308</strong></a> for more details about conditional expressions.</p>
</div>
<div class="section" id="lambda">
<span id="lambdas"></span><span id="id16"></span><h2>5.12. Lambdas</h2>
<pre id="index-75">
<strong id="grammar-token-lambda_expr">lambda_expr    </strong> ::=  &quot;lambda&quot; [<a href="#grammar-token-parameter_list"><code class="xref docutils literal"><span class="pre">parameter_list</span></code></a>]: <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>
<strong id="grammar-token-old_lambda_expr">old_lambda_expr</strong> ::=  &quot;lambda&quot; [<a href="#grammar-token-parameter_list"><code class="xref docutils literal"><span class="pre">parameter_list</span></code></a>]: <a href="#grammar-token-old_expression"><code class="xref docutils literal"><span class="pre">old_expression</span></code></a>
</pre>
<p>Lambda expressions (sometimes called lambda forms) have the same syntactic position as
expressions.  They are a shorthand to create anonymous functions; the expression
<code class="docutils literal"><span class="pre">lambda</span> <span class="pre">arguments:</span> <span class="pre">expression</span></code> yields a function object.  The unnamed object
behaves like a function object defined with</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="n">arguments</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">expression</span>
</pre></div>
</div>
<p>See section <a href="#function"><span class="std std-ref">Function definitions</span></a> for the syntax of parameter lists.  Note that
functions created with lambda expressions cannot contain statements.</p>
</div>
<div class="section" id="expression-lists">
<span id="exprlists"></span><h2>5.13. Expression lists</h2>
<pre id="index-76">
<strong id="grammar-token-expression_list">expression_list</strong> ::=  <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> ( &quot;,&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> )* [&quot;,&quot;]
</pre>
<p id="index-77">An expression list containing at least one comma yields a tuple.  The length of
the tuple is the number of expressions in the list.  The expressions are
evaluated from left to right.</p>
<p id="index-78">The trailing comma is required only to create a single tuple (a.k.a. a
<em>singleton</em>); it is optional in all other cases.  A single expression without a
trailing comma doesn’t create a tuple, but rather yields the value of that
expression. (To create an empty tuple, use an empty pair of parentheses:
<code class="docutils literal"><span class="pre">()</span></code>.)</p>
</div>
<div class="section" id="evaluation-order">
<span id="evalorder"></span><h2>5.14. Evaluation order</h2>
<p id="index-79">Python evaluates expressions from left to right. Notice that while evaluating an
assignment, the right-hand side is evaluated before the left-hand side.</p>
<p>In the following lines, expressions will be evaluated in the arithmetic order of
their suffixes:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">expr1</span><span class="p">,</span> <span class="n">expr2</span><span class="p">,</span> <span class="n">expr3</span><span class="p">,</span> <span class="n">expr4</span>
<span class="p">(</span><span class="n">expr1</span><span class="p">,</span> <span class="n">expr2</span><span class="p">,</span> <span class="n">expr3</span><span class="p">,</span> <span class="n">expr4</span><span class="p">)</span>
<span class="p">{</span><span class="n">expr1</span><span class="p">:</span> <span class="n">expr2</span><span class="p">,</span> <span class="n">expr3</span><span class="p">:</span> <span class="n">expr4</span><span class="p">}</span>
<span class="n">expr1</span> <span class="o">+</span> <span class="n">expr2</span> <span class="o">*</span> <span class="p">(</span><span class="n">expr3</span> <span class="o">-</span> <span class="n">expr4</span><span class="p">)</span>
<span class="n">expr1</span><span class="p">(</span><span class="n">expr2</span><span class="p">,</span> <span class="n">expr3</span><span class="p">,</span> <span class="o">*</span><span class="n">expr4</span><span class="p">,</span> <span class="o">**</span><span class="n">expr5</span><span class="p">)</span>
<span class="n">expr3</span><span class="p">,</span> <span class="n">expr4</span> <span class="o">=</span> <span class="n">expr1</span><span class="p">,</span> <span class="n">expr2</span>
</pre></div>
</div>
</div>
<div class="section" id="operator-precedence">
<span id="operator-summary"></span><h2>5.15. Operator precedence</h2>
<p id="index-80">The following table summarizes the operator precedences in Python, from lowest
precedence (least binding) to highest precedence (most binding). Operators in
the same box have the same precedence.  Unless the syntax is explicitly given,
operators are binary.  Operators in the same box group left to right (except for
comparisons, including tests, which all have the same precedence and chain from
left to right — see section <a href="#comparisons"><span class="std std-ref">Comparisons</span></a> — and exponentiation, which
groups from right to left).</p>
<table border="1" class="docutils">
<colgroup>
<col width="56%" />
<col width="44%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operator</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a href="#lambda"><code class="xref std std-keyword docutils literal"><span class="pre">lambda</span></code></a></td>
<td>Lambda expression</td>
</tr>
<tr class="row-odd"><td><a href="#if"><code class="xref std std-keyword docutils literal"><span class="pre">if</span></code></a> – <a href="#else"><code class="xref std std-keyword docutils literal"><span class="pre">else</span></code></a></td>
<td>Conditional expression</td>
</tr>
<tr class="row-even"><td><a href="#or"><code class="xref std std-keyword docutils literal"><span class="pre">or</span></code></a></td>
<td>Boolean OR</td>
</tr>
<tr class="row-odd"><td><a href="#and"><code class="xref std std-keyword docutils literal"><span class="pre">and</span></code></a></td>
<td>Boolean AND</td>
</tr>
<tr class="row-even"><td><a href="#not"><code class="xref std std-keyword docutils literal"><span class="pre">not</span></code></a> <code class="docutils literal"><span class="pre">x</span></code></td>
<td>Boolean NOT</td>
</tr>
<tr class="row-odd"><td><a href="#in"><code class="xref std std-keyword docutils literal"><span class="pre">in</span></code></a>, <a href="#not-in"><code class="xref std std-keyword docutils literal"><span class="pre">not</span> <span class="pre">in</span></code></a>,
<a href="#is"><code class="xref std std-keyword docutils literal"><span class="pre">is</span></code></a>, <a href="#is-not"><code class="xref std std-keyword docutils literal"><span class="pre">is</span> <span class="pre">not</span></code></a>, <code class="docutils literal"><span class="pre">&lt;</span></code>,
<code class="docutils literal"><span class="pre">&lt;=</span></code>, <code class="docutils literal"><span class="pre">&gt;</span></code>, <code class="docutils literal"><span class="pre">&gt;=</span></code>, <code class="docutils literal"><span class="pre">&lt;&gt;</span></code>, <code class="docutils literal"><span class="pre">!=</span></code>, <code class="docutils literal"><span class="pre">==</span></code></td>
<td>Comparisons, including membership
tests and identity tests</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">|</span></code></td>
<td>Bitwise OR</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">^</span></code></td>
<td>Bitwise XOR</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&amp;</span></code></td>
<td>Bitwise AND</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;&lt;</span></code>, <code class="docutils literal"><span class="pre">&gt;&gt;</span></code></td>
<td>Shifts</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">+</span></code>, <code class="docutils literal"><span class="pre">-</span></code></td>
<td>Addition and subtraction</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">*</span></code>, <code class="docutils literal"><span class="pre">/</span></code>, <code class="docutils literal"><span class="pre">//</span></code>, <code class="docutils literal"><span class="pre">%</span></code></td>
<td>Multiplication, division, remainder
<a class="footnote-reference" href="#id25" id="id17">[7]</a></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">+x</span></code>, <code class="docutils literal"><span class="pre">-x</span></code>, <code class="docutils literal"><span class="pre">~x</span></code></td>
<td>Positive, negative, bitwise NOT</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">**</span></code></td>
<td>Exponentiation <a class="footnote-reference" href="#id26" id="id18">[8]</a></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">x[index]</span></code>, <code class="docutils literal"><span class="pre">x[index:index]</span></code>,
<code class="docutils literal"><span class="pre">x(arguments...)</span></code>, <code class="docutils literal"><span class="pre">x.attribute</span></code></td>
<td>Subscription, slicing,
call, attribute reference</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">(expressions...)</span></code>,
<code class="docutils literal"><span class="pre">[expressions...]</span></code>,
<code class="docutils literal"><span class="pre">{key:</span> <span class="pre">value...}</span></code>,
<code class="docutils literal"><span class="pre">`expressions...`</span></code></td>
<td>Binding or tuple display,
list display,
dictionary display,
string conversion</td>
</tr>
</tbody>
</table>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="id19" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[1]</a></td><td>In Python 2.3 and later releases, a list comprehension “leaks” the control
variables of each <code class="docutils literal"><span class="pre">for</span></code> it contains into the containing scope.  However, this
behavior is deprecated, and relying on it will not work in Python 3.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id20" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id10">[2]</a></td><td>While <code class="docutils literal"><span class="pre">abs(x%y)</span> <span class="pre">&lt;</span> <span class="pre">abs(y)</span></code> is true mathematically, for floats it may not be
true numerically due to roundoff.  For example, and assuming a platform on which
a Python float is an IEEE 754 double-precision number, in order that <code class="docutils literal"><span class="pre">-1e-100</span> <span class="pre">%</span>
<span class="pre">1e100</span></code> have the same sign as <code class="docutils literal"><span class="pre">1e100</span></code>, the computed result is <code class="docutils literal"><span class="pre">-1e-100</span> <span class="pre">+</span>
<span class="pre">1e100</span></code>, which is numerically exactly equal to <code class="docutils literal"><span class="pre">1e100</span></code>.  The function
<a href="../library/math.html#math.fmod" title="math.fmod"><code class="xref py py-func docutils literal"><span class="pre">math.fmod()</span></code></a> returns a result whose sign matches the sign of the
first argument instead, and so returns <code class="docutils literal"><span class="pre">-1e-100</span></code> in this case. Which approach
is more appropriate depends on the application.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id21" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id11">[3]</a></td><td>If x is very close to an exact integer multiple of y, it’s possible for
<code class="docutils literal"><span class="pre">floor(x/y)</span></code> to be one larger than <code class="docutils literal"><span class="pre">(x-x%y)/y</span></code> due to rounding.  In such
cases, Python returns the latter result, in order to preserve that
<code class="docutils literal"><span class="pre">divmod(x,y)[0]</span> <span class="pre">*</span> <span class="pre">y</span> <span class="pre">+</span> <span class="pre">x</span> <span class="pre">%</span> <span class="pre">y</span></code> be very close to <code class="docutils literal"><span class="pre">x</span></code>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id22" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id13">[4]</a></td><td><p class="first">The Unicode standard distinguishes between <em class="dfn">code points</em>
(e.g. U+0041) and <em class="dfn">abstract characters</em> (e.g. “LATIN CAPITAL LETTER A”).
While most abstract characters in Unicode are only represented using one
code point, there is a number of abstract characters that can in addition be
represented using a sequence of more than one code point.  For example, the
abstract character “LATIN CAPITAL LETTER C WITH CEDILLA” can be represented
as a single <em class="dfn">precomposed character</em> at code position U+00C7, or as a
sequence of a <em class="dfn">base character</em> at code position U+0043 (LATIN CAPITAL
LETTER C), followed by a <em class="dfn">combining character</em> at code position U+0327
(COMBINING CEDILLA).</p>
<p>The comparison operators on unicode strings compare at the level of Unicode code
points. This may be counter-intuitive to humans.  For example,
<code class="docutils literal"><span class="pre">u&quot;\u00C7&quot;</span> <span class="pre">==</span> <span class="pre">u&quot;\u0043\u0327&quot;</span></code> is <code class="docutils literal"><span class="pre">False</span></code>, even though both strings
represent the same abstract character “LATIN CAPITAL LETTER C WITH CEDILLA”.</p>
<p class="last">To compare strings at the level of abstract characters (that is, in a way
intuitive to humans), use <a href="../library/unicodedata.html#unicodedata.normalize" title="unicodedata.normalize"><code class="xref py py-func docutils literal"><span class="pre">unicodedata.normalize()</span></code></a>.</p>
</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id23" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id14">[5]</a></td><td>Earlier versions of Python used lexicographic comparison of the sorted (key,
value) lists, but this was very expensive for the common case of comparing for
equality.  An even earlier version of Python compared dictionaries by identity
only, but this caused surprises because people expected to be able to test a
dictionary for emptiness by comparing it to <code class="docutils literal"><span class="pre">{}</span></code>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id24" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id15">[6]</a></td><td>Due to automatic garbage-collection, free lists, and the dynamic nature of
descriptors, you may notice seemingly unusual behaviour in certain uses of
the <a href="#is"><code class="xref std std-keyword docutils literal"><span class="pre">is</span></code></a> operator, like those involving comparisons between instance
methods, or constants.  Check their documentation for more info.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id25" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id17">[7]</a></td><td>The <code class="docutils literal"><span class="pre">%</span></code> operator is also used for string formatting; the same
precedence applies.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id26" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id18">[8]</a></td><td>The power operator <code class="docutils literal"><span class="pre">**</span></code> binds less tightly than an arithmetic or
bitwise unary operator on its right, that is, <code class="docutils literal"><span class="pre">2**-1</span></code> is <code class="docutils literal"><span class="pre">0.5</span></code>.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
  <div class="section" id="simple-statements">
<span id="simple"></span><h1></h1><h1>6. Simple statements</h1>
<p id="index-0">Simple statements are comprised within a single logical line. Several simple
statements may occur on a single line separated by semicolons.  The syntax for
simple statements is:</p>
<pre>
<strong id="grammar-token-simple_stmt">simple_stmt</strong> ::=  <a href="#grammar-token-expression_stmt"><code class="xref docutils literal"><span class="pre">expression_stmt</span></code></a>
                 | <a href="#grammar-token-assert_stmt"><code class="xref docutils literal"><span class="pre">assert_stmt</span></code></a>
                 | <a href="#grammar-token-assignment_stmt"><code class="xref docutils literal"><span class="pre">assignment_stmt</span></code></a>
                 | <a href="#grammar-token-augmented_assignment_stmt"><code class="xref docutils literal"><span class="pre">augmented_assignment_stmt</span></code></a>
                 | <a href="#grammar-token-pass_stmt"><code class="xref docutils literal"><span class="pre">pass_stmt</span></code></a>
                 | <a href="#grammar-token-del_stmt"><code class="xref docutils literal"><span class="pre">del_stmt</span></code></a>
                 | <a href="#grammar-token-print_stmt"><code class="xref docutils literal"><span class="pre">print_stmt</span></code></a>
                 | <a href="#grammar-token-return_stmt"><code class="xref docutils literal"><span class="pre">return_stmt</span></code></a>
                 | <a href="#grammar-token-yield_stmt"><code class="xref docutils literal"><span class="pre">yield_stmt</span></code></a>
                 | <a href="#grammar-token-raise_stmt"><code class="xref docutils literal"><span class="pre">raise_stmt</span></code></a>
                 | <a href="#grammar-token-break_stmt"><code class="xref docutils literal"><span class="pre">break_stmt</span></code></a>
                 | <a href="#grammar-token-continue_stmt"><code class="xref docutils literal"><span class="pre">continue_stmt</span></code></a>
                 | <a href="#grammar-token-import_stmt"><code class="xref docutils literal"><span class="pre">import_stmt</span></code></a>
                 | <a href="#grammar-token-global_stmt"><code class="xref docutils literal"><span class="pre">global_stmt</span></code></a>
                 | <a href="#grammar-token-exec_stmt"><code class="xref docutils literal"><span class="pre">exec_stmt</span></code></a>
</pre>
<div class="section" id="expression-statements">
<span id="exprstmts"></span><h2>6.1. Expression statements</h2>
<p id="index-1">Expression statements are used (mostly interactively) to compute and write a
value, or (usually) to call a procedure (a function that returns no meaningful
result; in Python, procedures return the value <code class="docutils literal"><span class="pre">None</span></code>).  Other uses of
expression statements are allowed and occasionally useful.  The syntax for an
expression statement is:</p>
<pre>
<strong id="grammar-token-expression_stmt">expression_stmt</strong> ::=  <a href="#grammar-token-expression_list"><code class="xref docutils literal"><span class="pre">expression_list</span></code></a>
</pre>
<p>An expression statement evaluates the expression list (which may be a single
expression).</p>
<p id="index-2">In interactive mode, if the value is not <code class="docutils literal"><span class="pre">None</span></code>, it is converted to a string
using the built-in <a href="../library/functions.html#repr" title="repr"><code class="xref py py-func docutils literal"><span class="pre">repr()</span></code></a> function and the resulting string is written to
standard output (see section <a href="#print"><span class="std std-ref">The print statement</span></a>) on a line by itself.  (Expression
statements yielding <code class="docutils literal"><span class="pre">None</span></code> are not written, so that procedure calls do not
cause any output.)</p>
</div>
<div class="section" id="assignment-statements">
<span id="assignment"></span><h2>6.2. Assignment statements</h2>
<p id="index-3">Assignment statements are used to (re)bind names to values and to modify
attributes or items of mutable objects:</p>
<pre>
<strong id="grammar-token-assignment_stmt">assignment_stmt</strong> ::=  (<a href="#grammar-token-target_list"><code class="xref docutils literal"><span class="pre">target_list</span></code></a> &quot;=&quot;)+ (<a href="#grammar-token-expression_list"><code class="xref docutils literal"><span class="pre">expression_list</span></code></a> | <a href="#grammar-token-yield_expression"><code class="xref docutils literal"><span class="pre">yield_expression</span></code></a>)
<strong id="grammar-token-target_list">target_list    </strong> ::=  <a href="#grammar-token-target"><code class="xref docutils literal"><span class="pre">target</span></code></a> (&quot;,&quot; <a href="#grammar-token-target"><code class="xref docutils literal"><span class="pre">target</span></code></a>)* [&quot;,&quot;]
<strong id="grammar-token-target">target         </strong> ::=  <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a>
                     | &quot;(&quot; <a href="#grammar-token-target_list"><code class="xref docutils literal"><span class="pre">target_list</span></code></a> &quot;)&quot;
                     | &quot;[&quot; [<a href="#grammar-token-target_list"><code class="xref docutils literal"><span class="pre">target_list</span></code></a>] &quot;]&quot;
                     | <a href="#grammar-token-attributeref"><code class="xref docutils literal"><span class="pre">attributeref</span></code></a>
                     | <a href="#grammar-token-subscription"><code class="xref docutils literal"><span class="pre">subscription</span></code></a>
                     | <a href="#grammar-token-slicing"><code class="xref docutils literal"><span class="pre">slicing</span></code></a>
</pre>
<p>(See section <a href="#primaries"><span class="std std-ref">Primaries</span></a> for the syntax definitions for the last three
symbols.)</p>
<p id="index-4">An assignment statement evaluates the expression list (remember that this can be
a single expression or a comma-separated list, the latter yielding a tuple) and
assigns the single resulting object to each of the target lists, from left to
right.</p>
<p id="index-5">Assignment is defined recursively depending on the form of the target (list).
When a target is part of a mutable object (an attribute reference, subscription
or slicing), the mutable object must ultimately perform the assignment and
decide about its validity, and may raise an exception if the assignment is
unacceptable.  The rules observed by various types and the exceptions raised are
given with the definition of the object types (see section <a href="#types"><span class="std std-ref">The standard type hierarchy</span></a>).</p>
<p id="index-6">Assignment of an object to a target list is recursively defined as follows.</p>
<ul class="simple">
<li>If the target list is a single target: The object is assigned to that target.</li>
<li>If the target list is a comma-separated list of targets: The object must be an
iterable with the same number of items as there are targets in the target list,
and the items are assigned, from left to right, to the corresponding targets.</li>
</ul>
<p>Assignment of an object to a single target is recursively defined as follows.</p>
<ul>
<li><p class="first">If the target is an identifier (name):</p>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="index-7">
<li>If the name does not occur in a <a href="#global"><code class="xref std std-keyword docutils literal"><span class="pre">global</span></code></a> statement in the current
code block: the name is bound to the object in the current local namespace.</li>
<li>Otherwise: the name is bound to the object in the current global namespace.</li>
</ul>
<p id="index-8">The name is rebound if it was already bound.  This may cause the reference count
for the object previously bound to the name to reach zero, causing the object to
be deallocated and its destructor (if it has one) to be called.</p>
</li>
<li><p class="first">If the target is a target list enclosed in parentheses or in square brackets:
The object must be an iterable with the same number of items as there are
targets in the target list, and its items are assigned, from left to right,
to the corresponding targets.</p>
</li>
<li id="index-9"><p class="first">If the target is an attribute reference: The primary expression in the
reference is evaluated.  It should yield an object with assignable attributes;
if this is not the case, <a href="../library/exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> is raised.  That object is then
asked to assign the assigned object to the given attribute; if it cannot
perform the assignment, it raises an exception (usually but not necessarily
<a href="../library/exceptions.html#exceptions.AttributeError" title="exceptions.AttributeError"><code class="xref py py-exc docutils literal"><span class="pre">AttributeError</span></code></a>).</p>
<p id="attr-target-note">Note: If the object is a class instance and the attribute reference occurs on
both sides of the assignment operator, the RHS expression, <code class="docutils literal"><span class="pre">a.x</span></code> can access
either an instance attribute or (if no instance attribute exists) a class
attribute.  The LHS target <code class="docutils literal"><span class="pre">a.x</span></code> is always set as an instance attribute,
creating it if necessary.  Thus, the two occurrences of <code class="docutils literal"><span class="pre">a.x</span></code> do not
necessarily refer to the same attribute: if the RHS expression refers to a
class attribute, the LHS creates a new instance attribute as the target of the
assignment:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Cls</span><span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>             <span class="c1"># class variable</span>
<span class="n">inst</span> <span class="o">=</span> <span class="n">Cls</span><span class="p">()</span>
<span class="n">inst</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">inst</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>   <span class="c1"># writes inst.x as 4 leaving Cls.x as 3</span>
</pre></div>
</div>
<p>This description does not necessarily apply to descriptor attributes, such as
properties created with <a href="../library/functions.html#property" title="property"><code class="xref py py-func docutils literal"><span class="pre">property()</span></code></a>.</p>
</li>
<li id="index-10"><p class="first">If the target is a subscription: The primary expression in the reference is
evaluated.  It should yield either a mutable sequence object (such as a list) or
a mapping object (such as a dictionary). Next, the subscript expression is
evaluated.</p>
<p id="index-11">If the primary is a mutable sequence object (such as a list), the subscript must
yield a plain integer.  If it is negative, the sequence’s length is added to it.
The resulting value must be a nonnegative integer less than the sequence’s
length, and the sequence is asked to assign the assigned object to its item with
that index.  If the index is out of range, <a href="../library/exceptions.html#exceptions.IndexError" title="exceptions.IndexError"><code class="xref py py-exc docutils literal"><span class="pre">IndexError</span></code></a> is raised
(assignment to a subscripted sequence cannot add new items to a list).</p>
<p id="index-12">If the primary is a mapping object (such as a dictionary), the subscript must
have a type compatible with the mapping’s key type, and the mapping is then
asked to create a key/datum pair which maps the subscript to the assigned
object.  This can either replace an existing key/value pair with the same key
value, or insert a new key/value pair (if no key with the same value existed).</p>
</li>
<li id="index-13"><p class="first">If the target is a slicing: The primary expression in the reference is
evaluated.  It should yield a mutable sequence object (such as a list).  The
assigned object should be a sequence object of the same type.  Next, the lower
and upper bound expressions are evaluated, insofar they are present; defaults
are zero and the sequence’s length.  The bounds should evaluate to (small)
integers.  If either bound is negative, the sequence’s length is added to it.
The resulting bounds are clipped to lie between zero and the sequence’s length,
inclusive.  Finally, the sequence object is asked to replace the slice with the
items of the assigned sequence.  The length of the slice may be different from
the length of the assigned sequence, thus changing the length of the target
sequence, if the object allows it.</p>
</li>
</ul>
<div class="impl-detail compound">
<p><strong>CPython implementation detail:</strong> In the current implementation, the syntax for targets is taken to be the same
as for expressions, and invalid syntax is rejected during the code generation
phase, causing less detailed error messages.</p>
</div>
<p>WARNING: Although the definition of assignment implies that overlaps between the
left-hand side and the right-hand side are ‘safe’ (for example <code class="docutils literal"><span class="pre">a,</span> <span class="pre">b</span> <span class="pre">=</span> <span class="pre">b,</span> <span class="pre">a</span></code>
swaps two variables), overlaps <em>within</em> the collection of assigned-to variables
are not safe!  For instance, the following program prints <code class="docutils literal"><span class="pre">[0,</span> <span class="pre">2]</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">i</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="nb">print</span> <span class="n">x</span>
</pre></div>
</div>
<div class="section" id="augmented-assignment-statements">
<span id="augassign"></span><h3>6.2.1. Augmented assignment statements</h3>
<p id="index-14">Augmented assignment is the combination, in a single statement, of a binary
operation and an assignment statement:</p>
<pre>
<strong id="grammar-token-augmented_assignment_stmt">augmented_assignment_stmt</strong> ::=  <a href="#grammar-token-augtarget"><code class="xref docutils literal"><span class="pre">augtarget</span></code></a> <a href="#grammar-token-augop"><code class="xref docutils literal"><span class="pre">augop</span></code></a> (<a href="#grammar-token-expression_list"><code class="xref docutils literal"><span class="pre">expression_list</span></code></a> | <a href="#grammar-token-yield_expression"><code class="xref docutils literal"><span class="pre">yield_expression</span></code></a>)
<strong id="grammar-token-augtarget">augtarget                </strong> ::=  <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a> | <a href="#grammar-token-attributeref"><code class="xref docutils literal"><span class="pre">attributeref</span></code></a> | <a href="#grammar-token-subscription"><code class="xref docutils literal"><span class="pre">subscription</span></code></a> | <a href="#grammar-token-slicing"><code class="xref docutils literal"><span class="pre">slicing</span></code></a>
<strong id="grammar-token-augop">augop                    </strong> ::=  &quot;+=&quot; | &quot;-=&quot; | &quot;*=&quot; | &quot;/=&quot; | &quot;//=&quot; | &quot;%=&quot; | &quot;**=&quot;
                               | &quot;&gt;&gt;=&quot; | &quot;&lt;&lt;=&quot; | &quot;&amp;=&quot; | &quot;^=&quot; | &quot;|=&quot;
</pre>
<p>(See section <a href="#primaries"><span class="std std-ref">Primaries</span></a> for the syntax definitions for the last three
symbols.)</p>
<p>An augmented assignment evaluates the target (which, unlike normal assignment
statements, cannot be an unpacking) and the expression list, performs the binary
operation specific to the type of assignment on the two operands, and assigns
the result to the original target.  The target is only evaluated once.</p>
<p>An augmented assignment expression like <code class="docutils literal"><span class="pre">x</span> <span class="pre">+=</span> <span class="pre">1</span></code> can be rewritten as <code class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">+</span>
<span class="pre">1</span></code> to achieve a similar, but not exactly equal effect. In the augmented
version, <code class="docutils literal"><span class="pre">x</span></code> is only evaluated once. Also, when possible, the actual operation
is performed <em>in-place</em>, meaning that rather than creating a new object and
assigning that to the target, the old object is modified instead.</p>
<p>With the exception of assigning to tuples and multiple targets in a single
statement, the assignment done by augmented assignment statements is handled the
same way as normal assignments. Similarly, with the exception of the possible
<em>in-place</em> behavior, the binary operation performed by augmented assignment is
the same as the normal binary operations.</p>
<p>For targets which are attribute references, the same <a href="#attr-target-note"><span class="std std-ref">caveat about class
and instance attributes</span></a> applies as for regular assignments.</p>
</div>
</div>
<div class="section" id="the-assert-statement">
<span id="assert"></span><h2>6.3. The <a href="#assert"><code class="xref std std-keyword docutils literal"><span class="pre">assert</span></code></a> statement</h2>
<p id="index-15">Assert statements are a convenient way to insert debugging assertions into a
program:</p>
<pre>
<strong id="grammar-token-assert_stmt">assert_stmt</strong> ::=  &quot;assert&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> [&quot;,&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>]
</pre>
<p>The simple form, <code class="docutils literal"><span class="pre">assert</span> <span class="pre">expression</span></code>, is equivalent to</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">__debug__</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">expression</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">AssertionError</span>
</pre></div>
</div>
<p>The extended form, <code class="docutils literal"><span class="pre">assert</span> <span class="pre">expression1,</span> <span class="pre">expression2</span></code>, is equivalent to</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">__debug__</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">expression1</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="n">expression2</span><span class="p">)</span>
</pre></div>
</div>
<p id="index-16">These equivalences assume that <a href="../library/constants.html#__debug__" title="__debug__"><code class="xref py py-const docutils literal"><span class="pre">__debug__</span></code></a> and <a href="../library/exceptions.html#exceptions.AssertionError" title="exceptions.AssertionError"><code class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></code></a> refer to
the built-in variables with those names.  In the current implementation, the
built-in variable <a href="../library/constants.html#__debug__" title="__debug__"><code class="xref py py-const docutils literal"><span class="pre">__debug__</span></code></a> is <code class="docutils literal"><span class="pre">True</span></code> under normal circumstances,
<code class="docutils literal"><span class="pre">False</span></code> when optimization is requested (command line option -O).  The current
code generator emits no code for an assert statement when optimization is
requested at compile time.  Note that it is unnecessary to include the source
code for the expression that failed in the error message; it will be displayed
as part of the stack trace.</p>
<p>Assignments to <a href="../library/constants.html#__debug__" title="__debug__"><code class="xref py py-const docutils literal"><span class="pre">__debug__</span></code></a> are illegal.  The value for the built-in variable
is determined when the interpreter starts.</p>
</div>
<div class="section" id="the-pass-statement">
<span id="pass"></span><h2>6.4. The <a href="#pass"><code class="xref std std-keyword docutils literal"><span class="pre">pass</span></code></a> statement</h2>
<pre id="index-17">
<strong id="grammar-token-pass_stmt">pass_stmt</strong> ::=  &quot;pass&quot;
</pre>
<p><a href="#pass"><code class="xref std std-keyword docutils literal"><span class="pre">pass</span></code></a> is a null operation — when it is executed, nothing happens.
It is useful as a placeholder when a statement is required syntactically, but no
code needs to be executed, for example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span> <span class="k">pass</span>    <span class="c1"># a function that does nothing (yet)</span>

<span class="k">class</span> <span class="nc">C</span><span class="p">:</span> <span class="k">pass</span>       <span class="c1"># a class with no methods (yet)</span>
</pre></div>
</div>
</div>
<div class="section" id="the-del-statement">
<span id="del"></span><h2>6.5. The <a href="#del"><code class="xref std std-keyword docutils literal"><span class="pre">del</span></code></a> statement</h2>
<pre id="index-18">
<strong id="grammar-token-del_stmt">del_stmt</strong> ::=  &quot;del&quot; <a href="#grammar-token-target_list"><code class="xref docutils literal"><span class="pre">target_list</span></code></a>
</pre>
<p>Deletion is recursively defined very similar to the way assignment is defined.
Rather than spelling it out in full details, here are some hints.</p>
<p>Deletion of a target list recursively deletes each target, from left to right.</p>
<p id="index-19">Deletion of a name removes the binding of that name  from the local or global
namespace, depending on whether the name occurs in a <a href="#global"><code class="xref std std-keyword docutils literal"><span class="pre">global</span></code></a> statement
in the same code block.  If the name is unbound, a <a href="../library/exceptions.html#exceptions.NameError" title="exceptions.NameError"><code class="xref py py-exc docutils literal"><span class="pre">NameError</span></code></a> exception
will be raised.</p>
<p id="index-20">It is illegal to delete a name from the local namespace if it occurs as a free
variable in a nested block.</p>
<p id="index-21">Deletion of attribute references, subscriptions and slicings is passed to the
primary object involved; deletion of a slicing is in general equivalent to
assignment of an empty slice of the right type (but even this is determined by
the sliced object).</p>
</div>
<div class="section" id="the-print-statement">
<span id="print"></span><h2>6.6. The <a href="#print"><code class="xref std std-keyword docutils literal"><span class="pre">print</span></code></a> statement</h2>
<pre id="index-22">
<strong id="grammar-token-print_stmt">print_stmt</strong> ::=  &quot;print&quot; ([<a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> (&quot;,&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>)* [&quot;,&quot;]]
                | &quot;&gt;&gt;&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> [(&quot;,&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>)+ [&quot;,&quot;]])
</pre>
<p><a href="#print"><code class="xref std std-keyword docutils literal"><span class="pre">print</span></code></a> evaluates each expression in turn and writes the resulting
object to standard output (see below).  If an object is not a string, it is
first converted to a string using the rules for string conversions.  The
(resulting or original) string is then written.  A space is written before each
object is (converted and) written, unless the output system believes it is
positioned at the beginning of a line.  This is the case (1) when no characters
have yet been written to standard output, (2) when the last character written to
standard output is a whitespace character except <code class="docutils literal"><span class="pre">'</span> <span class="pre">'</span></code>, or (3) when the last
write operation on standard output was not a <a href="#print"><code class="xref std std-keyword docutils literal"><span class="pre">print</span></code></a> statement.
(In some cases it may be functional to write an empty string to standard output
for this reason.)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Objects which act like file objects but which are not the built-in file objects
often do not properly emulate this aspect of the file object’s behavior, so it
is best not to rely on this.</p>
</div>
<p id="index-23">A <code class="docutils literal"><span class="pre">'\n'</span></code> character is written at the end, unless the <a href="#print"><code class="xref std std-keyword docutils literal"><span class="pre">print</span></code></a>
statement ends with a comma.  This is the only action if the statement contains
just the keyword <a href="#print"><code class="xref std std-keyword docutils literal"><span class="pre">print</span></code></a>.</p>
<p id="index-24">Standard output is defined as the file object named <code class="docutils literal"><span class="pre">stdout</span></code> in the built-in
module <a href="../library/sys.html#module-sys" title="sys: Access system-specific parameters and functions."><code class="xref py py-mod docutils literal"><span class="pre">sys</span></code></a>.  If no such object exists, or if it does not have a
<code class="xref py py-meth docutils literal"><span class="pre">write()</span></code> method, a <a href="../library/exceptions.html#exceptions.RuntimeError" title="exceptions.RuntimeError"><code class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></code></a> exception is raised.</p>
<p id="index-25"><a href="#print"><code class="xref std std-keyword docutils literal"><span class="pre">print</span></code></a> also has an extended form, defined by the second portion of the
syntax described above. This form is sometimes referred to as “<a href="#print"><code class="xref std std-keyword docutils literal"><span class="pre">print</span></code></a>
chevron.” In this form, the first expression after the <code class="docutils literal"><span class="pre">&gt;&gt;</span></code> must evaluate to a
“file-like” object, specifically an object that has a <code class="xref py py-meth docutils literal"><span class="pre">write()</span></code> method as
described above.  With this extended form, the subsequent expressions are
printed to this file object.  If the first expression evaluates to <code class="docutils literal"><span class="pre">None</span></code>,
then <code class="docutils literal"><span class="pre">sys.stdout</span></code> is used as the file for output.</p>
</div>
<div class="section" id="the-return-statement">
<span id="return"></span><h2>6.7. The <a href="#return"><code class="xref std std-keyword docutils literal"><span class="pre">return</span></code></a> statement</h2>
<pre id="index-26">
<strong id="grammar-token-return_stmt">return_stmt</strong> ::=  &quot;return&quot; [<a href="#grammar-token-expression_list"><code class="xref docutils literal"><span class="pre">expression_list</span></code></a>]
</pre>
<p><a href="#return"><code class="xref std std-keyword docutils literal"><span class="pre">return</span></code></a> may only occur syntactically nested in a function definition,
not within a nested class definition.</p>
<p>If an expression list is present, it is evaluated, else <code class="docutils literal"><span class="pre">None</span></code> is substituted.</p>
<p><a href="#return"><code class="xref std std-keyword docutils literal"><span class="pre">return</span></code></a> leaves the current function call with the expression list (or
<code class="docutils literal"><span class="pre">None</span></code>) as return value.</p>
<p id="index-27">When <a href="#return"><code class="xref std std-keyword docutils literal"><span class="pre">return</span></code></a> passes control out of a <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a> statement with a
<a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> clause, that <a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> clause is executed before
really leaving the function.</p>
<p>In a generator function, the <a href="#return"><code class="xref std std-keyword docutils literal"><span class="pre">return</span></code></a> statement is not allowed to
include an <a href="#grammar-token-expression_list"><code class="xref std std-token docutils literal"><span class="pre">expression_list</span></code></a>.  In that context, a bare <a href="#return"><code class="xref std std-keyword docutils literal"><span class="pre">return</span></code></a>
indicates that the generator is done and will cause <a href="../library/exceptions.html#exceptions.StopIteration" title="exceptions.StopIteration"><code class="xref py py-exc docutils literal"><span class="pre">StopIteration</span></code></a> to be
raised.</p>
</div>
<div class="section" id="the-yield-statement">
<span id="yield"></span><h2>6.8. The <a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> statement</h2>
<pre id="index-28">
<strong id="grammar-token-yield_stmt">yield_stmt</strong> ::=  <a href="#grammar-token-yield_expression"><code class="xref docutils literal"><span class="pre">yield_expression</span></code></a>
</pre>
<p>The <a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> statement is only used when defining a generator function,
and is only used in the body of the generator function. Using a <a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a>
statement in a function definition is sufficient to cause that definition to
create a generator function instead of a normal function.</p>
<p>When a generator function is called, it returns an iterator known as a generator
iterator, or more commonly, a generator.  The body of the generator function is
executed by calling the generator’s <a href="#generator.next" title="generator.next"><code class="xref py py-meth docutils literal"><span class="pre">next()</span></code></a> method repeatedly
until it raises an exception.</p>
<p>When a <a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> statement is executed, the state of the generator is
frozen and the value of <a href="#grammar-token-expression_list"><code class="xref std std-token docutils literal"><span class="pre">expression_list</span></code></a> is returned to
<a href="#generator.next" title="generator.next"><code class="xref py py-meth docutils literal"><span class="pre">next()</span></code></a>’s caller.  By “frozen” we mean that all local state is
retained, including the current bindings of local variables, the instruction
pointer, and the internal evaluation stack: enough information is saved so that
the next time <a href="#generator.next" title="generator.next"><code class="xref py py-meth docutils literal"><span class="pre">next()</span></code></a> is invoked, the function can proceed
exactly as if the <a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> statement were just another external call.</p>
<p>As of Python version 2.5, the <a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> statement is now allowed in the
<a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a> clause of a <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a> …  <a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> construct.  If
the generator is not resumed before it is finalized (by reaching a zero
reference count or by being garbage collected), the generator-iterator’s
<code class="xref py py-meth docutils literal"><span class="pre">close()</span></code> method will be called, allowing any pending <a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a>
clauses to execute.</p>
<p>For full details of <a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> semantics, refer to the <a href="#yieldexpr"><span class="std std-ref">Yield expressions</span></a>
section.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>In Python 2.2, the <a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> statement was only allowed when the
<code class="docutils literal"><span class="pre">generators</span></code> feature has been enabled.  This <code class="docutils literal"><span class="pre">__future__</span></code>
import statement was used to enable the feature:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">generators</span>
</pre></div>
</div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><span class="target" id="index-29"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0255"><strong>PEP 255</strong></a> - Simple Generators</dt>
<dd>The proposal for adding generators and the <a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> statement to Python.</dd>
<dt><span class="target" id="index-30"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0342"><strong>PEP 342</strong></a> - Coroutines via Enhanced Generators</dt>
<dd>The proposal that, among other generator enhancements, proposed allowing
<a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> to appear inside a <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a> … <a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> block.</dd>
</dl>
</div>
</div>
<div class="section" id="the-raise-statement">
<span id="raise"></span><h2>6.9. The <a href="#raise"><code class="xref std std-keyword docutils literal"><span class="pre">raise</span></code></a> statement</h2>
<pre id="index-31">
<strong id="grammar-token-raise_stmt">raise_stmt</strong> ::=  &quot;raise&quot; [<a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> [&quot;,&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> [&quot;,&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>]]]
</pre>
<p>If no expressions are present, <a href="#raise"><code class="xref std std-keyword docutils literal"><span class="pre">raise</span></code></a> re-raises the last exception
that was active in the current scope.  If no exception is active in the current
scope, a <a href="../library/exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> exception is raised indicating that this is an error
(if running under IDLE, a <a href="../library/queue.html#Queue.Empty" title="Queue.Empty"><code class="xref py py-exc docutils literal"><span class="pre">Queue.Empty</span></code></a> exception is raised instead).</p>
<p>Otherwise, <a href="#raise"><code class="xref std std-keyword docutils literal"><span class="pre">raise</span></code></a> evaluates the expressions to get three objects,
using <code class="docutils literal"><span class="pre">None</span></code> as the value of omitted expressions.  The first two objects are
used to determine the <em>type</em> and <em>value</em> of the exception.</p>
<p>If the first object is an instance, the type of the exception is the class of
the instance, the instance itself is the value, and the second object must be
<code class="docutils literal"><span class="pre">None</span></code>.</p>
<p>If the first object is a class, it becomes the type of the exception. The second
object is used to determine the exception value: If it is an instance of the
class, the instance becomes the exception value. If the second object is a
tuple, it is used as the argument list for the class constructor; if it is
<code class="docutils literal"><span class="pre">None</span></code>, an empty argument list is used, and any other object is treated as a
single argument to the constructor.  The instance so created by calling the
constructor is used as the exception value.</p>
<p id="index-32">If a third object is present and not <code class="docutils literal"><span class="pre">None</span></code>, it must be a traceback object
(see section <a href="#types"><span class="std std-ref">The standard type hierarchy</span></a>), and it is substituted instead of the current
location as the place where the exception occurred.  If the third object is
present and not a traceback object or <code class="docutils literal"><span class="pre">None</span></code>, a <a href="../library/exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> exception is
raised.  The three-expression form of <a href="#raise"><code class="xref std std-keyword docutils literal"><span class="pre">raise</span></code></a> is useful to re-raise an
exception transparently in an except clause, but <a href="#raise"><code class="xref std std-keyword docutils literal"><span class="pre">raise</span></code></a> with no
expressions should be preferred if the exception to be re-raised was the most
recently active exception in the current scope.</p>
<p>Additional information on exceptions can be found in section <a href="#exceptions"><span class="std std-ref">Exceptions</span></a>,
and information about handling exceptions is in section <a href="#try"><span class="std std-ref">The try statement</span></a>.</p>
</div>
<div class="section" id="the-break-statement">
<span id="break"></span><h2>6.10. The <a href="#break"><code class="xref std std-keyword docutils literal"><span class="pre">break</span></code></a> statement</h2>
<pre id="index-33">
<strong id="grammar-token-break_stmt">break_stmt</strong> ::=  &quot;break&quot;
</pre>
<p><a href="#break"><code class="xref std std-keyword docutils literal"><span class="pre">break</span></code></a> may only occur syntactically nested in a <a href="#for"><code class="xref std std-keyword docutils literal"><span class="pre">for</span></code></a> or
<a href="#while"><code class="xref std std-keyword docutils literal"><span class="pre">while</span></code></a> loop, but not nested in a function or class definition within
that loop.</p>
<p id="index-34">It terminates the nearest enclosing loop, skipping the optional <a href="#else"><code class="xref std std-keyword docutils literal"><span class="pre">else</span></code></a>
clause if the loop has one.</p>
<p id="index-35">If a <a href="#for"><code class="xref std std-keyword docutils literal"><span class="pre">for</span></code></a> loop is terminated by <a href="#break"><code class="xref std std-keyword docutils literal"><span class="pre">break</span></code></a>, the loop control
target keeps its current value.</p>
<p id="index-36">When <a href="#break"><code class="xref std std-keyword docutils literal"><span class="pre">break</span></code></a> passes control out of a <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a> statement with a
<a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> clause, that <a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> clause is executed before
really leaving the loop.</p>
</div>
<div class="section" id="the-continue-statement">
<span id="continue"></span><h2>6.11. The <a href="#continue"><code class="xref std std-keyword docutils literal"><span class="pre">continue</span></code></a> statement</h2>
<pre id="index-37">
<strong id="grammar-token-continue_stmt">continue_stmt</strong> ::=  &quot;continue&quot;
</pre>
<p><a href="#continue"><code class="xref std std-keyword docutils literal"><span class="pre">continue</span></code></a> may only occur syntactically nested in a <a href="#for"><code class="xref std std-keyword docutils literal"><span class="pre">for</span></code></a> or
<a href="#while"><code class="xref std std-keyword docutils literal"><span class="pre">while</span></code></a> loop, but not nested in a function or class definition or
<a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> clause within that loop.  It continues with the next
cycle of the nearest enclosing loop.</p>
<p>When <a href="#continue"><code class="xref std std-keyword docutils literal"><span class="pre">continue</span></code></a> passes control out of a <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a> statement with a
<a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> clause, that <a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> clause is executed before
really starting the next loop cycle.</p>
</div>
<div class="section" id="the-import-statement">
<span id="from"></span><span id="import"></span><h2>6.12. The <a href="#import"><code class="xref std std-keyword docutils literal"><span class="pre">import</span></code></a> statement</h2>
<pre id="index-38">
<strong id="grammar-token-import_stmt">import_stmt    </strong> ::=  &quot;import&quot; <a href="#grammar-token-module"><code class="xref docutils literal"><span class="pre">module</span></code></a> [&quot;as&quot; <a href="#grammar-token-name"><code class="xref docutils literal"><span class="pre">name</span></code></a>] ( &quot;,&quot; <a href="#grammar-token-module"><code class="xref docutils literal"><span class="pre">module</span></code></a> [&quot;as&quot; <a href="#grammar-token-name"><code class="xref docutils literal"><span class="pre">name</span></code></a>] )*
                     | &quot;from&quot; <a href="#grammar-token-relative_module"><code class="xref docutils literal"><span class="pre">relative_module</span></code></a> &quot;import&quot; <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a> [&quot;as&quot; <a href="#grammar-token-name"><code class="xref docutils literal"><span class="pre">name</span></code></a>]
                     ( &quot;,&quot; <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a> [&quot;as&quot; <a href="#grammar-token-name"><code class="xref docutils literal"><span class="pre">name</span></code></a>] )*
                     | &quot;from&quot; <a href="#grammar-token-relative_module"><code class="xref docutils literal"><span class="pre">relative_module</span></code></a> &quot;import&quot; &quot;(&quot; <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a> [&quot;as&quot; <a href="#grammar-token-name"><code class="xref docutils literal"><span class="pre">name</span></code></a>]
                     ( &quot;,&quot; <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a> [&quot;as&quot; <a href="#grammar-token-name"><code class="xref docutils literal"><span class="pre">name</span></code></a>] )* [&quot;,&quot;] &quot;)&quot;
                     | &quot;from&quot; <a href="#grammar-token-module"><code class="xref docutils literal"><span class="pre">module</span></code></a> &quot;import&quot; &quot;*&quot;
<strong id="grammar-token-module">module         </strong> ::=  (<a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a> &quot;.&quot;)* <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a>
<strong id="grammar-token-relative_module">relative_module</strong> ::=  &quot;.&quot;* <a href="#grammar-token-module"><code class="xref docutils literal"><span class="pre">module</span></code></a> | &quot;.&quot;+
<strong id="grammar-token-name">name           </strong> ::=  <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a>
</pre>
<p>Import statements are executed in two steps: (1) find a module, and initialize
it if necessary; (2) define a name or names in the local namespace (of the scope
where the <a href="#import"><code class="xref std std-keyword docutils literal"><span class="pre">import</span></code></a> statement occurs). The statement comes in two
forms differing on whether it uses the <a href="#from"><code class="xref std std-keyword docutils literal"><span class="pre">from</span></code></a> keyword. The first form
(without <a href="#from"><code class="xref std std-keyword docutils literal"><span class="pre">from</span></code></a>) repeats these steps for each identifier in the list.
The form with <a href="#from"><code class="xref std std-keyword docutils literal"><span class="pre">from</span></code></a> performs step (1) once, and then performs step
(2) repeatedly.</p>
<p id="index-39">To understand how step (1) occurs, one must first understand how Python handles
hierarchical naming of modules. To help organize modules and provide a
hierarchy in naming, Python has a concept of packages. A package can contain
other packages and modules while modules cannot contain other modules or
packages. From a file system perspective, packages are directories and modules
are files.</p>
<p id="index-40">Once the name of the module is known (unless otherwise specified, the term
“module” will refer to both packages and modules), searching
for the module or package can begin. The first place checked is
<a href="../library/sys.html#sys.modules" title="sys.modules"><code class="xref py py-data docutils literal"><span class="pre">sys.modules</span></code></a>, the cache of all modules that have been imported
previously. If the module is found there then it is used in step (2) of import.</p>
<p id="index-41">If the module is not found in the cache, then <a href="../library/sys.html#sys.meta_path" title="sys.meta_path"><code class="xref py py-data docutils literal"><span class="pre">sys.meta_path</span></code></a> is searched
(the specification for <a href="../library/sys.html#sys.meta_path" title="sys.meta_path"><code class="xref py py-data docutils literal"><span class="pre">sys.meta_path</span></code></a> can be found in <span class="target" id="index-42"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0302"><strong>PEP 302</strong></a>).
The object is a list of <a href="../glossary.html#term-finder"><span class="xref std std-term">finder</span></a> objects which are queried in order as to
whether they know how to load the module by calling their <code class="xref py py-meth docutils literal"><span class="pre">find_module()</span></code>
method with the name of the module. If the module happens to be contained
within a package (as denoted by the existence of a dot in the name), then a
second argument to <code class="xref py py-meth docutils literal"><span class="pre">find_module()</span></code> is given as the value of the
<code class="xref py py-attr docutils literal"><span class="pre">__path__</span></code> attribute from the parent package (everything up to the last
dot in the name of the module being imported). If a finder can find the module
it returns a <a href="../glossary.html#term-loader"><span class="xref std std-term">loader</span></a> (discussed later) or returns <code class="docutils literal"><span class="pre">None</span></code>.</p>
<p id="index-43">If none of the finders on <a href="../library/sys.html#sys.meta_path" title="sys.meta_path"><code class="xref py py-data docutils literal"><span class="pre">sys.meta_path</span></code></a> are able to find the module
then some implicitly defined finders are queried. Implementations of Python
vary in what implicit meta path finders are defined. The one they all do
define, though, is one that handles <a href="../library/sys.html#sys.path_hooks" title="sys.path_hooks"><code class="xref py py-data docutils literal"><span class="pre">sys.path_hooks</span></code></a>,
<a href="../library/sys.html#sys.path_importer_cache" title="sys.path_importer_cache"><code class="xref py py-data docutils literal"><span class="pre">sys.path_importer_cache</span></code></a>, and <a href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal"><span class="pre">sys.path</span></code></a>.</p>
<p>The implicit finder searches for the requested module in the “paths” specified
in one of two places (“paths” do not have to be file system paths). If the
module being imported is supposed to be contained within a package then the
second argument passed to <code class="xref py py-meth docutils literal"><span class="pre">find_module()</span></code>, <code class="xref py py-attr docutils literal"><span class="pre">__path__</span></code> on the parent
package, is used as the source of paths. If the module is not contained in a
package then <a href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal"><span class="pre">sys.path</span></code></a> is used as the source of paths.</p>
<p>Once the source of paths is chosen it is iterated over to find a finder that
can handle that path. The dict at <a href="../library/sys.html#sys.path_importer_cache" title="sys.path_importer_cache"><code class="xref py py-data docutils literal"><span class="pre">sys.path_importer_cache</span></code></a> caches
finders for paths and is checked for a finder. If the path does not have a
finder cached then <a href="../library/sys.html#sys.path_hooks" title="sys.path_hooks"><code class="xref py py-data docutils literal"><span class="pre">sys.path_hooks</span></code></a> is searched by calling each object in
the list with a single argument of the path, returning a finder or raises
<a href="../library/exceptions.html#exceptions.ImportError" title="exceptions.ImportError"><code class="xref py py-exc docutils literal"><span class="pre">ImportError</span></code></a>. If a finder is returned then it is cached in
<a href="../library/sys.html#sys.path_importer_cache" title="sys.path_importer_cache"><code class="xref py py-data docutils literal"><span class="pre">sys.path_importer_cache</span></code></a> and then used for that path entry. If no finder
can be found but the path exists then a value of <code class="docutils literal"><span class="pre">None</span></code> is
stored in <a href="../library/sys.html#sys.path_importer_cache" title="sys.path_importer_cache"><code class="xref py py-data docutils literal"><span class="pre">sys.path_importer_cache</span></code></a> to signify that an implicit,
file-based finder that handles modules stored as individual files should be
used for that path. If the path does not exist then a finder which always
returns <code class="docutils literal"><span class="pre">None</span></code> is placed in the cache for the path.</p>
<p id="index-44">If no finder can find the module then <a href="../library/exceptions.html#exceptions.ImportError" title="exceptions.ImportError"><code class="xref py py-exc docutils literal"><span class="pre">ImportError</span></code></a> is raised. Otherwise
some finder returned a loader whose <code class="xref py py-meth docutils literal"><span class="pre">load_module()</span></code> method is called with
the name of the module to load (see <span class="target" id="index-45"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0302"><strong>PEP 302</strong></a> for the original definition of
loaders). A loader has several responsibilities to perform on a module it
loads. First, if the module already exists in <a href="../library/sys.html#sys.modules" title="sys.modules"><code class="xref py py-data docutils literal"><span class="pre">sys.modules</span></code></a> (a
possibility if the loader is called outside of the import machinery) then it
is to use that module for initialization and not a new module. But if the
module does not exist in <a href="../library/sys.html#sys.modules" title="sys.modules"><code class="xref py py-data docutils literal"><span class="pre">sys.modules</span></code></a> then it is to be added to that
dict before initialization begins. If an error occurs during loading of the
module and it was added to <a href="../library/sys.html#sys.modules" title="sys.modules"><code class="xref py py-data docutils literal"><span class="pre">sys.modules</span></code></a> it is to be removed from the
dict. If an error occurs but the module was already in <a href="../library/sys.html#sys.modules" title="sys.modules"><code class="xref py py-data docutils literal"><span class="pre">sys.modules</span></code></a> it
is left in the dict.</p>
<p id="index-46">The loader must set several attributes on the module. <code class="xref py py-data docutils literal"><span class="pre">__name__</span></code> is to be
set to the name of the module. <code class="xref py py-data docutils literal"><span class="pre">__file__</span></code> is to be the “path” to the file
unless the module is built-in (and thus listed in
<a href="../library/sys.html#sys.builtin_module_names" title="sys.builtin_module_names"><code class="xref py py-data docutils literal"><span class="pre">sys.builtin_module_names</span></code></a>) in which case the attribute is not set.
If what is being imported is a package then <code class="xref py py-data docutils literal"><span class="pre">__path__</span></code> is to be set to a
list of paths to be searched when looking for modules and packages contained
within the package being imported. <code class="xref py py-data docutils literal"><span class="pre">__package__</span></code> is optional but should
be set to the name of package that contains the module or package (the empty
string is used for module not contained in a package). <code class="xref py py-data docutils literal"><span class="pre">__loader__</span></code> is
also optional but should be set to the loader object that is loading the
module.</p>
<p id="index-47">If an error occurs during loading then the loader raises <a href="../library/exceptions.html#exceptions.ImportError" title="exceptions.ImportError"><code class="xref py py-exc docutils literal"><span class="pre">ImportError</span></code></a> if
some other exception is not already being propagated. Otherwise the loader
returns the module that was loaded and initialized.</p>
<p>When step (1) finishes without raising an exception, step (2) can begin.</p>
<p>The first form of <a href="#import"><code class="xref std std-keyword docutils literal"><span class="pre">import</span></code></a> statement binds the module name in the local
namespace to the module object, and then goes on to import the next identifier,
if any.  If the module name is followed by <a href="#as"><code class="xref std std-keyword docutils literal"><span class="pre">as</span></code></a>, the name following
<a href="#as"><code class="xref std std-keyword docutils literal"><span class="pre">as</span></code></a> is used as the local name for the module.</p>
<p id="index-48">The <a href="#from"><code class="xref std std-keyword docutils literal"><span class="pre">from</span></code></a> form does not bind the module name: it goes through the list
of identifiers, looks each one of them up in the module found in step (1), and
binds the name in the local namespace to the object thus found.  As with the
first form of <a href="#import"><code class="xref std std-keyword docutils literal"><span class="pre">import</span></code></a>, an alternate local name can be supplied by
specifying “<a href="#as"><code class="xref std std-keyword docutils literal"><span class="pre">as</span></code></a> localname”.  If a name is not found,
<a href="../library/exceptions.html#exceptions.ImportError" title="exceptions.ImportError"><code class="xref py py-exc docutils literal"><span class="pre">ImportError</span></code></a> is raised.  If the list of identifiers is replaced by a star
(<code class="docutils literal"><span class="pre">'*'</span></code>), all public names defined in the module are bound in the local
namespace of the <a href="#import"><code class="xref std std-keyword docutils literal"><span class="pre">import</span></code></a> statement..</p>
<p id="index-49">The <em>public names</em> defined by a module are determined by checking the module’s
namespace for a variable named <code class="docutils literal"><span class="pre">__all__</span></code>; if defined, it must be a sequence of
strings which are names defined or imported by that module.  The names given in
<code class="docutils literal"><span class="pre">__all__</span></code> are all considered public and are required to exist.  If <code class="docutils literal"><span class="pre">__all__</span></code>
is not defined, the set of public names includes all names found in the module’s
namespace which do not begin with an underscore character (<code class="docutils literal"><span class="pre">'_'</span></code>).
<code class="docutils literal"><span class="pre">__all__</span></code> should contain the entire public API. It is intended to avoid
accidentally exporting items that are not part of the API (such as library
modules which were imported and used within the module).</p>
<p>The <a href="#from"><code class="xref std std-keyword docutils literal"><span class="pre">from</span></code></a> form with <code class="docutils literal"><span class="pre">*</span></code> may only occur in a module scope.  If the
wild card form of import — <code class="docutils literal"><span class="pre">import</span> <span class="pre">*</span></code> — is used in a function and the
function contains or is a nested block with free variables, the compiler will
raise a <a href="../library/exceptions.html#exceptions.SyntaxError" title="exceptions.SyntaxError"><code class="xref py py-exc docutils literal"><span class="pre">SyntaxError</span></code></a>.</p>
<p id="index-50">When specifying what module to import you do not have to specify the absolute
name of the module. When a module or package is contained within another
package it is possible to make a relative import within the same top package
without having to mention the package name. By using leading dots in the
specified module or package after <a href="#from"><code class="xref std std-keyword docutils literal"><span class="pre">from</span></code></a> you can specify how high to
traverse up the current package hierarchy without specifying exact names. One
leading dot means the current package where the module making the import
exists. Two dots means up one package level. Three dots is up two levels, etc.
So if you execute <code class="docutils literal"><span class="pre">from</span> <span class="pre">.</span> <span class="pre">import</span> <span class="pre">mod</span></code> from a module in the <code class="docutils literal"><span class="pre">pkg</span></code> package
then you will end up importing <code class="docutils literal"><span class="pre">pkg.mod</span></code>. If you execute <code class="docutils literal"><span class="pre">from</span> <span class="pre">..subpkg2</span>
<span class="pre">import</span> <span class="pre">mod</span></code> from within <code class="docutils literal"><span class="pre">pkg.subpkg1</span></code> you will import <code class="docutils literal"><span class="pre">pkg.subpkg2.mod</span></code>.
The specification for relative imports is contained within <span class="target" id="index-51"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0328"><strong>PEP 328</strong></a>.</p>
<p><a href="../library/importlib.html#importlib.import_module" title="importlib.import_module"><code class="xref py py-func docutils literal"><span class="pre">importlib.import_module()</span></code></a> is provided to support applications that
determine which modules need to be loaded dynamically.</p>
<div class="section" id="future-statements">
<span id="future"></span><h3>6.12.1. Future statements</h3>
<p id="index-52">A <em class="dfn">future statement</em> is a directive to the compiler that a particular
module should be compiled using syntax or semantics that will be available in a
specified future release of Python.  The future statement is intended to ease
migration to future versions of Python that introduce incompatible changes to
the language.  It allows use of the new features on a per-module basis before
the release in which the feature becomes standard.</p>
<pre>
<strong id="grammar-token-future_statement">future_statement</strong> ::=  &quot;from&quot; &quot;__future__&quot; &quot;import&quot; feature [&quot;as&quot; name]
                      (&quot;,&quot; feature [&quot;as&quot; name])*
                      | &quot;from&quot; &quot;__future__&quot; &quot;import&quot; &quot;(&quot; feature [&quot;as&quot; name]
                      (&quot;,&quot; feature [&quot;as&quot; name])* [&quot;,&quot;] &quot;)&quot;
<strong id="grammar-token-feature">feature         </strong> ::=  identifier
<strong id="id1">name            </strong> ::=  identifier
</pre>
<p>A future statement must appear near the top of the module.  The only lines that
can appear before a future statement are:</p>
<ul class="simple">
<li>the module docstring (if any),</li>
<li>comments,</li>
<li>blank lines, and</li>
<li>other future statements.</li>
</ul>
<p>The features recognized by Python 2.6 are <code class="docutils literal"><span class="pre">unicode_literals</span></code>,
<code class="docutils literal"><span class="pre">print_function</span></code>, <code class="docutils literal"><span class="pre">absolute_import</span></code>, <code class="docutils literal"><span class="pre">division</span></code>, <code class="docutils literal"><span class="pre">generators</span></code>,
<code class="docutils literal"><span class="pre">nested_scopes</span></code> and <code class="docutils literal"><span class="pre">with_statement</span></code>.  <code class="docutils literal"><span class="pre">generators</span></code>, <code class="docutils literal"><span class="pre">with_statement</span></code>,
<code class="docutils literal"><span class="pre">nested_scopes</span></code> are redundant in Python version 2.6 and above because they are
always enabled.</p>
<p>A future statement is recognized and treated specially at compile time: Changes
to the semantics of core constructs are often implemented by generating
different code.  It may even be the case that a new feature introduces new
incompatible syntax (such as a new reserved word), in which case the compiler
may need to parse the module differently.  Such decisions cannot be pushed off
until runtime.</p>
<p>For any given release, the compiler knows which feature names have been defined,
and raises a compile-time error if a future statement contains a feature not
known to it.</p>
<p>The direct runtime semantics are the same as for any import statement: there is
a standard module <a href="../library/__future__.html#module-__future__" title="__future__: Future statement definitions"><code class="xref py py-mod docutils literal"><span class="pre">__future__</span></code></a>, described later, and it will be imported in
the usual way at the time the future statement is executed.</p>
<p>The interesting runtime semantics depend on the specific feature enabled by the
future statement.</p>
<p>Note that there is nothing special about the statement:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">__future__</span> <span class="p">[</span><span class="k">as</span> <span class="n">name</span><span class="p">]</span>
</pre></div>
</div>
<p>That is not a future statement; it’s an ordinary import statement with no
special semantics or syntax restrictions.</p>
<p>Code compiled by an <a href="#exec"><code class="xref std std-keyword docutils literal"><span class="pre">exec</span></code></a> statement or calls to the built-in functions
<a href="../library/functions.html#compile" title="compile"><code class="xref py py-func docutils literal"><span class="pre">compile()</span></code></a> and <a href="../library/functions.html#execfile" title="execfile"><code class="xref py py-func docutils literal"><span class="pre">execfile()</span></code></a> that occur in a module <code class="xref py py-mod docutils literal"><span class="pre">M</span></code> containing
a future statement will, by default, use the new  syntax or semantics associated
with the future statement.  This can, starting with Python 2.2 be controlled by
optional arguments to <a href="../library/functions.html#compile" title="compile"><code class="xref py py-func docutils literal"><span class="pre">compile()</span></code></a> — see the documentation of that function
for details.</p>
<p>A future statement typed at an interactive interpreter prompt will take effect
for the rest of the interpreter session.  If an interpreter is started with the
<a href="../using/cmdline.html#cmdoption-i"><code class="xref std std-option docutils literal"><span class="pre">-i</span></code></a> option, is passed a script name to execute, and the script includes
a future statement, it will be in effect in the interactive session started
after the script is executed.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><span class="target" id="index-53"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0236"><strong>PEP 236</strong></a> - Back to the __future__</dt>
<dd>The original proposal for the __future__ mechanism.</dd>
</dl>
</div>
</div>
</div>
<div class="section" id="the-global-statement">
<span id="global"></span><h2>6.13. The <a href="#global"><code class="xref std std-keyword docutils literal"><span class="pre">global</span></code></a> statement</h2>
<pre id="index-54">
<strong id="grammar-token-global_stmt">global_stmt</strong> ::=  &quot;global&quot; <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a> (&quot;,&quot; <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a>)*
</pre>
<p>The <a href="#global"><code class="xref std std-keyword docutils literal"><span class="pre">global</span></code></a> statement is a declaration which holds for the entire
current code block.  It means that the listed identifiers are to be interpreted
as globals.  It would be impossible to assign to a global variable without
<a href="#global"><code class="xref std std-keyword docutils literal"><span class="pre">global</span></code></a>, although free variables may refer to globals without being
declared global.</p>
<p>Names listed in a <a href="#global"><code class="xref std std-keyword docutils literal"><span class="pre">global</span></code></a> statement must not be used in the same code
block textually preceding that <a href="#global"><code class="xref std std-keyword docutils literal"><span class="pre">global</span></code></a> statement.</p>
<p>Names listed in a <a href="#global"><code class="xref std std-keyword docutils literal"><span class="pre">global</span></code></a> statement must not be defined as formal
parameters or in a <a href="#for"><code class="xref std std-keyword docutils literal"><span class="pre">for</span></code></a> loop control target, <a href="#class"><code class="xref std std-keyword docutils literal"><span class="pre">class</span></code></a>
definition, function definition, or <a href="#import"><code class="xref std std-keyword docutils literal"><span class="pre">import</span></code></a> statement.</p>
<div class="impl-detail compound">
<p><strong>CPython implementation detail:</strong> The current implementation does not enforce the latter two restrictions, but
programs should not abuse this freedom, as future implementations may enforce
them or silently change the meaning of the program.</p>
</div>
<p id="index-55"><strong>Programmer’s note:</strong> <a href="#global"><code class="xref std std-keyword docutils literal"><span class="pre">global</span></code></a> is a directive to the parser.  It
applies only to code parsed at the same time as the <a href="#global"><code class="xref std std-keyword docutils literal"><span class="pre">global</span></code></a> statement.
In particular, a <a href="#global"><code class="xref std std-keyword docutils literal"><span class="pre">global</span></code></a> statement contained in an <a href="#exec"><code class="xref std std-keyword docutils literal"><span class="pre">exec</span></code></a>
statement does not affect the code block <em>containing</em> the <a href="#exec"><code class="xref std std-keyword docutils literal"><span class="pre">exec</span></code></a>
statement, and code contained in an <a href="#exec"><code class="xref std std-keyword docutils literal"><span class="pre">exec</span></code></a> statement is unaffected by
<a href="#global"><code class="xref std std-keyword docutils literal"><span class="pre">global</span></code></a> statements in the code containing the <a href="#exec"><code class="xref std std-keyword docutils literal"><span class="pre">exec</span></code></a>
statement.  The same applies to the <a href="../library/functions.html#eval" title="eval"><code class="xref py py-func docutils literal"><span class="pre">eval()</span></code></a>, <a href="../library/functions.html#execfile" title="execfile"><code class="xref py py-func docutils literal"><span class="pre">execfile()</span></code></a> and
<a href="../library/functions.html#compile" title="compile"><code class="xref py py-func docutils literal"><span class="pre">compile()</span></code></a> functions.</p>
</div>
<div class="section" id="the-exec-statement">
<span id="exec"></span><h2>6.14. The <a href="#exec"><code class="xref std std-keyword docutils literal"><span class="pre">exec</span></code></a> statement</h2>
<pre id="index-56">
<strong id="grammar-token-exec_stmt">exec_stmt</strong> ::=  &quot;exec&quot; <a href="#grammar-token-or_expr"><code class="xref docutils literal"><span class="pre">or_expr</span></code></a> [&quot;in&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> [&quot;,&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>]]
</pre>
<p>This statement supports dynamic execution of Python code.  The first expression
should evaluate to either a Unicode string, a <em>Latin-1</em> encoded string, an open
file object, a code object, or a tuple.  If it is a string, the string is parsed
as a suite of Python statements which is then executed (unless a syntax error
occurs). <a class="footnote-reference" href="#id3" id="id2">[1]</a> If it is an open file, the file is parsed until EOF and executed.
If it is a code object, it is simply executed.  For the interpretation of a
tuple, see below.  In all cases, the code that’s executed is expected to be
valid as file input (see section <a href="#file-input"><span class="std std-ref">File input</span></a>).  Be aware that the
<a href="#return"><code class="xref std std-keyword docutils literal"><span class="pre">return</span></code></a> and <a href="#yield"><code class="xref std std-keyword docutils literal"><span class="pre">yield</span></code></a> statements may not be used outside of
function definitions even within the context of code passed to the
<a href="#exec"><code class="xref std std-keyword docutils literal"><span class="pre">exec</span></code></a> statement.</p>
<p>In all cases, if the optional parts are omitted, the code is executed in the
current scope.  If only the first expression after <code class="docutils literal"><span class="pre">in</span></code> is specified,
it should be a dictionary, which will be used for both the global and the local
variables.  If two expressions are given, they are used for the global and local
variables, respectively. If provided, <em>locals</em> can be any mapping object.
Remember that at module level, globals and locals are the same dictionary. If
two separate objects are given as <em>globals</em> and <em>locals</em>, the code will be
executed as if it were embedded in a class definition.</p>
<p>The first expression may also be a tuple of length 2 or 3.  In this case, the
optional parts must be omitted.  The form <code class="docutils literal"><span class="pre">exec(expr,</span> <span class="pre">globals)</span></code> is equivalent
to <code class="docutils literal"><span class="pre">exec</span> <span class="pre">expr</span> <span class="pre">in</span> <span class="pre">globals</span></code>, while the form <code class="docutils literal"><span class="pre">exec(expr,</span> <span class="pre">globals,</span> <span class="pre">locals)</span></code> is
equivalent to <code class="docutils literal"><span class="pre">exec</span> <span class="pre">expr</span> <span class="pre">in</span> <span class="pre">globals,</span> <span class="pre">locals</span></code>.  The tuple form of <code class="docutils literal"><span class="pre">exec</span></code>
provides compatibility with Python 3, where <code class="docutils literal"><span class="pre">exec</span></code> is a function rather than
a statement.</p>
<div class="versionchanged">
<p><span>Changed in version 2.4: </span>Formerly, <em>locals</em> was required to be a dictionary.</p>
</div>
<p id="index-57">As a side effect, an implementation may insert additional keys into the
dictionaries given besides those corresponding to variable names set by the
executed code.  For example, the current implementation may add a reference to
the dictionary of the built-in module <a href="../library/__builtin__.html#module-__builtin__" title="__builtin__: The module that provides the built-in namespace."><code class="xref py py-mod docutils literal"><span class="pre">__builtin__</span></code></a> under the key
<code class="docutils literal"><span class="pre">__builtins__</span></code> (!).</p>
<p id="index-58"><strong>Programmer’s hints:</strong> dynamic evaluation of expressions is supported by the
built-in function <a href="../library/functions.html#eval" title="eval"><code class="xref py py-func docutils literal"><span class="pre">eval()</span></code></a>.  The built-in functions <a href="../library/functions.html#globals" title="globals"><code class="xref py py-func docutils literal"><span class="pre">globals()</span></code></a> and
<a href="../library/functions.html#locals" title="locals"><code class="xref py py-func docutils literal"><span class="pre">locals()</span></code></a> return the current global and local dictionary, respectively,
which may be useful to pass around for use by <a href="#exec"><code class="xref std std-keyword docutils literal"><span class="pre">exec</span></code></a>.</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td>Note that the parser only accepts the Unix-style end of line convention.
If you are reading the code from a file, make sure to use
<a href="../glossary.html#term-universal-newlines"><span class="xref std std-term">universal newlines</span></a> mode to convert Windows or Mac-style newlines.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
  <div class="section" id="compound-statements">
<span id="compound"></span><h1></h1><h1>7. Compound statements</h1>
<p id="index-0">Compound statements contain (groups of) other statements; they affect or control
the execution of those other statements in some way.  In general, compound
statements span multiple lines, although in simple incarnations a whole compound
statement may be contained in one line.</p>
<p>The <a href="#if"><code class="xref std std-keyword docutils literal"><span class="pre">if</span></code></a>, <a href="#while"><code class="xref std std-keyword docutils literal"><span class="pre">while</span></code></a> and <a href="#for"><code class="xref std std-keyword docutils literal"><span class="pre">for</span></code></a> statements implement
traditional control flow constructs.  <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a> specifies exception
handlers and/or cleanup code for a group of statements.  Function and class
definitions are also syntactically compound statements.</p>
<p id="index-1">Compound statements consist of one or more ‘clauses.’  A clause consists of a
header and a ‘suite.’  The clause headers of a particular compound statement are
all at the same indentation level. Each clause header begins with a uniquely
identifying keyword and ends with a colon.  A suite is a group of statements
controlled by a clause.  A suite can be one or more semicolon-separated simple
statements on the same line as the header, following the header’s colon, or it
can be one or more indented statements on subsequent lines.  Only the latter
form of suite can contain nested compound statements; the following is illegal,
mostly because it wouldn’t be clear to which <a href="#if"><code class="xref std std-keyword docutils literal"><span class="pre">if</span></code></a> clause a following
<a href="#else"><code class="xref std std-keyword docutils literal"><span class="pre">else</span></code></a> clause would belong:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">test1</span><span class="p">:</span> <span class="k">if</span> <span class="n">test2</span><span class="p">:</span> <span class="nb">print</span> <span class="n">x</span>
</pre></div>
</div>
<p>Also note that the semicolon binds tighter than the colon in this context, so
that in the following example, either all or none of the <a href="#print"><code class="xref std std-keyword docutils literal"><span class="pre">print</span></code></a>
statements are executed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">z</span><span class="p">:</span> <span class="nb">print</span> <span class="n">x</span><span class="p">;</span> <span class="nb">print</span> <span class="n">y</span><span class="p">;</span> <span class="nb">print</span> <span class="n">z</span>
</pre></div>
</div>
<p>Summarizing:</p>
<pre>
<strong id="grammar-token-compound_stmt">compound_stmt</strong> ::=  <a href="#grammar-token-if_stmt"><code class="xref docutils literal"><span class="pre">if_stmt</span></code></a>
                   | <a href="#grammar-token-while_stmt"><code class="xref docutils literal"><span class="pre">while_stmt</span></code></a>
                   | <a href="#grammar-token-for_stmt"><code class="xref docutils literal"><span class="pre">for_stmt</span></code></a>
                   | <a href="#grammar-token-try_stmt"><code class="xref docutils literal"><span class="pre">try_stmt</span></code></a>
                   | <a href="#grammar-token-with_stmt"><code class="xref docutils literal"><span class="pre">with_stmt</span></code></a>
                   | <a href="#grammar-token-funcdef"><code class="xref docutils literal"><span class="pre">funcdef</span></code></a>
                   | <a href="#grammar-token-classdef"><code class="xref docutils literal"><span class="pre">classdef</span></code></a>
                   | <a href="#grammar-token-decorated"><code class="xref docutils literal"><span class="pre">decorated</span></code></a>
<strong id="grammar-token-suite">suite        </strong> ::=  <a href="#grammar-token-stmt_list"><code class="xref docutils literal"><span class="pre">stmt_list</span></code></a> NEWLINE | NEWLINE INDENT <a href="#grammar-token-statement"><code class="xref docutils literal"><span class="pre">statement</span></code></a>+ DEDENT
<strong id="grammar-token-statement">statement    </strong> ::=  <a href="#grammar-token-stmt_list"><code class="xref docutils literal"><span class="pre">stmt_list</span></code></a> NEWLINE | <a href="#grammar-token-compound_stmt"><code class="xref docutils literal"><span class="pre">compound_stmt</span></code></a>
<strong id="grammar-token-stmt_list">stmt_list    </strong> ::=  <a href="#grammar-token-simple_stmt"><code class="xref docutils literal"><span class="pre">simple_stmt</span></code></a> (&quot;;&quot; <a href="#grammar-token-simple_stmt"><code class="xref docutils literal"><span class="pre">simple_stmt</span></code></a>)* [&quot;;&quot;]
</pre>
<p id="index-2">Note that statements always end in a <code class="docutils literal"><span class="pre">NEWLINE</span></code> possibly followed by a
<code class="docutils literal"><span class="pre">DEDENT</span></code>. Also note that optional continuation clauses always begin with a
keyword that cannot start a statement, thus there are no ambiguities (the
‘dangling <a href="#else"><code class="xref std std-keyword docutils literal"><span class="pre">else</span></code></a>’ problem is solved in Python by requiring nested
<a href="#if"><code class="xref std std-keyword docutils literal"><span class="pre">if</span></code></a> statements to be indented).</p>
<p>The formatting of the grammar rules in the following sections places each clause
on a separate line for clarity.</p>
<div class="section" id="the-if-statement">
<span id="else"></span><span id="elif"></span><span id="if"></span><h2>7.1. The <a href="#if"><code class="xref std std-keyword docutils literal"><span class="pre">if</span></code></a> statement</h2>
<p id="index-3">The <a href="#if"><code class="xref std std-keyword docutils literal"><span class="pre">if</span></code></a> statement is used for conditional execution:</p>
<pre>
<strong id="grammar-token-if_stmt">if_stmt</strong> ::=  &quot;if&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> &quot;:&quot; <a href="#grammar-token-suite"><code class="xref docutils literal"><span class="pre">suite</span></code></a>
             ( &quot;elif&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> &quot;:&quot; <a href="#grammar-token-suite"><code class="xref docutils literal"><span class="pre">suite</span></code></a> )*
             [&quot;else&quot; &quot;:&quot; <a href="#grammar-token-suite"><code class="xref docutils literal"><span class="pre">suite</span></code></a>]
</pre>
<p>It selects exactly one of the suites by evaluating the expressions one by one
until one is found to be true (see section <a href="#booleans"><span class="std std-ref">Boolean operations</span></a> for the definition of
true and false); then that suite is executed (and no other part of the
<a href="#if"><code class="xref std std-keyword docutils literal"><span class="pre">if</span></code></a> statement is executed or evaluated).  If all expressions are
false, the suite of the <a href="#else"><code class="xref std std-keyword docutils literal"><span class="pre">else</span></code></a> clause, if present, is executed.</p>
</div>
<div class="section" id="the-while-statement">
<span id="while"></span><h2>7.2. The <a href="#while"><code class="xref std std-keyword docutils literal"><span class="pre">while</span></code></a> statement</h2>
<p id="index-4">The <a href="#while"><code class="xref std std-keyword docutils literal"><span class="pre">while</span></code></a> statement is used for repeated execution as long as an
expression is true:</p>
<pre>
<strong id="grammar-token-while_stmt">while_stmt</strong> ::=  &quot;while&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> &quot;:&quot; <a href="#grammar-token-suite"><code class="xref docutils literal"><span class="pre">suite</span></code></a>
                [&quot;else&quot; &quot;:&quot; <a href="#grammar-token-suite"><code class="xref docutils literal"><span class="pre">suite</span></code></a>]
</pre>
<p>This repeatedly tests the expression and, if it is true, executes the first
suite; if the expression is false (which may be the first time it is tested) the
suite of the <a href="#else"><code class="xref std std-keyword docutils literal"><span class="pre">else</span></code></a> clause, if present, is executed and the loop
terminates.</p>
<p id="index-5">A <a href="#break"><code class="xref std std-keyword docutils literal"><span class="pre">break</span></code></a> statement executed in the first suite terminates the loop
without executing the <a href="#else"><code class="xref std std-keyword docutils literal"><span class="pre">else</span></code></a> clause’s suite.  A <a href="#continue"><code class="xref std std-keyword docutils literal"><span class="pre">continue</span></code></a>
statement executed in the first suite skips the rest of the suite and goes back
to testing the expression.</p>
</div>
<div class="section" id="the-for-statement">
<span id="for"></span><h2>7.3. The <a href="#for"><code class="xref std std-keyword docutils literal"><span class="pre">for</span></code></a> statement</h2>
<p id="index-6">The <a href="#for"><code class="xref std std-keyword docutils literal"><span class="pre">for</span></code></a> statement is used to iterate over the elements of a sequence
(such as a string, tuple or list) or other iterable object:</p>
<pre>
<strong id="grammar-token-for_stmt">for_stmt</strong> ::=  &quot;for&quot; <a href="#grammar-token-target_list"><code class="xref docutils literal"><span class="pre">target_list</span></code></a> &quot;in&quot; <a href="#grammar-token-expression_list"><code class="xref docutils literal"><span class="pre">expression_list</span></code></a> &quot;:&quot; <a href="#grammar-token-suite"><code class="xref docutils literal"><span class="pre">suite</span></code></a>
              [&quot;else&quot; &quot;:&quot; <a href="#grammar-token-suite"><code class="xref docutils literal"><span class="pre">suite</span></code></a>]
</pre>
<p>The expression list is evaluated once; it should yield an iterable object.  An
iterator is created for the result of the <code class="docutils literal"><span class="pre">expression_list</span></code>.  The suite is
then executed once for each item provided by the iterator, in the order of
ascending indices.  Each item in turn is assigned to the target list using the
standard rules for assignments, and then the suite is executed.  When the items
are exhausted (which is immediately when the sequence is empty), the suite in
the <a href="#else"><code class="xref std std-keyword docutils literal"><span class="pre">else</span></code></a> clause, if present, is executed, and the loop terminates.</p>
<p id="index-7">A <a href="#break"><code class="xref std std-keyword docutils literal"><span class="pre">break</span></code></a> statement executed in the first suite terminates the loop
without executing the <a href="#else"><code class="xref std std-keyword docutils literal"><span class="pre">else</span></code></a> clause’s suite.  A <a href="#continue"><code class="xref std std-keyword docutils literal"><span class="pre">continue</span></code></a>
statement executed in the first suite skips the rest of the suite and continues
with the next item, or with the <a href="#else"><code class="xref std std-keyword docutils literal"><span class="pre">else</span></code></a> clause if there was no next
item.</p>
<p>The suite may assign to the variable(s) in the target list; this does not affect
the next item assigned to it.</p>
<p id="index-8">The target list is not deleted when the loop is finished, but if the sequence is
empty, it will not have been assigned to at all by the loop.  Hint: the built-in
function <a href="../library/functions.html#range" title="range"><code class="xref py py-func docutils literal"><span class="pre">range()</span></code></a> returns a sequence of integers suitable to emulate the
effect of Pascal’s <code class="docutils literal"><span class="pre">for</span> <span class="pre">i</span> <span class="pre">:=</span> <span class="pre">a</span> <span class="pre">to</span> <span class="pre">b</span> <span class="pre">do</span></code>; e.g., <code class="docutils literal"><span class="pre">range(3)</span></code> returns the list
<code class="docutils literal"><span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">2]</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p id="index-9">There is a subtlety when the sequence is being modified by the loop (this can
only occur for mutable sequences, i.e. lists). An internal counter is used to
keep track of which item is used next, and this is incremented on each
iteration.  When this counter has reached the length of the sequence the loop
terminates.  This means that if the suite deletes the current (or a previous)
item from the sequence, the next item will be skipped (since it gets the index
of the current item which has already been treated).  Likewise, if the suite
inserts an item in the sequence before the current item, the current item will
be treated again the next time through the loop. This can lead to nasty bugs
that can be avoided by making a temporary copy using a slice of the whole
sequence, e.g.,</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">a</span><span class="p">[:]:</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span> <span class="n">a</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="the-try-statement">
<span id="finally"></span><span id="except"></span><span id="try"></span><h2>7.4. The <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a> statement</h2>
<p id="index-10">The <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a> statement specifies exception handlers and/or cleanup code
for a group of statements:</p>
<pre>
<strong id="grammar-token-try_stmt">try_stmt </strong> ::=  try1_stmt | try2_stmt
<strong id="grammar-token-try1_stmt">try1_stmt</strong> ::=  &quot;try&quot; &quot;:&quot; <a href="#grammar-token-suite"><code class="xref docutils literal"><span class="pre">suite</span></code></a>
               (&quot;except&quot; [<a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> [(&quot;as&quot; | &quot;,&quot;) <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a>]] &quot;:&quot; <a href="#grammar-token-suite"><code class="xref docutils literal"><span class="pre">suite</span></code></a>)+
               [&quot;else&quot; &quot;:&quot; <a href="#grammar-token-suite"><code class="xref docutils literal"><span class="pre">suite</span></code></a>]
               [&quot;finally&quot; &quot;:&quot; <a href="#grammar-token-suite"><code class="xref docutils literal"><span class="pre">suite</span></code></a>]
<strong id="grammar-token-try2_stmt">try2_stmt</strong> ::=  &quot;try&quot; &quot;:&quot; <a href="#grammar-token-suite"><code class="xref docutils literal"><span class="pre">suite</span></code></a>
               &quot;finally&quot; &quot;:&quot; <a href="#grammar-token-suite"><code class="xref docutils literal"><span class="pre">suite</span></code></a>
</pre>
<div class="versionchanged">
<p><span>Changed in version 2.5: </span>In previous versions of Python, <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a>…<a href="#except"><code class="xref std std-keyword docutils literal"><span class="pre">except</span></code></a>…<a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> did not work. <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a>…<a href="#except"><code class="xref std std-keyword docutils literal"><span class="pre">except</span></code></a> had to be
nested in <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a>…<a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a>.</p>
</div>
<p>The <a href="#except"><code class="xref std std-keyword docutils literal"><span class="pre">except</span></code></a> clause(s) specify one or more exception handlers. When no
exception occurs in the <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a> clause, no exception handler is executed.
When an exception occurs in the <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a> suite, a search for an exception
handler is started.  This search inspects the except clauses in turn until one
is found that matches the exception.  An expression-less except clause, if
present, must be last; it matches any exception.  For an except clause with an
expression, that expression is evaluated, and the clause matches the exception
if the resulting object is “compatible” with the exception.  An object is
compatible with an exception if it is the class or a base class of the exception
object, or a tuple containing an item compatible with the exception.</p>
<p>If no except clause matches the exception, the search for an exception handler
continues in the surrounding code and on the invocation stack.  <a class="footnote-reference" href="#id5" id="id1">[1]</a></p>
<p>If the evaluation of an expression in the header of an except clause raises an
exception, the original search for a handler is canceled and a search starts for
the new exception in the surrounding code and on the call stack (it is treated
as if the entire <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a> statement raised the exception).</p>
<p>When a matching except clause is found, the exception is assigned to the target
specified in that except clause, if present, and the except clause’s suite is
executed.  All except clauses must have an executable block.  When the end of
this block is reached, execution continues normally after the entire try
statement.  (This means that if two nested handlers exist for the same
exception, and the exception occurs in the try clause of the inner handler, the
outer handler will not handle the exception.)</p>
<p id="index-11">Before an except clause’s suite is executed, details about the exception are
assigned to three variables in the <a href="../library/sys.html#module-sys" title="sys: Access system-specific parameters and functions."><code class="xref py py-mod docutils literal"><span class="pre">sys</span></code></a> module: <code class="docutils literal"><span class="pre">sys.exc_type</span></code> receives
the object identifying the exception; <code class="docutils literal"><span class="pre">sys.exc_value</span></code> receives the exception’s
parameter; <code class="docutils literal"><span class="pre">sys.exc_traceback</span></code> receives a traceback object (see section
<a href="#types"><span class="std std-ref">The standard type hierarchy</span></a>) identifying the point in the program where the exception
occurred. These details are also available through the <a href="../library/sys.html#sys.exc_info" title="sys.exc_info"><code class="xref py py-func docutils literal"><span class="pre">sys.exc_info()</span></code></a>
function, which returns a tuple <code class="docutils literal"><span class="pre">(exc_type,</span> <span class="pre">exc_value,</span> <span class="pre">exc_traceback)</span></code>.  Use
of the corresponding variables is deprecated in favor of this function, since
their use is unsafe in a threaded program.  As of Python 1.5, the variables are
restored to their previous values (before the call) when returning from a
function that handled an exception.</p>
<p id="index-12">The optional <a href="#else"><code class="xref std std-keyword docutils literal"><span class="pre">else</span></code></a> clause is executed if and when control flows off
the end of the <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a> clause. <a class="footnote-reference" href="#id6" id="id2">[2]</a> Exceptions in the <a href="#else"><code class="xref std std-keyword docutils literal"><span class="pre">else</span></code></a>
clause are not handled by the preceding <a href="#except"><code class="xref std std-keyword docutils literal"><span class="pre">except</span></code></a> clauses.</p>
<p id="index-13">If <a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> is present, it specifies a ‘cleanup’ handler.  The
<a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a> clause is executed, including any <a href="#except"><code class="xref std std-keyword docutils literal"><span class="pre">except</span></code></a> and
<a href="#else"><code class="xref std std-keyword docutils literal"><span class="pre">else</span></code></a> clauses.  If an exception occurs in any of the clauses and is
not handled, the exception is temporarily saved. The <a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> clause
is executed.  If there is a saved exception, it is re-raised at the end of the
<a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> clause. If the <a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> clause raises another
exception or executes a <a href="#return"><code class="xref std std-keyword docutils literal"><span class="pre">return</span></code></a> or <a href="#break"><code class="xref std std-keyword docutils literal"><span class="pre">break</span></code></a> statement, the
saved exception is discarded:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>        <span class="mi">1</span><span class="o">/</span><span class="mi">0</span>
<span class="gp">... </span>    <span class="k">finally</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="mi">42</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">()</span>
<span class="go">42</span>
</pre></div>
</div>
<p>The exception information is not available to the program during execution of
the <a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> clause.</p>
<p id="index-14">When a <a href="#return"><code class="xref std std-keyword docutils literal"><span class="pre">return</span></code></a>, <a href="#break"><code class="xref std std-keyword docutils literal"><span class="pre">break</span></code></a> or <a href="#continue"><code class="xref std std-keyword docutils literal"><span class="pre">continue</span></code></a> statement is
executed in the <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a> suite of a <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a>…<a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a>
statement, the <a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> clause is also executed ‘on the way out.’ A
<a href="#continue"><code class="xref std std-keyword docutils literal"><span class="pre">continue</span></code></a> statement is illegal in the <a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> clause. (The
reason is a problem with the current implementation — this restriction may be
lifted in the future).</p>
<p>The return value of a function is determined by the last <a href="#return"><code class="xref std std-keyword docutils literal"><span class="pre">return</span></code></a>
statement executed.  Since the <a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> clause always executes, a
<a href="#return"><code class="xref std std-keyword docutils literal"><span class="pre">return</span></code></a> statement executed in the <a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> clause will
always be the last one executed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="s1">&#39;try&#39;</span>
<span class="gp">... </span>    <span class="k">finally</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="s1">&#39;finally&#39;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span><span class="p">()</span>
<span class="go">&#39;finally&#39;</span>
</pre></div>
</div>
<p>Additional information on exceptions can be found in section <a href="#exceptions"><span class="std std-ref">Exceptions</span></a>,
and information on using the <a href="#raise"><code class="xref std std-keyword docutils literal"><span class="pre">raise</span></code></a> statement to generate exceptions
may be found in section <a href="#raise"><span class="std std-ref">The raise statement</span></a>.</p>
</div>
<div class="section" id="the-with-statement">
<span id="as"></span><span id="with"></span><h2>7.5. The <a href="#with"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a> statement</h2>
<div class="versionadded" id="index-15">
<p><span>New in version 2.5.</span></p>
</div>
<p>The <a href="#with"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a> statement is used to wrap the execution of a block with
methods defined by a context manager (see section <a href="#context-managers"><span class="std std-ref">With Statement Context Managers</span></a>). This
allows common <a href="#try"><code class="xref std std-keyword docutils literal"><span class="pre">try</span></code></a>…<a href="#except"><code class="xref std std-keyword docutils literal"><span class="pre">except</span></code></a>…<a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> usage
patterns to be encapsulated for convenient reuse.</p>
<pre>
<strong id="grammar-token-with_stmt">with_stmt</strong> ::=  &quot;with&quot; with_item (&quot;,&quot; with_item)* &quot;:&quot; <a href="#grammar-token-suite"><code class="xref docutils literal"><span class="pre">suite</span></code></a>
<strong id="grammar-token-with_item">with_item</strong> ::=  <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a> [&quot;as&quot; <a href="#grammar-token-target"><code class="xref docutils literal"><span class="pre">target</span></code></a>]
</pre>
<p>The execution of the <a href="#with"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a> statement with one “item” proceeds as follows:</p>
<ol class="arabic">
<li><p class="first">The context expression (the expression given in the <a href="#grammar-token-with_item"><code class="xref std std-token docutils literal"><span class="pre">with_item</span></code></a>) is
evaluated to obtain a context manager.</p>
</li>
<li><p class="first">The context manager’s <a href="#object.__exit__" title="object.__exit__"><code class="xref py py-meth docutils literal"><span class="pre">__exit__()</span></code></a> is loaded for later use.</p>
</li>
<li><p class="first">The context manager’s <a href="#object.__enter__" title="object.__enter__"><code class="xref py py-meth docutils literal"><span class="pre">__enter__()</span></code></a> method is invoked.</p>
</li>
<li><p class="first">If a target was included in the <a href="#with"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a> statement, the return value
from <a href="#object.__enter__" title="object.__enter__"><code class="xref py py-meth docutils literal"><span class="pre">__enter__()</span></code></a> is assigned to it.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <a href="#with"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a> statement guarantees that if the <a href="#object.__enter__" title="object.__enter__"><code class="xref py py-meth docutils literal"><span class="pre">__enter__()</span></code></a> method
returns without an error, then <a href="#object.__exit__" title="object.__exit__"><code class="xref py py-meth docutils literal"><span class="pre">__exit__()</span></code></a> will always be called. Thus, if
an error occurs during the assignment to the target list, it will be treated the
same as an error occurring within the suite would be. See step 6 below.</p>
</div>
</li>
<li><p class="first">The suite is executed.</p>
</li>
<li><p class="first">The context manager’s <a href="#object.__exit__" title="object.__exit__"><code class="xref py py-meth docutils literal"><span class="pre">__exit__()</span></code></a> method is invoked. If an exception
caused the suite to be exited, its type, value, and traceback are passed as
arguments to <a href="#object.__exit__" title="object.__exit__"><code class="xref py py-meth docutils literal"><span class="pre">__exit__()</span></code></a>. Otherwise, three <a href="../library/constants.html#None" title="None"><code class="xref py py-const docutils literal"><span class="pre">None</span></code></a> arguments are
supplied.</p>
<p>If the suite was exited due to an exception, and the return value from the
<a href="#object.__exit__" title="object.__exit__"><code class="xref py py-meth docutils literal"><span class="pre">__exit__()</span></code></a> method was false, the exception is reraised. If the return
value was true, the exception is suppressed, and execution continues with the
statement following the <a href="#with"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a> statement.</p>
<p>If the suite was exited for any reason other than an exception, the return value
from <a href="#object.__exit__" title="object.__exit__"><code class="xref py py-meth docutils literal"><span class="pre">__exit__()</span></code></a> is ignored, and execution proceeds at the normal location
for the kind of exit that was taken.</p>
</li>
</ol>
<p>With more than one item, the context managers are processed as if multiple
<a href="#with"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a> statements were nested:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">A</span><span class="p">()</span> <span class="k">as</span> <span class="n">a</span><span class="p">,</span> <span class="n">B</span><span class="p">()</span> <span class="k">as</span> <span class="n">b</span><span class="p">:</span>
    <span class="n">suite</span>
</pre></div>
</div>
<p>is equivalent to</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">A</span><span class="p">()</span> <span class="k">as</span> <span class="n">a</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">B</span><span class="p">()</span> <span class="k">as</span> <span class="n">b</span><span class="p">:</span>
        <span class="n">suite</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In Python 2.5, the <a href="#with"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a> statement is only allowed when the
<code class="docutils literal"><span class="pre">with_statement</span></code> feature has been enabled.  It is always enabled in
Python 2.6.</p>
</div>
<div class="versionchanged">
<p><span>Changed in version 2.7: </span>Support for multiple context expressions.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><span class="target" id="index-16"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0343"><strong>PEP 343</strong></a> - The “with” statement</dt>
<dd>The specification, background, and examples for the Python <a href="#with"><code class="xref std std-keyword docutils literal"><span class="pre">with</span></code></a>
statement.</dd>
</dl>
</div>
</div>
<div class="section" id="function-definitions">
<span id="def"></span><span id="function"></span><span id="index-17"></span><h2>7.6. Function definitions</h2>
<p id="index-18">A function definition defines a user-defined function object (see section
<a href="#types"><span class="std std-ref">The standard type hierarchy</span></a>):</p>
<pre>
<strong id="grammar-token-decorated">decorated     </strong> ::=  decorators (classdef | funcdef)
<strong id="grammar-token-decorators">decorators    </strong> ::=  <a href="#grammar-token-decorator"><code class="xref docutils literal"><span class="pre">decorator</span></code></a>+
<strong id="grammar-token-decorator">decorator     </strong> ::=  &quot;&#64;&quot; <a href="#grammar-token-dotted_name"><code class="xref docutils literal"><span class="pre">dotted_name</span></code></a> [&quot;(&quot; [<a href="#grammar-token-argument_list"><code class="xref docutils literal"><span class="pre">argument_list</span></code></a> [&quot;,&quot;]] &quot;)&quot;] NEWLINE
<strong id="grammar-token-funcdef">funcdef       </strong> ::=  &quot;def&quot; <a href="#grammar-token-funcname"><code class="xref docutils literal"><span class="pre">funcname</span></code></a> &quot;(&quot; [<a href="#grammar-token-parameter_list"><code class="xref docutils literal"><span class="pre">parameter_list</span></code></a>] &quot;)&quot; &quot;:&quot; <a href="#grammar-token-suite"><code class="xref docutils literal"><span class="pre">suite</span></code></a>
<strong id="grammar-token-dotted_name">dotted_name   </strong> ::=  <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a> (&quot;.&quot; <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a>)*
<strong id="grammar-token-parameter_list">parameter_list</strong> ::=  (<a href="#grammar-token-defparameter"><code class="xref docutils literal"><span class="pre">defparameter</span></code></a> &quot;,&quot;)*
                    (  &quot;*&quot; <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a> [&quot;,&quot; &quot;**&quot; <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a>]
                    | &quot;**&quot; <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a>
                    | <a href="#grammar-token-defparameter"><code class="xref docutils literal"><span class="pre">defparameter</span></code></a> [&quot;,&quot;] )
<strong id="grammar-token-defparameter">defparameter  </strong> ::=  <a href="#grammar-token-parameter"><code class="xref docutils literal"><span class="pre">parameter</span></code></a> [&quot;=&quot; <a href="#grammar-token-expression"><code class="xref docutils literal"><span class="pre">expression</span></code></a>]
<strong id="grammar-token-sublist">sublist       </strong> ::=  <a href="#grammar-token-parameter"><code class="xref docutils literal"><span class="pre">parameter</span></code></a> (&quot;,&quot; <a href="#grammar-token-parameter"><code class="xref docutils literal"><span class="pre">parameter</span></code></a>)* [&quot;,&quot;]
<strong id="grammar-token-parameter">parameter     </strong> ::=  <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a> | &quot;(&quot; <a href="#grammar-token-sublist"><code class="xref docutils literal"><span class="pre">sublist</span></code></a> &quot;)&quot;
<strong id="grammar-token-funcname">funcname      </strong> ::=  <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a>
</pre>
<p>A function definition is an executable statement.  Its execution binds the
function name in the current local namespace to a function object (a wrapper
around the executable code for the function).  This function object contains a
reference to the current global namespace as the global namespace to be used
when the function is called.</p>
<p>The function definition does not execute the function body; this gets executed
only when the function is called. <a class="footnote-reference" href="#id7" id="id3">[3]</a></p>
<p id="index-19">A function definition may be wrapped by one or more <a href="../glossary.html#term-decorator"><span class="xref std std-term">decorator</span></a> expressions.
Decorator expressions are evaluated when the function is defined, in the scope
that contains the function definition.  The result must be a callable, which is
invoked with the function object as the only argument. The returned value is
bound to the function name instead of the function object.  Multiple decorators
are applied in nested fashion. For example, the following code:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="nd">@f1</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
<span class="nd">@f2</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span> <span class="k">pass</span>
</pre></div>
</div>
<p>is equivalent to:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">func</span><span class="p">():</span> <span class="k">pass</span>
<span class="n">func</span> <span class="o">=</span> <span class="n">f1</span><span class="p">(</span><span class="n">arg</span><span class="p">)(</span><span class="n">f2</span><span class="p">(</span><span class="n">func</span><span class="p">))</span>
</pre></div>
</div>
<p id="index-20">When one or more top-level <a href="../glossary.html#term-parameter"><span class="xref std std-term">parameters</span></a> have the form
<em>parameter</em> <code class="docutils literal"><span class="pre">=</span></code> <em>expression</em>, the function is said to have “default parameter
values.”  For a parameter with a default value, the corresponding
<a href="../glossary.html#term-argument"><span class="xref std std-term">argument</span></a> may be omitted from a call, in which
case the parameter’s default value is substituted.  If a
parameter has a default value, all following parameters must also have a default
value — this is a syntactic restriction that is not expressed by the grammar.</p>
<p><strong>Default parameter values are evaluated when the function definition is
executed.</strong>  This means that the expression is evaluated once, when the function
is defined, and that the same “pre-computed” value is used for each call.  This
is especially important to understand when a default parameter is a mutable
object, such as a list or a dictionary: if the function modifies the object
(e.g. by appending an item to a list), the default value is in effect modified.
This is generally not what was intended.  A way around this  is to use <code class="docutils literal"><span class="pre">None</span></code>
as the default, and explicitly test for it in the body of the function, e.g.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">whats_on_the_telly</span><span class="p">(</span><span class="n">penguin</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">penguin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">penguin</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">penguin</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;property of the zoo&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">penguin</span>
</pre></div>
</div>
<p id="index-21">Function call semantics are described in more detail in section <a href="#calls"><span class="std std-ref">Calls</span></a>. A
function call always assigns values to all parameters mentioned in the parameter
list, either from position arguments, from keyword arguments, or from default
values.  If the form “<code class="docutils literal"><span class="pre">*identifier</span></code>” is present, it is initialized to a tuple
receiving any excess positional parameters, defaulting to the empty tuple.  If
the form “<code class="docutils literal"><span class="pre">**identifier</span></code>” is present, it is initialized to a new dictionary
receiving any excess keyword arguments, defaulting to a new empty dictionary.</p>
<p id="index-22">It is also possible to create anonymous functions (functions not bound to a
name), for immediate use in expressions.  This uses lambda expressions, described in
section <a href="#lambda"><span class="std std-ref">Lambdas</span></a>.  Note that the lambda expression is merely a shorthand for a
simplified function definition; a function defined in a “<a href="#def"><code class="xref std std-keyword docutils literal"><span class="pre">def</span></code></a>”
statement can be passed around or assigned to another name just like a function
defined by a lambda expression.  The “<a href="#def"><code class="xref std std-keyword docutils literal"><span class="pre">def</span></code></a>” form is actually more powerful
since it allows the execution of multiple statements.</p>
<p><strong>Programmer’s note:</strong> Functions are first-class objects.  A “<code class="docutils literal"><span class="pre">def</span></code>” form
executed inside a function definition defines a local function that can be
returned or passed around.  Free variables used in the nested function can
access the local variables of the function containing the def.  See section
<a href="#naming"><span class="std std-ref">Naming and binding</span></a> for details.</p>
</div>
<div class="section" id="class-definitions">
<span id="class"></span><h2>7.7. Class definitions</h2>
<p id="index-23">A class definition defines a class object (see section <a href="#types"><span class="std std-ref">The standard type hierarchy</span></a>):</p>
<pre>
<strong id="grammar-token-classdef">classdef   </strong> ::=  &quot;class&quot; <a href="#grammar-token-classname"><code class="xref docutils literal"><span class="pre">classname</span></code></a> [<a href="#grammar-token-inheritance"><code class="xref docutils literal"><span class="pre">inheritance</span></code></a>] &quot;:&quot; <a href="#grammar-token-suite"><code class="xref docutils literal"><span class="pre">suite</span></code></a>
<strong id="grammar-token-inheritance">inheritance</strong> ::=  &quot;(&quot; [<a href="#grammar-token-expression_list"><code class="xref docutils literal"><span class="pre">expression_list</span></code></a>] &quot;)&quot;
<strong id="grammar-token-classname">classname  </strong> ::=  <a href="#grammar-token-identifier"><code class="xref docutils literal"><span class="pre">identifier</span></code></a>
</pre>
<p>A class definition is an executable statement.  It first evaluates the
inheritance list, if present.  Each item in the inheritance list should evaluate
to a class object or class type which allows subclassing.  The class’s suite is
then executed in a new execution frame (see section <a href="#naming"><span class="std std-ref">Naming and binding</span></a>), using a
newly created local namespace and the original global namespace. (Usually, the
suite contains only function definitions.)  When the class’s suite finishes
execution, its execution frame is discarded but its local namespace is
saved. <a class="footnote-reference" href="#id8" id="id4">[4]</a> A class object is then created using the inheritance list for the
base classes and the saved local namespace for the attribute dictionary.  The
class name is bound to this class object in the original local namespace.</p>
<p><strong>Programmer’s note:</strong> Variables defined in the class definition are class
variables; they are shared by all instances.  To create instance variables, they
can be set in a method with <code class="docutils literal"><span class="pre">self.name</span> <span class="pre">=</span> <span class="pre">value</span></code>.  Both class and instance
variables are accessible through the notation “<code class="docutils literal"><span class="pre">self.name</span></code>”, and an instance
variable hides a class variable with the same name when accessed in this way.
Class variables can be used as defaults for instance variables, but using
mutable values there can lead to unexpected results.  For <a href="../glossary.html#term-new-style-class"><span class="xref std std-term">new-style
class</span></a>es, descriptors can be used to create instance variables with different
implementation details.</p>
<p>Class definitions, like function definitions, may be wrapped by one or more
<a href="../glossary.html#term-decorator"><span class="xref std std-term">decorator</span></a> expressions.  The evaluation rules for the decorator
expressions are the same as for functions.  The result must be a class object,
which is then bound to the class name.</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>The exception is propagated to the invocation stack unless
there is a <a href="#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> clause which happens to raise another
exception. That new exception causes the old one to be lost.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>Currently, control “flows off the end” except in the case of an exception or the
execution of a <a href="#return"><code class="xref std std-keyword docutils literal"><span class="pre">return</span></code></a>, <a href="#continue"><code class="xref std std-keyword docutils literal"><span class="pre">continue</span></code></a>, or <a href="#break"><code class="xref std std-keyword docutils literal"><span class="pre">break</span></code></a>
statement.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id7" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td>A string literal appearing as the first statement in the function body is
transformed into the function’s <code class="docutils literal"><span class="pre">__doc__</span></code> attribute and therefore the
function’s <a href="../glossary.html#term-docstring"><span class="xref std std-term">docstring</span></a>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id8" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[4]</a></td><td>A string literal appearing as the first statement in the class body is
transformed into the namespace’s <code class="docutils literal"><span class="pre">__doc__</span></code> item and therefore the class’s
<a href="../glossary.html#term-docstring"><span class="xref std std-term">docstring</span></a>.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
  <div class="section" id="top-level-components">
<span id="top-level"></span><h1></h1><h1>8. Top-level components</h1>
<p id="index-0">The Python interpreter can get its input from a number of sources: from a script
passed to it as standard input or as program argument, typed in interactively,
from a module source file, etc.  This chapter gives the syntax used in these
cases.</p>
<div class="section" id="complete-python-programs">
<span id="programs"></span><h2>8.1. Complete Python programs</h2>
<span class="target" id="index-1"></span><p id="index-2">While a language specification need not prescribe how the language interpreter
is invoked, it is useful to have a notion of a complete Python program.  A
complete Python program is executed in a minimally initialized environment: all
built-in and standard modules are available, but none have been initialized,
except for <a href="../library/sys.html#module-sys" title="sys: Access system-specific parameters and functions."><code class="xref py py-mod docutils literal"><span class="pre">sys</span></code></a> (various system services), <a href="../library/__builtin__.html#module-__builtin__" title="__builtin__: The module that provides the built-in namespace."><code class="xref py py-mod docutils literal"><span class="pre">__builtin__</span></code></a> (built-in
functions, exceptions and <code class="docutils literal"><span class="pre">None</span></code>) and <a href="../library/__main__.html#module-__main__" title="__main__: The environment where the top-level script is run."><code class="xref py py-mod docutils literal"><span class="pre">__main__</span></code></a>.  The latter is used to
provide the local and global namespace for execution of the complete program.</p>
<p>The syntax for a complete Python program is that for file input, described in
the next section.</p>
<p id="index-3">The interpreter may also be invoked in interactive mode; in this case, it does
not read and execute a complete program but reads and executes one statement
(possibly compound) at a time.  The initial environment is identical to that of
a complete program; each statement is executed in the namespace of
<a href="../library/__main__.html#module-__main__" title="__main__: The environment where the top-level script is run."><code class="xref py py-mod docutils literal"><span class="pre">__main__</span></code></a>.</p>
<p id="index-4">Under Unix, a complete program can be passed to the interpreter in three forms:
with the <a href="../using/cmdline.html#cmdoption-c"><code class="xref std std-option docutils literal"><span class="pre">-c</span></code></a> <em>string</em> command line option, as a file passed as the
first command line argument, or as standard input. If the file or standard input
is a tty device, the interpreter enters interactive mode; otherwise, it executes
the file as a complete program.</p>
</div>
<div class="section" id="file-input">
<span id="id1"></span><h2>8.2. File input</h2>
<p>All input read from non-interactive files has the same form:</p>
<pre>
<strong id="grammar-token-file_input">file_input</strong> ::=  (NEWLINE | <a href="#grammar-token-statement"><code class="xref docutils literal"><span class="pre">statement</span></code></a>)*
</pre>
<p>This syntax is used in the following situations:</p>
<ul class="simple">
<li>when parsing a complete Python program (from a file or from a string);</li>
<li>when parsing a module;</li>
<li>when parsing a string passed to the <a href="#exec"><code class="xref std std-keyword docutils literal"><span class="pre">exec</span></code></a> statement;</li>
</ul>
</div>
<div class="section" id="interactive-input">
<span id="interactive"></span><h2>8.3. Interactive input</h2>
<p>Input in interactive mode is parsed using the following grammar:</p>
<pre>
<strong id="grammar-token-interactive_input">interactive_input</strong> ::=  [<a href="#grammar-token-stmt_list"><code class="xref docutils literal"><span class="pre">stmt_list</span></code></a>] NEWLINE | <a href="#grammar-token-compound_stmt"><code class="xref docutils literal"><span class="pre">compound_stmt</span></code></a> NEWLINE
</pre>
<p>Note that a (top-level) compound statement must be followed by a blank line in
interactive mode; this is needed to help the parser detect the end of the input.</p>
</div>
<div class="section" id="expression-input">
<span id="id2"></span><h2>8.4. Expression input</h2>
<span class="target" id="index-5"></span><p id="index-6">There are two forms of expression input.  Both ignore leading whitespace. The
string argument to <a href="../library/functions.html#eval" title="eval"><code class="xref py py-func docutils literal"><span class="pre">eval()</span></code></a> must have the following form:</p>
<pre>
<strong id="grammar-token-eval_input">eval_input</strong> ::=  <a href="#grammar-token-expression_list"><code class="xref docutils literal"><span class="pre">expression_list</span></code></a> NEWLINE*
</pre>
<p id="index-7">The input line read by <a href="../library/functions.html#input" title="input"><code class="xref py py-func docutils literal"><span class="pre">input()</span></code></a> must have the following form:</p>
<pre>
<strong id="grammar-token-input_input">input_input</strong> ::=  <a href="#grammar-token-expression_list"><code class="xref docutils literal"><span class="pre">expression_list</span></code></a> NEWLINE
</pre>
<p id="index-8">Note: to read ‘raw’ input line without interpretation, you can use the built-in
function <a href="../library/functions.html#raw_input" title="raw_input"><code class="xref py py-func docutils literal"><span class="pre">raw_input()</span></code></a> or the <a href="../library/readline.html#module-readline" title="readline: GNU readline support for Python. (Unix)"><code class="xref py py-meth docutils literal"><span class="pre">readline()</span></code></a> method of file objects.</p>
</div>
</div>


          </div>
        </div>
      </div>
  <div class="section" id="full-grammar-specification">
<h1></h1><h1>9. Full Grammar specification</h1>
<p>This is the full Python grammar, as it is read by the parser generator and used
to parse Python source files:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Grammar for Python</span>

<span class="c1"># Note:  Changing the grammar specified in this file will most likely</span>
<span class="c1">#        require corresponding changes in the parser module</span>
<span class="c1">#        (../Modules/parsermodule.c).  If you can&#39;t make the changes to</span>
<span class="c1">#        that module yourself, please co-ordinate the required changes</span>
<span class="c1">#        with someone who can; ask around on python-dev for help.  Fred</span>
<span class="c1">#        Drake &lt;fdrake@acm.org&gt; will probably be listening there.</span>

<span class="c1"># NOTE WELL: You should also follow all the steps listed in PEP 306,</span>
<span class="c1"># &quot;How to Change Python&#39;s Grammar&quot;</span>

<span class="c1"># Start symbols for the grammar:</span>
<span class="c1">#       single_input is a single interactive statement;</span>
<span class="c1">#       file_input is a module or sequence of commands read from an input file;</span>
<span class="c1">#       eval_input is the input for the eval() and input() functions.</span>
<span class="c1"># NB: compound_stmt in single_input is followed by extra NEWLINE!</span>
<span class="n">single_input</span><span class="p">:</span> <span class="n">NEWLINE</span> <span class="o">|</span> <span class="n">simple_stmt</span> <span class="o">|</span> <span class="n">compound_stmt</span> <span class="n">NEWLINE</span>
<span class="n">file_input</span><span class="p">:</span> <span class="p">(</span><span class="n">NEWLINE</span> <span class="o">|</span> <span class="n">stmt</span><span class="p">)</span><span class="o">*</span> <span class="n">ENDMARKER</span>
<span class="n">eval_input</span><span class="p">:</span> <span class="n">testlist</span> <span class="n">NEWLINE</span><span class="o">*</span> <span class="n">ENDMARKER</span>

<span class="n">decorator</span><span class="p">:</span> <span class="s1">&#39;@&#39;</span> <span class="n">dotted_name</span> <span class="p">[</span> <span class="s1">&#39;(&#39;</span> <span class="p">[</span><span class="n">arglist</span><span class="p">]</span> <span class="s1">&#39;)&#39;</span> <span class="p">]</span> <span class="n">NEWLINE</span>
<span class="n">decorators</span><span class="p">:</span> <span class="n">decorator</span><span class="o">+</span>
<span class="n">decorated</span><span class="p">:</span> <span class="n">decorators</span> <span class="p">(</span><span class="n">classdef</span> <span class="o">|</span> <span class="n">funcdef</span><span class="p">)</span>
<span class="n">funcdef</span><span class="p">:</span> <span class="s1">&#39;def&#39;</span> <span class="n">NAME</span> <span class="n">parameters</span> <span class="s1">&#39;:&#39;</span> <span class="n">suite</span>
<span class="n">parameters</span><span class="p">:</span> <span class="s1">&#39;(&#39;</span> <span class="p">[</span><span class="n">varargslist</span><span class="p">]</span> <span class="s1">&#39;)&#39;</span>
<span class="n">varargslist</span><span class="p">:</span> <span class="p">((</span><span class="n">fpdef</span> <span class="p">[</span><span class="s1">&#39;=&#39;</span> <span class="n">test</span><span class="p">]</span> <span class="s1">&#39;,&#39;</span><span class="p">)</span><span class="o">*</span>
              <span class="p">(</span><span class="s1">&#39;*&#39;</span> <span class="n">NAME</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span> <span class="s1">&#39;**&#39;</span> <span class="n">NAME</span><span class="p">]</span> <span class="o">|</span> <span class="s1">&#39;**&#39;</span> <span class="n">NAME</span><span class="p">)</span> <span class="o">|</span>
              <span class="n">fpdef</span> <span class="p">[</span><span class="s1">&#39;=&#39;</span> <span class="n">test</span><span class="p">]</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">fpdef</span> <span class="p">[</span><span class="s1">&#39;=&#39;</span> <span class="n">test</span><span class="p">])</span><span class="o">*</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">])</span>
<span class="n">fpdef</span><span class="p">:</span> <span class="n">NAME</span> <span class="o">|</span> <span class="s1">&#39;(&#39;</span> <span class="n">fplist</span> <span class="s1">&#39;)&#39;</span>
<span class="n">fplist</span><span class="p">:</span> <span class="n">fpdef</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">fpdef</span><span class="p">)</span><span class="o">*</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">]</span>

<span class="n">stmt</span><span class="p">:</span> <span class="n">simple_stmt</span> <span class="o">|</span> <span class="n">compound_stmt</span>
<span class="n">simple_stmt</span><span class="p">:</span> <span class="n">small_stmt</span> <span class="p">(</span><span class="s1">&#39;;&#39;</span> <span class="n">small_stmt</span><span class="p">)</span><span class="o">*</span> <span class="p">[</span><span class="s1">&#39;;&#39;</span><span class="p">]</span> <span class="n">NEWLINE</span>
<span class="n">small_stmt</span><span class="p">:</span> <span class="p">(</span><span class="n">expr_stmt</span> <span class="o">|</span> <span class="n">print_stmt</span>  <span class="o">|</span> <span class="n">del_stmt</span> <span class="o">|</span> <span class="n">pass_stmt</span> <span class="o">|</span> <span class="n">flow_stmt</span> <span class="o">|</span>
             <span class="n">import_stmt</span> <span class="o">|</span> <span class="n">global_stmt</span> <span class="o">|</span> <span class="n">exec_stmt</span> <span class="o">|</span> <span class="n">assert_stmt</span><span class="p">)</span>
<span class="n">expr_stmt</span><span class="p">:</span> <span class="n">testlist</span> <span class="p">(</span><span class="n">augassign</span> <span class="p">(</span><span class="n">yield_expr</span><span class="o">|</span><span class="n">testlist</span><span class="p">)</span> <span class="o">|</span>
                     <span class="p">(</span><span class="s1">&#39;=&#39;</span> <span class="p">(</span><span class="n">yield_expr</span><span class="o">|</span><span class="n">testlist</span><span class="p">))</span><span class="o">*</span><span class="p">)</span>
<span class="n">augassign</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;+=&#39;</span> <span class="o">|</span> <span class="s1">&#39;-=&#39;</span> <span class="o">|</span> <span class="s1">&#39;*=&#39;</span> <span class="o">|</span> <span class="s1">&#39;/=&#39;</span> <span class="o">|</span> <span class="s1">&#39;%=&#39;</span> <span class="o">|</span> <span class="s1">&#39;&amp;=&#39;</span> <span class="o">|</span> <span class="s1">&#39;|=&#39;</span> <span class="o">|</span> <span class="s1">&#39;^=&#39;</span> <span class="o">|</span>
            <span class="s1">&#39;&lt;&lt;=&#39;</span> <span class="o">|</span> <span class="s1">&#39;&gt;&gt;=&#39;</span> <span class="o">|</span> <span class="s1">&#39;**=&#39;</span> <span class="o">|</span> <span class="s1">&#39;//=&#39;</span><span class="p">)</span>
<span class="c1"># For normal assignments, additional restrictions enforced by the interpreter</span>
<span class="n">print_stmt</span><span class="p">:</span> <span class="s1">&#39;print&#39;</span> <span class="p">(</span> <span class="p">[</span> <span class="n">test</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">test</span><span class="p">)</span><span class="o">*</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">]</span> <span class="p">]</span> <span class="o">|</span>
                      <span class="s1">&#39;&gt;&gt;&#39;</span> <span class="n">test</span> <span class="p">[</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">test</span><span class="p">)</span><span class="o">+</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">]</span> <span class="p">]</span> <span class="p">)</span>
<span class="n">del_stmt</span><span class="p">:</span> <span class="s1">&#39;del&#39;</span> <span class="n">exprlist</span>
<span class="n">pass_stmt</span><span class="p">:</span> <span class="s1">&#39;pass&#39;</span>
<span class="n">flow_stmt</span><span class="p">:</span> <span class="n">break_stmt</span> <span class="o">|</span> <span class="n">continue_stmt</span> <span class="o">|</span> <span class="n">return_stmt</span> <span class="o">|</span> <span class="n">raise_stmt</span> <span class="o">|</span> <span class="n">yield_stmt</span>
<span class="n">break_stmt</span><span class="p">:</span> <span class="s1">&#39;break&#39;</span>
<span class="n">continue_stmt</span><span class="p">:</span> <span class="s1">&#39;continue&#39;</span>
<span class="n">return_stmt</span><span class="p">:</span> <span class="s1">&#39;return&#39;</span> <span class="p">[</span><span class="n">testlist</span><span class="p">]</span>
<span class="n">yield_stmt</span><span class="p">:</span> <span class="n">yield_expr</span>
<span class="n">raise_stmt</span><span class="p">:</span> <span class="s1">&#39;raise&#39;</span> <span class="p">[</span><span class="n">test</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span> <span class="n">test</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span> <span class="n">test</span><span class="p">]]]</span>
<span class="n">import_stmt</span><span class="p">:</span> <span class="n">import_name</span> <span class="o">|</span> <span class="n">import_from</span>
<span class="n">import_name</span><span class="p">:</span> <span class="s1">&#39;import&#39;</span> <span class="n">dotted_as_names</span>
<span class="n">import_from</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;from&#39;</span> <span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="o">*</span> <span class="n">dotted_name</span> <span class="o">|</span> <span class="s1">&#39;.&#39;</span><span class="o">+</span><span class="p">)</span>
              <span class="s1">&#39;import&#39;</span> <span class="p">(</span><span class="s1">&#39;*&#39;</span> <span class="o">|</span> <span class="s1">&#39;(&#39;</span> <span class="n">import_as_names</span> <span class="s1">&#39;)&#39;</span> <span class="o">|</span> <span class="n">import_as_names</span><span class="p">))</span>
<span class="n">import_as_name</span><span class="p">:</span> <span class="n">NAME</span> <span class="p">[</span><span class="s1">&#39;as&#39;</span> <span class="n">NAME</span><span class="p">]</span>
<span class="n">dotted_as_name</span><span class="p">:</span> <span class="n">dotted_name</span> <span class="p">[</span><span class="s1">&#39;as&#39;</span> <span class="n">NAME</span><span class="p">]</span>
<span class="n">import_as_names</span><span class="p">:</span> <span class="n">import_as_name</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">import_as_name</span><span class="p">)</span><span class="o">*</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">]</span>
<span class="n">dotted_as_names</span><span class="p">:</span> <span class="n">dotted_as_name</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">dotted_as_name</span><span class="p">)</span><span class="o">*</span>
<span class="n">dotted_name</span><span class="p">:</span> <span class="n">NAME</span> <span class="p">(</span><span class="s1">&#39;.&#39;</span> <span class="n">NAME</span><span class="p">)</span><span class="o">*</span>
<span class="n">global_stmt</span><span class="p">:</span> <span class="s1">&#39;global&#39;</span> <span class="n">NAME</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">NAME</span><span class="p">)</span><span class="o">*</span>
<span class="n">exec_stmt</span><span class="p">:</span> <span class="s1">&#39;exec&#39;</span> <span class="n">expr</span> <span class="p">[</span><span class="s1">&#39;in&#39;</span> <span class="n">test</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span> <span class="n">test</span><span class="p">]]</span>
<span class="n">assert_stmt</span><span class="p">:</span> <span class="s1">&#39;assert&#39;</span> <span class="n">test</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span> <span class="n">test</span><span class="p">]</span>

<span class="n">compound_stmt</span><span class="p">:</span> <span class="n">if_stmt</span> <span class="o">|</span> <span class="n">while_stmt</span> <span class="o">|</span> <span class="n">for_stmt</span> <span class="o">|</span> <span class="n">try_stmt</span> <span class="o">|</span> <span class="n">with_stmt</span> <span class="o">|</span> <span class="n">funcdef</span> <span class="o">|</span> <span class="n">classdef</span> <span class="o">|</span> <span class="n">decorated</span>
<span class="n">if_stmt</span><span class="p">:</span> <span class="s1">&#39;if&#39;</span> <span class="n">test</span> <span class="s1">&#39;:&#39;</span> <span class="n">suite</span> <span class="p">(</span><span class="s1">&#39;elif&#39;</span> <span class="n">test</span> <span class="s1">&#39;:&#39;</span> <span class="n">suite</span><span class="p">)</span><span class="o">*</span> <span class="p">[</span><span class="s1">&#39;else&#39;</span> <span class="s1">&#39;:&#39;</span> <span class="n">suite</span><span class="p">]</span>
<span class="n">while_stmt</span><span class="p">:</span> <span class="s1">&#39;while&#39;</span> <span class="n">test</span> <span class="s1">&#39;:&#39;</span> <span class="n">suite</span> <span class="p">[</span><span class="s1">&#39;else&#39;</span> <span class="s1">&#39;:&#39;</span> <span class="n">suite</span><span class="p">]</span>
<span class="n">for_stmt</span><span class="p">:</span> <span class="s1">&#39;for&#39;</span> <span class="n">exprlist</span> <span class="s1">&#39;in&#39;</span> <span class="n">testlist</span> <span class="s1">&#39;:&#39;</span> <span class="n">suite</span> <span class="p">[</span><span class="s1">&#39;else&#39;</span> <span class="s1">&#39;:&#39;</span> <span class="n">suite</span><span class="p">]</span>
<span class="n">try_stmt</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;try&#39;</span> <span class="s1">&#39;:&#39;</span> <span class="n">suite</span>
           <span class="p">((</span><span class="n">except_clause</span> <span class="s1">&#39;:&#39;</span> <span class="n">suite</span><span class="p">)</span><span class="o">+</span>
            <span class="p">[</span><span class="s1">&#39;else&#39;</span> <span class="s1">&#39;:&#39;</span> <span class="n">suite</span><span class="p">]</span>
            <span class="p">[</span><span class="s1">&#39;finally&#39;</span> <span class="s1">&#39;:&#39;</span> <span class="n">suite</span><span class="p">]</span> <span class="o">|</span>
           <span class="s1">&#39;finally&#39;</span> <span class="s1">&#39;:&#39;</span> <span class="n">suite</span><span class="p">))</span>
<span class="n">with_stmt</span><span class="p">:</span> <span class="s1">&#39;with&#39;</span> <span class="n">with_item</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">with_item</span><span class="p">)</span><span class="o">*</span>  <span class="s1">&#39;:&#39;</span> <span class="n">suite</span>
<span class="n">with_item</span><span class="p">:</span> <span class="n">test</span> <span class="p">[</span><span class="s1">&#39;as&#39;</span> <span class="n">expr</span><span class="p">]</span>
<span class="c1"># NB compile.c makes sure that the default except clause is last</span>
<span class="n">except_clause</span><span class="p">:</span> <span class="s1">&#39;except&#39;</span> <span class="p">[</span><span class="n">test</span> <span class="p">[(</span><span class="s1">&#39;as&#39;</span> <span class="o">|</span> <span class="s1">&#39;,&#39;</span><span class="p">)</span> <span class="n">test</span><span class="p">]]</span>
<span class="n">suite</span><span class="p">:</span> <span class="n">simple_stmt</span> <span class="o">|</span> <span class="n">NEWLINE</span> <span class="n">INDENT</span> <span class="n">stmt</span><span class="o">+</span> <span class="n">DEDENT</span>

<span class="c1"># Backward compatibility cruft to support:</span>
<span class="c1"># [ x for x in lambda: True, lambda: False if x() ]</span>
<span class="c1"># even while also allowing:</span>
<span class="c1"># lambda x: 5 if x else 2</span>
<span class="c1"># (But not a mix of the two)</span>
<span class="n">testlist_safe</span><span class="p">:</span> <span class="n">old_test</span> <span class="p">[(</span><span class="s1">&#39;,&#39;</span> <span class="n">old_test</span><span class="p">)</span><span class="o">+</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">]]</span>
<span class="n">old_test</span><span class="p">:</span> <span class="n">or_test</span> <span class="o">|</span> <span class="n">old_lambdef</span>
<span class="n">old_lambdef</span><span class="p">:</span> <span class="s1">&#39;lambda&#39;</span> <span class="p">[</span><span class="n">varargslist</span><span class="p">]</span> <span class="s1">&#39;:&#39;</span> <span class="n">old_test</span>

<span class="n">test</span><span class="p">:</span> <span class="n">or_test</span> <span class="p">[</span><span class="s1">&#39;if&#39;</span> <span class="n">or_test</span> <span class="s1">&#39;else&#39;</span> <span class="n">test</span><span class="p">]</span> <span class="o">|</span> <span class="n">lambdef</span>
<span class="n">or_test</span><span class="p">:</span> <span class="n">and_test</span> <span class="p">(</span><span class="s1">&#39;or&#39;</span> <span class="n">and_test</span><span class="p">)</span><span class="o">*</span>
<span class="n">and_test</span><span class="p">:</span> <span class="n">not_test</span> <span class="p">(</span><span class="s1">&#39;and&#39;</span> <span class="n">not_test</span><span class="p">)</span><span class="o">*</span>
<span class="n">not_test</span><span class="p">:</span> <span class="s1">&#39;not&#39;</span> <span class="n">not_test</span> <span class="o">|</span> <span class="n">comparison</span>
<span class="n">comparison</span><span class="p">:</span> <span class="n">expr</span> <span class="p">(</span><span class="n">comp_op</span> <span class="n">expr</span><span class="p">)</span><span class="o">*</span>
<span class="n">comp_op</span><span class="p">:</span> <span class="s1">&#39;&lt;&#39;</span><span class="o">|</span><span class="s1">&#39;&gt;&#39;</span><span class="o">|</span><span class="s1">&#39;==&#39;</span><span class="o">|</span><span class="s1">&#39;&gt;=&#39;</span><span class="o">|</span><span class="s1">&#39;&lt;=&#39;</span><span class="o">|</span><span class="s1">&#39;&lt;&gt;&#39;</span><span class="o">|</span><span class="s1">&#39;!=&#39;</span><span class="o">|</span><span class="s1">&#39;in&#39;</span><span class="o">|</span><span class="s1">&#39;not&#39;</span> <span class="s1">&#39;in&#39;</span><span class="o">|</span><span class="s1">&#39;is&#39;</span><span class="o">|</span><span class="s1">&#39;is&#39;</span> <span class="s1">&#39;not&#39;</span>
<span class="n">expr</span><span class="p">:</span> <span class="n">xor_expr</span> <span class="p">(</span><span class="s1">&#39;|&#39;</span> <span class="n">xor_expr</span><span class="p">)</span><span class="o">*</span>
<span class="n">xor_expr</span><span class="p">:</span> <span class="n">and_expr</span> <span class="p">(</span><span class="s1">&#39;^&#39;</span> <span class="n">and_expr</span><span class="p">)</span><span class="o">*</span>
<span class="n">and_expr</span><span class="p">:</span> <span class="n">shift_expr</span> <span class="p">(</span><span class="s1">&#39;&amp;&#39;</span> <span class="n">shift_expr</span><span class="p">)</span><span class="o">*</span>
<span class="n">shift_expr</span><span class="p">:</span> <span class="n">arith_expr</span> <span class="p">((</span><span class="s1">&#39;&lt;&lt;&#39;</span><span class="o">|</span><span class="s1">&#39;&gt;&gt;&#39;</span><span class="p">)</span> <span class="n">arith_expr</span><span class="p">)</span><span class="o">*</span>
<span class="n">arith_expr</span><span class="p">:</span> <span class="n">term</span> <span class="p">((</span><span class="s1">&#39;+&#39;</span><span class="o">|</span><span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="n">term</span><span class="p">)</span><span class="o">*</span>
<span class="n">term</span><span class="p">:</span> <span class="n">factor</span> <span class="p">((</span><span class="s1">&#39;*&#39;</span><span class="o">|</span><span class="s1">&#39;/&#39;</span><span class="o">|</span><span class="s1">&#39;%&#39;</span><span class="o">|</span><span class="s1">&#39;//&#39;</span><span class="p">)</span> <span class="n">factor</span><span class="p">)</span><span class="o">*</span>
<span class="n">factor</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="o">|</span><span class="s1">&#39;-&#39;</span><span class="o">|</span><span class="s1">&#39;~&#39;</span><span class="p">)</span> <span class="n">factor</span> <span class="o">|</span> <span class="n">power</span>
<span class="n">power</span><span class="p">:</span> <span class="n">atom</span> <span class="n">trailer</span><span class="o">*</span> <span class="p">[</span><span class="s1">&#39;**&#39;</span> <span class="n">factor</span><span class="p">]</span>
<span class="n">atom</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;(&#39;</span> <span class="p">[</span><span class="n">yield_expr</span><span class="o">|</span><span class="n">testlist_comp</span><span class="p">]</span> <span class="s1">&#39;)&#39;</span> <span class="o">|</span>
       <span class="s1">&#39;[&#39;</span> <span class="p">[</span><span class="n">listmaker</span><span class="p">]</span> <span class="s1">&#39;]&#39;</span> <span class="o">|</span>
       <span class="s1">&#39;{&#39;</span> <span class="p">[</span><span class="n">dictorsetmaker</span><span class="p">]</span> <span class="s1">&#39;}&#39;</span> <span class="o">|</span>
       <span class="s1">&#39;`&#39;</span> <span class="n">testlist1</span> <span class="s1">&#39;`&#39;</span> <span class="o">|</span>
       <span class="n">NAME</span> <span class="o">|</span> <span class="n">NUMBER</span> <span class="o">|</span> <span class="n">STRING</span><span class="o">+</span><span class="p">)</span>
<span class="n">listmaker</span><span class="p">:</span> <span class="n">test</span> <span class="p">(</span> <span class="n">list_for</span> <span class="o">|</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">test</span><span class="p">)</span><span class="o">*</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="n">testlist_comp</span><span class="p">:</span> <span class="n">test</span> <span class="p">(</span> <span class="n">comp_for</span> <span class="o">|</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">test</span><span class="p">)</span><span class="o">*</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="n">lambdef</span><span class="p">:</span> <span class="s1">&#39;lambda&#39;</span> <span class="p">[</span><span class="n">varargslist</span><span class="p">]</span> <span class="s1">&#39;:&#39;</span> <span class="n">test</span>
<span class="n">trailer</span><span class="p">:</span> <span class="s1">&#39;(&#39;</span> <span class="p">[</span><span class="n">arglist</span><span class="p">]</span> <span class="s1">&#39;)&#39;</span> <span class="o">|</span> <span class="s1">&#39;[&#39;</span> <span class="n">subscriptlist</span> <span class="s1">&#39;]&#39;</span> <span class="o">|</span> <span class="s1">&#39;.&#39;</span> <span class="n">NAME</span>
<span class="n">subscriptlist</span><span class="p">:</span> <span class="n">subscript</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">subscript</span><span class="p">)</span><span class="o">*</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">]</span>
<span class="n">subscript</span><span class="p">:</span> <span class="s1">&#39;.&#39;</span> <span class="s1">&#39;.&#39;</span> <span class="s1">&#39;.&#39;</span> <span class="o">|</span> <span class="n">test</span> <span class="o">|</span> <span class="p">[</span><span class="n">test</span><span class="p">]</span> <span class="s1">&#39;:&#39;</span> <span class="p">[</span><span class="n">test</span><span class="p">]</span> <span class="p">[</span><span class="n">sliceop</span><span class="p">]</span>
<span class="n">sliceop</span><span class="p">:</span> <span class="s1">&#39;:&#39;</span> <span class="p">[</span><span class="n">test</span><span class="p">]</span>
<span class="n">exprlist</span><span class="p">:</span> <span class="n">expr</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">expr</span><span class="p">)</span><span class="o">*</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">]</span>
<span class="n">testlist</span><span class="p">:</span> <span class="n">test</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">test</span><span class="p">)</span><span class="o">*</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">]</span>
<span class="n">dictorsetmaker</span><span class="p">:</span> <span class="p">(</span> <span class="p">(</span><span class="n">test</span> <span class="s1">&#39;:&#39;</span> <span class="n">test</span> <span class="p">(</span><span class="n">comp_for</span> <span class="o">|</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">test</span> <span class="s1">&#39;:&#39;</span> <span class="n">test</span><span class="p">)</span><span class="o">*</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">]))</span> <span class="o">|</span>
                  <span class="p">(</span><span class="n">test</span> <span class="p">(</span><span class="n">comp_for</span> <span class="o">|</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">test</span><span class="p">)</span><span class="o">*</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">]))</span> <span class="p">)</span>

<span class="n">classdef</span><span class="p">:</span> <span class="s1">&#39;class&#39;</span> <span class="n">NAME</span> <span class="p">[</span><span class="s1">&#39;(&#39;</span> <span class="p">[</span><span class="n">testlist</span><span class="p">]</span> <span class="s1">&#39;)&#39;</span><span class="p">]</span> <span class="s1">&#39;:&#39;</span> <span class="n">suite</span>

<span class="n">arglist</span><span class="p">:</span> <span class="p">(</span><span class="n">argument</span> <span class="s1">&#39;,&#39;</span><span class="p">)</span><span class="o">*</span> <span class="p">(</span><span class="n">argument</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">]</span>
                         <span class="o">|</span><span class="s1">&#39;*&#39;</span> <span class="n">test</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">argument</span><span class="p">)</span><span class="o">*</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span> <span class="s1">&#39;**&#39;</span> <span class="n">test</span><span class="p">]</span> 
                         <span class="o">|</span><span class="s1">&#39;**&#39;</span> <span class="n">test</span><span class="p">)</span>
<span class="c1"># The reason that keywords are test nodes instead of NAME is that using NAME</span>
<span class="c1"># results in an ambiguity. ast.c makes sure it&#39;s a NAME.</span>
<span class="n">argument</span><span class="p">:</span> <span class="n">test</span> <span class="p">[</span><span class="n">comp_for</span><span class="p">]</span> <span class="o">|</span> <span class="n">test</span> <span class="s1">&#39;=&#39;</span> <span class="n">test</span>

<span class="n">list_iter</span><span class="p">:</span> <span class="n">list_for</span> <span class="o">|</span> <span class="n">list_if</span>
<span class="n">list_for</span><span class="p">:</span> <span class="s1">&#39;for&#39;</span> <span class="n">exprlist</span> <span class="s1">&#39;in&#39;</span> <span class="n">testlist_safe</span> <span class="p">[</span><span class="n">list_iter</span><span class="p">]</span>
<span class="n">list_if</span><span class="p">:</span> <span class="s1">&#39;if&#39;</span> <span class="n">old_test</span> <span class="p">[</span><span class="n">list_iter</span><span class="p">]</span>

<span class="n">comp_iter</span><span class="p">:</span> <span class="n">comp_for</span> <span class="o">|</span> <span class="n">comp_if</span>
<span class="n">comp_for</span><span class="p">:</span> <span class="s1">&#39;for&#39;</span> <span class="n">exprlist</span> <span class="s1">&#39;in&#39;</span> <span class="n">or_test</span> <span class="p">[</span><span class="n">comp_iter</span><span class="p">]</span>
<span class="n">comp_if</span><span class="p">:</span> <span class="s1">&#39;if&#39;</span> <span class="n">old_test</span> <span class="p">[</span><span class="n">comp_iter</span><span class="p">]</span>

<span class="n">testlist1</span><span class="p">:</span> <span class="n">test</span> <span class="p">(</span><span class="s1">&#39;,&#39;</span> <span class="n">test</span><span class="p">)</span><span class="o">*</span>

<span class="c1"># not used in grammar, but may appear in &quot;node&quot; passed from Parser to Compiler</span>
<span class="n">encoding_decl</span><span class="p">:</span> <span class="n">NAME</span>

<span class="n">yield_expr</span><span class="p">:</span> <span class="s1">&#39;yield&#39;</span> <span class="p">[</span><span class="n">testlist</span><span class="p">]</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
<br><br><br><br><br>
<script>
  $(function() {
    var toc = $('#toc>ul');

    function makeLi(text, href) {
      return $('<a href="' + href + '" target="_self">' + text + '</a><br>');
    }

    $('h1, h2, h3').each(function(i) {
      var chapter = $(this), chapterNumber = i + 1;
      toc.append(
        makeLi(chapter.text(), '#chapter-' + chapterNumber)
      );
      chapter.attr('id', 'chapter-' + chapterNumber);
    });

  });
</script>
</body>
</html>
