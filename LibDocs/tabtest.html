<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="test.js"></script>

<style>
body {font-family: Arial; font-size: 24px;
 background-color: #000000; color: #109030;}
/* Style the tab */
.tab {display: inline-block; width: auto; max-width:60%; overflow: hidden;
  /* border: 1px solid white;*/ background-color: gray; border-radius: 5px;}
/* Style the buttons inside the tab */
.tab button { background-color: inherit; float: left; border: none; display: inline-block; 
   cursor: pointer; padding: 14px 14px; border-radius: 5px;
  transition: 0.3s; font-size: 17px; }
/* Change background color of buttons on hover */
.tab button:hover { background-color: #ddd; }
/* Create an active/current tablink class */
.tab button.active { background-color: white; }
/* Style the tab content */
.tabcontent { display: none; padding: 50px 50px; border-top: 100;
  /* border: 1px solid #ccc; */ }
</style>
</head>
<body>
<center>
<h2>Tabs</h2>
<p>Click on the buttons inside the tabbed menu:</p>
<div class="tab">
  <button class="tablinks" onclick="openCity(event, 'London')">London</button>
  <button class="tablinks" onclick="openCity(event, 'Paris')">Paris</button>
  <button class="tablinks" onclick="openCity(event, 'Tokyo')">Tokyo</button>
  <button class="tablinks" onclick="openCity(event, 'Hong Kong')">Hong Kong</button>
</div>
</center>

<div id="London" class="tabcontent">
  <h3>London</h3>
  <p>London is the capital city of England.</p>
<pre>
<b id="rdw">&#8593;</b>
10:35:54 <b id="blw" onclick=sCt("01888")>01888</b> Price: 8.76 <b class="tab3">DayUD:</b> <b class='rdw'>3.06</b>% DayCh: 0.26  PUD%: <b class='ylw'>0.24</b>% PUD: 0.02 PAmt: <i class='grw'>252</i>  PVol: 28 PDayV: 0 VTrig: <i id='gow'>4</i> ATrig: <i id='pkw'>0</i> 建滔积层板

</pre>
</div>

<div id="Paris" class="tabcontent">
  <h3>Paris</h3>
  <p>Paris is the capital of France.</p> 
  <script>
	var paris = $('#Paris');
		paris.append(theList.toString());
		paris.append(" <br><br> ")
		paris.append(theList.join(" <br> "));
		paris.append(" <br><br> ")
		for (var key in theList) {
			paris.append("key : " + key + " value is: " + theList[key] + "<br>");
		}
</script>
</div>

<div id="Tokyo" class="tabcontent">
  <h3>Tokyo</h3>
  <p>Tokyo is the capital of Japan.</p>

  <b id='mylink'>click me</b><br>

</div>

<div id="Hong Kong" class="tabcontent">
	<h3>Hong Kong</h3>
	<p>this is the forth div</p>
  <pre>
    
  </pre>
</div>
  
<script>
function openCity(evt, cityName) {
  var i, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }

  tablinks = document.getElementsByClassName("tablinks");

  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }

  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " active";
}

var myLink = document.getElementById('mylink');
myLink.onclick = function(){
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "test.js?callback=showPage"; 
    //script.src = "http://www.olderwomenarchive.com/large_gall.php?photo=allover30/5/412/4_712.jpg?callback=showPage"; 
	
    document.getElementsByTagName("head")[0].appendChild(script);
    document.getElementById('mylink').click();
	var Tokyo = $('#Tokyo');

	Tokyo.append(theList.join(" <br> "));
	showContent();
    return false;
}

var theList = ['110000','000001.sh','AAPL.US'];
thisImgHead = "<img src='http://charts.aastocks.com/servlet/Charts?fontsize=12&15MinDelay=F&lang=1&titlestyle=1&vol=1&Indicator=3&indpara1=3&indpara2=5&indpara3=10&indpara4=15&indpara5=20&subChart2=3&ref2para1=12&ref2para2=26&ref2para3=9&subChart3=12&ref3para1=0&ref3para2=0&ref3para3=0&scheme=3&com=100&chartwidth=680&chartheight=400&stockid=";
thisImgPCode = "&period=7";
thisImgTail = "&type=1&logoStyle=1' ";

function showPage(retData){
	console.log(retData);

}

function showContent(){
	$( "#codelist" ).append("Total: " + theList.length + "<br>");

	theList.forEach(function(value) {
		$( "#codelist" ).append('<span onclick=sCt("' +value + '")>' + value + '</span>&emsp;');
	});

	$( "#codelist" ).append("<br>");

	for( var codeNo = 0; codeNo < theList.length; codeNo++){
		theText = theList[codeNo];
		theFunccode =  "<div>" + (codeNo+1) + " &emsp; " + theText + "<br>" + thisImgHead + theText + thisImgPCode + thisImgTail + "onclick = \"sCt('" + theText + "')\">" + "</div>";
		$( "#codelist" ).append( theFunccode);
	};
    return false;

};

showContent();
</script>

<p id ="codelist"></p>

</body>
</html> 
