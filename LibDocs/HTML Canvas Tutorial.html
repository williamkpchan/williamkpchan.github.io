<base target="_blank"><html><head><title>canvas tutorial</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://williamkpchan.github.io/maincss.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script src="https://williamkpchan.github.io/lazyload.min.js"></script>
<script type='text/javascript' src='https://williamkpchan.github.io/mainscript.js'></script>
<script src="D:/Dropbox/Public/commonfunctions.js"></script>
<script src="https://d3js.org/d3.v4.min.js"></script>

<script>
  var showTopicNumber = true;
  var bookid = "canvas tutorial"
  var markerName = "h2"
</script>
<style>
body{width:80%;margin-left: 10%; font-size:22px;}
h1, h2 {color: gold;}
strong {color: orange;}
pre{width:100%;}
img {max-width:90%; display: inline-block; margin-top: 2%;margin-bottom: 1%; border-radius:3px; background-color:#044;}
</style></head><body onkeypress="chkKey()"><center>
<h1>canvas tutorial</h1>
<a href="https://www.youtube.com/watch?v=Yvz_axxWG4Y" class="whitebut ">HTML5 Canvas CRASH COURSE</a>

<br><a href="https://www.youtube.com/watch?v=3GqUM4mEYKA" class="whitebut ">Creating A Drawing App</a>
<br><br>
<div id="toc"></div></center>

<pre>
<a href="https://stackoverflow.com/questions/2907537/how-to-convert-svg-files-to-html5s-canvas" class="whitebut ">convert SVG files to HTML5's canvas</a>
<h2><span class="orange">HTML Canvas Tutorial</span></h2>
http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_clock_face.asp.html
<canvas id="myCanvas" width="270" height="160"
style="border:1px solid #c3c3c3;float:left;margin-right:20px;margin-bottom:15px"></canvas>
The HTML &lt;canvas&gt; element is used to draw graphics on a web page.
The graphic to the left is created with &lt;canvas&gt;.
It shows four elements: a red rectangle, a gradient rectangle, a multicolor rectangle, and a multicolor text.
<script>
var c=document.getElementById("myCanvas");
var canvOK=1;
try {c.getContext("2d");}
catch (er) {canvOK=0;}
if (canvOK==1)
	{
	var ctx=c.getContext("2d");
	ctx.fillStyle="#FF0000";
	ctx.fillRect(20,20,100,50);
	
	var grd=ctx.createLinearGradient(140,20,240,70);
    grd.addColorStop(0,"black");
    grd.addColorStop(1,"white");
    ctx.fillStyle=grd;
    ctx.fillRect(140,20,100,50);
    
    var grd2=ctx.createLinearGradient(20,90,120,90);
    grd2.addColorStop(0,"black");
    grd2.addColorStop("0.3","magenta");
    grd2.addColorStop("0.5","blue");
    grd2.addColorStop("0.6","green");
    grd2.addColorStop("0.8","yellow");
    grd2.addColorStop(1,"red");
    ctx.fillStyle=grd2;
    ctx.fillRect(20,90,100,50);
    
    ctx.font="30px Verdana";
    var grd3=ctx.createLinearGradient(140,20,240,90);
    grd3.addColorStop(0,"black");
    grd3.addColorStop("0.3","magenta");
    grd3.addColorStop("0.6","blue");
    grd3.addColorStop("0.8","green");
    grd3.addColorStop(1,"red");
    ctx.strokeStyle=grd3;
    ctx.strokeText("Smile!",140,120); 
	}
</script>
<h2>What is HTML Canvas?</h2>
The HTML &lt;canvas&gt; element is used to draw graphics, on the fly, via scripting (usually JavaScript).
The &lt;canvas&gt; element is only a container for graphics. 
You must use a script to actually draw the graphics.
Canvas has several methods for drawing paths, boxes, circles, text, and adding images.
HTML Canvas Can Draw Text
HTML Canvas Can Draw Graphics
HTML Canvas Can be Animated
Canvas objects can move. 
Everything is possible: from simple bouncing balls to complex animations.
HTML Canvas Can be Interactive
Canvas can respond to JavaScript events.
Canvas can respond to any user action (key clicks, mouse clicks, button clicks, finger movement).
HTML Canvas Can be Used in Games
Canvas' methods for animations, offer a lot of possibilities for HTML gaming applications.

<h2>Canvas Example</h2>
In HTML, a &lt;canvas&gt; element looks like this:

&lt;canvas id="myCanvas" width="200" height="100"&gt;&lt;/canvas&gt;
The &lt;canvas&gt; element must have an id attribute so it can be referred to by JavaScript.
The width and height attribute is necessary to define the size of the canvas.
<b>Tip:</b> You can have multiple &lt;canvas&gt; elements on one HTML page.
<table><tr><td>By default, the &lt;canvas&gt; element has no border and no content.</td></tr></table>
To add a border, use a style attribute:
<h3>Example</h3>
&lt;canvas id="myCanvas" width="200" height="100"
 style="border:1px solid #000000;"&gt;
&lt;/canvas&gt;

<h2><span class="orange">Draw on the Canvas With JavaScript</span></h2>
All drawing on the HTML canvas must be done with JavaScript:
<h3>Example</h3>
&lt;script&gt;var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");
ctx.fillStyle = "#FF0000";
ctx.fillRect(0,0,150,75);&lt;/script&gt;

<h2>Step 1: Find the Canvas Element</h2>
First of all, you must find the &lt;canvas&gt; element.
This is done by using the HTML DOM method getElementById():

var canvas = document.getElementById("myCanvas");


<h2>Step 2: Create a Drawing Object</h2>
Secondly, you need a drawing object for the canvas.
The getContext() is a built-in HTML object, with properties and methods for drawing:

var ctx = canvas.getContext("2d");

<h2>Step 3: Draw on the Canvas</h2>
Finally, you can draw on the canvas.
Set the fill style of the drawing object to the color red:

ctx.fillStyle = "#FF0000";
The fillStyle property can be a CSS color, a gradient, or a pattern. 
The default fillStyle is black.
The fillRect(<i>x,y,width,height</i>) method draws a rectangle, filled with the fill style, on the canvas:
ctx.fillRect(0,0,150,75);

<h2><span class="orange">HTML Canvas Coordinates</span></h2>
The HTML canvas is a two-dimensional grid.
The upper-left corner of the canvas has the coordinates (0,0)
In the previous chapter, you saw this method used: fillRect(0,0,150,75).
This means: Start at the upper-left corner (0,0) and draw a 150x75 pixels rectangle.

<h2>Draw a Line</h2>
To draw a straight line on a canvas, use the following methods:
moveTo(<i>x,y</i>) - defines the starting point of the line
lineTo(<i>x,y</i>) - defines the ending point of the line

To actually draw the line, you must use one of the "ink" methods, like stroke().

<h3>Example</h3>
<canvas id="myCanvas2" width="200" height="100" style="border:1px solid #d3d3d3;background:#ffffff;">
</canvas>
<script>
var c=document.getElementById("myCanvas2");
var canvOK=1;
try {c.getContext("2d");}
catch (er) {canvOK=0;}
if (canvOK==1)
	{
	var ctx=c.getContext("2d");
	ctx.moveTo(0,0);
	ctx.lineTo(200,100);
	ctx.stroke();
	}
</script> 
Define a starting point in position (0,0), and an ending point in position (200,100).
Then use the stroke() method to actually draw the line:
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");
ctx.moveTo(0,0);
ctx.lineTo(200,100);
ctx.stroke();

<h2>Draw a Circle</h2>
To draw a circle on a canvas, use the following methods:
beginPath() - begins a path

arc(x,y,r,startangle,endangle) - creates an arc/curve. 
To create a circle with arc(): Set start 
	angle to 0 and end angle to 2*Math.PI. 
The x and y parameters define the 
	x- and y-coordinates of the center of the circle. 
The r parameter 
	defines the radius of the circle.

<h3>Example</h3>
<canvas id="myCanvas3" width="200" height="100" style="border:1px solid #d3d3d3;background:#ffffff;">
</canvas>
<script>
var c=document.getElementById("myCanvas3");
var canvOK=1;
try {c.getContext("2d");}
catch (er) {canvOK=0;}
if (canvOK==1)
	{
	var ctx=c.getContext("2d");
	ctx.beginPath();
	ctx.arc(95,50,40,0,2*Math.PI);
	ctx.stroke();
	}
</script> 
Define a circle with the arc() method. 
Then use the stroke() method to actually draw the 
circle:
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");
ctx.beginPath();
ctx.arc(95,50,40,0,2*Math.PI);
ctx.stroke();

<h2><span class="orange">HTML Canvas Gradients</span></h2>
<h2>Canvas - Gradients</h2>
Gradients can be used to fill rectangles, circles, lines, text, etc. 
Shapes 
on the canvas are not limited to solid colors.
There are two different types of gradients:
createLinearGradient(<i>x,y,x1,y1</i>) - creates a linear gradient
createRadialGradient(<i>x,y,r,x1,y1,r1</i>) - creates a radial/circular 
	gradient

Once we have a gradient object, we must add two or more color stops.
The addColorStop() method specifies the color stops, and its position along 
the gradient. 
Gradient positions can be anywhere between 0 to 1.
To use the gradient, set the fillStyle or strokeStyle property to the 
gradient, then draw the shape (rectangle, text, or a line).

<h2>Using createLinearGradient()</h2>

<h3>Example</h3>
Create a linear gradient. 
Fill rectangle with the gradient:
<canvas id="myCanvas6" width="200" height="100" style="border:1px solid #d3d3d3;background:#ffffff;">
Your browser does not support the HTML5 canvas tag.
</canvas>
<script>
var c=document.getElementById("myCanvas6");
var canvOK=1;
try {c.getContext("2d");}
catch (er) {canvOK=0;}
if (canvOK==1)
	{
    var ctx=c.getContext("2d");
    var grd=ctx.createLinearGradient(0,0,200,0);
    grd.addColorStop(0,"red");
    grd.addColorStop(1,"white");
    ctx.fillStyle=grd;
    ctx.fillRect(10,10,150,80);
	}
</script> 
JavaScript:
	var c=document.getElementById("myCanvas");
	var ctx=c.getContext("2d");
	
	// Create gradient
	var grd=ctx.createLinearGradient(0,0,200,0);
	grd.addColorStop(0,"red");
	grd.addColorStop(1,"white");
	
	// Fill with gradient
	ctx.fillStyle=grd;
	ctx.fillRect(10,10,150,80);

<h2>Using createRadialGradient():</h2>
<h3>Example</h3>
Create a radial/circular gradient. 
Fill rectangle with the gradient:
<canvas id="myCanvas7" width="200" height="100" style="border:1px solid #d3d3d3;background:#ffffff;">
Your browser does not support the HTML5 canvas tag.
</canvas>
<script>
var c=document.getElementById("myCanvas7");
var canvOK=1;
try {c.getContext("2d");}
catch (er) {canvOK=0;}
if (canvOK==1) {
    var ctx=c.getContext("2d");
    // Create gradient
    var grd=ctx.createRadialGradient(75,50,5,90,60,100);
    grd.addColorStop(0,"red");
    grd.addColorStop(1,"white");
    // Fill with gradient
    ctx.fillStyle = grd;
    ctx.fillRect(10,10,150,80);
}
</script> 
JavaScript:
	var c=document.getElementById("myCanvas");
	var ctx=c.getContext("2d");
	
	// Create gradient
	var grd=ctx.createRadialGradient(75,50,5,90,60,100);
	grd.addColorStop(0,"red");
	grd.addColorStop(1,"white");
	
	// Fill with gradient
	ctx.fillStyle = grd;ctx.fillRect(10,10,150,80);

<h2><span class="orange">HTML Canvas Text</span></h2>
<h2>Drawing Text on the Canvas</h2>
To draw text on a canvas, the most important property and methods are:
font - defines the font properties for the text
fillText(<i>text,x,y</i>) - draws "filled" text on the canvas
strokeText(<i>text,x,y</i>) - draws text on the canvas (no fill)
<h2>Using fillText()</h2>
<h3>Example</h3>
Set font to 30px "Arial" and write a filled text on the canvas:
<canvas id="myCanvas20" width="200" height="100" style="border:1px solid #d3d3d3;background:#f0f0f0;">
</canvas>
<script>
var c=document.getElementById("myCanvas20");
var canvOK=1;
try {c.getContext("2d");}
catch (er) {canvOK=0;}
console.log(canvOK)
if (canvOK==1)
	{
    var ctx=c.getContext("2d");
    ctx.font="30px Arial";
    ctx.fillText("Hello World",10,50);
	}
</script> 
JavaScript:
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");
ctx.font = "30px Arial";
ctx.fillText("Hello World",10,50);

<h2>Using strokeText()</h2>
<h3>Example</h3>
Set font to 30px "Arial" and write a text, with no fill, on the canvas:
<canvas id="myCanvas1" width="200" height="100" style="border:1px solid #d3d3d3;background:#ffffff;">
Your browser does not support the HTML5 canvas tag.
</canvas>
<script>
var c=document.getElementById("myCanvas1");
var canvOK=1;
try {c.getContext("2d");}
catch (er) {canvOK=0;}
if (canvOK==1)
	{
    var ctx=c.getContext("2d");
    ctx.font="30px Arial";
    ctx.strokeText("Hello World",10,50);
	}
</script> 
JavaScript:
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");
ctx.font = "30px Arial";
ctx.strokeText("Hello World",10,50);

<h2>Add Color and Center Text</h2>
<h3>Example</h3>
Set font to 30px "Comic Sans MS" and write a filled red text in the center of the canvas:
<canvas id="myCanvas30"  width="300" height="200" style="border:1px solid #d3d3d3;background:#ffffff;">
</canvas>
<script>
var c=document.getElementById("myCanvas30");
var canvOK=1;
try {c.getContext("2d");}
catch (er) {canvOK=0;}
if (canvOK==1)
	{
    var ctx=c.getContext("2d");
    ctx.font="30px Comic Sans MS";
    ctx.fillStyle = "red";
    ctx.textAlign = "center";
    ctx.fillText("Hello World", c.width/2, c.height/2);
	}
</script> 
JavaScript:
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");
ctx.font = "30px Comic Sans MS";
ctx.fillStyle = "red";
ctx.textAlign = "center";
ctx.fillText("Hello World", canvas.width/2, canvas.height/2);

<h2><span class="orange">HTML Canvas Images</span></h2>
<h2>Canvas - Images</h2>
To draw an image on a canvas, use the following method:
drawImage(<i>image,x,y</i>)

<h3>Example</h3>
<img id="scream" src="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/pic_the_scream.jpg" alt="The Scream">
JavaScript:
 window.onload =
 function() {   
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");
var img = document.getElementById("scream");
ctx.drawImage(img, 10, 10);};

<table><tr><td>You cannot draw the image before the image has loaded. 
Call the function from 
window.onload().</td></tr></table>

<h2><span class="orange">Canvas Clock</span></h2>
In these chapters we will build an analog clock using HTML canvas.
<h2>Part I - Create the Canvas</h2>
The clock needs an HTML container. 
Create an 300 x 300 pixel HTML canvas:
<canvas id="canvas11" width="300" height="300" style="background-color:#333"></canvas>

<h3>HTML code:</h3>
&lt;!DOCTYPE html&gt;&lt;html&gt;
&lt;body&gt;
&lt;canvas id="canvas" width="300"
height="300" style="background-color:#333"&gt;&lt;/canvas&gt;
&lt;script&gt;var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");
var radius = canvas.height / 2;
ctx.translate(radius, radius);
radius = radius * 0.90
drawClock();
function drawClock() {
    ctx.arc(0, 0, radius, 0 , 2*Math.PI);
    ctx.fillStyle = "white";
    ctx.fill();
}
&lt;/script&gt;
&lt;/body&gt;&lt;/html&gt;

<script>
var canvas = document.getElementById("canvas11");
var ctx = canvas.getContext("2d");
var radius = canvas.height/2;
ctx.translate(radius, radius);
radius = radius*0.90
drawClock(ctx, radius);
function drawClock(ctx, radius) {
  ctx.arc(0, 0, radius, 0 , 2*Math.PI);
  ctx.fillStyle = "blue";
  ctx.fill();
}
</script>

<h2>Code Explained</h2>
Add an HTML &lt;canvas&gt; element to your page:
 
  &lt;canvas id="canvas" width="300" 
 height="300" style="background-color:#333"&gt;&lt;/canvas&gt;

Create a canvas object (var canvas) from the HTML canvas element:
 
  var canvas = 
 document.getElementById("canvas");
Create a 2d drawing object (var ctx) for the canvas object:
 
  var ctx = canvas.getContext("2d");
Calculate the clock radius, using the height of the canvas:
 
 var radius 
 = canvas.height / 2;

<table><tr>
<td>Using the canvas height to calculate the clock radius, makes the clock work for 
all canvas sizes.</td>
</tr></table>
Remap the (0,0) position (of the drawing object) to the center of the canvas:
 
  ctx.translate(radius, radius);
Reduce the clock radius (to 90%) to draw the clock well inside the canvas:
 
  radius = radius * 0.90;
Create a function to draw the clock:
 
  function drawClock() {    
 ctx.arc(0, 0, radius, 0 , 2*Math.PI);    ctx.fillStyle = 
 "white";    ctx.fill();}



<h2><span class="orange">Canvas Clock Face</span></h2>
<h2>Part II - Draw a Clock Face</h2>
The clock needs a clock face. 
Create a JavaScript function to draw a clock face:
<canvas id="canvas21" width="300" height="300" style="background-color:#333"></canvas>

<h3>JavaScript:</h3>
function drawClock() {
    <strong>drawFace(ctx, radius);</strong>
}
function drawFace(ctx, radius) {
    var grad;
    ctx.beginPath();
    ctx.arc(0, 0, radius, 0, 2*Math.PI);
    ctx.fillStyle = 'white';
    ctx.fill();
     grad = ctx.createRadialGradient(0,0,radius*0.95, 0,0,radius*1.05);
    grad.addColorStop(0, '#333');
    grad.addColorStop(0.5, 'white');
    grad.addColorStop(1, '#333');    ctx.strokeStyle = grad;
    ctx.lineWidth = radius*0.1;
    ctx.stroke();
     ctx.beginPath();
    ctx.arc(0, 0, radius*0.1, 0, 2*Math.PI);
    ctx.fillStyle = '#333';
    ctx.fill();
}

<script>

function drawFace(ctx, radius) {
    var grad;
    ctx.beginPath();
    ctx.arc(0, 0, radius, 0, 2*Math.PI);
    ctx.fillStyle = 'white';
    ctx.fill();
     grad = ctx.createRadialGradient(0,0,radius*0.95, 0,0,radius*1.05);
    grad.addColorStop(0, '#333');
    grad.addColorStop(0.5, 'white');
    grad.addColorStop(1, '#333');    ctx.strokeStyle = grad;
    ctx.lineWidth = radius*0.1;
    ctx.stroke();
     ctx.beginPath();
    ctx.arc(0, 0, radius*0.1, 0, 2*Math.PI);
    ctx.fillStyle = '#333';
    ctx.fill();
}

var canvas = document.getElementById("canvas21");
var ctx = canvas.getContext("2d");
var radius = canvas.height/2;
ctx.translate(radius, radius);
radius = radius*0.90
drawClock(ctx, radius);
function drawClock(ctx, radius) {
  drawFace(ctx, radius);
}
</script>

<h2>Code Explained</h2>
Create a drawFace() function for drawing the clock face:
 
  function drawClock() {
    <strong>drawFace(ctx, radius);</strong>
}
function drawFace(ctx, radius) {}
Draw the white circle:

ctx.beginPath();ctx.arc(0, 0, radius, 0, 2*Math.PI);
ctx.fillStyle = 'white';
ctx.fill();

Create a radial gradient (95% and 105% of original clock radius):
 
  grad = ctx.createRadialGradient(0,0,radius*0.95, 0,0,radius*1.05);
Create 3 color stops, corresponding with the inner, middle, and outer edge of 
the arc:
 
  grad.addColorStop(0, '#333');
  grad.addColorStop(0.5, 'white');
  grad.addColorStop(1, '#333');

<table><tr>
<td>The color stops create a 3D effect. </td>
</tr></table>
Define the gradient as the stroke style of the drawing object:
 
  ctx.strokeStyle = grad;
Define the line width of the drawing object (10% of radius):
 
  ctx.lineWidth = radius * 0.1;

Draw the circle:
 
  ctx.stroke();

Draw the clock center:

ctx.beginPath();ctx.arc(0, 0, radius*0.1, 0, 2*Math.PI);
ctx.fillStyle = '#333';
ctx.fill();



<h2><span class="orange">Canvas Clock Numbers</span></h2>
<h2>Part III - Draw Clock Numbers</h2>
The clock needs numbers. 
Create a JavaScript function to draw clock numbers:
<canvas id="canvas32" width="300" height="300" style="background-color:#333"></canvas>

<h3>JavaScript:</h3>
function drawClock() {
    drawFace(ctx, radius);
    <strong>drawNumbers(ctx, radius);</strong>
}
function drawNumbers(ctx, radius) {
    var ang;
    var num;
    ctx.font = radius*0.15 + "px arial";
    ctx.textBaseline="middle";
    ctx.textAlign="center";
    for(num= 1; num &lt; 13; num++){
        ang = num * Math.PI / 6;
        ctx.rotate(ang);
        ctx.translate(0, -radius*0.85);
        ctx.rotate(-ang);
        ctx.fillText(num.toString(), 0, 0);
        ctx.rotate(ang);
        ctx.translate(0, radius*0.85);
        ctx.rotate(-ang);    }
}

<script>
function drawNumbers(ctx, radius) {
    var ang;
    var num;
    ctx.font = radius*0.15 + "px arial";
    ctx.textBaseline="middle";
    ctx.textAlign="center";
    for(num= 1; num &lt; 13; num++){
        ang = num * Math.PI / 6;
        ctx.rotate(ang);
        ctx.translate(0, -radius*0.85);
        ctx.rotate(-ang);
        ctx.fillText(num.toString(), 0, 0);
        ctx.rotate(ang);
        ctx.translate(0, radius*0.85);
        ctx.rotate(-ang);    }
}
var canvas = document.getElementById("canvas32");
var ctx = canvas.getContext("2d");
var radius = canvas.height/2;
ctx.translate(radius, radius);
radius = radius*0.90
drawClock(ctx, radius);
function drawClock(ctx, radius) {
  drawFace(ctx, radius);
  drawNumbers(ctx, radius);
}
</script>

<h2>Example Explained</h2>
Set the font size (of the drawing object) to 15% of the radius:

 ctx.font = radius*0.15 + "px arial";

Set the text alignment to the middle and the center of the print position:

 ctx.textBaseline="middle";
 ctx.textAlign="center";

Calculate the print position (for 12 numbers) to 85% of the 
radius, rotated (PI/6) for each number:

 for(num= 1; num &lt; 13; num++) {
   
 ang = num * Math.PI / 6;    ctx.rotate(ang);    ctx.translate(0, -radius*0.85);
    
 ctx.rotate(-ang);    ctx.fillText(num.toString(), 0, 0);    ctx.rotate(ang);
    
 ctx.translate(0, radius*0.85);    ctx.rotate(-ang);
}



<h2><span class="orange">Canvas Clock Hands</span></h2>
<h2>Part IV - Draw Clock Hands</h2>
The clock needs hands. 
Create a JavaScript function to draw clock hands:
<canvas id="canvas" width="300" height="300" style="background-color:#333"></canvas>

<h3>JavaScript:</h3>
 function drawClock() {    drawFace(ctx, radius);    
 drawNumbers(ctx, radius);<strong>    drawTime(ctx, radius);
 </strong>}function drawTime(ctx, radius){    var now = new Date();    
 var hour = now.getHours();    var minute = now.getMinutes();    
 var second = now.getSeconds();    //hour    
 hour=hour%12;    hour=(hour*Math.PI/6)+(minute*Math.PI/(6*60))+(second*Math.PI/(360*60));
     
 drawHand(ctx, hour, radius*0.5, radius*0.07);    //minute    
 minute=(minute*Math.PI/30)+(second*Math.PI/(30*60));    
 drawHand(ctx, minute, radius*0.8, radius*0.07);    // second    
 second=(second*Math.PI/30);    drawHand(ctx, second, 
 radius*0.9, radius*0.02);}function drawHand(ctx, 
 pos, length, width) {    ctx.beginPath();    
 ctx.lineWidth = width;    ctx.lineCap = "round";    
 ctx.moveTo(0,0);    ctx.rotate(pos);    
 ctx.lineTo(0, -length);    ctx.stroke();    
 ctx.rotate(-pos);}

<h2>Example Explained</h2>
Use Date to get hour, minute, second:

 var now = new Date();var hour = now.getHours();var minute = now.getMinutes();var second = now.getSeconds();

Calculate the angle of the hour hand, and draw it a length (50% of radius), 
and a width (7% of radius):

 hour=hour%12;hour=(hour*Math.PI/6)+(minute*Math.PI/(6*60))+(second*Math.PI/(360*60));
 drawHand(ctx, hour, radius*0.5, radius*0.07);

Use the same technic for minutes and seconds.
The drawHand() routine does not need an explanation. 
It just draws a line 
with a given length and width.


<h2><span class="orange">Canvas Clock Start</span></h2>
In these chapters we build an analog clock using HTML Canvas.
<h2>Part V - Start the Clock</h2>
To start the clock, call the drawClock function at intervals:
<canvas id="canvas" width="300" height="300" style="background-color:#333"></canvas>

<h3>JavaScript:</h3>
 var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");
var radius = canvas.height / 2;
ctx.translate(radius, radius);
radius = radius * 0.90
//drawClock();
setInterval(drawClock, 1000);

<h2>Example Explained</h2>
The only thing you have to do (to start the clock) is to call the drawClock 
function at intervals.
Substitute:

 drawClock();
With:

 setInterval(drawClock, 1000);

<table><tr>
<td>The interval is in milliseconds. 
drawClock will be called for each 1000 milliseconds.</td>
</tr></table>


<h2><span class="orange">HTML Canvas Reference</span></h2>

<h2>Colors, Styles, and Shadows</h2>
<table>  <tr><th style="width:25%">Property</th><th>Description</th></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_fillstyle.asp.html">fillStyle</a></td><td>Sets or returns the color, gradient, or pattern used to fill the drawing</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_strokestyle.asp.html">strokeStyle</a></td><td>Sets or returns the color, gradient, or pattern used for strokes</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_shadowcolor.asp.html">shadowColor</a></td><td>Sets or returns the color to use for shadows</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_shadowblur.asp.html">shadowBlur</a></td><td>Sets or returns the blur level for shadows</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_shadowoffsetx.asp.html">shadowOffsetX</a></td><td>Sets or returns the horizontal distance of the shadow from the shape</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_shadowoffsety.asp.html">shadowOffsetY</a></td><td>Sets or returns the vertical distance of the shadow from the shape</td></tr>
  </table>

<table>  <tr><th style="width:25%">Method</th><th>Description</th></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_createlineargradient.asp.html">createLinearGradient()</a></td><td>Creates a linear gradient (to use on canvas content)</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_createpattern.asp.html">createPattern()</a></td><td>Repeats a specified element in the specified direction</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_createradialgradient.asp.html">createRadialGradient()</a></td><td>Creates a radial/circular gradient (to use on canvas content)</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_addcolorstop.asp.html">addColorStop()</a></td><td>Specifies the colors and stop positions in a gradient object</td></tr> </table>
<h2>Line Styles</h2>
<table>  <tr><th style="width:25%">Property</th><th>Description</th></tr>
	<tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_linecap.asp.html">lineCap</a></td><td>Sets or returns the style of the end caps for a line</td></tr>
	<tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_linejoin.asp.html">lineJoin</a></td><td>Sets or returns the type of corner created, when two lines meet</td></tr>
	<tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_linewidth.asp.html">lineWidth</a></td><td>Sets or returns the current line width</td></tr>
	<tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_miterlimit.asp.html">miterLimit</a></td><td>Sets or returns the maximum miter length</td></tr></table>
<h2>Rectangles</h2>
<table>  <tr><th style="width:25%">Method</th><th>Description</th></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_rect.asp.html">rect()</a></td><td>Creates a rectangle</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_fillrect.asp.html">fillRect()</a></td><td>Draws a "filled" rectangle</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_strokerect.asp.html">strokeRect()</a></td><td>Draws a rectangle (no fill)</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_clearrect.asp.html">clearRect()</a></td><td>Clears the specified pixels within a given rectangle</td></tr></table>
<h2>Paths</h2>
<table>  <tr><th style="width:25%">Method</th><th>Description</th></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_fill.asp.html">fill()</a></td><td>Fills the current drawing (path)</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_stroke.asp.html">stroke()</a></td><td>Actually draws the path you have defined</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_beginpath.asp.html">beginPath()</a></td><td>Begins a path, or resets the current path</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_moveto.asp.html">moveTo()</a></td><td>Moves the path to the specified point in the canvas, without creating a line</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_closepath.asp.html">closePath()</a></td><td>Creates a path from the current point back to the starting point</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_lineto.asp.html">lineTo()</a></td><td>Adds a new point and creates a line to that point from the last specified point in the canvas</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_clip.asp.html">clip()</a></td><td>Clips a region of any shape and size from the original canvas</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_quadraticcurveto.asp.html">quadraticCurveTo()</a></td><td>Creates a quadratic Bézier curve</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_beziercurveto.asp.html">bezierCurveTo()</a></td><td>Creates a cubic Bézier curve</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_arc.asp.html">arc()</a></td><td>Creates an arc/curve (used to create circles, or parts of circles)</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_arcto.asp.html">arcTo()</a></td><td>Creates an arc/curve between two tangents</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_ispointinpath.asp.html">isPointInPath()</a></td><td>Returns true if the specified point is in the current path, otherwise false</td></tr>
</table>
<h2>Transformations</h2>
<table>  <tr><th style="width:25%">Method</th><th>Description</th></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_scale.asp.html">scale()</a></td><td>Scales the current drawing bigger or smaller</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_rotate.asp.html">rotate()</a></td><td>Rotates the current drawing</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_translate.asp.html">translate()</a></td><td>Remaps the (0,0) position on the canvas</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_transform.asp.html">transform()</a></td><td>Replaces the current transformation matrix for the drawing</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_settransform.asp.html">setTransform()</a></td><td>Resets the current transform to the identity matrix.
Then runs <a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_transform.asp.html"> transform()</a></td></tr>
  </table>
<h2>Text</h2>
<table>  <tr><th style="width:25%">Property</th><th>Description</th></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_font.asp.html">font</a></td><td>Sets or returns the current font properties for text content</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_textalign.asp.html">textAlign</a></td><td>Sets or returns the current alignment for text content</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_textbaseline.asp.html">textBaseline</a></td><td>Sets or returns the current text baseline used when drawing text</td></tr>
</table>

<table>   <tr><th style="width:25%">Method</th><th>Description</th>
</tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_filltext.asp.html">fillText()</a></td><td>Draws "filled" text on the canvas</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_stroketext.asp.html">strokeText()</a></td><td>Draws text on the canvas (no fill)</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_measuretext.asp.html">measureText()</a></td><td>Returns an object that contains the width of the specified text</td></tr>
</table>
<h2>Image Drawing</h2>
<table>   <tr><th style="width:25%">Method</th><th>Description</th></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_drawimage.asp.html">drawImage()</a></td><td>Draws an image, canvas, or video onto the canvas</td></tr></table>
  
<h2>Pixel Manipulation</h2>
<table>  <tr><th style="width:25%">Property</th><th>Description</th></tr>
    <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_imagedata_width.asp.html">width</a></td><td>Returns the width of an ImageData object</td></tr>
	<tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_imagedata_height.asp.html">height</a></td><td>Returns the height of an ImageData object</td></tr>
	<tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_imagedata_data.asp.html">data</a></td><td>Returns an object that contains image data of a specified ImageData object</td></tr>
</table>

<table>   <tr><th style="width:25%">Method</th><th>Description</th></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_createimagedata.asp.html">createImageData()</a></td><td>Creates a new, blank ImageData object</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_getimagedata.asp.html">getImageData()</a></td><td>Returns an ImageData object that copies the pixel data for the specified rectangle on a canvas</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_putimagedata.asp.html">putImageData()</a></td><td>Puts the image data (from a specified ImageData object) back onto the canvas</td></tr>
</table>
  
<h2>Compositing</h2>
<table>  <tr><th style="width:25%">Property</th><th>Description</th></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_globalalpha.asp.html">globalAlpha</a></td><td>Sets or returns the current alpha or transparency value of the drawing</td></tr>
  <tr><td><a href="http://www-db.deis.unibo.it/courses/TW/DOCS/w3schools/canvas/canvas_globalcompositeoperation.asp.html">globalCompositeOperation</a></td><td>Sets or returns how a new image are drawn onto an existing image</td></tr>
</table>
<h2>Other</h2>
<table>  <tr><th style="width:25%">Method</th><th>Description</th></tr>
  <tr><td>save()</td><td>Saves the state of the current context</td></tr>
  <tr><td>restore()</td><td>Returns previously saved path state and attributes</td></tr>
  <tr><td>createEvent()</td><td> </td></tr>
  <tr><td>getContext()</td><td> </td></tr>
  <tr><td>toDataURL()</td><td> </td></tr>
</table>

<h2>draw a rectangle</h2>
ctx.fillRect(10,10,1,1); // fill in the pixel at (10,10)
For performance reasons, don't draw a circle if you can avoid it.
Just draw a rectangle with a width and height of one:

function point(x, y, canvas){
  canvas.beginPath();
  canvas.moveTo(x, y);
  canvas.lineTo(x+1, y+1);
  canvas.stroke();
}





<script src='https://williamkpchan.github.io/LibDocs/readbook.js'></script>
<script>
var lazyLoadInstance = new LazyLoad({
    elements_selector: ".lazy"
    // ... more custom settings?
});
</script>
</pre></body></html>
