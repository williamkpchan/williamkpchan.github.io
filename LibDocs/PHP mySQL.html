<html>
<head>
<title>PHP MySQL</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://williamkpchan.github.io/maincss.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script type='text/javascript' src='../mainscript.js'></script>

<script>
$(document).ready(function(){
    $('h1, h2, h3, h4, h5, .goldword, strong,  div.title').click(function(){
    parent.history.back();
    return false;
    });
});
</script>
<style>
body{width:80%;margin-left: 10%; font-size:22px;}
strong, h1, h2 {color: gold;}
img {max-width:90%; display: inline-block; margin-top: 2%;margin-bottom: 1%; border-radius:3px;}
</style>
</head>
<body onkeypress="chkKey()">
<center><h3>PHP MySQL</h3>
<div id="toc"></div></center>
<br>
<br>
<br>

<pre>
<h1></h1>
<h1>PHP MySQL Database</h1>
<h2>- Database Queries</h2>
A query is a question or a request.
We can query a database for specific information and have a recordset returned.
<h2>- Facts About MySQL Database</h2>
MySQL is the de-facto standard database system for web sites with HUGE volumes of both data and end-users (like Facebook, Twitter, and Wikipedia).
Another great thing about MySQL is that it can be scaled down to support embedded database applications.
<h1></h1>
<h1>PHP Connect to MySQL</h1>
PHP 5 and later can work with a MySQL database using:
<strong>MySQLi extension</strong> (the "i" stands for improved)
<strong>PDO (PHP Data Objects)</strong>
Earlier versions of PHP used the MySQL extension. 
However, this extension was deprecated in 2012.
<h2>- Should I Use MySQLi or PDO?</h2>
If you need a short answer, it would be "Whatever you like".
Both MySQLi and PDO have their advantages:
PDO will work on 12 different database systems, whereas MySQLi will only work with MySQL databases.
So, if you have to switch your project to use another database, PDO makes the process easy. 
You only have to change the connection string and a few queries. 
With MySQLi, you will need to rewrite the entire code - queries included.
Both are object-oriented, but MySQLi also offers a procedural API.
Both support Prepared Statements. 
Prepared Statements protect from SQL injection, and are very important for web application security.
<h2>- MySQL Examples in Both MySQLi and PDO Syntax</h2>
In this, and in the following chapters we demonstrate three ways of working with PHP and MySQL:
MySQLi (object-oriented)
MySQLi (procedural)
PDO
<h2>- Open a Connection to MySQL</h2>
Before we can access data in the MySQL database, we need to be able to connect to the server:
<h3>Example (MySQLi Object-Oriented)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
// Create connection
$conn = new mysqli($servername, $username, $password);
// Check connection
if ($conn-&gt;connect_error) {
    die("Connection failed: " . $conn-&gt;connect_error);
}
echo "Connected successfully";
?&gt;
<strong>Note on the object-oriented example above:</strong> $connect_error was broken until PHP 5.2.9 and 5.3.0. 
If you need to ensure compatibility with PHP versions prior to 5.2.9 and 5.3.0, use the following code instead:
// Check connection
if (mysqli_connect_error()) {
    die("Database connection failed: " . mysqli_connect_error());
}
<h3>Example (MySQLi Procedural)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
// Create connection
$conn = mysqli_connect($servername, $username, $password);
// Check connection
if (!$conn) {
    die("Connection failed: " . mysqli_connect_error());
}
echo "Connected successfully";
?&gt;

<h3>Example (PDO)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
try {
    $conn = new PDO("mysql:host=$servername;dbname=myDB", $username, $password);
    // set the PDO error mode to exception
    $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    echo "Connected successfully";
    }
catch(PDOException $e)
    {
    echo "Connection failed: " . $e-&gt;getMessage();
    }
?&gt;

<strong>Note:</strong> In the PDO example above we have also <strong>specified a database (myDB)</strong>. 
PDO require a valid database to connect to. 
If no database is specified, an exception is thrown.
<strong>Tip:</strong> A great benefit of PDO is that it has an exception class to handle any problems that may occur in our database queries. 
If an exception is thrown within the try{ } block, the script stops executing and flows directly to the first catch(){ } block.
<h2>- Close the Connection</h2>
The connection will be closed automatically when the script ends. 
To close the connection before, use the following:
<h3>MySQLi Object-Oriented:</h3>
$conn-&gt;close();
<h3>MySQLi Procedural:</h3>
mysqli_close($conn);

<h3>PDO:</h3>
$conn = null;
<h1></h1>
<h1>PHP Create a MySQL Database</h1>
A database consists of one or more tables. 
You will need special CREATE privileges to create or to delete a MySQL database.
<h2>- Create a MySQL Database Using MySQLi and PDO</h2>
The CREATE DATABASE statement is used to create a database in MySQL.
The following examples create a database named "myDB":
<h3>Example (MySQLi Object-oriented)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
// Create connection
$conn = new mysqli($servername, $username, $password);
// Check connection
if ($conn-&gt;connect_error) {
    die("Connection failed: " . $conn-&gt;connect_error);
}
// Create database
$sql = "CREATE DATABASE myDB";
if ($conn-&gt;query($sql) === TRUE) {
    echo "Database created successfully";
} else {
    echo "Error creating database: " . $conn-&gt;error;
}
$conn-&gt;close();
?&gt;

<strong>Note:</strong> When you create a new database, you must only specify the first three arguments to the mysqli object (servername, username and password).
<strong>Tip:</strong> If you have to use a specific port,
add an empty string for the database-name argument, like this: new mysqli("localhost", "root", "asdf1234", ", port)
<h3>Example (MySQLi Procedural)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
// Create connection
$conn = mysqli_connect($servername, $username, $password);
// Check connection
if (!$conn) {
    die("Connection failed: " . mysqli_connect_error());
}
// Create database
$sql = "CREATE DATABASE myDB";
if (mysqli_query($conn, $sql)) {
    echo "Database created successfully";
} else {
    echo "Error creating database: " . mysqli_error($conn);
}
mysqli_close($conn);
?&gt;
<strong>Note:</strong> The following PDO example create a database named "myDBPDO":
<h3>Example (PDO)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
try {
    $conn = new PDO("mysql:host=$servername", $username, $password);
    // set the PDO error mode to exception
    $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    $sql = "CREATE DATABASE myDBPDO";
    // use exec() because no results are returned
    $conn-&gt;exec($sql);
    echo "Database created successfully&lt;br&gt;";
    }
catch(PDOException $e)
    {
    echo $sql . "&lt;br&gt;" . $e-&gt;getMessage();
    }
$conn = null;
?&gt;
<strong>Tip:</strong> A great benefit of PDO is that it has exception class to handle any problems that may occur in our database queries. 
If an exception is thrown within the try{ } block, the script stops executing and flows directly to the first catch(){ } block. 
In the catch block above we echo the SQL statement and the generated error message. 

<h1></h1>
<h1>PHP MySQL Create Table</h1>
A database table has its own unique name and consists of columns and rows.
<h2>- Create a MySQL Table Using MySQLi and PDO</h2>
The CREATE TABLE statement is used to create a table in MySQL.
We will create a table named "MyGuests", with five columns: "id", "firstname", "lastname", "email" and "reg_date":
CREATE TABLE MyGuests (
id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
firstname VARCHAR(30) NOT NULL,
lastname VARCHAR(30) NOT NULL,
email VARCHAR(50),
reg_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
)
<b>Notes on the table above:</b>
The data type specifies what type of data the column can hold. 
For a complete reference of all the available data types, go to our
<a href="/sql/sql_datatypes.asp">Data Types reference</a>.
After the data type, you can specify other optional attributes for each column:
NOT NULL - Each row must contain a value for that column, null values are not allowed
DEFAULT value - Set a default value that is added when no other value is passed
UNSIGNED - Used for number types, limits the stored data to positive numbers and zero
AUTO INCREMENT - MySQL automatically increases the value of the field by 1 each time a new record is added
PRIMARY KEY - Used to uniquely identify the rows in a table. 
The column with PRIMARY KEY setting is often an ID number, and is often used with AUTO_INCREMENT
Each table should have a primary key column (in this case: the "id" column). 
Its value must be unique for each record in the table.
The following examples shows how to create the table in PHP:
<h3>Example (MySQLi Object-oriented)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);
// Check connection
if ($conn-&gt;connect_error) {
    die("Connection failed: " . $conn-&gt;connect_error);
}
// sql to create table
$sql = "CREATE TABLE MyGuests (
id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY, firstname VARCHAR(30) NOT NULL,
lastname VARCHAR(30) NOT NULL,
email VARCHAR(50),
reg_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
)";
if ($conn-&gt;query($sql) === TRUE) {
    echo "Table MyGuests created successfully";
} else {
    echo "Error creating table: " . $conn-&gt;error;
}
$conn-&gt;close();
?&gt;

<h3>Example (MySQLi Procedural)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = mysqli_connect($servername, $username, $password, $dbname);
// Check connection
if (!$conn) {
    die("Connection failed: " . mysqli_connect_error());
}
// sql to create table
$sql = "CREATE TABLE MyGuests (
id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY, firstname VARCHAR(30) NOT NULL,
lastname VARCHAR(30) NOT NULL,
email VARCHAR(50),
reg_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
)";
if (mysqli_query($conn, $sql)) {
    echo "Table MyGuests created successfully";
} else {
    echo "Error creating table: " . mysqli_error($conn);
}
mysqli_close($conn);
?&gt;

<h3>Example (PDO)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDBPDO";
try {
    $conn = new PDO("mysql:host=$servername;dbname=$dbname", $username, $password);
    // set the PDO error mode to exception
    $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    // sql to create table
   
$sql = "CREATE TABLE MyGuests (
    id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,     firstname VARCHAR(30) NOT NULL,
    lastname VARCHAR(30) NOT NULL,
    email VARCHAR(50),
    reg_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
    )";
    // use exec() because no results are returned
    $conn-&gt;exec($sql);
    echo "Table MyGuests created successfully";
    }
catch(PDOException $e)
    {
    echo $sql . "&lt;br&gt;" . $e-&gt;getMessage();
    }
$conn = null;
?&gt;
<h1></h1>
<h1>PHP MySQL Insert Data</h1>
<h2>- Insert Data Into MySQL Using MySQLi and PDO</h2>
After a database and a table have been created, we can start adding data in them.
Here are some syntax rules to follow:
The SQL query must be quoted in PHP
String values inside the SQL query must be quoted
Numeric values must not be quoted
The word NULL must not be quoted
The INSERT INTO statement is used to add new records to a MySQL table:
INSERT INTO table_name (column1, column2, column3,...)
VALUES (value1, value2, value3,...)

In the previous chapter we created an empty table named "MyGuests" with five columns: "id", "firstname", "lastname", "email" and "reg_date". 
Now, let us fill the table with data.
<strong>Note:</strong> If a column is AUTO_INCREMENT (like the "id" column) or TIMESTAMP with default update of current_timesamp (like the "reg_date" column), it is no need to be specified in the SQL query; MySQL will automatically add the value.
The following examples add a new record to the "MyGuests" table:
<h3>Example (MySQLi Object-oriented)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);
// Check connection
if ($conn-&gt;connect_error) {
    die("Connection failed: " . $conn-&gt;connect_error);
}
$sql = "INSERT INTO MyGuests (firstname, lastname, email)
VALUES ('John', 'Doe', 'john@example.com')";
if ($conn-&gt;query($sql) === TRUE) {
    echo "New record created successfully";
} else {
    echo "Error: " . $sql . "&lt;br&gt;" . $conn-&gt;error;
}
$conn-&gt;close();
?&gt;

<h3>Example (MySQLi Procedural)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = mysqli_connect($servername, $username, $password, $dbname);
// Check connection
if (!$conn) {
    die("Connection failed: " . mysqli_connect_error());
}
$sql = "INSERT INTO MyGuests (firstname, lastname, email)
VALUES ('John', 'Doe', 'john@example.com')";
if (mysqli_query($conn, $sql)) {
    echo "New record created successfully";
} else {
    echo "Error: " . $sql . "&lt;br&gt;" . mysqli_error($conn);
}
mysqli_close($conn);
?&gt;

<h3>Example (PDO)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDBPDO";
try {
    $conn = new PDO("mysql:host=$servername;dbname=$dbname", $username, $password);
    // set the PDO error mode to exception
    $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    $sql = "INSERT INTO MyGuests (firstname, lastname, email)
   
VALUES ('John', 'Doe', 'john@example.com')";
    // use exec() because no results are returned
    $conn-&gt;exec($sql);
    echo "New record created successfully";
    }
catch(PDOException $e)
    {
    echo $sql . "&lt;br&gt;" . $e-&gt;getMessage();
    }
$conn = null;
?&gt;
<h1></h1>
<h1>PHP MySQL Get Last Inserted ID</h1>
<h2>- Get ID of The Last Inserted Record</h2>
If we perform an INSERT or UPDATE on a table with an AUTO_INCREMENT field, we can get the ID of the last inserted/updated record immediately.
In the table "MyGuests", the "id" column is an AUTO_INCREMENT field:
CREATE TABLE MyGuests (
id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
firstname VARCHAR(30) NOT NULL,
lastname VARCHAR(30) NOT NULL,
email VARCHAR(50),
reg_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
)
The following examples are equal to the examples from the previous page (<a href="php_mysql_insert.asp">PHP Insert Data Into MySQL</a>), except that we have added one single line of code to retrieve the ID of the last inserted record. 
We also echo the last inserted ID:
<h3>Example (MySQLi Object-oriented)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);
// Check connection
if ($conn-&gt;connect_error) {
    die("Connection failed: " . $conn-&gt;connect_error);
}
$sql = "INSERT INTO MyGuests (firstname, lastname, email)
VALUES ('John', 'Doe', 'john@example.com')";
if ($conn-&gt;query($sql) === TRUE) {
    $last_id = $conn-&gt;insert_id;
    echo "New record created successfully. 
Last inserted ID is: " . $last_id;
} else {
    echo "Error: " . $sql . "&lt;br&gt;" . $conn-&gt;error;
}
$conn-&gt;close();
?&gt;

<h3>Example (MySQLi Procedural)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = mysqli_connect($servername, $username, $password, $dbname);
// Check connection
if (!$conn) {
    die("Connection failed: " . mysqli_connect_error());
}
$sql = "INSERT INTO MyGuests (firstname, lastname, email)
VALUES ('John', 'Doe', 'john@example.com')";
if (mysqli_query($conn, $sql)) {
    $last_id = mysqli_insert_id($conn);
    echo "New record created successfully. 
Last inserted ID is: " . $last_id;
} else {
    echo "Error: " . $sql . "&lt;br&gt;" . mysqli_error($conn);
}
mysqli_close($conn);
?&gt;

<h3>Example (PDO)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDBPDO";
try {
    $conn = new PDO("mysql:host=$servername;dbname=$dbname", $username, $password);
    // set the PDO error mode to exception
    $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    $sql = "INSERT INTO MyGuests (firstname, lastname, email)
   
VALUES ('John', 'Doe', 'john@example.com')";
    // use exec() because no results are returned
    $conn-&gt;exec($sql);
    $last_id = $conn-&gt;lastInsertId();
    echo "New record created successfully. 
Last inserted ID is: " . $last_id;
    }
catch(PDOException $e)
    {
    echo $sql . "&lt;br&gt;" . $e-&gt;getMessage();
    }
$conn = null;
?&gt;
<h1></h1>
<h1>PHP MySQL Insert Multiple Records</h1>
<h2>- Insert Multiple Records Into MySQL Using MySQLi and PDO</h2>
Multiple SQL statements must be executed with the <code class="w3-codespan">mysqli_multi_query()</code> function.
The following examples add three new records to the "MyGuests" table:
<h3>Example (MySQLi Object-oriented)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);
// Check connection
if ($conn-&gt;connect_error) {
    die("Connection failed: " . $conn-&gt;connect_error);
}
$sql = "INSERT INTO MyGuests (firstname, lastname, email)
VALUES ('John', 'Doe', 'john@example.com');";
$sql .= "INSERT INTO MyGuests (firstname, lastname, email)
VALUES ('Mary', 'Moe', 'mary@example.com');";
$sql .= "INSERT INTO MyGuests (firstname, lastname, email)
VALUES ('Julie', 'Dooley', 'julie@example.com')";
if ($conn-&gt;multi_query($sql) === TRUE) {
    echo "New records created successfully";
} else {
    echo "Error: " . $sql . "&lt;br&gt;" . $conn-&gt;error;
}
$conn-&gt;close();
?&gt;

Note that each SQL statement must be separated by a semicolon.
<h3>Example (MySQLi Procedural)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = mysqli_connect($servername, $username, $password, $dbname);
// Check connection
if (!$conn) {
    die("Connection failed: " . mysqli_connect_error());
}
$sql = "INSERT INTO MyGuests (firstname, lastname, email)
VALUES ('John', 'Doe', 'john@example.com');";
$sql .= "INSERT INTO MyGuests (firstname, lastname, email)
VALUES ('Mary', 'Moe', 'mary@example.com');";
$sql .= "INSERT INTO MyGuests (firstname, lastname, email)
VALUES ('Julie', 'Dooley', 'julie@example.com')";
if (mysqli_multi_query($conn, $sql)) {
    echo "New records created successfully";
} else {
    echo "Error: " . $sql . "&lt;br&gt;" . mysqli_error($conn);
}
mysqli_close($conn);
?&gt;
The PDO way is a little bit different:
<h3>Example (PDO)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDBPDO";
try {
    $conn = new PDO("mysql:host=$servername;dbname=$dbname", $username, $password);
    // set the PDO error mode to exception
    $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    // begin the transaction
    $conn-&gt;beginTransaction();
    // our SQL statements
    $conn-&gt;exec("INSERT INTO MyGuests (firstname, lastname, email)     VALUES ('John', 'Doe', 'john@example.com')");
    $conn-&gt;exec("INSERT INTO MyGuests (firstname, lastname, email)     VALUES ('Mary', 'Moe', 'mary@example.com')");
    $conn-&gt;exec("INSERT INTO MyGuests (firstname, lastname, email)     VALUES ('Julie', 'Dooley', 'julie@example.com')");
    // commit the transaction
    $conn-&gt;commit();
    echo "New records created successfully";
    }
catch(PDOException $e)
    {
    // roll back the transaction if something failed
    $conn-&gt;rollback();
    echo "Error: " . $e-&gt;getMessage();
    }
$conn = null;
?&gt;
<h1></h1>
<h1>PHP MySQL Prepared Statements</h1>
Prepared statements are very useful against SQL injections.
<h2>- Prepared Statements and Bound Parameters</h2>
A prepared statement is a feature used to execute the same (or similar) SQL statements repeatedly with high efficiency.
Prepared statements basically work like this:
<ol>
Prepare: An SQL statement template is created and sent to the database. 
Certain values are left unspecified, called parameters (labeled "?"). 
Example: INSERT INTO MyGuests VALUES(?, ?, ?)
The database parses, compiles, and performs query optimization on the SQL statement template, and stores the result without executing it
Execute: At a later time, the application binds the values to the parameters, and the database executes the statement. 
The application may execute the statement as many times as it wants with different values
</ol>
Compared to executing SQL statements directly, prepared statements have three main advantages:
Prepared statements reduce parsing time as the preparation on the query is done only once (although the statement is executed multiple times)
Bound parameters minimize bandwidth to the server as you need send only the parameters each time, and not the whole query
Prepared statements are very useful against SQL injections, because parameter values, which are transmitted later using a different protocol, need not be correctly escaped. 
If the original statement template is not derived from external input, SQL injection cannot occur.
<h2>- Prepared Statements in MySQLi</h2>
The following example uses prepared statements and bound parameters in MySQLi:
<h3>Example (MySQLi with Prepared Statements)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);
// Check connection
if ($conn-&gt;connect_error) {
    die("Connection failed: " . $conn-&gt;connect_error);
}
// prepare and bind
$stmt = $conn-&gt;prepare("INSERT INTO MyGuests (firstname, lastname, email) VALUES (?, ?, ?)");
$stmt-&gt;bind_param("sss", $firstname, $lastname, $email);
// set parameters and execute
$firstname = "John";
$lastname = "Doe";
$email = "john@example.com";
$stmt-&gt;execute();
$firstname = "Mary";
$lastname = "Moe";
$email = "mary@example.com";
$stmt-&gt;execute();
$firstname = "Julie";
$lastname = "Dooley";
$email = "julie@example.com";
$stmt-&gt;execute();
echo "New records created successfully";
$stmt-&gt;close();
$conn-&gt;close();
?&gt;
Code lines to explain from the example above:
"INSERT INTO MyGuests (firstname, lastname, email) VALUES (?, ?, ?)"
In our SQL, we insert a question mark (?) where we want to substitute in an integer, string, double or blob value.
Then, have a look at the bind_param() function:
$stmt-&gt;bind_param("sss", $firstname, $lastname, $email);
<span class="green">This function binds the parameters to the SQL query and tells the database what the parameters are. 
The "sss" argument lists the types of data that the parameters are. 
The s character tells mysql that the parameter is a string.
The argument may be one of four types:
i - integer
d - double
s - string
b - BLOB
We must have one of these for each parameter.
By telling mysql what type of data to expect, we minimize the risk of SQL injections.</span>
<strong>Note:</strong> If we want to insert any data from external sources (like user input), it is very important that the data is sanitized and validated.
<h2>- Prepared Statements in PDO</h2>
The following example uses prepared statements and bound parameters in PDO:
<h3>Example (PDO with Prepared Statements)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDBPDO";
try {
    $conn = new PDO("mysql:host=$servername;dbname=$dbname", $username, $password);
    // set the PDO error mode to exception
    $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    // prepare sql and bind parameters
    $stmt = $conn-&gt;prepare("INSERT INTO MyGuests (firstname, lastname, email)
    VALUES (:firstname, :lastname, :email)");
    $stmt-&gt;bindParam(':firstname', $firstname);
    $stmt-&gt;bindParam(':lastname', $lastname);
    $stmt-&gt;bindParam(':email', $email);
    // insert a row
    $firstname = "John";
    $lastname = "Doe";
    $email = "john@example.com";
    $stmt-&gt;execute();
    // insert another row
    $firstname = "Mary";
    $lastname = "Moe";
    $email = "mary@example.com";
    $stmt-&gt;execute();
    // insert another row
    $firstname = "Julie";
    $lastname = "Dooley";
    $email = "julie@example.com";
    $stmt-&gt;execute();
    echo "New records created successfully";
    }
catch(PDOException $e)
    {
    echo "Error: " . $e-&gt;getMessage();
    }
$conn = null;
?&gt;
<h1></h1>
<h1>PHP MySQL Select Data</h1>
<h2>- Select Data From a MySQL Database</h2>
The SELECT statement is used to select data from one or more tables:
SELECT column_name(s)
FROM table_name
or we can use the * character to select ALL columns from a table:
SELECT *
FROM table_name
To learn more about SQL, please visit our <a href="/sql/default.asp">SQL tutorial</a>.
<h2>- Select Data With MySQLi</h2>
The following example selects the id, firstname and lastname columns from the MyGuests table and displays it on the page:
<h3>Example (MySQLi Object-oriented)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);
// Check connection
if ($conn-&gt;connect_error) {
    die("Connection failed: " . $conn-&gt;connect_error);
} 
$sql = "SELECT id, firstname, lastname FROM MyGuests";
$result = $conn-&gt;query($sql);
if ($result-&gt;num_rows &gt; 0) {
    // output data of each row
    while($row = $result-&gt;fetch_assoc()) {
        echo "id: " . $row["id"]. " - Name: " . $row["firstname"]. " " . $row["lastname"]. "&lt;br&gt;";
    }
} else {
    echo "0 results";
}
$conn-&gt;close();
?&gt;
<a target="_blank" class="w3-btn w3-margin-bottom" href="https://tryphp.w3schools.com/showphpfile.php?filename=demo_db_select_oo">Run example &raquo;</a>
Code lines to explain from the example above:
First, we set up an SQL query that selects the id, firstname and lastname columns from the MyGuests table. 
The next line of code runs the query and puts the resulting data into a variable called $result.
Then, the <code class="w3-codespan">function num_rows()</code> checks if there are more than zero rows returned.
If there are more than zero rows returned, the function <code class="w3-codespan">fetch_assoc()</code> puts all the results into an associative array that we can loop through. 
The <code class="w3-codespan">while()</code> loop loops through the result set and outputs the data from the id, firstname and lastname columns.
The following example shows the same as the example above, in the MySQLi procedural way:
<h3>Example (MySQLi Procedural)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = mysqli_connect($servername, $username, $password, $dbname);
// Check connection
if (!$conn) {
    die("Connection failed: " . mysqli_connect_error());
}
$sql = "SELECT id, firstname, lastname FROM MyGuests";
$result = mysqli_query($conn, $sql);
if (mysqli_num_rows($result) &gt; 0) {
    // output data of each row
    while($row = mysqli_fetch_assoc($result)) {
        echo "id: " . $row["id"]. " - Name: " . $row["firstname"]. " " . $row["lastname"]. "&lt;br&gt;";
    }
} else {
    echo "0 results";
}
mysqli_close($conn);
?&gt;
<a target="_blank" class="w3-btn w3-margin-bottom" href="https://tryphp.w3schools.com/showphpfile.php?filename=demo_db_select_proc">Run example &raquo;</a>
You can also put the result in an HTML table:
<h3>Example (MySQLi Object-oriented)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);
// Check connection
if ($conn-&gt;connect_error) {
    die("Connection failed: " . $conn-&gt;connect_error);
} 
$sql = "SELECT id, firstname, lastname FROM MyGuests";
$result = $conn-&gt;query($sql);
if ($result-&gt;num_rows &gt; 0) {
    echo "&lt;table&gt;&lt;tr&gt;&lt;th&gt;ID&lt;/th&gt;&lt;th&gt;Name&lt;/th&gt;&lt;/tr&gt;";
    // output data of each row
    while($row = $result-&gt;fetch_assoc()) {
        echo "&lt;tr&gt;&lt;td&gt;".$row["id"]."&lt;/td&gt;&lt;td&gt;".$row["firstname"]." ".$row["lastname"]."&lt;/td&gt;&lt;/tr&gt;";
    }
    echo "&lt;/table&gt;";
} else {
    echo "0 results";
}
$conn-&gt;close();
?&gt;
<a target="_blank" class="w3-btn w3-margin-bottom" href="https://tryphp.w3schools.com/showphpfile.php?filename=demo_db_select_oo_table">Run example &raquo;</a>
<h2>- Select Data With PDO (+ Prepared Statements)</h2>
The following example uses prepared statements.
It selects the id, firstname and lastname columns from the MyGuests table and displays it in an HTML table:
<h3>Example (PDO)</h3>
&lt;?php
echo "&lt;table style='border: solid 1px black;'&gt;";
echo "&lt;tr&gt;&lt;th&gt;Id&lt;/th&gt;&lt;th&gt;Firstname&lt;/th&gt;&lt;th&gt;Lastname&lt;/th&gt;&lt;/tr&gt;";
class TableRows extends RecursiveIteratorIterator {
    function __construct($it) {         parent::__construct($it, self::LEAVES_ONLY);     }
    function current() {
        return "&lt;td style='width:150px;border:1px solid black;'&gt;" . parent::current(). "&lt;/td&gt;";
    }
    function beginChildren() {         echo "&lt;tr&gt;";     } 
    function endChildren() {         echo "&lt;/tr&gt;" . "\n";
    } } 
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDBPDO";
try {
    $conn = new PDO("mysql:host=$servername;dbname=$dbname", $username, $password);
    $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    $stmt = $conn-&gt;prepare("SELECT id, firstname, lastname FROM MyGuests");     $stmt-&gt;execute();
    // set the resulting array to associative
    $result = $stmt-&gt;setFetchMode(PDO::FETCH_ASSOC);     foreach(new TableRows(new RecursiveArrayIterator($stmt-&gt;fetchAll())) as $k=&gt;$v) {         echo $v;
    }
}
catch(PDOException $e) {
    echo "Error: " . $e-&gt;getMessage();
}
$conn = null;
echo "&lt;/table&gt;";
?&gt;
<a target="_blank" class="w3-btn w3-margin-bottom" href="https://tryphp.w3schools.com/showphpfile.php?filename=demo_db_select_pdo">Run example &raquo;</a>

<h1></h1>
<h1>PHP MySQL Use The WHERE Clause</h1>
<h2>- Select and Filter Data From a MySQL Database</h2>
The WHERE clause is used to filter records.
The WHERE clause is used to extract only those records that fulfill a specified condition.
SELECT column_name(s)
FROM table_name WHERE column_name operator value 
To learn more about SQL, please visit our <a href="/sql/default.asp">SQL tutorial</a>.
<h2>- Select and Filter Data With MySQLi</h2>
The following example selects the id, firstname and lastname columns from the MyGuests table where the lastname is "Doe", and displays it on the page:
<h3>Example (MySQLi Object-oriented)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);
// Check connection
if ($conn-&gt;connect_error) {
    die("Connection failed: " . $conn-&gt;connect_error);
} 
$sql = "SELECT id, firstname, lastname FROM MyGuests WHERE lastname='Doe'";
$result = $conn-&gt;query($sql);
if ($result-&gt;num_rows &gt; 0) {
    // output data of each row
    while($row = $result-&gt;fetch_assoc()) {
        echo "id: " . $row["id"]. " - Name: " . $row["firstname"]. " " . $row["lastname"]. "&lt;br&gt;";
    }
} else {
    echo "0 results";
}
$conn-&gt;close();
?&gt;
<a target="_blank" class="w3-btn w3-margin-bottom" href="https://tryphp.w3schools.com/showphpfile.php?filename=demo_db_select_where_oo">Run example &raquo;</a>
Code lines to explain from the example above:
First, we set up the SQL query that selects the id, firstname and lastname columns from the MyGuests table where the lastname is "Doe". 
The next line of code runs the query and puts the resulting data into a variable called $result.
Then, the <code class="w3-codespan">function num_rows()</code> checks if there are more than zero rows returned.
If there are more than zero rows returned, the function <code class="w3-codespan">fetch_assoc()</code> puts all the results into an associative array that we can loop through. 
The <code class="w3-codespan">while()</code> loop loops through the result set and outputs the data from the id, firstname and lastname columns.
The following example shows the same as the example above, in the MySQLi procedural way:
<h3>Example (MySQLi Procedural)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = mysqli_connect($servername, $username, $password, $dbname);
// Check connection
if (!$conn) {
    die("Connection failed: " . mysqli_connect_error());
}
$sql = "SELECT id, firstname, lastname FROM MyGuests WHERE lastname='Doe'";
$result = mysqli_query($conn, $sql);
if (mysqli_num_rows($result) &gt; 0) {
    // output data of each row
    while($row = mysqli_fetch_assoc($result)) {
        echo "id: " . $row["id"]. " - Name: " . $row["firstname"]. " " . $row["lastname"]. "&lt;br&gt;";
    }
} else {
    echo "0 results";
}
mysqli_close($conn);
?&gt;
<a target="_blank" class="w3-btn w3-margin-bottom" href="https://tryphp.w3schools.com/showphpfile.php?filename=demo_db_select_where_proc">Run example &raquo;</a>
You can also put the result in an HTML table:
<h3>Example (MySQLi Object-oriented)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);
// Check connection
if ($conn-&gt;connect_error) {
    die("Connection failed: " . $conn-&gt;connect_error);
} 
$sql = "SELECT id, firstname, lastname FROM MyGuests WHERE lastname='Doe'";
$result = $conn-&gt;query($sql);
if ($result-&gt;num_rows &gt; 0) {
    echo "&lt;table&gt;&lt;tr&gt;&lt;th&gt;ID&lt;/th&gt;&lt;th&gt;Name&lt;/th&gt;&lt;/tr&gt;";
    // output data of each row
    while($row = $result-&gt;fetch_assoc()) {
        echo "&lt;tr&gt;&lt;td&gt;".$row["id"]."&lt;/td&gt;&lt;td&gt;".$row["firstname"]." ".$row["lastname"]."&lt;/td&gt;&lt;/tr&gt;";
    }
    echo "&lt;/table&gt;";
} else {
    echo "0 results";
}
$conn-&gt;close();
?&gt;
<a target="_blank" class="w3-btn w3-margin-bottom" href="https://tryphp.w3schools.com/showphpfile.php?filename=demo_db_select_where_oo_table">Run example &raquo;</a>
<h2>- Select Data With PDO (+ Prepared Statements)</h2>
The following example uses prepared statements.
It selects the id, firstname and lastname columns from the MyGuests table where the lastname is "Doe", and displays it in an HTML table:
<h3>Example (PDO)</h3>
&lt;?php
echo "&lt;table style='border: solid 1px black;'&gt;";
echo "&lt;tr&gt;&lt;th&gt;Id&lt;/th&gt;&lt;th&gt;Firstname&lt;/th&gt;&lt;th&gt;Lastname&lt;/th&gt;&lt;/tr&gt;";
class TableRows extends RecursiveIteratorIterator {
    function __construct($it) {         parent::__construct($it, self::LEAVES_ONLY);     }
    function current() {
        return "&lt;td style='width:150px;border:1px solid black;'&gt;" . parent::current(). "&lt;/td&gt;";
    }
    function beginChildren() {         echo "&lt;tr&gt;";     } 
    function endChildren() {         echo "&lt;/tr&gt;" . "\n";
    } } 
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDBPDO";
try {
    $conn = new PDO("mysql:host=$servername;dbname=$dbname", $username, $password);
    $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    $stmt = $conn-&gt;prepare("SELECT id, firstname, lastname FROM MyGuests WHERE lastname='Doe'");     $stmt-&gt;execute();
    // set the resulting array to associative
    $result = $stmt-&gt;setFetchMode(PDO::FETCH_ASSOC);     foreach(new TableRows(new RecursiveArrayIterator($stmt-&gt;fetchAll())) as $k=&gt;$v) {         echo $v;
    }
}
catch(PDOException $e) {
    echo "Error: " . $e-&gt;getMessage();
}
$conn = null;
echo "&lt;/table&gt;";
?&gt;
<a target="_blank" class="w3-btn w3-margin-bottom" href="https://tryphp.w3schools.com/showphpfile.php?filename=demo_db_select_where_pdo">Run example &raquo;</a>

<h1></h1>
<h1>PHP MySQL Use The ORDER BY Clause</h1>
<h2>- Select and Order Data From a MySQL Database</h2>
The ORDER BY clause is used to sort the result-set in ascending or descending order.
The ORDER BY clause sorts the records in ascending order by default. 
To sort the records in descending order, use the DESC keyword.
 SELECT column_name(s)
FROM table_name ORDER BY column_name(s) ASC|DESC 
To learn more about SQL, please visit our <a href="/sql/default.asp">SQL tutorial</a>.
<h2>- Select and Order Data With MySQLi</h2>
The following example selects the id, firstname and lastname columns from the MyGuests table. 
The records will be ordered by the lastname column:
<h3>Example (MySQLi Object-oriented)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);
// Check connection
if ($conn-&gt;connect_error) {
    die("Connection failed: " . $conn-&gt;connect_error);
} 
$sql = "SELECT id, firstname, lastname FROM MyGuests ORDER BY lastname";
$result = $conn-&gt;query($sql);
if ($result-&gt;num_rows &gt; 0) {
    // output data of each row
    while($row = $result-&gt;fetch_assoc()) {
        echo "id: " . $row["id"]. " - Name: " . $row["firstname"]. " " . $row["lastname"]. "&lt;br&gt;";
    }
} else {
    echo "0 results";
}
$conn-&gt;close();
?&gt;
<a target="_blank" class="w3-btn w3-margin-bottom" href="https://tryphp.w3schools.com/showphpfile.php?filename=demo_db_select_orderby_oo">Run example &raquo;</a>
Code lines to explain from the example above:
First, we set up the SQL query that selects the id, firstname and lastname columns from the MyGuests table. 
The records will be ordered by the lastname column. 
The next line of code runs the query and puts the resulting data into a variable called $result.
Then, the <code class="w3-codespan">function num_rows()</code> checks if there are more than zero rows returned.
If there are more than zero rows returned, the function <code class="w3-codespan">fetch_assoc()</code> puts all the results into an associative array that we can loop through. 
The <code class="w3-codespan">while()</code> loop loops through the result set and outputs the data from the id, firstname and lastname columns.
The following example shows the same as the example above, in the MySQLi procedural way:
<h3>Example (MySQLi Procedural)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = mysqli_connect($servername, $username, $password, $dbname);
// Check connection
if (!$conn) {
    die("Connection failed: " . mysqli_connect_error());
}
$sql = "SELECT id, firstname, lastname FROM MyGuests ORDER BY lastname";
$result = mysqli_query($conn, $sql);
if (mysqli_num_rows($result) &gt; 0) {
    // output data of each row
    while($row = mysqli_fetch_assoc($result)) {
        echo "id: " . $row["id"]. " - Name: " . $row["firstname"]. " " . $row["lastname"]. "&lt;br&gt;";
    }
} else {
    echo "0 results";
}
mysqli_close($conn);
?&gt;
<a target="_blank" class="w3-btn w3-margin-bottom" href="https://tryphp.w3schools.com/showphpfile.php?filename=demo_db_select_orderby_proc">Run example &raquo;</a>
You can also put the result in an HTML table:
<h3>Example (MySQLi Object-oriented)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);
// Check connection
if ($conn-&gt;connect_error) {
    die("Connection failed: " . $conn-&gt;connect_error);
} 
$sql = "SELECT id, firstname, lastname FROM MyGuests ORDER BY lastname";
$result = $conn-&gt;query($sql);
if ($result-&gt;num_rows &gt; 0) {
    echo "&lt;table&gt;&lt;tr&gt;&lt;th&gt;ID&lt;/th&gt;&lt;th&gt;Name&lt;/th&gt;&lt;/tr&gt;";
    // output data of each row
    while($row = $result-&gt;fetch_assoc()) {
        echo "&lt;tr&gt;&lt;td&gt;".$row["id"]."&lt;/td&gt;&lt;td&gt;".$row["firstname"]." ".$row["lastname"]."&lt;/td&gt;&lt;/tr&gt;";
    }
    echo "&lt;/table&gt;";
} else {
    echo "0 results";
}
$conn-&gt;close();
?&gt;
<a target="_blank" class="w3-btn w3-margin-bottom" href="https://tryphp.w3schools.com/showphpfile.php?filename=demo_db_select_orderby_oo_table">Run example &raquo;</a>
<h2>- Select Data With PDO (+ Prepared Statements)</h2>
The following example uses prepared statements.
Here we select the id, firstname and lastname columns from the MyGuests table. 
The records will be ordered by the lastname column, and it will be displayed in an HTML table:
<h3>Example (PDO)</h3>
&lt;?php
echo "&lt;table style='border: solid 1px black;'&gt;";
echo "&lt;tr&gt;&lt;th&gt;Id&lt;/th&gt;&lt;th&gt;Firstname&lt;/th&gt;&lt;th&gt;Lastname&lt;/th&gt;&lt;/tr&gt;";
class TableRows extends RecursiveIteratorIterator {
    function __construct($it) {         parent::__construct($it, self::LEAVES_ONLY);     }
    function current() {
        return "&lt;td style='width:150px;border:1px solid black;'&gt;" . parent::current(). "&lt;/td&gt;";
    }
    function beginChildren() {         echo "&lt;tr&gt;";     } 
    function endChildren() {         echo "&lt;/tr&gt;" . "\n";
    } } 
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDBPDO";
try {
    $conn = new PDO("mysql:host=$servername;dbname=$dbname", $username, $password);
    $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    $stmt = $conn-&gt;prepare("SELECT id, firstname, lastname FROM MyGuests ORDER BY lastname");     $stmt-&gt;execute();
    // set the resulting array to associative
    $result = $stmt-&gt;setFetchMode(PDO::FETCH_ASSOC);     foreach(new TableRows(new RecursiveArrayIterator($stmt-&gt;fetchAll())) as $k=&gt;$v) {         echo $v;
    }
}
catch(PDOException $e) {
    echo "Error: " . $e-&gt;getMessage();
}
$conn = null;
echo "&lt;/table&gt;";
?&gt;
<a target="_blank" class="w3-btn w3-margin-bottom" href="https://tryphp.w3schools.com/showphpfile.php?filename=demo_db_select_orderby_pdo">Run example &raquo;</a>

<h1></h1>
<h1>PHP MySQL Delete Data</h1>
<h2>- Delete Data From a MySQL Table Using MySQLi and PDO</h2>
The DELETE statement is used to delete records from a table:
DELETE FROM table_name
WHERE some_column = some_value
<strong>Notice the WHERE clause in the DELETE syntax:</strong> The WHERE clause specifies which record or records that should be deleted. 
If you omit the WHERE clause, all records will be deleted!
To learn more about SQL, please visit our <a href="/sql/default.asp">SQL tutorial</a>.
Let's look at the "MyGuests" table:
<table class="w3-table-all notranslate">
 <tr>
   <th>id</th>
   <th>firstname</th>
   <th>lastname</th>
   <th>email</th>
   <th>reg_date</th>
 </tr>
 <tr>
   <td>1</td>
   <td>John</td>
   <td>Doe</td>
   <td>john@example.com</td>
   <td>2014-10-22 14:26:15</td>
 </tr>
 <tr>
   <td>2</td>
   <td>Mary</td>
   <td>Moe</td>
   <td>mary@example.com</td>
   <td>2014-10-23 10:22:30</td>
 </tr>
 <tr>
   <td>3</td>
   <td>Julie</td>
   <td>Dooley</td>
   <td>julie@example.com</td>
   <td>2014-10-26 10:48:23</td>
 </tr>
</table>
The following examples delete the record with id=3 in the "MyGuests" table:
<h3>Example (MySQLi Object-oriented)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);
// Check connection
if ($conn-&gt;connect_error) {
    die("Connection failed: " . $conn-&gt;connect_error);
}
// sql to delete a record
$sql = "DELETE FROM MyGuests WHERE id=3";
if ($conn-&gt;query($sql) === TRUE) {
    echo "Record deleted successfully";
} else {
    echo "Error deleting record: " . $conn-&gt;error;
}
$conn-&gt;close();
?&gt;

<h3>Example (MySQLi Procedural)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = mysqli_connect($servername, $username, $password, $dbname);
// Check connection
if (!$conn) {
    die("Connection failed: " . mysqli_connect_error());
}
// sql to delete a record
$sql = "DELETE FROM MyGuests WHERE id=3";
if (mysqli_query($conn, $sql)) {
    echo "Record deleted successfully";
} else {
    echo "Error deleting record: " . mysqli_error($conn);
}
mysqli_close($conn);
?&gt;

<h3>Example (PDO)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDBPDO";
try {
    $conn = new PDO("mysql:host=$servername;dbname=$dbname", $username, $password);
    // set the PDO error mode to exception
    $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    // sql to delete a record
   
$sql = "DELETE FROM MyGuests WHERE id=3";
    // use exec() because no results are returned
    $conn-&gt;exec($sql);
    echo "Record deleted successfully";
    }
catch(PDOException $e)
    {
    echo $sql . "&lt;br&gt;" . $e-&gt;getMessage();
    }
$conn = null;
?&gt;
After the record is deleted, the table will look like this:
<table class="w3-table-all notranslate">
 <tr>
   <th>id</th>
   <th>firstname</th>
   <th>lastname</th>
   <th>email</th>
   <th>reg_date</th>
 </tr>
 <tr>
   <td>1</td>
   <td>John</td>
   <td>Doe</td>
   <td>john@example.com</td>
   <td>2014-10-22 14:26:15</td>
 </tr>
 <tr>
   <td>2</td>
   <td>Mary</td>
   <td>Moe</td>
   <td>mary@example.com</td>
   <td>2014-10-23 10:22:30</td>
 </tr>
</table>

<h1></h1>
<h1>PHP MySQL Update Data</h1>
<h2>- Update Data In a MySQL Table Using MySQLi and PDO</h2>
The UPDATE statement is used to update existing records in a table:
UPDATE table_name
SET column1=value, column2=value2,...
WHERE some_column=some_value 
<strong>Notice the WHERE clause in the UPDATE syntax:</strong> The WHERE clause specifies which record or records that should be updated. 
If you omit the WHERE clause, all records will be updated!
To learn more about SQL, please visit our <a href="/sql/default.asp">SQL tutorial</a>.
Let's look at the "MyGuests" table:
<table class="w3-table-all notranslate">
 <tr>
   <th>id</th>
   <th>firstname</th>
   <th>lastname</th>
   <th>email</th>
   <th>reg_date</th>
 </tr>
 <tr>
   <td>1</td>
   <td>John</td>
   <td>Doe</td>
   <td>john@example.com</td>
   <td>2014-10-22 14:26:15</td>
 </tr>
 <tr>
   <td>2</td>
   <td>Mary</td>
   <td>Moe</td>
   <td>mary@example.com</td>
   <td>2014-10-23 10:22:30</td>
 </tr>
</table>
The following examples update the record with id=2 in the "MyGuests" table:
<h3>Example (MySQLi Object-oriented)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);
// Check connection
if ($conn-&gt;connect_error) {
    die("Connection failed: " . $conn-&gt;connect_error);
}
$sql = "UPDATE MyGuests SET lastname='Doe' WHERE id=2";
if ($conn-&gt;query($sql) === TRUE) {
    echo "Record updated successfully";
} else {
    echo "Error updating record: " . $conn-&gt;error;
}
$conn-&gt;close();
?&gt;

<h3>Example (MySQLi Procedural)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDB";
// Create connection
$conn = mysqli_connect($servername, $username, $password, $dbname);
// Check connection
if (!$conn) {
    die("Connection failed: " . mysqli_connect_error());
}
$sql = "UPDATE MyGuests SET lastname='Doe' WHERE id=2";
if (mysqli_query($conn, $sql)) {
    echo "Record updated successfully";
} else {
    echo "Error updating record: " . mysqli_error($conn);
}
mysqli_close($conn);
?&gt;

<h3>Example (PDO)</h3>
&lt;?php
$servername = "localhost";
$username = "root";
$password = "asdf1234";
$dbname = "myDBPDO";
try {
    $conn = new PDO("mysql:host=$servername;dbname=$dbname", $username, $password);
    // set the PDO error mode to exception
    $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
   
$sql = "UPDATE MyGuests SET lastname='Doe' WHERE id=2";
    // Prepare statement
    $stmt = $conn-&gt;prepare($sql);
    // execute the query
    $stmt-&gt;execute();
    // echo a message to say the UPDATE succeeded
    echo $stmt-&gt;rowCount() . " records UPDATED successfully";
    }
catch(PDOException $e)
    {
    echo $sql . "&lt;br&gt;" . $e-&gt;getMessage();
    }
$conn = null;
?&gt;
After the record is updated, the table will look like this:
<table class="w3-table-all notranslate">
 <tr>
   <th>id</th>
   <th>firstname</th>
   <th>lastname</th>
   <th>email</th>
   <th>reg_date</th>
 </tr>
 <tr>
   <td>1</td>
   <td>John</td>
   <td>Doe</td>
   <td>john@example.com</td>
   <td>2014-10-22 14:26:15</td>
 </tr>
 <tr>
   <td>2</td>
   <td>Mary</td>
   <td>Doe</td>
   <td>mary@example.com</td>
   <td>2014-10-23 10:22:30</td>
 </tr>
</table>

<h1></h1>
<h1>PHP MySQL Limit Data Selections</h1>
<h2>- Limit Data Selections From a MySQL Database</h2>
MySQL provides a LIMIT clause that is used to specify the number of records to return.
The LIMIT clause makes it easy to code multi page results or pagination with SQL, and is very useful on large tables. 
Returning a large number of records can impact on performance.
Assume we wish to select all records from 1 - 30 (inclusive) from a table called "Orders". 
The SQL query would then look like this:
$sql = "SELECT * FROM Orders LIMIT 30";
When the SQL query above is run, it will return the first 30 records.
What if we want to select records 16 - 25 (inclusive)?
Mysql also provides a way to handle this: by using OFFSET.
The SQL query below says "return only 10 records, start on record 16 (OFFSET 15)":
 $sql = "SELECT * FROM Orders LIMIT 10 OFFSET 15";
You could also use a shorter syntax to achieve the same result:
 $sql = "SELECT * FROM Orders LIMIT 15, 10";
Notice that the numbers are reversed when you use a comma.

<script>
	var toc = $('#toc');
	$('h1,h2').each(function(i) {
		var topic = $(this), topicNumber = i + 1;
		toc.append('<a href="#topic-'+topicNumber+'" target="_self">'+topic.text()+'</a><br>');
		topic.attr('id', 'topic-' + topicNumber);
	});
</script>

