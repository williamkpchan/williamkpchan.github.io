<base target="_blank"><html><head><title>Rgraph notes</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://williamkpchan.github.io/maincss.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script src="https://williamkpchan.github.io/lazyload.min.js"></script>
<script src='https://williamkpchan.github.io/mainscript.js'></script>
<script src="https://williamkpchan.github.io/commonfunctions.js"></script>
<script>
  var showTopicNumber = true;
  var bookid = "Rgraph notes"
  var markerName = "h2"
</script>
<style>
body{width:80%;margin-left: 10%; font-size:24px;}
h1, h2 {color: gold;}
strong {color: orange;}
img {max-width:90%; display: inline-block; margin-top: 2%;margin-bottom: 1%; border-radius:3px;}
</style></head><body onkeypress="chkKey()"><center>
<h1></h1>
<a href="#mustWatch" class="red goldbs" target="_self">Must Watch!</a>
<br><br>
<div id="toc"></div></center>
<br><br>
<div id="mustWatch"><center><span class="red">MustWatch</span></center><br>
</div>
<pre>
<br>
<br>

<h2>Importing data from CSV</h2>
<a href="https://www.rgraph.net/canvas/docs/csv-reader.html">Importing data from a CSV file using the CSV connector</a>

// sample sentence: $.get("http://qt.gtimg.cn/r=2&q=r_hk" + theCode, function(data, status){process(data);})

&lt;script&gt;
/* This fetches the CSV file and shows the Bar chart   */
  var csv = new RGraph.CSV('/sample.csv', function (csv){
    var labels = csv.getCol(0),  // Get the first column which becomes the labels
    data = csv.getCol(1),    // Get the second column which becomes the data
    numrows = csv.numrows,  // Get the number of rows in the CSV
    numcols = csv.numcols;    // Get the number of columns in the CSV
    var bar = new RGraph.Bar({ // Create the chart
      id:'cvs',
      data: data,
      options: {
        backgroundGridVlines: false,
        backgroundGridBorder: false,
        title: 'A chart using the CSV reader',
        colors: ['#000'],
        axes: false,
        marginTop: 35,
        shadow: false,
        colorsStroke: 'rgba(0,0,0,0)',
        textSize: 14,
        labelsAbove: true,
        labelsAboveSpecific: labels,
        labelsAboveSize: 14,
        labelsAboveOffset: -35,
        labelsAboveColor: 'white'
      }
    }).wave();
  });
&lt;/script&gt;

<h2>Simple Line Chart</h2>
<a href="Simple Line Chart.html">Simple Line Chart</a>
<a href="Line Chart from datafile.html">Line Chart from datafile</a>
<a href="http://127.0.0.1:8080/LibDocs/Line Chart from datafile.html">local server Line Chart from datafile</a>

<h2>y axis</h2>
<h3>y axis default color black</h3>
to change default color:
axisColor: '#864', textColor: '#ccc',

<h3>drawing api yaxis</h3>
<a href="https://www.rgraph.net/canvas/drawing-api-yaxis.html" class="whitebut ">drawing api yaxis</a>

script src="./rchart/RGraph.drawing.yaxis.js"

		yminpct = 100 - (theMax-theMin)*100/theMax,
		ymaxpct = 100,

          yaxis1 = new RGraph.Drawing.YAxis('cvs', 1300)
                .Set('colors', ['gold']).Set('text.color', 'gray')
                .Set('text.size', 8)
                .Set('max', ymaxpct).Set('min', yminpct)
                .Set('linewidth', 2).Set('tickmarkslength', 5)
                .Set('title', '% pct')
                .Draw();
    };

<h3>draw 3 y axis</h3>
    new RGraph.Drawing.YAxis({
        id: 'cvs', x: bar.marginLeft,
        options: {
            marginTop: 35,
            yaxisScaleMax: bar.scale2.max * 2, yaxisScaleDecimals: 1,
            textColor: 'blue', textSize: 16, yaxisColor: ['blue'],
            tooltips: 'Moisture measured by the MET office',
            tooltipsCss: { backgroundColor: 'black', color: 'white' }
        }
    }).draw();

    new RGraph.Drawing.YAxis({
        id: 'cvs', x: bar.marginLeft - 70,
        options: {
            marginTop: 35,
            yaxisScaleMax: bar.scale2.max * 5, yaxisScaleDecimals: 1,
            textColor: 'red', textSize: 16, yaxisColor: ['red'],
            tooltips: 'Sunshine measured by the MET office',
            tooltipsCss: { backgroundColor: 'black', color: 'white' }
        }
    }).draw();
    
    new RGraph.Drawing.YAxis({
        id: 'cvs', x: bar.marginLeft - 140,
        options: {
            marginTop: 35,
            yaxisScaleMax: bar.scale2.max, yaxisScaleDecimals: 1,
            textColor: 'green', textSize: 16, yaxisColor: ['green'], 
            tooltips: ['Rainfall measured by the MET office'],
            tooltipsCss: { backgroundColor: 'black', color: 'white' },
            textAccessiblePointerevents: false,
        }
    }).draw();

<h2>x axis</h2>
    new RGraph.Drawing.XAxis({
      id: 'cvs', y: bar.canvas.height - bar.marginBottom,
      options: {
        tooltips: ['The X axis represents each&lt;br>person'],
        xaxisLabels: ['Rich','Alex','Johnny','Kev','Pete','Luis','John','Barry'],
        xaxisTickmarksCount: 8, colors: ['#666']
      }
    }).draw();

<h2>scrolling line</h2>
<a href="scrolling line.html" class="whitebut ">scrolling line</a>
<a href="https://www.rgraph.net/canvas/docs/howto-make-a-dynamic-scrolling-line-chart.html" class="whitebut ">dynamic scrolling Line chart</a>

<h2>chart using PhantomJS</h2>
<a href="https://www.rgraph.net/canvas/docs/howto-create-your-chart-without-a-browser-using-phantomjs.html" class="whitebut ">create chart using PhantomJS</a>

<h2>Integrating RGraph with your data structures</h2>
For example take the following data:
data = {
    title: 'Snooker scores from Wednesday',
    results: [
        {name: 'Fred',   score: 45},
        {name: 'John',   score: 23},
        {name: 'Samuel', score: 26},
        {name: 'Jane',   score: 35},
        {name: 'Pete',   score: 36},
        {name: 'Joe',    score: 41}
    ]
};

getting the necessary information out just requires a little loop.
For example:
values = [];
names  = [];
title  = data.title;

for (var i=0; i&lt;data.results.length; ++i) {
    names.push(data.results[i].name);
    values.push(data.results[i].score);
}

console.log(title);
console.log(values);
console.log(names);

The labels and names arrays and the title string are now in a usable format so you can pass them straight to RGraph without need of any further modifications:

new RGraph.SVG.Bar({
    id: 'cc',
    data: values,
    option: {
        title:  title,
        xaxisLabels: names
    }
}).draw();

<h2>legend key shapes</h2>
  var data = [10,12,14,15,10];
  var canvas = document.getElementById('canvasid');

  RGraph.Clear(canvas);
  RGraph.ObjectRegistry.Clear(canvas);

  var bar = new RGraph.Bar('canvasid', data)
    .Set('colors.sequential', true)
    .Set('key', ['Total', 'Pending', 'Confirmed', 'To Exit', 'Extended'])
    .Set('key.color.shape', 'circle')  
    .Draw();

<h2>Animate the Bar chart</h2>
  bar = new RGraph.Bar({
      id: 'cvs2',
      data: [ [190,12,42,2], [165,180,80,42], [47,10,93,47],
              [121,80,25,27], [30,25,21,43], [72,75,120,50] ],
      options: {
          grouping: 'grouped', shadow: false,
          tickmarksStyle: null, linewidth: 7,
          backgroundGridVlines: false, backgroundGridColor: 'gray',
          colorsBackground: '#222',
          xaxis: false, yaxis: false,
          textColor: '#d7d5d6', textSize: 12,
          title: '2009 employee sales by department',
          titleColor: 'white',
          xaxisLabels: ['Food','Auto','Misc','Furniture','Bath','Kitchen'],
          marginTop: 75, marginBottom: 60,
          key: ['Mary','Tom','Brad','Kate'],
          keyPosition: 'margin', keyPositionY: 425,
          keyLabelsSize: 14, keyLabelsColor: 'rgb(248,248,248)',
          colors: ['#B8202C','#96D1E3','#FA8710','#62648D']
      }
  // the beforedraw function is used to clear the canvas to
  // a dark color before the chart is drawn.
  }).on('beforedraw', function (obj)
  {
      RGraph.clear(obj.canvas, '#555557');

  // Use the wave effect to show the chart and add some responsive capability to accommodate
  // smaller screens.
  }).wave().responsive([
      {maxWidth:null,width:575,height:450,options:{marginLeft: 50,marginRight: 50,marginTop: 75,titleSize: 24,keyPositionY: 425}},
      {maxWidth:900,width:400,height:300,options:{marginLeft: 40,marginRight: 15,marginTop: 55,titleSize: 17,keyPositionY: 275}}
  ]);

<h2>drawing api background</h2>
<a href="https://www.rgraph.net/canvas/drawing-api-background.html" class="whitebut ">drawing api background</a>

<a href="https://www.rgraph.net/canvas/drawing-api-intro.html" class="whitebut ">drawing api intro</a>

<a href="https://www.rgraph.net/canvas/reference/index.html" class="whitebut ">HTML5 canvas reference</a>

<h2>HTML5 canvas reference</h2>
A reference to the HTML5 canvas tag API functions and settings. 
There examples provided which can help you to master the API. 
The RGraph blog also has more examples of using the canvas tag.</p>

With the new HTML5 specification comes a whole bag of new goodies including a new tag - &lt;canvas&gt;. 
This tag is effectively like a piece of paper on your page onto which you can draw and this is what the majority of the RGraph library is based on. 
The drawing is done by JavaScript and there's a whole bunch of functions available to you to draw shapes and lines with.

Because &lt;canvas&gt; uses a "fire and forget" methodology there is no DOM for you to get references to shapes already drawn on the canvas - so you must remember the coordinates of the shapes yourself. 
It's because of this that the <code>&lt;canvas&gt;</code> tag is so fast.

Despite this though there is a <code>Path2D</code> object that has been added, along with other new features that have been specified by the W3C that will allow you to retain path information and test at a later time for hits etc. 
<a href="https://www.rgraph.net/canvas/reference/path2d.html">The <code>Path2D</code> object is described here</a>. 
So on to the information!

<h3>The canvas element</h3>
<a href="https://www.rgraph.net/canvas/reference/canvas.html">The canvas element</a>
<a href="https://www.rgraph.net/canvas/reference/getcontext.html">The <code>getContext()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/todataurl.html">The <code>toDataURL()</code> function</a>

<h3>The canvas state</h3>
<a href="https://www.rgraph.net/canvas/reference/save.html">The <code>save()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/restore.html">The <code>restore()</code> function</a>

<h3>Drawing rectangles</h3>
<a href="https://www.rgraph.net/canvas/reference/clearrect.html">The <code>clearRect()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/strokerect.html">The <code>strokeRect</code>() function</a>
<a href="https://www.rgraph.net/canvas/reference/fillrect.html">The <code>fillRect()</code> function</a>

<h3>Path functions</h3>
<a href="https://www.rgraph.net/canvas/reference/beginpath.html">The <code>beginPath()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/closepath.html">The <code>closePath()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/moveto.html">The <code>moveTo()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/lineto.html">The <code>lineTo()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/rect.html">The <code>rect()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/arc.html">The <code>arc()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/arcto.html">The <code>arcTo()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/ellipse.html">The <code>ellipse()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/quadraticcurveto.html">The <code>quadraticCurveTo()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/beziercurveto.html">The <code>bezierCurveTo()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/stroke.html">The <code>stroke()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/fill.html">The <code>fill()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/clip.html">The <code>clip()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/ispointinpath.html">The <code>isPointInPath()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/ispointinstroke.html">The <code>isPointInStroke()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/path2d.html">The <code>Path2D</code> object</a>

<h3>Linedash options</h3>
<a href="https://www.rgraph.net/canvas/reference/getlinedash.html">The <code>getLineDash()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/setlinedash.html">The <code>setLineDash()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/linedashoffset.html">The <code>lineDashOffset</code> property</a>

<h3>Color options</h3>
<a href="https://www.rgraph.net/canvas/reference/fillstyle.html">The <code>fillStyle</code> property</a>
<a href="https://www.rgraph.net/canvas/reference/strokestyle.html">The <code>strokeStyle</code> property</a>
<a href="https://www.rgraph.net/canvas/reference/linear-gradients.html">Linear gradients</a>
<a href="https://www.rgraph.net/canvas/reference/radial-gradients.html">Radial gradients</a>
<a href="https://www.rgraph.net/canvas/reference/patterns.html">The <code>createPattern()</code> function</a>

<h3>Images</h3>
<a href="https://www.rgraph.net/canvas/reference/drawimage.html">The <code>drawImage()</code> function</a>

<h3>Transformations</h3>
<a href="https://www.rgraph.net/canvas/reference/translate.html">The <code>translate()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/rotate.html">The <code>rotate()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/scale.html">The <code>scale()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/transform.html">The <code>transform()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/settransform.html">The <code>setTransform()</code> function</a>
<h3>Text</h3>
<a href="https://www.rgraph.net/canvas/reference/font.html">The <code>font</code> property</a>
<a href="https://www.rgraph.net/canvas/reference/textalign.html">The <code>textAlign</code> property</a>
<a href="https://www.rgraph.net/canvas/reference/textbaseline.html">The <code>textBaseLine</code> property</a>
<a href="https://www.rgraph.net/canvas/reference/filltext.html">The <code>fillText()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/stroketext.html">The <code>strokeText()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/measuretext.html">The <code>measureText()</code> function</a>

<h3>Shadow properties</h3>
<a href="https://www.rgraph.net/canvas/reference/shadowcolor.html">The <code>shadowColor</code> property</a>
<a href="https://www.rgraph.net/canvas/reference/shadowblur.html">The <code>shadowBlur</code> property</a>
<a href="https://www.rgraph.net/canvas/reference/shadowoffsetx.html">The <code>shadowOffsetX</code> property</a>
<a href="https://www.rgraph.net/canvas/reference/shadowoffsety.html">The <code>shadowOffsety</code> property</a>

<h3>Pixel manipulation</h3>
<a href="https://www.rgraph.net/canvas/reference/imagedata-object.html">The <code>ImageData</code> object</a>
<a href="https://www.rgraph.net/canvas/reference/getimagedata.html">The <code>get Image Data()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/putimagedata.html">The <code>put Image Data()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/createimagedata.html">The <code>create Image Data()</code> function</a>

<h3>Other</h3>
<a href="https://www.rgraph.net/canvas/reference/linewidth.html">The <code>lineWidth</code> property</a>
<a href="https://www.rgraph.net/canvas/reference/linejoin.html">The <code>lineJoin</code> property</a>
<a href="https://www.rgraph.net/canvas/reference/linecap.html">The <code>lineCap</code> property</a>
<a href="https://www.rgraph.net/canvas/reference/setlinedash.html">The <code>setLineDash()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/getlinedash.html">The <code>getLineDash()</code> function</a>
<a href="https://www.rgraph.net/canvas/reference/linedashoffset.html">The <code>lineDashOffset</code> property</a>
<a href="https://www.rgraph.net/canvas/reference/globalalpha.html">The <code>globalAlpha</code> property</a>
<a href="https://www.rgraph.net/canvas/reference/globalcompositeoperation.html">The <code>global Composite Operation</code> property</a>











<script src='https://williamkpchan.github.io/LibDocs/readbook.js'></script>
<script>
var lazyLoadInstance = new LazyLoad({
    elements_selector: ".lazy"
    // ... more custom settings?
});
</script>

</pre></body></html>