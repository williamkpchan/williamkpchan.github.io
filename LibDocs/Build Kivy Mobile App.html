<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width"/>
<link rel="stylesheet" href="https://williamkpchan.github.io/maincss.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script type='text/javascript' src='../mainscript.js'></script>

<script>
$(document).ready(function(){
    $('h1, h2, h3, h4, h5, .goldword, strong,  div.title').click(function(){
    parent.history.back();
    return false;
    });
});
</script>

<style>
body{width:60%;margin-left: 20%; font-size:22px;}
strong, h1, h2 {color: gold;}
img {width:90%; display: inline-block; margin-top: 2%;margin-bottom: 1%;}
</style>

</head>
<body>

<h1>Build Kivy Mobile App</h1>
<pre>
https://www.geeksforgeeks.org/introduction-to-kivy/

python -m pip install docutils pygments pypiwin32 kivy.deps.sdl2 kivy.deps.glew
python -m pip install kivy.deps.angle
python -m pip install kivy

Create an application
There are three steps of creating a application with kivy-

Inherit Kivy’s App class which represents the window for our widgets
Create build() method, which will show the content of the widgets.
And at last calling of run() method.

Example application:
This is python3 code to make a simple application which shows desired text in the system’s screen-

import kivy 
kivy.require('1.10.0') 
   python -m pip install kivy.deps.gstreamer

from kivy.app import App 
from kivy.uix.button import Label 
   
# Inherit Kivy's App class which represents the window 
# for our widgets 
# HelloKivy inherits all the fields and methods 
# from Kivy 
class HelloKivy(App): 
   
    # This returns the content we want in the window 
    def build(self): 
   
        # Return a label widget with Hello Kivy 
        return Label(text ="Hello Geeks") 
   
helloKivy = HelloKivy() 
helloKivy.run() 


python testpythonkivy.py

https://opensourceforu.com/2016/03/an-introduction-to-kivy/
An Introduction to Kivy

https://kivy.org/doc/stable/examples/index.html
</pre>
<p class="h3 mb-2 text-muted">Table of Contents</p>
<ul>
<li><a href="#understanding-the-kivy-framework">Understanding the Kivy Framework</a></li>
<li><a href="#installing-kivy">Installing Kivy</a></li>
<li><a href="#working-with-kivy-widgets">Working With Kivy Widgets</a><ul>
<li><a href="#running-a-hello-kivy-program">Running a &ldquo;Hello, Kivy!&rdquo; Program</a></li>
<li><a href="#displaying-an-image">Displaying an Image</a></li>
</ul>
</li>
<li><a href="#laying-out-the-ui">Laying Out the UI</a></li>
<li><a href="#adding-events">Adding Events</a></li>
<li><a href="#using-the-kv-language">Using the KV Language</a></li>
<li><a href="#creating-a-kivy-application">Creating a Kivy Application</a></li>
<li><a href="#packaging-your-app-for-android">Packaging Your App for Android</a></li>
<li><a href="#packaging-your-app-for-ios">Packaging Your App for iOS</a></li>
<li><a href="#packaging-your-app-for-windows">Packaging Your App for Windows</a></li>
<li><a href="#packaging-your-app-for-macos">Packaging Your App for macOS</a></li>
<li><a href="#conclusion">Conclusion</a></li>
<li><a href="#further-reading">Further Reading</a></li>
</div>
</div>
<div class="sidebar-module sidebar-module-inset p-0" style="overflow:hidden;">
<div style="display:block;position:relative;">
<div style="display:block;width:100%;padding-top:12.5%;"></div>
<div class="rpad" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
</div>
</div>
Packages you can use to create mobile applications, like Kivy, <a href="https://riverbankcomputing.com/software/pyqt/intro">PyQt</a>, or even Beeware's <a href="https://toga.readthedocs.io/en/latest/">Toga</a> library.</p>

<p>Let's get started!</p>

<h2>Understanding the Kivy Framework</h2>

<p>When you create an application with Kivy, you're creating a <a href="https://en.wikipedia.org/wiki/Natural_user_interface">Natural User Interface</a> or <strong>NUI</strong>. <br>
The idea behind a Natural User Interface is that the user can easily learn how to use your software with little to no instruction.</p>
<p>Kivy does not attempt to use native controls or widgets. <br>
All of its widgets are custom-drawn. <br>
This means that Kivy applications will look the same across all platforms. <br>
However, it also means that your app's look and feel will differ from your user's native applications. <br>
This could be a benefit or a drawback, depending on your audience.</p>
<h2 id="installing-kivy">Installing Kivy</h2>
<p><a href="https://realpython.com/python-virtual-environments-a-primer/">Python Virtual Environments: A Primer</a>.</p>
<p>Here's how you can create a Python virtual environment:</p>
<div class="highlight sh"><pre><span></span><span class="gp">$</span> python3 -m venv my_kivy_project
</pre></div>
<p>This will copy your Python 3 executable into a folder called <code>my_kivy_project</code> and add a few other subfolders to that directory.</p>
<p>To use your virtual environment, you need to activate it. <br>
On Mac and Linux, you can do that by executing the following while inside the <code>my_kivy_project</code> folder:</p>
<div class="highlight sh"><pre><span></span><span class="gp">$</span> <span class="nb">source</span> bin/activate
</pre></div>
<p>The command for Windows is similar, but the location of the activate script is inside of the <code>Scripts</code> folder instead of <code>bin</code>.</p>
<p>Now that you have an activated Python virtual environment, you can run <a href="https://realpython.com/what-is-pip/"><code>pip</code></a> to install Kivy. <br>
On Linux and Mac, you'll run the following command:</p>
<div class="highlight sh"><pre><span></span><span class="gp">$</span> python -m pip install kivy
</pre></div>
<p>On Windows, installation is a bit more complex. <br>
Check out the official documentation for how to install <a href="https://kivy.org/doc/stable/installation/installation-windows.html#install-win-dist">Kivy on Windows</a>. <br>
(Mac users can also download a <code>dmg</code> file and install Kivy that way.)</p>
<p>If you run into any issues installing Kivy on your platform, then see the Kivy download page for additional <a href="https://kivy.org/#download">instructions</a>.</p>
<h2 id="working-with-kivy-widgets">Working With Kivy Widgets</h2>
<p>A <strong>widget</strong> is an onscreen control that the user will interact with. <br>
All graphical user interface toolkits come with a set of widgets. <br>
Some common widgets that you may have used include buttons, combo boxes, and tabs. <br>
Kivy has many widgets built into its framework.</p>
<h3 id="running-a-hello-kivy-program">Running a &ldquo;Hello, Kivy!&rdquo; Program</h3>
<p>To see how Kivy works, take a look at the following &ldquo;Hello, World!&rdquo; application:</p>
<div class="highlight python"><pre><span></span><span class="kn">from</span> <span class="nn">kivy.app</span> <span class="k">import</span> <span class="n">App</span>
<span class="kn">from</span> <span class="nn">kivy.uix.label</span> <span class="k">import</span> <span class="n">Label</span>

<span class="k">class</span> <span class="nc">MainApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">label</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;Hello from Kivy&#39;</span><span class="p">,</span>
                      <span class="n">size_hint</span><span class="o">=</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">),</span>
                      <span class="n">pos_hint</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;center_x&#39;</span><span class="p">:</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;center_y&#39;</span><span class="p">:</span> <span class="o">.</span><span class="mi">5</span><span class="p">})</span>

        <span class="k">return</span> <span class="n">label</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">MainApp</span><span class="p">()</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
<p>Every Kivy application needs to subclass <code>App</code> and override <code>build()</code>. <br>
This is where you'll put your UI code or make calls to other functions that define your UI code. <br>
In this case, you create a <code>Label</code> widget and pass in its <code>text</code>, <code>size_hint</code>, and <code>pos_hint</code>. <br>
These last two arguments are not required.</p>
<p><code>size_hint</code> tells Kivy the proportions to use when creating the widget. <br>
It takes two numbers:</p>
<ol>
<li>The first number is the <code>x</code> size hint and refers to the <strong>width</strong> of the control.</li>
<li>The second number is the <code>y</code> size hint and refers to the <strong>height</strong> of the control.</li>
</ol>
<p>Both of these numbers can be anywhere between 0 and 1. <br>
The default value for both hints is 1. <br>
You can also use <code>pos_hint</code> to position the widget. <br>
In the code block above, you tell Kivy to center the widget on the x and y axes.</p>
<p>To make the application run, you instantiate your <code>MainApp</code> class and then call <code>run()</code>. <br>
When you do so, you should see the following on your screen:</p>
<p><a href="https://files.realpython.com/media/01_mdriscoll_hello_kivy.879d11e41080.png" target="_blank"><img class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/01_mdriscoll_hello_kivy.879d11e41080.png" width="802" height="625" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/01_mdriscoll_hello_kivy.879d11e41080.png&amp;w=200&amp;sig=d5031afebc246d3b428e37946b4451638982493b 200w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/01_mdriscoll_hello_kivy.879d11e41080.png&amp;w=401&amp;sig=c69d4068b30c3e2cd42dfaf25a03d7880c7c65d9 401w, https://files.realpython.com/media/01_mdriscoll_hello_kivy.879d11e41080.png 802w" sizes="75vw" alt="Hello World in Kivy" /></a></p>
<p>Kivy also outputs a lot of text to <code>stdout</code>:</p>
<div class="highlight sh"><pre><span></span><span class="go">[INFO   ] [Logger      ] Record log in /home/mdriscoll/.kivy/logs/kivy_19-06-07_2.txt</span>
<span class="go">[INFO   ] [Kivy        ] v1.11.0</span>
<span class="go">[INFO   ] [Kivy        ] Installed at &quot;/home/mdriscoll/code/test/lib/python3.6/site-packages/kivy/__init__.py&quot;</span>
<span class="go">[INFO   ] [Python      ] v3.6.7 (default, Oct 22 2018, 11:32:17)</span>
<span class="go">[GCC 8.2.0]</span>
<span class="go">[INFO   ] [Python      ] Interpreter at &quot;/home/mdriscoll/code/test/bin/python&quot;</span>
<span class="go">[INFO   ] [Factory     ] 184 symbols loaded</span>
<span class="go">[INFO   ] [Image       ] Providers: img_tex, img_dds, img_sdl2, img_gif (img_pil, img_ffpyplayer ignored)</span>
<span class="go">[INFO   ] [Text        ] Provider: sdl2([&#39;text_pango&#39;] ignored)</span>
<span class="go">[INFO   ] [Window      ] Provider: sdl2([&#39;window_egl_rpi&#39;] ignored)</span>
<span class="go">[INFO   ] [GL          ] Using the &quot;OpenGL&quot; graphics system</span>
<span class="go">[INFO   ] [GL          ] Backend used &lt;sdl2&gt;</span>
<span class="go">[INFO   ] [GL          ] OpenGL version &lt;b&#39;4.6.0 NVIDIA 390.116&#39;&gt;</span>
<span class="go">[INFO   ] [GL          ] OpenGL vendor &lt;b&#39;NVIDIA Corporation&#39;&gt;</span>
<span class="go">[INFO   ] [GL          ] OpenGL renderer &lt;b&#39;NVS 310/PCIe/SSE2&#39;&gt;</span>
<span class="go">[INFO   ] [GL          ] OpenGL parsed version: 4, 6</span>
<span class="go">[INFO   ] [GL          ] Shading version &lt;b&#39;4.60 NVIDIA&#39;&gt;</span>
<span class="go">[INFO   ] [GL          ] Texture max size &lt;16384&gt;</span>
<span class="go">[INFO   ] [GL          ] Texture max units &lt;32&gt;</span>
<span class="go">[INFO   ] [Window      ] auto add sdl2 input provider</span>
<span class="go">[INFO   ] [Window      ] virtual keyboard not allowed, single mode, not docked</span>
<span class="go">[INFO   ] [Base        ] Start application main loop</span>
<span class="go">[INFO   ] [GL          ] NPOT texture support is available</span>
</pre></div>
<p>This is useful for debugging your application.</p>
<p>Next, you'll try adding an <code>Image</code> widget and see how that differs from a <code>Label</code>.</p>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-4998"></div> <a class="small text-muted js-disclosure" href="/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div><h3 id="displaying-an-image">Displaying an Image</h3>
<p>Kivy has a couple of different image-related widgets to choose from. <br>
You can use <code>Image</code> to load local images from your hard drive or <code>AsyncImage</code> to load an image from a URL. <br>
For this example, you'll stick with the standard <code>Image</code> class:</p>
<div class="highlight python"><pre><span></span><span class="kn">from</span> <span class="nn">kivy.app</span> <span class="k">import</span> <span class="n">App</span>
<span class="kn">from</span> <span class="nn">kivy.uix.image</span> <span class="k">import</span> <span class="n">Image</span>

<span class="k">class</span> <span class="nc">MainApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s1">&#39;/path/to/real_python.png&#39;</span><span class="p">,</span>
                    <span class="n">size_hint</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">),</span>
                    <span class="n">pos_hint</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;center_x&#39;</span><span class="p">:</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;center_y&#39;</span><span class="p">:</span><span class="o">.</span><span class="mi">5</span><span class="p">})</span>

        <span class="k">return</span> <span class="n">img</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">MainApp</span><span class="p">()</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
<p>In this code, you import <code>Image</code> from the <code>kivy.uix.image</code> sub-package. <br>
The <code>Image</code> class takes a lot of different parameters, but the one that you want to use is <code>source</code>. <br>
This tells Kivy which image to load. <br>
Here, you pass a fully-qualified path to the image. <br>
The rest of the code is the same as what you saw in the previous example.</p>
<p>When you run this code, you'll see something like the following:</p>
<p><a href="https://files.realpython.com/media/02_mdriscoll_hello_image.607fbd03a04d.png" target="_blank"><img class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/02_mdriscoll_hello_image.607fbd03a04d.png" width="802" height="625" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/02_mdriscoll_hello_image.607fbd03a04d.png&amp;w=200&amp;sig=a51c04666978ded099696482f5960b7506619a1d 200w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/02_mdriscoll_hello_image.607fbd03a04d.png&amp;w=401&amp;sig=4d5d8ce1f721bb6f1978b54dc4a405b1a20afec9 401w, https://files.realpython.com/media/02_mdriscoll_hello_image.607fbd03a04d.png 802w" sizes="75vw" alt="Showing an image with Kivy" /></a></p>
<p>The text from the previous example has been replaced with an image.</p>
<p>Now you'll learn how to add and arrange multiple widgets in your application.</p>
<h2 id="laying-out-the-ui">Laying Out the UI</h2>
<p>Each GUI framework that you use has its own method of arranging widgets. <br>
For example, in <a href="https://realpython.com/python-gui-with-wxpython/">wxPython</a> you'll use sizers, while in Tkinter you use a layout or geometry manager. <br>
With Kivy, you'll use <strong>Layouts</strong>. <br>
There are several different types of Layouts that you can use. <br>
Here are some of the most common ones:</p>
<ul>
<li><code>BoxLayout</code></li>
<li><code>FloatLayout</code></li>
<li><code>GridLayout</code></li>
</ul>
<p>You can search Kivy's <a href="https://kivy.org/doc/stable/api-kivy.uix.layout.html">documentation</a> for a full list of available Layouts. <br>
You can also look in <code>kivy.uix</code> for the actual source code.</p>
<p>Try out the <code>BoxLayout</code> with this code:</p>
<div class="highlight python"><pre><span></span><span class="kn">import</span> <span class="nn">kivy</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="kn">from</span> <span class="nn">kivy.app</span> <span class="k">import</span> <span class="n">App</span>
<span class="kn">from</span> <span class="nn">kivy.uix.button</span> <span class="k">import</span> <span class="n">Button</span>
<span class="kn">from</span> <span class="nn">kivy.uix.boxlayout</span> <span class="k">import</span> <span class="n">BoxLayout</span>

<span class="n">red</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">green</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">blue</span> <span class="o">=</span>  <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">purple</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>

<span class="k">class</span> <span class="nc">HBoxLayoutExample</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">BoxLayout</span><span class="p">(</span><span class="n">padding</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">red</span><span class="p">,</span> <span class="n">green</span><span class="p">,</span> <span class="n">blue</span><span class="p">,</span> <span class="n">purple</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">btn</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Button #</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span>
                         <span class="n">background_color</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span>
                         <span class="p">)</span>

            <span class="n">layout</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">btn</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">layout</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">HBoxLayoutExample</span><span class="p">()</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
<p>Here, you import <code>BoxLayout</code> from <code>kivy.uix.boxlayout</code> and instantiate it. <br>
Then you create a list of colors, which are themselves lists of <a href="https://en.wikipedia.org/wiki/RGB_color_model">Red-Blue-Green (RGB)</a> colors. <br>
Finally, you loop over a <a href="https://realpython.com/python-range/"><code>range</code></a> of 5, creating a button <code>btn</code> for each iteration. <br>
To make things a bit more fun, you set the <code>background_color</code> of the button to a random color. <br>
You then add the button to your layout with <code>layout.add_widget(btn)</code>.</p>
<p>When you run this code, you'll see something like this:</p>
<p><a href="https://files.realpython.com/media/kivy_hboxlayout.a8ac0394109e.png" target="_blank"><img class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/kivy_hboxlayout.a8ac0394109e.png" width="802" height="625" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/kivy_hboxlayout.a8ac0394109e.png&amp;w=200&amp;sig=f2281e2abc44db9763df3071e84287295ad7d70a 200w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/kivy_hboxlayout.a8ac0394109e.png&amp;w=401&amp;sig=b494c0c4f3fae3c74a58781870defdabe27a2e7b 401w, https://files.realpython.com/media/kivy_hboxlayout.a8ac0394109e.png 802w" sizes="75vw" alt="Using a Horizontal BoxLayout in Kivy" /></a></p>
<p>There are 5 randomly-colored buttons, one for each iteration of your <a href="https://realpython.com/courses/python-for-loop/"><code>for</code></a> loop.</p>
<p>When you create a layout, there are a few arguments you should know:</p>
<ul>
<li><strong><code>padding</code>:</strong> You can specify the <code>padding</code> in pixels between the layout and its children in one of three ways:<ol>
<li><strong>A four-argument list:</strong> [<code>padding_left</code>, <code>padding_top</code>, <code>padding_right</code>, <code>padding_bottom</code>]</li>
<li><strong>A two-argument list:</strong> [<code>padding_horizontal</code>, <code>padding_vertical</code>]</li>
<li><strong>A singular argument:</strong> <code>padding=10</code></li>
</ol>
</li>
<li><strong><code>spacing</code>:</strong> You can add space between the children widgets with this argument.</li>
<li><strong><code>orientation</code>:</strong> You can change the default <code>orientation</code> of the <code>BoxLayout</code> from horizontal to vertical.</li>
</ul>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-5000"></div> <a class="small text-muted js-disclosure" href="/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div><h2 id="adding-events">Adding Events</h2>
<p>Like most GUI toolkits, Kivy is mostly <strong>event-based</strong>. <br>
The framework responds to user keypresses, mouse events, and touch events. <br>
Kivy has the concept of a <strong>Clock</strong> that you can use to schedule function calls for some time in the future.</p>
<p>Kivy also has the concept of <a href="https://kivy.org/doc/stable/api-kivy.properties.html"><code>Properties</code></a>, which works with the <a href="https://kivy.org/doc/stable/api-kivy.event.html#kivy.event.EventDispatcher"><code>EventDispatcher</code></a>. <br>
Properties help you do validation checking. <br>
They also let you fire events whenever a widget changes its size or position.</p>
<p>Let's add a <strong>button event</strong> to your button code from earlier:</p>
<div class="highlight python"><pre><span></span><span class="kn">from</span> <span class="nn">kivy.app</span> <span class="k">import</span> <span class="n">App</span>
<span class="kn">from</span> <span class="nn">kivy.uix.button</span> <span class="k">import</span> <span class="n">Button</span>

<span class="k">class</span> <span class="nc">MainApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;Hello from Kivy&#39;</span><span class="p">,</span>
                        <span class="n">size_hint</span><span class="o">=</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">),</span>
                        <span class="n">pos_hint</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;center_x&#39;</span><span class="p">:</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;center_y&#39;</span><span class="p">:</span> <span class="o">.</span><span class="mi">5</span><span class="p">})</span>
        <span class="n">button</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_press</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_press_button</span><span class="p">)</span>
<span class="hll">
</span>        <span class="k">return</span> <span class="n">button</span>

    <span class="k">def</span> <span class="nf">on_press_button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
<span class="hll">        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You pressed the button!&#39;</span><span class="p">)</span>
</span><span class="hll">
</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">MainApp</span><span class="p">()</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
<p>In this code, you call <code>button.bind()</code> and link the <code>on_press</code> event to <code>MainApp.on_press_button()</code>. <br>
This method implicitly takes in the widget <code>instance</code>, which is the <code>button</code> object itself. <br>
Finally, a message will print to <code>stdout</code> whenever the user presses your button.</p>
<h2 id="using-the-kv-language">Using the KV Language</h2>
<p>Kivy also provides a design language called <strong>KV</strong> that you can use with your Kivy applications. <br>
The KV language lets you separate your interface design from the application's logic. <br>
This follows the <a href="http://en.wikipedia.org/wiki/Separation_of_concerns">separation of concerns</a> principle and is part of the <a href="https://realpython.com/the-model-view-controller-mvc-paradigm-summarized-with-legos/">Model-View-Controller</a> architectural pattern. <br>
You can update the previous example to use the KV language:</p>
<div class="highlight python"><pre><span></span><span class="kn">from</span> <span class="nn">kivy.app</span> <span class="k">import</span> <span class="n">App</span>
<span class="kn">from</span> <span class="nn">kivy.uix.button</span> <span class="k">import</span> <span class="n">Button</span>

<span class="k">class</span> <span class="nc">ButtonApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Button</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">on_press_button</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;You pressed the button!&#39;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">ButtonApp</span><span class="p">()</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
<p>This code might look a bit odd at first glance, as it creates a <code>Button</code> without setting any of its attributes or binding it to any events. <br>
What's happening here is that Kivy will automatically look for a file that has the same name as the class in lowercase, without the <code>App</code> part of the class name.</p>
<p>In this case, the class name is <code>ButtonApp</code>, so Kivy will look for a file named <code>button.kv</code>. <br>
If that file exists and is properly formatted, then Kivy will use it to load up the UI. <br>
Go ahead and create this file and add the following code:</p>
<div class="highlight text"><pre><span></span><span class="lineno"> 1 </span>&lt;Button&gt;:
<span class="lineno"> 2 </span>    text: &#39;Press me&#39;
<span class="lineno"> 3 </span>    size_hint: (.5, .5)
<span class="lineno"> 4 </span>    pos_hint: {&#39;center_x&#39;: .5, &#39;center_y&#39;: .5}
<span class="lineno"> 5 </span>    on_press: app.on_press_button()
</pre></div>
<p>Here's what each line does:</p>
<ul>
<li><strong>Line 1</strong> matches the <code>Button</code> call in your Python code. <br>
It tells Kivy to look into the instantiated object for a button definition.</li>
<li><strong>Line 2</strong> sets the button's <code>text</code>.</li>
<li><strong>Line 3</strong> sets the width and height with <code>size_hint</code>.</li>
<li><strong>Line 4</strong> sets the button's position with <code>pos_hint</code>.</li>
<li><strong>Line 5</strong> sets the <code>on_press</code> event handler. <br>
To tell Kivy where the event handler is, you use <code>app.on_press_button()</code>. <br>
Here, Kivy knows will look in the <code>Application</code> class for a method called <code>.on_press_button()</code>.</li>
</ul>
<p>You can set up all of your widgets and layouts inside one or more KV language files. <br>
The KV language also supports importing Python modules in KV, creating dynamic classes, and much more. <br>
For full details, check out Kivy's <a href="https://kivy.org/doc/stable/guide/lang.html">guide to the KV Language</a>.</p>
<p>Now you're ready to create a real application!</p>
<h2 id="creating-a-kivy-application">Creating a Kivy Application</h2>
<p>One of the best ways to learn a new skill is by creating something useful. <br>
With that in mind, you'll use Kivy to build a calculator that supports the following operations:</p>
<ul>
<li>Addition</li>
<li>Subtraction</li>
<li>Multiplication</li>
<li>Division</li>
</ul>
<p>For this application, you'll need a series of buttons in some kind of layout. <br>
You'll also need a box along the top of your app to display the equations and their results. <br>
Here's a sketch of your calculator:</p>
<p><a href="https://files.realpython.com/media/kvcalc_mock.637f132ddd19.png" target="_blank"><img class="img-fluid mx-auto d-block w-33" src="https://files.realpython.com/media/kvcalc_mock.637f132ddd19.png" width="332" height="441" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/kvcalc_mock.637f132ddd19.png&amp;w=83&amp;sig=24baffc9b90c5ebfd76fa4ccd64d54c213d862bb 83w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/kvcalc_mock.637f132ddd19.png&amp;w=166&amp;sig=137bbfbc04a536469fdf53a307523f7de67a4d84 166w, https://files.realpython.com/media/kvcalc_mock.637f132ddd19.png 332w" sizes="75vw" alt="Kivy Calculator Mockup" /></a></p>
<p>Now that you have a goal for the UI, you can go ahead and write the code:</p>
<div class="highlight python"><pre><span></span><span class="lineno"> 1 </span><span class="kn">from</span> <span class="nn">kivy.app</span> <span class="k">import</span> <span class="n">App</span>
<span class="lineno"> 2 </span><span class="kn">from</span> <span class="nn">kivy.uix.boxlayout</span> <span class="k">import</span> <span class="n">BoxLayout</span>
<span class="lineno"> 3 </span><span class="kn">from</span> <span class="nn">kivy.uix.button</span> <span class="k">import</span> <span class="n">Button</span>
<span class="lineno"> 4 </span><span class="kn">from</span> <span class="nn">kivy.uix.textinput</span> <span class="k">import</span> <span class="n">TextInput</span>
<span class="lineno"> 5 </span>
<span class="lineno"> 6 </span><span class="k">class</span> <span class="nc">MainApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
<span class="lineno"> 7 </span>    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="lineno"> 8 </span>        <span class="bp">self</span><span class="o">.</span><span class="n">operators</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">]</span>
<span class="lineno"> 9 </span>        <span class="bp">self</span><span class="o">.</span><span class="n">last_was_operator</span> <span class="o">=</span> <span class="kc">None</span>
<span class="lineno">10 </span>        <span class="bp">self</span><span class="o">.</span><span class="n">last_button</span> <span class="o">=</span> <span class="kc">None</span>
<span class="lineno">11 </span>        <span class="n">main_layout</span> <span class="o">=</span> <span class="n">BoxLayout</span><span class="p">(</span><span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">)</span>
<span class="lineno">12 </span>        <span class="bp">self</span><span class="o">.</span><span class="n">solution</span> <span class="o">=</span> <span class="n">TextInput</span><span class="p">(</span>
<span class="lineno">13 </span>            <span class="n">multiline</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">halign</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">55</span>
<span class="lineno">14 </span>        <span class="p">)</span>
<span class="lineno">15 </span>        <span class="n">main_layout</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="p">)</span>
<span class="lineno">16 </span>        <span class="n">buttons</span> <span class="o">=</span> <span class="p">[</span>
<span class="lineno">17 </span>            <span class="p">[</span><span class="s2">&quot;7&quot;</span><span class="p">,</span> <span class="s2">&quot;8&quot;</span><span class="p">,</span> <span class="s2">&quot;9&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">],</span>
<span class="lineno">18 </span>            <span class="p">[</span><span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span> <span class="s2">&quot;*&quot;</span><span class="p">],</span>
<span class="lineno">19 </span>            <span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">],</span>
<span class="lineno">20 </span>            <span class="p">[</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="s2">&quot;+&quot;</span><span class="p">],</span>
<span class="lineno">21 </span>        <span class="p">]</span>
<span class="lineno">22 </span>        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">buttons</span><span class="p">:</span>
<span class="lineno">23 </span>            <span class="n">h_layout</span> <span class="o">=</span> <span class="n">BoxLayout</span><span class="p">()</span>
<span class="lineno">24 </span>            <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">row</span><span class="p">:</span>
<span class="lineno">25 </span>                <span class="n">button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span>
<span class="lineno">26 </span>                    <span class="n">text</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
<span class="lineno">27 </span>                    <span class="n">pos_hint</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;center_x&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s2">&quot;center_y&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},</span>
<span class="lineno">28 </span>                <span class="p">)</span>
<span class="lineno">29 </span>                <span class="n">button</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_press</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_button_press</span><span class="p">)</span>
<span class="lineno">30 </span>                <span class="n">h_layout</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">button</span><span class="p">)</span>
<span class="lineno">31 </span>            <span class="n">main_layout</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">h_layout</span><span class="p">)</span>
<span class="lineno">32 </span>
<span class="lineno">33 </span>        <span class="n">equals_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span>
<span class="lineno">34 </span>            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="n">pos_hint</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;center_x&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s2">&quot;center_y&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}</span>
<span class="lineno">35 </span>        <span class="p">)</span>
<span class="lineno">36 </span>        <span class="n">equals_button</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_press</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_solution</span><span class="p">)</span>
<span class="lineno">37 </span>        <span class="n">main_layout</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">equals_button</span><span class="p">)</span>
<span class="lineno">38 </span>
<span class="lineno">39 </span>        <span class="k">return</span> <span class="n">main_layout</span>
</pre></div>
<p>Here's how your calculator code works:</p>
<ul>
<li><strong>In lines 8 to 10</strong>, you create a list of <code>operators</code> and a couple of handy values, <code>last_was_operator</code> and <code>last_button</code>, that you'll use later on.</li>
<li><strong>In lines 11 to 15</strong>, you create a top-level layout <code>main_layout</code> and add a read-only <code>TextInput</code> widget to it.</li>
<li><strong>In lines 16 to 21</strong>, you create a nested list of lists containing most of your <code>buttons</code> for the calculator.</li>
<li><strong>In line 22</strong>, you start a <code>for</code> loop over those <code>buttons</code>. <br>
For each nested list you'll do the following:<ul>
<li><strong>In line 23</strong>, you create a <code>BoxLayout</code> with a horizontal orientation.</li>
<li><strong>In line 24</strong>, you start another <code>for</code> loop over the items in the nested list.</li>
<li><strong>In lines 25 to 39</strong>, you create the buttons for the row, bind them to an event handler, and add the buttons to the horizontal <code>BoxLayout</code> from line 23.</li>
<li><strong>In line 31</strong>, you add this layout to <code>main_layout</code>.</li>
</ul>
</li>
<li><strong>In lines 33 to 37</strong>, you create the equals button (<code>=</code>), bind it to an event handler, and add it to <code>main_layout</code>.</li>
</ul>
<p>The next step is to create the <code>.on_button_press()</code> event handler. <br>
Here's what that code looks like:</p>
<div class="highlight python"><pre><span></span><span class="lineno">41 </span><span class="k">def</span> <span class="nf">on_button_press</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
<span class="lineno">42 </span>    <span class="n">current</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">text</span>
<span class="lineno">43 </span>    <span class="n">button_text</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">text</span>
<span class="lineno">44 </span>
<span class="lineno">45 </span>    <span class="k">if</span> <span class="n">button_text</span> <span class="o">==</span> <span class="s2">&quot;C&quot;</span><span class="p">:</span>
<span class="lineno">46 </span>        <span class="c1"># Clear the solution widget</span>
<span class="lineno">47 </span>        <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="lineno">48 </span>    <span class="k">else</span><span class="p">:</span>
<span class="lineno">49 </span>        <span class="k">if</span> <span class="n">current</span> <span class="ow">and</span> <span class="p">(</span>
<span class="lineno">50 </span>            <span class="bp">self</span><span class="o">.</span><span class="n">last_was_operator</span> <span class="ow">and</span> <span class="n">button_text</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operators</span><span class="p">):</span>
<span class="lineno">51 </span>            <span class="c1"># Don&#39;t add two operators right after each other</span>
<span class="lineno">52 </span>            <span class="k">return</span>
<span class="lineno">53 </span>        <span class="k">elif</span> <span class="n">current</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">button_text</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operators</span><span class="p">:</span>
<span class="lineno">54 </span>            <span class="c1"># First character cannot be an operator</span>
<span class="lineno">55 </span>            <span class="k">return</span>
<span class="lineno">56 </span>        <span class="k">else</span><span class="p">:</span>
<span class="lineno">57 </span>            <span class="n">new_text</span> <span class="o">=</span> <span class="n">current</span> <span class="o">+</span> <span class="n">button_text</span>
<span class="lineno">58 </span>            <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">new_text</span>
<span class="lineno">59 </span>    <span class="bp">self</span><span class="o">.</span><span class="n">last_button</span> <span class="o">=</span> <span class="n">button_text</span>
<span class="lineno">60 </span>    <span class="bp">self</span><span class="o">.</span><span class="n">last_was_operator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_button</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operators</span>
</pre></div>
<p>Most of the widgets in your application will call <code>.on_button_press()</code>. <br>
Here's how it works:</p>
<ul>
<li>
<p><strong>Line 41</strong> takes the <code>instance</code> argument so you can access which widget called the function.</p>
</li>
<li>
<p><strong>Lines 42 and 43</strong> extract and store the value of the <code>solution</code> and the button <code>text</code>.</p>
</li>
<li>
<p><strong>Lines 45 to 47</strong> check to see which button was pressed. <br>
If the user pressed <code>C</code>, then you'll clear the <code>solution</code>. <br>
Otherwise, move on to the <code>else</code> statement.</p>
</li>
<li>
<p><strong>Line 49</strong> checks if the solution has any pre-existing value.</p>
</li>
<li>
<p><strong>Line 50 to 52</strong> check if the last button pressed was an operator button. <br>
If it was, then <code>solution</code> won't be updated. <br>
This is to prevent the user from having two operators in a row. <br>
For example, <code>1 */</code> is not a valid statement.</p>
</li>
<li>
<p><strong>Lines 53 to 55</strong> check to see if the first character is an operator. <br>
If it is, then <code>solution</code> won't be updated, since the first value can't be an operator value.</p>
</li>
<li>
<p><strong>Lines 56 to 58</strong> drop to the <code>else</code> clause. <br>
If none of the previous conditions are met, then update <code>solution</code>.</p>
</li>
<li>
<p><strong>Line 59</strong> sets <code>last_button</code> to the label of the last button pressed.</p>
</li>
<li>
<p><strong>Line 60</strong> sets <code>last_was_operator</code> to <code>True</code> or <code>False</code> depending on whether or not it was an operator character.</p>
</li>
</ul>
<p>The last bit of code to write is <code>.on_solution()</code>:</p>
<div class="highlight python"><pre><span></span><span class="lineno">62 </span><span class="k">def</span> <span class="nf">on_solution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
<span class="lineno">63 </span>    <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">text</span>
<span class="lineno">64 </span>    <span class="k">if</span> <span class="n">text</span><span class="p">:</span>
<span class="lineno">65 </span>        <span class="n">solution</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>
<span class="lineno">66 </span>        <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">solution</span>
</pre></div>
<p>Once again, you grab the current text from <code>solution</code> and use Python's built-in <code>eval()</code> to execute it. <br>
If the user created a formula like <code>1+2</code>, then <code>eval()</code> will run your code and return the result. <br>
Finally, you set the result as the new value for the <code>solution</code> widget.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> <code>eval()</code> is somewhat <a href="https://nedbatchelder.com/blog/201206/eval_really_is_dangerous.html">dangerous</a> because it can run arbitrary code. <br>
Most developers avoid using it because of that fact. <br>
However, since you're only allowing integers, operators, and the period as input to <code>eval()</code>, it's safe to use in this context.</p>
</div>
<p>When you run this code, your application will look like this on a desktop computer:</p>
<p><a href="https://files.realpython.com/media/kvcalc.20e9d0008d8f.png" target="_blank"><img class="img-fluid mx-auto d-block w-66" src="https://files.realpython.com/media/kvcalc.20e9d0008d8f.png" width="802" height="625" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/kvcalc.20e9d0008d8f.png&amp;w=200&amp;sig=14bb299a8782091ae35f060237c79f97208dccd8 200w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/kvcalc.20e9d0008d8f.png&amp;w=401&amp;sig=230ee2d4a7c2b0596e48fd9e94c1a284b26cdfbf 401w, https://files.realpython.com/media/kvcalc.20e9d0008d8f.png 802w" sizes="75vw" alt="Kivy Calculator" /></a></p>
<p>To see the full code for this example, expand the code block below.</p>
<div class="card mb-3" id="collapse_card4a6b31">
<div class="card-header border-0"><p class="m-0"><button class="btn" data-toggle="collapse" data-target="#collapse4a6b31" aria-expanded="false" aria-controls="collapse4a6b31">Complete Code Example</button> <button class="btn btn-link float-right" data-toggle="collapse" data-target="#collapse4a6b31" aria-expanded="false" aria-controls="collapse4a6b31">Show/Hide</button></p></div>
<div id="collapse4a6b31" class="collapse" data-parent="#collapse_card4a6b31"><div class="card-body" markdown="1">
<p>Here's the full code for the calculator:</p>
<div class="highlight python"><pre><span></span><span class="kn">from</span> <span class="nn">kivy.app</span> <span class="k">import</span> <span class="n">App</span>
<span class="kn">from</span> <span class="nn">kivy.uix.boxlayout</span> <span class="k">import</span> <span class="n">BoxLayout</span>
<span class="kn">from</span> <span class="nn">kivy.uix.button</span> <span class="k">import</span> <span class="n">Button</span>
<span class="kn">from</span> <span class="nn">kivy.uix.textinput</span> <span class="k">import</span> <span class="n">TextInput</span>

<span class="k">class</span> <span class="nc">MainApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">operators</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_was_operator</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_button</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">main_layout</span> <span class="o">=</span> <span class="n">BoxLayout</span><span class="p">(</span><span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">solution</span> <span class="o">=</span> <span class="n">TextInput</span><span class="p">(</span>
            <span class="n">multiline</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">halign</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">55</span>
        <span class="p">)</span>
        <span class="n">main_layout</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="p">)</span>
        <span class="n">buttons</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">[</span><span class="s2">&quot;7&quot;</span><span class="p">,</span> <span class="s2">&quot;8&quot;</span><span class="p">,</span> <span class="s2">&quot;9&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span> <span class="s2">&quot;*&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="s2">&quot;+&quot;</span><span class="p">],</span>
        <span class="p">]</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">buttons</span><span class="p">:</span>
            <span class="n">h_layout</span> <span class="o">=</span> <span class="n">BoxLayout</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">row</span><span class="p">:</span>
                <span class="n">button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span>
                    <span class="n">text</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
                    <span class="n">pos_hint</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;center_x&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s2">&quot;center_y&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},</span>
                <span class="p">)</span>
                <span class="n">button</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_press</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_button_press</span><span class="p">)</span>
                <span class="n">h_layout</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">button</span><span class="p">)</span>
            <span class="n">main_layout</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">h_layout</span><span class="p">)</span>

        <span class="n">equals_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span>
            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="n">pos_hint</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;center_x&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s2">&quot;center_y&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}</span>
        <span class="p">)</span>
        <span class="n">equals_button</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">on_press</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_solution</span><span class="p">)</span>
        <span class="n">main_layout</span><span class="o">.</span><span class="n">add_widget</span><span class="p">(</span><span class="n">equals_button</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">main_layout</span>

    <span class="k">def</span> <span class="nf">on_button_press</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
        <span class="n">current</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">text</span>
        <span class="n">button_text</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">text</span>

        <span class="k">if</span> <span class="n">button_text</span> <span class="o">==</span> <span class="s2">&quot;C&quot;</span><span class="p">:</span>
            <span class="c1"># Clear the solution widget</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">current</span> <span class="ow">and</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">last_was_operator</span> <span class="ow">and</span> <span class="n">button_text</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operators</span><span class="p">):</span>
                <span class="c1"># Don&#39;t add two operators right after each other</span>
                <span class="k">return</span>
            <span class="k">elif</span> <span class="n">current</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> <span class="ow">and</span> <span class="n">button_text</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operators</span><span class="p">:</span>
                <span class="c1"># First character cannot be an operator</span>
                <span class="k">return</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_text</span> <span class="o">=</span> <span class="n">current</span> <span class="o">+</span> <span class="n">button_text</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">new_text</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_button</span> <span class="o">=</span> <span class="n">button_text</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_was_operator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_button</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">operators</span>

    <span class="k">def</span> <span class="nf">on_solution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">text</span>
        <span class="k">if</span> <span class="n">text</span><span class="p">:</span>
            <span class="n">solution</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">solution</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">MainApp</span><span class="p">()</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div></div>
</div>
<p>It's time to deploy your application!</p>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-5002"></div> <a class="small text-muted js-disclosure" href="/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div><h2 id="packaging-your-app-for-android">Packaging Your App for Android</h2>
<p>Now that you've finished the code for your application, you can share it with others. <br>
One great way to do that is to turn your code into an application that can run on your Android phone. <br>
To accomplish this, first you'll need to install a package called <code>buildozer</code> with <code>pip</code>:</p>
<div class="highlight sh"><pre><span></span><span class="gp">$</span> pip install buildozer
</pre></div>
<p>Then, create a new folder and navigate to it in your terminal. <br>
Once you're there, you'll need to run the following command:</p>
<div class="highlight sh"><pre><span></span><span class="gp">$</span> buildozer init
</pre></div>
<p>This will create a <code>buildozer.spec</code> file that you'll use to configure your build. <br>
For this example, you can edit the first few lines of the spec file as follows:</p>
<div class="highlight text"><pre><span></span>[app]

# (str) Title of your application
title = KvCalc

# (str) Package name
package.name = kvcalc

# (str) Package domain (needed for android/ios packaging)
package.domain = org.kvcalc
</pre></div>
<p>Feel free to browse the rest of the file to see what else you can change.</p>
<p>At this point, you're almost ready to build your application, but first, you'll want to install the <a href="https://buildozer.readthedocs.io/en/latest/installation.html#targeting-android">dependencies</a> for <code>buildozer</code>. <br>
Once those are installed, copy your calculator application into your new folder and rename it to <code>main.py</code>. <br>
This is required by <code>buildozer</code>. <br>
If you don't have the file named correctly, then the build will fail.</p>
<p>Now you can run the following command:</p>
<div class="highlight sh"><pre><span></span><span class="gp">$</span> buildozer -v android debug
</pre></div>
<p>The build step takes a long time! On my machine, it took 15 to 20 minutes. <br>
Depending on your hardware, it may take even longer, so feel free to grab a cup of coffee or go for a run while you wait. <br>
<code>Buildozer</code> will download whatever Android SDK pieces it needs during the build process. <br>
If everything goes according to plan, then you'll have a file named something like <code>kvcalc-0.1-debug.apk</code> in your <code>bin</code> folder.</p>
<p>The next step is to connect your Android phone to your computer and copy the <code>apk</code> file to it. <br>
Then you can open the file browser on your phone and click on the <code>apk</code> file. <br>
Android should ask you if you'd like to install the application. <br>
You may see a warning since the app was downloaded from outside Google Play, but you should still be able to install it.</p>
<p>Here's the calculator running on my Samsung S9:</p>
<p><a href="https://files.realpython.com/media/KvCalc2.c7cedde01dcf.jpg" target="_blank"><img class="img-fluid mx-auto d-block border w-33" src="https://files.realpython.com/media/KvCalc2.c7cedde01dcf.jpg" width="340" height="700" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/KvCalc2.c7cedde01dcf.jpg&amp;w=85&amp;sig=41eb184190792f53dfb7d25db4a07ef98872acdb 85w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/KvCalc2.c7cedde01dcf.jpg&amp;w=170&amp;sig=85284c9ec0b51148fc7de27e3d335d8bd2edd1d6 170w, https://files.realpython.com/media/KvCalc2.c7cedde01dcf.jpg 340w" sizes="75vw" alt="Kivy Calculator Running on Android Phone" /></a></p>
<p>The <code>buildozer</code> tool has several other commands you can use. <br>
Check out the <a href="https://buildozer.readthedocs.io/en/latest/index.html">documentation</a> to see what else you can do.</p>
<p>You can also package the app using <code>python-for-android</code> if you need more fine-grained control. <br>
You won't cover this here, but if you're interested, check out the project's <a href="https://python-for-android.readthedocs.io/en/latest/quickstart/">quickstart</a>.</p>
<h2 id="packaging-your-app-for-ios">Packaging Your App for iOS</h2>
<p>The instructions for building an application for iOS are a bit more complex than Android. <br>
For the most up-to-date information, you should always use Kivy's official packaging <a href="https://kivy.org/doc/stable/guide/packaging-ios.html">documentation</a>. <br>
You'll need to run the following commands before you can package your application for iOS on your Mac:</p>
<div class="highlight sh"><pre><span></span><span class="gp">$</span> brew install autoconf automake libtool pkg-config
<span class="gp">$</span> brew link libtool
<span class="gp">$</span> sudo easy_install pip
<span class="gp">$</span> sudo pip install <span class="nv">Cython</span><span class="o">==</span><span class="m">0</span>.29.10
</pre></div>
<p>Once those are all installed successfully, you'll need to compile the distribution using the following commands:</p>
<div class="highlight sh"><pre><span></span><span class="gp">$</span> git clone git://github.com/kivy/kivy-ios
<span class="gp">$</span> <span class="nb">cd</span> kivy-ios
<span class="gp">$</span> ./toolchain.py build python3 kivy
</pre></div>
<p>If you get an error that says <code>iphonesimulator</code> can't be found, then see this <a href="https://stackoverflow.com/questions/39564420/i-get-xcrun-error-sdk-iphonesimulator-cannot-be-located-when-running-the-t">StackOverflow answer</a> for ways to solve that issue. <br>
Then try running the above commands again.</p>
<p>If you run into SSL errors, then you probably don't have Python's OpenSSL setup. <br>
This command should fix that:</p>
<div class="highlight sh"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> /Applications/Python<span class="se">\ </span><span class="m">3</span>.7/
<span class="gp">$</span> ./Install<span class="se">\ </span>Certificates.command
</pre></div>
<p>Now go back and try running the <code>toolchain</code> command again.</p>
<p>Once you've run all the previous commands successfully, you can create your Xcode project using the <code>toolchain</code> script. <br>
Your main application's entry point <em>must</em> be named <code>main.py</code> before you create the Xcode project. <br>
Here is the command you'll run:</p>
<div class="highlight sh"><pre><span></span><span class="go">./toolchain.py create &lt;title&gt; &lt;app_directory&gt;</span>
</pre></div>
<p>There should be a directory named <code>title</code> with your Xcode project in it. <br>
Now you can open that project in Xcode and work on it from there. <br>
Note that if you want to submit your application to the App Store, then you'll have to create a developer account at <a href="https://developer.apple.com/">developer.apple.com</a> and pay their yearly fee.</p>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-5004"></div> <a class="small text-muted js-disclosure" href="/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div><h2 id="packaging-your-app-for-windows">Packaging Your App for Windows</h2>
<p>You can package your Kivy application for Windows using PyInstaller. <br>
If you've never used it before, then check out <a href="https://realpython.com/pyinstaller-python/">Using PyInstaller to Easily Distribute Python Applications</a>.</p>
<p>You can install PyInstaller using <code>pip</code>:</p>
<div class="highlight sh"><pre><span></span><span class="gp">$</span> pip install pyinstaller
</pre></div>
<p>The following command will package your application:</p>
<div class="highlight sh"><pre><span></span><span class="gp">$</span> pyinstaller main.py -w
</pre></div>
<p>This command will create a Windows executable and several other files. <br>
The <code>-w</code> argument tells PyInstaller that this is a windowed application, rather than a command-line application. <br>
If you'd rather have PyInstaller create a single executable file, then you can pass in the <code>--onefile</code> argument in addition to <code>-w</code>.</p>
<h2 id="packaging-your-app-for-macos">Packaging Your App for macOS</h2>
<p>You can use <a href="https://www.pyinstaller.org/">PyInstaller</a> to create a Mac executable just like you did for Windows. <br>
The only requirement is that you run this command on a Mac:</p>
<div class="highlight sh"><pre><span></span><span class="gp">$</span> pyinstaller main.py -w --onefile
</pre></div>
<p>This will create a single file executable in the <code>dist</code> folder. <br>
The executable will be the same name as the Python file that you passed to PyInstaller. <br>
If you'd like to reduce the file size of the executable, or you're using GStreamer in your application, then check out Kivy's <a href="https://kivy.org/doc/stable/guide/packaging-osx.html">packaging page for macOS</a> for more information.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Kivy is a really interesting GUI framework that you can use to create desktop user interfaces and mobile applications on both iOS and Android. <br>
Kivy applications will not look like the native apps on any platform. <br>
This can be an advantage if you want your application to look and feel different from the competition!</p>
<p>In this tutorial, you learned the basics of Kivy including how to add widgets, hook up events, lay out multiple widgets, and use the KV language. <br>
Then you created your first Kivy application and learned how to distribute it on other platforms, including mobile!</p>
<p>There are many widgets and concepts about Kivy that you didn't cover here, so be sure to check out Kivy's <a href="https://kivy.org">website</a> for tutorials, sample applications, and much more.</p>
<h2 id="further-reading">Further Reading</h2>
<p>To learn more about Kivy, check out these resources:</p>
<ul>
<li><a href="https://kivy.org/doc/stable/guide/basic.html">Kivy Programming Guide</a></li>
<li><a href="https://kivy.org/doc/stable/guide/packaging.html">Kivy Packaging Documentation</a></li>
<li><a href="https://likegeeks.com/kivy-tutorial/">Build Desktop GUI Apps Using Python</a></li>
</ul>
<p>To see how you might create a desktop application with another Python GUI framework, check out <a href="https://realpython.com/python-gui-with-wxpython/">How to Build a Python GUI Application With wxPython</a>.</p>
