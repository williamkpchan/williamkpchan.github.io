<base target="_blank">
<html>
<head>
<title>Inspect Chart</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://williamkpchan.github.io/maincss.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@13.0.1/dist/lazyload.min.js"></script>
<script type='text/javascript' src='https://williamkpchan.github.io/mainscript.js'></script>
<script src="https://williamkpchan.github.io/commonfunctions.js"></script>
<script src="https://williamkpchan.github.io/LibDocs/showChartSeries.js"></script>
<script src="https://williamkpchan.github.io/LibDocs/stkComments.js"></script>
<script src="https://williamkpchanhp.github.io/LibDocs/longHistList.js"></script>


<script>
$(document).ready(function(){
    $('h1, h2, h3, h4, h5, .goldword, strong,  .pages').click(function(){
    parent.history.back();
    return false;
    });
});
</script>
<style>
a{color:#509050; top: 5px; position: relative;}
a:hover{transition-property: none; background-color:black;border-radius: none;border: none;box-shadow: none; color:#008080;}
a:visited{color:#454;}
body{width:96%;margin-left: 2%; font-size:24px; color:#808060;}
.pages, strong, h1, h2 {color: gold; margin-top: 10px;}
img {margin-top: 2%;margin-bottom: 1%; border-radius:3px;}
#toc a{color:gray; max-width:110%;}
span{color: cyan;}
</style>
</head>
<body onkeypress="chkKey()">
<center id="top">
<span class="redbut" onclick="window.location = '#hz'">底部</span>
<span class="bluebut" onclick="window.location = '#status'">统计</span>
<span class="whitebut" onclick="askaList()">输入清单</span>
<span class="greenbut" onclick="addList()">补充清单</span>
<br>
<span class="greenbut" onclick="setPeriodDay()">day</span>
<span class="greenbut" onclick="setPeriodHour()">hour</span>
<span class="greenbut" onclick="setPeriodMinute()">min</span>
<span class="greenbut" onclick="setPeriodQuad()">15min</span>

<p id="titlebar" class="embossts"></p>


<div id="toc"></div>
<p id="status"></p>
</center>
<br>
<center>
<p id ="codelist"></p>

</center>
<o id="hz" onclick='saveAList("00700 00005 09988 01810 00939 01299 03690 00941 00388 01398 01211 03988 02318 00883 09999 01024 00011 02388 02628 03968 00002 00003 00006 00836 01038 02688 00012 00016 00101 00688 00823 00960 01109 01113 01209 01997 00001 00027 00066 00175 00241 00267 00285 00288 00291 00300 00316 00322 00386 00669 00762 00857 00868 00881 00968 00981 00992 01044 01088 01093 01099 01177 01378 01876 01928 01929 02015 02020 02057 02269 02313 02319 02331 02359 02382 02899 03692 06618 06690 06862 09618 09633 09888 09901 09961 00017","<r>恒指</r>")'><r>恒指</r></o>
<o onclick='saveAList("00020 00241 00268 00285 00700 00772 00981 00992 01024 01347 01810 01833 02015 02018 02382 03690 03888 06060 06618 06690 09618 09626 09698 09866 09868 09888 09898 09961 09988 09999","<y>恒生科技<y>")'><y>恒生科技<y></o>

<o onclick='saveAList("688981 688256 688111 688041 688012 688008 603993 603501 603259 601988 601985 601919 601899 601888 601857 601816 601766 601728 601668 601658 601628 601601 601600 601398 601328 601318 601288 601225 601211 601166 601127 601088 601012 600941 600900 600887 600809 600760 600690 600519 600406 600309 600276 600150 600050 600048 600036 600031 600030 600028","上证50")'>上证50</o>
<o onclick='saveAList("000791 301606 002222 000801 301611 002265 300255 301551 301078 301091 300570 000657 002335 300100 300718 002139 003021 300779 002416 002847 302132 300627 002096 000628 002432 002003 000682 000737 000099 001696 300857 002157 001389 000415 002270 300757 002544 002126 301589 301536","深证")'>深证</o>
<o onclick='saveAList("000519 000547 000561 000576 000638 000697 000733 000738 000768 001270 002023 002025 002111 002151 002179 002189 002214 002231 002297 002338 002383 002389 002413 002414 002446 002465 002519 002625 002651 002829 002933 002935 002977 002985 003009 300008 300034 300045 300065 300101 300123 300177 300252 300395 300397 300424 300447 300474 300527 300581 300589 300600 300629 300696 300699 300719 300722 300726 300762 300775 300777 300810 300875 300900 300922 300965 301050 301213 301302 301306 301357 301517 301571 301586 301592 302132 600038 600118 600150 600184 600316 600372 600391 600435 600562 600590 600685 600760 600764 600765 600855 600862 600879 600893 600967 600990 601606 601698 601890 601989 603261 603267 603678 603712 605123 688002 688011 688053 688070 688081 688084 688122 688132 688175 688237 688239 688272 688281 688282 688287 688297 688311 688375 688439 688510 688511 688522 688523 688543 688552 688563 688586 688629 688636 688682 688685 688708 688776 688788 837006 871642 920008", "<lg>军工</lg>")'><lg>军工</lg></o>
<o onclick='saveAList("300803 300033 002939 002945 600095 002673 601162 300059 601456 600030 601066 601375 601059 600369 000750 600918 601995 601236 600864 600109 600906 601990 002797 601099 600999 000686 600155 601377 000712 601881 601878 600621 601136 002926 601198 601901 600958 601555 600909 000166 600390 601211 002500 601108 601788 000728 600446 600517 000783 600061 002736 601688 000776 002670 601696","<pk>证券</pk>")'><pk>证券</pk></o>
<o onclick='saveAList("600864 600369 002736 000935 600109 600901 601601 000686 000750 002500 600061 002647 601688 000776 601990 601319 601211 601901 601336 000728 601375 600906 000783 002316 600909 601878 000166 601318 601377 601108 601555 601696 601198 601099 600999 600958 002926 600621 601066 600918 600517 002797 601995 601236 000617 600318 601456 000712 000563 601788 600155 000532 601136 601162 601628 300059 002673 601881 600030 000415 600816 000627 601059 600599 000958 600120 600830 603300 000567 600390 002670 600643 002961 002945 600927 000987 002423 300773 600095 001236 600053 603093 002939","<pk>非银金融</pk>")'><pk>非银金融</pk></o>
<o onclick='saveAList("300049 600588 600400 002131 600392 600570 300399 600143 601908 002468 300003 002542 300242 601999 603999 600739 600390 002416 000533 000712 600718 601766 000850 600816 603858 300024 601555 600157 600135 300773 300096 600195 002403 600801 002423 000581 002275 600120 605266 002608 000617 000428 600287 000415 000563 002091 601007 600704 000890 600742 002558 002271 601169 000798 002304 600177 002029 600248 601678 002162 000539 600269 000030 600663 600033 600020 000883 000627 002700 002492 601398 600167 601857 002717 002294 000056 600219 300300 002653","<y>保险</y>")'><y>保险</y></o>
<o onclick='saveAList("02601 01508 01336 06963 01339 02628 00966 02318 82318 02378 00945 01299 02328 81299 06060 00376","<y>香港保险</y>")'><y>香港保险</y></o>
<o onclick='saveAList("600000 600009 600010 600011 600015 600016 600018 600019 600023 600025 600026 600027 600028 600029 600030 600031 600036 600039 600048 600050 600061 600085 600089 600104 600111 600115 600132 600150 600161 600176 600183 600188 600196 600219 600233 600276 600309 600332 600346 600362 600372 600406 600415 600426 600436 600438 600460 600489 600515 600519 600547 600570 600584 600585 600588 600600 600660 600674 600690 600732 600741 600745 600760 600795 600803 600809 600837 600845 600875 600886 600887 600893 600900 600905 600918 600919 600926 600938 600941 600958 600989 600999 601006 601009 601012 601021 601059 601066 601088 601100 601111 601117 601138 601166 601169 601186 601211 601225 601229 601236 601238 601288 601318 601319 601328 601336 601360 601377 601390 601398 601600 601601 601607 601618 601628 601633 601658 601668 601669 601688 601689 601698 601699 601728 601766 601788 601799 601800 601808 601816 601818 601838 601857 601865 601868 601872 601877 601878 601881 601888 601898 601899 601901 601916 601919 601939 601985 601988 601989 601995 601998 603019 603195 603259 603260 603288 603296 603369 603392 603501 603659 603799 603806 603833 603899 603986 603993 605117 605499 688008 688009 688012 688036 688041 688082 688111 688126 688187 688223 688256 688271 688303 688363 688396 688599 688981 000001 000002 000063 000100 000157 000166 000301 000333 000338 000408 000425 000538 000568 000596 000617 000625 000651 000661 000708 000725 000733 000768 000776 000786 000792 000800 000807 000858 000876 000895 000938 000963 000977 000983 000999 001289 001965 001979 002001 002007 002027 002049 002050 002074 002129 002142 002179 002180 002230 002236 002241 002252 002271 002304 002311 002352 002371 002410 002415 002459 002460 002466 002475 002493 002555 002594 002601 002603 002648 002709 002714 002736 002812 002821 002841 002916 002920 002938 003816 300014 300015 300033 300059 300122 300124 300142 300223 300274 300308 300316 300347 300408 300413 300418 300433 300442 300450 300454 300496 300498 300628 300661 300750 300751 300759 300760 300782 300832 300896 300919 300957 300979 300999 301269", "<o>300ETF成分股</o>")'><b>300ETF成分股</b></o>
<o onclick='saveAList("159813 600000 600517 601318 002727 300059 000688 600300 600308 300368 600491 601318 603707 000088 000564 000789 000785 000863 002125 002385 002476 002641 002936", "牛泯")'>牛泯</o>
<br>
<span class="bluebut" onclick="window.location = '#top'">顶部</span>

<br>
<pre>
Chiplet概念 29, AI芯片 33, AI眼镜 100, 辽宁板块 86, 商汤概念 14, 
上海自贸 34, 特高压 79, 地热能 8, 网络游戏 68, 数据中心 100, 
MicroLED 23, 屏下摄像 10, 中芯概念 65, 谷子经济 72, 高带宽内存 21, 
碳基材料 18, WiFi 27, EDR概念 14, 边缘计算 100, 智能电视 12, 
上证50_ 50, 植物照明 18, 星闪概念 39, 上证380 100, 荣耀概念 53, 
社区团购 37, IPv6 12, 无线耳机 83, 阿里概念 100, 在线教育 100, 
电子 488, 汽车芯片 61, 算力概念 100, 智能穿戴 100, 乳业 31, 
钛白粉 12, 湖北自贸 28, 草甘膦 13, 光刻机(胶) 90, 发电机概念 21, 
国产芯片 100, 半导体概念 100, 国资云概念 18, 钒电池 21, 白酒 48, 
啤酒概念 18, AI手机 34, 纳米银 8, 蓝宝石 18, 小金属概念 100, 
商贸零售 99, 基金重仓 82, 传媒 131, 增强现实 45, 智能家居 100, 
无人驾驶 100, 石油石化 48, 3D玻璃 17, 全息技术 11, 人工智能 100, 
复合集流体 29, 地摊经济 32, 毫米波概念 43, 轻工制造 166, 食品饮料 130, 
抖音小店 28, 3D摄像头 10, 富时罗素 100, 柔性屏(折叠屏) 76, AB股 72, 
超清视频 97, 混合现实 30, 深成500 100, 存储芯片 59, EDA概念 12, 
REITs概念 24, 磷化工 45, 小米概念 100, LED 96, 上证180_ 100, 
传感器 100, MiniLED 61, 虚拟现实 100, 长江三角 100, 盲盒经济 12, 
降解塑料 65, 黄金概念 71, 页岩气 32, 电子后视镜 24, 东数西算 62, 
ST股 100, 稀缺资源 79, 百元股 100, 宁组合 24, 央视50_ 50, 
天津板块 71, PVDF概念 15, 华为概念 100, 调味品概念 33, 可燃冰 9, 
IPO受益 56, 美容护理 31, 空间站概念 20, 电子竞技 34, 预制菜概念 58, 
央国企改革 100, 科创板做市商 14, 进口博览 16, 6G概念 29, 吉林板块 49, 
汽车拆解 17, 钢铁 46, 化债(AMC)概念 59, 有色金属 141, HIT电池 39, 
云南板块 39, 百度概念 100, 宁夏板块 16, 噪声防治 8, 沪企改革 40, 
科创板做市股 44, 证金持股 100, 小米汽车 97, 沪股通 100, 江苏板块 712, 
抖音概念(字节概念) 87, 化工原料 72, 青海板块 10, 化妆品概念 58, OLED 100, 
数字货币 80, 农林牧渔 117, MSCI中国 100, 代糖概念 15, 彩票概念 20, 
科创板 589, HS300_ 100, 成渝特区 85, 民爆概念 20, 赛马概念 3, 
福建板块 174, 广西板块 42, 深证100R 100, 苹果概念 100, 上海板块 472, 
拼多多概念 25, 胎压监测 28, 煤化工 72, 培育钻石 15, 专精特新 100, 
汽车一体化压铸 31, 激光雷达 37, UWB概念 19, 氮化镓 48, 碳纤维 38, 
独角兽 100, B股 80, 机器视觉 80, 3D打印 65, 物联网 100, 
低空经济 100, 卫星互联网 45, AH股 100, PEEK材料概念 37, 北京板块 473, 
供销社概念 14, 甘肃板块 34, 超级品牌 32, 北斗导航 80, 小红书概念 71, 
中证500 100, TOPCon电池 43, 户外露营 26, 汽车 310, 东北振兴 57, 
新能源车 100, 新材料 100, IGBT概念 39, 环氧丙烷 20, 共享经济 18, 
超超临界发电 45, 第三代半导体 100, 特斯拉 100, 商业航天 100, 生物识别 51, 
机构重仓 100, AIPC 43, 2025中报预增 100, 首发经济 39, 旅游概念 36, 
稀土永磁 60, 车联网(车路云) 100, 安徽板块 189, 深股通 100, 智慧城市 100, 
2025中报扭亏 100, 综合 18, 电子烟 51, 标准普尔 100, 融资融券 100, 
飞行汽车(eVTOL) 75, 空气能热泵 34, 电商概念 100, 生态农业 39, VPN 19, 
太阳能 100, 新零售 100, 创投 100, 一带一路 100, 腾讯云 24, 
石墨烯 67, 冷链物流 100, MLCC 14, 天然气 100, 量子科技 47, 
交通运输 135, 绿色电力 100, 动力电池回收 41, 基础化工 435, 社会服务 83, 
低碳冶金 8, F5G概念 23, C2M概念 37, 无人机 100, 人造肉 18, 
网络安全 100, 纺织服饰 111, 贵州板块 36, 免税概念 27, 雄安新区 100, 
新能源 100, AIGC概念 100, 工业互联 100, 江西板块 91, 有机硅 32, 
生物质能发电 27, 房地产 109, 退税商店 11, QFII重仓 100, 元宇宙概念 100, 
破净股 100, 轮毂电机 8, 养老金 100, 贬值受益 100, 湖南板块 148, 
碳交易 100, 低价股 100, 信创 100, 抗菌面料 15, 银行 42, 
陕西板块 82, 远程办公 38, 农业种植 86, 猪肉概念 35, 建筑材料 76, 
地下管网 46, 土地流转 45, 浙江板块 727, GDR 11, 油气设服 48, 
工业母机 82, 参股银行 100, 京津冀 58, 山东板块 313, 华为汽车 100, 
超导概念 16, 举牌 14, 职业教育 69, 参股券商 100, 广东板块 462, 
军工 100, NFT概念 55, 股权激励 100, 核污染防治 32, 内贸流通 100, 
大飞机 96, 气溶胶检测 11, 知识产权 42, 养老概念 100, 次新股 100, 
深港通 1926, 航母概念 34, 尾气治理 34, 参股期货 46, CPO概念 44, 
医疗美容 73, 昨日涨停_含一字 100, 电力设备 393, 婴童概念 100, 创业成份 100, 
注册制次新股 88, 体育产业 71, 华为海思 40, 机械设备 593, 移动支付 70, 
转基因 16, 网红经济 100, 超级真菌 20, 中字头 100, 中特估 82, 
滨海新区 21, 大数据 100, 通用航空 37, 核能核电 100, 裸眼3D 23, 
非银金融 83, 快手概念 31, 社保重仓 19, 青蒿素 11, 风能 100, 
海绵城市 37, 5G概念 100, 昨日触板 47, 昨日涨停 99, 消毒剂 59, 
四川板块 179, 中俄贸易概念 75, 乡村振兴 100, 水产养殖 16, 磁悬浮概念 29, 
鸡肉概念 20, 毛发医疗 17, PLC概念 9, 创业板注册制 584, 云计算 100, 
被动元件 27, 智谱AI 36, 山西板块 42, 转债标的 100, 2025中报预减 100, 
家用电器 105, 燃料电池 100, 净水概念 21, 公用事业 137, 煤炭 37, 
碳化硅 36, 锂矿概念 36, 西部大开发 100, 并购重组概念 100, 跨境电商 100, 
内蒙古板块 31, 固态电池 100, 河北板块 82, 托育服务 9, 钙钛矿电池 32, 
统一大市场 42, 水利建设 100, 垃圾分类 100, 工程机械概念 55, 粤港自贸 75, 
建筑节能 46, 雅下水电概念 52, 国防军工 142, 快递概念 42, 数字阅读 19, 
微盘股 100, 军民融合 100, 股权转让 40, PPP模式 100, 区块链 100, 
深圳特区 100, 铁路基建 100, 智能电网 100, PCB 100, 广电 27, 
数字经济 100, 可控核聚变 54, 玻璃基板 33, 国债逆回购 18, 重庆板块 79, 
沪港通 0, 深圳板块 0, 减肥药 32, 昨日连板 27, AI智能体 92, 
通信 130, 工业气体 27, 黑龙江板块 40, 数字水印 18, 国家安防 100, 
氟化工 32, 无线充电 41, 数据安全 85, AI语料 28, 锂电池 100, 
英伟达概念 53, 虚拟电厂 55, 维生素 32, 国产软件 100, 河南板块 111, 
多模态AI 55, Kimi概念 25, 数据确权 34, 参股新三板 100, 时空大数据 26, 
建筑装饰 163, 钠离子电池 55, 湖北板块 153, 计算机 361, ETC 45, 
券商概念 55, 液冷概念 98, 冰雪经济 35, 华为昇腾 35, 中药概念 100, 
新型工业化 96, 虚拟数字人 84, 北交所概念 26, 电子纸概念 13, 蚂蚁概念 60, 
参股保险 79, 华为欧拉 18, MLOps概念 10, 节能环保 100, 医疗器械概念 100, 
互联金融 100, DeepSeek概念 100, 数字孪生 83, 独家药品 44, 电子车牌 18, 
充电桩 100, 宠物经济 65, 抽水蓄能 35, 新疆板块 61, 海南板块 29, 
互联医疗 98, 海南自贸 47, 智慧政务 86, 创业板综 100, 储能 100, 
土壤修复 36, 汽车热管理 90, ChatGPT概念 73, 租售同权 17, 电子身份证 37, 
环保 138, 鸿蒙概念 100, 新型城镇化 100, 合成生物 100, 数据要素 100, 
减速器 74, 氦气概念 11, 工业大麻 39, 熔盐储能 9, 财税数字化 41, 
粮食概念 32, 体外诊断 67, 影视概念 65, 机器人概念 100, Sora概念 40, 
光通信模块 61, 智慧灯杆 26, 机器人执行器 26, 人形机器人 100, 娃哈哈概念 20, 
短剧互动游戏 31, BC电池 24, Web3.0 48, 氢能源 100, 换电概念 47, 
单抗概念 49, 西藏板块 22, 铜缆高速连接 36, 跨境支付 62, 富士康 39, 
空间计算 24, 海工装备 68, 辅助生殖 55, 麒麟电池 8, CRO 39, 
精准医疗 46, 昨日连板_含一字 33, 医药生物 498, CAR-T细胞疗法 24, 装配建筑 90, 
阿兹海默 18, 长寿药 13, 医废处理 32, 幽门螺杆菌概念 51, 超级电容 32, 
食品安全 47, 流感 100, 重组蛋白 19, 痘病毒防治 55, 生物疫苗 71, 
虚拟机器人 15, 海洋经济 95, 高压快充 51, 同步磁阻电机 6, DRG/DIP 19, 
创新药 100, 房屋检测 39, AI制药（医疗） 45, 第四代半导体 5, 人脑工程 36, 
病毒防治 100, ERP概念 20, 刀片电池 13, 免疫治疗 44, 京东金融 10, 
SPD概念 11, 基因测序 48, 数字哨兵 12, 肝炎概念 55, 肝素概念 13, <pre>
<y>L</y> askaList <y>a</y> addList <y>f</y> forward() <y>b</y> backward() <y>r</y> randomFlip()
<y>K</y> storeBookmark <y>k</y> loadBookmark <y>d</y> setPeriodDay <y>h</y>
setPeriodHour <y>m</y> setPeriodMinute <y>q</y> setPeriodQuad <y>t</y> #toc
<y>e</y> end <y>l</y> scrollTo end of list <y>X</y> Random Charts.html 
</pre>


<script>
  var showTopicNumber = false;
  var topicEnd = "&emsp;";
  var bookid = "Inspect Chart" 
  var markerName = "#codelist b"
  var divtoc = document.getElementById("toc");

  // prepare basic materials
  const baseurl = "https://sqt.gtimg.cn/?q=";
  const chunkSize = 60;
  const chunks = [];
  const urlReqStr = [];
  const updnCnt = [];
  const theModList = [];




$(document).ready(function(){
  $('h1, h2, h3, h4, h5, .goldword, strong,  div.title').click(function(){
  parent.history.back();
  $('#mustWatch').prepend("<br><br>=======================================================================<br>");
  return false;
  });
});

// load localStorage.inspectStkListArr
var url_string = location.href;
paramsArray = url_string.split('?')  // note this has changed to array
paramsArray.shift() // remove first item
if(paramsArray.length!=0){
    localStorage.setItem("inspectStkListArr",paramsArray[0]); // this is the shareList
    localStorage.setItem("titleBar","Inspect List");
    location.href = url_string.split('?')
    location.href = location.href[0]
    location.reload();
}

function getChar(event){
  if (event.which!=0 && event.charCode!=0) {
    return String.fromCharCode(event.which);}
  else {return null;}}

var topicLength;
var topicpointer = topicLength;

function changeTopic() {
 if (topicpointer >= topicLength-1) { topicpointer = 0;}
 else if (topicpointer < 0) { topicpointer = topicLength-1;}
 else { topicpointer = topicpointer + 1;}
 showTopic()
}
function backward() { topicpointer = topicpointer - 2; changeTopic();}
function foreward() { changeTopic();}
function showTopic() {
  window.location = "#topic-" + topicpointer;
  notvisitedList = notvisitedList.filter(item => item !== topicpointer) // remove topicpointer
  if(notvisitedList.length == 0){
   notvisitedList = [...Array(totalLength).keys()];
  }
}
function jumpto(index) { topicpointer = index; showTopic();}
function randomFlip() {
  topicpointer = notvisitedList[Math.floor(Math.random() * notvisitedList.length)]; // random from not visited list

  var index = notvisitedList.indexOf(topicpointer);
  notvisitedList.splice(index, 1);

  showTopic();
}

var totalLength = topicLength
var notvisitedList = [...Array(totalLength).keys()];
var periodCode =""
function storeBookmark(objName, pagepos) {
  if(typeof objName != 'undefined') {
    localStorage.setItem(objName, pagepos.toString())
//    alert("Bookmark changed! " + objName +" " + pagepos)
  }else{alert("No BookId!")}
}
function loadBookmark(objName) {
  pos = Number(localStorage.getItem(objName))
  console.log("Bookmark loaded! " + objName + " " + pos)
  $('body').animate({scrollTop: pos}, 0);
}

function changeCode(thecode) {
  localStorage.setItem("randomcode", thecode);
  window.open("Random Charts.html", "_blank");
}

function xunbao(xunbaocode) {
  localStorage.setItem("randomcode", xunbaocode)
  localStorage.setItem("otherCode", xunbaocode)
  localStorage.setItem("stkCode", xunbaocode)
  window.open("Random Charts.html");
}


$("#mustWatch").append('<pre><br><span class="silver">keys: <br>r random article<br>5 random article<br>b backward<br>4 backward<br>f foreward<br>6 foreward<br><br>t top of table<br>8 top of table<br>l last of table<br>2 last of table<br>7 go to table middle<br><br>T Top of page<br>e end of page<br><br>m mustWatch<br>p pause<br>c continU<br>s showPage<br><br>K set bookmark<br>k open bookmark</span></pre>');


var lazyLoadInstance = new LazyLoad({
    elements_selector: ".lazy"
    // ... more custom settings?
});

</script>


<script>
  // this goes after readbook to allow toc establish
  // got to top to show the menu
  window.location = '#toc';

function askaList() {
  var theList = prompt("Enter stk list seperated by space:", "");
  if (theList != null && theList != "") {
    localStorage.setItem("inspectStkListArr",theList); // this is the shareList
    localStorage.setItem("titleBar","Inspect List");
    location.reload();
  }
}
function saveAList(theList,titletxt) {
  if (theList != null && theList != "") {
    localStorage.setItem("inspectStkListArr",theList); // this is the shareList
    localStorage.setItem("titleBar",titletxt);
    window.location = '#top'
    location.reload();
  }
}

function addList() {
  var theList = prompt("add to list, seperated by space:", "");
  if (theList != null && theList != "") {
    theList = theList + " " + localStorage.getItem("inspectStkListArr")
    theList = theList.split(' ');
    theList = [...new Set(theList)]

    localStorage.setItem("inspectStkListArr",theList.join(" ")); // this is the shareList
    localStorage.setItem("titleBar","Inspect List");
    location.reload();
  }
}

function showAllCharts(){
  thisImgHead = "<img class='lazy' data-src='http://charts.aastocks.com/servlet/Charts?fontsize=12&15MinDelay=F&lang=1&titlestyle=1&vol=1&Indicator=3&indpara1=3&indpara2=6&indpara3=9&indpara4=12&indpara5=15&subChart1=3&ref1para1=5&ref1para2=10&ref1para3=3&subChart2=3&ref2para1=7&ref2para2=13&ref2para3=9&subChart3=7&ref3para1=6&ref3para2=4&ref3para3=0&subChart5=1&ref4para1=0&ref4para2=0&ref4para3=0&scheme=3&com=100&chartwidth=900&chartheight=700&stockid=";
  thisImgTail = "&type=1&logoStyle=1' ";

  $( "#codelist" ).empty();
  $( "#codelist" ).append('Total: '+theList.length+"<br>");
  CommentListNames = Object.keys(theCommentList); // extract the names from comments

  // this process add turnover detail to each chart individually
  for( codeNo = 0; codeNo < theList.length; codeNo += 1){
    //showStkTO(theList[codeNo]); // this show turnover details
    theText = theList[codeNo]

    // modify to suit A stock
    textwidth = theText.length;
    if(textwidth <= 5){
      theText = "00000"+theText;
      textwidth = theText.length;
      theText = theText.slice(textwidth-5, textwidth);
      textwidth = theText.length; //update to be used later
    }else{
      textwidth = theText.length
      if((textwidth == 6) && !hsReservedCode.includes(theText)){
         // note the code is diff fm tencent code
         if (theText.charAt(0) == "6"){ theText = theText + ".sh"; 
         }else{ theText = theText + ".sz"}
      }else if(textwidth == 9){
        theText = theText.substring(7, 9) + theText.substring(0, 7);
      }
    }
    // to show comments
    commentName = "j" + theList[codeNo]
    if(CommentListNames.includes(commentName)){
      cmtLocation = CommentListNames.indexOf(commentName);
      commentTxt = theCommentList[Object.keys(theCommentList)[cmtLocation]]
    }else{commentTxt = "no data!";}

    // this is the key line to show K line charts

    theFunccode = (codeNo+1) +"/"+ theList.length + " <b id=imgp" + codeNo + ">"+ theText  + "</b><br>" + thisImgHead + theText + periodCode + thisImgTail + "onclick = \"xunbao('" + theText + "')\"><br>";

    $( "#codelist" ).append( theFunccode);
    tradeDetailStr = ""; // clean the tradeDetailStr
  }

}

function _stkChartInit() {  // this is the shareList init
  if (localStorage.getItem("inspectStkListArr") === null) {
    theList = "00700";
    $("#titlebar").empty();
    $('#titlebar').text()= "Inspect List";
  }
  else { fullStkChartInit(); }
}

function fullStkChartInit() {
    theList = localStorage.getItem("inspectStkListArr");  // this is the shareList from showstklist.js
    theList = theList.split(' ');
    titleBar = localStorage.getItem("titleBar");
    $("#titlebar").empty();
    $("#titlebar").append(titleBar);
}


async function updateInfo() {

   for( codeNo = 0; codeNo < theList.length; codeNo += 1){
      theText = theList[codeNo]
      // modify to suit A stock
      textwidth = theText.length;
      if(textwidth <= 5){
        theText = "00000"+theText;
        textwidth = theText.length;
        theText = theText.slice(textwidth-5, textwidth);
        textwidth = theText.length; //update to be used later
      }else{
        textwidth = theText.length
        if((textwidth == 6) && !hsReservedCode.includes(theText)){
          // note the code is diff fm tencent code
          if (theText.charAt(0) == "6"){ theText = "sh"+theText ; 
          }else{ theText = "sz"+theText }
        }else if(textwidth == 9){
          theText = theText.substring(7, 9) + theText.substring(0, 7);
        }
      }
      theList[codeNo] = theText
    }

    // split long array into small chunks
    for (let i = 0; i < theList.length; i += chunkSize) {
	chunks.push(theList.slice(i, i + chunkSize));
    }

    thecodeLen = theList[0].length
    if(thecodeLen == 5){
      for (let i = 0; i < chunks.length; i++) {
        urlReqStr.push(baseurl + chunks[i].map(element => "r_hk" + element).join(","));
      }
    }else{
      for (let i = 0; i < chunks.length; i++) {
        urlReqStr.push(baseurl + chunks[i].map(element => element).join(","));
      }
    }

	for (let i = 0; i < urlReqStr.length; i++) {
		await fetchDataChunks(urlReqStr[i]);
		// console.log(urlReqStr[i])
	}

     const upcount = updnCnt.filter(num => num > 0).length;
     const dncount = updnCnt.filter(num => num < 0).length;
     const lvlcount = updnCnt.filter(num => num = 0).length;

     const upratio = Math.round(upcount*100/updnCnt.length)
     const dnratio = Math.round(dncount*100/updnCnt.length)
     const lvlratio = Math.round(lvlcount*100/updnCnt.length)

	updnStr = ' <lg>Up ' + upcount + "</lg> <r>Dn " + dncount + "</r>" + " <y>lvl " + lvlcount + "</y>"
	updnRatioStr = ' <lg>Up ' + upratio + "%</lg> <r>Dn " + dnratio + "%</r>" + " <y>lvl " + lvlratio + "%</y>"

	$("#status").html("<br><y>" + showDate() + "</y> " + showTime() +
      "<br><wh>Total: "+ updnCnt.length +"</wh>&emsp; "+ 
      updnStr +
      "<m>&emsp; U/D ratio: </m>"+ updnRatioStr)
}



// Function to fetch data chunks
async function fetchDataChunks(url) {
	try {
		const response = await fetch(url);
		const data = await response.text();
		const rows = data.split(";");

		rows.forEach(row => {
			const columns = row.split("~");
			if (columns.length > 1) {
				const updn = columns[31];
				updnCnt.push(updn)

				const stockCode = columns[2]; // e.g., "s_hk00700"
				const stknum = stockCode.replace("s_hk", ""); // Extract stock code (e.g., "00700")
			}
		});
	} catch (error) {
		console.error("Error fetching data:", error);
	}
}

function setPeriodDay() {
    localStorage.setItem("periodCode", "&period=7&")
    location.reload();

}
function setPeriodHour() {
    localStorage.setItem("periodCode", "&period=4&")
    location.reload();
}
function setPeriodMinute() {
    localStorage.setItem("periodCode", "&period=5000&")
    location.reload();
}
function setPeriodQuad() {
    localStorage.setItem("periodCode", "&period=2&")
    location.reload();
}



  if (localStorage.getItem("periodCode") === null) {
    periodCode = "&period=7&"
  }else{
    periodCode = localStorage.getItem("periodCode")
  }

    _stkChartInit();
    showAllCharts();



// Wrap the await call in an async function
(async function() {
    await updateInfo();
})();


</script>

// put the script here to avoid the chkk in the readbook
<script src='https://williamkpchan.github.io/LibDocs/readbook.js'></script>

<script>
var lazyLoadInstance = new LazyLoad({
    elements_selector: ".lazy"
    // ... more custom settings?
});


function chkKey() {
  var testkey = getChar(event);
  if(testkey == 'e'){window.location = '#hz';}
  //if(testkey == 'e'){window.scrollTo(0,document.body.scrollHeight);}

  if(testkey == "l"){
    $('body,html').animate({scrollTop: divtoc.clientHeight }, 1);
    window.scrollTo(window.scrollX, window.scrollY - 300);}
  if(testkey == 'L'){askaList();} // input a list of codes and store it
  if(testkey == 'a'){addList();}

  else if(testkey == 'f'){changeTopic();}
  else if(testkey == "r"){ randomFlip();}
  else if(testkey == 's'){xunbao(markerList[topicpointer].split(' ')[0]);}
  else if(testkey == 't'){window.location = '#top';
    window.scrollTo(window.scrollX, window.scrollY - 50);}

  else if(testkey == "K"){ 
    pos = document.getElementsByTagName("body")[0].scrollTop;
    if(typeof bookid == 'undefined') { bookid = $('title').text() }
    storeBookmark(bookid, pos.toString());
  }
  else if(testkey == "k"){
    if(typeof bookid != 'undefined') {loadBookmark(bookid);}
    else{alert("No BookId!")}
  }
  else if(testkey == "b"){ backward();}
  else if(testkey == "d"){ setPeriodDay();  }
  else if(testkey == "h"){ setPeriodHour();}
  else if(testkey == "m"){ setPeriodMinute();}
  else if(testkey == "q"){ setPeriodQuad();}

  else if(testkey == 'X'){window.open("Random Charts.html");}
  else{chkOtherKeys(testkey)} 

}
window.location = '#toc';
topicpointer = topicLength;

</script>


</body></html>
