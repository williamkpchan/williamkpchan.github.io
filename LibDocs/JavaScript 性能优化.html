<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" href="submaincss.css">
<style>
code{font-size:18px;}
</style>

</head>
<body>

<h2>JavaScript 性能优化</h2>
前言
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">避免全局查找
</span>
</h2>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> search
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//当我要使用当前页面地址和主机域名
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;alert
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">window
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">location
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">href 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">+
</span>
<span style="max-width: 100%;color: gray;"> window
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">location
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">host
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//最好的方式是如下这样 &nbsp;先用一个简单变量保存起来
</span>
</code>
</li>
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> search
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> location 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> window
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">location
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;alert
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">location
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">href 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">+
</span>
<span style="max-width: 100%;color: gray;"> location
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">host
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">定时器
</span>
</h2>
<strong style="max-width: 100%;">不应该使用 setTimeout，而应该是用 setInterval
</strong>，因为 setTimeout 每一次都会初始化一个定时器，而 setInterval 只会在开始的时候初始化一个定时器
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> timeoutTimes 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> timeout
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;timeoutTimes
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">++;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>if
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">timeoutTimes 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">&lt;
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">10
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;setTimeout
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">timeout
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">10
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">timeout
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">();
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//可以替换为：
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> intervalTimes 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> interval
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;intervalTimes
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">++;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>if
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">intervalTimes 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">&gt;=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">10
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;clearInterval
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">interv
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> interv 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> setInterval
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">interval
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">10
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; 
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">字符串连接
</span>
</h2>
<strong style="max-width: 100%;">使用 join 方法连接起来
</strong>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> buf 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">[];
</span>
</code>
</li>
<li>
<code>
<span>for
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">&lt;
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">100
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">++)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;buf
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">push
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">toString
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">());
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> all 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> buf
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">join
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">""
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">避免 with 语句
</span>
</h2>
<strong style="max-width: 100%;">能不使用 with 语句的时候尽量不要使用 with 语句
</strong>。
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>with
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">a
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">b
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">c
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">d
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;property1 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">1
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;property2 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">2
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//可以替换为：
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> obj 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> a
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">b
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">c
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">d
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">obj
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">property1 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">1
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">obj
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">property2 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">2
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">数字转换成字符串
</span>
</h2>
<strong style="max-width: 100%;">("" +) &gt; String() &gt; .toString() &gt; new String()
</strong>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">浮点数转换成整型
</span>
</h2>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">各种类型转换
</span>
</h2>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> myVar 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">"3.14159"
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">str 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">""
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">+
</span>
<span style="max-width: 100%;color: gray;"> myVar
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">// &nbsp;to string &nbsp;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">i_int 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">~
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">~
</span>
<span style="max-width: 100%;color: gray;">myVar
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">// &nbsp;to integer &nbsp;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">f_float 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">1
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">*
</span>
<span style="max-width: 100%;color: gray;"> myVar
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">// &nbsp;to float &nbsp;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">b_bool 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">!!
</span>
<span style="max-width: 100%;color: gray;">myVar
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">/* &nbsp;to boolean - any string with length 
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;and any number except 0 are true */
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">array 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">[
</span>
<span style="max-width: 100%;color: gray;">myVar
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">];
</span>
<span style="max-width: 100%;color: gray;"> &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">// &nbsp;to array &nbsp;
</span>
</code>
</li>
</ol>
</pre>
<strong style="max-width: 100%;">显式调用 toString()
</strong>，因为内部的操作在尝试所有可能性之后，会尝试对象的 toString() 方法尝试能否转化为 String，所以直接调用这个方法效率会更高
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">多个类型声明
</span>
</h2>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">插入迭代器
</span>
</h2>
<code style="margin-right: 2px;margin-left: 2px;padding-right: 5px;padding-left: 5px;max-width: 100%;border-width: 1px;border-style: solid;border-color: rgb(234, 234, 234);background-color: #002000;border-radius: 3px;">
<span style="max-width: 100%;color: white;">var
</span>
<span style="max-width: 100%;color: gray;">&nbsp;name
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;">values
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">[
</span>
<span style="max-width: 100%;color: gray;">i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">];
</span>
<span style="max-width: 100%;color: gray;">&nbsp;i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">++
</span>
</code>; 前面两条语句可以写成&nbsp;
<code style="margin-right: 2px;margin-left: 2px;padding-right: 5px;padding-left: 5px;max-width: 100%;border-width: 1px;border-style: solid;border-color: rgb(234, 234, 234);background-color: #002000;border-radius: 3px;">
<span style="max-width: 100%;color: white;">var
</span>
<span style="max-width: 100%;color: gray;">&nbsp;name
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;">values
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">[
</span>
<span style="max-width: 100%;color: gray;">i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">++]
</span>
</code>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">使用直接量
</span>
</h2>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> aTest 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>new
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: teal;">Array
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">();
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//替换为
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> aTest 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">[];
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> aTest 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>new
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: teal;">Object
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//替换为
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> aTest 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{};
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> reg 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>new
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: teal;">RegExp
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">();
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//替换为
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> reg 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">/../
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//如果要创建具有一些特性的一般对象，也可以使用字面量，如下：
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> oFruit 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>new
</span>
<span style="max-width: 100%;color: gray;"> O
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">oFruit
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">color 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">"red"
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">oFruit
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">name 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">"apple"
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//前面的代码可用对象字面量来改写成这样：
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> oFruit 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
<span style="max-width: 100%;color: gray;"> color
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">:
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">"red"
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> name
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">:
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">"apple"
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">};
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">使用 DocumentFragment 优化多次 append
</span>
</h2>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>for
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">&lt;
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">1000
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">++)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> el 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">createElement
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'p'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">innerHTML 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">body
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">appendChild
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//可以替换为：
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> frag 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">createDocumentFragment
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">();
</span>
</code>
</li>
<li>
<code>
<span>for
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">&lt;
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">1000
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">++)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> el 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">createElement
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'p'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">innerHTML 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;frag
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">appendChild
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">body
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">appendChild
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">frag
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">使用一次 innerHTML 赋值代替构建 dom 元素
</span>
</h2>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> frag 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">createDocumentFragment
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">();
</span>
</code>
</li>
<li>
<code>
<span>for
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">&lt;
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">1000
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">++)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> el 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">createElement
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'p'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">innerHTML 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;frag
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">appendChild
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">body
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">appendChild
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">frag
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//可以替换为：
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> html 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">[];
</span>
</code>
</li>
<li>
<code>
<span>for
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">&lt;
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">1000
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">++)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;html
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">push
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'&lt;p&gt;'
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">+
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">+
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'&lt;/p&gt;'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">body
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">innerHTML 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> html
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">join
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">''
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">通过模板元素 clone，替代 createElement
</span>
</h2>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> frag 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">createDocumentFragment
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">();
</span>
</code>
</li>
<li>
<code>
<span>for
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">&lt;
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">1000
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">++)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> el 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">createElement
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'p'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">innerHTML 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;frag
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">appendChild
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">body
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">appendChild
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">frag
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//替换为：
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> frag 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">createDocumentFragment
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">();
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> pEl 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">getElementsByTagName
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'p'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">)[
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">];
</span>
</code>
</li>
<li>
<code>
<span>for
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">&lt;
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">1000
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">++)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> el 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> pEl
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">cloneNode
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span>false
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">innerHTML 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;frag
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">appendChild
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">body
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">appendChild
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">frag
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">使用 firstChild 和 nextSibling 代替 childNodes 遍历 dom 元素
</span>
</h2>
<strong style="max-width: 100%;">
<img src="https://youwuqiong.top/wp-admin/img.php?imgUrl=http://mmbiz.qpic.cn/mmbiz_png/hp6WA88JQ4QJY2u64jvpwAkA0hf0iaRRJkibsVUY9tpHyjHjQhxCial8ib9m5u7dqjqlFQK7u5sl7ibXXFT6KZ4UWsw/0">
</strong>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> nodes 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> element
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">childNodes
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span>for
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> l 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> nodes
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">length
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">&lt;
</span>
<span style="max-width: 100%;color: gray;"> l
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">++)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> node 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> nodes
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">[
</span>
<span style="max-width: 100%;color: gray;">i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">];
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//……
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//可以替换为：
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> node 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> element
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">firstChild
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span>while
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">node
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//……
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;node 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> node
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">nextSibling
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">删除 DOM 节点
</span>
</h2>
<strong style="max-width: 100%;">删除 dom 节点之前, 一定要删除注册在该节点上的事件
</strong>, 不管是用 observe 方式还是用 attachEvent 方式注册的事件, 否则将会产生无法回收的内存。另外，在 removeChild 和 innerHTML=’’二者之间, 尽量选择后者. 因为在 sIEve(内存泄露监测工具) 中监测的结果是用 removeChild 无法有效地释放 dom 节点
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">使用事件代理
</span>
</h2>
<strong style="max-width: 100%;">对于内容动态增加并且子节点都需要相同的事件处理函数的情况，可以把事件注册提到父节点上，这样就不需要为每个子节点注册事件监听了
</strong>。另外，现有的 js 库都采用 observe 方式来创建事件监听, 其实现上隔离了 dom 对象和事件处理函数之间的循环引用, 所以应该尽量采用这种方式来创建事件监听
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">重复使用的调用结果，事先保存到局部变量
</span>
</h2>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//避免多次取值的调用开销
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> h1 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> element1
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">clientHeight 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">+
</span>
<span style="max-width: 100%;color: gray;"> num1
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> h4 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> element1
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">clientHeight 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">+
</span>
<span style="max-width: 100%;color: gray;"> num2
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//可以替换为：
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> eleHeight 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> element1
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">clientHeight
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> h1 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> eleHeight 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">+
</span>
<span style="max-width: 100%;color: gray;"> num1
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> h4 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> eleHeight 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">+
</span>
<span style="max-width: 100%;color: gray;"> num2
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">注意 NodeList
</span>
</h2>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> images 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">getElementsByTagName
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'img'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span>for
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> len 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> images
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">length
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">&lt;
</span>
<span style="max-width: 100%;color: gray;"> len
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">++)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
</ol>
</pre>
<ul class=" list-paddingleft-2" style="">
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">进行了对 getElementsByTagName() 的调用
</span>
</li>
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">获取了元素的 childNodes 属性
</span>
</li>
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">获取了元素的 attributes 属性
</span>
</li>
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">访问了特殊的集合，如 document.forms、document.images 等等
</span>
</li>
</ul>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">优化循环
</span>
</h2>
<ul class=" list-paddingleft-2" style="">
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;">
<span style="max-width: 100%;line-height: 22px;">
<strong style="max-width: 100%;">减值迭代
</strong>
</span>
</span>
</li>
</ul>
<ul class=" list-paddingleft-2" style="">
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;">
<span style="max-width: 100%;line-height: 22px;">
<strong style="max-width: 100%;">简化终止条件
</strong>
</span>
</span>
</li>
</ul>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> list 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">getElementsByTagName
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'p'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span>for
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">&lt;
</span>
<span style="max-width: 100%;color: gray;"> list
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">length
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">++)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//……
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//替换为：
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> list 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">getElementsByTagName
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'p'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span>for
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> l 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> list
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">length
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">&lt;
</span>
<span style="max-width: 100%;color: gray;"> l
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">++)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//……
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
</ol>
</pre>
<ul class=" list-paddingleft-2" style="">
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;">
<span style="max-width: 100%;line-height: 22px;">
<strong style="max-width: 100%;">简化循环体
</strong>
</span>
</span>
</li>
</ul>
<ul class=" list-paddingleft-2" style="">
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;">
<span style="max-width: 100%;line-height: 22px;">
<strong style="max-width: 100%;">使用后测试循环
</strong>
</span>
</span>
</li>
</ul>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> arr 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">[
</span>
<span style="max-width: 100%;color: white;">1
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">2
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">3
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">4
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">5
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">6
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">7
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">];
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> sum 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span>for
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> l 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> arr
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">length
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">&lt;
</span>
<span style="max-width: 100%;color: gray;"> l
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">++)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;sum 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">+=
</span>
<span style="max-width: 100%;color: gray;"> arr
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">[
</span>
<span style="max-width: 100%;color: gray;">i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">];
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//可以考虑替换为：
</span>
</code>
</li>
<li>
<code>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> arr 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">[
</span>
<span style="max-width: 100%;color: white;">1
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">2
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">3
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">4
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">5
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">6
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">7
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">];
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> sum 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> l 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> arr
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">length
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span>while
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">l
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">--)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;sum 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">+=
</span>
<span style="max-width: 100%;color: gray;"> arr
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">[
</span>
<span style="max-width: 100%;color: gray;">l
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">];
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">展开循环
</span>
</h2>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">避免双重解释
</span>
</h2>
<ul class=" list-paddingleft-2" style="">
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">
<strong style="max-width: 100%;">尽量少使用
</strong>&nbsp;
<strong style="max-width: 100%;">eval
</strong>&nbsp;
<strong style="max-width: 100%;">函数
</strong>
</span>
</li>
</ul>
<ul class=" list-paddingleft-2" style="">
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">
<strong style="max-width: 100%;">不要使用
</strong>&nbsp;
<strong style="max-width: 100%;">Function
</strong>&nbsp;
<strong style="max-width: 100%;">构造器
</strong>
</span>
</li>
</ul>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> num 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">setTimeout
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'num++'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">10
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//可以替换为：
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> num 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> addNum
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;num
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">++;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">setTimeout
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">addNum
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">10
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">缩短否定检测
</span>
</h2>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>if
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">oTest 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">!=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'#ff0000'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//do something
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span>if
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">oTest 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">!=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>null
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//do something
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span>if
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">oTest 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">!=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>false
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//do something
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//虽然这些都正确，但用逻辑非操作符来操作也有同样的效果：
</span>
</code>
</li>
<li>
<code>
<span>if
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(!
</span>
<span style="max-width: 100%;color: gray;">oTest
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//do something
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">条件分支
</span>
</h2>
<ul class=" list-paddingleft-2" style="">
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">将条件分支，按可能性顺序从高到低排列：可以减少解释器对条件的探测次数
</span>
</li>
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">在同一条件子的多（&gt;2）条件分支时，使用 switch 优于 if：switch 分支选择的效率高于 if，在 IE 下尤为明显。4 分支的测试，IE 下 switch 的执行时间约为 if 的一半。
</span>
</li>
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">使用三目运算符替代条件分支
</span>
</li>
</ul>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>if
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">a 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">&gt;
</span>
<span style="max-width: 100%;color: gray;"> b
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;num 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> a
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>else
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;num 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> b
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//可以替换为：
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">num 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> a 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">&gt;
</span>
<span style="max-width: 100%;color: gray;"> b 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">?
</span>
<span style="max-width: 100%;color: gray;"> a 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">:
</span>
<span style="max-width: 100%;color: gray;"> b
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">使用常量
</span>
</h2>
<ul class=" list-paddingleft-2" style="">
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">
<strong style="max-width: 100%;">重复值
</strong>: 任何在多处用到的值都应该抽取为一个常量
</span>
</li>
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">
<strong style="max-width: 100%;">用户界面字符串
</strong>: 任何用于显示给用户的字符串，都应该抽取出来以方便国际化
</span>
</li>
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">
<strong style="max-width: 100%;">URLs
</strong>: 在 Web 应用中，资源位置很容易变更，所以推荐用一个公共地方存放所有的 URL
</span>
</li>
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">
<strong style="max-width: 100%;">任意可能会更改的值:
</strong>&nbsp;每当你用到字面量值的时候，你都要问一下自己这个值在未来是不是会变化，如果答案是 “是”，那么这个值就应该被提取出来作为一个常量。
</span>
</li>
</ul>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">避免与 null 进行比较
</span>
</h2>
<ul class=" list-paddingleft-2" style="">
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">如果值应为一个引用类型，使用 instanceof 操作符检查其构造函数
</span>
</li>
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">如果值应为一个基本类型，作用 typeof 检查其类型
</span>
</li>
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">如果是希望对象包含某个特定的方法名，则使用 typeof 操作符确保指定名字的方法存在于对象上
</span>
</li>
</ul>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">避免全局量
</span>
</h2>
<strong style="max-width: 100%;">全局变量应该全部字母大写，各单词之间用_下划线来连接
</strong>。尽可能避免全局变量和函数, 尽量减少全局变量的使用，因为在一个页面中包含的所有 JavaScript 都在同一个域中运行。所以如果你的代码中声明了全局变量或者全局函数的话，后面的代码中载入的脚本文件中的同名变量和函数会覆盖掉（overwrite）你的。
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//糟糕的全局变量和全局函数
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> current 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>null
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> init
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(){
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//...
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> change
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//...
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> verify
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//...
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//解决办法有很多，Christian Heilmann建议的方法是：
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//如果变量和函数不需要在“外面”引用，那么就可以使用一个没有名字的方法将他们全都包起来。
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span>function
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(){
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> current 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>null
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> init
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//...
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> change
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//...
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> verify
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//...
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">})();
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//如果变量和函数需要在“外面”引用，需要把你的变量和函数放在一个“命名空间”中
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//我们这里用一个function做命名空间而不是一个var，因为在前者中声明function更简单，而且能保护隐私数据
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">myNameSpace 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>function
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> current 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>null
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> init
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//...
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> change
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//...
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> verify
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//...
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//所有需要在命名空间外调用的函数和属性都要写在return里面
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>return
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;init
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">:
</span>
<span style="max-width: 100%;color: gray;"> init
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">,
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//甚至你可以为函数和属性命名一个别名
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;
</span>
<span>set
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">:
</span>
<span style="max-width: 100%;color: gray;"> change
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">};
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">};
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">尊重对象的所有权
</span>
</h2>
<ul class=" list-paddingleft-2" style="">
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">不要为实例或原型添加属性
</span>
</li>
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">不要为实例或者原型添加方法
</span>
</li>
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">不要重定义已经存在的方法
</span>
</li>
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">不要重复定义其它团队成员已经实现的方法，永远不要修改不是由你所有的对象，你可以通过以下方式为对象创建新的功能:
</span>
</li>
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">创建包含所需功能的新对象，并用它与相关对象进行交互
</span>
</li>
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">创建自定义类型，继承需要进行修改的类型，然后可以为自定义类型添加额外功能
</span>
</li>
</ul>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">循环引用
</span>
</h2>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> el 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">getElementById
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'MyElement'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> func 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//…
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">func 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> func
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">func
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">element 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
</ol>
</pre>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> init
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> el 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">getElementById
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'MyElement'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">onclick 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//……
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">init
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">();
</span>
</code>
</li>
</ol>
</pre>
<strong style="max-width: 100%;">1.置空 dom 对象
</strong>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> init
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> el 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">getElementById
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'MyElement'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">onclick 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//……
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">init
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">();
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//可以替换为：
</span>
</code>
</li>
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> init
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> el 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">getElementById
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'MyElement'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">onclick 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//……
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;el 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>null
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">init
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">();
</span>
</code>
</li>
</ol>
</pre>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> init
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> el 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">getElementById
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'MyElement'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">onclick 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//……
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>return
</span>
<span style="max-width: 100%;color: gray;"> el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">init
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">();
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//可以替换为：
</span>
</code>
</li>
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> init
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> el 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">getElementById
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'MyElement'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">onclick 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//……
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>try
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;
</span>
<span>return
</span>
<span style="max-width: 100%;color: gray;"> el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>finally
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;el 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>null
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">init
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">();
</span>
</code>
</li>
</ol>
</pre>
<strong style="max-width: 100%;">2. 构造新的 context
</strong>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> init
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> el 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">getElementById
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'MyElement'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">onclick 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//……
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">init
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">();
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//可以替换为：
</span>
</code>
</li>
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> elClickHandler
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//……
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> init
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> el 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">getElementById
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'MyElement'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">onclick 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> elClickHandler
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">init
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">();
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">通过 javascript 创建的 dom 对象，必须 append 到页面中
</span>
</h2>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> create
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> gc 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">getElementById
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'GC'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>for
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">0
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">&lt;
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">5000
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
<span style="max-width: 100%;color: gray;"> i
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">++)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> el 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> document
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">createElement
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'div'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">innerHTML 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">"test"
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//下面这句可以注释掉，看看浏览器在任务管理器中，点击按钮然后刷新后的内存变化
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; &nbsp; &nbsp;gc
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">appendChild
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">el
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">释放 dom 元素占用的内存
</span>
</h2>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">释放 javascript 对象
</span>
</h2>
<code style="margin-right: 2px;margin-left: 2px;padding-right: 5px;padding-left: 5px;max-width: 100%;border-width: 1px;border-style: solid;border-color: rgb(234, 234, 234);background-color: #002000;border-radius: 3px;">
<span style="max-width: 100%;color: gray;">obj&nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;">&nbsp;
</span>
<span style="max-width: 100%;color: white;">null
</span>
</code>
<code style="margin-right: 2px;margin-left: 2px;padding-right: 5px;padding-left: 5px;max-width: 100%;border-width: 1px;border-style: solid;border-color: rgb(234, 234, 234);background-color: #002000;border-radius: 3px;">
<span style="max-width: 100%;color: white;">delete
</span>
<span style="max-width: 100%;color: gray;">&nbsp;obj
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">myproperty
</span>
</code>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">避免 string 的隐式装箱
</span>
</h2>
<code style="margin-right: 2px;margin-left: 2px;padding-right: 5px;padding-left: 5px;max-width: 100%;border-width: 1px;border-style: solid;border-color: rgb(234, 234, 234);background-color: #002000;border-radius: 3px;">
<span style="max-width: 100%;color: white;">var
</span>
<span style="max-width: 100%;color: gray;">&nbsp;myString&nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;">&nbsp;
</span>
<span style="max-width: 100%;color: white;">new
</span>
<span style="max-width: 100%;color: gray;">&nbsp;
</span>
<span style="max-width: 100%;color: teal;">String
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">'Hello World'
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">)
</span>
</code>;
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">松散耦合
</span>
</h2>
<strong style="max-width: 100%;">1、解耦 HTML/JavaScript
</strong>
<code style="margin-right: 2px;margin-left: 2px;padding-right: 5px;padding-left: 5px;max-width: 100%;border-width: 1px;border-style: solid;border-color: rgb(234, 234, 234);background-color: #002000;border-radius: 3px;">
<span style="max-width: 100%;color: white;">&lt;script&gt;
</span>
</code>&nbsp;元素、使用 HTML 属性来分配事件处理程序等
<strong style="max-width: 100%;">2、解耦 CSS/JavaScript
</strong>
<code style="margin-right: 2px;margin-left: 2px;padding-right: 5px;padding-left: 5px;max-width: 100%;border-width: 1px;border-style: solid;border-color: rgb(234, 234, 234);background-color: #002000;border-radius: 3px;">
<span style="max-width: 100%;color: gray;">element
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">style
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">color
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">"red"
</span>
</code>&nbsp;尽量改为&nbsp;
<code style="margin-right: 2px;margin-left: 2px;padding-right: 5px;padding-left: 5px;max-width: 100%;border-width: 1px;border-style: solid;border-color: rgb(234, 234, 234);background-color: #002000;border-radius: 3px;">
<span style="max-width: 100%;color: gray;">element
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span style="max-width: 100%;color: gray;">className
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">"edit"
</span>
</code>，而且不要在 css 中通过表达式嵌入 JavaScript
<strong style="max-width: 100%;">3、解耦应用程序 / 事件处理程序
</strong>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">性能方面的注意事项
</span>
</h2>
<strong style="max-width: 100%;">1、尽量使用原生方法
</strong>
<strong style="max-width: 100%;">2、switch 语句相对 if 较快
</strong>
<strong style="max-width: 100%;">3、位运算较快
</strong>
<strong style="max-width: 100%;">4、巧用&nbsp;
<code style="margin-right: 2px;margin-left: 2px;padding-right: 5px;padding-left: 5px;max-width: 100%;border-width: 1px;border-style: solid;border-color: rgb(234, 234, 234);background-color: #002000;border-radius: 3px;">
<span style="max-width: 100%;color: rgb(147, 161, 161);">||
</span>
</code>和&nbsp;
<code style="margin-right: 2px;margin-left: 2px;padding-right: 5px;padding-left: 5px;max-width: 100%;border-width: 1px;border-style: solid;border-color: rgb(234, 234, 234);background-color: #002000;border-radius: 3px;">
<span style="max-width: 100%;color: rgb(147, 161, 161);">&amp;&amp;
</span>
</code>&nbsp;布尔运算符
</strong>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> eventHandler
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">e
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>if
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(!
</span>
<span style="max-width: 100%;color: gray;">e
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">)
</span>
<span style="max-width: 100%;color: gray;"> e 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> window
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span>event
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//可以替换为：
</span>
</code>
</li>
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> eventHandler
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">e
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;e 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> e 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">||
</span>
<span style="max-width: 100%;color: gray;"> window
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">.
</span>
<span>event
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
</ol>
</pre>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>if
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">myobj
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;doSomething
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">myobj
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//可以替换为：
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">myobj 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">&amp;&amp;
</span>
<span style="max-width: 100%;color: gray;"> doSomething
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">myobj
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">避免错误应注意的地方
</span>
</h2>
<strong style="max-width: 100%;">1、每条语句末尾须加分号
</strong>
<strong style="max-width: 100%;">2、使用 + 号时需谨慎
</strong>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> valueA 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">20
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> valueB 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">"10"
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">alert
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">valueA 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">+
</span>
<span style="max-width: 100%;color: gray;"> valueB
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//ouput: 2010 
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">alert
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">valueA 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">+
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(+
</span>
<span style="max-width: 100%;color: gray;">valueB
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">));
</span>
<span style="max-width: 100%;color: gray;"> &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//output: 30 
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">alert
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">valueA 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">+
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">+
</span>
<span style="max-width: 100%;color: gray;">valueB
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//output:30 
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">alert
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">valueA 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">++
</span>
<span style="max-width: 100%;color: gray;"> valueB
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp; 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//Compile error
</span>
</code>
</li>
</ol>
</pre>
<strong style="max-width: 100%;">3、使用 return 语句需要注意
</strong>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> F1
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> valueA 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">1
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> valueB 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">2
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>return
</span>
<span style="max-width: 100%;color: gray;"> valueA 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">+
</span>
<span style="max-width: 100%;color: gray;"> valueB
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span>function
</span>
<span style="max-width: 100%;color: gray;"> F2
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">()
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> valueA 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">1
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> valueB 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">2
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;
</span>
<span>return
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;valueA 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">+
</span>
<span style="max-width: 100%;color: gray;"> valueB
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">alert
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">F1
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">());
</span>
<span style="max-width: 100%;color: gray;"> &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//output: 3 
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;">alert
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">F2
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">());
</span>
<span style="max-width: 100%;color: gray;"> &nbsp;
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//ouput: undefined
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">== 和 === 的区别
</span>
</h2>
<ol class=" list-paddingleft-2" style="list-style-type: none;">
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> valueA 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">"1"
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span>var
</span>
<span style="max-width: 100%;color: gray;"> valueB 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: white;">1
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">;
</span>
</code>
</li>
<li>
<code>
<span>if
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">valueA 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">==
</span>
<span style="max-width: 100%;color: gray;"> valueB
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;alert
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">"Equal"
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span>else
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;alert
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">"Not equal"
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//output: "Equal"
</span>
</code>
</li>
<li>
<code>
<span>if
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: gray;">valueA 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">===
</span>
<span style="max-width: 100%;color: gray;"> valueB
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">)
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;alert
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">"Equal"
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span>else
</span>
<span style="max-width: 100%;color: gray;"> 
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">{
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: gray;"> &nbsp; &nbsp;alert
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">(
</span>
<span style="max-width: 100%;color: rgb(221, 17, 68);">"Not equal"
</span>
<span style="max-width: 100%;color: rgb(147, 161, 161);">);
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">}
</span>
</code>
</li>
<li>
<code>
<span style="max-width: 100%;color: rgb(147, 161, 161);">//output: "Not equal"
</span>
</code>
</li>
</ol>
</pre>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">不要使用生偏语法
</span>
</h2>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">函数返回统一类型
</span>
</h2>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">总是检查数据类型
</span>
</h2>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">何时用单引号，何时用双引号
</span>
</h2>
<h2>
<span style="font-size: 22px;color: rgb(255, 0, 0);">部署
</span>
</h2>
<ul class=" list-paddingleft-2" style="">
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">用 JSLint 运行 JavaScript 验证器来确保没有语法错误或者是代码没有潜在的问
</span>
</li>
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">部署之前推荐使用压缩工具将 JS 文件压缩
</span>
</li>
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">文件编码统一用 UTF-8
</span>
</li>
<li>
<span style="max-width: 100%;line-height: 22px;color: gray;font-size: 18px;">JavaScript 程序应该尽量放在 .js 的文件中，需要调用的时候在 HTML 中以&nbsp;
<code style="margin-right: 2px;margin-left: 2px;padding-right: 5px;padding-left: 5px;max-width: 100%;border-width: 1px;border-style: solid;border-color: rgb(234, 234, 234);background-color: #002000;border-radius: 3px;">
<span style="max-width: 100%;line-height: 22px;color: white;">&lt;script
</span>
<span style="max-width: 100%;line-height: 22px;color: gray;">&nbsp;
</span>
<span style="max-width: 100%;line-height: 22px;color: teal;">src
</span>
<span style="max-width: 100%;line-height: 22px;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;line-height: 22px;color: rgb(221, 17, 68);">"filename.js"
</span>
<span style="max-width: 100%;line-height: 22px;color: white;">&gt;
</span>
</code>&nbsp;的形式包含进来。JavaScript 代码若不是该 HTML 文件所专用的，则应尽量避免在 HTML 文件中直接编写 JavaScript 代码。因为这样会大大增加 HTML 文件的大小，无益于代码的压缩和缓存的使用。另外，&nbsp;
<code style="margin-right: 2px;margin-left: 2px;padding-right: 5px;padding-left: 5px;max-width: 100%;border-width: 1px;border-style: solid;border-color: rgb(234, 234, 234);background-color: #002000;border-radius: 3px;">
<span style="max-width: 100%;line-height: 22px;color: white;">&lt;script
</span>
<span style="max-width: 100%;line-height: 22px;color: gray;">&nbsp;
</span>
<span style="max-width: 100%;line-height: 22px;color: teal;">src
</span>
<span style="max-width: 100%;line-height: 22px;color: rgb(147, 161, 161);">=
</span>
<span style="max-width: 100%;line-height: 22px;color: rgb(221, 17, 68);">"filename.js"
</span>
<span style="max-width: 100%;line-height: 22px;color: white;">&gt;
</span>
</code>&nbsp;标签应尽量放在文件的后面, 最好是放在&nbsp;
<code style="margin-right: 2px;margin-left: 2px;padding-right: 5px;padding-left: 5px;max-width: 100%;border-width: 1px;border-style: solid;border-color: rgb(234, 234, 234);background-color: #002000;border-radius: 3px;">
<span style="max-width: 100%;line-height: 22px;color: white;">&lt;/body
</span>
<span style="max-width: 100%;line-height: 22px;color: gray;">&nbsp;
</span>
<span style="max-width: 100%;line-height: 22px;color: white;">&gt;
</span>
</code>&nbsp;标签前。这样会降低因加载 JavaScript 代码而影响页面中其它组件的加载时间。
</span>
</li>
</ul>
<strong style="max-width: 100%;">
<br  />
</strong>
<strong style="max-width: 100%;">永远不要忽略代码优化工作，重构是一项从项目开始到结束需要持续的工作，只有不断的优化代码才能让代码的执行效率越来越好。
