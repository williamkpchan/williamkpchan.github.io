<html>
<head>
<title>Connect To MySQL Database</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width"/>
<link rel="stylesheet" href="https://williamkpchan.github.io/maincss.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script type='text/javascript' src='../mainscript.js'></script>

<script>
$(document).ready(function(){
    $('h1, h2, h3, h4, h5, .goldword, strong,  div.title').click(function(){
    parent.history.back();
    return false;
    });
});
</script>
<style>
body{width:80%;margin-left: 10%; font-size:22px;}
strong, h1, h2 {color: gold;}
img {max-width:90%; display: inline-block; margin-top: 2%;margin-bottom: 1%; border-radius:3px;}
.UI{color:red;}
em{color:green;}
#redtoc{color:green; padding:10px; box-shadow: 5px 5px 15px silver;border-radius: 10px;border: 1px solid DarkSlateGray;}

</style>
</head>
<body onkeypress="chkKey()">
<center><b>Connect To MySQL Database</b>
<br>
<a href="https://dev.mysql.com/doc/refman/8.0/en/tutorial.html" class="whitebut ">MySQL Tutorial</a>
<br>

<div id="toc"></div></center>
<br>
<br>
<pre>

<h1>Connect To MySQL Database From Command Line Guide</h1>
This article describes how to connect to MySQL from the command line using the <em>mysql</em> program. You can use the <em>mysql</em> program as a quick and easy way to access your databases directly.
Table of Contents

<a href='#Connect-To-MySQL-Database-From-Command-Line'>Connect To MySQL Database From Command Line</a>
<a href='#More-Information'>More Information</a>
<a href='#Related-Articles'>Related Articles</a>

<h4 id='Connect-To-MySQL-Database-From-Command-Line'>Connect To MySQL Database From Command Line</h4>

To connect to MySQL from the command line, follow these steps:

Log in to your A2 Hosting account using SSH.
At the command line, type the following command, replacing <em>USERNAME</em> with your username:
mysql -u USERNAME -p
At the <span class="UI">Enter Password</span> prompt, type your password. When you type the correct password, the <span class="UI">mysql&gt;</span> prompt appears.
To display a list of databases, type the following command at the <span class="UI">mysql&gt;</span> prompt:

show databases;

To access a specific database, type the following command at the <span class="UI">mysql&gt;</span> prompt, replacing <em>DBNAME</em> with the database that you want to access:

use <em>DBNAME</em>;

After you access a database, you can run SQL queries, list tables, and so on. Additionally:

To view a list of MySQL commands, type <span class="user-input">help</span> at the <span class="UI">mysql&gt;</span> prompt.
To exit the <em>mysql</em> program, type <span class="user-input">\q</span> at the <span class="UI">mysql&gt;</span> prompt.


<h1>How to connect to MySQL using PHP</h1>

This article describes several methods to&nbsp;connect&nbsp;to a MySQL database using PHP:

MySQL Improved (<em>mysqli</em>) PHP extension
PDO (PHP Data Objects)
Legacy MySQL (<em>mysql_</em>) functions
Connect&nbsp;to&nbsp;remote MySQL database using PHP

<div class="tip">The MySQL databases and users must already exist before you can use these methods. For information about how to manage MySQL databases using cPanel, please see <a href="https://www.a2hosting.com/kb/cpanel/cpanel-database-features/managing-mysql-databases">this article</a>.Table of Contents

<a href='#Method-1.3A-Connect-to-MySQL-using-MySQL-Improved'>Method #1: Connect to MySQL using MySQL Improved</a>
<a href='#Method-2.3A-Connectto-MySQL-using-PHP-Data-Objects-PDO'>Method #2: Connect&nbsp;to MySQL using PHP Data Objects (PDO)</a>
<a href='#Method-3.3A-Connectto-MySQL-usinglegacy-PHPfunctions'>Method #3: Connect&nbsp;to MySQL using&nbsp;legacy PHP&nbsp;functions</a>
<a href='#Connecting-to-remote-MySQL-databases-using-PHP'>Connecting to remote MySQL databases using PHP</a>
<a href='#More-Information'>More Information</a>
<a href='#Related-Articles'>Related Articles</a>

<h4 id='Method-1.3A-Connect-to-MySQL-using-MySQL-Improved'>Method #1: Connect to MySQL using MySQL Improved</h4>

The MySQL Improved extension uses the <em>mysqli</em> class, which replaces the set of legacy MySQL functions.


To connect to MySQL using the MySQL Improved extension, follow these steps:

Use the following PHP code to connect to MySQL and select a database. Replace <span style="color:#FF0000;"><em>username</em></span> with your username, <span style="color:#FF0000;"><em>password</em></span> with your password, and <span style="color:#FF0000;"><em>dbname</em></span> with the database name:
&lt;?php&#10;    $mysqli = new <span class="red">mysqli</span>("localhost", "<span style="color:#FF0000;"><em>username</em></span>", "<span style="color:#FF0000;"><em>password</em></span>", "<span style="color:#FF0000;"><em>dbname</em></span>");<span style="display: none;"> </span>&#10;?&gt;&#10;

After the code connects to MySQL and selects the database, you can run SQL queries and perform other operations. For example, the following PHP code runs a SQL query that extracts the last names from the <em>employees</em> table, and stores the result in the <em>$result</em> variable:

&lt;?php&#10;    $result = $mysqli-&gt;query("SELECT lastname FROM employees");&#10;?&gt;&#10;

</ol>
<h4 id='Method-2.3A-Connectto-MySQL-using-PHP-Data-Objects-PDO'>Method #2: Connect&nbsp;to MySQL using PHP Data Objects (PDO)</h4>

The MySQL Improved extension can only be used with MySQL databases. PDO, on the other hand, abstracts database access and enables you to create code that can handle different types of databases.


To connect to MySQL using PDO, follow these steps:

Use the following PHP code to connect to MySQL and select a database. Replace <span style="color:#FF0000;"><em>username</em></span> with your username, <span style="color:#FF0000;"><em>password</em></span> with your password, and <span style="color:#FF0000;"><em>dbname</em></span> with the database name:
&lt;?php&#10;    $myPDO = new PDO('mysql:host=localhost;dbname=<span style="color:#FF0000;"><em>dbname</em></span>', '<span style="color:#FF0000;"><em>username</em></span>', '<span style="color:#FF0000;"><em>password</em></span>');<span style="display: none;">&nbsp;</span>&#10;?&gt;&#10;

After the code connects to MySQL and selects the database, you can run SQL queries and perform other operations. For example, the following PHP code runs a SQL query that extracts the last names from the <em>employees</em> table, and stores the result in the <em>$result</em> variable:

&lt;?php&#10;    $result = $myPDO-&gt;query("SELECT lastname FROM employees");&#10;?&gt;&#10;

</ol>
<h4 id='Method-3.3A-Connectto-MySQL-usinglegacy-PHPfunctions'>Method #3: Connect&nbsp;to MySQL using&nbsp;legacy PHP&nbsp;functions</h4>

<span class="red">The original PHP MySQL functions (whose names begin with <em>mysql_</em>) are deprecated in PHP 5.5, and will eventually be removed from PHP.</span> Therefore, you should only use these functions when absolutely necessary for backward compatibility. If possible, use the MySQL Improved extension or PDO instead.


To connect to MySQL using the legacy PHP MySQL functions, follow these steps:

Use the following PHP code to connect to MySQL and select a database. Replace <span style="color:#FF0000;"><em>username</em></span> with your username, <span style="color:#FF0000;"><em>password</em></span> with your password, and <span style="color:#FF0000;"><em>dbname</em></span> with the database name:
&lt;?php&#10;    mysql_connect('localhost','<span style="color:#FF0000;"><em>username</em></span>','<span style="color:#FF0000;"><em>password</em></span>');&#10;    mysql_select_db("<span style="color:#FF0000;"><em>dbname</em></span>");&#10;?&gt;&#10;

After the code connects to MySQL and selects the database, you can run SQL queries and perform other operations. For example, the following PHP code runs a SQL query that extracts the last names from the <em>employees</em> table, and stores the result in the <em>$result</em> variable:

&lt;?php&#10;    $result = mysql_query('SELECT lastname FROM employees');&#10;?&gt;&#10;

</ol>
<h4 id='Connecting-to-remote-MySQL-databases-using-PHP'>Connecting to remote MySQL databases using PHP</h4>

The previous examples all assume that the PHP script runs on the same server where the MySQL database is located. But what if you want to use PHP to connect to a MySQL database from a remote location? For example, you may want to connect to your A2 Hosting database from a home computer or from another web server.


To do this, you need to do two things:

On the A2 Hosting server, enable the connecting IP address for remote access. For information about how to do this, please see <a href="https://www.a2hosting.com/kb/cpanel/cpanel-database-features/remote-mysql-access">this article</a>.
If you do not add your IP address to the list of permitted remote access hosts, you receive <strong>Access denied </strong>messages when you try to access a MySQL database remotely.

In your PHP code, change the MySQL connection string to use the A2 Hosting server name instead of <em>localhost</em>. For example, the following PHP code uses <em>mysqli</em> to connect to the A2 Hosting server a2ss25.a2hosting.com:
&lt;?php&#10;    $mysqli = new mysqli("a2ss25.a2hosting.com", "<span style="color:#FF0000;"><em>username</em></span>", "<span style="color:#FF0000;"><em>password</em></span>", "<span style="color:#FF0000;"><em>dbname</em></span>");<span style="display: none;"> </span>&#10;?&gt;&#10;


<h1>Python MySQL Connector | How to Connect to MySQL Using Python</h1>

Python provides several ways to connect to a MySQL database and process data. This article describes three methods.

<div class="tip">The MySQL databases and users must already exist before you can use any of the following methods. For information about how to manage MySQL databases using cPanel, please see <a href="https://www.a2hosting.com/kb/cpanel/cpanel-database-features/managing-mysql-databases">this article</a>.

&nbsp;Applications that require Python 3 should use the <a href="/kb/cpanel/cpanel-software-and-services/using-the-python-selector">Python Selector</a>. Please <a href="https://my.a2hosting.com/submitticket.php">contact support</a> if the Python Selector is not available on your server.
Table of Contents

<a href='#Python-MySQL-Connector'>Python MySQL Connector</a>
<a href='#Setting-up-the-Python-virtual-environment-and-installing-a-MySQL-package'>Setting up the Python virtual environment and installing a MySQL package</a>
<a href='#Code-sample'>Code sample</a>


<a href='#More-Information'>More Information</a>
<a href='#Related-Articles'>Related Articles</a>

<h4 id='Python-MySQL-Connector'>Python MySQL Connector</h4>

Before you can access MySQL databases using Python, you must install one (or more) of the following packages in a virtual environment:

<em>MySQL-python</em>: This package contains the <strong>MySQLdb</strong> module, which is written in C. It is one of the most commonly used Python packages for MySQL. 
<em>mysql-connector-python</em>: This package contains the <strong>mysql.connector</strong> module, which is written entirely in Python.
<em>PyMySQL</em>: This package contains the <strong>pymysql</strong> module, which is written entirely in Python. It is designed to be a drop-in replacement for the <em>MySQL-python </em>package<em>.</em>


All three of these packages use <a href="https://www.python.org/dev/peps/pep-0249/">Python's portable SQL database API</a>. This means that if you switch from one module to another, you can reuse almost all of your existing code (the code sample below demonstrates how to do this).

<h5 id='Setting-up-the-Python-virtual-environment-and-installing-a-MySQL-package'>Setting up the Python virtual environment and installing a MySQL package</h5>

To set up the Python virtual environment and install a MySQL package, follow these steps:

Log in to your account <a href="https://www.a2hosting.com/kb/getting-started-guide/accessing-your-account/using-ssh-secure-shell">using SSH</a>.
To create a virtual environment, type the following commands:
cd ~&#10;virtualenv -p /usr/bin/python2.7 sqlenv&#10;

The <em>virtualenv</em> command creates a virtual environment named <em>sqlenv</em>, and subsequent commands in this procedure assume that the environment is named <em>sqlenv</em>. You can use any environment name you want, but make sure you replace all occurrences of <em>sqlenv</em> with your own environment name.
To activate the virtual environment, type the following command:

source sqlenv/bin/activate

The command prompt now starts with <strong>(sqlenv)</strong> to indicate that you are working in a Python virtual environment. All of the following commands in this procedure assume that you are working within the virtual environment. If you log out of your SSH session (or deactivate the virtual environment by using the <strong>deactivate</strong> command), make sure you reactivate the virtual environment before following the steps below and running the sample code.
Type the command for the package you want to install:

To install the <em>MySQL-python</em> package, type the following command:
pip install MySQL-python

To install the <em>mysql-connector-python</em> package, type the following command:

pip install mysql-connector-python

To install the <em>pymysql</em> package, type the following command:

pip install pymysql

</ol>
<h5 id='Code-sample'>Code sample</h5>

After you install a MySQL package in the virtual environment, you are ready to work with actual databases. The following sample Python code demonstrates how to do this, as well as just how easy it is to switch between the different SQL package implementations.


In your own code, replace <span style="color:#FF0000;"><em>USERNAME</em></span> with the MySQL database username, <span style="color:#FF0000;"><em>PASSWORD</em></span> with the database user's password, and <span style="color:#FF0000;"><em>DBNAME</em></span> with the database name:

#!/usr/bin/python&#10;&#10;hostname = 'localhost'&#10;username = '<span style="color:#FF0000;"><em>USERNAME</em></span>'&#10;password = '<span style="color:#FF0000;"><em>PASSWORD</em></span>'&#10;database = '<span style="color:#FF0000;"><em>DBNAME</em></span>'&#10;&#10;# Simple routine to run a query on a database and print the results:&#10;def doQuery( conn ) :&#10;    cur = conn.cursor()&#10;&#10;    cur.execute( "SELECT fname, lname FROM employee" )&#10;&#10;    for firstname, lastname in cur.fetchall() :&#10;        print firstname, lastname&#10;&#10;&#10;print "Using MySQLdb&#8230;"&#10;import MySQLdb&#10;myConnection = MySQLdb.connect( host=hostname, user=username, passwd=password, db=database )&#10;doQuery( myConnection )&#10;myConnection.close()&#10;&#10;print "Using pymysql&#8230;"&#10;import pymysql&#10;myConnection = pymysql.connect( host=hostname, user=username, passwd=password, db=database )&#10;doQuery( myConnection )&#10;myConnection.close()&#10;&#10;print "Using mysql.connector&#8230;"&#10;import mysql.connector&#10;myConnection = mysql.connector.connect( host=hostname, user=username, passwd=password, db=database )&#10;doQuery( myConnection )&#10;myConnection.close()&#10;


This example creates a series of <strong>Connection</strong> objects that opens the same database using different MySQL modules. Because all three MySQL modules use the portable SQL database API interface, they are able to use the code in the <strong>doQuery()</strong> function without any modifications.


When you have a <strong>Connection</strong> object associated with a database, you can create a <strong>Cursor</strong> object. The <strong>Cursor</strong> object enables you to run the <strong>execute()</strong> method, which in turn enables you to run raw SQL statements (in this case, a <em>SELECT</em> query on a table named <em>employee</em>).

As you can see, Python's portable SQL database API makes it very easy to switch between MySQL modules in your code. In the sample above, the only code changes necessary to use a different module are to the <strong>import</strong> and <strong>connect</strong> statements.

<h1>npm MySQL | node.js MySQL Connection Guide</h1>

This article demonstrates how to connect to a MySQL database using Node.js.

<div class="important">
Node.js must already be installed on your account. For information about how to install Node.js, please see <a href="https://www.a2hosting.com/kb/installable-applications/manual-installations/installing-node-js-on-managed-hosting-accounts">this article</a>.
A MySQL database and user must already exist before you can follow the procedures in this article. For information about how to manage MySQL databases using cPanel, please see <a href="https://www.a2hosting.com/kb/cpanel/cpanel-database-features/managing-mysql-databases">this article</a>.

Table of Contents

<a href='#MySQLNode.js-Connection-Via-npm'>MySQL&nbsp;Node.js Connection Via npm</a>
<a href='#Installing-the-node-mysql-package-npm'>Installing the node-mysql package (npm)</a>
<a href='#Code-sample'>Code sample</a>


<a href='#More-Information'>More Information</a>
<a href='#Related-Articles'>Related Articles</a>

<h4 id='MySQLNode.js-Connection-Via-npm'>MySQL&nbsp;Node.js Connection Via npm</h4>

The <em>node-mysql</em> package enables you to easily connect to a MySQL database using Node.js. Before you can do this, however, you must install the <em>node-mysql</em> package on your account.

<h5 id='Installing-the-node-mysql-package-npm'>Installing the node-mysql package (npm)</h5>

To install the <em>node-mysql</em> package on your account, follow these steps:

Log in to your account <a href="https://www.a2hosting.com/kb/getting-started-guide/accessing-your-account/using-ssh-secure-shell">using SSH</a>.
Type the following commands:
cd ~&#10;npm install mysql&#10;

</ol>
<h5 id='Code-sample'>Code sample</h5>

After you install the <em>node-mysql</em> package, you are ready to work with actual databases. The following sample Node.js code demonstrates how to do this.


In your own code, replace&nbsp;<span style="color:#FF0000;"><em>dbname</em></span> with the database name, <span style="color:#FF0000;"><em>username</em></span> with the MySQL database username, and <span style="color:#FF0000;"><em>password</em></span> with the database user's password. Additionally, you should modify the SELECT query to match a table in your own database:

var mysql      = require('mysql');&#10;var connection = mysql.createConnection({&#10;    host     : 'localhost',&#10;    database : '<span style="color:#FF0000;"><em>dbname</em></span>',&#10;    user     : '<span style="color:#FF0000;"><em>username</em></span>',&#10;    password : '<span style="color:#FF0000;"><em>password</em></span>',&#10;});&#10;&#10;connection.connect(function(err) {&#10;    if (err) {&#10;        console.error('Error connecting: ' + err.stack);&#10;        return;&#10;    }&#10;&#10;    console.log('Connected as id ' + connection.threadId);&#10;});&#10;&#10;connection.query('SELECT * FROM employee', function (error, results, fields) {&#10;    if (error)&#10;        throw error;&#10;&#10;    results.forEach(result =&gt; {&#10;        console.log(result);&#10;    });&#10;});&#10;&#10;connection.end();&#10;


This example creates a MySQL connection object that connects to the MySQL database. After the database connection is established, you can use the <strong>query</strong> method to run raw SQL statements (in this case, a <em>SELECT</em> query on a table named <em>employee</em>).
<h4 id='More-Information'>More Information</h4>
For more information about the <em>node-mysql</em> package, please visit <a href="https://github.com/mysqljs/mysql">https://github.com/mysqljs/mysql</a>.


<h1>How to import and export a MySQL database</h1>

This article describes how to import MySQL databases and export MySQL databases. You can import and export databases for a variety of scenarios, including:

Transferring a MySQL database from one web hosting account or provider to another.
Importing a third-party MySQL database.
Backing up a MySQL database.
Table of Contents

<a href='#a-nameprocExportDBaHow-to-exportMySQL-database'>How to export&nbsp;MySQL database</a>
<a href='#MySQL-Export-Database-Method-1.3A-Use-phpMyAdmin'>MySQL Export Database Method #1: Use phpMyAdmin</a>
<a href='#MySQL-Export-Database-Method-2.3A-Use-the-emmysqldump-emprogram'>MySQL Export Database Method #2: Use the mysqldump program</a>


<a href='#a-nameprocCreateDBaCreating-a-new-MySQL-database-and-assigning-a-user'>Creating a new MySQL database and assigning a user</a>
<a href='#How-To-Import-MySQL-database'>How To Import MySQL database</a>
<a href='#MySQL-Import-Database-Method-1.3A-Use-phpMyAdmin'>MySQL Import Database Method #1: Use phpMyAdmin</a>
<a href='#MySQL-Import-DatabaseMethod-2.3A-Use-the-emmysqlem-program'>MySQL Import Database&nbsp;Method #2: Use the mysql program</a>
<a href='#Troubleshooting-the-MySQL-database-import'>Troubleshooting the MySQL database import</a>


<a href='#More-Information'>More Information</a>
<a href='#Related-Articles'>Related Articles</a>

<h4 id='a-nameprocExportDBaHow-to-exportMySQL-database'><a name="procExportDB"></a>How to export&nbsp;MySQL database</h4>

You can export a MySQL database to a file by using phpMyAdmin or the <strong><em>mysqldump</em></strong>&nbsp;database command line program.

<h5 id='MySQL-Export-Database-Method-1.3A-Use-phpMyAdmin'>MySQL Export Database Method #1: Use phpMyAdmin</h5>

You can export a MySQL database using the phpMyAdmin web interface. To do this, follow these steps:

Log in to cPanel.If you do not know how to log in to your cPanel account, please see <a href="/kb/cpanel/getting-started-with-cpanel/accessing-cpanel">this article</a>.
In the <span class="UI">DATABASES</span> section of the cPanel home screen, click <span class="UI">phpMyAdmin</span>:

<img alt="cPanel - Databases - phyMyAdmin icon" src="https://www.a2hosting.com/images/uploads/knowledgebase_images/kb-cpanel-78-databases-phpmyadmin-icon.png" style="width: 173px; height: 58px;" />


 The phpMyAdmin administration page appears in a new window.

In the left pane of the phpMyAdmin page, click the database that you want to export.Click the <span class="UI">Export</span> tab.
Under <span class="UI">Export method</span>, confirm that <span class="radio">Quick</span> is selected.


If you are using an older version of phpMyAdmin that does not have the <span class="radio">Quick</span> option, follow these steps instead:

In the <span class="UI">Export</span> section, click <span class="UI">Select All</span>.
Select the <span class="checkbox">Save as file</span> checkbox, and then click <span class="button">Go</span>. The export process runs.
Under <span class="UI">Format</span>, confirm that <span class="UI">SQL</span> is selected.Click <span class="button">Go</span>.In the <span class="UI">Save File</span> dialog box, type the filename and select the directory where you want to save the exported database on your local computer.Click <span class="button">Save</span>. The export process runs.
</ol>
<h5 id='MySQL-Export-Database-Method-2.3A-Use-the-emmysqldump-emprogram'>MySQL Export Database Method #2: Use the <em>mysqldump </em>program</h5>

You can export a MySQL database from the command line using the <strong><em>mysqldump</em>&nbsp;</strong>database program. To do this, follow these steps:

Access the command line on the computer where the database is stored. For example, if the database is on another web hosting account or with another web hosting provider, log in to the account using SSH. If you have physical access to the computer, you can open a DOS or terminal window to access the command line.
Type the following command, and then press Enter. Replace <span style="color:#FF0000;"><em>username</em></span> with your username, and <span style="color:#FF0000;"><em>dbname</em></span> with the name of the database that you want to export:
<span class="mediumtext">mysqldump -u <span style="color:#FF0000;"><em>username</em></span> -p <span style="color:#FF0000;"><em>dbname</em></span> &gt; dbexport.sql</span>&#10;

This example uses the <em>dbexport.sql</em> filename for the exported database, but you can name the file whatever you want.Type your password at the <span class="UI">Enter password</span> prompt.The <em>dbexport.sql</em> file now contains all of the data for the <span style="color:#FF0000;"><em>dbname</em></span> database. If the <em>dbexport.sql</em> file is on a remote computer, download the file to your local computer.
</ol>
<h4 id='a-nameprocCreateDBaCreating-a-new-MySQL-database-and-assigning-a-user'><a name="procCreateDB"></a>Creating a new MySQL database and assigning a user</h4>

Before you can import the database, you must create a new database in cPanel and assign a user to it. To do this, follow these steps:

Log in to cPanel.If you do not know how to log in to your cPanel account, please see <a href="/kb/cpanel/getting-started-with-cpanel/accessing-cpanel">this article</a>.
In the <span class="UI">DATABASES</span> section of the cPanel home screen, click <span class="UI">MySQL&reg; Databases</span>:

<img alt="cPanel - MySQL Databases icon" src="https://www.a2hosting.com/images/uploads/knowledgebase_images/kb-cpanel-78-databases-mysql-databases-icon.png" style="width: 213px; height: 65px;" />

Under <span class="UI">Create New Database</span>, in the <span class="textbox">New Database</span> text box, type the name of the database.Click <span class="button">Create Database</span>. cPanel creates the database.When the database is created, click <span class="button">Go Back</span>.Under <span class="UI">Add User to Database</span>, in the <span class="UI">User</span> list box, select the user that you want to add.In the <span class="UI">Database</span> list box, select the new database.Click <span class="button">Add</span>.Select the check boxes to grant the user specific privileges, or select the <span class="checkbox">ALL PRIVILEGES</span> check box to grant the user all permissions to the database.Click <span class="button">Make Changes</span>. cPanel adds the user to the database.
</ol>
<h4 id='How-To-Import-MySQL-database'>How To Import MySQL database</h4>

After you have created a new database in cPanel, you can import the database's contents by using phpMyAdmin or the <em>mysql</em> command line program.

<div class="important">If the exported database file contains any <strong>CREATE DATABASE</strong> statements, you must remove them or comment them out. Otherwise, the import process will fail.
<h5 id='MySQL-Import-Database-Method-1.3A-Use-phpMyAdmin'>MySQL Import Database Method #1: Use phpMyAdmin</h5>

You can import a MySQL database using the phpMyAdmin web interface. To do this, follow these steps:

Log in to cPanel.If you do not know how to log in to your cPanel account, please see <a href="/kb/cpanel/getting-started-with-cpanel/accessing-cpanel">this article</a>.
In the <span class="UI">DATABASES</span> section of the cPanel home screen, click <span class="UI">phpMyAdmin</span>:

<img alt="cPanel - Databases - phyMyAdmin icon" src="https://www.a2hosting.com/images/uploads/knowledgebase_images/kb-cpanel-78-databases-phpmyadmin-icon.png" style="width: 173px; height: 58px;" />


 The phpMyAdmin administration page appears in a new window.

In the left pane of the phpMyAdmin page, click the database that you want to import the data into.Click the <span class="UI">Import</span> tab.Under <span class="UI">File to Import</span>, click <span class="button">Browse</span>, and then select the <em>dbexport.sql</em> file on your local computer.Click <span class="button">Go</span>. The import process runs.The database should now contain the data that is in the <em>dbexport.sql</em> file.
</ol>
<h5 id='MySQL-Import-DatabaseMethod-2.3A-Use-the-emmysqlem-program'>MySQL Import Database&nbsp;Method #2: Use the <em>mysql</em> program</h5>

You can import a MySQL database from the command line using the <em>mysql</em> program. To do this, follow these steps:

<span class="mediumtext">Transfer the <em>dbexport.sql</em> file to your A2 Hosting account</span> using SCP, SFTP, or FTP.
Log in to your A2 Hosting account <a href="https://www.a2hosting.com/kb/getting-started-guide/accessing-your-account/using-ssh-secure-shell">using SSH</a>.
Change to the directory where you uploaded the <em>dbexport.sql</em> file. For example, if you uploaded the <em>dbexport.sql</em> file to your home directory, type <span class="user-input">cd ~</span>.
Type the following command, and then press Enter. Replace <span style="color:#FF0000;"><em>username</em></span> with your username and <span style="color:#FF0000;"><em>dbname</em></span> with the name of the database that you want to import the data into:
<span class="mediumtext">mysql -u <span style="color:#FF0000;"><em>username</em></span> -p <em><span style="color:#FF0000;">dbname</span></em> &lt; dbexport.sql</span>&#10;
The <span style="color:#FF0000;"><em>dbname</em></span> database should now contain the data that is in the <em>dbexport.sql</em> file.
</ol>
<h5 id='Troubleshooting-the-MySQL-database-import'>Troubleshooting the MySQL database import</h5>

You may receive one of the following error messages when you try to import a MySQL database using either cPanel or the <em>mysql</em> program:

<strong>ERROR 1044: Access denied for user '<em>username1</em>'@'<em>localhost</em>' to database '<em>username2_database</em>'</strong>

This error message occurs when the import file contains an SQL statement that attempts to access a database for the wrong username. Note in this example that <em>username2</em> in <em>username2_database</em> does not match <em>username1</em> in '<em>username1</em>'@'<em>localhost</em>'. You must edit the import file and change <em>username2</em> to your new <em>username1</em>.
<strong>ERROR 1049: Unknown database '<em>username_database</em>'</strong>

This error message occurs when the target database does not exist. Make sure you <a href="#procCreateDB">create the database</a> first as described above, and then try to it import again.
<strong>ERROR 1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '<em>username_database</em>' at line <em>x</em>.</strong>

This error message occurs when the import file does not contain backup data for a database or there is a MySQL syntax error in the file. Alternatively, the import file may be altered, corrupt, or in an unsupported format. (Import files must contain SQL statements; other file formats such as CSV do not work with the <em>mysql</em> program.) Try <a href="#procExportDB">exporting the database</a> again, and then try to import it.
<h4 id='More-Information'>More Information</h4>For more information about the <em>mysqldump</em>&nbsp;database command line program, please visit <a href="https://dev.mysql.com/doc/refman/5.1/en/mysqldump.html">http://dev.mysql.com/doc/refman/5.1/en/mysqldump.html</a>.
For more information about the <em>mysql</em> command line program, please visit <a href="https://dev.mysql.com/doc/refman/5.1/en/mysql.html">http://dev.mysql.com/doc/refman/5.1/en/mysql.html</a>.
For more information about phpMyAdmin, please visit <a href="https://www.phpmyadmin.net">http://www.phpmyadmin.net</a>.


<h1>How to set up a remote MySQL connection</h1>

This article describes how to use a local computer to connect to your MySQL databases stored remotely on A2 Hosting servers.
Table of Contents

<a href='#Choose-a-remote-MySQL-connection-method'>Choose a remote MySQL connection method</a>
<a href='#Method-1.3A-Set-up-an-SSH-tunnel'>Method #1: Set up an SSH tunnel</a>
<a href='#Microsoft-Windows'>Microsoft Windows</a>
<a href='#Mac-OS-X-and-Linux'>Mac OS X and Linux</a>


<a href='#Method-2.3A-Set-up-a-direct-connection'>Method #2: Set up a direct connection</a>
<a href='#Example-ODBC-connection'>Example ODBC connection</a>
<a href='#Troubleshooting'>Troubleshooting</a>
<a href='#More-Information'>More Information</a>
<a href='#Related-Articles'>Related Articles</a>

<h4 id='Choose-a-remote-MySQL-connection-method'>Choose a remote MySQL connection method</h4>

You can use either of the following methods to access your MySQL databases remotely:

<strong>SSH tunnel:</strong> This is the more secure method. You set up an SSH tunnel that forwards a port on your local computer to the remote MySQL server. The MySQL traffic is encrypted by the SSH tunnel. 
<strong>Direct connection:</strong> You can set up a direct connection between your local computer and the remote MySQL server. Although it is easier to configure, it is not as secure. 


After you have set up a remote MySQL connection, you can use a MySQL client application to manage your databases. For more information, please see <a href="https://www.a2hosting.com/kb/developer-corner/mysql/mysql-client-applications">this article</a>.

<h4 id='Method-1.3A-Set-up-an-SSH-tunnel'>Method #1: Set up an SSH tunnel</h4>

The procedure you follow to set up an SSH tunnel between your local computer and the A2 Hosting server depends on the local computer's operating system.

<h5 id='Microsoft-Windows'>Microsoft Windows</h5>

In order to use an SSH tunnel on a computer running Microsoft Windows, you need an SSH client program. A2 Hosting recommends using PuTTY, which you can <a href="http://the.earth.li/~sgtatham/putty/latest/x86/putty.exe">download here</a>. After you have downloaded the PuTTY executable to your local computer, you can set up an SSH tunnel.


To set up an SSH tunnel on a computer running Microsoft Windows:

Start PuTTY.
In the <span class="UI">Category</span> pane, expand <span class="UI">Connection</span>, expand <span class="UI">SSH</span>, and then click <span class="UI">Tunnels</span>.
In the <span class="textbox">Source port</span> text box of the <span class="UI">Port Forwarding</span> section, type <span class="user-input">3306</span>.&nbsp; This is the local port to forward.In the <span class="textbox">Destination</span> text box, type <span class="user-input">localhost:3306</span>.
Confirm that the <span class="radio">Local</span> and <span class="radio">Auto</span> radio buttons are selected.
Click <span class="button">Add</span>:

<img alt="Putty configuration window for tunnel." src="https://www.a2hosting.com/images/uploads/knowledgebase_images/kb-mysql-remote-tunnel-settings.png" style="width: 450px; height: 441px;" />

In the <span class="UI">Category</span> pane, click <span class="UI">Session</span>.In the <span class="textbox">Host Name (or IP address)</span> text box, type your web site's domain name or IP address.In the <span class="textbox">Port</span> text box, type <span class="user-input">7822</span>.Confirm that the <span class="radio">Connection type</span> radio button is set to <span class="UI">SSH</span>.
Click <span class="button">Open</span>:


<img alt="Putty configuration panel for session." src="https://www.a2hosting.com/images/uploads/knowledgebase_images/kb-mysql-remote-session-settings.png" style="width: 452px; height: 442px;" />

If a PuTTY security alert about the server's host key appears, click <span class="button">Yes</span>.When the <span class="UI">login as</span> prompt appears, type your A2 Hosting username, and then type your password.
When the remote server's command line prompt appears, the SSH tunnel is established and you can use your MySQL client applications on the local computer.

<div class="tip">
To verify that PuTTY is forwarding ports correctly, you can click the icon in the top-left corner of the PuTTY session window, and then click <span class="UI">Event Log</span>. If port forwarding is working correctly, you see a line similar to:


<strong>Local port 3306 forwarding to localhost:3306</strong>


</ol>
<h5 id='Mac-OS-X-and-Linux'>Mac OS X and Linux</h5>

To establish an SSH tunnel on a computer running Mac OS X or Linux:

Open a terminal window and type the following command at the command line. Replace <span style="color:#FF0000;"><em>username</em></span> with your A2 Hosting username, and replace <span style="color:#FF0000;"><em>example.com</em></span> with your site's domain name:
ssh -p 7822 <span style="color:#FF0000;">username</span>@<span style="color:#FF0000;">example.com</span> -L 3306:localhost:3306
Type your password, and then press Enter. When the remote server's command line prompt appears, the SSH tunnel is established and you can use your MySQL client applications on the local computer.
</ol>
<h4 id='Method-2.3A-Set-up-a-direct-connection'>Method #2: Set up a direct connection</h4>

To set up a direct connection between your local computer and the MySQL server, you must enable remote MySQL access in cPanel. For information about how to do this, please see <a href="https://www.a2hosting.com/kb/cpanel/cpanel-database-features/remote-mysql-access">this article</a>.

<h4 id='Example-ODBC-connection'>Example ODBC connection</h4>

The following procedure demonstrates how to configure a remote ODBC connection:

Launch the ODBC Data Source Administrator.
Click <span class="button">Add</span> to add a new data source.
In the <span class="UI">Create New Data Source</span> dialog box, click the MySQL ODBC driver.
Click <span class="button">Finish</span> to start the MySQL Connector/ODBC Data Source Configuration.
On the <span class="UI">MySQL Connector/ODBC Data Source Configuration</span> dialog box, in the <span class="textbox">Data Source Name</span> text box, type a descriptive name for the data source.
Confirm that <span class="radio">TCP/IP Server</span> is selected.
Do one of the following:
If you are using an SSH tunnel, in the <span class="textbox">TCP/IP Server</span> text box, type <span class="user-input">localhost</span>.
If you are using a direct connection, in the <span class="textbox">TCP/IP Server</span> text box, type the domain or IP address of the remote server.
In the <span class="textbox">Port</span> text box, type <span class="user-input">3306</span>.In the <span class="textbox">User</span> text box, type a database username that can connect to the remote database.In the <span class="textbox">Password</span> text box, type the password for the username.
To test the connection, click <span class="button">Test</span>:


<img alt="Dialog box for MySQL Connector/ODBC Data Source Configuration" src="https://www.a2hosting.com/images/uploads/knowledgebase_images/kb-mysql-remote-odbc-settings.png" style="width: 421px; height: 413px;" />

Optionally, you can use the <span class="UI">Database</span> list box to select an initial database for the connection.To complete the configuration, click <span class="button">OK</span>.
</ol>
<h4 id='Troubleshooting'>Troubleshooting</h4>

If you are doing development work on the local computer, a local copy of MySQL may already be running on port 3306. In this case, the following connection error appears:


<img alt="Error message with local port conflict." src="https://www.a2hosting.com/images/uploads/knowledgebase_images/kb-mysql-remote-fail-with-local-mysql.png" style="width: 482px; height: 178px;" />


To work around this issue, create a tunnel with an alternate local port, and then connect to the remote MySQL server on that port.

If you use Putty to create the tunnel, use an alternate <span class="textbox">Source port</span> on the <span class="UI">Tunnels</span> configuration page. In this example, port <span class="user-input">3307</span> is being used:

<img alt="Putty tunnel configuration with alternate port." src="https://www.a2hosting.com/images/uploads/knowledgebase_images/kb-mysql-remote-tunnel-3307.png" style="width: 452px; height: 442px;" />


The session configuration does not change.


For Mac OS X or Linux, use the following SSH command to create the tunnel with a local port of 3307. Replace <span style="color:#FF0000;"><em>username</em></span> with your A2 Hosting username, and replace <span style="color:#FF0000;"><em>example.com</em></span> with your site's domain name:

ssh -p 7822 <span style="color:#FF0000;">username</span>@<span style="color:#FF0000;">example.com</span> -L 3307:localhost:3306

Create the ODBC connection as previously described, but type <span class="user-input">3307</span> in the <span class="textbox">Port</span> text box (instead of <span class="user-input">3306</span>).


<img alt="Dialog box for MySQL Connector/ODBC Data Source Configuration with alternate port." src="https://www.a2hosting.com/images/uploads/knowledgebase_images/kb-mysql-remote-odbc-3307.png" style="width: 421px; height: 413px;" />

You should now be able to connect.
</ol><h4 id='More-Information'>More Information</h4>
To view the online documentation for PuTTY, please visit <a href="http://the.earth.li/~sgtatham/putty/0.60/htmldoc/index.html">http://the.earth.li/~sgtatham/putty/0.60/htmldoc/index.html</a>.


<h1>Using MySQL client applications</h1>

This article describes how to use MySQL client applications to access and manage your MySQL databases.
Table of Contents

<a href='#MySQL-client-applications'>MySQL client applications</a>
<a href='#MySQL-Workbench'>MySQL Workbench</a>
<a href='#More-Information'>More Information</a>
<a href='#Related-Articles'>Related Articles</a>

<h4 id='MySQL-client-applications'>MySQL client applications</h4>

MySQL provides GUI (graphical user interface) client applications that you can use for database management:

<strong>MySQL Workbench</strong>: This integrated tools environment enables you to manage databases, run queries, and much more. It replaces the older MySQL GUI Tools application bundle, which is no longer actively developed.


MySQL Workbench is free to download and use. There are versions for Microsoft Windows, Mac OS X, Linux, and other operating systems.

<h4 id='MySQL-Workbench'>MySQL Workbench</h4>

MySQL Workbench enables you to quickly connect to your MySQL databases. To do this, follow these steps:

Start MySQL Workbench.
From the workspace page, click the <span class="UI">+</span> icon next to <span class="UI">MySQL Connections</span>. The <span class="UI">Setup New Connection</span> dialog appears.
In the <span class="textbox">Connection Name</span> text box, type a name for the connection.
In the <span class="UI">Connection Method</span> list box, select <span class="UI">Standard (TCP/IP)</span>.
On the <span class="UI">Parameters</span> tab, in the<span class="textbox"> Hostname</span> text box, type <span class="user-input"><em>example.com</em></span>, where <em>example.com</em> represents your domain name.
Confirm that the <span class="textbox">Port</span> text box is set to <strong>3306</strong>.
In the <span class="textbox">Username</span> text box, type one of the following usernames:
<strong>Your A2 Hosting (cPanel) account username:</strong> With this username, you can access all of the MySQL databases on your hosting account.
<strong>A MySQL database username you created in cPanel:</strong> With this username, you can access all of the MySQL databases for which the specified user has been granted privileges.
In the <span class="textbox">Default Schema</span> text box, type the name of the MySQL database that you want to access. Alternatively, you can leave this text box blank to select the database later.
Click <span class="button">Test Connection</span>, and then in the <span class="textbox">Password</span> text box, type the password for the username you specified in step 7.

<div class="tip">To have MySQL Workbench remember your password, select the <span class="checkbox">Save password in keychain</span> check box.
Click <span class="button">OK</span>.

If you receive a connection warning about incompatible or nonstandard server versions, click <span class="button">Continue Anyway</span>.If the connection is successful, you receive a <span class="UI">Successfully made the MySQL connection</span> message. If you do not receive this message, check the values you specified in steps 4 to 9, and then try again.Click <span class="button">OK</span>. MySQL Workbench saves the new connection on the workspace page.To open the connection, click it on the workspace page. You can now run queries, create tables, and more.
</ol>

&nbsp;


&nbsp;
<h4 id='More-Information'>More Information</h4>
To download MySQL Workbench and view the online documentation, please visit <a href="https://dev.mysql.com/downloads/tools/workbench">http://dev.mysql.com/downloads/tools/workbench</a>.


<h1>How to Create & Manage MySQL Databases, Tables & Users</h1>

This article describes how to do common MySQL database administration tasks from the command line using the <em>mysql</em> program.

<div class="important">This article only applies to the products listed in the <strong>Article Details</strong> sidebar. If your account includes cPanel, you should use it instead to manage MySQL databases and users. For information about how to do this, please see <a href="https://www.a2hosting.com/kb/cpanel/cpanel-database-features/managing-mysql-databases">this article</a>.Table of Contents

<a href='#Create-MySQLDatabasesand-Users'>Create MySQL&nbsp;Databases&nbsp;and Users</a>
<a href='#Using-SQL-script-files'>Using SQL script files</a>


<a href='#DeleteMySQL-Tables-and-Databases'>Delete&nbsp;MySQL Tables and Databases</a>
<a href='#Delete-MySQLUsers'>Delete MySQL&nbsp;Users</a>
<a href='#More-Information'>More Information</a>
<a href='#Related-Articles'>Related Articles</a>

<h4 id='Create-MySQLDatabasesand-Users'>Create MySQL&nbsp;Databases&nbsp;and Users</h4>

To create MySQL database and users, follow these steps:

At the command line, log in to MySQL as the root user:
mysql -u root -p
Type the MySQL root password, and then press Enter.
To create a database user, type the following command. Replace <span style="color:#ff0000;"><em>username</em></span> with the user you want to create, and replace <span style="color:#ff0000;"><em>password</em></span> with the user's password:

<span class="red">GRANT ALL PRIVILEGES ON *.* TO 'username'@'localhost' IDENTIFIED BY 'password';</span>


This command grants the user all permissions. However, you can grant specific permissions to maintain precise control over database access. For example, to explicitly grant the <strong>SELECT</strong> permission, you would use the following command:

GRANT SELECT ON *.* TO 'username'@'localhost';


 For more information about setting MySQL database permissions, please visit <a href="https://dev.mysql.com/doc/refman/5.5/en/grant.html">https://dev.mysql.com/doc/refman/5.5/en/grant.html</a>.

Type <span class="user-input">\q</span> to exit the <em>mysql</em> program.
To log in to MySQL as the user you just created, type the following command. Replace <span style="color:#ff0000;"><em>username</em></span> with the name of the user you created in step 3:

mysql -u username -p
Type the user's password, and then press Enter.
To create a database, type the following command. Replace <span style="color:#ff0000;"><em>dbname</em></span> with the name of the database that you want to create:

CREATE DATABASE dbname;

To work with the new database, type the following command. Replace <span style="color:#ff0000;"><em>dbname</em></span> with the name of the database you created in step 7:

USE dbname;

You can now work with the database. For example, the following commands demonstrate how to create a basic table named <em>example</em>, and how to insert some data into it:

CREATE TABLE example ( id smallint unsigned not null auto_increment, name varchar(20) not null, constraint pk_example primary key (id) );&#10;INSERT INTO example ( id, name ) VALUES ( null, 'Sample data' );&#10;

</ol>
<h5 id='Using-SQL-script-files'>Using SQL script files</h5>

The previous procedure demonstrates how to create and populate a MySQL database by typing each command interactively with the <em>mysql</em> program. However, you can streamline the process by combining commands into a SQL script file.


The following procedure demonstrates how to use a SQL script file to create and populate a database:

As in the previous procedure, you should first create a user for the database. To do this, type the following commands:
mysql -u root -p&#10;GRANT ALL PRIVILEGES ON *.* TO 'username'@'localhost' IDENTIFIED BY 'password';&#10;\q&#10;

Create a file named <em>example.sql</em> and open it in your preferred text edtior. Copy and paste the following text into the file:

CREATE DATABASE <span style="color:#ff0000;"><em>dbname</em></span>;&#10;USE <span style="color:#ff0000;"><em>dbname</em></span>;&#10;CREATE TABLE <span style="color:#ff0000;"><em>tablename</em></span> ( id smallint unsigned not null auto_increment, name varchar(20) not null, constraint pk_example primary key (id) );&#10;INSERT INTO <span style="color:#ff0000;"><em>tablename</em></span> ( id, name ) VALUES ( null, 'Sample data' );

Replace <span style="color:#ff0000;"><em>dbname</em></span> with the name of the database that you want to create, and <span style="color:#ff0000;"><em>tablename</em></span> with the name of the table that you want to create.

You can modify the sample script file to create multiple databases and tables all at once. Additionally, the sample script creates a very simple table. You will likely have additional data requirements for your tables.Save the changes to the <em>example.sql</em> file and exit the text editor.
To process the SQL script, type the following command. Replace <span style="color:#ff0000;"><em>username</em></span> with the name of the user you created in step 1:

<span class="red">mysql -u username -p &lt; example.sql</span>


 The <em>mysql</em> program processes the script file statement by statement. When it finishes, the database and table are created, and the table contains the data you specified in the <strong>INSERT</strong> statements.


</ol>
<h4 id='DeleteMySQL-Tables-and-Databases'>Delete&nbsp;MySQL Tables and Databases</h4>

To delete a table, type the following command from the <strong>mysql&gt;</strong> prompt. Replace <span style="color:#ff0000;"><em>tablename</em></span> with the name of the table that you want to delete:

<span class="red">DROP TABLE tablename;</span>

This command assumes that you have already selected a database by using the <strong>USE</strong> statement.

Similarly, to delete an entire database, type the following command from the <strong>mysql&gt;</strong> prompt. Replace <span style="color:#ff0000;"><em>dbname</em></span> with the name of the database that you want to delete:

<span class="red">DROP DATABASE dbname;</span>

<div class="warning">The <em>mysql</em> program does not ask for confirmation when you use this command. As soon as you press Enter, MySQL deletes the database and all of the data it contains.
<h4 id='Delete-MySQLUsers'>Delete MySQL&nbsp;Users</h4>

To view a list of all users, type the following command from the <strong>mysql&gt;</strong> prompt:

<span class="red">SELECT user FROM mysql.user GROUP BY user;</span>


To delete a specific user, type the following command from the <strong>mysql&gt;</strong> prompt. Replace <span style="color:#ff0000;"><em>username</em></span> with the name of the user that you want to delete:

<span class="red">DELETE FROM mysql.user WHERE user = 'username';</span>
<h4 id='More-Information'>More Information</h4>
To view the official MySQL documentation, please visit <a href="https://dev.mysql.com/doc/refman/5.5/en/index.html">https://dev.mysql.com/doc/refman/5.5/en/index.html</a>.


 

<h4 id='Related-Articles'>Related Articles</h4><ul class='related-articles'>
<a href="/kb/developer-corner/mysql/connect-to-mysql-from-the-command-line">Connecting to MySQL from the command line</a>
Learn how to connect to MySQL from the command line using the mysql program with this guide including detailed instructions, code snippets and links to related articles.

<a href="/kb/developer-corner/mysql/reset-mysql-root-password">Reset MySQL root password</a>
You can reset your MySQL root password if you have forgotten it. This article shows you how to change it. Note that you must have root access to your server to accomplish this.

<h1>Change User's MySQL Password | Reset MySQL Root Password Guide</h1>

This article describes how to reset MySQL's&nbsp;root password&nbsp;in the event you have forgotten it.

You must have root access on the server to reset&nbsp;MySQL's root password.Table of Contents

<a href='#Rest-MySQL-Root-Password'>Rest MySQL Root Password</a>
<a href='#Related-Articles'>Related Articles</a>

<h4 id='Rest-MySQL-Root-Password'>Rest MySQL Root Password</h4>

To reset the root password for MySQL, follow these steps:

Log in to your account using SSH.
You must run the commands in the following steps as the root user. Therefore, you can either log in directly as the root user (which is not recommended for security reasons), or use the su or sudo commands to run the commands as the root user.

Stop the MySQL server using the appropriate command for your Linux distribution:
For CentOS and Fedora, type:
service mysqld stop

For Debian and Ubuntu, type:

service mysql stop

Restart the MySQL server with the <strong>&#8212;skip-grant-tables</strong> option. To do this, type the following command:

<span class="red">mysqld_safe --skip-grant-tables &amp;</span>

<div class="important">Make sure you type the ampersand (&amp;) at the end of the command. This runs the command in the background and allows you to type the commands in the following steps.
Running MySQL with the <strong>&#8212;skip-grant-tables</strong> option enabled is highly insecure, and should only be done for a brief period while you reset the password. The steps below show you how to stop the mysqld_safe server instance safely and start the MySQL server securely after you have reset the root password.

Log into MySQL using the following command:

mysql

At the <strong>mysql&gt;</strong> prompt, reset the password. To do this, type the following command, replacing <em>NEW-PASSWORD</em> with the new root password:

<span class="red">UPDATE mysql.user SET Password=PASSWORD('NEW-PASSWORD') WHERE User='root';</span>

At the <strong>mysql&gt;</strong> prompt, type the following commands:

<span class="red">FLUSH PRIVILEGES;&#10;exit;&#10;</span>

Stop the MySQL server using the following command. You will be prompted to enter the new MySQL root password before the MySQL server shuts down:

<span class="red">mysqladmin -u root -p shutdown</span>

Start the MySQL server normally. To do this, type the appropriate command for your Linux distribution:

For CentOS and Fedora, type:
service mysqld start

For Debian and Ubuntu, type:

service mysql start

</ol><h4 id='Related-Articles'>Related Articles</h4><ul class='related-articles'>
<a href="/kb/developer-corner/mysql/connect-to-mysql-from-the-command-line">Connecting to MySQL from the command line</a>
Learn how to connect to MySQL from the command line using the mysql program with this guide including detailed instructions, code snippets and links to related articles.

<h1>MySQL Stored Procedure & MySQL Functions Guide</h1>

This article describes how to set up and use MySQL&nbsp;functions and MySQL stored&nbsp;procedure&nbsp;on your A2 Hosting account. You can use stored functions and procedures for a wide range of scenarios. For example, well-designed stored functions and procedures can enhance database security, improve data integrity, and increase performance.
Table of Contents

<a href='#MySQL-Functions'>MySQL Functions</a>
<a href='#Setting-up-a-test-database'>Setting up a test database</a>
<a href='#Creating-the-stored-function'>Creating the stored function</a>
<a href='#Using-the-stored-function'>Using the stored function</a>


<a href='#MySQL-Stored-Procedure'>MySQL Stored Procedure</a>
<a href='#More-Information'>More Information</a>
<a href='#Related-Articles'>Related Articles</a>

<h4 id='MySQL-Functions'>MySQL Functions</h4>
MySQL stored functions provide a powerful and flexible way to manipulate and process data.

You can run the previous SQL command (and the following SQL commands) from the command line <a href="https://www.a2hosting.com/kb/developer-corner/mysql/connect-to-mysql-from-the-command-line">using the MySQL tool</a>, or in your web browser <a href="https://www.a2hosting.com/kb/cpanel/cpanel-database-features/phpmyadmin-and-phppgadmin">using phpMyAdmin</a>.

<h5 id='Creating-the-stored-function'>Creating the stored function</h5>
We have a database and a table to work with, we are ready to create a stored function. 
Let's create a function named <strong>calcProfit</strong>. 
This function takes two input parameters: the cost and the price of something. It calculates the profit by subtracting the cost from the price, and then returns the value to the calling expression.


To create this stored function, run the following MySQL statements:

DELIMITER $$&#10;CREATE FUNCTION calcProfit(cost FLOAT, price FLOAT) RETURNS DECIMAL(9,2)&#10;BEGIN&#10;  DECLARE profit DECIMAL(9,2);&#10;  SET profit = price-cost;&#10;  RETURN profit;&#10;END$$&#10;DELIMITER ;

The <strong>DELIMITER</strong> command at the beginning of these statements prevents MySQL from processing the function definition too soon. The <strong>DELIMITER</strong> command at the end of these statements returns processing to normal.
<h5 id='Using-the-stored-function'>Using the stored function</h5>

You can now use the stored function in a database query. The following SQL statement demonstrates how to do this:

SELECT *, calcProfit(prod_cost,prod_price) AS profit FROM products;


This SQL statement returns the following results:

+---------+--------------+-----------+------------+--------+&#10;| prod_id | prod_name&nbsp;&nbsp;&nbsp; | prod_cost | prod_price | profit |&#10;+---------+--------------+-----------+------------+--------+&#10;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 | Basic Widget |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5.95 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8.35 |&nbsp;&nbsp; 2.40 |&#10;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 | Micro Widget |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.95 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.35 |&nbsp;&nbsp; 0.40 |&#10;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 | Mega Widget&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; 99.95 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 140 |&nbsp; 40.05 |&#10;+---------+--------------+-----------+------------+--------+&#10;


As you can see, the <strong>calcProfit</strong> function automatically calculates the profit (price minus the cost) for each product in the table.

<h4 id='MySQL-Stored-Procedure'>MySQL Stored Procedure</h4>

Stored procedures are sometimes confused with stored functions, but they are different in some important ways. Stored procedures, for example, must be invoked with the <strong>CALL</strong> statement, whereas stored functions can be used directly in SQL expressions. You can define and run stored procedures on any A2 Hosting server that uses MySQL.


The following MySQL statements demonstrate how to create a very basic stored procedure named <strong>procedureTest</strong>. This procedure performs a simple lookup on the <strong>products</strong> table that we used in the stored function example above. Although this procedure does not have much practical use, it demonstrates the correct syntax and structure for declaring a stored procedure:

DELIMITER $$&#10;CREATE PROCEDURE procedureTest()&#10;BEGIN&#10;  SELECT prod_name FROM products;&#10;END$$&#10;DELIMITER ;&#10;


To invoke the stored procedure, use the following MySQL statement:

<span class="red">CALL procedureTest() \G</span>

If you are using phpMyAdmin, type the previous MySQL statement without the <strong>\G</strong> option at the end.<h4 id='More-Information'>More Information</h4>
For more information about stored procedures and functions in MySQL, please visit <a href="https://dev.mysql.com/doc/refman/5.0/en/create-procedure.html">http://dev.mysql.com/doc/refman/5.0/en/create-procedure.html</a>.


<h1>How to create and use MySQL views</h1>

This article describes how to create and use MySQL views on your A2 Hosting account. Views do not actually store any data. Instead, they store predefined queries that return a result set. Because MySQL views look and function like regular tables, they are sometimes called <em>virtual tables</em>.


Views offer a number of advantages. You can use views to hide table columns from users by granting them access to the view and not to the table itself. This helps enhance database security and integrity. Views can also help you construct simplified, abstracted interfaces to complex databases.
Table of Contents

<a href='#Creating-and-using-views'>Creating and using views</a>
<a href='#Setting-up-a-test-database'>Setting up a test database</a>
<a href='#Creating-the-view'>Creating the view</a>
<a href='#Using-the-view'>Using the view</a>


<a href='#More-Information'>More Information</a>
<a href='#Related-Articles'>Related Articles</a>

<h4 id='Creating-and-using-views'>Creating and using views</h4>

You can create and use views on any A2 Hosting server that uses MySQL.

<h5 id='Setting-up-a-test-database'>Setting up a test database</h5>

To demonstrate a basic example using views, let's start by creating a database for testing purposes. In the following SQL statement, replace <em>username</em> with your account username:

CREATE DATABASE <em>username</em>_test;

You can run the previous SQL command (and the following SQL commands) from the command line <a href="https://www.a2hosting.com/kb/developer-corner/mysql/connect-to-mysql-from-the-command-line">using the MySQL tool</a>, or in your web browser <a href="https://www.a2hosting.com/kb/cpanel/cpanel-database-features/phpmyadmin-and-phppgadmin">using phpMyAdmin</a>.

If you are using phpMyAdmin, click the name <span class="UI"><em>username</em>_test</span> to select the database. Otherwise, if you are using the mysql command-line program, type the following SQL statement:

USE <em>username</em>_test;


Next, create a table in the <strong><em>username</em>_test</strong> database named <strong>products</strong>. To do this, run the following SQL statement:

CREATE TABLE products (prod_id INT NOT NULL AUTO_INCREMENT, prod_name VARCHAR(20) NOT NULL, prod_cost FLOAT NOT NULL DEFAULT 0.0, prod_price FLOAT NOT NULL DEFAULT 0.0, PRIMARY KEY(prod_id));


The following SQL statement adds some sample data to the <strong>products</strong> table:

INSERT INTO products (prod_name, prod_cost, prod_price) VALUES ('Basic Widget',5.95,8.35),('Micro Widget',0.95,1.35),('Mega Widget',99.95,140.00);

<h5 id='Creating-the-view'>Creating the view</h5>

Now that we have a database and a table to work with, we are ready to create a simple view. Let's create a view named <strong>minimumPriceView</strong>. This view returns a data set of all products whose cost is greater than 1.00 (in dollars, Euros, or whatever currency unit we're working with).


To create this view, run the following MySQL statement:

CREATE VIEW minimumPriceView AS SELECT prod_name FROM products WHERE prod_cost &gt; 1.00;


As you can see, the basic syntax to create a view is <strong>CREATE VIEW <em>name</em> AS <em>query</em></strong>. Replace <em>name</em> with the name of the view, and replace <em>query</em> with the SQL query that you want to use.

If you look at a list of the tables in the database, you will see the <strong>minimumPriceView</strong> view listed alongside the other tables. Remember, however, that views are virtual tables containing queries. They do not contain any actual data.
<h5 id='Using-the-view'>Using the view</h5>

You can now use the <strong>minimumPriceView</strong> view in a query:

SELECT * FROM minimumPriceView;


This SQL statement returns the following results:

+--------------+&#10;| prod_name&nbsp;&nbsp;&nbsp; |&#10;+--------------+&#10;| Basic Widget |&#10;| Mega Widget&nbsp; |&#10;+--------------+&#10;2 rows in set (0.00 sec)&#10;


The <strong>minimumPriceView</strong> view has done all of the work behind the scenes, pulling out the products whose cost exceeds the value 1.00. Although this is a very simple example of a view, you can use the same techniques in your own databases to build more complex views.


<h1>Using MySQL triggers</h1>
Triggers are predefined rules associated with a table. 
They can be called ("triggered") before or after a SQL statement inserts, updates, or deletes data from the associated table.

You can use triggers in a wide range of scenarios. 
For example, you could use a trigger to automatically change certain values when a row is updated. 
Or, you could specify a set of actions to take whenever a row is deleted. 
The possibilities are almost endless.

Table of Contents
<a href='#Creating-and-using-MySQL-triggers'>Creating and using MySQL triggers</a>
<a href='#Setting-up-a-test-database'>Setting up a test database</a>
<a href='#Creating-the-MySQL-trigger'>Creating the MySQL trigger</a>
<a href='#Using-the-MySQL-trigger'>Using the MySQL trigger</a>


<a href='#More-Information'>More Information</a>
<a href='#Related-Articles'>Related Articles</a>

<h4 id='Creating-and-using-MySQL-triggers'>Creating and using MySQL triggers</h4>

You can create and use triggers on any A2 Hosting server that uses MySQL.

<h5 id='Setting-up-a-test-database'>Setting up a test database</h5>

To demonstrate a basic example of a trigger in action, let's start by creating a database for testing purposes. In the following SQL statement, replace <em>username</em> with your account username:

CREATE DATABASE <em>username</em>_test;

You can run the previous SQL command (and the following SQL commands) from the command line <a href="https://www.a2hosting.com/kb/developer-corner/mysql/connect-to-mysql-from-the-command-line">using the MySQL tool</a>, or in your web browser <a href="https://www.a2hosting.com/kb/cpanel/cpanel-database-features/phpmyadmin-and-phppgadmin">using phpMyAdmin</a>.

If you are using phpMyAdmin, click the name <span class="UI"><em>username</em>_test</span> to select the database. Otherwise, if you are using the mysql command-line program, type the following SQL statement:

USE <em>username</em>_test;


Next, create a table in the <strong><em>username</em>_test</strong> database named <strong>products</strong>. To do this, run the following SQL statement:

CREATE TABLE products (prod_id INT NOT NULL AUTO_INCREMENT, prod_name VARCHAR(20) NOT NULL, prod_cost FLOAT NOT NULL DEFAULT 0.0, prod_price FLOAT NOT NULL DEFAULT 0.0, PRIMARY KEY(prod_id));


The following SQL statement adds some sample data to the <strong>products</strong> table:

INSERT INTO products (prod_name, prod_cost, prod_price) VALUES ('Basic Widget',5.95,8.35),('Micro Widget',0.95,1.35),('Mega Widget',99.95,140.00);


Now we're ready to create a trigger for our table!

<h5 id='Creating-the-MySQL-trigger'>Creating the MySQL trigger</h5>

Let's create a trigger named <strong>updateProductPrice</strong>. This particular trigger is activated whenever the <strong>products</strong> table is updated. When this event occurs, the trigger checks each row to see if the product cost (<strong>prod_cost</strong>) value is being changed. If it is, then the trigger automatically sets the item's new price (<strong>prod_price</strong>) to 1.40 times the item's new cost (in other words, a 40% markup).


To create this trigger, run the following MySQL statements:

DELIMITER $$&#10;CREATE TRIGGER `updateProductPrice`&#10;BEFORE UPDATE ON `products`&#10;FOR EACH ROW&#10;BEGIN&#10;  IF NEW.prod_cost &lt;&gt; OLD.prod_cost&#10;    THEN&#10;      SET NEW.prod_price = NEW.prod_cost * 1.40;&#10;  END IF ;&#10;END$$&#10;DELIMITER ;

The <strong>DELIMITER</strong> command at the beginning of these statements prevents MySQL from processing the trigger definition too soon. The <strong>DELIMITER</strong> command at the end of these statements returns processing to normal.
<h5 id='Using-the-MySQL-trigger'>Using the MySQL trigger</h5>

The <strong>updateProductPrice</strong> trigger is now ready to be invoked automatically whenever a row in the <strong>products</strong> table is updated. For example, run the following SQL statement to change the cost of the Basic Widget:

UPDATE products SET prod_cost = 7.00 WHERE prod_id = 1;


When you run this SQL statement, the trigger activates as well, and automatically updates the Basic Widget's price in proportion to the new cost. To verify this, you can run the following SQL statement:

SELECT * FROM products;


This statement returns the following results:

+---------+--------------+-----------+------------+&#10;| prod_id | prod_name&nbsp;&nbsp;&nbsp; | prod_cost | prod_price |&#10;+---------+--------------+-----------+------------+&#10;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 | Basic Widget |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  9.8 |&#10;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 | Micro Widget |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.95 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.35 |&#10;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 | Mega Widget&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; 99.95 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 140 |&#10;+---------+--------------+-----------+------------+&#10;3 rows in set (0.00 sec)&#10;


As you can see, the <strong>updateProductPrice</strong> trigger has automatically updated the Basic Widget's price (9.80) based on the new cost (7.00). Although this is a simple example of what a trigger can do, you can use the same techniques in your own databases&#8212;the possibilities are almost endless.


<h1>How to create a MySQL installation for local testing</h1>

This article describes how to create a MySQL installation that you can use for local testing.


<div class="important">The following procedures assume that you have already created a virtual machine running CentOS 7 on your local computer. For information about how to do this, please see <a href="https://www.a2hosting.com/kb/developer-corner/testing-and-development/configuring-a-virtual-machine-for-local-testing">this article</a>.
Table of Contents

<a href='#Installing-MySQL'>Installing MySQL</a>
<a href='#Related-Articles'>Related Articles</a>

<h4 id='Installing-MySQL'>Installing MySQL</h4>

A2 Hosting servers actually use <a href="https://mariadb.org/">MariaDB</a>, an enhanced drop-in replacement for MySQL.

For detailed information about compatibility between MariaDB and MySQL, please visit <a href="https://mariadb.com/kb/en/library/mariadb-vs-mysql-compatibility">https://mariadb.com/kb/en/library/mariadb-vs-mysql-compatibility</a>.

To install MariaDB on your virtual machine, follow these steps:

Start the virtual machine, if you haven't already.
Log in to the virtual machine as the root user.
At the command prompt, type the following command to install MariaDB:
yum install mariadb-server&#10;
At the <span class="UI">Is this ok</span> prompt, type <span class="user-input">y</span> and then press Enter. The installation process begins.
After installation completes, type the following command to start MariaDB:

systemctl start mariadb

To confirm MariaDB is running, type the following command:

systemctl status mariadb


 You should see <strong>Active: active (running)</strong> in the output.


To make MariaDB start automatically on system boot, type the following command:

systemctl enable mariadb

To secure the installation, type the following command:

mysql_secure_installation


 This program enables you to set the root MySQL password and other security-related settings.


To make sure the root password was set correctly, type the following command:

mysql -u root -p

Type the root password that you set in step 8, and then press Enter. You should see <strong>Welcome to the MariaDB monitor</strong> in the output.
<br>
<br>

<h2>How to Create a New User</h2>

Let’s start by making a new user within the MySQL shell:
<code>CREATE USER '<span class="highlight">newuser</span>'@'localhost' IDENTIFIED BY '<span class="highlight">password</span>';
</code>
<span class='note'><strong>Note:</strong> When adding users within the MySQL shell in this tutorial, we will specify the user’s host as <code>localhost</code> and not the server’s IP address. 
<code>localhost</code> is a hostname which means “this computer,” and MySQL treats this particular hostname specially: when a user with that host logs into MySQL it will attempt to connect to the local server by using a Unix socket file. 
Thus, <code>localhost</code> is typically used when you plan to connect by SSHing into your server or when you’re running the local <code>mysql</code> client to connect to the local MySQL server.<br></span>

At this point <span class="highlight">newuser</span> has no permissions to do anything with the databases. 
In fact, even if <span class="highlight">newuser</span> tries to login (with the password, <span class="highlight">password</span>), they will not be able to reach the MySQL shell.

Therefore, the first thing to do is to provide the user with access to the information they will need. 

<code>GRANT ALL PRIVILEGES ON * . 
* TO '<span class="highlight">newuser</span>'@'localhost';
</code>
The asterisks in this command refer to the database and table (respectively) that they can access—this specific command allows to the user to read, edit, execute and perform all tasks across all the databases and tables.

Please note that in this example we are granting <span class="highlight">newuser</span> full root access to everything in our database. 
While this is helpful for explaining some MySQL concepts, it may be impractical for most use cases and could put your database’s security at high risk.

Once you have finalized the permissions that you want to set up for your new users, always be sure to reload all the privileges.
<code>FLUSH PRIVILEGES;
</code>
Your changes will now be in effect.

<h2>How To Grant Different User Permissions</h2>

Here is a short list of other common possible permissions that users can enjoy.

ALL PRIVILEGES- as we saw previously, this would allow a MySQL user full access to a designated database (or if no database is selected, global access across the system)
CREATE- allows them to create new tables or databases
DROP- allows them to them to delete tables or databases
DELETE- allows them to delete rows from tables
INSERT- allows them to insert rows into tables
SELECT- allows them to use the <code>SELECT</code> command to read through databases
UPDATE- allow them to update table rows
GRANT OPTION- allows them to grant  or remove other users&rsquo; privileges


To provide a specific user with a permission, you can use this framework:
<code>GRANT <span class="highlight">type_of_permission</span> ON <span class="highlight">database_name</span>.<span class="highlight">table_name</span> TO ‘<span class="highlight">username</span>’@'localhost’;
</code>
If you want to give them access to any database or to any table, make sure to put an asterisk (*) in the place of the database name or table name.

Each time you update or change a permission be sure to use the Flush Privileges command.

If you need to revoke a permission, the structure is almost identical to granting it:
<code>REVOKE <span class="highlight">type_of_permission</span> ON <span class="highlight">database_name</span>.<span class="highlight">table_name</span> FROM ‘<span class="highlight">username</span>’@‘localhost’;
</code>
Note that when revoking permissions, the syntax requires that you use <code>FROM</code>, instead of <code>TO</code> as we used when granting permissions.

You can review a user’s current permissions by running the following:
<code>SHOW GRANTS <span class="highlight">username</span>;
</code>
Just as you can delete databases with DROP, you can use DROP to delete a user altogether:
<code>DROP USER ‘<span class="highlight">username</span>’@‘localhost’;
</code>
To test out your new user, log out by typing:
<code>quit
</code>
and log back in with this command in terminal:
<code>mysql -u [username] -p
</code>

<br>
<br>
</pre>
<div id="redtoc"></div>

<script>
	var toc = $('#toc');
	$('h1,h2').each(function(i) {
		var topic = $(this), topicNumber = i + 1;
		toc.append('<a href="#topic-'+topicNumber+'" target="_self">'+topic.text()+'</a><br>');
		topic.attr('id', 'topic-' + topicNumber);
	});
</script>

<script>
	var toc = $('#redtoc');
	$('.red').each(function(i) {
		var topic = $(this), topicNumber = i + 1;
		toc.append('<a href="#red-'+topicNumber+'" target="_self">'+topic.text()+'</a><br>');
		topic.attr('id', 'red-' + topicNumber);
	});
</script>
