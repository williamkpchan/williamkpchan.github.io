<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="./rchart/RGraph.common.core.js" ></script>
<script src="./rchart/RGraph.common.csv.js" ></script>
<script src="./rchart/RGraph.line.js" ></script>
<script type='text/javascript' src='../mainscript.js'></script>

<link rel="stylesheet" href="./rchart/website.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../maincss.css">

<style>
body { margin: auto; width: 90%; font-size: 18px; background-color: #000000; color: #20C030;}
button, input, select {color: gray; background-color: #001010;  font-size: 18px; }
.redword{color: red;}
.greenword{color: lightgreen;}
.goldword{color: gold;}
.whiteword{color: white;}
</style>

<script>
let stkCode, stkName, stkTime, stkPrice, stkMaxprice, stkMinprice, stkVol, stkChange, mytimer;
let timerValue = 10;
let stkChangeArr = [];
let toFixedLen = 3;
let theString ="";

let theurlHead = 'http://www.aastocks.com/tc/stocks/quote/quick-quote.aspx?symbol='
var theCode = "02727"
var theStartCode = "02727"
var thestkkey = "";

function startToRoll(theCode) {
	var bodycontent = $('body');
	theStartCode = theCode;
	var theurl = theurlHead + theStartCode
	RGraph.AJAX.getJSON(theurl, function (rawData){
		body.append(rawData);
	});
}

</script>

</head>

<body>
<pre>
Javascript collect current price info

var bodycontent = $('body');
var theurl = "http://web.sqt.gtimg.cn/q=r_hk00700"

$.ajax({
    url: theurl,
    success: function(rawData){
    var rawData = rawData.split("~");
    rawData = rawData.map(i => i + "&lt;br&gt;");
    bodycontent.append(rawData);;
  }});

runs OK

client side browser CORS limit can be avoided by server side, PHP, nodeJs, Python, R

theurl = 'http://www.manulife.com.hk/pws_portal/MILDFPPortlet/download_excel?fundCode=UAF01&historyRange=daily&historyStartDate=03-Oct-16&historyEndDate=23-Feb-19&categoryId=11&locale=zh&buId=IND'

</pre>

<script>
var bodycontent = $('body');
var theurl = "http://web.sqt.gtimg.cn/q=r_hk00700"

$.ajax({
    url: theurl,
    success: function(rawData){
    var rawData = rawData.split("~");
    rawData = rawData.map(i => i + "<br>");
    bodycontent.append(rawData);;
  }});
</script>
</body>
</html>
