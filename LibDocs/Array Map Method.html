<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width"/>
<link rel="stylesheet" href="../maincss.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script>
$(document).ready(function(){
    $('h1, h2, h3, h4, h5, .topic, strong,  div.title').click(function(){
    parent.history.back();
    return false;
    });
});
</script>
<style>
body{width:80%;margin-left: 10%; font-size:22px;}
strong, h1, h2 {color: gold;}
img {width:90%; display: inline-block; margin-top: 2%;margin-bottom: 1%;}
.language-javascript{border-width:1px, border-color:gray}
</style>
</head><body>
<center><h1>Array Map Method</h1>
<div id="toc"></div></center>
<br>
<br>
<a href="https://www.robinwieruch.de/javascript-map-array/">javascript-map-array</a>
<br>
<pre>
<h2>The Map Function</h2>
The <strong>Map Function</strong> is one of the <strong>many Methods</strong> existing on the <strong>JavaScript Array prototype</strong>. 
If you want to do a deep dive on prototypical inheritance, here's a great read by Kyle Simpson on <a target="_blank" rel="noopener noreferrer" href="https://github.com/getify/You-Dont-Know-JS/blob/master/this%20%26%20object%20prototypes/ch5.md">how prototypes work under the hood</a>. 
For this article it will be sufficient to know that the methods on the Array prototype are available to every array that we declare in our code.

Specifically, the Array Map Method operates on an array to run a transformation on every element of the array. 
It does so through use of a <em>callback function</em> which is called for each item of the array. 
After<u class="topic">&ensp;running the callback function</u> on each item, the Map Method returns <em>the transformed array</em>, leaving the <em>original array</em> unchanged. 
Let's take a quick look at how that looks in practice:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">originalArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">1</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">3</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">4</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">5</span><span style="color: #e7e9db">];</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #815ba4">function</span> <span style="color: #06b6ef">addOne</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">number</span><span style="color: #e7e9db">)</span> <span style="color: #e7e9db">{</span>
  <span style="color: #815ba4">return</span> <span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">+</span> <span style="color: #f99b15">1</span><span style="color: #e7e9db">;</span>
<span style="color: #e7e9db">});</span>

<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [1, 2, 3, 4, 5]</span>
<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [2, 3, 4, 5, 6]</span></code>

The Map Method is called on our array of <code>[1, 2, 3, 4, 5]</code> as the original array. 
In the callback function, it then passes through every single item (value) in the array by calling the <code>addOne</code> function with the item. 
The first argument of the callback function is the currently iterated value of the array. 
Once it completes passing through the array it returns the new array of <code>[2, 3, 4, 5, 6]</code> back to us. 
For the sake of completeness, you can also pass an<u class="topic">&ensp;anonymous function</u> as callback function to the map method:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">originalArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">1</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">3</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">4</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">5</span><span style="color: #e7e9db">];</span>

<span style="background-color: #002000"><span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #815ba4">function</span> <span style="color: #e7e9db">(</span><span style="color: #06b6ef">number</span><span style="color: #e7e9db">)</span> <span style="color: #e7e9db">{</span>
</span>  <span style="color: #815ba4">return</span> <span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">+</span> <span style="color: #f99b15">1</span><span style="color: #e7e9db">;</span>
<span style="color: #e7e9db">});</span>

<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [1, 2, 3, 4, 5]</span>
<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [2, 3, 4, 5, 6]</span></code>

However, if you decide to extract the callback function as<u class="topic">&ensp;standalone function</u> declared as a variable, you have to name it again in order to pass it to the map method:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">originalArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">1</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">3</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">4</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">5</span><span style="color: #e7e9db">];</span>

<span style="background-color: #002000"><span style="color: #815ba4">function</span> <span style="color: #06b6ef">addOne</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">number</span><span style="color: #e7e9db">)</span> <span style="color: #e7e9db">{</span>
</span><span style="background-color: #002000">  <span style="color: #815ba4">return</span> <span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">+</span> <span style="color: #f99b15">1</span><span style="color: #e7e9db">;</span>
</span><span style="background-color: #002000"><span style="color: #e7e9db">}</span>
</span>
<span style="background-color: #002000"><span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">addOne</span><span style="color: #e7e9db">);</span>
</span>
<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [1, 2, 3, 4, 5]</span>
<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [2, 3, 4, 5, 6]</span></code>

Now you might be asking, why don't we just use a <code>for</code> loop instead? 
After all, we're<u class="topic">&ensp;looping through the array</u> and executing code on each item, we may as well, right? 
We could even push the transformed items to a new array in order to make sure we don't modify the original array. Why don't we just do this?

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">originalArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">1</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">3</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">4</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">5</span><span style="color: #e7e9db">];</span>
<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[];</span>

<span style="color: #815ba4">for</span> <span style="color: #e7e9db">(</span><span style="color: #815ba4">let</span> <span style="color: #06b6ef">i</span> <span style="color: #5bc4bf">=</span> <span style="color: #f99b15">0</span><span style="color: #e7e9db">;</span> <span style="color: #06b6ef">i</span> <span style="color: #5bc4bf">&lt;</span> <span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">length</span><span style="color: #e7e9db">;</span> <span style="color: #06b6ef">i</span><span style="color: #5bc4bf">++</span><span style="color: #e7e9db">)</span> <span style="color: #e7e9db">{</span>
  <span style="color: #06b6ef">newArray</span><span style="color: #e7e9db">[</span><span style="color: #06b6ef">i</span><span style="color: #e7e9db">]</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">[</span><span style="color: #06b6ef">i</span><span style="color: #e7e9db">]</span> <span style="color: #5bc4bf">+</span> <span style="color: #f99b15">1</span><span style="color: #e7e9db">;</span>
<span style="color: #e7e9db">}</span>

<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [1, 2, 3, 4, 5]</span>
<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [2, 3, 4, 5, 6]</span></code>

JavaScript includes these built-in Array methods &ndash; including the Map Method &ndash; for a reason. 
It's not a secret that when you're programming in JavaScript you'll probably be dealing with arrays a lot, and chances are you'll find yourself transforming those arrays quite often. 
Having utility methods like the Map Method that operates on Arrays not only help us to drastically cut down on the amount of typing that we need to do, they help our code become<u class="topic">&ensp;more readable</u> (in many cases) by having us only describe the part of the loop that will actually change each time we're transforming array data: the transformation which is the business logic of the callback function passed to the map method.

<strong>A word about immutable data structures:</strong> The Array Map Method helps us keep our data pure as we go through encouraging <em>immutable data structures</em>. 
The Map Method never changes the original array, which helps us to predictably reason about what value each variable holds as we read through our code.

However, this isn't an article about <code>map</code> versus <code>for</code> loops! 
There's plenty of stuff on the internet about that, and frankly, sometimes a &ldquo;for&rdquo;-loop will be a better choice than a Map Function. 
And if you're new to the Map Function but you're familiar with &ldquo;for&rdquo;-loops, it might be helpful to think of the Map Method as a &ldquo;for&rdquo;-loop internally. 
As we go on further in this tutorial, we'll dive into some more examples on how map works and look at some practical ways that we can leverage this method in our day-to-day use cases.

<h2 class="chapter-header" id="javascript-map-arrow-function">Array Map Method with Arrow Functions as Callback Function</h2>

In the first couple examples, we used the <code>function</code> keyword to define our callback function. However, you might also be familiar with the ES2015 (or ES6) <a target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions">arrow function</a>, also known as <em>lambda</em> in various programming languages, for anonymous functions. Using the arrow function syntax for the callback function in a Map Method is very common, mainly because it allows us to define all of the logic related to the Map Operation inline without becoming too syntactically burdensome. Here's an example of that same Map Method usage from earlier, but<u class="topic">&ensp;using an arrow function</u>:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">originalArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">1</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">3</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">4</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">5</span><span style="color: #e7e9db">];</span>

<span style="background-color: #002000"><span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">+</span> <span style="color: #f99b15">1</span><span style="color: #e7e9db">);</span>
</span>
<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [1, 2, 3, 4, 5]</span>
<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [2, 3, 4, 5, 6]</span></code>

Granted, there are a few nuances that you want to be aware of in using an arrow function instead of the <code>function</code> keyword. 
For example, arrow functions will show up as anonymous function in a stack trace. 
Using the full function syntax allows us to give our callback function a name that will show in the stacktrace in our developer tools. 
However, the arrow function syntax is also more concise, which makes callbacks in a Map Method effortless to read.

<strong>A word about arrow functions</strong>: If you want to look at a more in-depth explanation of the nuance between arrow functions and the traditional function syntax, I'd highly recommend <a target="_blank" rel="noopener noreferrer" href="https://medium.freecodecamp.org/when-and-why-you-should-use-es6-arrow-functions-and-when-you-shouldnt-3d851d7f0b26">this article</a> on FreeCodeCamp's blog. 
There's a lot of people on both sides of the &ldquo;use vs not use arrow functions&rdquo; debate, and both sides make a lot of great points. 
However, we're not gonna dive too far into that debate for now. 
For the rest of this article I'm just gonna use the arrow syntax, as of right now it's my personal preference, especially for things like the <code>Array.map</code> Method Callback Functions.

<h2 class="chapter-header" id="javascript-map-method-callback-function">The Map Method&#39;s Callback Function</h2>

Understanding how the callback function in <code>map</code> works is crucial to using the Map Method effectively. 
In this section we'll take a look at the what arguments are passed to the callback function and some ways that we can use those arguments. 
The Map Method's callback takes three arguments, although you can write a callback only using one or two arguments as well. 
Here are the three arguments that it takes: <code>array.map((value, index, array) =&gt; { ... });</code>.

<h3 id="callback-function-value-argument">&emsp;value</h3>

This is the current <em>value</em> being processed in the iteration while going through each item in the array. If we ran <code>[1, 2, 3].map(value =&gt; value + 1)</code>, our callback function would be run with a <code>value</code> of <code>1</code> the first time, and then it would be called again with <code>2</code> and <code>3</code> as we iterate through the array. Whereas <code>value</code> is the more general naming for this argument, people tend to specify the argument's name as well as we did before by calling it <code>number</code>.

<h3 id="callback-function-index-argument">&emsp;index</h3>

The second argument to the callback function is the <em>index</em> of the item that we are currently processing. Taking our example array of <code>[1, 2, 3]</code>, if we run <code>[1, 2, 3].map((value, index) =&gt; index)</code> we'll see our callback get run with <code>0</code> the first time, <code>1</code> the second time, and <code>2</code> on the final time. 
This second argument is extremely useful if we're trying to use <code>map</code> to generate data or if we need to use the index to access a corresponding item in a <em>different</em> array. 
We'll look at some more practical ways we can use the <code>index</code> argument to do some cool things with <code>Array.map</code> later on.

<h3 id="callback-function-array-argument">&emsp;array</h3>

The final argument to <code>map</code>'s callback function is the <code>array</code> that <code>map</code> was originally called upon. 
Chances are you will not often need to use this argument. 
The reason is that if you've already got the array tied to a variable, you've already got a reference to the original array that <code>map</code> was called upon. 
For example:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">myArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">1</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">3</span><span style="color: #e7e9db">];</span>

<span style="color: #776e71">// using the third argument to map</span>
<span style="color: #06b6ef">myArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">((</span><span style="color: #06b6ef">value</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">index</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">array</span><span style="color: #e7e9db">)</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
  <span style="color: #815ba4">return</span> <span style="color: #06b6ef">array</span><span style="color: #e7e9db">[</span><span style="color: #06b6ef">index</span><span style="color: #e7e9db">]</span> <span style="color: #5bc4bf">+</span> <span style="color: #f99b15">1</span><span style="color: #e7e9db">;</span>
<span style="color: #e7e9db">});</span>

<span style="color: #776e71">// using the variable that holds the original array</span>
<span style="color: #06b6ef">myArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">((</span><span style="color: #06b6ef">value</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">index</span><span style="color: #e7e9db">)</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
  <span style="color: #815ba4">return</span> <span style="color: #06b6ef">myArray</span><span style="color: #e7e9db">[</span><span style="color: #06b6ef">index</span><span style="color: #e7e9db">]</span> <span style="color: #5bc4bf">+</span> <span style="color: #f99b15">1</span><span style="color: #e7e9db">;</span>
<span style="color: #e7e9db">});</span>

<span style="color: #776e71">// just using map without accessing the array manually</span>
<span style="color: #06b6ef">myArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">((</span><span style="color: #06b6ef">value</span><span style="color: #e7e9db">)</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
  <span style="color: #815ba4">return</span> <span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">+</span> <span style="color: #f99b15">1</span><span style="color: #e7e9db">;</span>
<span style="color: #e7e9db">});</span></code>

Even though you might not often need the third argument to <code>map</code>, it's still god to know that it exists! 
Every once in a while you'll come across a situation where it comes in handy—for example, when chaining array methods or when you don't have the array bound to a variable.

<h2 class="chapter-header" id="how-to-use-map-along-with-other-array-methods">How to use the Map Method along with other Array Methods</h2>

JavaScript's <code>Array.map</code> method is just one of many methods for operating on arrays. 
In order to use it effectively we need to not only understand <em>how the Map Method works</em>, but how it can work in combination with other common array methods. 
After all, <code>map</code> is only one of the tools in our <a target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">array methods toolbelt</a>, and it's important that we use the right tool for each use case. 
In this section we're going to examine how the Map Method compares to some other commonly used array methods, and some use cases where another array method might be a better option.

<h3 id="map-vs-foreach">&emsp;Using map vs forEach</h3>

Although <code>map</code> does iterate through the entire array and it does execute the callback function one time for each item in the array, there's also another method that does a very similar thing: the <code>forEach</code> Method.

While <code>forEach</code> does iterate through the entire array and it does execute its callback function once for every item in the array, there's one major distinction: <code>forEach</code> doesn't return anything. 
In the case of <code>map</code>, the return value of the callback function is used as the transformed value in our new array. 
However, <code>forEach</code> doesn't return anything, and if the callback function returns a value, nothing is done with that value.

We can use this characteristic of <code>map</code> and <code>forEach</code>'s return values to inform us as to when we should use the map Method and when we should use the forEach Method. 
Since <code>forEach</code> doesn't do anything with the return values of its callback function, we can safely assume that whenever we're not using the return value of our callback function, this would be a better use case for <code>forEach</code> over <code>map</code>. 
For example, this usage of <code>map</code> would be better written with a <code>forEach</code>:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">myArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">1</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">3</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">4</span><span style="color: #e7e9db">];</span>

<span style="color: #06b6ef">myArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
  <span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">number</span><span style="color: #e7e9db">);</span>
<span style="color: #e7e9db">});</span>

<span style="color: #776e71">// nothing changes except the method we used</span>
<span style="color: #06b6ef">myArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">forEach</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
  <span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">number</span><span style="color: #e7e9db">);</span>
<span style="color: #e7e9db">});</span></code>

However, whenever we plan on <em>using the return value</em> from our callback function, this is likely the time that we're gonna reach for <code>map</code> instead of <code>forEach</code>. 
If we want to take our array and transform it to a new array, this is a better usage for <code>map</code>. 
For example, this usage of <code>forEach</code> would be better written as a <code>map</code>:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">originalArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">1</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">3</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">4</span><span style="color: #e7e9db">];</span>
<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[];</span>

<span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">forEach</span><span style="color: #e7e9db">((</span><span style="color: #06b6ef">number</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">i</span><span style="color: #e7e9db">)</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
  <span style="color: #06b6ef">newArray</span><span style="color: #e7e9db">[</span><span style="color: #06b6ef">i</span><span style="color: #e7e9db">]</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">*</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">;</span>
<span style="color: #e7e9db">});</span>

<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [2, 4, 6, 8]</span></code>

Since we're pushing a value to a new array and transforming the value, we're essentially recreating all the things that <code>map</code> does automatically for us. 
So, to sum <code>map</code> and <code>forEach</code> up, if your callback returns a value, you're probably gonna be using <code>map</code>, and if it doesn't, <code>forEach</code> is probably the better choice.

<h3 id="using-map-along-with-filter">&emsp;Using map and filter</h3>

The Filter Method differs from the Map Method in a few ways. 
While <code>filter</code> and <code>map</code> are both immutable operations, because they return a new array, they have different purposes. 
True to its name, <code>filter</code> produces a shorter array that has filtered <em>out</em> any items that didn't meet a condition. 
In contrast <code>map</code> doesn't ever change the array length—just the values of the items within.

If you're looking to remove or delete an item from your array, <code>filter</code> is gonna be your friend. 
However, we can use the Filter Method in combination with the Map Method to do some cool things. 
For example, we can use <code>filter</code> to sanitize our array's values before we use <code>map</code> to transform them:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">originalArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">1</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">,</span> <span style="color: #815ba4">undefined</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">3</span><span style="color: #e7e9db">];</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">originalArray</span>
  <span style="color: #e7e9db">.</span><span style="color: #06b6ef">filter</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
    <span style="color: #815ba4">return</span> <span style="color: #e7e9db">Number.</span><span style="color: #06b6ef">isInteger</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">value</span><span style="color: #e7e9db">);</span>
  <span style="color: #e7e9db">}).</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
    <span style="color: #815ba4">return</span> <span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">*</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">;</span>
  <span style="color: #e7e9db">});</span>

<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [2, 4, 6]</span></code>

If we didn't include the <code>filter</code> step before the <code>map</code>, we'd get <code>NaN</code> as the third element in the array, which could seriously trip us up later on in our usage of this new array. 
However, because we used <code>filter</code> to sanitize the array's values we can feel safer about using the transformed values.

Believe it or not, some languages have a dedicated function for running this combination of <code>filter</code> and <code>map</code>, called <code>filterMap</code>. 
However, since we don't have an <code>Array.filterMap</code> function in JavaScript, it's useful to know that we can do this combination to sanitize our mapped data.

<h3 id="using-map-and-reduce">&emsp;Using map and reduce</h3>

Another fairly similar method to <code>map</code> is the Reduce Method. 
However, <code>Array.reduce</code> is <em>far more flexible</em>.

If you're unfamiliar with <code>reduce</code>, it mainly works like this: the <code>reduce</code> method also takes a callback as its first argument. 
This callback receives something called an <em>accumulator</em> as its first argument and a value in the array as its second argument (along with the index as its third and the original array as the fourth). 
What you do with the value is entirely up to you! 
However, <em>whatever you return from the callback function</em> will be used as the <em>accumulator</em> argument in the callback for the next iteration.

The second argument to <code>reduce</code> is the original <em>accumulator</em> &ndash; think of it kind of as the seed. 
This second argument will be used as the <em>accumulator</em> for the <em>first time the callback is fired</em>.

The <em>accumulator</em> can be anything—an array, an object, a string, or even a single number! 
This aspect of <code>reduce</code> makes it extremely versatile since we can iterate through the array once and transform it into <em>any data structure</em>. 
In fact, <code>reduce</code> is versatile enough that we can even use it to do the exact same thing that <code>map</code> does:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">originalArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">1</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">3</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">4</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">5</span><span style="color: #e7e9db">];</span>
<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">reduce</span><span style="color: #e7e9db">((</span><span style="color: #06b6ef">accumulator</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">value</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">index</span><span style="color: #e7e9db">)</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
  <span style="color: #06b6ef">accumulator</span><span style="color: #e7e9db">[</span><span style="color: #06b6ef">index</span><span style="color: #e7e9db">]</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">*</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">;</span>
  <span style="color: #815ba4">return</span> <span style="color: #06b6ef">accumulator</span><span style="color: #e7e9db">;</span>
<span style="color: #e7e9db">},</span> <span style="color: #e7e9db">[]);</span>

<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [2, 4, 6, 8, 10]</span></code>

However, just because we can use <code>reduce</code> to do the same thing as <code>map</code> doesn't mean we should! 
In fact, because <code>map</code> only requires us to declare our transformation we'll find that it's much cleaner and more readable if we are only transforming values in an array. 
If we expect to get an array back of transformed values, <code>map</code> is likely a better choice than <code>reduce</code>.

However, if we wanted to use <code>map</code> to transform our array into a new object, we couldn't do it. 
In this case <code>reduce</code> would be the best choice since we have much finer grained control over the shape of what it returns. 
For example, we can use <code>reduce</code> to turn an array of strings into object keys.

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">myArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[</span><span style="color: #48b685">&#39;a&#39;</span><span style="color: #e7e9db">,</span> <span style="color: #48b685">&#39;b&#39;</span><span style="color: #e7e9db">,</span> <span style="color: #48b685">&#39;c&#39;</span><span style="color: #e7e9db">,</span> <span style="color: #48b685">&#39;d&#39;</span><span style="color: #e7e9db">];</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">myObject</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">myArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">reduce</span><span style="color: #e7e9db">((</span><span style="color: #06b6ef">accumulator</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">value</span><span style="color: #e7e9db">)</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
  <span style="color: #06b6ef">accumulator</span><span style="color: #e7e9db">[</span><span style="color: #06b6ef">value</span><span style="color: #e7e9db">]</span> <span style="color: #5bc4bf">=</span> <span style="color: #815ba4">true</span><span style="color: #e7e9db">;</span>
<span style="color: #e7e9db">},</span> <span style="color: #e7e9db">{});</span>

<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">myObject</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// { a: true, b: true, c: true, d: true }</span></code>

To sum it up, if you want to get an array of transformed values, use <code>map</code>. 
But if you need to return something other than an array, you'll likely want to reach for <code>reduce</code>.

<h3 id="using-map-and-reverse">&emsp;Using map and reverse</h3>

Occasionally, you might need to map an array and reverse it as well. 
It's good to know in this case that although <code>map</code> is immutable, the Reverse Method isn't! 
Using <code>reverse</code> on an array will actually reverse <em>the original array</em>. 
So, if you need to map and reverse the array, make sure that you do <code>map</code> first, and <em>then</em> <code>reverse</code>. 
This way you create a new array with <code>map</code> before you <code>reverse</code> it:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #776e71">// Don&#39;t do this!</span>
<span style="color: #815ba4">const</span> <span style="color: #06b6ef">originalArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">1</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">3</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">4</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">5</span><span style="color: #e7e9db">];</span>
<span style="color: #815ba4">const</span> <span style="color: #06b6ef">reverseNewArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">reverse</span><span style="color: #e7e9db">().</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">*</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">);</span>
<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [10, 8, 6, 4, 2]</span>

<span style="color: #776e71">// Instead, do this!</span>
<span style="color: #815ba4">const</span> <span style="color: #06b6ef">originalArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">1</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">3</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">4</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">5</span><span style="color: #e7e9db">];</span>
<span style="color: #815ba4">const</span> <span style="color: #06b6ef">reverseNewArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">*</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">).</span><span style="color: #06b6ef">reverse</span><span style="color: #e7e9db">();</span>
<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [2, 4, 6, 8, 10]</span></code>

If all you need to do is <code>reverse</code> an array (you don't need to transform the values), you don't need to use <code>map</code> to clone the array! 
While you <em>could</em> produce an unaltered array clone with <code>map(value =&gt; value)</code>, you can also produce a cloned array with <code>.slice()</code>. 
This creates a new array for us to reverse so that we don't mutate the original:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">originalArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">1</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">3</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">4</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">5</span><span style="color: #e7e9db">]</span>
<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">slice</span><span style="color: #e7e9db">().</span><span style="color: #06b6ef">reverse</span><span style="color: #e7e9db">()</span>

<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newArray</span><span style="color: #e7e9db">)</span> <span style="color: #776e71">// [5, 4, 3, 2, 1]</span>
</code>

<h2 class="chapter-header" id="javascript-map-for-complex-data-operations">Map Method for complex Data Operations</h2>

While we can certainly use the Map Method for simple operations like adding 1 to every number in the array, it turns out that it's super flexible—we can do a ton of things armed with this simple method and our callback function. 
Let's dive into a few of them!

<h3 id="extracting-object-keys-with-map">&emsp;Extracting object keys with map</h3>

For example, if we wanted to use map to extract a <em>single key</em> from <em>every item in an array of objects</em>, we could do it like this:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">originalArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[</span>
  <span style="color: #e7e9db">{</span> <span style="color: #06b6ef">a</span><span style="color: #5bc4bf">:</span> <span style="color: #f99b15">1</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">b</span><span style="color: #5bc4bf">:</span> <span style="color: #48b685">&#39;first&#39;</span> <span style="color: #e7e9db">},</span>
  <span style="color: #e7e9db">{</span> <span style="color: #06b6ef">a</span><span style="color: #5bc4bf">:</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">b</span><span style="color: #5bc4bf">:</span> <span style="color: #48b685">&#39;second&#39;</span> <span style="color: #e7e9db">},</span>
  <span style="color: #e7e9db">{</span> <span style="color: #06b6ef">a</span><span style="color: #5bc4bf">:</span> <span style="color: #f99b15">3</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">b</span><span style="color: #5bc4bf">:</span> <span style="color: #48b685">&#39;third&#39;</span> <span style="color: #e7e9db">},</span>
<span style="color: #e7e9db">];</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">object</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">object</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">b</span><span style="color: #e7e9db">);</span>

<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [&#39;first&#39;, &#39;second&#39;, &#39;third&#39;]</span></code>

In this case, our callback function isn't doing much—it just takes each object and returns the value at the <code>b</code> key. 
As a result we end up transforming our array of objects into an array of strings.

<h3 id="using-map-to-iterate-through-an-object">&emsp;Using map to iterate through an object</h3>

Sometimes you want to iterate through all of the items <em>in an object itself</em> as opposed to an array of objects. 
A common example might be if you have an object where each key represents a unique id, but all of the values might be a similar type (sort of like a <a target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set">JavaScript Set</a>). 
While <code>map</code> won't work directly on objects, we can use <code>map</code> to transform all of the values of an object through combining <code>map</code> with <code>Object.entries</code>.

<code>Object.entries</code> was added to JavaScript in <a target="_blank" rel="noopener noreferrer" href="http://2ality.com/2016/02/ecmascript-2017.html">ES2017</a>, and has <a target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries#Browser_compatibility">decent browser support</a> today (that is, if you're not supporting IE11). 
What <code>Object.entries</code> does is it takes an object for its argument and spits out a <em>two dimensional array</em> (an array of arrays). 
Each item in the array is a array containing exactly two items: the first is the key, and the second is the value. 
<code>Object.entries</code>, similar to <code>map</code> creates a <em>new array</em> and does not mutate the original object.

If we leverage <code>Object.entries</code> to transform our object into an array, <em>then</em> we can use map to run whatever transformations we want on our data:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">object</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">{</span>
  <span style="color: #06b6ef">a</span><span style="color: #5bc4bf">:</span> <span style="color: #f99b15">1</span><span style="color: #e7e9db">,</span>
  <span style="color: #06b6ef">b</span><span style="color: #5bc4bf">:</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">,</span>
  <span style="color: #06b6ef">c</span><span style="color: #5bc4bf">:</span> <span style="color: #f99b15">3</span><span style="color: #e7e9db">,</span>
<span style="color: #e7e9db">};</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">array</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">Object.</span><span style="color: #06b6ef">entries</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">object</span><span style="color: #e7e9db">);</span>
<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">array</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [[&#39;a&#39;, 1], [&#39;b&#39;, 2], [&#39;c&#39;, 3]]</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">array</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(([</span><span style="color: #06b6ef">key</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">value</span><span style="color: #e7e9db">])</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">[</span><span style="color: #06b6ef">key</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">*</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">]);</span>
<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [[&#39;a&#39;, 2], [&#39;b&#39;, 4], [&#39;c&#39;, 6]]</span></code>

In line 10, we've used <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">array destructuring</a> to make our callback function a little bit easier to read. 
Since we know that each value in the array is a two-item array, we can assume that the first item will always be the <code>key</code> and the second item will always be the <code>value</code>. 
We proceed to multiply each value by 2, leaving all of the keys unaltered.

If you're cool with your transformed data being stored in an array of arrays, feel free to stop transforming it here. 
But perhaps you want your data to be back in its original object shape. 
In order to do this we'll need to combine our <code>map</code> with a <code>reduce</code> function to zip the array back up into an object:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #e7e9db">...</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newObject</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">newArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">reduce</span><span style="color: #e7e9db">((</span><span style="color: #06b6ef">accumulator</span><span style="color: #e7e9db">,</span> <span style="color: #e7e9db">[</span><span style="color: #06b6ef">key</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">value</span><span style="color: #e7e9db">])</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
    <span style="color: #06b6ef">accumulator</span><span style="color: #e7e9db">[</span><span style="color: #06b6ef">key</span><span style="color: #e7e9db">]</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">value</span><span style="color: #e7e9db">;</span>
    <span style="color: #815ba4">return</span> <span style="color: #06b6ef">accumulator</span><span style="color: #e7e9db">;</span>
  <span style="color: #e7e9db">},</span> <span style="color: #e7e9db">{});</span>

<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newObject</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// { a: 2, b: 4, c: 6 }</span></code>

By using <code>reduce</code> to turn our <code>mapped</code> array back into an object, we get a new object that has all of the transformed values <em>without mutating the original object</em>. 
However, you'll probably notice that we kind of had to jump through a few hoops in order to use <code>map</code> over our object. 
While it's useful to know how we can use <code>map</code> to iterate over object keys, I personally think that this specific case is a prime example of the <code>map</code> vs <code>reduce</code> scenario (or <code>map</code> vs <code>forEach</code>) from earlier. 
If we want to transform our object by multiplying each value by two, we can simply do so by combining <code>Object.entries</code> and <code>reduce</code>/<code>forEach</code> .

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">object</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">{</span>
  <span style="color: #06b6ef">a</span><span style="color: #5bc4bf">:</span> <span style="color: #f99b15">1</span><span style="color: #e7e9db">,</span>
  <span style="color: #06b6ef">b</span><span style="color: #5bc4bf">:</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">,</span>
  <span style="color: #06b6ef">c</span><span style="color: #5bc4bf">:</span> <span style="color: #f99b15">3</span><span style="color: #e7e9db">,</span>
<span style="color: #e7e9db">};</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">entries</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">Object.</span><span style="color: #06b6ef">entries</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">object</span><span style="color: #e7e9db">);</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newObject</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">entries</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">reduce</span><span style="color: #e7e9db">((</span><span style="color: #06b6ef">accumulator</span><span style="color: #e7e9db">,</span> <span style="color: #e7e9db">[</span><span style="color: #06b6ef">key</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">value</span><span style="color: #e7e9db">])</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
  <span style="color: #06b6ef">accumulator</span><span style="color: #e7e9db">[</span><span style="color: #06b6ef">key</span><span style="color: #e7e9db">]</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">*</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">;</span>
  <span style="color: #815ba4">return</span> <span style="color: #06b6ef">accumulator</span><span style="color: #e7e9db">;</span>
<span style="color: #e7e9db">},</span> <span style="color: #e7e9db">{});</span>

<span style="color: #776e71">// also works using forEach and mutating an object</span>
<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newObject</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">{};</span>
<span style="color: #06b6ef">entries</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">forEach</span><span style="color: #e7e9db">(([</span><span style="color: #06b6ef">key</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">value</span><span style="color: #e7e9db">])</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
  <span style="color: #06b6ef">newObject</span><span style="color: #e7e9db">[</span><span style="color: #06b6ef">key</span><span style="color: #e7e9db">]</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">*</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">;</span>
<span style="color: #e7e9db">});</span>

<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newObject</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// { a: 2, b: 4, c: 6 }</span></code>

In conclusion, <code>map</code> <em>can</em> be used to iterate over object keys and values as long as you transform the object keys and values into an array (via <code>Object.entries</code> or <code>Object.keys</code>). 
However, <code>map</code> isn't going to be capable of turning your transformed array back into an object—you will need to rely on something else such as <code>reduce</code> if you need your transformed data in an object.

<h3 id="javascript-map-edit-item">&emsp;Conditional Map: Changing Items in an Array</h3>

Another extremely useful way that we can use <code>map</code> is to only change a few items within the original array. 
For example, perhaps we only want to transform the numbers in an array that are 10 or above.

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">originalArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">5</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">10</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">15</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">20</span><span style="color: #e7e9db">];</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
  <span style="color: #815ba4">if</span> <span style="color: #e7e9db">(</span><span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">&gt;=</span> <span style="color: #f99b15">10</span><span style="color: #e7e9db">)</span> <span style="color: #e7e9db">{</span>
    <span style="color: #815ba4">return</span> <span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">*</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">;</span>
  <span style="color: #e7e9db">}</span>

  <span style="color: #815ba4">return</span> <span style="color: #06b6ef">number</span><span style="color: #e7e9db">;</span>
<span style="color: #e7e9db">});</span>

<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [5, 20, 30, 40]</span></code>

In this example we include a conditional statement <em>inside of our callback function</em> in order to return the modified value only when the number is 10 or higher. 
However, we also need to make sure we return something when we <em>don't</em> want to transform the number. 
We can just return <code>number</code> unchanged at the bottom of our callback function and we'll make sure that all numbers 10 and above are changed, while all numbers below 10 aren't. 
However, we can make this callback function with the conditional a lot shorter if we use a ternary statement to declare our conditional logic.

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">originalArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">5</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">10</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">15</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">20</span><span style="color: #e7e9db">];</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">=&gt;</span>
  <span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">&gt;=</span> <span style="color: #f99b15">10</span> <span style="color: #5bc4bf">?</span> <span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">*</span> <span style="color: #f99b15">2</span> <span style="color: #5bc4bf">:</span> <span style="color: #06b6ef">number</span><span style="color: #e7e9db">,</span>
<span style="color: #e7e9db">);</span>

<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [5, 20, 30, 40]</span></code>

The best thing about using <code>map</code> to conditionally update items in an array is that you can make that condition as strict or as loose as you'd like: you can even use <code>map</code> to update a <em>single item</em>:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">originalArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">5</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">10</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">15</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">20</span><span style="color: #e7e9db">];</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">=&gt;</span>
  <span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">===</span> <span style="color: #f99b15">10</span> <span style="color: #5bc4bf">?</span> <span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">*</span> <span style="color: #f99b15">2</span> <span style="color: #5bc4bf">:</span> <span style="color: #06b6ef">number</span><span style="color: #e7e9db">,</span>
<span style="color: #e7e9db">);</span>

<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [5, 20, 15, 20]</span></code>

Although this does iterate through the entire array to find and update a single item, I think it's very elegant and quite readable. 
I'd argue that unless you're operating on huge arrays with many, many items, you probably won't experience too much of a bottleneck using <code>map</code> and a conditional statement to update a single item.

<h3 id="javascript-map-two-dimensional-arrays">&emsp;Map Method for 2-dimensional Arrays</h3>

Also called a map within a map: Sometimes you'll come across a <em>multidimensional array</em> &ndash; that is, an array with nested arrays inside of it. 
You've probably seen these before, they looks like this:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">myArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[[</span><span style="color: #f99b15">1</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">3</span><span style="color: #e7e9db">],</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">4</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">5</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">6</span><span style="color: #e7e9db">],</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">7</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">8</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">9</span><span style="color: #e7e9db">]];</span></code>

We can use <code>map</code> to operate on these arrays as well—although it will only operate on the <em>top-level array</em>. 
If we call <code>map</code> on our array, our callback will get called with the <code>[1, 2, 3]</code> array the first time, <code>[4, 5, 6]</code> the second, and finally <code>[7, 8, 9]</code>.

If you'd like to keep the array two-dimensional, then you can proceed as usual with your callback function. 
Just remember that the callback function receives an <em>array</em> as the first argument! 
If you wanted to transform the internal arrays, you'll have to do a <code>map</code> inside your <code>map</code>:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">myArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[[</span><span style="color: #f99b15">1</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">3</span><span style="color: #e7e9db">],</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">4</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">5</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">6</span><span style="color: #e7e9db">],</span> <span style="color: #e7e9db">[</span><span style="color: #f99b15">7</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">8</span><span style="color: #e7e9db">,</span> <span style="color: #f99b15">9</span><span style="color: #e7e9db">]];</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">myArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">value</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">*</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">));</span>

<span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newArray</span><span style="color: #e7e9db">);</span> <span style="color: #776e71">// [[2, 4, 6], [8, 10, 12], [14, 16, 18]]</span></code>

However, if you'd like to turn your two-dimensional array into a <em>one-dimensional array</em> of transformed values, <code>map</code> isn't gonna be nearly as useful. 
What you're looking for is a <code>flatMap</code> function—which was recently released in <a href="http://2ality.com/2017/04/flatmap.html">ES2019</a>. 
What <code>flatMap</code> does is take a multidimensional array and turns it into single-dimensional array of transformed values. 
If you're not able to use the latest and greatest JavaScript features in ES2019, you can recreate your own <code>flatMap</code> function <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap#Alternative">by using <code>reduce</code></a>

<h2 class="chapter-header" id="debugging-map-method">Debugging the Map Method</h2>

There are a couple of common pitfalls you can run into when using JavaScript's Array Map Method. 
Let's dive into a few of them to give you an easier time getting started with it.

<h3 id="when-map-is-not-defined-as-a-function">&emsp;When map is not defined as a function</h3>

Perhaps the most common bug that you might encounter is the following: <em>map is not a function</em>. 
The reason that you would come across this error is that <code>map</code> is only a method on JavaScript arrays. 
If you try to call <code>map</code> on an <code>object</code> or on <code>null</code> or anything else, you'll get this error.

This can be pretty common when you're dealing with data that you can't fully trust. 
For example, think of a key in an API response that could be either an array <em>or</em> <code>null</code>. 
Later on, you want to operate on the data, but if you just confidently use <code>map</code> on the data you could end up with this &ldquo;map is not a function&rdquo;-exception. 
However, we can use a little bit of JavaScript logic to sanitize the data <em>before</em> we do our <code>map</code>:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #776e71">// originalArray could either be [1, 2, 3, 4] or null</span>
<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">(</span><span style="color: #06b6ef">originalArray</span> <span style="color: #5bc4bf">||</span> <span style="color: #e7e9db">[]).</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">number</span> <span style="color: #5bc4bf">*</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">);</span></code>

By adding <code>(originalArray || [])</code> before our <code>map</code> function, we guarantee that by the time we use <code>map</code> we're dealing with an array instead of <code>null</code>. 
This protects our program from raising an exception when the list is <code>null</code>. 
And because we're mapping over an empty array, we'll just get an empty array back in return.

Although it's a good tool to have in your toolbelt, I wouldn't lean on this trick too heavily. 
First off, it won't work on an object or string or any non-falsy item, so it's not 100% safe. 
Furthermore, if you've got data coming into your application that isn't reliable, you'll probably get more mileage out of normalizing data as it enters your app. 
That way, you can safely assume that you're dealing with an array instead of having to resort to <a target="_blank" rel="noopener noreferrer" href="https://medium.com/@vcarl/overly-defensive-programming-e7a1b3d234c2">overly defensive programming</a>.

<h3 id="logging-values-inside-of-map">&emsp;Logging values inside of map</h3>

Sometimes, when you're doing a <code>map</code> function you need to debug some values in the callback function. 
And if you're using arrow functions for your callbacks, adding a console log inside the arrow function requires adding curly braces, an explicit <code>return</code>, and the logging statement:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #776e71">// Before</span>
<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">*</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">);</span>

<span style="color: #776e71">// After</span>
<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
  <span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">value</span><span style="color: #e7e9db">);</span>
  <span style="color: #815ba4">return</span> <span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">*</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">;</span>
<span style="color: #e7e9db">});</span></code>

Over time this can begin to feel a little cumbersome, especially if you're deep into debugging some issue. However, we can leverage a little JavaScript logic to make debugging map a whole lot easier:

<code class="language-javascript" data-lang="javascript"><span></span><span style="color: #776e71">// Before</span>
<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">*</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">);</span>

<span style="color: #776e71">// After</span>
<span style="color: #815ba4">const</span> <span style="color: #06b6ef">newArray</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">originalArray</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">console</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">log</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">value</span><span style="color: #e7e9db">)</span> <span style="color: #5bc4bf">||</span> <span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">*</span> <span style="color: #f99b15">2</span><span style="color: #e7e9db">);</span></code>

All we have to do is add the <code>console.log(value)</code> with a <code>||</code> in front of our normal return value! 
Because <code>console.log</code> returns <code>undefined</code>, the <code>map</code> callback falls back to returning the <code>value * 2</code>. 
This nifty trick allows us to add logging statements to our <code>map</code> callbacks without having to convert the function syntax (and makes it a lot easier to clean up <code>console.log</code> statements when you're done).
<br>
<br>
<br>
<br>

<script>
	var toc = $('#toc');
	$('h2,h3,.topic').each(function(i) {
		var topic = $(this), topicNumber = i + 1;
		toc.append('<a href="#topic-'+topicNumber+'" target="_self">'+topic.text()+'</a><br>');
		topic.attr('id', 'topic-' + topicNumber);
	});
</script>
</body>
</html>
