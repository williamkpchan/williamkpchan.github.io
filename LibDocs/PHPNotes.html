<base target="_blank"><html><head><title>PHPNotes</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://williamkpchan.github.io/maincss.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script src="../lazyload.min.js"></script>
<script type='text/javascript' src='../mainscript.js'></script>
<script>
  var showTopicNumber = true;
  var bookid = "pppp" 
</script>
<style>
body{width:80%;margin-left: 10%; font-size:22px;}
h1, h2 {color: gold;}
strong {color: orange;}
img {max-width:90%; display: inline-block; margin-top: 2%;margin-bottom: 1%; border-radius:3px;}
b {color:brown;}

</style></head><body onkeypress="chkKey()"><center>
<h1>PHPNotes</h1>
<a href="#mustWatch" class="red goldbs" target="_self">Must Watch!</a>
<br><br>
<div id="toc"></div></center>
<br><br>

<div id="mustWatch"><center><span class="red">MustWatch</span></center><br>
<a href="http://localhost/searchDB.php" class="whitebut ">searchDB</a>
<a href="http://localhost/createQuizDB.php" class="whitebut ">createQuizDB</a>

<a href="http://localhost/new database.php" class="whitebut ">new database</a>

<a href="http://localhost/php creat database" class="whitebut ">php creat database</a><br>
<a href="PHP MySQLi.html" class="goldbut gold greenblackgrad whitebs embossts">PHP MySQLi</a> 
<a href="phpReference.html" class="redbut gold blueblackgrad goldbs">phpReference</a> 

<a href="PHP Interactive shell.html" class="whitebut ">PHP Interactive shell</a>
<a href="../PHP Tutorial for Beginners.html" class="bordred1 borRad10 white limebs" target="_blank">PHP Tutorial for Beginners</a>
<a href="https://www.exeoutput.com" class="whitebut gold redblackgrad">exeoutput php compiler</a>
<a href="https://phpocean.com/tutorials/back-end/create-your-first-desktop-application-with-php-and-php-desktop/4" class="greenbut blue goldblackgrad">PHP Desktop</a>
<br><br>
<a href="Practical PHP.html" class="redbut green">Practical PHP</a>
<a href="multi user role based admin.html" class="whitebut ">multi user role based admin</a>
<a href="https://nevonprojects.com/php-projects-topics-ideas/" class="whitebut ">Php Projects Topics & Ideas</a>

<a href="https://phpgurukul.com/php-projects-free-downloads/" class="whitebut ">PHP Projects Free Downloads</a>
<a href="https://megatech24.blogspot.com/2017/05/multi-user-role-based-login-in-php-and-mysql-with-session.html" class="whitebut ">PHP multi user role based admin</a>
<a href="https://www.wdb24.com/simple-role-based-access-control-example-using-php-and-mysqli/" class="whitebut ">Simple role based access control example using PHP and MYSQLi</a
<a href="https://www.w3schools.com/php/php_sessions.asp" class="whitebut ">PHP Sessions</a>
<a href="https://www.w3schools.com/php/php_filter.asp" class="whitebut ">PHP Filters</a>

<a href="https://www.w3schools.com/php/php_filter_advanced.asp" class="whitebut ">PHP Filters Advanced</a>

<a href="https://www.w3schools.com/php/php_json.asp" class="whitebut ">PHP JSON</a>
</div>
<pre>
<br>
<br>
<h2>invoke PHP Interactive shell</h2>
$ php -a

php > echo 5+8;

php > function addTwo($n)
{ return $n + 2;}
echo(addTwo(5));

var_dump(addtwo(2));

The interactive shell also features tab completion for functions, constants, class names, variables, static method calls and class constants.

Example Tab completion

Pressing the tab key twice when there are multiple possible completions will result in a list of these completions:

php > strp[TAB][TAB]
strpbrk   strpos    strptime  

When there is only one possible completion, pressing tab once will complete the rest on the same line:

php > strpt[TAB]ime(

Completion will also work for names that have been defined during the current interactive shell session:

php > $fooThisIsAReallyLongVariableName = 42;
php > $foo[TAB]ThisIsAReallyLongVariableName

The interactive shell stores your history which can be accessed using the up and down keys. 

The history is saved in the ~/.php_history file.

As of PHP 5.4.0, the CLI SAPI provides the php.ini settings cli.pager and cli.prompt. 

The cli.pager setting allows an external program (such as less) to act as a pager for the output instead of being displayed directly on the screen. 

The cli.prompt setting makes it possible to change the php > prompt.

In PHP 5.4.0 it was also made possible to set php.ini settings in the interactive shell using a shorthand notation.

Example #3 Setting php.ini settings in the interactive shell

The cli.prompt setting:

php > #cli.prompt=hello world :> 
hello world :>
Using backticks it is possible to have PHP code executed in the prompt:

php > #cli.prompt=`echo date('H:i:s');` php > 
php > #cli.prompt=php > 

php > sleep(2);

Setting the pager to less:
php > #cli.pager=less
php > phpinfo();
 (output displayed in less)

The cli.prompt setting supports a few escape sequences:

cli.prompt escape sequences
Sequence	Description
\e	Used for adding colors to the prompt. 
     An example could be \e[032m\v \e[031m\b \e[34m\> \e[0m
\v	The PHP version.
\b	Indicates which block PHP is in. 
     For instance /* to indicate being inside a multi-line comment. 
     The outer scope is denoted by php.
\>	Indicates the prompt character. 

By default this is >, but changes when the shell is inside an unterminated block or string. 
Possible characters are: ' " { ( >

Note:
Files included through auto_prepend_file and auto_append_file are parsed in this mode but with some restrictions - e.g. functions have to be defined before called.

<a href="https://www.php.net/manual/en/features.commandline.php" class="whitebut ">PHP commandline</a>

type 'h' or 'help' to see instructions & features

Printing strings:
php> echo 'hi';

Do some math:
php> echo 1+2;

Print some builtin variables:
php> echo $_SERVER;

Print contents of that array:
php> print_r($_SERVER);

Get a key of that array:
php> echo $_SERVER['TERM'];

Addition of a different kind:
php> =2+2

Print the previous:
php> = $_

Store a variable:
php> $msg = "don't just sit there fancy pants, take the wheel";

An equation can be held open through newlines until it completes:
php> =2+
 ... 3+
 ... 4+5

Define our own arrays:
php> $derp = array(1,2,3);
php> echo $derp

Get the type of a variable:
php> echo gettype(PHP_VERSION);

For great justice, loops:
php> $i = 0; while ($i &lt; 3){$i++; echo "pinkie pie is best pony ";}

Get yerself some info:
php> phpinfo();

Explode parses the string on space into an array, print_r pretty prints it:
php> function little_bad_girl(){ print_r(explode(" ", "oxy contin")); }
php> little_bad_girl();

Foreach structure can be extended onto following lines.
php> foreach (array(1,2,3) as $item) {
 ... echo $item;
 ... }

Block comments are ignored:
php> /* echo "hidden"; */

Read from a file:
php> $section = file_get_contents('/home/el/myfile.txt');
php> echo $section;

php> echo time();

Pure sweet truth:
php> echo isset($_SERVER);

Make an array, search for an item in it.
php> $data = array(0, 1, 2);    
php> echo preg_grep("/1/", $data);
php> print_r( preg_grep("/1/", $data));
php> print_r( preg_grep("/4/", $data));

<h2>explode function split string by delimiter (comma, space, tab etc) </h2>
The PHP explode function splits a string by a delimiter string. 
It is the opposite of implode.

&lt;?php
// split by comma
$colors = "red,green,blue";
var_dump(explode(",", $colors));

$thedict = (explode(",", $colors));
echo $thedict[2];

// split by comma-space
$colors = "red, green, blue";
var_dump(explode(", ", $colors));

// split by space - extra space yields extra elements
$colors = "red green   blue";
var_dump(explode(" ", $colors));

// split by comma
$colors = "red	green	blue";
var_dump(explode("\t", $colors));
?>


<h2>change working directory</h2>
echo getcwd();

// Change directory function 
chdir("D:/wamp64/www/webscraping"); 
echo getcwd();


<h2>PHP Programming</h2>
<a href="https://www.youtube.com/watch?v=7TF00hJI78Y&t=1042s">PHP Programming</a>


<h2>Execute PHP Online</h2>
<a href="http://sandbox.onlinephpfunctions.com/">Test Php Functions Online</a>
<a href="https://www.tutorialspoint.com/execute_php_online.php">Execute PHP Online</a>

<h2>Basic PHP</h2>
<a href="https://www.w3schools.com/php/php_if_else.asp" target="_blank">php tutorial</a>
<a href="PHP Examples.html" target="_blank"><span class="redb">♦PHP Examples</span></a>

A PHP script can be placed anywhere in the document.
A PHP script starts with <?php and ends with ?>:

&lt;?php
// PHP code goes here
?&gt;
The default file extension for PHP files is ".php".

In PHP, all keywords (e.g. if, else, while, echo, etc.), classes, functions, and user-defined functions are NOT case-sensitive.
However; all variable names ARE case-sensitive.

Comments:
// This is a single-line comment
# This is also a single-line comment
/*
This is a multiple-lines comment block
that spans over multiple
lines
*/
// You can also use comments to leave out parts of a code line
$x = 5 /* + 15 */ + 5;

In PHP, a variable starts with the $ sign, followed by the name of the variable:
$txt = "Hello world!";
$x = 5;
$y = 10.5;

The PHP echo statement is often used to output data to the screen.

A variable declared outside a function has a GLOBAL SCOPE and can only be accessed outside a function:
A variable declared within a function has a LOCAL SCOPE and can only be accessed within that function:
The global keyword is used to access a global variable from within a function.

The static Keyword:
Normally, when a function is completed/executed, all of its variables are deleted. However, sometimes we want a local variable NOT to be deleted. We need it for a further job.
To do this, use the static keyword when you first declare the variable:

Example

&lt;?php
function myTest() {
    static $x = 0;
    echo $x;
    $x++;
}
myTest();  //0
myTest();  //1
myTest();  //2
?&gt;


<h2>PHP tutorials</h2>
<a href="tutorialspointPHP.html" target="_blank"><span class="redword">tutorialspointPHP</span></a>




<h2>Database Queries</h2>
A query is a question or a request.

SELECT LastName FROM Employees
The query above selects all the data in the "LastName" column from the "Employees" table.

PHP 5 and later can work with a MySQL database using:
MySQLi extension (the "i" stands for improved)
PDO (PHP Data Objects)

PHP Connect to MySQL
Before we can access data in the MySQL database, we need to be able to connect to the server:

&lt;?php
$servername = "localhost";
$username = "username";
$password = "password";

// Create connection
$conn = new mysqli($servername, $username, $password);

// Check connection
if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
} 
echo "Connected successfully";
?&gt;



<h2>=> is the separator for <b>associative arrays</b></h2>

The <b>double arrow operator, =></b>, is used as an access mechanism for arrays. 

$age = array("Peter"=>"35", "Ben"=>"37", "Joe"=>"43");

foreach($age as $x=>$x_value)
  { echo "Key=" . $x . ", Value=" . $x_value . "&lt;br>"; }
note that the <b>printed keyname</b>!

this get array names
$newArray = array_keys($array);

this get array values
array_values — Return all the values of an array
$arratValues = array_values($array)

$myArray = array(
    0 => 'Big',
    1 => 'Small',
    2 => 'Up',
    3 => 'Down'
);

=> is used in associative array key value assignment.

The <b>object operator, -></b>, is used in object scope to <b>access methods and properties</b> of an object. 
It’s meaning is to say that what is on the right of the operator is a member of the object instantiated into the variable on the left side of the operator. 

-> is used to access an object method or property. 
Example: $obj->method().

Instantiated is the key term here.

// Create a new instance of MyObject into $obj
$obj = new MyObject();
// Set a property in the $obj object called thisProperty
$obj->thisProperty = 'Fred';
// Call a method of the $obj object named getProperty
$obj->getProperty();

Example:

$user_list = array(
    'dave' => 'apassword',
    'steve' => 'secr3t'
);

foreach ($user_list as $user => $pass) {
    echo "{$user}'s pass is: {$pass}\n";
}

PHP Associative Arrays
In an associative array, we can associate any key with each value.
$prices = array( 'Tires'=>100, 'Oil'=>10, 'Spark Plugs'=>4 );

There are two ways to create an associative array: 
$age = array("Peter"=>"35", "Ben"=>"37", "Joe"=>"43");
or:
$age['Peter'] = "35";
$age['Ben'] = "37";
$age['Joe'] = "43";

The syntax for accessing elements in an associative array is $arr['key']. The syntax for accessing properties of objects is $obj->prop.

$anArray = array(0 => 100, "color" => "red");
echo array_keys($anArray);

$anArray = array("blue", "red", "green", "blue", "blue");
print_r(array_keys($anArray, "blue"));

$anArray = array("color" => array("blue", "red", "green"),
               "size"  => array("small", "medium", "large"));
print_r(array_keys($anArray));

<h2>PHP Tutorial</h2>
<a href="../PHP Tutorial for Beginners.html" target="_blank"><span class="greensha">&diams;PHP Tutorial for Beginners</span></a>



<h2>PHPMySQL tutorial</h2>
<a href="PHPMySQL.html" target="_blank"><span class="redsha">&diams;PHPMySQL</span></a>
<a href="PHP mySQL.html" target="_blank" class="redbut">&diams;w3 PHP mySQL</a>

<a href="http://www.youtube.com/watch?v=lGYixKGiY7Y&list=PL83Mj1fea94iK79QaJ9-RYn-oLPiSvCw8" class="whitebut ">php sql html css and javascript</a>

<a href="http://www.w3schools.com/php/php_ajax_database.asp" class="whitebut ">PHP - AJAX and MySQL</a>



<h2>php-login-form</h2>
<a href="https://www.tutorialspoint.com/php/php_login_example.htm">php_login_example</a>
<a href="https://www.tutorialspoint.com/php/php_mysql_login.htm">php_mysql_login</a>
<a href="http://form.guide/php-form/php-login-form.html">php-login-form</a>
<a href="https://gist.github.com/smonteverdi/1993937">github php-login-form</a>
<a href="https://www.tutorialrepublic.com/php-tutorial/php-mysql-login-system.php">php-mysql-login-system</a>

<a href="Create Login Script in PHP and MySql.html" target="_blank"><span class="redb">Create Login Script in PHP and MySql</span></a>

  <span class="gold">&lt;input type="password" id="pwd" name="pwd" minlength="8"></span>


<h2>Online-Exam-System</h2>
<a href="https://github.com/sunnygkp10/Online-Exam-System-">Online-Exam-System</a>



<h2>PHP Samples</h2>
<a href="PHP Samples.html" target="_blank"><span class="redb">PHP Samples</span></a>
<a href="https://www.w3schools.com/php/php_examples.asp">php examples</a>
. <a href="http://www.java2s.com/Code/Php/CatalogPhp.htm">PHP examples Organized by topic</a>
<a href="https://www.tutorialrepublic.com/php-examples.php" class="whitebut ">PHP Examples</a>
<a href="https://projectworlds.in/free-projects/php-projects/" class="whitebut ">Free Projects Latest Version of PHP Made</a>



<h2>PHP Desktop</h2>
<a href="https://phpocean.com/tutorials/back-end/create-your-first-desktop-application-with-php-and-php-desktop/4" class="goldbut red whitebs">PHP Desktop</a>

<h2>phpMyAdmin</h2>
phpMyAdmin is a free software tool written in PHP, intended to handle the administration of MySQL over the Web.
phpMyAdmin supports a wide range of operations on MySQL and MariaDB. 

Frequently used operations (managing databases, tables, columns, relations, indexes, users, permissions, etc) can be performed via the user interface, while you still have the ability to directly execute any SQL statement.

https://www.phpmyadmin.net/

<h2>Web Scraping</h2>
<a href="http://www.prowebscraper.com/blog/web-scraping-using-php/">Web Scraping with PHP</a>
<a href="Web Scraping with PHP.html" target="_blank"><span class="redb">Web Scraping with PHP</span></a>
<a href="https://dzone.com/articles/8-awesome-php-web-scraping-libraries-and-tools">PHP Web Scraping Libraries and Tools</a>
<a href="https://www.misterngan.com/1482/php-web-scraping-chinese-content/">用 php 來做 Web Scraping</a>
<a href="https://www.endpoint.com/blog/2016/07/07/scrape-web-content-with-php-no-api-no">Scrape web content with PHP</a>

Guzzle: An Independent HTTP client, so no need to depend on cURL, SOAP or REST.
Goutte: Built on Guzzle & some of Symfony components by Symfony developer.
hQuery: A fast scraper with caching capabilities. high performance on scraping large docs.
Requests: Famous for its user-friendly usage.
Buzz: A lightweight client, ideal for beginners.
ReactPHP: Async scraper, with comprehensive tutorials & examples

<b class="red">PHP Simple HTML DOM Parser</b> provides a very easy way to find, extract and modify the HTML elements of the dom. 

// Create DOM from URL or file
$html = file_get_html('http://www.google.com/');

// Find all images
foreach($html->find('img') as $element)
       echo $element->src . '&lt;br>';

// Find all links
foreach($html->find('a') as $element)
       echo $element->href . '&lt;br>';

<b class="cyanword">file_get_contents</b> will load the response body into a string but 
<b class="cyanword">file_get_html</b> will load it into simple-html-dom

$dom = file_get_html($url);
$tables = $dom->find('table');
echo $tables[0];
echo $tables[1];

Alternatively you could use file_get_contents along with str_get_html:
$dom = str_get_html(file_get_contents($url));
But that would be silly.


Use simple_html_dom
example

&lt;?php
require 'simple_html_dom.php';

$html = file_get_html('http://www.google.com/');
$title = $html-&gt;find('title', 0);
$image = $html-&gt;find('img', 0);

echo $title-&gt;plaintext."&lt;br&gt;\n";
echo $image-&gt;src;
?&gt;

Second example, without an external library
note that using regex on HTML is NOT a good idea.

&lt;?php
$data = file_get_contents('http://www.google.com/');

preg_match('/&lt;title&gt;([^&lt;]+)&lt;\/title&gt;/i', $data, $matches);
$title = $matches[1];

preg_match('/&lt;img[^&gt;]*src=[\'"]([^\'"]+)[\'"][^&gt;]*&gt;/i', $data, $matches);
$img = $matches[1];

echo $title."&lt;br&gt;\n";
echo $img;
?&gt;


<h2>DOM Parser Example</h2>
<a href="https://www.tutorialspoint.com/php/php_dom_parser_example.htm">DOM Parser Example</a>

<h2>access php variables in javascript or jquery</h2>
<a href="https://stackoverflow.com/questions/1808108/how-to-access-php-variables-in-javascript-or-jquery-rather-than-php-echo-vari">access php variables in javascript or jquery</a>

the most simple way of passing PHP variables to JavaScript,
can also use <b>json_encode</b> for more complex things like arrays:

&lt;?php
    $simple = 'simple string';
    $complex = array('more', 'complex', 'object', array('foo', 'bar'));
?&gt;
&lt;script type="text/javascript"&gt;
    var simple = '&lt;?php echo $simple; ?&gt;';
    var complex = &lt;?php echo json_encode($complex); ?&gt;;
&lt;/script&gt;

Other than that, if you really want to "interact" between PHP and JavaScript you should use Ajax.

Using cookies for this is a very unsafe and unreliable way, as they are stored clientside and therefore open for any manipulation or won't even get accepted/saved. 
Don't use them for this type of interaction. 
jQuery.ajax is a good start.

If AJAX isn't an option you can use nested data structures to simplify.
&lt;?php
$var = array(
    'qwe' =&gt; 'asd',
    'asd' =&gt; array(
        1 =&gt; 2,
        3 =&gt; 4,
    ),
    'zxc' =&gt; 0,
);
?&gt;
&lt;script&gt;var data = &lt;?php echo json_encode($var); ?&gt;;&lt;/script&gt;


alert('&lt;?php echo($phpvariable); ?&gt;');
echo() ing them directly into the Javascript source code is the most reliable and downward compatible way.

<h2>To pass JavaScript variables to PHP</h2>
JavaScript is the client side and PHP is the server side script language. The way to pass a JavaScript variable to PHP is through a request.

Method 1:
Use form element and GET/POST method to pass JavaScript variables to PHP. The form contents can be accessed through the GET and POST actions in PHP.

Method 2: Using Cookies to store information:
Client Side: Use Cookie to store the information, which is then requested in the PHP page.

// Creating a cookie after the document is ready 
$(document).ready(function () { 
    createCookie("gfg", "GeeksforGeeks", "10"); 
}); 
   
// Function to create the cookie 
function createCookie(name, value, days) { 
    var expires; 
    if (days) { 
        var date = new Date(); 
        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000)); 
        expires = "; expires=" + date.toGMTString(); 
    } 
    else { 
        expires = ""; 
    } 
    document.cookie = escape(name) + "=" +  
        escape(value) + expires + "; path=/"; 
} 

Server Side(PHP):
On the server side, we request for the cookie by specifying the name gfg and extract the data to display it on the screen.

    echo $_COOKIE["gfg"]; 

<h2>php regular expressions</h2>
<a href="https://www.tutorialrepublic.com/php-tutorial/php-regular-expressions.php">php regular expressions</a>

PHP has two sets of regular expression functions: the ereg and preg functions. 
The preg functions support a modern full-featured regex syntax based on the PCRE library and are recommended for new code.

The ereg functions are deprecated, but RegexBuddy still fully supports them so you can maintain existing code or convert your regular expressions from PHP’s ereg flavor to the preg flavor.


&lt;?php
// Returns true if "abc" is found anywhere in $string.
ereg("abc", $string);            

// Returns true if "abc" is found at the beginning of $string.
ereg("^abc", $string);

// Returns true if "abc" is found at the end of $string.
ereg("abc$", $string);

// Returns true if client browser is Netscape 2, 3 or MSIE 3.
eregi("(ozilla.[23]|MSIE.3)", $_SERVER["HTTP_USER_AGENT"]);

// Places three space separated words into $regs[1], $regs[2] and $regs[3].
ereg("([[:alnum:]]+) ([[:alnum:]]+) ([[:alnum:]]+)", $string, $regs); 

&// Put a lt;br /&gt; tag at the beginning of $string.
&$string = ereg_replace("^", "lt;br /&gt;", $string); 

&// Put a lt;br /&gt; tag at the end of $string.
&$string = ereg_replace("$", "lt;br /&gt;", $string); 

// Get rid of any newline characters in $string.
$string = ereg_replace("\n", "", $string);
?&gt;


<h2>phpadmin</h2>
username: root
password: &lt;blank&gt;

<h2>save output of a php file in a html</h2>
<a href="https://stackoverflow.com/questions/2522609/save-output-of-a-php-file-in-a-html-file">save output of a php file in a html file</a>


<h2>daily logbook Tool</h2>
daily logbook
date
caption
link to detail documents

plannings:
date
caption
link to detail documents

Notes: html format, using php database
retrive by ctrl+F to find, add toc
new date no top


<h2>PHP Multiple Choice</h2>
<a href="https://www.sanfoundry.com/1000-php-questions-answers/">1000 php questions answers</a>
<a href="http://flesl.net/Technical/sample_code_m-c_quiz(uncommented).php">sample php code m-c quiz</a>
<a href="https://www.phptutorial.info/scripts/multiple_choice/index.php">Create PHP script for Multiple Choice Questions</a>
<a href="https://github.com/dprabin/simple-php-quiz">simple php quiz</a>
<a href="https://dzone.com/articles/building-simple-quiz-php">building php simple quiz </a>

<h2>functions-in-php</h2>
<a href="https://www.php.net/manual/en/indexes.functions.php">Function and Method listing</a>
<a href="https://www.guru99.com/functions-in-php.html">functions-in-php</a>
<a href="https://matthewhorne.me/learning-php-101-built-in-functions/">php-101-built-in-functions</a>
<a href="https://vegibit.com/the-top-9-most-popular-php-string-functions/">most-popular-php-string-functions</a>
<a href="https://www.phpzag.com/commonly-used-php-functions/">commonly-used-php-functions</a>
<a href="https://boyter.org/2011/03/list-of-most-commonly-used-php-functions/">most-commonly-used-php-functions</a>

<h2>PHP Libraries</h2>
<a href="https://tutorialzine.com/2013/02/24-cool-php-libraries-you-should-know-about">24 Cool Php Libraries</a>
<a href="https://medium.com/issuehunt/50-most-popular-php-projects-on-github-c8cf6a242eb9">most popular php projects</a>
<a href="https://www.programmableweb.com/news/15-best-php-libraries-every-developer-should-know/analysis/2015/11/18">15 PHP Libraries</a>

<h2>PHP Server Browser communication</h2>
<a href="https://stillat.com/blog/2014/04/02/how-does-php-work-with-the-web-server-and-browser">PHP Work With The Web Server And Browser</a>

<a href="https://stackoverflow.com/questions/6646733/client-to-client-socket-with-php">Client to client socket with php</a>


<h2>JavaScript cannot call the PHP function, even from Ajax. </h2>
What Ajax does, is ask for data that is outputted from a PHP file. 
Ajax will only fetch the string that was printed from PHP.

=========
Client side do something like

<h2>bind ajax call on your button click</h2>
when the button click it will trigger the ajax call.
=======
$(document).ready(function()
{
// when button click it will trigger ajax call
 $("#button").click(function(){
     $.ajax({
         type: "GET",
         url: "name.php",
         data: { name: "John" },
         success: function(data) {
            // on successfull return it will alert the data 
            alert("Data saved: " + data);
         }    
      });
  });
});
&lt;input type="button" id="button" value="Click me"&gt;

data will contain all the string that was printed from your PHP file. 
If you expect an array, you need to convert it into a JSON.

=======
And in your name.php
====
 &lt;?php
    // get your data you send from ajax 
   $name = $_GET['name'];
   // it will echo the "hello $name" and return it
   greet($name);

   function greet($name)
   {
     echo "hello $name";
   }
 ?&gt;


<h2>HTTP GET and POST Methods in PHP</h2>
<a href="https://www.w3schools.in/php/get-post/">php get-post</a>

What is HTTP?
The Hypertext Transfer Protocol (HTTP) is designed to enable communications between clients and servers.

There are two HTTP request methods: GET and POST

GET – Requests data from a specified resource.
POST – Submits data to be processed to a specified resource.

The GET Method
====
In GET method the data is sent as URL parameters that are usually strings of name and value pairs separated by ampersands (&). 
In general, a URL with GET data will look like this:

Example :
http://www.example.com/action.php?name=Sam&weight=55

More than one parameter=value can be embedded in the URL by concatenating with ampersands (&).

One can only send simple text data via GET method.

&lt;?php
   if( $_GET["name"] || $_GET["weight"] ) { 
      echo "Welcome ". $_GET['weight']. "&lt;br /&gt;"; 
      echo "You are ". $_GET['weight']. " kgs in weight."; 
      exit(); 
   } 
?&gt; 

&lt;html&gt; 
   &lt;body&gt; 
      &lt;form action = "&lt;?php $_PHP_SELF ?&gt;" method = "GET"&gt; 
         Name: &lt;input type = "text" name = "name" /&gt; 
         Weight: &lt;input type = "text" name = "weight" /&gt; 
         &lt;input type = "submit" /&gt; 
      &lt;/form&gt; 
   &lt;/body&gt; 
&lt;/html&gt; 

Advantages of Using the GET Method

Since the data sent by the GET method are displayed in the URL, it is possible to bookmark the page with specific query string values.
GET requests can be cached and GET requests remain in the browser history.
GET requests can be bookmarked.

Disadvantages of Using the GET Method

The GET method is not suitable for passing sensitive information such as the username and password, because these are fully visible in the URL query string as well as potentially stored in the client browser’s memory as a visited page.
Because the GET method assigns data to a server environment variable, the length of the URL is limited. So, there is a limitation for the total data to be sent.

The POST Method
====
In POST method the data is sent to the server as a package in a separate communication with the processing script. 
Data sent through POST method will not be visible in the URL.

EXAMPLE :
POST /test/demo_form.php HTTP/1.1
Host: gfs.com
SAM=451&MAT=62

&lt;?php
   if( $_POST["name"] || $_POST["weight"] ) { 
      if (preg_match("/[^A-Za-z'-]/",$_POST['name'] )) { 
         die ("invalid name and name should be alpha"); 
      } 
      echo "Welcome ". $_POST['name']. "&lt;br /&gt;"; 
      echo "You are ". $_POST['weight']. "kgs in weight."; 
      exit(); 
   } 
?&gt; 

&lt;html&gt; 
   &lt;body&gt;    
      &lt;form action = "&lt;?php $_PHP_SELF ?&gt;" method = "POST"&gt; 
         Name: &lt;input type = "text" name = "name" /&gt; 
         Weight: &lt;input type = "text" name = "weight" /&gt; 
         &lt;input type = "submit" /&gt; 
      &lt;/form&gt; 
   &lt;/body&gt; 
&lt;/html&gt; 

Advantages of using POST Method

It is more secure than GET because user-entered information is never visible in the URL query string or in the server logs.
There is a much larger limit on the amount of data that can be passed and one can send text data as well as binary data (uploading a file) using POST.

Disadvantages of using the POST Method

Since the data sent by the POST method is not visible in the URL, so it is not possible to bookmark the page with specific query.
POST requests are never cached
POST requests do not remain in the browser history.

<h2>Execute PHP function with onclick</h2>
<a href="https://stackoverflow.com/questions/19323010/execute-php-function-with-onclick">Execute PHP function with onclick</a>

&lt;a role="button" href="?action=removeday" class="debatebtn">Delete&lt;/a>
where the action is caught and runs the removeday() function similar to if($action == 'removeday'){ removeday(); }.

function removeday() { ... }

PHP: It only runs by the server and responds to requests like clicking on a link (GET) or submitting a form (POST).

HTML & JavaScript: It only runs in someone's browser (excluding NodeJS).

&lt;!DOCTYPE HTML>
&lt;html>
&lt;?php
  function runMyFunction() { echo 'I just ran a php function'; }

  if (isset($_GET['hello'])) { runMyFunction(); }
?>

Hello there!
&lt;a href='index.php?hello=true'>Run PHP Function&lt;/a>
&lt;/html>


The myfnc() exists on the server-side and is to be executed on the server-side only, it will not appear on the client-side, you have to submit the form to the server and call the function over there, try this:

&lt;?php
if (isset($_POST['submit'])){ myfnc();}

function myfnc(){echo "Hello world" ;}
?>

&lt;form action="trytocallfunction.php" method="post">
&lt;input type="submit" name="submit" value="submit">
&lt;/form>
If you don't want to refresh the page, you can make a request to PHP without refreshing via a method called Asynchronous JavaScript and XML (AJAX).

PHP only responds to requests (GET, POST, PUT, PATCH, and DELETE via $_REQUEST), this is how you have to run a PHP function even though they're in the same file.


In javascript, make an ajax function,

function myAjax() {
      $.ajax({
           type: "POST",
           url: 'your_url/ajax.php',
           data:{action:'call_this'},
           success:function(html) {
             alert(html);
           }
      });
 }
Then call from html,
&lt;a href="" onclick="myAjax()" class="deletebtn">Delete&lt;/a>

And in your ajax.php,
if($_POST['action'] == 'call_this') {
  // call removeday() here
}

<h2>PHP web scraping</h2>
I recommend you consider simple_html_dom for this. 
It will make it very easy.

Here is a working example of how to pull the title, and first image.

&lt?php
require 'simple_html_dom.php';

$html = file_get_html('http://www.google.com/');
$title = $html->find('title', 0);
$image = $html->find('img', 0);

echo $title->plaintext."&ltbr>\n";
echo $image->src;
?>

Here is a second example that will do the same without an external library. 
I should note that using regex on HTML is NOT a good idea.

&lt?php
$data = file_get_contents('http://www.google.com/');

preg_match('/&lttitle>([^&lt]+)&lt\/title>/i', $data, $matches);
$title = $matches[1];

preg_match('/&ltimg[^>]*src=[\'"]([^\'"]+)[\'"][^>]*>/i', $data, $matches);
$img = $matches[1];

echo $title."&ltbr>\n";
echo $img;
?>

<h2>PHP Open File - fopen()</h2>
Example
&lt;?php
$myfile = fopen("webdictionary.txt", "r") or die("Unable to open file!");
echo fread($myfile,filesize("webdictionary.txt"));
fclose($myfile);
?>
Tip: The fread() and the fclose() functions will be explained below.

The file may be opened in one of the following modes:

Modes	Description
r	Open a file for read only. File pointer starts at the beginning of the file
w	Open a file for write only. Erases the contents of the file or creates a new file if it doesn't exist. File pointer starts at the beginning of the file
a	Open a file for write only. The existing data in file is preserved. File pointer starts at the end of the file. Creates a new file if the file doesn't exist
x	Creates a new file for write only. Returns FALSE and an error if file already exists
r+	Open a file for read/write. File pointer starts at the beginning of the file
w+	Open a file for read/write. Erases the contents of the file or creates a new file if it doesn't exist. File pointer starts at the beginning of the file
a+	Open a file for read/write. The existing data in file is preserved. File pointer starts at the end of the file. Creates a new file if the file doesn't exist
x+	Creates a new file for read/write. Returns FALSE and an error if file already exists

<h2>PHP Read File - fread()</h2>
The fread() function reads from an open file.

The first parameter of fread() contains the name of the file to read from and the second parameter specifies the maximum number of bytes to read.

The following PHP code reads the "webdictionary.txt" file to the end:

fread($myfile,filesize("webdictionary.txt"));

<h2>PHP Close File - fclose()</h2>
The fclose() function is used to close an open file.

It's a good programming practice to close all files after you have finished with them. You don't want an open file running around on your server taking up resources!

The fclose() requires the name of the file (or a variable that holds the filename) we want to close:

&lt;?php
$myfile = fopen("webdictionary.txt", "r");
// some code to be executed....
fclose($myfile);
?>

<h2>PHP Read Single Line - fgets()</h2>
The fgets() function is used to read a single line from a file.

The example below outputs the first line of the "webdictionary.txt" file:

Example
&lt;?php
$myfile = fopen("webdictionary.txt", "r") or die("Unable to open file!");
echo fgets($myfile);
fclose($myfile);
?>
Note: After a call to the fgets() function, the file pointer has moved to the next line.

<h2>PHP Check End-Of-File - feof()</h2>
The feof() function checks if the "end-of-file" (EOF) has been reached.

The feof() function is useful for looping through data of unknown length.

The example below reads the "webdictionary.txt" file line by line, until end-of-file is reached:

Example
&lt;?php
$myfile = fopen("webdictionary.txt", "r") or die("Unable to open file!");
// Output one line until end-of-file
while(!feof($myfile)) {
  echo fgets($myfile) . "&lt;br>";
}
fclose($myfile);
?>

<h2>PHP Read Single Character - fgetc()</h2>
The fgetc() function is used to read a single character from a file.

The example below reads the "webdictionary.txt" file character by character, until end-of-file is reached:

Example
&lt;?php
$myfile = fopen("webdictionary.txt", "r") or die("Unable to open file!");
// Output one character until end-of-file
while(!feof($myfile)) {
  echo fgetc($myfile);
}
fclose($myfile);
?>
Note: After a call to the fgetc() function, the file pointer moves to the next character.

<h2>PHP readfile() Function</h2>
Example
Read a file:

&lt;?php
echo readfile("test.txt");
?>
Definition and Usage
The readfile() function reads a file and writes it to the output buffer.

Tip: You can use a URL as a filename with this function if the fopen wrappers have been enabled in the php.ini file.

Syntax
readfile(file, include_path, context)
Parameter Values
Parameter	Description
file	Required. Specifies the file to read
include_path	Optional. Set this parameter to TRUE if you want to search for the file in the include_path (in php.ini) as well
context	Optional. Specifies the context of the file handle. Context is a set of options that can modify the behavior of a stream

<h2>PHP file_get_contents() Function</h2>
<?php
$homepage = file_get_contents('http://www.example.com/');
echo $homepage;

echo nl2br( file_get_contents('risingList.txt') );
?>

<a href="https://www.php.net/manual/en/function.preg-split.php">preg_split()</a> - Split string by a regular expression
<a href="https://www.php.net/manual/en/function.str-split.php">str_split()</a> - Convert a string to an array
<a href="https://www.php.net/manual/en/function.mb-split.php">mb_split()</a> - Split multibyte string using regular expression
<a href="https://www.php.net/manual/en/function.str-word-count.php">str_word_count()</a> - Return information about words used in a string
<a href="https://www.php.net/manual/en/function.strtok.php">strtok()</a> - Tokenize string
<a href="https://www.php.net/manual/en/function.implode.php">implode()</a> - Join array elements with a string

<h2>PHP get user input</h2>
You can't take input in the middle of php execution since it finishes before the page is actually shown to the user. 
However, you can get input using HTML and receive that using php. 
Here's a really basic example:

&lt;?php
    echo $_POST['value'];
?>
&lt;form method="post" action="">
&lt;input type="text" name="value">
&lt;input type="submit">
&lt;/form>
It takes the user input and reloads the page. 
Then, it echoes what the input was.

<h2>phpChart</h2>
<a href="https://canvasjs.com/php-charts/" class="whitebut ">canvasjs</a>

<h2>two-dimensional array</h2>

$cars = array
  (
  array("Volvo",22,18),
  array("BMW",15,13),
  array("Saab",5,2),
  array("Land Rover",17,15)
  );

echo $cars[0][0].": In stock: ".$cars[0][1].", sold: ".$cars[0][2];
echo $cars[1][0].": In stock: ".$cars[1][1].", sold: ".$cars[1][2];
echo $cars[2][0].": In stock: ".$cars[2][1].", sold: ".$cars[2][2];
echo $cars[3][0].": In stock: ".$cars[3][1].", sold: ".$cars[3][2];

for ($row = 0; $row < 4; $row++) {
  echo "Row number $row ";
  echo "&lt;ul>";
  for ($col = 0; $col < 3; $col++) {
    echo "<li>".$cars[$row][$col]."</li>";
  }

echo gettype($data)

echo count($data);
echo sizeof($data);
print_r($data[1]);

If you send a PHP array into a function that expects a string like: echo or print, then the PHP interpreter will convert your array to the literal string Array, throw this Notice and keep going. For example:

php> print(array(1,2,3))

In this case, the function print dumps the literal string: Array to stdout and then logs the Notice to stderr and keeps going.

when you echo an array, all it does is print Array and a notice.
To print properly an array, you either loop through it and echo each element, or you can use print_r.

Use json_encode to collapse the array to json string:
$stuff = array(1,2,3);
print json_encode($stuff);   //Prints [1,2,3]

Joining all the cells in the array together:
    $stuff = array(1,2,3);
    print implode(", ", $stuff);    //prints 1, 2, 3
    print join(',', $stuff);        //prints 1, 2, 3

suppress the Notices:
error_reporting(0);
print(array(1,2,3));    //Prints 'Array' without a Notice.

<h2>Filtering the Records</h2>
<a href="https://www.tutorialrepublic.com/php-tutorial/php-mysql-where-clause.php" class="whitebut ">Filtering the Records</a>
PHP code selects all the rows from the persons table where first_name='john':

<h2>PHP CRUD</h2>
<a href="https://tutorialsclass.com/code/php-simple-crud-application" class="whitebut ">PHP CRUD</a>

<h2>PHP MySQL Ajax Live Search</h2>
<a href="PHP MySQL Ajax Live Search.html" class="whitebut ">PHP MySQL Ajax Live Search</a>

<h2>to retrieve data storage from page 1</h2>
// page1.php
session_start();
echo 'Welcome to page #1';
$_SESSION['favcolor'] = 'green';
$_SESSION['animal']   = 'cat';
$_SESSION['time']     = time();
// page2.php
session_start();
echo 'Welcome to page #2<br />';
echo $_SESSION['favcolor'];
echo $_SESSION['animal'];
echo date('Y m d H:i:s', $_SESSION['time']);

<h2>error_reporting</h2>
error_reporting(0);	关闭所有PHP错误报告
error_reporting(E_ERROR | E_WARNING | E_PARSE);	Report simple running errors
error_reporting(-1);	报告所有 PHP 错误

<h2>isset() Determine if a variable is declared and is different than NULL</h2>

$var = '';
// This will evaluate to TRUE so the text will be printed.
if (isset($var)) { echo "This var is set so I will print.";}

// this time use var_dump to output the return value of isset().
$a = "test";
$b = "anothertest";

var_dump(isset($a));      // TRUE
var_dump(isset($a, $b)); // TRUE

unset ($a);

var_dump(isset($a));     // FALSE
var_dump(isset($a, $b)); // FALSE

$foo = NULL;
var_dump(isset($foo));   // FALSE

If a variable has been unset with the unset() function, it is no longer considered to be set.

<h2>PHP $_POST</h2>
PHP $_POST is a PHP super global variable which is used to collect form data after submitting an HTML form with method="post". 
$_POST is also widely used to pass variables.

&lt;form method="post" action="&lt;?php echo $_SERVER['PHP_SELF'];?>">
  Name: &lt;input type="text" name="fname">
  &lt;input type="submit">
&lt;/form>

&lt;?php
if ($_SERVER["REQUEST_METHOD"] == "POST") {
    // collect value of input field
    $name = $_POST['fname'];
    if (empty($name)) {
        echo "Name is empty";
    } else {
        echo $name;
    }
}
?>

When a user submits the data by clicking on "Submit", the form data is sent to the file specified in the action attribute of the &lt;form> tag. 
In this example, we point to the file itself for processing form data. 
If you wish to use another PHP file to process form data, replace that with the filename of your choice. 
Then, we can use the super global variable $_POST to collect the value of the 

<h2>mysqli query() Function Perform query against a database</h2>
&lt;?php
$mysqli = new mysqli("localhost","my_user","my_password","my_db");

// Check connection
if ($mysqli -> connect_errno) {
  echo "Failed to connect to MySQL: " . $mysqli -> connect_error;
  exit();
}

// Perform query
if ($result = $mysqli -> query("SELECT * FROM Persons")) {
  echo "Returned rows are: " . $result -> num_rows;
  // Free result set
  $result -> free_result();
}

$mysqli -> close();
?>

&lt;?php
$servername = "localhost"; $username = "username";
$password = "password"; $dbname = "myDB";

// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);

// Check connection
if ($conn->connect_error) {die("Connection failed: " . $conn->connect_error);}

$sql = "SELECT id, firstname, lastname FROM MyGuests";
$result = $conn->query($sql);

if ($result->num_rows > 0) {    // output data of each row
  while($row = $result->fetch_assoc()) {
    echo "&lt;br> id: ". $row["id"]. " - Name: ". $row["firstname"]. " " . $row["lastname"] . "&lt;br>";
  }
} else {
  echo "0 results";
}

// another presentation
if ($result->num_rows > 0) {
  echo "&lt;table>&lt;tr>&lt;th>ID&lt;/th>&lt;th>Name&lt;/th>&lt;/tr>";
  // output data of each row
  while($row = $result->fetch_assoc()) {
    echo "&lt;tr>&lt;td>" . $row["id"]. "&lt;/td>&lt;td>" . $row["firstname"]. " " . $row["lastname"]. "&lt;/td>&lt;/tr>";
  }
  echo "&lt;/table>";
} else {
  echo "0 results";
}

$conn->close();
?>

<h2>get and post method</h2>
&lt;input type="text" name="lname">
&lt;input type="submit" value="thisValue" name="sssubmit">
Submit will appends all form-data into the URL in name/value pairs
form-data is all attributes with "name" inside form

<h2>php search and display result</h2>
&lt;?php if(isset($_POST['search']))
  {
    $valueToSearch = $_POST['valueToSearch'];
    // search in all table columns using concat mysql function
    $query = "SELECT * FROM `users` WHERE CONCAT(`id`, `fname`, `lname`, `age`) LIKE '%".$valueToSearch."%'";
    $connect = mysqli_connect("localhost", "root", "", "test_db");
    $filter_Result = mysqli_query($connect, $query);
  }
?>

&lt;?php while($row = mysqli_fetch_array($search_result)):?>
&lt;tr>
    &lt;td><?php echo $row['id'];?>&lt;/td>
    &lt;td><?php echo $row['fname'];?>&lt;/td>
    &lt;td><?php echo $row['lname'];?>&lt;/td>
    &lt;td><?php echo $row['age'];?>&lt;/td>
&lt;/tr>
&lt;?php endwhile;?>

<h2>Create a multidimensional array:</h2>

// A two-dimensional array: array of arrays
$cars = array (
    array("Volvo",100,96),
    array("BMW",60,59),
    array("Toyota",110,100)
  );

<h2>Explode a txt file into multidimensional array</h2>

$theFIle = file_get_contents('EnglishWordList.txt');
$data = explode('\n', $theFIle); // Get each record
echo gettype($data);

$final_array = array();
foreach($data AS $row){ // Loop the exploded data
  $final_array[] = explode('\t', $row); // Explode each row
}

print_r($final_array);


unset($data[count($data) - 1]); // Clear the last empty element

$csvFile = file('EnglishWordList.txt');
$data = [];
foreach ($csvFile as $line) {
    $data[] = str_getcsv($line);
}

$csv = array_map('str_getcsv', file('EnglishWordList.txt'));


<h2>json_encode()</h2>
The json_encode() function is used to encode a value to JSON format.

json_decode()
Accessing the Decoded Values

$jsonobj = '{"Peter":35,"Ben":37,"Joe":43}';
$obj = json_decode($jsonobj);
echo $obj->Peter;
Looping Through the Values
foreach($obj as $key => $value) {
  echo $key . " => " . $value . "&lt;br>";
}

<h2>PHP Date() Function</h2>
date(format,timestamp)
Get a Date
d - Represents the day of the month (01 to 31)
m - Represents a month (01 to 12)
Y - Represents a year (in four digits)
l (lowercase 'L') - Represents the day of the week
Other characters, like"/", ".", or "-" can also be inserted between the characters to add additional formatting.

echo "Today is " . date("Y/m/d") . "&lt;br>";
echo "Today is " . date("Y.m.d") . "&lt;br>";
echo "Today is " . date("Y-m-d") . "&lt;br>";
echo "Today is " . date("l");

<h2>Automatic Copyright Year</h2>
Use the date() function to automatically update the copyright year on your website:
&copy; 2010-<?php echo date("Y");?>

<h2>Get a Time</h2>
H - 24-hour format of an hour (00 to 23)
h - 12-hour format of an hour with leading zeros (01 to 12)
i - Minutes with leading zeros (00 to 59)
s - Seconds with leading zeros (00 to 59)
a - Lowercase Ante meridiem and Post meridiem (am or pm)
echo "The time is " . date("h:i:sa");

Get Your Time Zone
date_default_timezone_set("America/New_York");
echo "The time is " . date("h:i:sa");

Create a Date With mktime()
mktime(hour, minute, second, month, day, year)

$d=mktime(11, 14, 54, 8, 12, 2014);
echo "Created date is " . date("Y-m-d h:i:sa", $d);

Create a Date From a String With strtotime()
$d=strtotime("10:30pm April 15 2014");
echo "Created date is " . date("Y-m-d h:i:sa", $d);

The example below outputs the dates for the next six Saturdays:
$startdate = strtotime("Saturday");
$enddate = strtotime("+6 weeks", $startdate);

while ($startdate < $enddate) {
  echo date("M d", $startdate) . "&lt;br>";
  $startdate = strtotime("+1 week", $startdate);
}

The example below outputs the number of days until 4th of July:
$d1=strtotime("July 04");
$d2=ceil(($d1-time())/60/60/24);
echo "There are " . $d2 ." days until 4th of July.";

<h2>PHP include and require Statements</h2>
require will produce a fatal error (E_COMPILE_ERROR) and stop the script
include will only produce a warning (E_WARNING) and the script will continue

The require statement is also used to include a file into the PHP code.
However, there is one big difference between include and require; 
when a file is included with the include statement and PHP cannot find it, the script will continue to execute

If we do the same example using the require statement, the echo statement will not be executed because the script execution dies after the require statement returned a fatal error:

&lt;?php include 'footer.php';?>

Use require when the file is required by the application.
Use include when the file is not required and application should continue when file is not found.

<h2>PHP Manipulating Files</h2>
PHP readfile() Function
The readfile() function reads a file and writes it to the output buffer.

echo readfile("webdictionary.txt");

PHP Open File - fopen()
This function gives you more options than the readfile() function.

$myfile = fopen("webdictionary.txt", "r") or die("Unable to open file!");
echo fread($myfile,filesize("webdictionary.txt"));
fclose($myfile);

The file may be opened in one of the following modes:

Modes	Description
r	Open a file for read only. File pointer starts at the beginning of the file
w	Open a file for write only. Erases the contents of the file or creates a new file if it doesn't exist. File pointer starts at the beginning of the file
a	Open a file for write only. The existing data in file is preserved. File pointer starts at the end of the file. Creates a new file if the file doesn't exist
x	Creates a new file for write only. Returns FALSE and an error if file already exists
r+	Open a file for read/write. File pointer starts at the beginning of the file
w+	Open a file for read/write. Erases the contents of the file or creates a new file if it doesn't exist. File pointer starts at the beginning of the file
a+	Open a file for read/write. The existing data in file is preserved. File pointer starts at the end of the file. Creates a new file if the file doesn't exist
x+	Creates a new file for read/write. Returns FALSE and an error if file already exists

<h2>PHP Read File - fread()</h2>
The fread() function reads from an open file.

The first parameter of fread() contains the name of the file to read from and the second parameter specifies the maximum number of bytes to read.

fread($myfile,filesize("webdictionary.txt"));

<h2>PHP Close File - fclose()</h2>
The fclose() function is used to close an open file.

PHP Read Single Line - fgets()
The fgets() function is used to read a single line from a file.
$myfile = fopen("webdictionary.txt", "r") or die("Unable to open file!");
echo fgets($myfile);
fclose($myfile);

PHP Check End-Of-File - feof()
The feof() function checks if the "end-of-file" (EOF) has been reached.
$myfile = fopen("webdictionary.txt", "r") or die("Unable to open file!");
// Output one line until end-of-file
while(!feof($myfile)) {
  echo fgets($myfile) . "&lt;br>";
}
fclose($myfile);

<h2>PHP Read Single Character - fgetc()</h2>
The fgetc() function is used to read a single character from a file.
$myfile = fopen("webdictionary.txt", "r") or die("Unable to open file!");
// Output one character until end-of-file
while(!feof($myfile)) {
  echo fgetc($myfile);
}
fclose($myfile);

<h2>PHP Create File - fopen()</h2>
The fopen() function is also used to create a file. Maybe a little confusing, but in PHP, a file is created using the same function used to open files.
If you use fopen() on a file that does not exist, it will create it, given that the file is opened for writing (w) or appending (a).

$myfile = fopen("testfile.txt", "w")

<h2>PHP File Permissions</h2>
If you are having errors when trying to get this code to run, check that you have granted your PHP file access to write information to the hard drive.

PHP Write to File - fwrite()
The fwrite() function is used to write to a file.

The first parameter of fwrite() contains the name of the file to write to and the second parameter is the string to be written.

$myfile = fopen("newfile.txt", "w") or die("Unable to open file!");
$txt = "John Doe\n";
fwrite($myfile, $txt);
$txt = "Jane Doe\n";
fwrite($myfile, $txt);
fclose($myfile);

PHP Overwriting
Now that "newfile.txt" contains some data we can show what happens when we open an existing file for writing. All the existing data will be ERASED and we start with an empty file.

$myfile = fopen("newfile.txt", "w") or die("Unable to open file!");
$txt = "Mickey Mouse\n";
fwrite($myfile, $txt);
$txt = "Minnie Mouse\n";
fwrite($myfile, $txt);
fclose($myfile);

<h2>PHP File Upload</h2>
Configure The "php.ini" File
First, ensure that PHP is configured to allow file uploads.

In your "php.ini" file, search for the file_uploads directive, and set it to On:
file_uploads = On

<h2>Create The HTML Form</h2>
&lt;form action="upload.php" method="post" enctype="multipart/form-data">
    Select image to upload:
    &lt;input type="file" name="fileToUpload" id="fileToUpload">
    &lt;input type="submit" value="Upload Image" name="submit">
&lt;/form>

Some rules to follow for the HTML form above:

Make sure that the form uses method="post"
The form also needs the following attribute: enctype="multipart/form-data". 
It specifies which content-type to use when submitting the form
Without the requirements above, the file upload will not work.

Other things to notice:
The type="file" attribute of the &lt;input> tag shows the input field as a file-select control, with a "Browse" button next to the input control
The form above sends data to a file called "upload.php", which we will create next.

Create The Upload File PHP Script
The "upload.php" file contains the code for uploading a file:
&lt;?php
$target_dir = "uploads/";
$target_file = $target_dir . basename($_FILES["fileToUpload"]["name"]);
$uploadOk = 1;
$imageFileType = strtolower(pathinfo($target_file,PATHINFO_EXTENSION));
// Check if image file is a actual image or fake image
if(isset($_POST["submit"])) {
    $check = getimagesize($_FILES["fileToUpload"]["tmp_name"]);
    if($check !== false) {
        echo "File is an image - " . $check["mime"] . ".";
        $uploadOk = 1;
    } else {
        echo "File is not an image.";
        $uploadOk = 0;
    }
}
?>
$target_dir = "uploads/" - specifies the directory where the file is going to be placed
$target_file specifies the path of the file to be uploaded
$uploadOk=1 is not used yet (will be used later)
$imageFileType holds the file extension of the file (in lower case)
Next, check if the image file is an actual image or a fake image

Check if File Already Exists
Now we can add some restrictions.

First, we will check if the file already exists in the "uploads" folder. If it does, an error message is displayed, and $uploadOk is set to 0:

// Check if file already exists
if (file_exists($target_file)) {
    echo "Sorry, file already exists.";
    $uploadOk = 0;
}

Limit File Size
The file input field in our HTML form above is named "fileToUpload".

Now, we want to check the size of the file. If the file is larger than 500KB, an error message is displayed, and $uploadOk is set to 0:

// Check file size
if ($_FILES["fileToUpload"]["size"] > 500000) {
    echo "Sorry, your file is too large.";
    $uploadOk = 0;
}

Limit File Type
The code below only allows users to upload JPG, JPEG, PNG, and GIF files. All other file types gives an error message before setting $uploadOk to 0:

// Allow certain file formats
if($imageFileType != "jpg" && $imageFileType != "png" && $imageFileType != "jpeg"
&& $imageFileType != "gif" ) {
    echo "Sorry, only JPG, JPEG, PNG & GIF files are allowed.";
    $uploadOk = 0;
}

<h2>Complete Upload File PHP Script</h2>
The complete "upload.php" file now looks like this:

&lt;?php
$target_dir = "uploads/";
$target_file = $target_dir . basename($_FILES["fileToUpload"]["name"]);
$uploadOk = 1;
$imageFileType = strtolower(pathinfo($target_file,PATHINFO_EXTENSION));
// Check if image file is a actual image or fake image
if(isset($_POST["submit"])) {
    $check = getimagesize($_FILES["fileToUpload"]["tmp_name"]);
    if($check !== false) {
        echo "File is an image - " . $check["mime"] . ".";
        $uploadOk = 1;
    } else {
        echo "File is not an image.";
        $uploadOk = 0;
    }
}
// Check if file already exists
if (file_exists($target_file)) {
    echo "Sorry, file already exists.";
    $uploadOk = 0;
}
// Check file size
if ($_FILES["fileToUpload"]["size"] > 500000) {
    echo "Sorry, your file is too large.";
    $uploadOk = 0;
}
// Allow certain file formats
if($imageFileType != "jpg" && $imageFileType != "png" && $imageFileType != "jpeg"
&& $imageFileType != "gif" ) {
    echo "Sorry, only JPG, JPEG, PNG & GIF files are allowed.";
    $uploadOk = 0;
}
// Check if $uploadOk is set to 0 by an error
if ($uploadOk == 0) {
    echo "Sorry, your file was not uploaded.";
// if everything is ok, try to upload file
} else {
    if (move_uploaded_file($_FILES["fileToUpload"]["tmp_name"], $target_file)) {
        echo "The file ". basename( $_FILES["fileToUpload"]["name"]). " has been uploaded.";
    } else {
        echo "Sorry, there was an error uploading your file.";
    }
}
?>

<h2>ob_start()</h2>
Think of ob_start() as saying "Start remembering everything that would normally be outputted, but don't quite do anything with it yet."

PHP is an interpreted language thus each statement is executed one after another, therefore PHP tends to send HTML to browsers in chunks thus reducing performance. Using output buffering the generated HTML gets stored in a buffer or a string variable and is sent to the buffer to render after the execution of the last statement in the PHP script.

But Output Buffering is not enabled by default. In order to enable the Output Buffering one must use the ob_start() function before any echoing any HTML content in a script.


For example:
ob_start();
echo("Hello there!"); //would normally get printed to the screen/output to browser
$output = ob_get_contents();
ob_end_clean();

There are two other functions you typically pair it with: 
ob_get_contents(), which basically gives you whatever has been "saved" to the buffer since it was turned on with ob_start(), and then 
ob_end_clean() or ob_flush(), which either stops saving things and discards whatever was saved, or stops saving and outputs it all at once, respectively.

For example:
&lt;?php 
// PHP code to illustrate the working of ob_start() Function  
  function callback($buffer){   // Return Everything in CAPS. 
    return (strtoupper($buffer)); 
} 
  
ob_start("callback"); 
echo "Hello Geek!"; 
ob_end_flush(); 
?> 

<h2>Web Scraping with PHP</h2>
<h3>Web Scraping Techniques</h3>
<strong>DOM Parsing</strong>

With the help of web browsers, programs can access the dynamic content that the client-side scripts have created. 
One can parse web pages in the form of a DOM (Document Object Model) tree which is in a way a description of which programs can get access to which parts of the pages. 
To give you an example, an HTML or XML document is converted to DOM. 
What DOM does is that it articulates the structure of documents and how a document can be accessed. 
PHP provides DOM extension.

<strong>Regular Expressions</strong>

In this case, you define a pattern (or say “regular expressions”) that you want to match in a text string and then search in the text string for matches. 
It is used a lot in search engines. 
When one is exploring string information, regular expressions come into play. 
Regular expressions are a basic tool and can take care of your elementary needs.

<h3>Web Scraping Using PHP</h3>
We will explore some PHP libraries which can be used to understand how to use the HTTP protocol as far as our PHP code is concerned, how we can steer clear of the built-in API wrappers and in its place, think of using something that is way more simple and easy to manage for web scraping.

What we will try to do here is to write a straightforward scraper with the help of Simple HTML DOM library. 
It will be possible for you to see how to scrape the data you want using PHP and how the extracted data can be converted into xml file with the help of SimpleXMLElement library as shown below:

1. Simple HTML DOM
An HTML DOM parser which is written is PHP5+ is useful because it allows you to access and use HTML in a convenient and comfortable way.
It is PHP5+ compatible.
It supports invalid HTML.
You can use it to identify tags on a given HTML page with the help of selectors like jQuery.
You can get the contents from HTML with a simple single line of code.

2. SimpleXMLElement
SimpleXMLElement stands for an element in an XML document.
It is nothing but just an extension that enables you to get XML data.
What it does is that it converts an XML document into a data structure. 
It means that you can access and use it like a data structure.

<h4>1. How to install Simple HTML Dom Parser:</h4>
To start with, download Simple HTML Dom Parser from this <a href="https://sourceforge.net/projects/simplehtmldom/" target="_blank" rel="nofollow noopener noreferrer">LINK</a>.

Next, extract zip file Simplehtmldom_1_5.zip and what you will have is a folder called &#8220;simple_dom&#8221;.

<h4>2. How to Scrape data from website using PHP with Simple HTML DOM</h4>
Now we come to the application part of the process. 
Let’s get down to scraping the IMDB website to extract the review of the movie “Avengers: Infinity War”. 
You can get it here.

<h3>Step 1: Create a new PHP file called scraper.php and include the library mentioned below:</h3>
<span style="color: #384;">&lt;?php</span><br />
<span style="color: #384;">require_once &#8216;simple_html_dom.php&#8217;;</span>

To create a new PHP file, create a new folder called “simple_dom” and include “simple_html_dom.php” file at the top.

Why movie reviews and rating matter is because these can be used to create the necessary database for sentiment analysis, text classification etc.

Since there are countless reviews in a website like IMDB, it is not possible to get all the reviews by mere copy-paste.

With the help of web scraping, you can get all the reviews in an automatic fashion and save it in xml file.

Now, we will extract the following data from the website:
<span style="color: #ff0000;">Rating stars &#8211; The users’ rating stars of the film.<br />
</span>
<span style="color: #384;">Title of reviews &#8211; The title of the users’ review.</span>
<span style="color: #008000;">Review &#8211; The content of the review.</span>

Here’s how all these fields are arranged. 
Take a look at the screenshot:

<img src="https://prowebscraper.com/blog/wp-content/uploads/2018/08/review_screenshot_1.png">

<h3>Step 2: Extract the html returned content from the website.</h3>
What you need to do is use file_get_html function to get HTML page of the URL.

URL = <a href="https://www.imdb.com/title/tt4154756/reviews?ref_=tt_ov_rt" target="_blank" rel="nofollow noopener noreferrer">https://www.imdb.com/title/tt4154756/reviews?ref_=tt_ov_rt</a> .

<span style="color: #384;">&lt;?php</span><br />
<span style="color: #384;">require_once &#8216;simple_html_dom.php&#8217;;</span><br />
<span style="color: #384;">//get html content from the site.</span><br />
<span style="color: #384;">$dom = file_get_html(&#8216;<a href="https://www.imdb.com/title/tt4154756/reviews?ref_=tt_ql_3" target="_blank" rel="nofollow noopener noreferrer">https://www.imdb.com/title/tt4154756/reviews?ref_=tt_ql_3</a>&#8216;, false);</span>

<h3>Step 3: Scrape the fields of the reviews</h3>
Now the fun starts. 
We will make use of the HTML tag and scrape the data items mentioned earlier, like rating stars, title of the review and reviews with the help of Inspect element.

This is how you can find out the class of the tag with the help of following step:

<strong>Go to chrome browser => Open <a href="https://www.imdb.com/title/tt4154756/reviews?ref_=tt_ov_rt" target="_blank" rel="nofollow noopener noreferrer">this</a> url => do right click => inspect element</strong>

NOTE: If you don’t use chrome browser, go through this <a href="https://www.lifewire.com/get-inspect-element-tool-for-browser-756549" target="_blank" rel="nofollow noopener noreferrer">article</a>

Next, we will scrape the requisite information from HTML based on css selectors like class, id etc. 
Now let’s get the css class for title, reviews and rating stars. 
All you got to do is right click on title and select “Inspect” or “Inspect Element”.

<img src="https://prowebscraper.com/blog/wp-content/uploads/2018/08/review_screenshot_2.png">

As you can see, the css class “review-container” is applied to all &lt;div> tags which contain titles, rating stars and reviews of users. 
This will be useful in the process of filtering the field from the rest of the other content in the response object:

Next, we will scrape all those fields with the help of that class and a for each loop, as is shown below:

<span style="color: #384;">//collect all user’s reviews into an array</span>
<span style="color: #384;">$answer = array();</span>
<span style="color: #384;">if(!empty($dom)) {</span>
<span style="color: #384;">$divClass = $title = &#8221;;$i = 0;</span>
<span style="color: #384;">foreach($dom->find(&#8220;.review-container&#8221;) as $divClass) {</span>
<span style="color: #384;">//title</span>
<span style="color: #384;">foreach($divClass->find(&#8220;.title&#8221;) as $title ) {</span>
<span style="color: #384;">$answer[$i][&#8216;title&#8217;] = $title->plaintext;</span>
<span style="color: #384;">}</span>
<span style="color: #384;">//ipl-ratings-bar</span>
<span style="color: #384;">foreach($divClass->find(&#8220;.ipl-ratings-bar&#8221;) as $ipl_ratings_bar ) {</span>
<span style="color: #384;">$answer[$i][&#8216;rate&#8217;] = trim($ipl_ratings_bar->plaintext);</span>
<span style="color: #384;">}</span>
<span style="color: #384;">//content</span>
<span style="color: #384;">foreach($divClass->find(&#8216;div[class=text show-more__control]&#8217;) as $desc) {</span>
<span style="color: #384;">$text = html_entity_decode($desc->plaintext);</span>
<span style="color: #384;">$text = preg_replace(&#8216;/\&amp;#39;/&#8217;, &#8220;&#8216;&#8221;, $text);</span>
<span style="color: #384;">$answer[$i][&#8216;content&#8217;] = html_entity_decode($text);</span>
<span style="color: #384;">}</span>
<span style="color: #384;">$i++;</span>
<span style="color: #384;">}</span>
<span style="color: #384;">}</span>
<span style="color: #384;">print_r($answer); exit;</span>
I used for each loop to get all the data I want and save it to “$answer” array.
Next, I will print that array and review the output.
<h4>Output:</h4>
As you can observe in the screenshot, we could scrape the title (title of review), rate (rating stars) and content (reviews) in array.

<img src="https://prowebscraper.com/blog/wp-content/uploads/2018/08/content_screenshot.png">
<h3>Step 4: Store data into xml file using “SimpleXMLElement”</h3>
The next step is to store the output in an xml file. 
So all we need to do is to convert “$answer” array into xml element.
In order to do that, we will make use of “SimpleXMLElement” built-in class to convert PHP array into xml element.
<span style="color: #384;">//function definition to convert array to xml</span>
<span style="color: #384;">function array_to_xml($array, &amp;$xml_user_info) {</span>
<span style="color: #384;">foreach($array as $key => $value) {</span>
<span style="color: #384;">if(is_array($value)) {</span>
<span style="color: #384;">$subnode = $xml_user_info->addChild(&#8220;Review$key&#8221;);</span>
<span style="color: #384;">foreach ($value as $k=>$v) {</span>
<span style="color: #384;">$xml_user_info->addChild(&#8220;$k&#8221;, $v);</span>
<span style="color: #384;">}</span>
<span style="color: #384;">}else {</span>
<span style="color: #384;">$xml_user_info->addChild(&#8220;$key&#8221;,htmlspecialchars(&#8220;$value&#8221;));</span>
<span style="color: #384;">}</span>
<span style="color: #384;">}</span>
<span style="color: #384;">return $xml_user_info->asXML();</span>
<span style="color: #384;">}</span>
<span style="color: #384;">//creating object of SimpleXMLElement</span>
<span style="color: #384;">$xml_user_info = new SimpleXMLElement(&#8220;&lt;?xml version=\&#8221;1.0\&#8221;?>&lt;root>&lt;/root>&#8221;);</span>
<span style="color: #384;">//function call to convert array to xml and return whole xml content with tag</span>
<span style="color: #384;">$xmlContent = array_to_xml($answer,$xml_user_info);</span>
⦁ We created an object of SimpleXMLElement and then placed that object into a user defined function called “array_to_xml”.
“$xml_user_info” = It is an object of SimpleXMLElement
“array_to_xml” = It is a user defined function
“$xmlContent” = It is a variable where the data is stored in array format

<h3>Step 5: Create an xml file and write xml content to xml file</h3>

Next I created a file called “AvengersMovieReview.xml” and stored “$xmlContent” into this file.
<span style="color: #384;">// Create a xml file</span>
<span style="color: #384;">$my_file = &#8216;AvengersMovieReview.xml&#8217;;</span>
<span style="color: #384;">$handle = fopen($my_file, &#8216;w&#8217;) or die(&#8216;Cannot open file: &#8216;.$my_file);</span>
<span style="color: #384;">//success and error message based on xml creation</span>
<span style="color: #384;">if(fwrite($handle, $xmlContent)) {</span>
<span style="color: #384;">echo &#8216;XML file have been generated successfully.&#8217;;</span>
<span style="color: #384;">}</span>
<span style="color: #384;">else{</span>
<span style="color: #384;">echo &#8216;XML file generation error.&#8217;;</span>
<span style="color: #384;">}</span>
<span style="color: #384;">?></span>
At the end of it all, run the whole code and review the output and created xml file <strong>AvengersMovieReview.xml.</strong>
See the screenshot of the output and that is the file.

<img src="https://prowebscraper.com/blog/wp-content/uploads/2018/08/output_screenshot.png">

And we completed scraping the data that we needed. 
Wasn’t it easy to scrape the web data using PHP?

The last bit that you should know: here’s the explanation for Linux basis regarding how to schedule and run this task in the background at regular breaks and in an automatic fashion with the help of Crontab command.

<h3>Automating Script Using Crontab</h3>
As you would know, Linux server can help you in automatize certain functions and completing the tasks which otherwise require human intervention. 
As far as Linux servers are concerned, cron utility is something that people prefer in order to automate the way scripts run. 
For your needs of large data on a daily basis, it can be useful.

Cron is something works well on Linux and Unix environments that take care of scheduled commands which are also called cron jobs configured by the crontab command.

As regards a Linux pc, you can use this script to run it at a specified time of the day with the help of the command “crontab-e”. 
If you wish to access more information on crontab, read it here: <a href="https://www.tutorialspoint.com/unix_commands/crontab.htm" target="_blank" rel="nofollow noopener noreferrer">https://www.tutorialspoint.com/unix_commands/crontab.htm</a>

If you’re a PHP expert and our article has been helpful, you may also like another resource to help you in your career. 
Our friends at Toptal wrote a&nbsp;<a href="https://www.toptal.com/php#hiring-guide" rel="nofollow noreferrer">PHP hiring guide</a>&nbsp;that has interview prep questions to help you out.

<h3>Conclusion</h3>
Web scraping has turned into a compulsion for businesses. 
If you want to carry out market research, you need data. 
If you want to devise your sales strategy, you need data. 
If you want to generate leads for your business, you need data. 
In all possible crucial aspects of business strategy and operation, web scraping can enormously contribute by automating extraction of data.

If you want to scrape large amounts of data for your specific needs, you may encounter the following challenges:
You may get blocked.
You may find it difficult to scrape data from a dynamic website
You may be stuck up dealing with pages scrolling on and on.

Thank heavens, there is a highly efficient and reliable web scraping service like PROWEBSCRAPER to tackle all these challenges and provide you the data you want.

<h2>Socket Programming in PHP</h2>

Sockets are used for interprocess communication. 
Interprocess communication is generally based on client-server model. 
In this case, client-server are the applications that interact with each other. 
Interaction between client and server requires a connection. 
Socket programming is responsible for establishing that connection between applications to interact.

<h3>Using the Code</h3>
<strong>Aim</strong>: Develop a client to send a <code>string </code>message to server and server to return reverse of the same message to client.

<h3>PHP SERVER</h3>
<h4>Step 1: Set variables such as "host" and "port"</h4>

$host = "127.0.0.1";
$port = 5353;
// No Timeout 
set_time_limit(0);

<em>Port number can be any positive integer between 1024 -65535.</em>

<h4>Step 2: Create Socket</h4>
$socket = socket_create(AF_INET, SOCK_STREAM, 0) or die("Could not create socket\n");

<h4>Step 3: Bind the socket to port and host</h4>

Here the created socket resource is bound to IP address and port number.

$result = socket_bind($socket, $host, $port) or die("Could not bind to socket\n");

<h4>Step 4: Start listening to the socket</h4>

After getting bound with IP and port server waits for the client to connect. 
Till then it keeps on waiting.

$result = socket_listen($socket, 3) or die("Could not set up socket listener\n");

<h4>Step 5: Accept incoming connection</h4>

This function accepts incoming connection request on the created socket. 
After accepting the connection from client socket, this function returns another socket resource that is actually responsible for communication with the corresponding client socket. 
Here “<code>$spawn</code>” is that socket resource which is responsible for communication with client socket.

$spawn = socket_accept($socket) or die("Could not accept incoming connection\n");

So far, we have prepared our server socket but the script doesn't actually do anything. 
Keeping to our aforesaid aim, we will read message from client socket and then send back reverse of the received message to the client socket again.

<h4>Step 6: Read the message from the Client socket</h4>

$input = socket_read($spawn, 1024) or die("Could not read input\n");

<h4>Step 7: Reverse the message</h4>

$output = strrev($input) . 
"\n";

<h4>Step 8: Send message to the client socket</h4>

socket_write($spawn, $output, strlen ($output)) or die("Could not write output\n"); 

<h4>Close the socket</h4>

socket_close($spawn);
socket_close($socket);

This completes with the server. 
Now we will learn to create PHP client.

<h3>PHP CLIENT</h3>

The first two steps are the same as in the server.

<h4>Step 1: Set variables such as "host" and "port"</h4>

$host = "127.0.0.1";
$port = 5353;
// No Timeout 
set_time_limit(0);

<em>Note: Here the port and host should be same as defined in server.</em>

<h4>Step 2: Create Socket</h4>

$socket = socket_create(AF_INET, SOCK_STREAM, 0) or die("Could not create socket\n");

<h4>Step 3: Connect to the server</h4>

$result = socket_connect($socket, $host, $port) or die("Could not connect toserver\n");

Here unlike server, client socket is not bound with port and host. 
Instead it connects to server socket, waiting to accept the connection from client socket. 
Connection of client socket to server socket is established in this step.

<h4>Step 4: Write to server socket</h4>

socket_write($socket, $message, strlen($message)) or die("Could not send data to server\n");

In this step, client socket data is sent to the server socket.

<h4>Step 5: Read the response from the server</h4>

$result = socket_read ($socket, 1024) or die("Could not read server response\n");
echo "Reply From Server  :".$result;

<h4>Step 6: Close the socket</h4>

socket_close($socket);

<h3>Complete Code</h3>

<h4>SERVER (server.php)</h4>

// set some variables
$host = "127.0.0.1";
$port = 25003;
// don't timeout!
set_time_limit(0);
// create socket
$socket = socket_create(AF_INET, SOCK_STREAM, 0) or die("Could not create socket\n");
// bind socket to port
$result = socket_bind($socket, $host, $port) or die("Could not bind to socket\n");
// start listening for connections
$result = socket_listen($socket, 3) or die("Could not set up socket listener\n");

// accept incoming connections
// spawn another socket to handle communication
$spawn = socket_accept($socket) or die("Could not accept incoming connection\n");
// read client input
$input = socket_read($spawn, 1024) or die("Could not read input\n");
// clean up input string
$input = trim($input);
echo "Client Message : ".$input;
// reverse client input and send back
$output = strrev($input) . 
"\n";
socket_write($spawn, $output, strlen ($output)) or die("Could not write output\n");
// close sockets
socket_close($spawn);
socket_close($socket);

<h4>CLIENT (client.php)</h4>

$host    = "127.0.0.1";
$port    = 25003;
$message = "Hello Server";
echo "Message To server :".$message;
// create socket
$socket = socket_create(AF_INET, SOCK_STREAM, 0) or die("Could not create socket\n");
// connect to server
$result = socket_connect($socket, $host, $port) or die("Could not connect to server\n");  
// send string to server
socket_write($socket, $message, strlen($message)) or die("Could not send data to server\n");
// get server response
$result = socket_read ($socket, 1024) or die("Could not read server response\n");
echo "Reply From Server  :".$result;
// close socket
socket_close($socket);

After creating the above files (<em>server.php</em> and <em>client.php</em>), do as follows:

<ol>
<li>Copy these files in www directory (in case of WAMP), located at <em>C:\wamp</em>. 
</li><li>Open your web browser and type <code>localhost </code>in the address bar. 
</li><li>Browse <em>server.php</em> first followed by <em>client.php</em>. 
</li></ol>

<h2>PHP client server communication</h2>
usa a form as client and the server is welcome.php:

A Simple HTML Form
&lt;html>&lt;body>
&lt;form action="welcome.php" method="post">
&lt;!--- the replying page is welcome.php--->
Name: &lt;input type="text" name="name">&lt;br>
E-mail: &lt;input type="text" name="email">&lt;br>
&lt;input type="submit">
&lt;/form>
&lt;/body>&lt;/html>

welcome.php:
  Welcome &lt;?php echo $_POST["name"]; ?>&lt;br>
  Your email address is: &lt;?php echo $_POST["email"]; ?>

The POST Method
The POST method does not have any restriction on data size to be sent.
The POST method can be used to send ASCII as well as binary data.
The data sent by POST method goes through HTTP header so security depends on HTTP protocol. 
By using Secure HTTP you can make sure that your information is secure.
The PHP provides $_POST associative array to access all the sent information using GET method.

Try out following example with client and server on same page:
&lt;html>&lt;body>
&lt;?php
  if( $_POST["name"] || $_POST["age"] )
  {
     echo "Welcome ". $_POST['name']. "&lt;br>";
     echo "You are ". $_POST['age']. " years old.". "&lt;br>";
     echo "and you are ". $_POST['sex']. ".&lt;br>";
     exit();
  }
?>
&lt;form action="" method="post">
  &lt;label for="name">Name:&lt;/label>&lt;br>
  &lt;input type="text" id="name" name="name">&lt;br>
  &lt;label for="age">age:&lt;/label>&lt;br>
  &lt;input type="text" id="age" name="age">
  &lt;label for="sex">sex:&lt;/label>&lt;br>
  &lt;input type="text" id="sex" name="sex">&lt;br>
  &lt;input type="submit" value="Submit">
&lt;/form>
&lt;/body>&lt;/html>

The $_REQUEST variable
The PHP $_REQUEST variable contains the contents of both $_GET, $_POST, and $_COOKIE. 

The PHP $_REQUEST variable can be used to get the result from form data sent with both the GET and POST methods.

Try out following example of $_REQUEST
&lt;?php
  if( $_REQUEST["name"] || $_REQUEST["age"] )
  {
     echo "Welcome ". $_REQUEST['name']. "&lt;br>";
     echo "You are ". $_REQUEST['age']. " years old.";
     exit();
  }
?>

$_PHP_SELF variable contains the name of self script in which it is being called.

The $_SERVER["PHP_SELF"] is a super global variable that returns the filename of the currently executing script.

So, the $_SERVER["PHP_SELF"] sends the submitted form data to the page itself, instead of jumping to a different page.
This way, the user will get error messages on the same page as the form.

&lt;form method="post" action="&lt;?php echo htmlspecialchars($_SERVER["PHP_SELF"]);?>">

<h2>$_PHP_SELF</h2>
$_PHP_SELF variable contains the name of self script in which it is being called.

<h2>htmlspecialchars() function</h2>
The htmlspecialchars() function converts special characters to HTML entities.
This means that it will replace HTML characters like &lt; and > with &amp;lt; and &amp;gt;.
This prevents attackers from exploiting the code by injecting HTML or Javascript code (Cross-site Scripting attacks) in forms.


<h2>submit a form</h2>
&lt;form action="/action_page.php" onsubmit="myFunction()">
  Enter name: &lt;input type="text" name="fname">
  &lt;input type="submit" value="Submit">
&lt;/form>

&lt;script>
function myFunction() {
  alert("The form was submitted");
}
&lt;/script>

In HTML:
&lt;element onsubmit="myScript">

In JavaScript:
object.onsubmit = function(){myScript};

In JavaScript, using the addEventListener() method:
object.addEventListener("submit", myScript);

submit a form using javascript
document.getElementById("form1").submit();
or
document.forms["name of your form"].submit();
or
function placeOrder(form){
    form.submit();
}

<h2>echo input value in same page</h2>
&lt;form action="the-same-page.php">
    ... your code...
    &lt;input type="submit">
&lt;/form>

&lt;?php echo $_POST['nameField'] ?>

without submit:
&lt;input type="text" id="foo" 
   onchange="document.getElementById('output').innerHTML = this.value"/>

&lt;div id="output">output will be here&lt;/div>


&lt;input type="text" 
       name="idtest"
       value="&lt;?php echo htmlspecialchars($name); ?>"
/>

&lt;input type="text" name="idtest" value="&lt;?php echo $idtest; ?>" >


&lt;form action="welcome.php" method="get">
  First name: &lt;input type="text" name="fname">
&lt;/form>

Welcome &lt;?php echo $_GET["fname"]; ?>

<h2>PHP Form Validation Example</h2>
&lt;?php
// define variables and set to empty values
$nameErr = $emailErr = $genderErr = $websiteErr = "";
$name = $email = $gender = $comment = $website = "";

if ($_SERVER["REQUEST_METHOD"] == "POST") {
  if (empty($_POST["name"])) {
    $nameErr = "Name is required";
  } else {
    $name = test_input($_POST["name"]);

    // check if name only contains letters and whitespace
    if (!preg_match("/^[a-zA-Z ]*$/",$name)) {
      $nameErr = "Only letters and white space allowed";
    }
  }
  
  if (empty($_POST["email"])) {
    $emailErr = "Email is required";
  } else {
    $email = test_input($_POST["email"]);
    // check if e-mail address is well-formed
    if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
      $emailErr = "Invalid email format";
    }
  }
    
  if (empty($_POST["website"])) {
    $website = "";
  } else {
    $website = test_input($_POST["website"]);
    // check if URL address syntax is valid (this regular expression also allows dashes in the URL)
    if (!preg_match("/\b(?:(?:https?|ftp):\/\/|www\.)[-a-z0-9+&@#\/%?=~_|!:,.;]*[-a-z0-9+&@#\/%=~_|]/i",$website)) {
      $websiteErr = "Invalid URL";
    }
  }

  if (empty($_POST["comment"])) {
    $comment = "";
  } else {
    $comment = test_input($_POST["comment"]);
  }

  if (empty($_POST["gender"])) {
    $genderErr = "Gender is required";
  } else {
    $gender = test_input($_POST["gender"]);
  }
}

function test_input($data) {
  $data = trim($data);
  $data = stripslashes($data);
  $data = htmlspecialchars($data);
  return $data;
}
?>

&lt;h2>PHP Form Validation Example&lt;/h2>
&lt;p>&lt;span class="error">* required field&lt;/span>&lt;/p>
&lt;form method="post" action="&lt;?php echo htmlspecialchars($_SERVER["PHP_SELF"]);?>">  
  Name: &lt;input type="text" name="name" value="&lt;?php echo $name;?>">
  &lt;span class="error">* &lt;?php echo $nameErr;?>&lt;/span>
  &lt;br>&lt;br>
  E-mail: &lt;input type="text" name="email" value="&lt;?php echo $email;?>">
  &lt;span class="error">* &lt;?php echo $emailErr;?>&lt;/span>
  &lt;br>&lt;br>
  Website: &lt;input type="text" name="website" value="&lt;?php echo $website;?>">
  &lt;span class="error">&lt;?php echo $websiteErr;?>&lt;/span>
  &lt;br>&lt;br>
  Comment: &lt;textarea name="comment" rows="5" cols="40">&lt;?php echo $comment;?>&lt;/textarea>
  &lt;br>&lt;br>
  Gender:
  &lt;input type="radio" name="gender" &lt;?php if (isset($gender) && $gender=="female") echo "checked";?> value="female">Female
  &lt;input type="radio" name="gender" &lt;?php if (isset($gender) && $gender=="male") echo "checked";?> value="male">Male
  &lt;input type="radio" name="gender" &lt;?php if (isset($gender) && $gender=="other") echo "checked";?> value="other">Other  
  &lt;span class="error">* &lt;?php echo $genderErr;?>&lt;/span>
  &lt;br>&lt;br>
  &lt;input type="submit" name="submit" value="Submit">  
&lt;/form>

&lt;?php
echo "&lt;h2>Your Input:&lt;/h2>";
echo $name;    echo "&lt;br>";
echo $email;   echo "&lt;br>";
echo $website; echo "&lt;br>";
echo $comment; echo "&lt;br>";
echo $gender;
?>

<h2>submit form to itself in the same page</h2>

Use ?:
&lt;form action="?" method="post">
It will send the user back to the same page.

Leave action attribute blank. 
The form will automatically submit itself in the same page.
<form action="">

Using php be sure to use:
action="&lt;?php echo htmlspecialchars($_SERVER["PHP_SELF"]);?>"

<h2>PHP 5’s Standard Library</h2>
Much of the buzz surrounding PHP5 has focused on its new object-oriented syntax and capabilities, and comparisons with Java. 
While all that was going on, the promisingly named "Standard PHP Library" (SPL) extension quietly made its way into the core PHP 5 distribution.

Although work is still in progress, the Standard PHP Library's current offering significantly increases the chances of getting PHP developers to agree on something (thereby increasing the chances of code re-use). 
It may also make your cunningly constructed class interface very easy for other people to use, as the SPL extension makes it possible to "overload" basic PHP syntax and make objects look like normal PHP arrays.

In this tutorial, I'll introduce the functionality available with the SPL extension and PHP5 with just enough examples to get you started. 
Be warned: PHP5's syntax will be used. 
If you need to catch up, try SitePoint's <a href="http://www.sitepoint.com/article/coming-soon-webserver-near/">PHP5 review</a>. 

<strong><em>Today's iterations:</em></strong>
<li>Introducing the SPL: what's it all about?</li>
<li>Looping the Loop: did someone say Iterator?</li>
<li>Iterations foreach of us: the "wow" factor</li>
<li>Admiring the Tree: a short tour of SPL classes and interfaces</li>
<li>Objects as Arrays: easier for your web page designer</li>
<li>The Big Deal: why you gotta like it</li>

Don't for get to <a href="http://www.sitepoint.com/examples/php5/php5stdlib.zip">download all the code included in this article</a> for your own use.

<h2>Introducing the SPL</h2>

The "Standard PHP Library" is a PHP extension developed by <a href="http://marcus-boerger.de/">Marcus Boerger</a> which (<a href="http://www.php.net/spl">as the manual says</a>) "is a collection of interfaces and classes that are meant to solve standard problems." As part of the core distribution of PHP5, it should be "always on".

If you've been around the block with PHP4, you'll know there are a few areas in which wheels are perpetually re-invented by almost every new PHP project. 
Standardizing some of the fundamentals is a good way to get PHP developers singing from the same sheet, and increases the chances of our being able to re-use code from Project X in Project Y.

Today the SPL extension addresses a single subset of problems: Iterators. 
What makes the SPL Iterator implementation interesting is not only that it defines a standard for everyone to use in PHP5, but also that it "overloads" certain parts of PHP syntax such as the <em>foreach</em> construct and basic array syntax, making it easier to work with objects of your classes.

<h2>Looping the Loop</h2>
to loop through a MySQL query:
<code>// Fetch the "aggregate structure" 
$result = mysql_query("SELECT * FROM users"); 
// Iterate over the structure 
while ( $row = mysql_fetch_array($result) ) { 
  // do stuff with the row here 
}</code>

To read the contents of a directory, you might use:

<code>// Fetch the "aggregate structure" 
$dh = opendir('/home/harryf/files'); 
// Iterate over the structure 
while ( $file = readdir($dh) ) { 
  // do stuff with the file here 
}</code>

And to read the contents of a file, you might use:

<code>// Fetch the "aggregate structure" 
$fh = fopen("/home/hfuecks/files/results.txt", "r"); 
// Iterate over the structure 
while (!feof($fh)) { 
  $line = fgets($fh); 
  // do stuff with the line here 
}</code>

A glance at the above examples shows that they're very similar. 
Although each one works with a different type of <em>resource</em>, and uses PHP functions specific to that resource, the mantra is simple: "fetch resource; loop over contents".

If it was somehow possible to "abstract out" the specific PHP functions from the above examples and use some kind of generic interface instead, it might be possible to make the job of looping over the data look the same, irrespective of the type of resource that was being used. 
With no requirement to modify the loop for a different data source, it may be possible for the code in which the loop appears (perhaps a function that generated an HTML list) to be reused elsewhere.

That's where an Iterator comes in. 
The Iterator defines an abstract interface for use by your code. 
Specific implementations of the Iterator take care of each different type of structure with which you want to work, without the code that uses the Iterator having to care about the details.

That's the basic theory of Iterators. 
If you're interested to know more, you'll find starting points at the <a href="http://c2.com/cgi/wiki?IteratorPattern">C2 Wiki</a> and <a href="http://en.wikipedia.org/wiki/Iterator">Wikipedia</a>. 
More thoughts from me can be found at phpPatterns on the <a href="http://www.phppatterns.com/index.php/article/articleview/50/1/1/">Iterator Pattern</a> and in <a href="http://www.sitepoint.com/books/phpant1/">The PHP Anthology &ndash; Volume II, Applications</a>.

<h2>Iterations foreach of Us</h2>

So what's so exciting about the SPL Iterators? Well, if you've written more than a line or two of PHP, you've probably run into the <a href="http://www.php.net/foreach">foreach</a> construct, which is used to make easy work of looping through an array:

<code>// A list of colors 
$colors = array ( 
  'red', 
  'green', 
  'blue', 
  ); 
foreach ( $colors as $color ) { 
  echo $color.'&lt;br&gt;'; 
}</code>

Wouldn't it be nice if all loops where that easy, irrespective of whatever it was that you were looping over?

How about this?

<code>&lt;?php 
// A magic class... 
(explained in a moment) 
class DirectoryReader extends DirectoryIterator { 
 function __construct($path) { 
  parent::__construct($path); 
 } 
 function current() { 
  return parent::getFileName(); 
 } 
 function valid() { 
  if ( parent::valid() ) { 
   if ( !parent::isFile() ) { 
    parent::next(); 
    return $this-&gt;valid(); 
   } 
   return TRUE; 
  } 
  return FALSE; 
 } 
 function rewind() { 
  parent::rewind(); 
 } 
} 
// Create a directory reader for the current directory 
$Reader = new DirectoryReader('./'); 
// Loop through the files in the directory ?!? 
foreach ( $Reader as $Item ) { 
 echo $Item.'&lt;br&gt;'; 
} 
?&gt;</code>

Filename: directoryreader.php

If you ignore the class itself for a moment and look at the last few lines, you'll see that I've used the DirectoryReader object right there in the foreach loop. 
I've pulled items from it without having to call any of its methods! So long as you obey certain rules (which I'll get to shortly), the SPL extension allows to iterate over your own classes (where appropriate) in just the same way.

In fact, with the above example, I've jumped in at the deep end! Let's take a few steps back so I can explain what really happened here.

<h2>Iteration with SPL</h2>

Now that your appetite is whet, you first need to be warned that the PHP manual currently lacks the capabilities needed to fully document the SPL extension. 
It's geared primarily to documenting native functions, and lacks a clear means to fully describe something like an in-built class; interfaces fail even to get a mention. 

Instead, you'll need to look at the <a href="http://www.php.net/~helly/php/ext/spl/">generated documentation</a> Marcus maintains, and trawl the <a href="http://cvs.php.net/pecl/spl/">source under CVS</a>. 
Be aware also that the SPL extension is a moving target that's being actively developed and expanded. 
The code in this tutorial was tested under PHP 5.0.1, but if you're reading at a significantly distant point in the future, you may find parts of this code outdated.


The SPL extension defines a <a href="http://www.php.net/~helly/php/ext/spl/hierarchy.html">hierarchy of classes and interfaces</a>. 
Some of these will already be loaded in your PHP5 installation (see what <a href="http://www.php.net/get_declared_classes">get_declared_classes()</a> turns up). 
They correspond the <a href="http://cvs.php.net/co.php/pecl/spl/spl.php">interface and class definitions defined here</a> and <a href="http://cvs.php.net/pecl/spl/internal/">here</a> (the PHP files found here should disappear eventually, once Marcus has time to implement them in C). 
Some of classes found in the <a href="http://cvs.php.net/pecl/spl/examples/">examples directory</a> (with the .inc extension) also form part of the hierarchy, but are not loaded by default; if you wish to use them, you'll need to make sure copies for inclusion are located somewhere in your PHP include path. 
More examples of the classes' use can be found with the <a href="http://cvs.php.net/pecl/spl/tests/">tests</a> while independent examples can be found at <a href="http://www.wiki.cc/php/PHP5#Iterators">http://www.wiki.cc/php/PHP5#Iterators</a>.

Although the number of classes and interfaces in the hierarchy may be daunting at first, don't panic! Basic use of the iterators requires only a single interface. 
If you're new to the idea of interfaces, have a look at <a href="http://www.sitepoint.com/article/coming-soon-webserver-near/7">this discussion of interfaces</a> on SitePoint.

I'll summarize the purpose of all the pre-loaded classes and interfaces later in this tutorial, for you to browse at your leisure. 
Once you start to grasp what's on offer, you'll realize that Marcus has done an amazing job of addressing the most common, loop-related problems that recur in PHP. 
Life will get easier&hellip;

Let's return to the DirectoryReader example. 
How was it that I was able to iterate over my DirectoryReader object using foreach? The magic comes from the class I extended from, <a href="http://www.php.net/~helly/php/ext/spl/classDirectoryIterator.html">DirectoryIterator</a>, which implements an interface called <a href="http://www.php.net/~helly/php/ext/spl/interfaceIterator.html">Iterator</a> that's defined by the SPL extension.

Any class I write that implements the Iterator interface can be used in a foreach loop (note that <a href="http://lxr.php.net/source/ZendEngine2/zend_iterators.h">this article explains how this works</a> from the point of view of PHP internals). 
The Iterator interface is defined as follows:

<code>interface Iterator extends Traversable { 
  /** 
  * Rewind the Iterator to the first element. 

  * Similar to the reset() function for arrays in PHP 
  * @return void 
  */ 
  function rewind(); 
   
  /** 
  * Return the current element. 

  * Similar to the current() function for arrays in PHP 
  * @return mixed current element from the collection 
  */ 
  function current(); 
  /** 
  * Return the identifying key of the current element. 

  * Similar to the key() function for arrays in PHP 
  * @return mixed either an integer or a string 
  */ 
  function key(); 
  /** 
  * Move forward to next element. 

  * Similar to the next() function for arrays in PHP 
  * @return void 
  */ 
  function next(); 
   
  /** 
  * Check if there is a current element after calls to rewind() or next(). 

  * Used to check if we've iterated to the end of the collection 
  * @return boolean FALSE if there's nothing more to iterate over 
  */ 
  function valid(); 
}</code>

Note that the SPL extension registers the Traversable interface from which Iterator inherits with the Zend Engine to allow the use of foreach. 
The Traversable interface is <em>not</em> meant to be implemented directly in PHP, but by other built-in PHP classes (currently, the SimpleXML extension does this; the SQLite extension probably should do this but, right now, it talks directly to the Zend API).

To implement this interface, your class must provide all of the methods defined above.

To show you how this works, I'll start by re-inventing the wheel and implementing an Iterator for native PHP arrays. 
Obviously, this is a pointless exercise, but it helps us understand how it works without getting lost in specific details.

To begin, I define a class to manage the iteration:

<code>/** 
* An iterator for native PHP arrays, re-inventing the wheel 
* 
* Notice the "implements Iterator" - important! 
*/ 
class ArrayReloaded implements Iterator { 
  /** 
  * A native PHP array to iterate over 
  */ 
 private $array = array(); 
  /** 
  * A switch to keep track of the end of the array 
  */ 
 private $valid = FALSE; 
  /** 
  * Constructor 
  * @param array native PHP array to iterate over 
  */ 
 function __construct($array) { 
  $this-&gt;array = $array; 
 } 
  /** 
  * Return the array "pointer" to the first element 
  * PHP's reset() returns false if the array has no elements 
  */ 
 function rewind(){ 
  $this-&gt;valid = (FALSE !== reset($this-&gt;array)); 
 } 
  /** 
  * Return the current array element 
  */ 
 function current(){ 
  return current($this-&gt;array); 
 } 
  /** 
  * Return the key of the current array element 
  */ 
 function key(){ 
  return key($this-&gt;array); 
 } 
  /** 
  * Move forward by one 
  * PHP's next() returns false if there are no more elements 
  */ 
 function next(){ 
  $this-&gt;valid = (FALSE !== next($this-&gt;array)); 
 } 
  /** 
  * Is the current element valid? 
  */ 
 function valid(){ 
  return $this-&gt;valid; 
 } 
}</code>

Filename: arrayreloaded.php

Notice the "implements Iterator" at the start. 
This says I'm agreeing to abide by the Iterator "contract" and will provide all the required methods. 
The class then provides implementations of each method, performing the necessary work using PHP's native array functions (the comments explain the detail).

There are a couple of points of the Iterator's design that are worth being aware of when you write your own. 
The <code>current()</code> and <code>key()</code> Iterator methods could be called multiple times within a single iteration of the loop, so you need to be careful that calling them doesn't modify the state of the Iterator. 
That's not a problem in this case, but when working with files, for example, the temptation may be to use <a href="http://www.php.net/fgets">fgets()</a> inside the current() method, which would advance the file pointer.

Otherwise, remember the valid() method should indicate whether the <em>current</em> element is valid, not the <em>next</em> element. 
What this means is that, when looping over the Iterator, we'll actually advance one element beyond the end of the collection and only discover the fact when <code>valid()</code> is called. 
Typically, it will be the <code>next()</code> and <code>rewind()</code> methods that actually move the Iterator and take care of tracking whether the current element is valid or not.

I can now use this class as follows:

<code>// Create iterator object 
$colors = new ArrayReloaded(array ('red','green','blue',)); 
// Iterate away! 
foreach ( $colors as $color ) { 
 echo $color."&lt;br&gt;"; 
}</code>

It's very easy to use! Behind the scenes, the foreach construct calls the methods I defined, beginning with <code>rewind()</code>. 
Then, so long as <code>valid()</code> returns <code>TRUE</code>, it calls <code>current()</code> to populate the <code>$color</code> variable, and <code>next()</code> to move the Iterator forward one element.

As is typical with foreach, I can also populate another variable with the value returned from the <code>key()</code> method:

<code>// Display the keys as well 
foreach ( $colors as $key =&gt; $color ) { 
 echo "$key: $color&lt;br&gt;"; 
}</code>

Of course, nothing requires me to use foreach. 
I could call the methods directly from my code, like so:

<code>// Reset the iterator - foreach does this automatically 
$colors-&gt;rewind(); 
// Loop while valid 
while ( $colors-&gt;valid() ) { 
  echo $colors-&gt;key().": ".$colors-&gt;current()."&lt;br&gt;"; 
  $colors-&gt;next(); 
}</code>

This example should help you see what foreach actually does to your object.

Note that the crude benchmarks I've performed suggest that calling the methods directly is faster than using foreach, because the latter introduces another layer of redirection that must be resolved at runtime by PHP.



<h2>Admiring the Tree</h2>

Now you've seen how to write a basic Iterator, it's worth summarizing the interfaces and classes offered internally by the SPL extension, so that you know what their jobs are. 
This list may change in future, but it summarizes what's on offer right now.

<strong><em>Interfaces</em></strong>

<li><a href="http://www.php.net/~helly/php/ext/spl/interfaceTraversable.html">Traversable</a>: as mentioned above, this is an Iterator interface for PHP internals. 
Unless you're writing an extension, ignore this.</li>
<li><a href="http://www.php.net/~helly/php/ext/spl/interfaceIterator.html">Iterator</a>: as you've seen, this defines the basic methods to iterate forward through a collection.</li>
<li><a href="http://www.php.net/~helly/php/ext/spl/interfaceIteratorAggregate.html">IteratorAggregate</a>: if you would rather implement the Iterator separately from your "collection" object, implementing Iterator Aggregate will allow you to delegate the work of iteration to a separate class, while still enabling you to use the collection inside a foreach loop.</li>
<li><a href="http://www.php.net/~helly/php/ext/spl/interfaceRecursiveIterator.html">RecursiveIterator</a>: this defines methods to allow iteration over hierarchical data structures.</li>
<li><a href="http://www.php.net/~helly/php/ext/spl/interfaceSeekableIterator.html">SeekableIterator</a>: this defines a method to search the collection that the Iterator is managing.</li>
<li><a href="http://www.php.net/~helly/php/ext/spl/interfaceArrayAccess.html">ArrayAccess</a>: here's another magic interface with a special meaning for the Zend engine. 
Implementing this allows you to treat your object like an array with normal PHP array syntax (more on this below).</li>

<strong><em>Classes</em></strong>

<li><a href="http://www.php.net/~helly/php/ext/spl/classArrayIterator.html">ArrayIterator</a>: this Iterator can manage both native PHP arrays and the public properties of an object (more on this shortly).</li>
<li><a href="http://www.php.net/~helly/php/ext/spl/classArrayObject.html">ArrayObject</a>: this unifies arrays and objects, allowing you to iterate over them and use array syntax to access the contents. 
See "Objects as Arrays" below (we'll grow our own class with similar behaviour).</li>
<li><a href="http://www.php.net/~helly/php/ext/spl/classFilterIterator.html">FilterIterator</a>: this is an abstract class that can be extended to filter the elements that are being iterated over (perhaps removing unwanted elements for a search).</li>
<li><a href="http://www.php.net/~helly/php/ext/spl/classParentIterator.html">ParentIterator</a>: when using a ResursiveIterator, the ParentIterator allows you to filter out elements that do not have children. 
If, for example, you have a CMS in which documents can be placed anywhere under a tree of categories, the ParentIterator would allow you to recurse the tree but display only the "category nodes", omitting the documents that appear under each category.</li>
<li><a href="http://www.php.net/~helly/php/ext/spl/classLimitIetrator.html">LimitIterator</a>: this class allows you to specify a range of elements to Iterator over, starting with a key offset and specifying a number of elements to access from that point. 
The concept is the same as the LIMIT clause in MySQL.</li>
<li><a href="http://www.php.net/~helly/php/ext/spl/classCachingIterator.html">CachingIterator</a>: this manages another Iterator (which you pass to its constructor). 
It allows you to check whether the inner Iterator has more elements, using the <code>hasNext()</code> method, before actually advancing with the <code>next()</code> method. 
Personally, I'm not 100% sure about the name; perhaps LookAheadIterator would be more accurate?</li>
<li><a href="http://www.php.net/~helly/php/ext/spl/classCachingRecursiveIterator.html">CachingRecursiveIterator</a>: this is largely the same as the CachingIterator, but allows iteration over hierarchical data structures.</li>
<li><a href="http://www.php.net/~helly/php/ext/spl/classDirectoryIterator.html">DirectoryIterator</a>: to iterate over a directory in a file system, this Iterator provides a bunch of useful methods like <code>isFile()</code> and <code>isDot()</code> that save a lot of hassle.</li>
<li><a href="http://www.php.net/~helly/php/ext/spl/classRecursiveDirectoryIterator.html">RecursiveDirectoryIterator</a>: this class allows iteration over a directory structure so that you can descend into subdirectories.</li>
<li><a href="http://www.php.net/~helly/php/ext/spl/classSimpleXMLIterator.html">SimpleXMLIterator</a>: this makes <a href="http://www.php.net/simplexml">SimpleXML</a> even simpler! Currently, the best examples can be found with the SPL <a href="http://cvs.php.net/pecl/spl/tests/">tests</a> &mdash; see the files beginning "sxe_*"</li>
<li><a href="http://www.php.net/~helly/php/ext/spl/classRecursiveIteratorIterator.html">RecursiveIteratorIterator</a>: this helps you do cool stuff like "flatten" a hierarchical data structure so that you can loop through it with a single foreach statement, while still preserving knowledge of the hierarchy. 
This class could be very useful for rendering tree menus, for example.</li>

To see it in action, try using the <a href="http://cvs.php.net/co.php/pecl/spl/examples/directorytreeiterator.inc">DirectoryTreeIterator</a> (which extends RecursiveIteratorIterator), like so:

<code>$DirTree = new DirectoryTreeIterator('/some/directory'); 
 
foreach ($DirTree as $node) { 
  echo "$noden"; 
}</code>

That summarizes the core classes and interfaces that the SPL extension defines today.

<h2>Objects as Arrays</h2>

You've already seen how implementing the Iterator interface allows you to "overload" the foreach construct. 
The SPL extension has some more surprises in store, though, beginning with the ArrayAccess interface. 
Implementing this interface with a class allows you treat objects of that class as arrays from the perspective of PHP syntax.

Here's an example:

<code>/** 
* A class that can be used like an array 
*/ 
class Article implements ArrayAccess { 
 
 public $title; 
 
 public $author; 
 
 public $category;  
 
 function __construct($title,$author,$category) { 
  $this-&gt;title = $title; 
  $this-&gt;author = $author; 
  $this-&gt;category = $category; 
 } 
 
 /** 
 * Defined by ArrayAccess interface 
 * Set a value given it's key e.g. 
$A['title'] = 'foo'; 
 * @param mixed key (string or integer) 
 * @param mixed value 
 * @return void 
 */ 
 function offsetSet($key, $value) { 
  if ( array_key_exists($key,get_object_vars($this)) ) { 
   $this-&gt;{$key} = $value; 
  } 
 } 
 
 /** 
 * Defined by ArrayAccess interface 
 * Return a value given it's key e.g. 
echo $A['title']; 
 * @param mixed key (string or integer) 
 * @return mixed value 
 */ 
 function offsetGet($key) { 
  if ( array_key_exists($key,get_object_vars($this)) ) { 
   return $this-&gt;{$key}; 
  } 
 } 
 
 /** 
 * Defined by ArrayAccess interface 
 * Unset a value by it's key e.g. 
unset($A['title']); 
 * @param mixed key (string or integer) 
 * @return void 
 */ 
 function offsetUnset($key) { 
  if ( array_key_exists($key,get_object_vars($this)) ) { 
   unset($this-&gt;{$key}); 
  } 
 } 
 
 /** 
 * Defined by ArrayAccess interface 
 * Check value exists, given it's key e.g. 
isset($A['title']) 
 * @param mixed key (string or integer) 
 * @return boolean 
 */ 
 function offsetExists($offset) { 
  return array_key_exists($offset,get_object_vars($this)); 
 } 
 
}</code>

Filename: arrayaccess1.php

The four methods that begin with "offset" are defined by the <a href="http://www.php.net/~helly/php/ext/spl/interfaceArrayAccess.html">ArrayAccess</a> interface that I'm implementing.

Note that I've used a couple of PHP runtime tricks to make life easier, such as checking that object variables have been defined by introspection:

<code>function offsetSet($key, $value) { 
  if ( array_key_exists($key,get_object_vars($this)) ) {</code>

I've also referenced them indirectly, using a variable that holds their names:

<code>$this-&gt;{$key} = $value;</code>

This example gets interesting when you see how this class can now be used:

<code>// Create the object 
$A = new Article('SPL Rocks','Joe Bloggs', 'PHP'); 
 
// Check what it looks like 
echo 'Initial State:&lt;pre&gt;'; 
print_r($A); 
echo '&lt;/pre&gt;'; 
 
// Change the title using array syntax 
$A['title'] = 'SPL _really_ rocks'; 
 
// Try setting a non existent property (ignored) 
$A['not found'] = 1; 
 
// Unset the author field 
unset($A['author']); 
 
// Check what it looks like again 
echo 'Final State:&lt;pre&gt;'; 
print_r($A); 
echo '&lt;/pre&gt;';</code>

Apart from the first line, in which I create the object, the code is valid syntax for a native PHP array. 
Here's the output:

<code>Initial State: 
 
Article Object 
( 
  [title] =&gt; SPL Rocks 
  [author] =&gt; Joe Bloggs 
  [category] =&gt; PHP 
) 
 
Final State: 
 
Article Object 
( 
  [title] =&gt; SPL _really_ rocks 
  [category] =&gt; PHP 
)</code>

Note that I could add logic to manipulate the data as it's being read by modifying the <code>offsetGet()</code> method as follows:

<code>function offsetGet($key) { 
  if ( array_key_exists($key,get_object_vars($this)) ) { 
   return strtolower($this-&gt;{$key}); 
  } 
 }</code>

This would convert all values to lower-case.

To make the object iterable, using foreach or otherwise, I can now take advantage of the SPL's <a href="http://www.php.net/~helly/php/ext/spl/classArrayIterator.html">ArrayIterator</a> class, combined with the <a href="http://www.php.net/~helly/php/ext/spl/interfaceIteratorAggregate.html">IteratorAggregate</a> interface.

As I mentioned before, the IteratorAggregate interface is used when you don't want to embed the Iterator logic in the object that contains the data over which you want to iterate. 
This can be a useful way to keep this logic divided but, more interestingly, it allows you to re-use existing iterators.

To begin, I modify the first line of the Article class to declare the interface implementation:

<code>class Article implements ArrayAccess, IteratorAggregate {</code>

Now, I need to add one extra method: <code>getIterator()</code>, which returns the object used for iteration:

<code>/** 
 * Defined by IteratorAggregate interface 
 * Returns an iterator for for this object, for use with foreach 
 * @return ArrayIterator 
 */ 
 function getIterator() { 
  return new ArrayIterator($this); 
 }</code>

With that done, I can loop through the properties defined in the class:

<code>$A = new Article('SPL Rocks','Joe Bloggs', 'PHP'); 
 
// Loop (getIterator will be called automatically) 
echo 'Looping with foreach:&lt;pre&gt;'; 
foreach ( $A as $field =&gt; $value ) { 
 echo "$field : $value&lt;br&gt;"; 
} 
echo '&lt;/pre&gt;'; 
 
// Get the size of the iterator (see how many properties are left) 
echo "Object has ".sizeof($A-&gt;getIterator())." elements";</code>

Filename: arrayaccess2.php

Here's what it displays:

<code>$A = new Article('SPL Rocks','Joe Bloggs', 'PHP'); 
 
// Loop (getIterator will be called automatically) 
echo 'Looping with foreach:&lt;pre&gt;'; 
foreach ( $A as $field =&gt; $value ) { 
 echo "$field : $value&lt;br&gt;"; 
} 
echo '&lt;/pre&gt;'; 
 
// Get the size of the iterator (see how many properties are left) 
echo "Object has ".count($A-&gt;getIterator())." elements";</code>

This gives me:

<code>Looping with foreach: 
 
title : SPL Rocks 
author : Joe Bloggs 
category : PHP 
 
Object has 3 elements</code>

Notice that I was also able to use the <a href="http://www.php.net/count">count</a> function on the object to find out how many elements it has. 
This could allow me to use other loop constructs without needing to call the Iterator methods:

<code>$size = count($A); 
for($i = 0; $i &lt; $size; $i++ ) { 
  echo $A[$i]."n"; 
}</code>

What doesn't (yet) work is the application of PHP's <a href="http://www.php.net/array">array functions</a> to the object (you'll get complaints about it not being an array). 
However, so long as you're not doing type checking with something like <a href="http://www.php.net/is_array">is_array()</a>, you should be able to reuse any part of your own code that was written to expect an array.

<h2>Big Deal</h2>
Assuming we all agree to use the classes and interfaces provided by the SPL, projects can begin to converge on them. 
For example, consider <a href="http://pear.php.net/package/HTML_TreeMenu">HTML_TreeMenu</a>, a PEAR library designed to enable the generation of Javascript-based tree menus in HTML. 

Here's an example of what's required to draw a tree from a directory structure with HTML_TreeMenu today:

<code>require_once 'HTML/TreeMenu.php'; 
$map_dir = 'c:/windows'; 
$menu = new HTML_TreeMenu('menuLayer', 'images', '_self'); 
$menu-&gt;addItem(recurseDir($map_dir)); 
 
function &amp;recurseDir($path) { 
  if (!$dir = opendir($path)) { 
    return false; 
  } 
  $files = array(); 
  $node = &amp;new HTML_TreeNode(basename($path), basename($path), 'folder.gif'); 
  while (($file = readdir($dir)) !== false) { 
    if ($file != '.' &amp;&amp; $file != '..') { 
      if (@is_dir("$path/$file")) { 
        $addnode = &amp;recurseDir("$path/$file"); 
      } else { 
        $addnode = &amp;new HTML_TreeNode($file, $file, 'document2.png'); 
      } 
      $node-&gt;addItem($addnode); 
    } 
  } 
  closedir($dir); 
  return $node; 
} 
 
echo $menu-&gt;printMenu();</code>

In other words, it's left to us to prepare the data in the correct order and build the tree. 
Instead, HTML_Treemenu could provide a mechanism by which we could register the data structure, then leave it to do the iterating for us. 
The above example might be reduced to:

<code>require_once 'HTML/TreeMenu.php'; 
$map_dir = 'c:/windows'; 
$menu = new HTML_TreeMenu('menuLayer', 'images', '_self'); 
 
// Register the tree data structure 
$menu-&gt;registerTree(new new RecursiveDirectoryIterator($map_dir); 
 
echo $menu-&gt;printMenu();</code>

If there isn't a RecursiveIterator on hand that suits your problem, you could always implement your own, leaving HTML_Treemenu to take advantage of <a href="http://www.sitepoint.com/article/coming-soon-webserver-near/11">type hints</a> to make sure you're giving it what it needs.


<h2>Symfony Console Component</h2>
<a href="https://packagist.org/packages/symfony/console" target="_blank" rel="nofollow noopener">Symfony Console Component</a>
Command line interface (CLI) is one of the core elements of major PHP frameworks including Laravel, Symfony, CodeIgniter and others. 
This library provides easy to understand command line interface in Symfony. 
Its integration in the application is also quite simple and is precisely made to build testable command line interfaces.
Composer Command: <code>composer require symfony/console</code>
<h3>Implementation</h3>
First you need to create a PHP script and define console like this:
&lt;?php
// application.php
require __DIR__.'/vendor/autoload.php';
use Symfony\Component\Console\Application;
$application = new Application();
$application-&gt;run();
Now you need to register the commands using add() functions.
$application-&gt;add(new GenerateAdminCommand());
<h2>Symfony Finder Component</h2>
<a href="https://packagist.org/packages/symfony/finder" target="_blank" rel="nofollow noopener">Symfony Finder Component</a>
Developers often find difficulties while locating desired files and folders within the project. 
Using this Finder component, developers can easily find files and directories within the project. 
It provides different attributes (name, file size, modification time, extension etc.) to find the related files or directories. 
Moreover, it has an intuitive interface which helps users to find the desired resources.
Composer Command: <code>composer require symfony/finder</code>
<h3>Implementation</h3>
Let’s suppose you need to find all files and folders in the root directory. 
You can do it as:
You can also find files in FTP and user defined streams
<h2>Psr/log</h2>
<a href="https://packagist.org/packages/psr/log" target="_blank" rel="nofollow noopener">Psr/log</a>
If you want to find all the interfaces, classes, traits etc. 
related to PS-3, this PHP logging library helps you finding all those resources with just a few clicks. 
The library isn’t a logger itself, but is an interface that forms a logging system. 
This PHP logging library comes up with full documentation, so that developers can easily work with it.
Composer Command: <code>composer require psr/log</code>
<h3>Implementation</h3>
You can use the logger for logging like below code snippet:
&lt;?php
use Psr\Log\LoggerInterface;
class Foo
{
    private $logger;
    public function __construct(LoggerInterface $logger = null)
    {
        $this-&gt;logger = $logger;
    }
    public function doSomething()
    {
        if ($this-&gt;logger) {
            $this-&gt;logger-&gt;info('Doing work');
        }
        // do something useful
    }
}
<h2>Monolog</h2>
<a href="https://packagist.org/packages/monolog/monolog" target="_blank" rel="nofollow noopener">Monolog</a>
It is necessary to save the logs to particular files or folders. 
Saving them at a certain place often seems to be a difficult job, but using this PHP logging library you can easily save your logs to the defined locations. 
Monolog helps you to send you logs to defined files, sockets, inboxes, databases and other web services. 
It uses a PSR-3 interface which allows you to type-hint logs against your own libraries in order to keep maximum interoperability.
Composer Command: <code>composer require monolog/monolog</code>
<h3>Implementation</h3>
The basic usage to log error and warning with PSR log can be defined as:
&lt;?php
use Monolog\Logger;
use Monolog\Handler\StreamHandler;
// create a log channel
$log = new Logger('name');
$log-&gt;pushHandler(new StreamHandler('path/to/your.log', Logger::WARNING));
// add records to the log
$log-&gt;warning('Foo');
$log-&gt;error('Bar');
<img class="lazy img-responsive" src="https://www.cloudways.com/blog/wp-content/themes/cloudways/template/img/grey.gif" data-original="https://www.cloudways.com/wp-content/uploads/2019/09/php-deployment-ebook.jpg" alt="" /><noscript><img class="img-responsive" src="https://www.cloudways.com/wp-content/uploads/2019/09/php-deployment-ebook.jpg" alt="" /></noscript>
<h3>Get Your PHP Deployment Ebook Now</h3>
Enter your email address below and get the download link.
<form role="form" class="inline_subs_form">
                
                    <input type="email" class="gbl-email form-control" name="inline_subs_email"
                        placeholder="Email Address" required>
                    <input type="hidden" value="insert tag" />
                
                <label for="inline_subs_checkbox_consent" class="cw-ebk-chkbox checkbox_consent_sidebar">
                    <input type="checkbox" required name="inline_subs_checkbox_consent" class="">
                    I agree to the Cloudways
                    <a href="https://www.cloudways.com/en/terms.php">Terms of Service</a> &
                    <a href="https://www.cloudways.com/en/terms.php#privacy">Privacy Policy</a>
                </label>
                
                
                    <a href="javascript:void(0);" class="btn cw-glb-btn">click here</a>
                
                
                
                
            </form>
<h4>Thank You</h4>
Your Ebook is on its Way to Your Inbox.
<h2>Guzzle</h2>
<a href="https://packagist.org/packages/guzzlehttp/guzzle" target="_blank" rel="nofollow noopener">Guzzle</a>
Guzzle works as a particular PHP client for sending HTTP requests to the web servers. 
Using this library, developers can easily send HTTP requests to integrate with the web services. 
The library provides a simple interface for building query strings, POST requests, HTTP cookies and other attributes. 
It also allows developers to send both synchronous and asynchronous requests from the same interface.
Composer Command: <code>composer require guzzlehttp/guzzle</code>
<h3>Implementation</h3>
Previously we have written some articles consuming Cloudways API in Guzzle. 
Let me show the example usage of Guzzle api to get authentication and then run different methods to get servers and applications. 
You can read the complete article <a href="https://www.cloudways.com/blog/how-to-create-and-delete-applications-via-cloudways-api/" target="_blank" rel="nofollow noopener">here</a>. 
Let’s look at the example:
&lt;?php 
Class CloudwaysAPIClient
{
  private $client = null;
  const API_URL = "https://api.cloudways.com/api/v1";
  var $auth_key;
  var $auth_email;
  var $accessToken;
  public function __construct($email,$key)
  {
    $this-&gt;auth_email = $email;
    $this-&gt;auth_key = $key;
    $this-&gt;client = new GuzzleHttpClient();
    $this-&gt;prepare_access_token();
  }
  public function prepare_access_token()
  {
    try
    {
      $url = self::API_URL . 
"/oauth/access_token";
      $data = ['email' =&gt; $this-&gt;auth_email,'api_key' =&gt; $this-&gt;auth_key];
      $response = $this-&gt;client-&gt;post($url, ['query' =&gt; $data]);
      $result = json_decode($response-&gt;getBody()-&gt;getContents());
      $this-&gt;accessToken = $result-&gt;access_token;
    }
    catch (RequestException $e)
    {
      $response = $this-&gt;StatusCodeHandling($e);
      return $response;
    }
  }
<h2>Assert</h2>
<a href="https://packagist.org/packages/webmozart/assert" target="_blank" rel="nofollow noopener">Assert</a>
Using the Assert library, developers can easily test the input and output of the methods within minutes. 
It’s a simple PHP library that reduces the need of extensive coding in web applications. 
The integration of the library within the project is also quite easy, as it provides complete documentation for the integration. 
It features some built-in error messages by default, which you can later change according to custom error requirements.
Composer Command: <code>composer require webmozart/assert</code>
<h2>Symfony/translation</h2>
<a href="https://packagist.org/packages/symfony/translation" target="_blank" rel="nofollow noopener">Symfony/translation</a>
This translation package is really handy for the developers who want to build multilingual apps supported by various languages. 
It is the growing demand of the modern world to build a multilingual product, and using this library developers can easily create desired projects with different languages. 
The library comes up with complete documentation and is easy to work with.
Composer Command: <code>composer require symfony/translation</code>
<h3>Implementation</h3>
You need to define the locale in constructor class to translate pages automatically.
use Symfony\Component\Translation\Translator;
$translator = new Translator('fr_FR');
<h2>PHPUnit</h2>
<a href="https://packagist.org/packages/phpunit/phpunit" target="_blank" rel="nofollow noopener">PHPUnit</a>
PHPUnit is perhaps the best PHP library for performing <a href="https://www.cloudways.com/blog/getting-started-with-unit-testing-php/" target="_blank" rel="noopener">unit testing in PHP</a> web applications. 
It is used to test application’s code for possible errors and bugs. 
While performing the unit testing with PHPUnit, developers can resolve various application bugs that may arise during the run-time execution. 
Hence, the library is vital to assess the cores of application and fixing it timely with the required solutions.
Composer Command: <code>composer require phpunit/phpunit</code>
<h2>PHP-code-coverage</h2>
<a href="https://packagist.org/packages/phpunit/php-code-coverage" target="_blank" rel="nofollow noopener">PHP-code-coverage</a>
If you want to measure how much source code of a program is executed during a particular test, this library helps you out in measuring that degree of code. 
The library provides you collection and rendering functionality of the executed PHP code, so that you can get a better idea about the tested chunk of code and how to resolve the errors in it.
Composer Command: <code>composer require phpunit/php-code-coverage</code>
<h2>Swiftmailer</h2>
<a href="https://packagist.org/packages/swiftmailer/swiftmailer" target="_blank" rel="nofollow noopener">Swiftmailer</a>
Swiftmailer is a feature-rich PHP email library primarily built to ease out mailing operation in any web application. 
The library provides advanced object-oriented-approach combined with multitude of mailing features to send emails over the web. 
The most significant <a href="https://www.cloudways.com/blog/create-contact-form-symfony-with-swiftmailer/" target="_blank" rel="noopener">feature of Swiftmailer</a> is that it protects the mails from header injection attacks without removing the request data content, which is what makes it a very efficient mailing system.
Composer Command: <code>composer require swiftmailer/swiftmailer</code>
<h3>Implementation</h3>
The basic usage of swiftmailer for sending emails is:
require_once '/path/to/vendor/autoload.php';
// Create the Transport
$transport = (new Swift_SmtpTransport('smtp.example.org', 25))
  -&gt;setUsername('your username')
  -&gt;setPassword('your password');
// Create the Mailer using your created Transport
$mailer = new Swift_Mailer($transport);
// Create a message
$message = (new Swift_Message('Wonderful Subject'))
  -&gt;setFrom(['john@doe.com' =&gt; 'John Doe'])
  -&gt;setTo(['receiver@domain.org', 'other@domain.org' =&gt; 'A name'])
  -&gt;setBody('Here is the message itself');
// Send the message
$result = $mailer-&gt;send($message);
<h2>Email-validator</h2>
<a href="https://packagist.org/packages/egulias/email-validator" target="_blank" rel="nofollow noopener">Email-validator</a>
Email-validator is a specialized <a href="https://www.cloudways.com/blog/custom-php-mysql-contact-form/" target="_blank" rel="noopener">PHP validation</a> library used to validate emails via number of chosen validation features. 
The library provides multiple types of validation for emails including RFC Validation, NoRFCWarningsValidation, SpoofCheckValidation and others. 
The library also provides DNS validation feature through which you can validate and spam out emails with the DNS verification.
Composer Command: <code>composer require egulias/email-validator</code>
<h3>Implementation</h3>
You need to define the validation strategy or method to follow in the code. 
Right now you have 6 type of available validations which you can see in official documentation:
The basic usage is as follows:
use Egulias\EmailValidator\EmailValidator;
use Egulias\EmailValidator\Validation\RFCValidation;
$validator = new EmailValidator();
$validator-&gt;isValid("example@example.com", new RFCValidation()); //true
<h2>PHP dotenv</h2>
<a href="https://packagist.org/packages/vlucas/phpdotenv" target="_blank" rel="nofollow noopener">PHP dotenv</a>
This library helps developers to export environment variables from .env to getenv(), $_ENV and $_SERVER. 
The library is recently upgraded to the latest version V3, which now supports multiline variables as well. 
The library also allows developers to choose which part of the environment they want to read and modify according to the needs of application.
Composer commands: <code>composer require vlucas/phpdotenv</code>
<h3>Implementation</h3>
First you need to create a .env file on the root level of your directory. 
Next add variable and values in it like this:
S3_BUCKET="devbucket"
SECRET_KEY="abc123"
Now load the .env file in application like this:
$dotenv = Dotenv\Dotenv::create(__DIR__);
$dotenv-&gt;load();
Now you can access the variables created in env file with these three methods. 
You can use any one of them.
$s3_bucket = getenv('S3_BUCKET');
$s3_bucket = $_ENV['S3_BUCKET'];
$s3_bucket = $_SERVER['S3_BUCKET'];
<h2>Symfony Filesystem Component</h2>
<a href="https://packagist.org/packages/symfony/filesystem" target="_blank" rel="nofollow noopener">Symfony Filesystem Component</a>
This Filesystem library provides basic utilities for the filesystem. 
Using this library, developers can easily create directories, files and much more in just a few steps. 
It also allows you to change the edit rights of the file and create a symlink with it. 
To install the library, you just have to use composer for the installation which is a quite straight forward process.
Composer Command: <code>composer require symfony/filesystem</code>
<h2>Twig</h2>
<a href="https://packagist.org/packages/twig/twig" target="_blank" rel="nofollow noopener">Twig</a>
Twig is a fast, efficient and secure <a href="https://www.cloudways.com/blog/twig-templates-in-slim/" target="_blank" rel="noopener">templating engine for PHP</a>. 
It compiles templates to simple PHP code which is easily understandable to the developers. 
This reduces the overhead of complex backend code, and gives application a boost in performance. 
Moreover, it is also super-customizable, as it allows you to define your own tags, filters and custom DSL according to the needs of application.
Composer Command: <code>composer require twig/twig</code>
<h2>Faker</h2>
<a href="https://packagist.org/packages/fzaninotto/faker" target="_blank" rel="nofollow noopener">Faker</a>
Faker is a handy PHP library that allows developers to generate dummy content for the web applications. 
Whether you want to fill up application database with mock data, or want to create sample XML documents, Faker does the job for you with good looking testing data. 
It supports all PHP 5+ versions and requires easy composer installation just once.
Composer  command: <code>composer require fzaninotto/faker</code>
<h3>Implementation</h3>
You need to use Faker\Factory::create() to create and initialize fake generator which can generate data by accessing properties.
&lt;?php
// require the Faker autoloader
require_once '/path/to/Faker/src/autoload.php';
// alternatively, use another PSR-4 compliant autoloader
// use the factory to create a Faker\Generator instance
$faker = Faker\Factory::create();
// generate data by accessing properties
echo $faker-&gt;name;
  // 'Lucy Cechtelar';
echo $faker-&gt;address;
  // "426 Jordy Lodge
  // Cartwrightshire, SC 88120-6700"
echo $faker-&gt;text;
  // Dolores sit sint laboriosam dolorem culpa et autem. 
Beatae nam sunt fugit
  // et sit et mollitia sed.
  // Fuga deserunt tempora facere magni omnis. 
Omnis quia temporibus laudantium
  // sit minima sint.
<h2>AWS SDK for PHP</h2>
<a href="https://packagist.org/packages/aws/aws-sdk-php" target="_blank" rel="nofollow noopener">AWS SDK for PHP</a>
This particular AWS library allows developers to use Amazon Web Services in PHP applications. 
Using this AWS SDK, you can build desired web applications associated with Amazon S3, Glacier, DynamoDB and other Amazon services. 
Simply install this SDK using composer or download a zip file, all the Amazon services come pre-configured in it and are ready to be deployed with your PHP application.
<p style="font-weight: 400;"><span style="font-weight: 400;">But, since you are on Cloudways, you won&#8217;t gonna need this library for your PHP applications. 
As Cloudways provides <a href="https://www.cloudways.com/en/php-cloud-hosting.php" target="_blank" rel="noopener">PHP website hosting</a> on completely managed AWS services for its deployed applications combined with the integrated stack of optimized web tools. 
 </span>
Composer Command: <code>composer require aws/aws-sdk-php</code>
<h3>Implementation</h3>
First you need to initialize the sdk by including vendor files and then you can create different use cases like may be you want to upload files. 
Let’s see how you can do this.
&lt;?php
// Require the Composer autoloader.
require 'vendor/autoload.php';
use Aws\S3\S3Client;
// Instantiate an Amazon S3 client.
$s3 = new S3Client([
    'version' =&gt; 'latest',
    'region'  =&gt; 'us-west-2'
]);
Now upload the file on the AWS servers like this:
&lt;?php
// Upload a publicly accessible file. 
The file size and type are determined by the SDK.
try {
    $s3-&gt;putObject([
        'Bucket' =&gt; 'my-bucket',
        'Key'    =&gt; 'my-object',
        'Body'   =&gt; fopen('/path/to/file', 'r'),
        'ACL'    =&gt; 'public-read',
    ]);
} catch (Aws\S3\Exception\S3Exception $e) {
    echo "There was an error uploading the file.\n";
}
<h2>PHPseclib</h2>
<a href="https://packagist.org/packages/phpseclib/phpseclib" target="_blank" rel="nofollow noopener">PHPseclib</a>
Transferring files from one server to another always remains a risky process, because hackers can intervene in between the route and can steal confidential information. 
To fortify this process, PHPSeclib provides a fully secure data transmission between the servers using SFTP protocol. 
This <a href="https://www.cloudways.com/blog/connect-sftp-with-phpseclib-symfony/" target="_blank" rel="noopener">PHP SFTP library</a> is compatible with all the latest versions of PHP and is easy to integrate in web applications.
Composer Command: <code>composer require phpseclib/phpseclib</code>
<h2>Laravel Tinker</h2>
<a href="https://packagist.org/packages/laravel/tinker" target="_blank" rel="nofollow noopener">Laravel Tinker</a>
Laravel Tinker is a powerful Laravel package built to give users the ease to interact with Laravel applications directly from command line. 
It is perfect to use with Eloquent ORM to manage jobs, events and more. 
It is a built in artisan tool and can be easily accessed using the Tinker artisan command in composer.
Composer Command: <code>composer require laravel/tinker</code>
<h2>Predis</h2>
<a href="https://packagist.org/packages/predis/predis" target="_blank" rel="nofollow noopener">Predis</a>
Predis is a <a href="https://www.cloudways.com/blog/setup-redis-as-session-handler-php/" target="_blank" rel="noopener">Redis client for PHP</a> applications. 
It is a very effective caching tool precisely made to reduce the overhead of caching in web applications. 
You can use it for clustering, master slave replication setups, transparent key prefixing and many more optimization operations. 
 It also supports different custom connection classes for providing different network and protocol backends.
Composer Command: <code>composer require predis/predis</code>
<h3>Implementation</h3>
For implementing predis in your PHP project you first need to load the library in the project.
// Prepend a base path if Predis is not available in your "include_path".
require 'Predis/Autoloader.php';
Predis\Autoloader::register();
Now create a client connection like this:
$client = new Predis\Client();
$client-&gt;set('foo', 'bar');
$value = $client-&gt;get('foo');
<h2>PHP AMQP Library</h2>
php-amqplib is a library purely designed for PHP. 
It is compatible with every framework of PHP and is fully featured for RabbitMQ client.
A number of OS are being supported by RabbitMQ, and has several official client libraries available, one of them is php-amqplib. 
It is a message-oriented middleware whose main features are: Queuing and Orientation.
Composer Command: <code>composer require php-amqplib/php-amqplib</code>
<h3>Implementation</h3>
&lt;?php
Include (__DIR__ . 
'/config.php');
use PhpAmqpLib\Connection\AMQPStreamConnection;
use PhpAmqpLib\Connection\AMQPSocketConnection;
use PhpAmqpLib\Connection\AMQPSSLConnection;
define ('CERTS_PATH', '/git/rabbitmqinaction/av_scratchwork/openssl');
$sslOptions = array (
$ssl_options = array (
  'cafile' =&gt; CERTS_PATH . 
'/rmqca/cacert.pem',
  'local_cert' =&gt; CERTS_PATH . 
'/phpcert.pem',
  'verify_peer' =&gt; true
);
<h2>Laravel-Permission Library</h2>
This library is for Laravel 5.8 and for later versions. 
This package allows you to manage user’s role and permissions in a database.
Composer command: composer require spatie/laravel-permission
<h3>Implementation</h3>
You can manually add the service provider in your config/app.php file:
'providers' =&gt; [
// ...
    Spatie\Permission\PermissionServiceProvider::class,
];
You must publish the migration with:
php artisan vendor:publish --provider="Spatie\Permission\PermissionServiceProvider" --tag="migrations"
<h2>Twill Library</h2>
Twill is an open source CMS toolkit for Laravel. 
It provides author to create, curate and personalize command in the digital workflows. 
It also allows publishers to design and take control without restricting anything. 
It also gives the freedom to produce a powerful admin without undermining developer&#8217;s controls with the configuration.
Composer command:
composer global require yanhaoli/create-twill-app:"1.0.*"
create-twill-app new blog
<h2>OAuth 2.0</h2>
OAuth is an open standard for access delegation. 
It gives access to user information on other websites but without revealing the password. 
A lightweight and powerful OAuth 2.0 library is built for the users to authenticate and authorize the client of application and protect its API.
Composer command: <code>composer require league/oauth2-server</code>
<h3>Implementation</h3>
The examples here demonstrate its usage with the Slim Framework. 
Slim is not a requirement to use this library, you just need something that generates PSR7-compatible HTTP requests and responses.
The client will redirect the user to an authorization endpoint.
$app-&gt;get('/authorize', function (ServerRequestInterface $request, ResponseInterface $response) use ($server) {
  
    try {
                          	$authRequest = $server-&gt;validateAuthorizationRequest($request);
           	$authRequest-&gt;setUser(new UserEntity()); // an instance of UserEntityInterface
           	$authRequest-&gt;setAuthorizationApproved(true);
           	return $server-&gt;completeAuthorizationRequest($authRequest, $response);
        }
 
            	catch (OAuthServerException $exception)
            	{
           	return $exception-&gt;generateHttpResponse($response);
            	}
 
                            	catch (\Exception $exception)
            	{
                            	$body = new Stream(fopen('php://temp', 'r+'));
           	$body-&gt;write($exception-&gt;getMessage());
           	return $response-&gt;withStatus(500)-&gt;withBody($body);
       
  }
});
<h2>Laravel Backup</h2>
This package creates a backup of your application. 
A zip file of backup is created containing all the files in the specified directories. 
Any file system is supported by the backup package, and it can also create multiple backup in different file systems at once. 
It also notifies you via mail, slack or other notification provider if something goes wrong.
Composer command: <code>composer require spatie/laravel-backup</code>
<h3>Implementation</h3>
To publish the config file to config/backup.php run:
php artisan vendor:publish --provider="Spatie\Backup\BackupServiceProvider"
<h2>PHP Rector</h2>
This package instantly upgrade and refactor the PHP code. 
It renames classes, namespaces &amp; constants, and upgrades PHP 5.3 to PHP 7.4 easily. 
It also migrates projects from Nette to Symfony, and turns static Laravel to Dependency Injection. 
It is used with almost every PHP framework i.e. 
Laravel, Symfony, CakePHP, PHPUnit and much more.
Composer command: <code>composer require rector/rector</code>
<h3>Implementation</h3>
When the library is first implemented, you can execute a dry run and then permanently change your code through the following commands.
#see the diff first
vendor/bin/rector process src --dry-run
# if it's ok, apply
vendor/bin/rector process src
<h2>Lighthouse</h2>
GraphQL is a query language for the APIs. 
It fulfills the queries on your existing data and gives an extensive understanding of the data in APIs. 
It also gives the client the power to specify the needs, and evolves the API overtime.
Composer command: <code>composer require nuwave/lighthouse</code>
<h3>Implementation</h3>
By the following artisan command, you can get the default Lighthouse Schema:
php artisan vendor:publish --provider="Nuwave\Lighthouse\LighthouseServiceProvider" --tag=schema
<h2>Laravel Admin LTE</h2>
This library provides an easy integration of AdminLTE with Laravel 5 or later versions.
Composer command: <code>composer require jeroennoten/laravel-adminlte</code>
<h3>Implementation</h3>
&lt;?php
namespace JeroenNoten\LaravelAdminLte;
use Illuminate\Contracts\Events\Dispatcher;
use Illuminate\Contracts\Container\Container;
use JeroenNoten\LaravelAdminLte\Menu\Builder;
use JeroenNoten\LaravelAdminLte\Events\BuildingMenu;
class AdminLte
{
  protected $menu;
  protected $filters;
  protected $events;
  protected $container;
  public function __construct(
    	array $filters,
    	Dispatcher $events,
    	Container $container
  ) {
    	$this-&gt;filters = $filters;
    	$this-&gt;events = $events;
    	$this-&gt;container = $container;
  }
  public function menu()
  {
    	if (! $this-&gt;menu) {
        	$this-&gt;menu = $this-&gt;buildMenu();
    	}
    	return $this-&gt;menu;
  }
  protected function buildMenu()
  {
    	$builder = new Builder($this-&gt;buildFilters());
    	if (method_exists($this-&gt;events, 'dispatch')) {
            $this-&gt;events-&gt;dispatch(new BuildingMenu($builder));
    	} else {
            $this-&gt;events-&gt;fire(new BuildingMenu($builder));
    	}
    	return $builder-&gt;menu;
  }
  protected function buildFilters()
  {
    	return array_map([$this-&gt;container, 'make'], $this-&gt;filters);
  }
}
<h2>Swagger PHP library</h2>
Swagger is a library that helps to generate an interactive documentation for restful API using phpdoc annotations. 
It is compatible with OpenAPI 3.0, as it extracts code &amp; existing annotations using a CLI interface.
Composer command: <code>composer require zircote/swagger-php</code>
<h3>Implementation</h3>
/**
 * @OA\Info(title="My First API", version="0.1")
 */
 
/**
 * @OA\Get(
 * 	path="/api/resource.json",
 * 	@OA\Response(response="200", description="An example resource")
 * )
 */
<h2>Laravel/Passport MongoDB</h2>
It is a service provider that helps to add support for Laravel Passport and MongoDB.
Composer command: <code>composer require jenssegers/mongodb</code>
<h2>Stripe-PHP</h2>
<a href="https://packagist.org/packages/stripe/stripe-php" target="_blank" rel="nofollow noopener">Stripe-PHP</a>
Stripe is a popular e-payment platform used to conduct online transactions over the web. 
This package is specially made for PHP ecommerce applications to interact with the Stripe API. 
This library provides a fast, efficient access to the Stripe API and makes end-to-end connection secure between the platforms. 
The library includes predefined set of API classes which are compatible with most of Stripe versions.
Composer Command: <code>composer require stripe/stripe-php</code>
<h2>Omnipay</h2>
<a href="https://packagist.org/packages/league/omnipay" target="_blank" rel="nofollow noopener">Omnipay</a>
This payment processing PHP library allows fast connection to Omnipay web services. 
It deploys a very smooth web API that is fully unit-tested, advanced and comes with full documentation to ease out the configuration process. 
The package itself uses the powerful PHP-HTTP library to make HTTP requests, so that all the transactions becomes secure and reliable.
Composer Command: <code>composer require league/omnipay</code>
<h2>Laravel Cashier</h2>
<a href="https://packagist.org/packages/laravel/cashier" target="_blank" rel="nofollow noopener">Laravel Cashier</a>
Laravel Cashier provides a simple and easy-to-use interface for Stripe’s subscription billing services. 
All the boilerplate billing services come pre-coded in the library, so that you don’t have to worry for the complex configuration of payment billing. 
Using Laravel Cashier, you can easily handle coupons, discount codes, swapping subscription, invoices and other operations.
Composer Command: <code>composer require laravel/cashier</code>
<h2>Sylius</h2>
<a href="https://packagist.org/packages/sylius/sylius" target="_blank" rel="nofollow noopener">Sylius</a>
If you want to <a href="https://www.cloudways.com/blog/install-sylius-ecommerce-framework/" target="_blank" rel="noopener">integrate Sylius</a> with your PHP application, this library will help you in building the secure web connection. 
It is built with strong API structure to connect web applications safely with the Sylius ecommerce platform. 
Just navigate to composer and install the Sylius library, all the payment settings come pre configured in it, so that developers aren’t required to do extra work.
Composer Command: <code>composer create-project sylius/sylius</code>
<h2>Laravel Aimeos</h2>
<a href="https://packagist.org/packages/aimeos/aimeos-laravel" target="_blank" rel="nofollow noopener">Laravel Aimeos</a>
Aimeos is one of the most used <a href="https://www.cloudways.com/blog/laravel-ecommerce-website-with-aimeos-package/" target="_blank" rel="noopener">ecommerce packages for Laravel</a>. 
It provides advanced ecommerce functionalities to the existing Laravel application. 
It is a composer based extension having compatibility with all the Laravel 5+ versions. 
It integrates the core online store components into the Laravel application and provides optimized ecommerce features for the applications.
Composer Command: <code>composer require aimeos/aimeos-laravel</code>
<h2>Spatie Image Optimizer</h2>
<a href="https://packagist.org/packages/spatie/image-optimizer" target="_blank" rel="nofollow noopener">Spatie Image Optimizer</a>
Image optimization improves application’s performance and holds a great value in the sights of Google Bot. 
Spatie is a specialized PHP image optimization library for Laravel applications. 
It can easily optimize PNGs, JPGs, SVGs and GIFs according to the required needs. 
This PHP image library comes pre-configured with multiple image optimization tools including JpegOptim, Optipng, Pngquant2, SVGO and Gifsicle. 
The interface is quite simple and is easy to work with even for beginners.
Composer Command: <code>composer require spatie/image-optimizer</code>
<h2>Elastica</h2>
<a href="https://packagist.org/packages/ruflin/elastica" target="_blank" rel="nofollow noopener">Elastica</a>
Elasticsearch is a popular full-text search system widely used by most of the PHP developers all around the world. 
It allows fast data searching from the records stored in its database. 
This package is a PHP client for Elasticsearch, it provides pre-configured settings for Elasticsearch and gives fast data indexing for applications. 
It is compatible with all PHP 5+ versions and comes up with detailed installation documentation.
Composer Command: <code>composer require ruflin/elastica</code>
<h2>Intervention/image</h2>
<a href="https://packagist.org/packages/intervention/image" target="_blank" rel="nofollow noopener">Intervention/image</a>
This is another great tool to handle image optimization in PHP applications. 
Using this PHP image library, you can easily customize images as you wish. 
It provides you an easy-to-use interface for creating, editing and composing images. 
To integrate with Laravel applications easily, the PHP image library includes ServiceProviders and Facades as they facilitate hassle-free package installation process.
Composer Command: <code>composer require predis/predis</code>
<h2>Minify</h2>
<a href="https://packagist.org/packages/matthiasmullie/minify" target="_blank" rel="nofollow noopener">Minify</a>
Minification is one of the most important aspects of optimizing CSS and JavaScript files. 
It helps reducing the overhead programming patterns of the file and optimizes it according to the standards of web performance. 
This library helps developers to minify their CSS and JavaScripting files.
It removes the white spaces, strip comments and other unnoticed attributes from the code, making it light and simple to execute. 
It combines statements, small assets in CSS files and minifies few coding structures according to best standards.
Composer Command: <code>composer require matthiasmullie/minify</code>
<h2>Swap</h2>
<a href="https://packagist.org/packages/florianv/swap" target="_blank" rel="nofollow noopener">Swap</a>
Swap is a handy PHP library for working with currency exchange rates. 
It allows you to retrieve those exchange rates from the popular currency platforms like Fixer, currencylayer and others. 
It is one of the most used libraries for working with exchange rates, as it is also integrated with other libraries and has simple configuration pattern to work with.
Composer Command: <code>composer require florianv/swap</code>
<h2>Tcpdf</h2>
<a href="https://packagist.org/packages/tecnickcom/tcpdf" target="_blank" rel="nofollow noopener">Tcpdf</a>
This PHP PDF library helps you generate high quality PDF documents. 
It supports all standard and custom page formats, making it simple for the users to work with PDF documents. 
The package provides several advanced formatting features including automatic page header and footer management, annotations, links, multiple columns (if needed), text rendering and various other features. 
In short, it’s a fine tool to work and manage PDF documents on the go.
Composer Command: <code>composer require tecnickcom/tcpdf</code>

<h2>Create a MySQL Database Using MySQLi</h2>
&lt;?php
$servername = "localhost";
$username = "username";
$password = "password";

// Create connection
$conn = new mysqli($servername, $username, $password);

// Check connection
if ($conn->connect_error) {
  die("Connection failed: " . $conn->connect_error);
}

// Create database
$sql = "CREATE DATABASE myDB";
if ($conn->query($sql) === TRUE) {
  echo "Database created successfully";
} else {
  echo "Error creating database: " . $conn->error;
}

// Attempt create table query execution
$sql = "CREATE TABLE persons(
    id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    first_name VARCHAR(30) NOT NULL,
    last_name VARCHAR(30) NOT NULL,
    email VARCHAR(70) NOT NULL UNIQUE
)";
if ($conn->query($sql) === TRUE) {
  echo "Database created successfully";
} else {
  echo "Error creating database: " . $conn->error;
}

$conn->close();
?>

<h2>PHP CRUD Create, edit, update and delete posts with MySQL database</h2>
<a href="https://tutorialsclass.com/code/php-simple-crud-application" class="whitebut ">PHP Simple CRUD Application Script</a>

id - int(11)
name - varchar(100)
address - varchar(100)

Create a file called index.php and paste in it the following code:

<code>
&lt;body&gt;
  &lt;form method="post" action="server.php" &gt;
    &lt;div class="input-group"&gt;
      &lt;label&gt;Name&lt;/label&gt;
      &lt;input type="text" name="name" value=""&gt;
    &lt;/div&gt;
    &lt;div class="input-group"&gt;
      &lt;label&gt;Address&lt;/label&gt;
      &lt;input type="text" name="address" value=""&gt;
    &lt;/div&gt;
    &lt;div class="input-group"&gt;
      &lt;button class="btn" type="submit" name="save" &gt;Save&lt;/button&gt;
    &lt;/div&gt;
  &lt;/form&gt;
&lt;/body&gt;
</code>

I usually like to separate my HTML code from my PHP code as much as possible. I consider that good practice. On that note, let&#39;s create another file called php_code.php where we implement all php functionalities like connecting to the database, query the database and the like.

So open php_code.php and paste the following code in it:

<code>&lt;?php 
  session_start();
  $db = mysqli_connect('localhost', 'root', '', 'crud');

  // initialize variables
  $name = "";
  $address = "";
  $id = 0;
  $update = false;

  if (isset($_POST['save'])) {
    $name = $_POST['name'];
    $address = $_POST['address'];

    mysqli_query($db, "INSERT INTO info (name, address) VALUES ('$name', '$address')"); 
    $_SESSION['message'] = "Address saved"; 
    header('location: index.php');
  }

// ...</code>

Now include this file at the top (the very first line) of your index.php file. Like so:

<code>&lt;?php  include('server.php'); ?&gt;</code>
At this point,&nbsp;all that this code does is connect to the database, initialize some variables and saves&nbsp;submitted data from the form to the database in the info we created earlier.&nbsp;That&#39;s only the CReate part of CRUD. Let&#39;s proceed with the others.

Now visit again your index.php file and add this code right under the &lt;body&gt; tag:

<code>// ...
&lt;body&gt;
&lt;?php if (isset($_SESSION['message'])): ?&gt;
  &lt;div class="msg"&gt;
    &lt;?php 
      echo $_SESSION['message']; 
      unset($_SESSION['message']);
    ?&gt;
  &lt;/div&gt;
&lt;?php endif ?&gt;</code>

<p>This code displays a confirmation message to tell the user that a new record has been created in the database.&nbsp;</p>

To retrieve the database records and display them on the page, add this code immediately above the input form:

<code>&lt;?php $results = mysqli_query($db, "SELECT * FROM info"); ?&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Name&lt;/th&gt;
      &lt;th&gt;Address&lt;/th&gt;
      &lt;th colspan="2"&gt;Action&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  
  &lt;?php while ($row = mysqli_fetch_array($results)) { ?&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;?php echo $row['name']; ?&gt;&lt;/td&gt;
      &lt;td&gt;&lt;?php echo $row['address']; ?&gt;&lt;/td&gt;
      &lt;td&gt;
        &lt;a href="index.php?edit=&lt;?php echo $row['id']; ?&gt;" class="edit_btn" &gt;Edit&lt;/a&gt;
      &lt;/td&gt;
      &lt;td&gt;
        &lt;a href="server.php?del=&lt;?php echo $row['id']; ?&gt;" class="del_btn"&gt;Delete&lt;/a&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;?php } ?&gt;
&lt;/table&gt;

&lt;form&gt;
    // ...</code>

Let&#39;s create a new record and see if this stuff works:

Now we move onto editting. At the top of your index.php file (immediately after the include statement) add the following code:

<code>&lt;?php 
  if (isset($_GET['edit'])) {
    $id = $_GET['edit'];
    $update = true;
    $record = mysqli_query($db, "SELECT * FROM info WHERE id=$id");

    if (count($record) == 1 ) {
      $n = mysqli_fetch_array($record);
      $name = $n['name'];
      $address = $n['address'];
    }
  }
?&gt;</code>
When editting a database record, we need to put the old values in the form so that they can be modified. To do so, let&#39;s modify our input fields on the form and set those values taken from the database ($name, $address) as values to the <strong>value</strong>&nbsp;attribute of the form&nbsp;fields.

<div class="square-ad">

Also add a hidden field to hold the id of the record we will be updating so that it can be recognized in the database uniquely by it&#39;s id.&nbsp;This explains it better:

<code>// newly added field
&lt;input type="hidden" name="id" value="&lt;?php echo $id; ?&gt;"&gt;

// modified form fields
&lt;input type="text" name="name" value="&lt;?php echo $name; ?&gt;"&gt;
&lt;input type="text" name="address" value="&lt;?php echo $address; ?&gt;"&gt;</code>
Remember all of that is in the input &lt;form&gt;.

Now if we click on the edit button on a particular record from the database, the values will be filled in the form and we will be able to edit them. Since we are editing on the same form as when we are creating, we have to put a condition that determines the appropriate button to be displayed. For example, when editing, we display the update button on the form and when creating, we display the save button. We do this using the <strong>update&nbsp;</strong>variable which is boolean. When update is true, the update button is displayed and if false, the save button is displayed.

Replace your save button on the form like this:

<code>&lt;button class="btn" type="submit" name="save" &gt;Save&lt;/button&gt;</code>

<code>&lt;?php if ($update == true): ?&gt;
  &lt;button class="btn" type="submit" name="update" style="background: #556B2F;" &gt;update&lt;/button&gt;
&lt;?php else: ?&gt;
  &lt;button class="btn" type="submit" name="save" &gt;Save&lt;/button&gt;
&lt;?php endif ?&gt;</code>
Now if we run this on the browser and click the edit button, we get this:

Now you can see it is the update button that is displayed. Let&#39;s add the code that will be executed when this button is clicked.

Open php_code.php file and add this code at the button:

<code>// ... 

if (isset($_POST['update'])) {
  $id = $_POST['id'];
  $name = $_POST['name'];
  $address = $_POST['address'];

  mysqli_query($db, "UPDATE info SET name='$name', address='$address' WHERE id=$id");
  $_SESSION['message'] = "Address updated!"; 
  header('location: index.php');
}</code>
Now change the values in&nbsp;the form and click the update button.

One last thing: deleting records. Just add this code at the end of you php_code.php file and you&#39;re good to go:

<code>if (isset($_GET['del'])) {
  $id = $_GET['del'];
  mysqli_query($db, "DELETE FROM info WHERE id=$id");
  $_SESSION['message'] = "Address deleted!"; 
  header('location: index.php');
}</code>

If you click the delete button, it deletes the record from the database and displays the message just like the other actions.

<h2>CRUD with MySQL database</h2>
<h3>Step: 1 — Creating a sample Database table</h3>
CREATE TABLE  `student` (`id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,`name` VARCHAR( 100 ) NOT NULL ,`phone` VARCHAR( 100 ) NOT NULL ,`roll` INTEGER( 100 ) NOT NULL)  ENGINE = INNODB;
<h3>Step: 2— Connecting to Database</h3>
Create a PHP file “mysqldrive.php”; this file contains the code for Database handles all the stuff related to database connections, such as connecting and disconnecting with crud.
&lt;?php

    class MySqlDrive
    {
        private $host = 'localhost';
        private $user = 'root';
        private $password = '';
        private $db = 'codeigniter_crud';

        private $db_handle;

        public function __construct()
        {
            $this->db_handle = mysqli_connect($this->host, $this->user, $this->password, $this->db);

            if(!$this->db_handle) die("Unable to connect to mysql: " . mysqli_error($this->db_handle));

            if(!mysqli_select_db($this->db_handle, $this->db)) die ("Unable to connect to database: " . mysqli_error($this->db_handle));
        }

        public function db_connect()
        {
            return $this->db_handle;
        }

        public function excute_query($query)
        {
            $result = mysqli_query($this->db_handle, $query);

            return !$result ? FALSE : TRUE;
            
        }

        public function insert($query)
        {
            return $this->excute_query($query);
        }

        public function read($query)
        {
            $result = mysqli_query($this->db_handle, $query);
            $row = mysqli_num_rows($result);

            $data = array();

            if($row){
                while ($row = mysqli_fetch_assoc($result))
                {
                    $data = $row;
                }
            }

            return $data;
        }

    }
?>

To use this class, you will need to supply correct values for
&lt;li>$host: Database host, this is normally “localhost”.</li>&lt;li>$user: Database username.</li>&lt;li>$password: Database user’s password.</li>&lt;li>$name: Database name which you use to store ‘customers’ table.</li>
&lt;blockquote>
You have to main the serialization.
</blockquote>

<h3>Step: 3— Create html file for crud</h3>
    &lt;body>
        &lt;?php
            require('process.php');

            $db_con = new MySqlDrive();
            $query = "SELECT * FROM student";
            // $result = $db_con->read($query);
            $result = mysqli_query($db_con->db_connect(), $query);
            // var_dump($result);
        ?>

        &lt;?php if(isset($_SESSION['message'])): ?>

        &lt;div>
            &lt;h3>
                &lt;?php echo $_SESSION['message']; ?>
            &lt;/h3>
        &lt;/div>

        &lt;?php endif ?>

        &lt;div class="row">
            &lt;table>
                &lt;thead>
                    &lt;tr>
                        &lt;th>Name&lt;/th>
                        &lt;th>Phone&lt;/th>
                        &lt;th>Roll&lt;/th>
                        &lt;th>Action&lt;/th>
                    &lt;/tr>
                &lt;/thead>
                &lt;tbody>
                    &lt;?php while($row = $result->fetch_assoc()){ ?>
                    &lt;tr>
                        &lt;td>&lt;?php echo $row['name']; ?>&lt;/td>
                        &lt;td>&lt;?php echo $row['phone']; ?>&lt;/td>
                        &lt;td>&lt;?php echo $row['roll']; ?>&lt;/td>
                        &lt;td>
                            &lt;a href="index.php?edit=&lt;?php echo $row['id']?>">Edit&lt;/a>
                            &lt;a href="process.php?delete=&lt;?php echo $row['id']?>">Delete&lt;/a>
                        &lt;/td>
                    &lt;/tr>
                    &lt;?php } ?>
                &lt;/tbody>
            &lt;/table>

        &lt;/div>
        &lt;br>
        &lt;form action="process.php" method="POST">
            &lt;label for="">Name&lt;/label>
            &lt;input type="text" value="&lt;?php echo $name;?>" name="name">
            &lt;label for="">Phone<&lt;label>
            &lt;input type="text" value="&lt;?php echo $phone;?>" name="phone">
            &lt;label for="">Roll&lt;/label>
            &lt;input type="number" value="&lt;?php echo $roll;?>" name="roll">
            &lt;input type="hidden" value="&lt;?php echo $id;?>" name="id">
            &lt;?php if($update == true): ; ?>
                &lt;button type="submit" name="update">Update&lt;/button>
            &lt;?php else: ?>
                &lt;button type="submit" name="save">Submit&lt;/button>
            &lt;?php endif ;?>
        &lt;/form>

<h3>Step: 4— Create process file for crud</h3>
&lt;?php
require ('core/MySqlDrive.php');
$db_con = new MySqlDrive();

session_start();
$name = "";
$phone = "";
$roll = "";
$id = "";
$update = FALSE;

if(isset($_POST['save'])){
    $name = $_POST['name'];
    $phone = $_POST['phone'];
    $roll = $_POST['roll'];

    $query = "INSERT INTO student (name, phone, roll) VALUES ('$name', '$phone', '$roll')";

    $db_con = new MySqlDrive();

    $db_con->insert($query);

    $_SESSION['message'] = "Record Has been saved!";
    $_SESSION['msg_type'] = "success";

    header('location: index.php');

}

if(isset($_GET['delete'])){

    $id = $_GET['delete'];

    $query = "DELETE FROM student WHERE id=$id";

    $db_con->excute_query($query);

    $_SESSION['message'] = "Record Has been deleted!";
    $_SESSION['msg_type'] = "success";

    header("location: index.php");

}

if(isset($_GET['edit'])){

    $id = $_GET['edit'];

    $query = "SELECT * FROM student WHERE id=$id";

    $result = mysqli_query($db_con->db_connect(), $query);

    if(mysqli_num_rows($result) == 1){
        $row = $result->fetch_array();
        $name = $row['name'];
        $phone = $row['phone'];
        $roll = $row['roll'];
        $id = $row['id'];
        $update = TRUE;
    }

}

if(isset($_POST['update'])){
    $id = $_POST['id'];
    $name = $_POST['name'];
    $query = "UPDATE student SET name='$name' WHERE id=$id";
    $result = mysqli_query($db_con->db_connect(), $query) or die("Error: " . $mysqli->error);
    header('location: index.php');
}


<h2>PHP Run SQL script</h2>
$command = "mysql --user={$vals['db_user']} --password='{$vals['db_pass']}' "
 . "-h {$vals['db_host']} -D {$vals['db_name']} < {$script_path}";

$output = shell_exec($command . '/shellexec.sql');

the shell_exec() route: 
shell_exec('mysql' . ' -u ' . $vals['db_user'] . ' -p ' . $vals['db_pass'] . ' -D ' . $vals['db_name']);


$commands = file_get_contents($location);   
$this->_connection->multi_query($commands);


One suggestion:
// connect to db.
if (mysql_query("SOURCE myfile.sql")) { echo "Hello Sonny"; } 

<h2>get the MAC and the IP address of a connected client</h2>
Server IP
You can get the server IP address from $_SERVER['SERVER_ADDR'].

Server MAC address
For the MAC address, you could parse the output of netstat -ie in Linux, or ipconfig /all in Windows.

Client IP address
You can get the client IP from $_SERVER['REMOTE_ADDR']

Client MAC address
The client MAC address will not be available to you except in one special circumstance: if the client is on the same ethernet segment as the server.

So, if you are building some kind of LAN based system and your clients are on the same ethernet segment, then you could get the MAC address by parsing the output of arp -n (linux) or arp -a (windows).

Edit: to get the output of an external command - one way is to use backticks, e.g.

$ipAddress=$_SERVER['REMOTE_ADDR'];
$macAddr=false;

#run the external command, break output into lines
$arp=`arp -a $ipAddress`;
$lines=explode("\n", $arp);

#look for the output line describing our IP address
foreach($lines as $line)
{
   $cols=preg_split('/\s+/', trim($line));
   if ($cols[0]==$ipAddress)
   {
       $macAddr=$cols[1];
   }
}

But what if the client isn't on a LAN?
Well, you're out of luck unless you can have the client volunteer that information and transmit via other means.

The MAC address of a client (in the sense of the computer that issued the HTTP request) is overwritten by every router between the client and the server.

Client IP is conveniently provided to the script in $_SERVER['REMOTE_ADDR']. In some scenarios, particularly if your web server is behind a proxy (i.e. a caching proxy) $_SERVER['REMOTE ADDR'] will return the IP of the proxy, and there will be an extra value, often $_SERVER['HTTP_X_FORWARDED_FOR'], that contains the IP of the original request client.

Sometimes, particularly when you're dealing with an anonymizing proxy that you don't control, the proxy won't return the real IP address, and all you can hope for is the IP address of the proxy.

I don't think you can get MAC address in PHP, but you can get IP from $_SERVER['REMOTE_ADDR'] variable.

For windows server I think u can use this:

&lt;?php
echo exec('getmac');
?>

In windows, If the user is using your script locally, it will be very simple :

&lt;?php
// get all the informations about the client's network
 $ipconfig =   shell_exec ("ipconfig/all"));  
 // display those informations   
 echo $ipconfig;
/*  
  look for the value of "physical adress"  and use substr() function to 
  retrieve the adress from this long string.
  here in my case i'm using a french cmd.
  you can change the numbers according adress mac position in the string.
*/
 echo   substr(shell_exec ("ipconfig/all"),1821,18); 
?>

We can get MAC address in Ubuntu by this ways in php

$ipconfig =   shell_exec ("ifconfig -a | grep -Po 'HWaddr \K.*$'");  
    // display mac address   
 echo $ipconfig;

Getting MAC Address Using PHP: (Tested in Ubuntu 18.04) - 2020 Update

Here's the Code:

&lt;?php
    $mac = shell_exec("ip link | awk '{print $2}'");
    preg_match_all('/([a-z0-9]+):\s+((?:[0-9a-f]{2}:){5}[0-9a-f]{2})/i', $mac, $matches);
    $output = array_combine($matches[1], $matches[2]);
    $mac_address_values =  json_encode($output, JSON_PRETTY_PRINT);   
    echo $mac_address_values
?>

Output:
{
    "lo": "00:00:00:00:00:00",
    "enp0s25": "00:21:cc:d4:2a:23",
    "wlp3s0": "84:3a:4b:03:3c:3a",
    "wwp0s20u4": "7a:e3:2a:de:66:09"
}


Example 1: This example illustrates how to get Client’s IP Address using $_SERVER[‘REMOTE_ADDR’].

filter_none
brightness_4
&lt;?php 
  
// PHP program to get IP address of client 
$IP = $_SERVER['REMOTE_ADDR']; 
  
// $IP stores the ip address of client 
echo "Client's IP address is: $IP"; 
  
// Print the ip address of client 
?> 
Output:

Client's IP address is: ::1

Note: For an online IDE, it may show runtime error or it will not show any output because private domains don’t share their IP. For localhost, IP address is 127.0.0.1 that is a loopback address and so the client’s IP address is ::1.

How to get the MAC address of the connected client in PHP: The ‘exec()’ is a function which is used to run an external program in PHP. It returns the last line from the result of the command. To get the MAC address, pass the parameter ‘getmac’ which returns the MAC address of the client. ‘getmac’ is a CMD command to get the MAC address.


Example 2: This example get the MAC Address using exec() function.

filter_none
brightness_4
&lt;?php 
  
// PHP code to get the MAC address of Client 
$MAC = exec('getmac'); 
  
// Storing 'getmac' value in $MAC 
$MAC = strtok($MAC, ' '); 
  
// Updating $MAC value using strtok function,  
// strtok is used to split the string into tokens 
// split character of strtok is defined as a space 
// because getmac returns transport name after 
// MAC address    
echo "MAC address of client is: $MAC"; 
?> 
Output:

MAC address of client is: 00-20-10-2A-03-0A
Note: This code will not work on online IDE, because ‘getmac’ is a CMD command. Try running it on localhost.

<h2>PHP var_dump() Function</h2>
Dump information about different variables:
var_dump(var1, var2, ...);

&lt;?php
$a = 32;
echo var_dump($a) . "&lt;br>";

$b = "Hello world!";
echo var_dump($b) . "&lt;br>";

$c = 32.5;
echo var_dump($c) . "&lt;br>";

$d = array("red", "green", "blue");
echo var_dump($d) . "&lt;br>";

$e = array(32, "Hello world!", 32.5, array("red", "green", "blue"));
echo var_dump($e) . "&lt;br>";

// Dump two variables
echo var_dump($a, $b) . "&lt;br>";
?>

<h2>Most Commonly Used PHP Functions</h2>
<a href="https://searchcode.com/?q=php%20array">array</a>
<a href="https://searchcode.com/?q=php%20isset">isset</a>
<a href="https://searchcode.com/?q=php%20define">define</a>
<a href="https://searchcode.com/?q=php%20empty">empty</a>
<a href="https://searchcode.com/?q=php%20assert">assert</a>
<a href="https://searchcode.com/?q=php%20file">file</a>
<a href="https://searchcode.com/?q=php%20end">end</a>
<a href="https://searchcode.com/?q=php%20count">count</a>
<a href="https://searchcode.com/?q=php%20date">date</a>
<a href="https://searchcode.com/?q=php%20ord">ord</a>
<a href="https://searchcode.com/?q=php%20print">print</a>
<a href="https://searchcode.com/?q=php%20substr">substr</a>
<a href="https://searchcode.com/?q=php%20dir">dir</a>
<a href="https://searchcode.com/?q=php%20pos">pos</a>
<a href="https://searchcode.com/?q=php%20time">time</a>
<a href="https://searchcode.com/?q=php%20exp">exp</a>
<a href="https://searchcode.com/?q=php%20key">key</a>
<a href="https://searchcode.com/?q=php%20list">list</a>
<a href="https://searchcode.com/?q=php%20log">log</a>
<a href="https://searchcode.com/?q=php%20com">com</a>
<a href="https://searchcode.com/?q=php%20each">each</a>
<a href="https://searchcode.com/?q=php%20header">header</a>
<a href="https://searchcode.com/?q=php%20is_a">is_a</a>
<a href="https://searchcode.com/?q=php%20chr">chr</a>
<a href="https://searchcode.com/?q=php%20defined">defined</a>
<a href="https://searchcode.com/?q=php%20unset">unset</a>
<a href="https://searchcode.com/?q=php%20dl">dl</a>
<a href="https://searchcode.com/?q=php%20is_array">is_array</a>
<a href="https://searchcode.com/?q=php%20strlen">strlen</a>
<a href="https://searchcode.com/?q=php%20tan">tan</a>
<a href="https://searchcode.com/?q=php%20link">link</a>
<a href="https://searchcode.com/?q=php%20str_replace">str_replace</a>
<a href="https://searchcode.com/?q=php%20printf">printf</a>
<a href="https://searchcode.com/?q=php%20in_array">in_array</a>
<a href="https://searchcode.com/?q=php%20trim">trim</a>
<a href="https://searchcode.com/?q=php%20die">die</a>
<a href="https://searchcode.com/?q=php%20sprintf">sprintf</a>
<a href="https://searchcode.com/?q=php%20strpos">strpos</a>
<a href="https://searchcode.com/?q=php%20preg_match">preg_match</a>
<a href="https://searchcode.com/?q=php%20pi">pi</a>
<a href="https://searchcode.com/?q=php%20delete">delete</a>
<a href="https://searchcode.com/?q=php%20explode">explode</a>
<a href="https://searchcode.com/?q=php%20min">min</a>
<a href="https://searchcode.com/?q=php%20implode">implode</a>
<a href="https://searchcode.com/?q=php%20strtolower">strtolower</a>
<a href="https://searchcode.com/?q=php%20preg_replace">preg_replace</a>
<a href="https://searchcode.com/?q=php%20exec">exec</a>
<a href="https://searchcode.com/?q=php%20intval">intval</a>
<a href="https://searchcode.com/?q=php%20file_exists">file_exists</a>
<a href="https://searchcode.com/?q=php%20dirname">dirname</a>
<a href="https://searchcode.com/?q=php%20htmlspecialchars">htmlspecialchars
<a href="https://searchcode.com/?q=php%20stat">stat</a>
<a href="https://searchcode.com/?q=php%20sin">sin</a>
<a href="https://searchcode.com/?q=php%20current">current</a>
<a href="https://searchcode.com/?q=php%20mail">mail</a>
<a href="https://searchcode.com/?q=php%20is_null">is_null</a>
<a href="https://searchcode.com/?q=php%20array_merge">array_merge</a>
<a href="https://searchcode.com/?q=php%20trigger_error">trigger_error</a>
<a href="https://searchcode.com/?q=php%20pack">pack</a>
<a href="https://searchcode.com/?q=php%20eval">eval</a>
<a href="https://searchcode.com/?q=php%20function_exists">function_exists</a
<a href="https://searchcode.com/?q=php%20strtoupper">strtoupper</a>
<a href="https://searchcode.com/?q=php%20sizeof">sizeof</a>
<a href="https://searchcode.com/?q=php%20array_keys">array_keys</a>
<a href="https://searchcode.com/?q=php%20is_object">is_object</a>
<a href="https://searchcode.com/?q=php%20idate">idate</a>
<a href="https://searchcode.com/?q=php%20serialize">serialize</a>
<a href="https://searchcode.com/?q=php%20sort">sort</a>
<a href="https://searchcode.com/?q=php%20reset">reset</a>
<a href="https://searchcode.com/?q=php%20array_key_exists">array_key_exists
<a href="https://searchcode.com/?q=php%20is_numeric">is_numeric</a>
<a href="https://searchcode.com/?q=php%20abs">abs</a>
<a href="https://searchcode.com/?q=php%20exit">exit</a>
<a href="https://searchcode.com/?q=php%20extract">extract</a>
<a href="https://searchcode.com/?q=php%20is_string">is_string</a>
<a href="https://searchcode.com/?q=php%20next">next</a>
<a href="https://searchcode.com/?q=php%20max">max</a>
<a href="https://searchcode.com/?q=php%20rand">rand</a>
<a href="https://searchcode.com/?q=php%20main">main</a>
<a href="https://searchcode.com/?q=php%20settype">settype</a>
<a href="https://searchcode.com/?q=php%20fclose">fclose</a>
<a href="https://searchcode.com/?q=php%20round">round</a>
<a href="https://searchcode.com/?q=php%20fopen">fopen</a>
<a href="https://searchcode.com/?q=php%20is_dir">is_dir</a>
<a href="https://searchcode.com/?q=php%20getopt">getopt</a>
<a href="https://searchcode.com/?q=php%20addslashes">addslashes</a>
<a href="https://searchcode.com/?q=php%20urlencode">urlencode</a>
<a href="https://searchcode.com/?q=php%20fread">fread</a>
<a href="https://searchcode.com/?q=php%20md5">md5</a>
<a href="https://searchcode.com/?q=php%20unlink">unlink</a>
<a href="https://searchcode.com/?q=php%20fwrite">fwrite</a>
<a href="https://searchcode.com/?q=php%20copy">copy</a>
<a href="https://searchcode.com/?q=php%20get_class">get_class</a>
<a href="https://searchcode.com/?q=php%20hash">hash</a>
<a href="https://searchcode.com/?q=php%20split">split</a>
<a href="https://searchcode.com/?q=php%20array_shift">array_shift</a>
<a href="https://searchcode.com/?q=php%20class_exists">class_exists</a>
<a href="https://searchcode.com/?q=php%20call_user_func">call_user_func</a>
<a href="https://searchcode.com/?q=php%20basename">basename</a>
<a href="https://searchcode.com/?q=php%20array_push">array_push</a>
<a href="https://searchcode.com/?q=php%20prev">prev</a>
<a href="https://searchcode.com/?q=php%20glob">glob</a>
<a href="https://searchcode.com/?q=php%20array_pop">array_pop</a>
<a href="https://searchcode.com/?q=php%20strstr">strstr</a>
<a href="https://searchcode.com/?q=php%20gettext">gettext</a>
<a href="https://searchcode.com/?q=php%20gettype">gettype</a>
<a href="https://searchcode.com/?q=php%20is_file">is_file</a>
<a href="https://searchcode.com/?q=php%20mktime">mktime</a>
<a href="https://searchcode.com/?q=php%20join">join</a>
<a href="https://searchcode.com/?q=php%20stripslashes">stripslashes</a>
<a href="https://searchcode.com/?q=php%20floor">floor</a>
<a href="https://searchcode.com/?q=php%20ini_get">ini_get</a>
<a href="https://searchcode.com/?q=php%20ob_start">ob_start</a>
<a href="https://searchcode.com/?q=php%20flush">flush</a>
<a href="https://searchcode.com/?q=php%20unserialize">unserialize</a>
<a href="https://searchcode.com/?q=php%20array_values">array_values</a>
<a href="https://searchcode.com/?q=php%20file_get_contents">
<a href="https://searchcode.com/?q=php%20preg_match_all">preg_match_all</a>
<a href="https://searchcode.com/?q=php%20constant">constant</a>
<a href="https://searchcode.com/?q=php%20gmdate">gmdate</a>
<a href="https://searchcode.com/?q=php%20chmod">chmod</a>
<a href="https://searchcode.com/?q=php%20array_map">array_map</a>
<a href="https://searchcode.com/?q=php%20strrpos">strrpos</a>
<a href="https://searchcode.com/?q=php%20print_r">print_r</a>
<a href="https://searchcode.com/?q=php%20strtotime">strtotime</a>
<a href="https://searchcode.com/?q=php%20method_exists">method_exists</a>
<a href="https://searchcode.com/?q=php%20is_readable">is_readable</a>
<a href="https://searchcode.com/?q=php%20filesize">filesize</a>
<a href="https://searchcode.com/?q=php%20microtime">microtime</a>
<a href="https://searchcode.com/?q=php%20array_unique">array_unique</a>
<a href="https://searchcode.com/?q=php%20system">system</a>
<a href="https://searchcode.com/?q=php%20is_int">is_int</a>
<a href="https://searchcode.com/?q=php%20mysql_query">mysql_query</a>
<a href="https://searchcode.com/?q=php%20str_repeat">str_repeat</a>
<a href="https://searchcode.com/?q=php%20func_get_arg">func_get_arg</a>
<a href="https://searchcode.com/?q=php%20strip_tags">strip_tags</a>
<a href="https://searchcode.com/?q=php%20call_user_func_array">
<a href="https://searchcode.com/?q=php%20ini_set">ini_set</a>
<a href="https://searchcode.com/?q=php%20array_slice">array_slice</a>
<a href="https://searchcode.com/?q=php%20range">range</a>
<a href="https://searchcode.com/?q=php%20fputs">fputs</a>
<a href="https://searchcode.com/?q=php%20preg_quote">preg_quote</a>
<a href="https://searchcode.com/?q=php%20getdate">getdate</a>
<a href="https://searchcode.com/?q=php%20mkdir">mkdir</a>
<a href="https://searchcode.com/?q=php%20func_get_args">func_get_args</a>
<a href="https://searchcode.com/?q=php%20ucfirst">ucfirst</a>
<a href="https://searchcode.com/?q=php%20xml_parse">xml_parse</a>
<a href="https://searchcode.com/?q=php%20rename">rename</a>
<a href="https://searchcode.com/?q=php%20strtr">strtr</a>
<a href="https://searchcode.com/?q=php%20preg_split">preg_split</a>
<a href="https://searchcode.com/?q=php%20mt_rand">mt_rand</a>
<a href="https://searchcode.com/?q=php%20ceil">ceil</a>
<a href="https://searchcode.com/?q=php%20version_compare">version_compare</a
<a href="https://searchcode.com/?q=php%20array_diff">array_diff</a>
<a href="https://searchcode.com/?q=php%20rtrim">rtrim</a>
<a href="https://searchcode.com/?q=php%20curl_setopt">curl_setopt</a>
<a href="https://searchcode.com/?q=php%20ob_end_clean">ob_end_clean</a>
<a href="https://searchcode.com/?q=php%20strftime">strftime</a>
<a href="https://searchcode.com/?q=php%20is_writable">is_writable</a>
<a href="https://searchcode.com/?q=php%20base64_encode">base64_encode</a>
<a href="https://searchcode.com/?q=php%20urldecode">urldecode</a>
<a href="https://searchcode.com/?q=php%20extension_loaded">extension_loaded
<a href="https://searchcode.com/?q=php%20ksort">ksort</a>
<a href="https://searchcode.com/?q=php%20stristr">stristr</a>
<a href="https://searchcode.com/?q=php%20error_log">error_log</a>
<a href="https://searchcode.com/?q=php%20realpath">realpath</a>
<a href="https://searchcode.com/?q=php%20array_search">array_search</a>
<a href="https://searchcode.com/?q=php%20crypt">crypt</a>
<a href="https://searchcode.com/?q=php%20substr_count">substr_count</a>
<a href="https://searchcode.com/?q=php%20is_bool">is_bool</a>
<a href="https://searchcode.com/?q=php%20configuration">configuration</a>
<a href="https://searchcode.com/?q=php%20ftell">ftell</a>
<a href="https://searchcode.com/?q=php%20readdir">readdir</a>
<a href="https://searchcode.com/?q=php%20var_export">var_export</a>
<a href="https://searchcode.com/?q=php%20cos">cos</a>
<a href="https://searchcode.com/?q=php%20usage">usage</a>
<a href="https://searchcode.com/?q=php%20htmlentities">htmlentities</a>
<a href="https://searchcode.com/?q=php%20preg_replace_callback">
<a href="https://searchcode.com/?q=php%20feof">feof</a>
<a href="https://searchcode.com/?q=php%20error_reporting">error_reporting</a
<a href="https://searchcode.com/?q=php%20pow">pow</a>
<a href="https://searchcode.com/?q=php%20setcookie">setcookie</a>
<a href="https://searchcode.com/?q=php%20array_reverse">array_reverse</a>
<a href="https://searchcode.com/?q=php%20ob_get_contents">ob_get_contents</a
<a href="https://searchcode.com/?q=php%20get_object_vars">get_object_vars</a
<a href="https://searchcode.com/?q=php%20opendir">opendir</a>
<a href="https://searchcode.com/?q=php%20number_format">number_format</a>
<a href="https://searchcode.com/?q=php%20stripos">stripos</a>
<a href="https://searchcode.com/?q=php%20fgets">fgets</a>
<a href="https://searchcode.com/?q=php%20hexdec">hexdec</a>
<a href="https://searchcode.com/?q=php%20getenv">getenv</a>
<a href="https://searchcode.com/?q=php%20parse_url">parse_url</a>
<a href="https://searchcode.com/?q=php%20is_resource">is_resource</a>
<a href="https://searchcode.com/?q=php%20compact">compact</a>
<a href="https://searchcode.com/?q=php%20strcmp">strcmp</a>
<a href="https://searchcode.com/?q=php%20filemtime">filemtime</a>
<a href="https://searchcode.com/?q=php%20sha1">sha1</a>
<a href="https://searchcode.com/?q=php%20array_unshift">array_unshift</a>
<a href="https://searchcode.com/?q=php%20get_current_user">get_current_user
<a href="https://searchcode.com/?q=php%20strrchr">strrchr</a>

<h2>PHP form that submits on same page</h2>
In order to stay on the same page on submit you can leave action empty (action="") into the form tag, or leave it out altogether.

&lt;?php
$message = "";
if(isset($_POST['SubmitButton'])){ //check if form was submitted
  $input = $_POST['inputText']; //get input text
  $message = "Success! You entered: ".$input;
}    
?>

&lt;form action="" method="post">
  &lt;input type="text" name="inputText"/>
  &lt;button type="submit" name="SubmitButton"/>submit&lt;/form>
&lt;/form>
&lt;?php echo $message; ?>

<h2>convert a string to a number in PHP?</h2>
There are a few ways to do so:

Cast the strings to numeric primitive data types:
$num = (int) "10";
$num = (double) "10.12"; // same as (float) "10.12";

Perform math operations on the strings:
$num = "10" + 1;
$num = floor("10.1");

Use intval() or floatval():
$num = intval("10");
$num = floatval("10.1");

Use settype().

<h2>To reset post</h2>

 foreach ($_POST as $key => $value) {
    $_POST[$key] = NULL;
 }

Method 2:-
unset($_POST);


$_POST is just another variable, except it has (super)global scope.

$_POST = array();

To prevent users from refreshing the page or pressing the back button and resubmitting the form I use the following neat little trick.

if (!isset($_SESSION)) { session_start(); }

if ($_SERVER['REQUEST_METHOD'] == 'POST') {
    $_SESSION['postdata'] = $_POST;
    unset($_POST);
    header("Location: ".$_SERVER['PHP_SELF']);
    exit;
}

The POST data is now in a session and users can refresh however much they want.
It will no longer have effect on your code.

<h2>file — Reads entire file into an array</h2>
file ( string $filename [, int $flags = 0 [, resource $context ]] ) : array

You can use file_get_contents() to return the contents of a file as a string.

// Get a file into an array.  In this example we'll go through HTTP to get
// the HTML source of a URL.

$lines = file('http://www.example.com/');

// Loop through our array, show HTML source as HTML source; and line numbers too.

foreach ($lines as $line_num => $line) {
    echo "Line #<b>{$line_num}</b> : " . htmlspecialchars($line) . "&lt;br />\n";
}

// Another example, let's get a web page into a string.
// See also file_get_contents().

$html = implode('', file('http://www.example.com/'));

// Using the optional flags parameter since PHP 5
$trimmed = file('somefile.txt', FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES);

See Also
readfile() - Outputs a file
fopen() - Opens file or URL
fsockopen() - Open Internet or Unix domain socket connection
popen() - Opens process file pointer
file_get_contents() - Reads entire file into a string
include - include
stream_context_create() - Creates a stream context

<h2>PHP Loops</h2>
In PHP, we have the following loop types:
<li><code class="w3-codespan">while</code> - loops through a block of code as long as the specified condition is true</li><li><code class="w3-codespan">do...while</code> - loops through a block of code once, and then repeats the loop as long as the specified condition is true</li><li><code class="w3-codespan">for</code> - loops through a block of code a specified number of times</li><li><code class="w3-codespan">foreach</code> - loops through a block of code for each element in an array</li>

<h3>The PHP while Loop</h3>
$x = 1;
while($x <= 5) {
  echo "The number is: $x &lt;br>";
  $x++;
}

<h3>The PHP do...while Loop</h3>
$x = 1;
do {
  echo "The number is: $x &lt;br>";
  $x++;
} while ($x <= 5);

<h3>The PHP for Loop</h3>
for ($x = 0; $x <= 10; $x++) {
  echo "The number is: $x &lt;br>";
}

<h3>The PHP foreach Loop</h3>
$colors = array("red", "green", "blue", "yellow");
foreach ($colors as $value) {
  echo "$value &lt;br>";
}

<h2>PHP Functions</h2>
<h3>PHP Built-in Functions</h3>
PHP has over 1000 built-in functions that can be called directly, from within a script, to perform a specific task.

<h3>PHP User Defined Functions</h3>
Besides the built-in PHP functions, it is possible to create your own functions.
A function is a block of statements that can be used repeatedly in a program.
A function will not execute automatically when a page loads.
A function will be executed by a call to the function.

<h3>Create a User Defined Function in PHP</h3>
A user-defined function declaration starts with the word function:

function functionName() {
  code to be executed;
}
Note: A function name must start with a letter or an underscore. Function names are NOT case-sensitive.

&lt;?php
function writeMsg() {
  echo "Hello world!";
}
writeMsg(); // call the function
?>

<h3>PHP Function Arguments</h3>
Information can be passed to functions through arguments.
An argument is just like a variable.

Arguments are specified after the function name, inside the parentheses. You can add as many arguments as you want, just separate them with a comma.

function familyName($fname) {
  echo "$fname Refsnes.&lt;br>";
}

familyName("Jani");
familyName("Hege");

function familyName($fname, $year) {
  echo "$fname Refsnes. Born in $year &lt;br>";
}
familyName("Hege", "1975");


<h3>PHP is a Loosely Typed Language</h3>
PHP automatically associates a data type to the variable, depending on its value.
Since the data types are not set in a strict sense, you can do things like adding a string to an integer without causing an error.

In PHP 7, <b>type declarations</b> were added.
This gives us an option to specify the expected data type when declaring a function, and by adding the strict declaration, it will throw a "Fatal Error" if the data type mismatches.

function addNumbers(int $a, int $b) {
  return $a + $b;
}
echo addNumbers(5, "5 days");
// since strict is NOT enabled "5 days" is changed to int(5), and it will return 10

To specify strict we need to set declare(strict_types=1);.
This must be on the very first line of the PHP file.

declare(strict_types=1); // strict requirement
function addNumbers(int $a, int $b) {
  return $a + $b;
}
echo addNumbers(5, "5 days");
// since strict is enabled and "5 days" is not an integer, an error will be thrown

<h3>PHP Default Argument Value</h3>

declare(strict_types=1); // strict requirement
function setHeight(int $minheight = 50) {
  echo "The height is : $minheight &lt;br>";
}

setHeight(350);
setHeight(); // will use the default value of 50
setHeight(135);
setHeight(80);

<h3>PHP Functions - Returning values</h3>

declare(strict_types=1); // strict requirement
function sum(int $x, int $y) {
  $z = $x + $y;
  return $z;
}

echo "5 + 10 = " . sum(5, 10) . "&lt;br>";
echo "7 + 13 = " . sum(7, 13) . "&lt;br>";
echo "2 + 4 = " . sum(2, 4);

<h3>PHP Return Type Declarations</h3>
PHP 7 also supports Type Declarations for the return statement.
Like with the type declaration for function arguments, by enabling the strict requirement, it will throw a "Fatal Error" on a type mismatch.

To declare a type for the function return, add a colon ( : ) and the type right before the opening curly ( { )bracket when declaring the function.

declare(strict_types=1); // strict requirement
function addNumbers(float $a, float $b) : float {
  return $a + $b;
}
echo addNumbers(1.2, 5.2);

You can specify a different return type, than the argument types, but make sure the return is the correct type:

declare(strict_types=1); // strict requirement
function addNumbers(float $a, float $b) : int {
  return (int)($a + $b);
}
echo addNumbers(1.2, 5.2);

<h2>PHP Global Variables - Superglobals</h2>
Some predefined variables in PHP are "superglobals", which means that they are always accessible, regardless of scope - and you can access them from any function, class or file without having to do anything special.

The PHP superglobal variables are:
$GLOBALS
$_SERVER
$_REQUEST
$_POST
$_GET
$_FILES
$_ENV
$_COOKIE
$_SESSION

<h2>PHP $GLOBALS</h2>
PHP stores all global variables in an array called $GLOBALS[index].
The index holds the name of the variable.

The example below shows how to use the super global variable $GLOBALS:
$x = 75;
$y = 25;
 
function addition() {
  $GLOBALS['z'] = $GLOBALS['x'] + $GLOBALS['y'];
}
 addition();
echo $z;

<h2>PHP $_SERVER</h2>
$_SERVER is a PHP super global variable which holds information about headers, paths, and script locations.

The example below shows how to use some of the elements in $_SERVER:
echo $_SERVER['PHP_SELF'];
echo "&lt;br>";
echo $_SERVER['SERVER_NAME'];
echo "&lt;br>";
echo $_SERVER['HTTP_HOST'];
echo "&lt;br>";
echo $_SERVER['HTTP_REFERER'];
echo "&lt;br>";
echo $_SERVER['HTTP_USER_AGENT'];
echo "&lt;br>";
echo $_SERVER['SCRIPT_NAME'];

The following table lists the most important elements that can go inside $_SERVER:

Element/Code	Description
$_SERVER['PHP_SELF']		filename of the currently executing script
$_SERVER['GATEWAY_INTERFACE']		version of the Common Gateway Interface (CGI) the server is using
$_SERVER['SERVER_ADDR']		IP address of the host server
$_SERVER['SERVER_NAME']		name of the host server (such as www.w3schools.com)
$_SERVER['SERVER_SOFTWARE']		server identification string (such as Apache/2.2.24)
$_SERVER['SERVER_PROTOCOL']		name and revision of the information protocol (such as HTTP/1.1)
$_SERVER['REQUEST_METHOD']		request method used to access the page (such as POST)
$_SERVER['REQUEST_TIME']		timestamp of the start of the request (such as 1377687496)
$_SERVER['QUERY_STRING']		query string if the page is accessed via a query string
$_SERVER['HTTP_ACCEPT']		Accept header from the current request
$_SERVER['HTTP_ACCEPT_CHARSET']		Accept_Charset header from the current request (such as utf-8,ISO-8859-1)
$_SERVER['HTTP_HOST']		Host header from the current request
$_SERVER['HTTP_REFERER']		complete URL of the current page (not reliable because not all user-agents support it)
$_SERVER['HTTPS']	Is the script queried through a secure HTTP protocol
$_SERVER['REMOTE_ADDR']		IP address from where the user is viewing the current page
$_SERVER['REMOTE_HOST']		Host name from where the user is viewing the current page
$_SERVER['REMOTE_PORT']		port being used on the user's machine to communicate with the web server
$_SERVER['SCRIPT_FILENAME']		absolute pathname of the currently executing script
$_SERVER['SERVER_ADMIN']		value given to the SERVER_ADMIN directive in the web server configuration file (if your script runs on a virtual host, it will be the value defined for that virtual host) (such as someone@w3schools.com)
$_SERVER['SERVER_PORT']		port on the server machine being used by the web server for communication (such as 80)
$_SERVER['SERVER_SIGNATURE']		server version and virtual host name which are added to server-generated pages
$_SERVER['PATH_TRANSLATED']		file system based path to the current script
$_SERVER['SCRIPT_NAME']		path of the current script
$_SERVER['SCRIPT_URI']		URI of the current page

<h2>PHP $_REQUEST</h2>
PHP $_REQUEST is a PHP super global variable which is used to collect data after submitting an HTML form.

The example below shows a form with an input field and a submit button. 
When a user submits the data by clicking on "Submit", the form data is sent to the file specified in the action attribute of the &lt;form> tag. 
In this example, we point to this file itself for processing form data. 
If you wish to use another PHP file to process form data, replace that with the filename of your choice. 
Then, we can use the super global variable $_REQUEST to collect the value of the input field:

&lt;form method="post" action="&lt;?php echo $_SERVER['PHP_SELF'];?>">
  Name: &lt;input type="text" name="fname">
  &lt;input type="submit">
&lt;/form>

if ($_SERVER["REQUEST_METHOD"] == "POST") {
  // collect value of input field
  $name = $_REQUEST['fname'];
  if (empty($name)) {
    echo "Name is empty";
  } else {
    echo $name;
  }
}

<h2>PHP $_POST</h2>
PHP $_POST is a PHP super global variable which is used to collect form data after submitting an HTML form with method="post".
$_POST is also widely used to pass variables.

&lt;form method="post" action="&lt;?php echo $_SERVER['PHP_SELF'];?>">
  Name: &lt;input type="text" name="fname">
  &lt;input type="submit">
&lt;/form>

if ($_SERVER["REQUEST_METHOD"] == "POST") {
  // collect value of input field
  $name = $_POST['fname'];
  if (empty($name)) {
    echo "Name is empty";
  } else {
    echo $name;
  }
}

<h2>PHP $_GET</h2>
PHP $_GET is a PHP super global variable which is used to collect form data after submitting an HTML form with method="get".

$_GET can also collect data sent in the URL.
&lt;a href="test_get.php?subject=PHP&web=W3schools.com">Test $GET&lt;/a>

When a user clicks on the link "Test $GET", the parameters "subject" and "web" are sent to "test_get.php", and you can then access their values in "test_get.php" with $_GET.

The example below shows the code in "test_get.php":
echo "Study " . $_GET['subject'] . " at " . $_GET['web'];

<h2>Two steps to Load the data from database without page refresh</h2>
Make a HTML form to load the data
Connect to the database and send data

Step 1. Make a HTML form with post method

function loaddata(){
   var name=document.getElementById( "username" );
   if(name){
      $.ajax({
        type: 'post',
        url: 'loaddata.php',
        data: {user_name:name,},
        success: function (response) {
         // get element display_info and put the response inside it
         $( '#display_info' ).html(response);
        }
      });
   }
   else{
    $( '#display_info' ).html("Please Enter Some Words");
   }
}

&lt;input type="text" name="username" id="username" onkeyup="loaddata();">
&lt;div id="display_info" >&lt;/div>

Step 2. Connect To The Database and Send Data

Connect to sample database named student and it has a table named student_info which has 3 columns name, age, course
Query the database and get desired results.

// loaddata.php

if( isset( $_POST['user_name'] ) ) {
  $name = $_POST['user_name']; $host = 'localhost';
  $user = 'root'; $pass = ' ';
  mysql_connect($host, $user, $pass);

  mysql_select_db('student');
  $selectdata = " SELECT age,course FROM student_info WHERE name LIKE   '$name%' ";
  $query = mysql_query($selectdata);
  while($row = mysql_fetch_array($query)) {
    echo "&lt;p>".$row['age']."&lt;/p>";
    echo "&lt;p>".$row['course']."&lt;/p>";
  }
}

You can also view load more results from database using ajax.

<h2>Load Data Without Page refresh using AJAX, PHP and Javascript</h2>
Create a database name 'company' and copy paste these commands in database or you can use your existing database.

CREATE TABLE IF NOT EXISTS `employee` (
  `emp_id` int(11) NOT NULL AUTO_INCREMENT,
  `emp_name` varchar(150) NOT NULL,
  `is_enabled` int(11) NOT NULL,
  PRIMARY KEY (`emp_id`)
) 

INSERT INTO `employee` (`emp_id`, `emp_name`, `is_enabled`) VALUES
(1, 'John', 1),
(2, 'Smith', 1),
(3, 'Priska', 1),
(4, 'Gaga', 1);
 
CREATE TABLE IF NOT EXISTS `emp_info` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `emp_id` int(11) NOT NULL,
  `emp_name` varchar(150) NOT NULL,
  `email` varchar(150) NOT NULL,
  `phone` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) 

INSERT INTO `emp_info` (`id`, `emp_id`, `emp_name`, `email`, `phone`) VALUES
(1, 1, 'John', 'john@example.com', 234534322),
(2, 3, 'Priska', 'priska@example.com', 437777711),
(3, 2, 'Smith', 'smith@example.com', 332454277),
(4, 4, 'Gaga', 'g@example.com', 229503990);


index.php
first mysqli fetched all enabled data from 'employee' table. 
Then, store all employee name in HTML select option fields using PHP.

  $conn = new mysqli('hostname', 'username', 'password', 'database');
  //Check for connection error
  if($conn->connect_error){
    die("Error in DB connection: ".$conn->connect_errno." : ".$conn->  connect_error);    
  }

  $select = "SELECT * FROM employee WHERE is_enabled = '1'";
  $result = $conn->query($select);
  $option = '&lt;option value="">Select Name&lt;/option>';
  while($row = $result->fetch_object()){
    $option .= '&lt;option value="'.$row->emp_id.'">'.$row->emp_name.'&lt;/option>  ';
  }


Next, use form element and placed select element inside. 

On select element, we have added onChange() name attribute, that calls the getData() method on change the select option.

  function getData(empid, divid){
    $.ajax({
        url: 'loademployeedata.php?empid=' + empid,
        success: function(html) {
          var ajaxDisplay = document.getElementById(divid);
          ajaxDisplay.innerHTML = html;
        }
    });
  }

  &lt;form method="post">
    &lt;select name="empid" id="empid"  class="form-control" onchange="getData(this.value, 'displaydata')">
      &lt;?php
          echo $option;
      ?> 
    &lt;/select>
    &lt;div id="displaydata">&lt;/div>
  &lt;/form>


onchange="getData(this.value, 'displaydata')"
Here, this.value contains employee id and displaydata is an id of empty div. 

The getData() Javascript function is created in the head section

This function calls the Ajax file 'loademployeedata.php' and fetches the employee information based on the passed 'empid' in url and stores the fetched data in the empty div.

loademployeedata.php

  $empid = $_GET['empid'];
  $conn = new mysqli('localhost', 'root', '', 'company');
  //Check for connection error
  if($conn->connect_error){
    die("Error in DB connection: ".$conn->connect_errno." : ".$conn->connect_error);    
  }
  if (isset($empid)) {
    $select  = " SELECT * FROM emp_info WHERE emp_id = '$empid'";
    $result = $conn->query($select);
    echo '&lt;table class="table table-bordered">';
    while($row = $result->fetch_object()){
      echo '&lt;tr>'
        .'&lt;td>'.$row->emp_name.'&lt;/td>'
        .'&lt;td>'.$row->email.'&lt;/td>'
        .'&lt;td>'.$row->phone.'&lt;/td>'
        .'&lt;/tr>';
    }
    echo '&lt;/table>';
  }

In the above file, we have received the 'empid' using global variable $_GET and stored in a variable $empid. 
Next, we have created the mysqli database connection code and fetched the employee information from 'emp_info' table. 
Using PHP while loop, iterates over the information and stores the data in a tabular format and this same format is rendered in the empty div that we have generated in 'index.php' page.

<h2>load data repeatedly without page refresh using ajax</h2>
The Ajax-Function get only called once: In the moment the document is ready (fully loaded). 
Use setTimeout to create a timer, which calls the function every minute. 

function getDataEveryMinute() {
    setTimeout(function(){ 
        $.get('get-answers.php', { 
             project_question_id: <?=$project_question_id?>,
             project_id: <?=$project_id?>
        }, function(data) {
            $('#dispaly-answers').append(data);
            getDataEveryMinute();
        });  
    }, 3000);
}

Final approach
$(document).ready(function() {
  setInterval(function(){ 
     $.ajax( {
        type: "GET",        
        url: "get-answers.php",        
        data: { project_question_id: <?=$project_question_id?>,
                project_id: <?=$project_id?>
        },
        cache: false,          
        success: function(data) {$('#dispaly-answers').html(data);},
     })// ajax
  }, 1000);
}); 

<h2>PHP Numbers</h2>
One thing to notice about PHP is that it provides automatic data type conversion.
So, if you assign an integer value to a variable, the type of that variable will automatically be an integer. 
Then, if you assign a string to the same variable, the type will change to a string.
This automatic conversion can sometimes break your code.

<h3>PHP Integers</h3>
Another important thing to know is that even if 4 * 2.5 is 10, the result is stored as float, because one of the operands is a float (2.5).
Here are some rules for integers:<li>An integer must have at least one digit</li><li>An integer must not have a decimal point</li><li>An integer can be either positive or negative</li><li>Integers can be specified in three formats: decimal (10-based), hexadecimal (16-based - prefixed with 0x) or octal (8-based - prefixed with 0)</li>

PHP has the following functions to check if the type of a variable is integer:<li>is_int()</li><li>is_integer() - alias of is_int()</li><li>is_long() - alias of is_int()</li>

Check if the type of a variable is integer:

$x = 5985;
var_dump(is_int($x));

$x = 59.85;
var_dump(is_int($x));

<h3>PHP Floats</h3>
PHP has the following functions to check if the type of a variable is float:<li>is_float()</li><li>is_double() - alias of is_float()</li>

Check if the type of a variable is float:

$x = 10.365;
var_dump(is_float($x));

<h3>PHP Infinity</h3>
A numeric value that is larger than PHP_FLOAT_MAX is considered infinite.
PHP has the following functions to check if a numeric value is finite or infinite:<li><a href="func_math_is_finite.asp">is_finite()</a></li><li><a href="func_math_is_infinite.asp">is_infinite()</a></li>

However, the PHP var_dump() function returns the data type and value:
Check if a numeric value is finite or infinite:

$x = 1.9e411;
var_dump($x);

<h3>PHP NaN</h3>
NaN stands for Not a Number.
NaN is used for impossible mathematical operations.
PHP has the following functions to check if a value is not a number:<li><a href="func_math_is_nan.asp">is_nan()</a></li>

However, the PHP var_dump() function returns the data type and value:
Invalid calculation will return a NaN value:

$x = acos(8);
var_dump($x);

<h3>PHP Numerical Strings</h3>
The PHP is_numeric() function can be used to find whether a variable is numeric. 
The function returns true if the variable is a number or a numeric string, false otherwise.
Check if the variable is numeric:

$x = 5985;
var_dump(is_numeric($x));
$x = "5985";
var_dump(is_numeric($x));
$x = "59.85" + 100;
var_dump(is_numeric($x));
$x = "Hello";
var_dump(is_numeric($x));

<strong>Note:</strong> From PHP 7.0: The is_numeric() function will return FALSE for numeric strings in hexadecimal form (e.g. 0xf4c3b00c), as they are no longer considered as numeric strings.

<h3>PHP Casting Strings and Floats to Integers</h3>
Sometimes you need to cast a numerical value into another data type.
The (int), (integer), or intval() function are often used to convert a value to an integer.
Cast float and string to integer:

// Cast float to int 
$x = 23465.768;
$int_cast = (int)$x;

echo $int_cast;
echo "&lt;br&gt;";

// Cast string to int
$x = "23465.768";
$int_cast = (int)$x;
echo $int_cast;

<h2>Data Type Conversion</h2>
$count = "5"; //$count is a string variable
$count = 5;   //$count is an int variable

PHP type casting is similar to that of C language. 
PHP also provides settype() function to convert the datatype of a variable. 

<h3>Typecasting for Different Datatype</h3>
The following example code shows how to do type casting in PHP to convert a variable datatype. 
It has a $count variable initialized with an integer value. 
After initialization, I do type casting with various datatype. 
After each type casting, I have specified the output and the type of the variable using PHP comment line.

$count = 5;
// $count is a string; Output: "5"
$count = (string) $count;

// $count is a float; Output: 5
$count = (float) $count;

// $count is a bool; Output: true
$count = (boolean) $count;

/* $count is an array
Output;
array(1) {
  [0]=>true
}
*/
$count = (array) $count;

/* $count is an object
Output;
(stdClass)#1 (1) {
  [0]=>true
}
*/
$count = (object) $count;

PHP Functions to Convert DataType
PHP provides datatype functions to get or set the datatype of a variable or to check whether a variable is a particular datatype. 
Those functions are gettype(), settype(), is_array(), is_null() and more. 
The following code uses PHP settype() to change a variables datatype and uses gettype() and print the result to know what data type if the variable contains before and after conversion. 
I initialized $count variable as string convert it to an integer using PHP settype(). 

$count = "5";
echo gettype($count); // before datatype conversion: $count is a string
settype($count,'int');
echo gettype($count); // after datatype conversion: $count is an integer

<h2>Date() Function</h2>
The PHP <code>date()</code> function is used to format a date and/or a time.
The PHP <code>date()</code> function formats a timestamp to a more readable date and time.

date(<i>format</i>,<i>timestamp</i>)

<table>
<tr><th style="width:20%">Parameter</th><th style="width:80%">Description</th></tr>  
<tr><td>format</td><td>Required. Specifies the format of the timestamp</td></tr>
<tr><td>timestamp</td><td>Optional. Specifies a timestamp. Default is the current date and time</td></tr>
</table>

A timestamp is a sequence of characters, denoting the date and/or time at which a certain event occurred.

<h2>Get a Date</h2>
The required <i>format</i> parameter of the date() function specifies how to format the date (or time).
Here are some characters that are commonly used for dates:<li>d - Represents the day of the month (01 to 31) </li><li>m - Represents a month (01 to 12)</li><li>Y - Represents a year (in four digits)</li><li>l (lowercase 'L') - Represents the day of the week</li>

Other characters, like"/", ".", or "-" can also be inserted between the characters to add additional formatting.
The example below formats today's date in three different ways:

echo "Today is " . date("Y/m/d") . "&lt;br&gt;";
echo "Today is " . date("Y.m.d") . "&lt;br&gt;";
echo "Today is " . date("Y-m-d") . "&lt;br&gt;";

echo "Today is " . date("l");

<h2>Tip - Automatic Copyright Year</h2>
Use the <code>date()</code> function to automatically update the copyright year on your website:

&amp;copy; 2010-&lt;?php echo date("Y");

<h2>Get a Time</h2>
Here are some characters that are commonly used for times:<li>H - 24-hour format of an hour (00 to 23)</li><li>h - 12-hour format of an hour with leading zeros (01 to 12) </li><li>i - Minutes with leading zeros (00 to 59)</li><li>s - Seconds with leading zeros (00 to 59)</li><li>a - Lowercase Ante meridiem and Post meridiem (am or pm)</li>

The example below outputs the current time in the specified format:

echo "The time is " . date("h:i:sa");

Note that the PHP date() function will return the current date/time of the server!

<h2>Get Your Time Zone</h2>
If the time you got back from the code is not correct, it's probably because your server is in another country or set up for a different timezone.
So, if you need the time to be correct according to a specific location, you can set the timezone you want to use. 
The example below sets the timezone to "America/New_York", then outputs the current time in the specified format:

date_default_timezone_set("America/New_York");
echo "The time is " . date("h:i:sa");

<h2>Create a Date With mktime()</h2>
The optional <i>timestamp</i> parameter in the date() function specifies a timestamp. If omitted, the current date and time will be used (as in the examples above).
The PHP <code>mktime()</code> function returns the Unix timestamp for a date. The Unix timestamp contains the number of seconds between the Unix Epoch (January 1 1970 00:00:00 GMT) and the time specified.

mktime(<em>hour, minute, second, month, day, year</em>)
The example below creates a date and time with the <code>date()</code> function from a number of parameters in the <code>mktime()</code> function:

$d=mktime(11, 14, 54, 8, 12, 2014);
echo "Created date is " . date("Y-m-d h:i:sa", $d);

<h2>Create a Date From a String With strtotime()</h2>
The PHP <code>strtotime()</code> function is used to convert a human readable date string into a Unix timestamp (the number of seconds since January 1 1970 00:00:00 GMT).

strtotime(<em>time, now</em>)

The example below creates a date and time from the <code>strtotime()</code> function:

$d=strtotime("10:30pm April 15 2014");
echo "Created date is " . date("Y-m-d h:i:sa", $d);

PHP is quite clever about converting a string to a date, so you can put in various values:

$d=strtotime("tomorrow");
echo date("Y-m-d h:i:sa", $d) . "&lt;br&gt;";

$d=strtotime("next Saturday");
echo date("Y-m-d h:i:sa", $d) . "&lt;br&gt;";

$d=strtotime("+3 Months");
echo date("Y-m-d h:i:sa", $d) . "&lt;br&gt;";
However, <code>strtotime()</code> is not perfect, so remember to check the strings you put in there.

<h2>More Date Examples</h2>
The example below outputs the dates for the next six Saturdays:

$startdate = strtotime("Saturday");
$enddate = strtotime("+6 weeks", $startdate);

while ($startdate &lt; $enddate) {
  echo date("M d", $startdate) . "&lt;br&gt;";
  $startdate = strtotime("+1 week", $startdate);
}
The example below outputs the number of days until 4th of July:

$d1=strtotime("July 04");
$d2=ceil(($d1-time())/60/60/24);

echo "There are " . $d2 ." days until 4th of July.";

<h2>Complete PHP Date Reference</h2>
For a complete reference of all date functions, go to our complete
<a href="php_ref_date.asp">PHP Date Reference</a>.
The reference contains a brief description, and examples of use, for each function!

The <code>include</code> (or <code>require</code>) statement takes all the text/code/markup that exists in the specified file and copies it intothe file that uses the include statement.
Including files is very useful when you want to include the same PHP,HTML, or text on multiple pages of a website.
<h2>include and require Statements</h2>
It is possible to insert the content of one PHP file into another PHP file (before the server executes it), with the include or require statement.
<b>The include and require statements are identical, except upon failure:</b><li><code>require</code> will produce a fatal error (E_COMPILE_ERROR) and stop the script</li><li><code>include</code> will only produce a warning (E_WARNING) and the script will continue</li>

So, if you want the execution to go on and show users the output, even if the include file is missing, use the include statement. Otherwise, in case of FrameWork, CMS, or a complex PHP application coding, always use the require statement to include a key file to the flow of execution. This will help avoid compromising your application's security and integrity, just in-case one key file is accidentally missing.

Including files saves a lot of work. This means that you can create a standard header, footer, or menu file for all your web pages. 
Then, when the header needs to be updated, you can only update the header include file.

include '<i>filename</i>';
or
require '<i>filename</i>';

<h2>include Examples</h2>
<h4>Example 1</h4>
Assume we have a standard footer file called "footer.php", that looks like this: echo "&lt;p&gt;Copyright &amp;copy; 1999-" . date("Y") . " W3Schools.com&lt;/p&gt;";

To include the footer file in a page, use the <code>include</code> statement:

&lt;html&gt;
&lt;body&gt;
&lt;h1&gt;Welcome to my home page!&lt;/h1&gt;
&lt;p&gt;Some text.&lt;/p&gt;
&lt;p&gt;Some more text.&lt;/p&gt;
&lt;?php include 'footer.php';
&lt;/body&gt;
&lt;/html&gt;

<a target="_blank" href="https://tryphp.w3schools.com/showphp.php?filename=demo_include1">Run example &raquo;</a>

<h4>Example 2</h4>
Assume we have a standard menu file called "menu.php":
echo '&lt;a href="/default.asp"&gt;Home&lt;/a&gt; -
&lt;a href="/html/default.asp"&gt;HTML Tutorial&lt;/a&gt; -
&lt;a href="/css/default.asp"&gt;CSS Tutorial&lt;/a&gt; -
&lt;a href="/js/default.asp"&gt;JavaScript Tutorial&lt;/a&gt; -
&lt;a href="default.asp"&gt;PHP Tutorial&lt;/a&gt;';

All pages in the Web site should use this menu file. Here is how it can be done (we are using a &lt;div&gt; element so that the menu easily can be styled with CSS later):

&lt;html&gt;
&lt;body&gt;
&lt;div class="menu"&gt;
&lt;?php include 'menu.php';
&lt;/div&gt;
&lt;h1&gt;Welcome to my home page!&lt;/h1&gt;
&lt;p&gt;Some text.&lt;/p&gt;
&lt;p&gt;Some more text.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;

<a target="_blank" href="https://tryphp.w3schools.com/showphp.php?filename=demo_include2">Run example &raquo;</a>
<h4>Example 3</h4>
Assume we have a file called "vars.php", with some variables defined:

$color='red';
$car='BMW';
Then, if we include the "vars.php" file, the variables can be used in the calling file:

&lt;h1&gt;Welcome to my home page!&lt;/h1&gt;
&lt;?php include 'vars.php';
echo "I have a $color $car.";

<a target="_blank" href="https://tryphp.w3schools.com/showphp.php?filename=demo_include3">Run example &raquo;</a>
<h2>include vs. require</h2>
The <code>require</code> statement is also used to include a file into the PHP code.
However, there is one big difference between include and require; when a file is included with the <code>include</code> statement and PHP cannot find it, the script will continue to execute:

&lt;h1&gt;Welcome to my home page!&lt;/h1&gt;
&lt;?php include 'noFileExists.php';
echo "I have a $color $car.";

<a target="_blank" href="https://tryphp.w3schools.com/showphp.php?filename=demo_include4">Run example &raquo;</a>
If we do the same example using the <code>require</code> statement, the echo statement will not be executed because the script execution dies after the 
<code>require</code> statement returned a fatal error:

&lt;h1&gt;Welcome to my home page!&lt;/h1&gt;
&lt;?php require 'noFileExists.php';
echo "I have a $color $car.";

<a target="_blank" href="https://tryphp.w3schools.com/showphp.php?filename=demo_include5">Run example &raquo;</a>

Use <code>require</code> when the file is required by the application.
Use <code>include</code> when the file is not required and application should continue when file is not found.

<h2>Manipulating Files</h2>
File handling is an important part of any web application. You often need to open and process a file for different tasks.

PHP has several functions for creating, reading, uploading, and editing files.
<strong>Be careful when manipulating files!</strong>When you are manipulating files you must be very careful. 
You can do a lot of damage if you do something wrong. Common errors are: editing the wrong file, filling a hard-drive with garbage data, and deleting the content of a file by accident.

<h2>readfile() Function</h2>
The <code>readfile()</code> function reads a file and writes it to the output buffer.
Assume we have a text file called "webdictionary.txt", stored on the server, that looks like this:
AJAX = Asynchronous JavaScript and XML
CSS = Cascading Style Sheets

HTML = Hyper Text Markup Language
PHP = PHP Hypertext Preprocessor
SQL = Structured Query Language
SVG = Scalable Vector Graphics
XML = EXtensible Markup Language
The PHP code to read the file and write it to the output buffer is as follows 
(the <code>readfile()</code> function returns the number of bytes read on success):

echo readfile("webdictionary.txt");
<a target="_blank" href="https://tryphp.w3schools.com/showphp.php?filename=demo_file_readfile">Run example &raquo;</a>

The <code>readfile()</code> function is useful if all you want to do is open up a file and read its contents.
The next chapters will teach you more about file handling.

<h2>Open File - fopen()</h2>
In this chapter we will teach you how to open, read, and close a file on the server.
A better method to open files is with the <code>fopen()</code> function. This function gives you more options than the <code>readfile()</code> function.
We will use the text file, "webdictionary.txt", during the lessons:
AJAX = Asynchronous JavaScript and XML
CSS = Cascading Style Sheets

HTML = Hyper Text Markup Language
PHP = PHP Hypertext Preprocessor
SQL = Structured Query Language
SVG = Scalable Vector Graphics
XML = EXtensible Markup Language
The first parameter of <code>fopen()</code> contains the name of the file to be opened and the second parameter specifies in which mode the file should be opened. The following example also generates a message if the fopen() function is unable to open the specified file:

$myfile = fopen("webdictionary.txt", "r") or die("Unable to open file!");
echo fread($myfile,filesize("webdictionary.txt"));

fclose($myfile);
<a target="_blank" href="https://tryphp.w3schools.com/showphp.php?filename=demo_file_fopen">Run example &raquo;</a>

<strong>Tip:</strong> The <code>fread()</code> and the <code>fclose()</code> functions will be explained below.
The file may be opened in one of the following modes:
<table>
<tr>
  <th style="width:10%">Modes</th>
  <th style="width:90%">Description</th></tr>
<tr><td>r</td><td><strong>Open a file for read only</strong>. File pointer starts at the beginning of the file</td></tr>
  <tr><td>w</td><td><strong>Open a file for write only</strong>. Erases the contents of the file or creates a new file if it doesn't exist. File pointer starts at the beginning of the file</td>
  </tr>
<tr><td>a</td><td><strong>Open a file for write only</strong>. The existing data in file is preserved. File pointer starts at the end of the file. Creates a new file if the file doesn't exist</td>
  </tr>
<tr><td>x</td><td><strong>Creates a new file for write only</strong>. Returns FALSE and an error if file already exists</td>
  </tr>
<tr><td>r+</td><td><strong>Open a file for read/write</strong>. File pointer starts at the beginning of the file</td></tr>
<tr><td>w+</td><td><strong>Open a file for read/write</strong>. Erases the contents of the file or creates a new file if it doesn't exist. File pointer starts at the beginning of the file</td></tr>
<tr><td>a+</td><td><strong>Open a file for read/write</strong>. The existing data in file is preserved. File pointer starts at the end of the file. Creates a new file if the file doesn't exist</td></tr>
<tr><td>x+</td><td><strong>Creates a new file for read/write</strong>. Returns FALSE and an error if file already exists</td></tr>
</table>

<h2>Read File - fread()</h2>
The <code>fread()</code> function reads from an open file.
The first parameter of <code>fread()</code> contains the name of the file to read from and the second parameter specifies the maximum number of bytes to read.
The following PHP code reads the "webdictionary.txt" file to the end:
fread($myfile,filesize("webdictionary.txt"));

<h2>Close File - fclose()</h2>
The <code>fclose()</code> function is used to close an open file.
It's a good programming practice to close all files after you have finished with them. 
You don't want an open file running around on your server taking up resources!
The <code>fclose()</code> requires the name of the file (or a variable that holds the filename) we want to close:

&lt;?php

$myfile = fopen("webdictionary.txt", "r");
// some code to be executed....

fclose($myfile);
<h2>Read Single Line - fgets()</h2>
The <code>fgets()</code> function is used to read a single line from a file.
The example below outputs the first line of the "webdictionary.txt" file:

$myfile = fopen("webdictionary.txt", "r") or die("Unable to open file!");
echo fgets($myfile);

fclose($myfile);
<a target="_blank" href="https://tryphp.w3schools.com/showphp.php?filename=demo_file_fgets">Run example &raquo;</a>

<b>Note:</b> After a call to the <code>fgets()</code> function, the file pointer has moved to the next line.

<h2>Check End-Of-File - feof()</h2>
The <code>feof()</code> function checks if the "end-of-file" (EOF) has been reached.
The <code>feof()</code> function is useful for looping through data of unknown length.
The example below reads the "webdictionary.txt" file line by line, until end-of-file is reached:

$myfile = fopen("webdictionary.txt", "r") or die("Unable to open file!");
// Output one line until end-of-file
while(!feof($myfile)) {
  echo fgets($myfile) . "&lt;br&gt;";
}
fclose($myfile);
<a target="_blank" href="https://tryphp.w3schools.com/showphp.php?filename=demo_file_feof">Run example &raquo;</a>
<h2>Read Single Character - fgetc()</h2>
The <code>fgetc()</code> function is used to read a single character from a file.
The example below reads the "webdictionary.txt" file character by character, until end-of-file is reached:

$myfile = fopen("webdictionary.txt", "r") or die("Unable to open file!");
// Output one character until end-of-file
while(!feof($myfile)) {
  echo fgetc($myfile);
}
fclose($myfile);
<a target="_blank" href="https://tryphp.w3schools.com/showphp.php?filename=demo_file_fgetc">Run example &raquo;</a>

<b>Note:</b> After a call to the <code>fgetc()</code> function, the file pointer moves to the next character.

<h2>Create File - fopen()</h2>
In this chapter we will teach you how to create and write to a file on the server.
The <code>fopen()</code> function is also used to create a file. Maybe a little confusing, but in PHP, a file is created using the same function used to open files.
If you use <code>fopen()</code> on a file that does not exist, it will create it, given that the file is opened for writing (w) or appending (a).
The example below creates a new file called "testfile.txt". The file will be created in the same directory where the PHP code resides:

$myfile = fopen("testfile.txt", "w")

<h2>File Permissions</h2>
If you are having errors when trying to get this code to run, check that you have granted your PHP file access to write information to the hard drive.

<h2>Write to File - fwrite()</h2>
The <code>fwrite()</code> function is used to write to a file.
The first parameter of <code>fwrite()</code> contains the name of the file to write to and the second parameter is the string to be written.
The example below writes a couple of names into a new file called "newfile.txt":

$myfile = fopen("newfile.txt", "w") or die("Unable to open file!");
$txt = "John Doe\n";
fwrite($myfile, $txt);
$txt = "Jane Doe\n";
fwrite($myfile, $txt);
fclose($myfile);

Notice that we wrote to the file "newfile.txt" twice. Each time we wrote to the file we sent the string $txt that first contained "John Doe" and second contained "Jane Doe". After we finished writing, we closed the file using the <code>fclose()</code> function.
If we open the "newfile.txt" file it would look like this:

John Doe
Jane Doe

<h2>Overwriting</h2>
Now that "newfile.txt" contains some data we can show what happens when we open an existing file for writing. All the existing data will be ERASED and we start with an empty file.
In the example below we open our existing file "newfile.txt", and write some new data into it:

$myfile = fopen("newfile.txt", "w") or die("Unable to open file!");
$txt = "Mickey Mouse\n";
fwrite($myfile, $txt);
$txt = "Minnie Mouse\n";
fwrite($myfile, $txt);
fclose($myfile);

If we now open the "newfile.txt" file, both John and Jane have vanished, and only the data we just wrote is present:
Mickey Mouse
Minnie Mouse

<h2>Configure The "php.ini" File</h2>
First, ensure that PHP is configured to allow file uploads.
In your "php.ini" file, search for the <code>file_uploads</code> directive, and set it to On:
file_uploads = On

<h2>Create The HTML Form</h2>
Next, create an HTML form that allow users to choose the image file they want to upload:
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;form action="upload.php" method="post"
enctype="multipart/form-data"&gt;
Select image to upload:
&lt;input type="file" name="fileToUpload" id="fileToUpload"&gt;

&lt;input type="submit" value="Upload Image" name="submit"&gt;

&lt;/form&gt;

&lt;/body&gt;
&lt;/html&gt;

Some rules to follow for the HTML form above:<li>Make sure that the form uses method="post"</li><li>The form also needs the following attribute: enctype="multipart/form-data". It specifies which content-type to use when submitting the form</li>

Without the requirements above, the file upload will not work.
Other things to notice:<li>The type="file" attribute of the &lt;input&gt; tag shows the input field as a file-select control, with a "Browse" button next to the input control </li>

The form above sends data to a file called "upload.php", which we will create next.

<h2>Create The Upload File PHP Script</h2>
The "upload.php" file contains the code for uploading a file:
&lt;?php
$target_dir = "uploads/";
$target_file = $target_dir . basename($_FILES["fileToUpload"]["name"]);
$uploadOk = 1;
$imageFileType = strtolower(pathinfo($target_file,PATHINFO_EXTENSION));
// Check if image file is a actual image or fake image
if(isset($_POST["submit"])) {

$check = getimagesize($_FILES["fileToUpload"]["tmp_name"]);
if($check !== false) {
  echo "File is an image - " . $check["mime"] . ".";
$uploadOk = 1;

} else {
  echo "File is not an image.";

  $uploadOk = 0;
}
}

PHP script explained:<li>$target_dir = "uploads/" - specifies the directory where the file is going to be placed</li><li>$target_file specifies the path of the file to be uploaded</li><li>$uploadOk=1 is not used yet (will be used later)</li><li>$imageFileType holds the file extension of the file (in lower case)</li><li>Next, check if the image file is an actual image or a fake image</li>
<strong>Note:</strong> You will need to create a new directory called 
"uploads" in the directory where "upload.php" file resides. The uploaded files will be saved there.

<h2>Check if File Already Exists</h2>
Now we can add some restrictions.
First, we will check if the file already exists in the "uploads" folder. If it does, an error message is displayed, and $uploadOk is set to 0:
// Check if file already exists
if (file_exists($target_file)) {
  echo "Sorry, file already exists.";

$uploadOk = 0;

} 

<h2>Limit File Size</h2>
The file input field in our HTML form above is named "fileToUpload".
Now, we want to check the size of the file. If the file is larger than 500KB, an error message is displayed, and $uploadOk is set to 0:
// Check file size
if ($_FILES["fileToUpload"]["size"] &gt; 500000) {

echo "Sorry, your file is too large.";
$uploadOk = 0;

} 
<h2>Limit File Type</h2>
The code below only allows users to upload JPG, JPEG, PNG, and GIF files. All other file types gives an error message before setting $uploadOk to 0:
// Allow certain file formats
if($imageFileType != "jpg" &amp;&amp; $imageFileType  != "png" &amp;&amp; $imageFileType != "jpeg"
&amp;&amp; $imageFileType != "gif" ) {
  echo "Sorry, only JPG, JPEG, PNG &amp; GIF files are allowed.";
$uploadOk = 0;
}

<h2>Complete Upload File PHP Script</h2>
The complete "upload.php" file now looks like this:
&lt;?php
$target_dir = "uploads/";
$target_file = $target_dir . basename($_FILES["fileToUpload"]["name"]);
$uploadOk = 1;
$imageFileType = strtolower(pathinfo($target_file,PATHINFO_EXTENSION));

// Check if image file is a actual image or fake image
if(isset($_POST["submit"])) {
$check = getimagesize($_FILES["fileToUpload"]["tmp_name"]);
if($check !== false) {
  echo "File is an image - " . $check["mime"] . ".";

  $uploadOk = 1;
} else {
  echo "File is not an image.";

  $uploadOk = 0;
}
}

// Check if file already exists
if (file_exists($target_file)) {

echo "Sorry, file already exists.";
$uploadOk = 0;
}
// Check file size
if ($_FILES["fileToUpload"]["size"] &gt; 500000) {
  echo "Sorry, your file is too large.";
$uploadOk = 0;

}

// Allow certain file formats
if($imageFileType != "jpg" &amp;&amp; $imageFileType != "png" &amp;&amp; $imageFileType != "jpeg"
&amp;&amp; $imageFileType != "gif" ) {
  echo "Sorry, only JPG, JPEG, PNG &amp; GIF files are allowed.";
$uploadOk = 0;
}

// Check if $uploadOk is set to 0 by an error
if ($uploadOk == 0) {
  echo "Sorry, your file was not uploaded.";
// if everything is ok, try to upload file
} else {

if (move_uploaded_file($_FILES["fileToUpload"]["tmp_name"], $target_file)) {
  echo "The file ". basename( $_FILES["fileToUpload"]["name"]). " has been uploaded.";

} else {
  echo "Sorry, there was an error uploading your file.";

  }
}

<h2>What is a Cookie? </h2>
A cookie is often used to identify a user. A cookie is a small file that the server embeds on the user's computer. Each time the same computer requests a page with a browser, it will send the cookie too. With PHP, you can both create and retrieve cookie values.

<h2>Create Cookies With PHP</h2>
A cookie is created with the <code>setcookie()</code> function.

setcookie(<em>name, value, expire, path, domain, secure, httponly</em>);

Only the <em>name</em> parameter is required. All other parameters are optional.

<h2>Create/Retrieve a Cookie</h2>
The following example creates a cookie named "user" with the value "John 
Doe". The cookie will expire after 30 days (86400 * 30). The "/" means that the cookie is available in entire website (otherwise, select the directory you prefer).
We then retrieve the value of the cookie "user" (using the global variable 
$_COOKIE). We also use the <code>isset()</code> function to find out if the cookie is set:

$cookie_name = "user";
$cookie_value = "John Doe";
setcookie($cookie_name, $cookie_value, time() + (86400 * 30), "/"); // 86400 = 1 day

&lt;html&gt;
&lt;body&gt;

&lt;?php
if(!isset($_COOKIE[$cookie_name])) {

echo "Cookie named '" . $cookie_name . "' is not set!";
} else {

echo "Cookie '" . $cookie_name . "' is set!&lt;br&gt;";
echo "Value is: " . $_COOKIE[$cookie_name];
}
&lt;/body&gt;
&lt;/html&gt;

<a target="_blank" href="https://tryphp.w3schools.com/showphp.php?filename=demo_cookie1">Run example &raquo;</a>
<strong><b>Note:</b></strong> The <code>setcookie()</code> function must appear BEFORE the &lt;html&gt; tag.
<b>Note:</b> The value of the cookie is automatically URLencoded when sending the cookie, and automatically decoded when received (to prevent 
URLencoding, use <code>setrawcookie()</code> instead).

<h2>Modify a Cookie Value</h2>
To modify a cookie, just set (again) the cookie using the <code>setcookie()</code> function:

$cookie_name = "user";
$cookie_value = "Alex Porter";

setcookie($cookie_name, $cookie_value, time() + (86400 * 30), "/");

&lt;html&gt;
&lt;body&gt;

&lt;?php
if(!isset($_COOKIE[$cookie_name])) {

echo "Cookie named '" . $cookie_name . "' is not set!";
} else {

echo "Cookie '" . $cookie_name . "' is set!&lt;br&gt;";

echo "Value is: " . $_COOKIE[$cookie_name];
}
&lt;/body&gt;
&lt;/html&gt;

<a target="_blank" href="https://tryphp.w3schools.com/showphp.php?filename=demo_cookie3">Run example &raquo;</a>
<h2>Delete a Cookie</h2>
To delete a cookie, use the <code>setcookie()</code> function with an expiration date in the past:

// set the expiration date to one hour ago
setcookie("user", ", time() - 3600);

&lt;html&gt;
&lt;body&gt;

&lt;?php
echo "Cookie 'user' is deleted.";
&lt;/body&gt;
&lt;/html&gt;

<a target="_blank" href="https://tryphp.w3schools.com/showphp.php?filename=demo_cookie4">Run example &raquo;</a>
<h2>Check if Cookies are Enabled</h2>
The following example creates a small script that checks whether cookies are enabled. First, try to create a test cookie with the <code>setcookie()</code> function, then count the $_COOKIE array variable:

setcookie("test_cookie", "test", time() + 3600, '/');

&lt;html&gt;
&lt;body&gt;

&lt;?php
if(count($_COOKIE) &gt; 0) {
  echo "Cookies are enabled.";
} else {

echo "Cookies are disabled.";
}

&lt;/body&gt;
&lt;/html&gt;

<a target="_blank" href="https://tryphp.w3schools.com/showphp.php?filename=demo_cookie5">Run example &raquo;</a>
<h2>Complete PHP Network Reference</h2>
For a complete reference of Network functions, go to our complete
<a href="php_ref_network.asp">PHP Network Reference</a>.

<h2>What is a PHP Session?</h2>
A session is a way to store information (in variables) to be used across multiple pages.
Unlike a cookie, the information is not stored on the users computer.

When you work with an application, you open it, do some changes, and then you close it. This is much like a Session. The computer knows who you are. 
It knows when you start the application and when you end. But on the internet there is one problem: the web server does not know who you are or what you do, because the HTTP address doesn't maintain state.
Session variables solve this problem by storing user information to be used across multiple pages (e.g. username, favorite color, etc). By default, session variables last until the user closes the browser.
So; Session variables hold information about one single user, and are available to all pages in one application.
<strong>Tip:</strong> If you need a permanent storage, you may want to store the data in a 
<a href="php_mysql_intro.asp">database</a>.

<h2>Start a PHP Session</h2>
A session is started with the <code>session_start()</code> function.
Session variables are set with the PHP global variable: $_SESSION.
Now, let's create a new page called "demo_session1.php". In this page, we start a new PHP session and set some session variables:

// Start the session
session_start();

&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;?php
// Set session variables
$_SESSION["favcolor"] = "green";
$_SESSION["favanimal"] = "cat";
echo "Session variables are set.";
&lt;/body&gt;
&lt;/html&gt;

<a target="_blank" href="https://tryphp.w3schools.com/showphp.php?filename=demo_session1">Run example &raquo;</a>
<strong><b>Note:</b></strong> The <code>session_start()</code> function must be the very first thing in your document. Before any HTML tags.

<h2>Get PHP Session Variable Values</h2>
Next, we create another page called "demo_session2.php". From this page, we will access the session information we set on the first page ("demo_session1.php").
Notice that session variables are not passed individually to each new page, instead they are retrieved from the session we open at the beginning of each page (<code>session_start()</code>).
Also notice that all session variable values are stored in the global $_SESSION variable:

&lt;?php
session_start();
?>

&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;body&gt;

&lt;?php
// Echo session variables that were set on previous page
echo "Favorite color is " . $_SESSION["favcolor"] . ".&lt;br&gt;";
echo "Favorite animal is " . $_SESSION["favanimal"] . ".";

&lt;/body&gt;
&lt;/html&gt;

<a target="_blank" href="https://tryphp.w3schools.com/showphp.php?filename=demo_session2">Run example &raquo;</a>

Another way to show all the session variable values for a user session is to run the following code:

&lt;?php
session_start();
?>

&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;?php

print_r($_SESSION);
&lt;/body&gt;
&lt;/html&gt;

<a target="_blank" href="https://tryphp.w3schools.com/showphp.php?filename=demo_session3">Run example &raquo;</a>

<strong>How does it work? How does it know it's me?</strong>

Most sessions set a user-key on the user's computer that looks something like this: 765487cf34ert8dede5a562e4f3a7e12. Then, when a session is opened on another page, it scans the computer for a user-key. If there is a match, it accesses that session, if not, it starts a new session.
<h2>Modify a PHP Session Variable</h2>
To change a session variable, just overwrite it:

session_start();

&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;?php
// to change a session variable, just overwrite it 
$_SESSION["favcolor"] = "yellow";
print_r($_SESSION);
&lt;/body&gt;
&lt;/html&gt;

<a target="_blank" href="https://tryphp.w3schools.com/showphp.php?filename=demo_session4">Run example &raquo;</a>
<h2>Destroy a PHP Session </h2>
To remove all global session variables and destroy the session, use <code>session_unset()</code>
and <code>session_destroy()</code>:

session_start();

&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

&lt;?php
// remove all session variables
session_unset(); 

// destroy the session session_destroy(); 
&lt;/body&gt;
&lt;/html&gt;

session_destroy() function:
It destroys all of the data associated with the current session.
It does not unset any of the global variables associated with the session, or unset the session cookie.

session_unset() function:
It deletes only the variables from session and session still exists.
Only data is truncated.


<a target="_blank" href="https://tryphp.w3schools.com/showphp.php?filename=demo_session5">Run example &raquo;</a>

<h2>Filter Extension </h2>
Validating data = Determine if the data is in proper form.
Sanitizing data = Remove any illegal character from the data.

PHP filters are used to validate and sanitize external input.
The PHP filter extension has many of the functions needed for checking user input,
and is designed to make data validation easier and quicker.
The <code>filter_list()</code> function can be used to list what the PHP filter extension offers: 

&lt;table&gt;
&lt;tr&gt;
&lt;td&gt;Filter Name&lt;/td&gt;
&lt;td&gt;Filter ID&lt;/td&gt;
&lt;/tr&gt;
foreach (filter_list() as $id =&gt;$filter) {

  echo '&lt;tr&gt;&lt;td&gt;' . $filter . '&lt;/td&gt;&lt;td&gt;' . filter_id($filter) . '&lt;/td&gt;&lt;/tr&gt;';
}

&lt;/table&gt; 
<h2>Why Use Filters?</h2>
Many web applications receive external input. External input/data can be:<li>User input from a form</li><li>Cookies</li><li>Web services data</li><li>Server variables</li><li>Database query results</li>
<strong>You should always validate external data!
</strong>Invalid submitted data can lead to security problems and break your webpage!

By using PHP filters you can be sure your application gets the correct input!

<h2>filter_var() Function</h2>
The <code>filter_var()</code> function both validate and sanitize data.
The <code>filter_var()</code> function filters a single variable with a specified filter. It takes two pieces of data:<li>The variable you want to check</li><li>The type of check to use</li>
<h2>Sanitize a String</h2>
The following example uses the <code>filter_var()</code> function to remove all HTML tags from a string:

$str = "&lt;h1&gt;Hello World!&lt;/h1&gt;";
$newstr = filter_var($str, FILTER_SANITIZE_STRING);
echo $newstr;
<h2>Validate an Integer</h2>
The following example uses the <code>filter_var()</code> function to check if the variable $int is an integer. If $int is an integer,
the output of the code below will be: "Integer is valid". If $int is not an integer, the output will be: "Integer is not valid":

$int = 100;

if (!filter_var($int, FILTER_VALIDATE_INT) === false) {

echo("Integer is valid");
} else {
  echo("Integer is not valid");
}
<h4>Tip: filter_var() and Problem With 0</h4>
In the example above, if $int was set to 0, the function above will return 
"Integer is not valid". To solve this problem, use the code below:

$int = 0;

if (filter_var($int, FILTER_VALIDATE_INT) === 0 || !filter_var($int, FILTER_VALIDATE_INT) === false) {

echo("Integer is valid");
} else {
  echo("Integer is not valid");
}
<h2>Validate an IP Address</h2>
The following example uses the <code>filter_var()</code> function to check if the variable $ip is a valid IP address:

$ip = "127.0.0.1";

if (!filter_var($ip, FILTER_VALIDATE_IP) === false) {

echo("$ip is a valid IP address");
} else {
  echo("$ip is not a valid IP address");
}
<h2>Sanitize and Validate an Email Address</h2>
The following example uses the <code>filter_var()</code> function to first remove all illegal characters from the $email variable, then check if it is a valid email address:

$email = "john.doe@example.com";

// Remove all illegal characters from email
$email = filter_var($email, FILTER_SANITIZE_EMAIL);

// Validate e-mail
if (!filter_var($email, FILTER_VALIDATE_EMAIL) === false) {
  echo("$email is a valid email address");
} else {
  echo("$email is not a valid email address");
}
<h2>Sanitize and Validate a URL</h2>
The following example uses the <code>filter_var()</code> function to first remove all illegal characters from a URL, then check if $url is a valid URL:

$url = "https://www.w3schools.com";

// Remove all illegal characters from a url
$url = filter_var($url, FILTER_SANITIZE_URL);

// Validate url
if (!filter_var($url, FILTER_VALIDATE_URL) === false) {
  echo("$url is a valid URL");
} else {
  echo("$url is not a valid URL");
}
<h2>Complete PHP Filter Reference</h2>
For a complete reference of all filter functions, go to our complete
<a href="php_ref_filter.asp">PHP Filter Reference.</a> Check each filter to see what options and flags are available.
The reference contains a brief description, and examples of use, for each function!

<h2>Validate an Integer Within a Range</h2>
The following example uses the <code>filter_var()</code> function to check if a variable is both of type INT, and between 1 and 200:

$int = 122;
$min = 1;
$max = 200;

if (filter_var($int, FILTER_VALIDATE_INT, array("options" =&gt; array("min_range"=&gt;$min, "max_range"=&gt;$max))) === false) {
  echo("Variable value is not within the legal range");
} else {
  echo("Variable value is within the legal range");
}
<h2>Validate IPv6 Address</h2>
The following example uses the <code>filter_var()</code> function to check if the variable $ip is a valid 
IPv6 address:

$ip = "2001:0db8:85a3:08d3:1319:8a2e:0370:7334";

if (!filter_var($ip, FILTER_VALIDATE_IP, FILTER_FLAG_IPV6) === false) {
  echo("$ip is a valid IPv6 address");
} else {

echo("$ip is not a valid IPv6 address");
}

<h2>Validate URL - Must Contain QueryString</h2>
The following example uses the <code>filter_var()</code> function to check if the variable $url is a 
URL with a querystring:

$url = "https://www.w3schools.com";

if (!filter_var($url, FILTER_VALIDATE_URL, FILTER_FLAG_QUERY_REQUIRED) === false) {
  echo("$url is a valid URL with a query string");
} else {

echo("$url is not a valid URL with a query string");
}
<h2>Remove Characters With ASCII Value &gt; 127</h2>
The following example uses the <code>filter_var()</code> function to sanitize a string. It will both remove all HTML tags, and all characters with ASCII value &gt; 127, from the string:

$str = "&lt;h1&gt;Hello WorldÆØÅ!&lt;/h1&gt;";

$newstr = filter_var($str, FILTER_SANITIZE_STRING, FILTER_FLAG_STRIP_HIGH);
echo $newstr;
<h2>Complete PHP Filter Reference</h2>
For a complete reference of all filter functions, go to our complete
<a href="php_ref_filter.asp">PHP Filter Reference.</a> Check each filter to see what options and flags are available.
The reference contains a brief description, and examples of use, for each function!

<h2>What is JSON?</h2>
JSON stands for JavaScript Object Notation, and is a syntax for storing and exchanging data.
Since the JSON format is a text-based format, it can easily be sent to and from a server, and used as a data format by any programming language.

<h2>and JSON</h2>
PHP has some built-in functions to handle JSON.
First, we will look at the following two functions:<li>
json_encode()</li><li>
json_decode() </li>
<h2>json_encode()</h2>
The json_encode() function is used to encode a value to JSON format.

This example shows how to encode an associative array into a JSON object:

$age = array("Peter"=&gt;35, "Ben"=&gt;37, "Joe"=&gt;43);

echo json_encode($age);
<a target="_blank" href="showphp.php?filename=demo_json_encode1">Run Example &raquo;</a>

This example shows how to encode an indexed array into a JSON array:

$cars = array("Volvo", "BMW", "Toyota");

echo json_encode($cars);
<a target="_blank" href="showphp.php?filename=demo_json_encode2">Run Example &raquo;</a>

<h2>json_decode()</h2>
The json_decode() function is used to decode a JSON object into a PHP object or an associative array.

This example decodes JSON data into a 
PHP object:

$jsonobj = '{"Peter":35,"Ben":37,"Joe":43}';

var_dump(json_decode($jsonobj));
<a target="_blank" href="showphp.php?filename=demo_json_decode1">Run Example &raquo;</a>
The json_decode() function returns an object by default. The json_decode() function has a second parameter, and when set to true, JSON objects are decoded into associative arrays.
This example decodes JSON data into a 
PHP associative array:

$jsonobj = '{"Peter":35,"Ben":37,"Joe":43}';

var_dump(json_decode($jsonobj, true));
<a target="_blank" href="showphp.php?filename=demo_json_decode2">Run Example &raquo;</a>
<h2>Accessing the Decoded Values</h2>
Here are two examples of how to access the decoded values from an object and from an associative array:

This example shows how to access the values from a PHP object:

$jsonobj = '{"Peter":35,"Ben":37,"Joe":43}';
$obj = json_decode($jsonobj);

echo $obj-&gt;Peter;
echo $obj-&gt;Ben;

echo $obj-&gt;Joe;
<a target="_blank" href="showphp.php?filename=demo_json_decode3">Run Example &raquo;</a>

This example shows how to access the values from a 
PHP associative array:

$jsonobj = '{"Peter":35,"Ben":37,"Joe":43}';
$arr = json_decode($jsonobj, true);

echo $arr["Peter"];
echo $arr["Ben"];

echo $arr["Joe"];
<a target="_blank" href="showphp.php?filename=demo_json_decode4">Run Example &raquo;</a>

<h2>Looping Through the Values</h2>
You can also loop through the values with a foreach() loop:

This example shows how to loop through the values of a PHP object:

$jsonobj = '{"Peter":35,"Ben":37,"Joe":43}';
$obj = json_decode($jsonobj);

foreach($obj as $key =&gt; $value) {
  echo $key . " =&gt; " . $value . "&lt;br&gt;";
}
<a target="_blank" href="showphp.php?filename=demo_json_decode5">Run Example &raquo;</a>

This example shows how to loop through the values of a PHP associative array:

$jsonobj = '{"Peter":35,"Ben":37,"Joe":43}';
$arr = json_decode($jsonobj, true);

foreach($arr as $key =&gt; $value) {
  echo $key . " =&gt; " . $value 
. "&lt;br&gt;";
}
<a target="_blank" href="showphp.php?filename=demo_json_decode6">Run Example &raquo;</a>

From PHP5, you can also write PHP code in an object-oriented style.
Object-Oriented programming is faster and easier to execute.

<h2>What is OOP?</h2>
OOP stands for Object-Oriented Programming.

Procedural programming is about writing procedures or functions that perform operations on the data, while object-oriented programming is about creating objects that contain both data and functions.
Object-oriented programming has several advantages over procedural programming:<li>OOP is faster and easier to execute</li><li>OOP provides a clear structure for the programs</li><li>OOP helps to keep the PHP code DRY "Don't Repeat Yourself", and makes the code easier to maintain, modify and debug</li><li>OOP makes it possible to create full reusable applications with less code and shorter development time</li>

<strong>Tip:</strong> The "Don't Repeat Yourself" (DRY) principle is about reducing the repetition of code. You should extract out the codes that are common for the application, and place them at a single place and reuse them instead of repeating it.

<h2>What are Classes and Objects?</h2>
Classes and objects are the two main aspects of object-oriented programming.
Look at the following illustration to see the difference between class and objects:

  <h2>class</h2>  
  Fruit

  <h2>objects</h2>  
  Apple
  Banana
  Mango

Another example:

  <h2>class</h2>  
  Car

  <h2>objects</h2>  
  Volvo
  Audi
  Toyota

So, a class is a template for objects, and an object is an instance of a class.
When the individual objects are created, they inherit all the properties and behaviors from the class, but each object will have different values for the properties.
Look at the next chapters to learn more about OOP.

A class is a template for objects, and an object is an instance of class.

<h2>OOP Case</h2>
Let's assume we have a class named Fruit. A Fruit can have properties like name, color, weight, etc. We can define variables like $name, $color, and $weight to hold the values of these properties.
When the individual objects (apple, banana, etc.) are created, they inherit all the  properties and behaviors from the class, but each object will have different values for the properties.

<h2>Define a Class</h2>
A class is defined by using the <code>class</code> keyword, followed by the name of the class and a pair of curly braces ({}). All its properties and methods goes inside the braces:

 class Fruit {
// code goes here...
}
Below we declare a class named Fruit consisting of two properties 
($name and $color) and two methods set_name() and get_name() for setting and getting the $name property:

 class Fruit {
// Properties
public 
  $name;
public $color;

// Methods
function 
  set_name($name) {

  $this-&gt;name = $name;
}
function get_name() {

  return $this-&gt;name;
}
}

<strong>Note:</strong> In a class, variables are called properties and functions are called methods!

<h2>Define Objects</h2>
Classes are nothing without objects! We can create multiple objects from a class. Each object has all the properties and methods defined in the class, but they will have different property values.
Objects of a class is created using the <code>new</code> keyword.
In the example below, $apple and $banana are instances of the class Fruit:

 class Fruit {
// Properties
public 
  $name;
public $color;

// Methods
function 
  set_name($name) {

  $this-&gt;name = $name;
}
function get_name() {

  return $this-&gt;name;
}
}

$apple = new Fruit();

  $banana = new Fruit();
$apple-&gt;set_name('Apple');
$banana-&gt;set_name('Banana');

  echo $apple-&gt;get_name();
echo "&lt;br&gt;";

  echo $banana-&gt;get_name();
In the example below, we add two more methods to class Fruit, for setting and getting the $color property:

 class Fruit {
// Properties
public $name;

  public $color;

// Methods

  function set_name($name) {
$this-&gt;name = $name;
}

  function get_name() {
  return $this-&gt;name;
}

  function set_color($color) {
$this-&gt;color = $color;
}

  function get_color() {
  return $this-&gt;color;
}

  }

$apple = new Fruit();
$apple-&gt;set_name('Apple');

  $apple-&gt;set_color('Red');
echo "Name: " . $apple-&gt;get_name();
echo "&lt;br&gt;";

  echo "Color: " . $apple-&gt;get_color();
<h2>$this Keyword</h2>
The $this keyword refers to the current object, and is only available inside methods.
Look at the following example:

 class Fruit {
  public $name;
}
$apple = new Fruit();

So, where can we change the value of the $name property? There are two ways:
1. Inside the class (by adding a set_name() method and use $this):

 class Fruit {
  public $name;

  function set_name($name) {
$this-&gt;name = $name;

  }
}
$apple = new Fruit();
$apple-&gt;set_name("Apple");
2. Outside the class (by directly change the property value):

 class Fruit {
  public $name;
}
$apple = new Fruit();
$apple-&gt;name = "Apple";
<h2>instanceof</h2>
You can use the <code>instanceof</code> keyword to check if an object belongs to a specific class:

 $apple = new Fruit();
var_dump($apple instanceof 
  Fruit);

<h2>__construct Function</h2>
A constructor allows you to initialize an object's properties upon creation of the object.
If you create a <code>__construct()</code> function, PHP will automatically call this function when you create an object from a class.
Notice that the construct function starts with two underscores (__)!
We see in the example below, that using a constructor saves us from  calling the set_name() method which reduces the amount of code:

 class Fruit {
  public 
  $name;
public $color;

  function __construct($name) {
$this-&gt;name = $name;
  
}
function get_name() {

  return $this-&gt;name;
}
}

$apple = new Fruit("Apple");

  echo $apple-&gt;get_name();
Another example:

 class Fruit {
  public 
  $name;
public $color;

  function __construct($name, $color) {
$this-&gt;name = $name;
  
$this-&gt;color = $color;
  
}
function get_name() {

  return $this-&gt;name;
}
function get_color() {

  return $this-&gt;color;
}
}

$apple = new Fruit("Apple", "red");
echo $apple-&gt;get_name();
echo 
  "&lt;br&gt;";
echo $apple-&gt;get_color();

<h2>__destruct Function</h2>
A destructor is called when the object is destructed or the script is stopped or exited.
If you create a <code>__destruct()</code> function, PHP will automatically call this function at the end of the script.
Notice that the destruct function starts with two underscores (__)!
The example below has a __construct() function that is automatically called when you create an object from a class, and a __destruct() function that is automatically called at the end of the script:

 class Fruit {
  public 
  $name;
public $color;

  function __construct($name) {
$this-&gt;name = $name;
  
}

  function __destruct() {
  echo "The fruit is {$this-&gt;name}.";
  
}
}

$apple = new Fruit("Apple");

  

Another example:

 class Fruit {
  public 
  $name;
public $color;

  function __construct($name, $color) {
$this-&gt;name = $name;
  
$this-&gt;color = $color;
  
}

  function __destruct() {
  echo "The fruit is {$this-&gt;name} 
  and the color is {$this-&gt;color}.";
  
}
}

$apple = new Fruit("Apple", "red");

  
<strong>Tip:</strong> As constructors and destructors helps reducing the amount of code, they are very useful!

<h2>Access Modifiers</h2>
Properties and methods can have access modifiers which control where they can be accessed.
There are three access modifiers:<li> <code>public</code> - the property or method can be accessed from everywhere. This is default</li><li> <code>protected</code> - the property or method can be accessed within the class and by classes derived from that class</li><li> <code>private</code> - the property or method can 
ONLY be accessed within the class</li>
In the following example we have added three different access modifiers to the three properties. Here, if you try to set the name property it will work fine (because the name property is public). However, if you try to set the color or weight property it will result in a fatal error (because the color and weight property are protected and private):

 class Fruit {
  public 
  $name;
protected $color;
private $weight;
}

$mango = new Fruit();
$mango-&gt;name = 'Mango'; // OK 
$mango-&gt;color = 'Yellow'; // ERROR

  $mango-&gt;weight = '300'; // ERROR
?&gt; 
In the next example we have added access modifiers to two methods. Here, if you try to call the set_color() or the set_weight() function it will result in a fatal error (because the two functions are considered protected and private), even if all the properties are public:

 class Fruit {
  public 
  $name;
public $color;
public $weight;

function set_name($n) {
  // a public function (default)

  $this-&gt;name = $n;
}
protected function set_color($n) { 
  // a protected function

  $this-&gt;color = $n;
}
private function set_weight($n) { 
  // a private function

  $this-&gt;weight = $n;
}
}

$mango = new Fruit();
$mango-&gt;set_name('Mango'); // OK

  $mango-&gt;set_color('Yellow'); // ERROR
$mango-&gt;set_weight('300'); // ERROR

  ?&gt; 

<h2>What is Inheritance?</h2>
Inheritance in OOP = When a class derives from another class.
The child class will inherit all the public and protected properties and methods from the parent class. In addition, it can have its own properties and methods.
An inherited class is defined by using the <code>extends</code> keyword.
Let's look at an example:

 class Fruit {
  public 
  $name;
public $color;
public 
  function __construct($name, $color) {
$this-&gt;name = $name;
$this-&gt;color = $color;
  
}

  public function intro() {
  echo "The fruit is {$this-&gt;name} 
  and the color is {$this-&gt;color}.";
  
}
}

// Strawberry is inherited from Fruit
class 
  Strawberry extends Fruit {
  public 
  function message() {
  echo "Am I a fruit or a 
  berry? ";
  
}
}
$strawberry = new Strawberry("Strawberry", "red");
$strawberry-&gt;message();
$strawberry-&gt;intro();

  
<h4>Example Explained</h4>
The Strawberry class is inherited from the Fruit class. 
This means that the Strawberry class can use the public $name and $color properties as well as the public __construct() and intro() methods from the 
Fruit class because of inheritance.
The Strawberry class also has its own method: message().
<h2>Inheritance and the Protected Access Modifier</h2>
In the previous chapter we learned that <code>protected</code> properties or methods can be accessed within the class and by classes derived from that class. What does that mean?
Let's look at an example:

 class Fruit {
  public 
  $name;
public $color;
public 
  function __construct($name, $color) {
$this-&gt;name = $name;
$this-&gt;color = $color;
  
}

  protected function intro() {
  echo "The fruit is {$this-&gt;name} 
  and the color is {$this-&gt;color}.";
  
}
}

class 
  Strawberry extends Fruit {
  public 
  function message() {
  echo "Am I a fruit or a 
  berry? ";
  
}
}

// Try to call all three methods from outside class
$strawberry = new Strawberry("Strawberry", "red");
  // OK. __construct() is public
$strawberry-&gt;message(); // OK. message() 
  is public
$strawberry-&gt;intro(); // ERROR. intro() 
  is protected

  
In the example above we see that if we try to call a <code>protected</code> method (intro()) from outside the class, we will receive an error. <code>public</code> methods will work fine!

Let's look at another example:

 class Fruit {
  public $name;
public 
  $color;
public function __construct($name, $color) {

  $this-&gt;name = $name;
$this-&gt;color = $color; 

  }
protected function intro() {
  echo "The 
  fruit is {$this-&gt;name} and the color is {$this-&gt;color}."; 
}
}

  class Strawberry extends Fruit {
  public function message() {

  echo "Am I a fruit or a berry? ";
// Call protected 
  method from within derived class - OK
$this -&gt; 
  intro();
}
}
  $strawberry = new Strawberry("Strawberry", "red"); // OK. __construct() is 
  public
$strawberry-&gt;message(); // OK. message() is 
  public and it calls intro() (which is protected) from within the 
  derived class

In the example above we see that all works fine! It is because we call the
<code>protected</code> method (intro()) from inside the derived class.

<h2>Overriding Inherited Methods</h2>
Inherited methods can be overridden by redefining the methods (use the same name) in the child class.
Look at the example below. The __construct() and intro() methods in the child class (Strawberry) will override the __construct() and intro() methods in the parent class (Fruit):

 class Fruit {
  public 
  $name;
public $color;
public 
  function __construct($name, $color) {
$this-&gt;name = $name;
$this-&gt;color = $color;
  
}

  public function intro() {
  echo "The fruit is {$this-&gt;name} 
  and the color is {$this-&gt;color}.";
  
}
}

class 
  Strawberry extends Fruit {
  public $weight;
public 
  function __construct($name, $color, $weight) {
$this-&gt;name = $name;
$this-&gt;color = $color;
$this-&gt;weight = $weight;
  
}

  public function intro() {
  echo "The fruit is {$this-&gt;name}, the color is {$this-&gt;color}, 
  and the weight is {$this-&gt;weight} gram.";
  
}
}

$strawberry = new Strawberry("Strawberry", "red", 
  50);
$strawberry-&gt;intro();
<h2>final Keyword</h2>
The <code>final</code> keyword can be used to prevent class inheritance or to prevent method overriding.
The following example shows how to prevent class inheritance:

 final class Fruit {
// some code 
}

// 
  will result in error
class 
  Strawberry extends Fruit {
// some code
}
The following example shows how to prevent method overriding:

 class Fruit {

  final public function intro() {
// some code
}
}

class 
  Strawberry extends Fruit {
// 
  will result in error

  public function intro() {
// some code
}
}

<h2>Class Constants</h2>
Constants cannot be changed once it is declared.
Class constants can be useful if you need to define some constant data within a class.
A class constant is declared inside a class with the <code>const</code> keyword.
Class constants are case-sensitive. However, it is recommended to name the constants in all uppercase letters.
We can access a constant from outside the class by using the class name followed by the scope resolution operator (<code>::</code>) followed by the constant name, like here:

 class 
  Goodbye {
  const LEAVING_MESSAGE = "Thank you for visiting W3Schools.com!";
}

echo 
  Goodbye::LEAVING_MESSAGE;

  
Or, we can access a constant from inside the class by using the <code>
self</code> keyword followed by the scope resolution operator (<code>::</code>) followed by the constant name, like here:

 class Goodbye {
  const LEAVING_MESSAGE = "Thank you for visiting W3Schools.com!";

  public function byebye() {
  echo self::LEAVING_MESSAGE;

  }
}

$goodbye = new Goodbye();
$goodbye-&gt;byebye();

<h2>What are Abstract Classes and Methods?</h2>
Abstract classes and methods are when the parent class has a named method, but need its child class(es) to fill out the tasks.
An abstract class is a class that contains at least one abstract method. An abstract method is a method that is declared, but not implemented in the code.
An abstract class or method is defined with the <code>abstract</code> keyword:

 abstract class 
  ParentClass {
  abstract public function someMethod1();

  abstract public function someMethod2($name, $color);
abstract 
  public function someMethod3() : string;
}
When inheriting from an abstract class, the child class method must be defined with the same name, and the same or a less restricted access modifier. 
So, if the abstract method is defined as protected, the child class method must be defined as either protected or public, but not private. Also, the type and number of required arguments must be the same. However, the child classes may have optional arguments in addition.
So, when a child class is inherited from an abstract class, we have the following rules:<li>The child class method must be defined with the same name and it redeclares the parent abstract method</li><li>The child class method must be defined with the same or a less restricted access modifier</li><li>The number of required arguments must be the same. However, the child class may have optional arguments in addition</li>
Let's look at an example:

 // Parent class
abstract class Car {
  public 
  $name;
public 
  function __construct($name) {
$this-&gt;name = $name;
}

  abstract public function intro() : string;     
}

// Child classes
class 
  Audi extends Car {
  public 
  function intro() : string {
  return "Choose German 
  quality! I'm an $this-&gt;name!";
  
}
}

class 
  Volvo extends Car {
  public 
  function intro() : string {
  return "Proud to be 
  Swedish! I'm a $this-&gt;name!";
  
}
}

class 
  Citroen extends Car {
  public 
  function intro() : string {
  return "French 
  extravagance! I'm a $this-&gt;name!";
  
}
}

// Create objects from the child classes
$audi = new 
  audi("Audi");

  echo $audi-&gt;intro();
echo "&lt;br&gt;";

$volvo = new 
  volvo("Volvo");

  echo $volvo-&gt;intro();
echo "&lt;br&gt;";

  
$citroen = new citroen("Citroen");

  echo $citroen-&gt;intro();

<h4>Example Explained</h4>
The Audi, Volvo, and Citroen classes are inherited from the Car class. This means that the 
Audi, Volvo, and Citroen classes can use the public $name property as well as the public __construct() method from the 
Car class because of inheritance.
But, intro() is an abstract method that should be defined in all the child classes and they should return a string.
<h2>More Abstract Class Examples</h2>
Let's look at another example where the abstract method has an argument:

 abstract class ParentClass {
// Abstract method 
  with an argument
abstract protected 
  function prefixName($name);
}

class ChildClass extends ParentClass {
  public function prefixName($name) {

  if ($name == "John Doe") {
  $prefix = "Mr.";

  } elseif ($name == "Jane Doe") {
  $prefix = 
  "Mrs.";
} else {
  
  $prefix = ";
}
return 
  "{$prefix} {$name}";
}
}

$class = new ChildClass;
echo $class-&gt;prefixName("John 
  Doe");
echo "&lt;br&gt;"; echo $class-&gt;prefixName("Jane Doe");

Let's look at another example where the abstract method has an argument, and the child class has two optional arguments that are not defined in the parent's 
  abstract method:

 abstract class ParentClass {
// Abstract method 
  with an argument
abstract protected 
  function prefixName($name);
}

class ChildClass extends ParentClass {

  // The child class may define optional arguments that are not in the parent's 
  abstract method
public function prefixName($name, $separator = ".", 
  $greet = "Dear") {

  if ($name == "John Doe") {
  $prefix = "Mr";

  } elseif ($name == "Jane Doe") {
  $prefix = 
  "Mrs";
} else {
  
  $prefix = ";
}
return 
  "{$greet} {$prefix}{$separator} {$name}";
}
}

$class = new ChildClass;
echo $class-&gt;prefixName("John 
  Doe");
echo "&lt;br&gt;"; echo $class-&gt;prefixName("Jane Doe");

<h2>What are Traits?</h2>
PHP only supports single inheritance: a child class can inherit only from one single parent.
So, what if a class needs to inherit multiple behaviors? OOP traits solve this problem.
Traits are used to declare methods that can be used in multiple classes. 
Traits can have methods and abstract methods that can be used in multiple classes, and the methods can have any access modifier (public, private, or protected).
Traits are declared with the <code>trait</code> keyword:
  trait TraitName {
// some code...
}
To use a trait in a class, use the <code>
use</code> keyword:

 class MyClass {
  use TraitName;
}
Let's look at an example:

 trait message1 {
  public function msg1() {

  echo "OOP is fun! "; 
}
}

class Welcome {
  use 
  message1;
}

$obj = new Welcome();
$obj-&gt;msg1();

<h4>Example Explained</h4>
Here, we declare one trait: message1. Then, we create a class: 
Welcome. The class uses the trait, and all the methods in the trait will be available in the class.
If other classes need to use the msg1() function, simply use the message1 trait in those classes. This reduces code duplication, because there is no need to redeclare the same method over and over again.
<h2>Using Multiple Traits</h2>
Let's look at another example:

 trait message1 {
  public function msg1() {

  echo "OOP is fun! "; 
}
}

trait message2 {
  public function msg2() 
  {
  echo "OOP reduces code duplication!"; 
}

  }

class Welcome {

  use message1;
}

class Welcome2 {
  use message1, message2;

  }

  
$obj = new Welcome();
$obj-&gt;msg1();
echo "&lt;br&gt;";

$obj2 = 
  new Welcome2();
$obj2-&gt;msg1();
$obj2-&gt;msg2();

<h4>Example Explained</h4>
Here, we declare two traits: message1 and message2. Then, we create two classes: 
Welcome and Welcome2. The first class (Welcome) uses the message1 trait, and the second class (Welcome2) uses both message1 and message2 traits (multiple traits are separated by comma).

<h2>Static Methods</h2>
Static methods can be called directly - without creating an instance of a class.
Static methods are declared with the <code>static</code> keyword:
  class ClassName {
  public static function staticMethod() {

  echo "Hello World!";
}
}
To access a static method use the class name, double colon (::), and the method name:

  ClassName::staticMethod();
Let's look at an example:

 class 
  greeting {
  public static function 
  welcome() {
  echo "Hello World!";
}
}

  
// Call static method

  greeting::welcome();

<h4>Example Explained</h4>
Here, we declare a static method: welcome(). Then, we call the static method by using the class name, double colon (::), and the method name (without creating a class first).
<h2>More on Static Methods</h2>
A class can have both static and non-static methods. A static method can be accessed from a method in the same class using the <code>self</code> keyword and double colon (::):

 class greeting {
  public static function welcome() {

  echo "Hello World!";
}

public function __construct() 
  {
  self::welcome();
}
}

new 
  greeting();
Static methods can also be called from methods in other classes. To do this, the static method should be <code>public</code>:

 class 
  greeting {
  public static function 
  welcome() {
  echo "Hello World!";
}
}

  class 
  SomeOtherClass {
  public function 
  message() {
 
  greeting::welcome();
}
}
To call a static method from a child class, use the <code>parent</code> keyword inside the child class. Here, the static method can be <code>public</code> or <code>protected</code>.

 class domain {
  protected static function 
  getWebsiteName() {
  return "W3Schools.com";
}

  }

class domainW3 extends domain {
  public $websiteName;

  public function __construct() {
$this-&gt;websiteName = 
  parent::getWebsiteName();
} 
}

$domainW3 = new domainW3;

  echo $domainW3 -&gt; websiteName;

<h2>Static Properties</h2>
Static properties can be called directly - without creating an instance of a class.
Static properties are declared with the <code>static</code> keyword:
  class ClassName {
  public static $staticProp = "W3Schools";
}
To access a static property use the class name, double colon (::), and the property name:

  ClassName::staticProp;
Let's look at an example:

 class 
  pi {
  public static $value = 3.14159;
}

  
// Get static property

  echo pi::$value;

<h4>Example Explained</h4>
Here, we declare a static property: $value. Then, we echo the value of the static property by using the class name, double colon (::), and the property name (without creating a class first).
<h2>More on Static Properties</h2>
A class can have both static and non-static properties. A static property can be accessed from a method in the same class using the <code>self</code> keyword and double colon (::):

 class 
  pi {
  public static $value=3.14159;
public function 
  staticValue() {
  return self::$value;
}
}

  
$pi = new pi();
echo $pi-&gt;staticValue(); 
To call a static property from a child class, use the <code>parent</code> keyword inside the child class:

 class 
  pi {
  public static $value=3.14159;
}

  class x extends pi {

  public function xStatic() {
  return 
  parent::$value;
} 
}

// Get value of static property 
  directly via child class

  echo x::$value;

// or get value of static property via xStatic() 
  method
$x = new x();
echo $x-&gt;xStatic(); 



<h2>PHP Conditional Statements</h2>
In PHP we have the following conditional statements:<li><code>if</code> statement - executes some code if one condition is true</li><li><code>if...else</code> statement - executes some code if a condition is true and another code if that condition is false</li><li><code>if...elseif...else</code> statement  - executes different codes for more than two conditions</li><li><code>switch</code> statement - selects one of many blocks of code to be executed</li>

<h2>if Statement</h2>
The <code>if</code> statement executes some code if one condition is true.

<h3>Syntax</h3>

if (<i>condition</i>) {<i>
  code to be executed if condition is true</i>;
}

  Output "Have a good day!" if the current time (HOUR) is less than 20:

$t = date("H");
 if ($t &lt; "20") {
  echo "Have a good day!";
 }

<h2>if...else Statement</h2>
The <code>if...else</code> statement executes some code if a condition is true and another code if that condition is false.

<h3>Syntax</h3>

if (<i>condition</i>) {
  <i>code to be executed if condition is true;</i>
 }
else {
  <i>code to be executed if condition is false;

 </i>}

  Output "Have a good day!" if the current time is less than 20, and "Have a 
  good night!" otherwise:

$t = date("H");

if ($t &lt; "20") {

 echo "Have a good day!";

 }
else {

  echo 
"Have a good night!";

 }

<h2>if...elseif...else Statement</h2>
The <code>if...elseif...else</code> statement executes different codes for more than two conditions.
<h3>Syntax</h3>

if (<i>condition</i>) {

<i>code to be executed if this condition is true;

 </i>}
elseif (<i>condition</i>) {

   <i> code to be executed if first condition is false and this 
  condition is true;

 </i>} else {

  <i>code to be executed if all conditions are false;

</i>}

  Output "Have a good morning!" if the current time is less than 10, and 
  "Have a good day!" if the current time is less than 20. Otherwise it will 
  output "Have a good night!":

$t = date("H");

 if ($t &lt; "10") {

  echo "Have a good morning!";

 }
elseif ($t &lt; "20") {

echo "Have a good day!";

 } else {

  echo "Have a good night!";

 }



<h2>switch Statement</h2>
The <code>switch</code> statement is used to perform different actions based on different conditions.
Use the <code>switch</code> statement to <strong>select one of many blocks of code to be executed</strong>.
<h3>Syntax</h3>
switch (<i>n</i>)
{
  case <i>label1:</i>
  <i>  code to be executed if n=label1;</i>
  break;
 case <i>label2:</i>
  <i>  code to be executed if n=label2;</i>
   break;
 case <i>label3:</i>
  <i>  code to be executed if n=label3;</i>
   break;
...
  default:
  <i>  code to be executed if n is different from all labels;</i>
}

This is how it works: First we have a single expression <i>n</i> (most often a
variable), that is evaluated once. The value of the expression is then compared
with the values for each case in the structure. If there is a match, the block
of code associated with that case is executed. Use <code>break</code> to prevent the
code from running into the next case automatically. The <code>default</code> statement is used if no match is found.

  $favcolor = "red";
 switch ($favcolor)
 {
   case "red":
  echo "Your favorite color is red!";
  break;
  
 case "blue":
  echo "Your favorite color is blue!";
  break;
  
 case "green":
 echo "Your favorite color is green!";
 break;
  
 default:
  echo "Your favorite color is neither red, blue, nor green!";
 }
<h2>PHP Loops</h2>
In PHP, we have the following loop types:<li><code>while</code> - loops through a block of code as long as the specified condition is true</li><li><code>do...while</code> - loops through a block of code once, and then repeats the loop 
  as long as the specified condition is true</li><li><code>for</code> - loops through a block of code a specified number of times</li><li><code>foreach</code> - loops through a block of code for each element in an 
  array</li>

The following chapters will explain and give examples of each loop type.

The <code>while</code> loop - Loops through a block of code as long as the specified condition is true.

<h2>while Loop</h2>
The <code>while</code> loop executes a block of code as long as the specified condition is true.
<h3>Syntax</h3>

while (<i>condition is true</i>) {

<i>  code to be executed</i>;

 }

The example below displays the numbers from 1 to 5:

  
 
$x = 1; 

while($x &lt;= 5) {
  echo "The number is: $x &lt;br&gt;";
  $x++;
} 

<li>$x = 1; - Initialize the loop counter ($x), and set the start value to 1</li><li>$x &lt;= 5 - Continue the loop as long as $x is less than or equal to 5</li><li>$x++; - Increase the loop counter value by 1 for each iteration</li>

This example counts to 100 by tens:

$x = 0; 
while($x &lt;= 100) {
  echo "The number is: $x &lt;br&gt;";
  $x+=10;
} 

<li>$x = 0; - Initialize the loop counter ($x), and set the start value to 0</li><li>$x &lt;= 100 - Continue the loop as long as $x is less than or equal to 100</li><li>$x+=10; - Increase the loop counter value by 10 for each iteration</li>

The <code>do...while</code> loop - Loops through a block of code once, and then repeats the loop as long as the specified condition is true.

<h2>do...while Loop</h2>
The <code>do...while</code> loop will always execute the block of code once, it will then check the condition, and repeat the loop while the specified condition is true.
<h3>Syntax</h3>

do
{
  <i>  code to be executed;</i>}
while (<i>condition is true</i>);

The example below first sets a variable $x to 1 ($x = 1). Then, the do while loop will write some output, and then increment the variable $x with 1. Then the condition is checked (is 
$x less than, or equal to 5?), and the loop will continue to run as long as $x is less than, or equal to 5:

$x = 1; 
do {
  echo "The number is: $x &lt;br&gt;";
  $x++;
} while ($x &lt;= 5);

<strong>Note:</strong> In a <code>do...while</code> loop the condition is tested AFTER executing the statements within the loop. This means that the <code>do...while</code> loop will execute its statements at least once, even if the condition is false. See example below.

This example sets the $x variable to 6, then it runs the loop, <strong>
and then the condition is checked</strong>:

$x = 6;
 do {
  echo "The number is: $x &lt;br&gt;";
  $x++;
} while ($x &lt;= 5);

The <code>for</code> loop - Loops through a block of code a specified number of times.

<h2>for Loop</h2>
The <code>for</code> loop is used when you know in advance how many times the script should run.
<h3>Syntax</h3>

for (<i>init counter; test counter; increment counter</i>)
{
  <i>code to be executed 
  for each iteration;</i>
}

Parameters:<li><i>init counter</i>: Initialize the loop counter value</li><li><i>test counter</i>: Evaluated for each loop iteration. If it evaluates to TRUE, the loop continues. If it evaluates to FALSE, the loop ends.</li><li><i>increment counter</i>: Increases the loop counter value</li>


The example below displays the numbers from 0 to 10:


&lt;?php for ($x = 0; $x &lt;= 10; $x++)
{

   echo "The number is: $x &lt;br&gt;";
} 

<li>$x = 0; - Initialize the loop counter ($x), and set the start value to 0</li><li>$x &lt;= 10; - Continue the loop as long as $x is less than or equal to 10</li><li>$x++ - Increase the loop counter value by 1 for each iteration</li>

This example counts to 100 by tens:


&lt;?php for ($x = 0; $x &lt;= 100; $x+=10)
{

echo "The number is: $x &lt;br&gt;";
} 

<li>$x = 0; - Initialize the loop counter ($x), and set the start value to 0</li><li>$x &lt;= 100; - Continue the loop as long as $x is less than or equal to 100</li><li>$x+=10 - Increase the loop counter value by 10 for each iteration</li>

The <code>foreach</code> loop - Loops through a block of code for each element in an array.

<h2>foreach Loop</h2>
The <code>foreach</code> loop works only on arrays, and is used to loop through each key/value pair in an array.
<h3>Syntax</h3>

foreach ($<i>array </i>as<i> </i>$<i>value</i>)
{

  <i>code to be executed;</i>

 }

For every loop iteration, the value of the current array element is assigned to $value and the array pointer is moved by one, until it reaches the last array element.
The following example will output the values of  the given array ($colors):


$colors = array("red", "green", "blue", "yellow"); 

 foreach ($colors as $value) {
  echo "$value &lt;br&gt;";
}

The following example will output both the keys and the values of  the given array ($age):


$age = array("Peter"=&gt;"35", "Ben"=&gt;"37", "Joe"=&gt;"43");

 foreach($age as $x =&gt; $val) {
  echo "$x = $val&lt;br&gt;";
}

<h2>Debugging PHP</h2>
the “echo” statement is probably the most used tool
combined with one of  these three variables :
var_dump , print_r , var_export()

very useful to print out to the browsers console instead of just var_dumping:

function console_log( $data ){
  echo '&lt;script>';
  echo 'console.log('. json_encode( $data ) .')';
  echo '&lt;/script>';
}

Usage:
$myvar = array(1,2,3);
console_log( $myvar ); // [1,2,3]

<h2>fetch_array(MYSQLI_ASSOC) or fetch_all(MYSQLI_ASSOC)</h2>
They are two functions of mysqli_result.

fetch_array(): Fetch a result row.
In this way, query for each row to the database

fetch_all(): Fetches all result rows.
And in this way, only query once to the database

examples:
1.-fetch_array():
$resultUsers = getAllUsers($db);
while($row = $resultUsers->fetch_array()){
     echo $row['name'];
}

2.- fetch_all():
$resultUsers = getAllUsers($db);
foreach ($resultUsers->fetch_all(MYSQLI_ASSOC) as $value) {
    echo $value['name'] . "&lt;br>";
}

2.A.-
foreach (getAllUser($db)->fetch_all(MYSQLI_ASSOC) as $value) {
    echo $value['name'] . "&lt;br>";
}


fetch_all()
function called getAllUsers() should get you all users, not mysqli result.
$allUsers = getAllUsers($db);
and then $allUsers sent to a template for the output like

&lt;?php foreach ($allUsers as $user) { ?>
    &lt;?=$user['name']?>
>?} ?>


<h2>MYSQLI_NUM</h2>
MYSQLI_NUM is a constant in PHP associated with a mysqli_result. 
If you're using mysqli to retrieve information from the database, MYSQLI_NUM can be used to specify the return format of the data. Specifically, when using the fetch_array function, MYSQLI_NUM specifies that the return array should use numeric keys for the array, instead of creating an associative array. 
Assuming you have two fields in your database table, 
"first_field_name" and "second_field_name", 
with the content "first_field_content" and "second_field_content"...

$result->fetch_array(MYSQLI_NUM);
fetches each row of the result like this:

array(
    0 => "first_field_content",
    1 => "second_field_content"
);
Alternatively...

$result->fetch_array(MYSQLI_ASSOC);
fetches an array like this:

array(
    "first_field_name" => "first_field_content",
    "second_field_name" => "second_field_content"
);
Using the constant MYSQLI_BOTH will fetch both.

<h2>suggest to use PDO, since mysql_* api is deprecated.</h2>

<h2>PHP mysqli</h2>
There are also ORM solutions for working with MySQL in PHP such as Doctrine or Eloquent.

<h3>version</h3>
$res = $conn->query("SELECT VERSION()");
if ($res) {
    $row = $res->fetch_row();
    echo $row[0];
}
$res->close();
$conn->close();

The example prints the version of MySQL.

$res = $conn->query("SELECT VERSION()");
The SELECT VERSION() statement returns the version of MySQL.
if ($res) {
    $row = $res->fetch_row();
    echo $row[0];
}

The fetch_row() returns a result row as an enumerated array. 
Our result contains only one value.

<h2>create table</h2>
A table is created with the CREATE TABLE statement. 
Rows are added to the table with the INSERT INTO statements.

 $conn ->query("DROP TABLE IF EXISTS cars");
 $conn ->query("CREATE TABLE cars(id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(255), price INT)");
 $conn ->query("INSERT INTO cars(name, price) VALUES('Audi', 52642)");
 $conn ->query("INSERT INTO cars(name, price) VALUES('Mercedes', 57127)");
 $conn->close();

The example creates the cars table with eight rows.

<h2>prepared statements</h2>
// prepare and bind
// question mark (?) substitutes integer, string, double or blob value.

$stmt = $conn->prepare("INSERT INTO MyGuests (firstname, lastname, email) VALUES (?, ?, ?)");
$stmt->bind_param("sss", $firstname, $lastname, $email);

bind function tells the database what the parameters are.
The "sss" argument lists the types of data that the parameters are.
The s character tells mysql that the parameter is a string.

The argument may be one of four types:
i - integer; d - double; s - string; b - BLOB

// set parameters and execute
$firstname = "John";
$lastname = "Doe";
$email = "john@example.com";
$stmt->execute();

$firstname = "Mary";
$lastname = "Moe";
$email = "mary@example.com";
$stmt->execute();

echo "New records created successfully";
$stmt->close();

<h2>fetch_row</h2>
The fetch_row() method fetches one row of data from the result set and returns it as an enumerated array. 
Each column is stored in an array offset starting from 0. 
Each subsequent call to this function will return the next row within the result set, or NULL if there are no more rows.

 $conn ->query("SELECT * FROM cars";
 if ($res = $conn->query($sql)) {
    printf("Select query returned %d rows.\n", $res->num_rows);
    while ($row = $res->fetch_row())
    {
        printf("%s %s %s\n", $row[0], $row[1], $row[2]);
    }
    $res->close();
 } else {
    echo "failed to fetch data\n";
 }
 $conn->close();

The example returns all rows from the cars table.
 $conn ->query("SELECT * FROM cars";
This SELECT query selects all rows from the table.

if ($res = $conn->query($sql)) {
We execute the SELECT query with the query() method.

printf("Select query returned %d rows.\n", $res->num_rows);
The number of returned rows is stored in the num_rows attribute.

while ($row = $res->fetch_row())
{ printf("%s %s %s\n", $row[0], $row[1], $row[2]); }

With the fetch_row() in a while loop, we fetch all rows from the table.

<h2>fetch_assoc</h2>
The fetch_assoc() returns an associative array of strings representing the fetched row in the result set. 
Each key in the array represents the name of one of the result set's columns or NULL if there are no more rows in result set.

 $conn ->query("SELECT * FROM cars";
 if ($res = $conn->query($sql)) {
    printf("Select query returned %d rows.\n", $res->num_rows);
    while ($row = $res->fetch_assoc())
    { printf("%s %s %s\n", $row['id'], $row['name'], $row['price']); }
    $res->close();
 } else {
    echo "failed to fetch data\n";
 }
 $conn->close();

The example returns all rows from the cars table.
while ($row = $res->fetch_assoc())
{ printf("%s %s %s\n", $row['id'], $row['name'], $row['price']); }

When we use fetch_assoc(), we refer to the columns via array notation.

Another example
$results = $conn->fetch("SELECT * FROM customer");
A variable $results has a collection of rows which are returned by a query. The size of the collection can be from 0 to n.

$resultsArray = $results->fetch_assoc();
This line fetch the first element from the collection. 
If the collection is empty it will return NULL.

while($row = $results->fetch_assoc()){ print_r($row); }
It can be decoupled in the following steps:

Calculate $row = $results->fetch_assoc() and return array with elements or NULL.
Substitute $row = $results->fetch_assoc() in while with gotten value and get the following statements: 
while(array(with elements)) or while(NULL).

If it's while(array(with elements)) it resolves the while condition in True and allow to perform an iteration.
If it's while(NULL) it resolves the while condition in False and exits the loop.

<h2>fetch_object</h2>
The fetch_object() returns an object with string properties that correspond to the fetched row or NULL if there are no more rows in resultset.

 $conn ->query("SELECT * FROM cars";
 if ($res = $conn->query($sql)) {
    printf("Select query returned %d rows.\n", $res->num_rows);
    while ($row = $res->fetch_object())
    {
        printf("%s %s %s\n", $row->id, $row->name, $row->price);
    }
    $res->close();
 } else {
    echo "failed to fetch data\n";
 }
 $conn->close();

The example returns all rows from the cars table.
while ($row = $res->fetch_object())
{ printf("%s %s %s\n", $row->id, $row->name, $row->price); }

When we use fetch_object(), we refer to the columns via object access notation.

<h2>column names</h2>
The next example prints column names with the data from the database table. 
We refer to column names as meta data.

 $conn ->query("SELECT * FROM cars";
 if ($res = $conn->query($sql)) {
    $num_rows = $res->num_rows;
    $num_fields = $res->field_count;
    printf("Select query returned %d rows.\n", $num_rows);
    printf("Select query returned %d columns.\n", $num_fields);
    $fields = $res->fetch_fields();
    while ($row = $res->fetch_row()) {
        for ($i = 0; $i < $num_fields; $i++) {
            echo $fields[$i]->name . ": " . $row[$i] . "\n";
        }
        echo "*******************************\n";
    }
    $res->close();
 } else {
    echo "failed to fetch data\n";
 }
 $conn->close();

The example prints all rows of the cars table with the column headers.

$num_rows = $res->num_rows;
$num_fields = $res->field_count;
The num_rows attribute returns the number of rows in the result. 
The field_count returns the number of fields in the result.

$fields = $res->fetch_fields();
The fetch_fields() method returns an array of objects representing the fields in a result set. 

while ($row = $res->fetch_row()) {
    for ($i = 0; $i < $num_fields; $i++) {
        echo $fields[$i]->name . ": " . $row[$i] . "\n";
    }
    echo "*******************************\n";
}

<h2>SQL WILDCARD LIKE SEARCHES</h2>
Wildcard Characters in SQL Server
%
Represents zero or more characters
bl% finds bl, black, blue, and blob

_
Represents a single character
h_t finds hot, hat, and hit

[]
Represents any single character within the brackets
h[oa]t finds hot and hat, but not hit

^
Represents any character not in the brackets
h[^oa]t finds hit, but not hot and hat

-
Represents a range of characters
c[a-b]t finds cat and cbt
All the wildcards can also be used in combinations!

Here are some examples showing different LIKE operators with '%' and '_' wildcards:

WHERE CustomerName LIKE 'a%'
Finds any values that starts with "a"

WHERE CustomerName LIKE '%a'
Finds any values that ends with "a"

WHERE CustomerName LIKE '%or%'
Finds any values that have "or" in any position

WHERE CustomerName LIKE '_r%'
Finds any values that have "r" in the second position

WHERE CustomerName LIKE 'a_%_%'
Finds any values that starts with "a" and are at least 3 characters in length

WHERE ContactName LIKE 'a%o'
Finds any values that starts with "a" and ends with "o"

<h2>THE NUMBER OF ROWS RETURNED</h2>
The PHP mysqli method store_result() method and num_rows property will help us out here.

<h2>CLOSING THINGS OFF</h2>
To free up memory tidy up the end of your script by freeing and closing the prepare statement, and closing the database connection.

$mysqli->close()
Closes the database connection – in our examples that would be the variable $mysqli

$stmt->close()
Closes the prepare statement – in our examples that would be the variable $stmt

$stmt->free_result()
Frees stored result memory from the prepare statement – in our examples that would be the variable $stmt

<h2>To show MySQL databases in PHP script</h2>

Use fetch_assoc()
$result = $mysqli->query($query);
while ($row = $result->fetch_assoc()) { var_dump($row);}

<h2>to echo a object</h2>
use print_r($foo), or var_dump($foo).
or using the __toString magic method

<h2>to echo an array</h2>
foreach($results['data'] as $result) {
    echo $result['type'], '&lt;br>';
}

or
print_r($array);
or
echo '&lt;pre>'; print_r($array); echo '&lt;/pre>';
or
var_dump($array)
or
echo json_encode($array);
or
echo "&lt;pre>";
 print_r($arr);
echo "&lt;/pre>";
or
echo "&lt;pre>";
var_export($arr);
echo "&lt;/pre>";



<h2>fetchAll()</h2>
 Fatal error: Uncaught Error: Call to undefined method mysqli_result::fetchAll()

mysqli::fetch_all() needs mysqlnd driver to be installed before you can use it.

php mysqlnd driver
In the official PHP Windows distributions from 5.3 onwards, MySQL Native Driver is enabled by default, so no additional configuration is required to use it. 
All MySQL database extensions will use MySQL Native Driver in this case.

The MySQL Native Driver requires the OpenSSL functionality of PHP to be loaded and enabled to connect to MySQL through accounts that use the MySQL SHA-256 Authentication Plugin. 
For example, PHP could be configured using:

./configure --with-mysql=mysqlnd \
--with-mysqli=mysqlnd \
--with-pdo-mysql=mysqlnd \
--with-openssl
[other options]

The ./configure command is part of the compilation process from source code.

You can either compile from source or install via package manager. 

As the package manager complains, you can’t have both php-mysql and php-mysqlnd installed.

So you can
yum remove php-mysql
before

yum install php-mysqlnd
Then check for success via

php -m | grep mysqlnd
or
php -i | grep mysqlnd

Another option:
yum swap php-mysql php-mysqlnd

<h2>free_result()</h2>
free the memory associated with the result
$result -> free_result();

<h2>JavaScript call PHP functions</h2>
&lt;script>
  var phpadd= &lt;?php echo add(1,2);?> //call the php add function
  var phpmult= &lt;?php echo mult(1,2);?> //call the php mult function
  var phpdivide= &lt;?php echo divide(1,2);?> //call the php divide function
&lt;/script>

use document.write for example,
&lt;script>
  document.write(' &lt;?php add(1,2); ?> ');
  document.write(' &lt;?php milt(1,2); ?> ');
  document.write(' &lt;?php divide(1,2); ?> ');
&lt;/script>

create an API : the js functions execute AJAX requests on web service
  var mult = function(arg1, arg2)
    $.ajax({
      url: "webservice.php?action=mult&arg1="+arg1+"&arg2="+arg2
    }).done(function(data) {
      console.log(data);
    });
  }
on the php side, check the action parameter in order to execute the propre function (basically a switch statement on the $_GET["action"] variable)

ajax request to server with data in request parameters, like this:
jQuery.ajax({
    type: "POST",
    url: 'your_functions_address.php',
    dataType: 'json',
    data: {functionname: 'add', arguments: [1, 2]},
    success: function (obj, textstatus) {
                  if( !('error' in obj) ) { yourVariable = obj.result; }
                  else { console.log(obj.error); }
            }
});

and your_functions_address.php like this:
    &lt;?php
    header('Content-Type: application/json');
    $aResult = array();
    if( !isset($_POST['functionname']) ) { $aResult['error'] = 'No function name!'; }

    if( !isset($_POST['arguments']) ) { $aResult['error'] = 'No function arguments!'; }

    if( !isset($aResult['error']) ) {
        switch($_POST['functionname']) {
            case 'add':
               if( !is_array($_POST['arguments']) || (count($_POST['arguments']) &lt; 2) ) {
                   $aResult['error'] = 'Error in arguments!';
               }
               else {
                   $aResult['result'] = add(floatval($_POST['arguments'][0]), floatval($_POST['arguments'][1]));
               }
               break;
            default:
               $aResult['error'] = 'Not found function '.$_POST['functionname'].'!';
               break;
        }
    }
    echo json_encode($aResult);
?>

<h2>PHP connecting to a MySQL</h2>
There are three main API options when considering connecting to a MySQL database server:

PHP's MySQL Extension
PHP's MySQLi Extension
PHP Data Objects (PDO)

PHP's MySQL-related extensions, such as the MySQLi extension, and the MySQL extension, are implemented using the PHP extension framework. 

MySQLi is an improved version of the older PHP MySQL driver.

The MySQLi extension features a dual interface. 
It supports the procedural and object-oriented programming paradigms.

Users migrating from the old MySQL extension may prefer the procedural interface. 
The procedural interface is similar to that of the old MySQL extension. 
In many cases, the function names differ only by prefix. 
Some MySQLi functions take a connection handle as their first argument, whereas matching functions in the old MySQL interface took it as an optional last argument.

$mysqli = new mysqli("example.com", "user", "password", "database");
if ($mysqli->connect_errno) {
    echo "Failed to connect to MySQL: (" . $mysqli->connect_errno . ") " . $mysqli->connect_error;
}

if (!$mysqli->query("DROP TABLE IF EXISTS test") ||
    !$mysqli->query("CREATE TABLE test(id INT)") ||
    !$mysqli->query("INSERT INTO test(id) VALUES (1), (2), (3)")) {
    echo "Table creation failed: (" . $mysqli->errno . ") " . $mysqli->error;
}

$res = $mysqli->query("SELECT id FROM test ORDER BY id ASC");

echo "Reverse order...\n";
for ($row_no = $res->num_rows - 1; $row_no >= 0; $row_no--) {
    $res->data_seek($row_no);
    $row = $res->fetch_assoc();
    echo " id = " . $row['id'] . "\n";
}

echo "Result set order...\n";
$res->data_seek(0);
while ($row = $res->fetch_assoc()) {
    echo " id = " . $row['id'] . "\n";
}

<a href="https://en.wikipedia.org/wiki/MySQLi" class="whitebut ">MySQLi</a>

<h2>num_rows, num_fields, fetch_fields(), fetch_row()</h2>
 if ($res = $conn->query($sql)) {
    $num_rows = $res->num_rows;
    $num_fields = $res->field_count;
    echo "number of rows: " .$num_rows ."&lt;br>";
    echo "number of columns: " .$num_fields ."&lt;br>&lt;pre>";
    $fields = $res->fetch_fields();
    while ($row = $res->fetch_row()) {
        for ($i = 0; $i &lt; $num_fields; $i++) {
            echo $fields[$i]->name . ": " . $row[$i] . "\n";
        }
        echo "*******************************\n";
    }
    $res->close();
 } else {
    echo "failed to fetch data\n";
 }

<h2>PHP MYSQLI Prepared Statements Cheat Sheet</h2>

Before we start, let’s connect to the database.
<code>&lt;?php $mysqli = new mysqli( 'hostname', 'username', 'password', 'database' );?>
</code>

<h3>1. SELECT - Selecting one row</h3>
<code>$stmt = $mysqli -&gt; prepare('SELECT name, email FROM users WHERE id = ?'); 
$userId = 1;
$stmt -&gt; bind_param('i', $userId); 
$stmt -&gt; execute(); 
$stmt -&gt; store_result(); 
$stmt -&gt; bind_result($name, $email); 
$stmt -&gt; fetch();
 
echo $name;
echo $email;
</code>

<h3>2. SELECT - Selecting Multiple Rows</h3>
<code>$stmt = $mysqli -&gt; prepare('SELECT name, email FROM users'); 
$stmt -&gt; execute(); 
$stmt -&gt; store_result(); 
$stmt -&gt; bind_result($name, $email); 
while ($stmt -&gt; fetch()) { 
    echo $name; 
    echo $email; 
}
</code>

<h3>3. SELECT - Getting Number of Selected Rows</h3>
<code>$stmt = $mysqli -&gt; prepare('SELECT name, email FROM users');

$stmt -&gt; execute();
$stmt -&gt; store_result();

echo $stmt -&gt; num_rows;
</code>

<h3>4. SELECT - Get Results</h3>
<code>$stmt = $mysqli -&gt; prepare('SELECT name, email FROM users WHERE id &gt; ?');
$greaterThan = 1;
$stmt -&gt; bind_param('i', $greaterThan);
$stmt -&gt; execute();
$result = $stmt -&gt; get_result();
</code>

<h3>5. SELECT - With Wildcards</h3>
<code>$stmt = $mysqli -&gt; prepare('SELECT name, email FROM users WHERE name LIKE ?');

$like = 'a%';
$stmt -&gt; bind_param('s', $like);
$stmt -&gt; execute();
$stmt -&gt; store_result();
$stmt -&gt; bind_result($name, $email);

while ($stmt -&gt; fetch()) {
	echo $name;
	echo $email;
}
</code>

<h3>6. SELECT - With An Array of IDs</h3>
<code>// array of user IDs
$userIdArray = [1,2,3,4];
// number of question marks
$questionMarksCount = count($userIdArray);
// create a array with question marks
$questionMarks = array_fill(0, $questionMarksCount, '?');
// join them with ,
$questionMarks = implode(',', $questionMarks);
// data types for bind param
$dataTypes = str_repeat('i', $questionMarksCount);

$stmt = $mysqli -&gt; prepare("SELECT name, email FROM users WHERE id IN ($questionMarks)");

$stmt -&gt; bind_param($dataTypes, ...$userIdArray);
$stmt -&gt; execute();
$stmt -&gt; store_result();
$stmt -&gt; bind_result($name, $email);

while ($stmt -&gt; fetch()) {
	echo $name;
	echo $email;
}
</code>

<h3>7. SELECT - LIMIT and OFFSET</h3>
<code>$stmt = $mysqli -&gt; prepare("SELECT name, email FROM users LIMIT ? OFFSET ?");

// limit of rows
$limit = 2;
// skip n rows
$offset = 1;

$stmt -&gt; bind_param('ii', $limit, $offset);
$stmt -&gt; execute();
$stmt -&gt; store_result();
$stmt -&gt; bind_result($name, $email);

while ($stmt -&gt; fetch()) {
	echo $name;
	echo $email;
}
</code>

<h3>8. SELECT - BETWEEN</h3>
<code>$stmt = $mysqli -&gt; prepare("SELECT name, email FROM users WHERE id BETWEEN ? AND ?");

$betweenStart = 2;
$betweenEnd = 4;

$stmt -&gt; bind_param('ii', $betweenStart, $betweenEnd);
$stmt -&gt; execute();
$stmt -&gt; store_result();
$stmt -&gt; bind_result($name, $email);

while ($stmt -&gt; fetch()) {
	echo $name;
	echo $email;
}
</code>

<h3>9. INSERT - One Row</h3>
<code>$stmt = $mysqli -&gt; prepare('INSERT INTO users (name, email) VALUES (?,?)');

$name = 'John';
$email = 'john@gmail.com';

$stmt -&gt; bind_param('ss', $name, $email);
$stmt -&gt; execute();
</code>

<h3>10. INSERT - Getting Insert ID</h3>
<code>$stmt = $mysqli -&gt; prepare('INSERT INTO users (name, email) VALUES (?,?)');

$name = 'John';
$email = 'john@gmail.com';

$stmt -&gt; bind_param('ss', $name, $email);
$stmt -&gt; execute();

echo 'Your account id is ' . $stmt -&gt; insert_id;
</code>

<h3>11. INSERT - Multiple Rows (Recursive)</h3>
<code>$newUsers = [
	[ 'sulliops', 'sulliops@gmail.com' ],
	[ 'infinity', 'infinity@gmail.com' ],
	[ 'aivarasco', 'aivarasco@gmail.com' ]
];

$stmt = $mysqli -&gt; prepare('INSERT INTO users (name, email) VALUES (?,?)');

foreach ($newUsers as $user) {
		
	$name = $user[0];
	$email = $user[1];

	$stmt -&gt; bind_param('ss', $name, $email);
	$stmt -&gt; execute();

	echo "{$name}'s account id is {$stmt -&gt; insert_id}";

}
</code>

<h3>12. UPDATE</h3>
<code>$stmt = $mysqli -&gt; prepare('UPDATE users SET email = ? WHERE id = ? LIMIT 1');
	
$email = 'newemail@hyvor.com';
$id = 2;

$stmt -&gt; bind_param('si', $email, $id);
$stmt -&gt; execute();
</code>

<h3>13. UPDATE - Get Affected Rows</h3>
<code>$stmt = $mysqli -&gt; prepare('UPDATE users SET email = ? WHERE name = ? LIMIT 1');
	
$email = 'newemail@hyvor.com';
$name = 'teodor';

$stmt -&gt; bind_param('ss', $email, $name);
$stmt -&gt; execute();

// 1
echo $stmt -&gt; affected_rows;
</code>

<h3>14. DELETE</h3>
<code>$stmt = $mysqli -&gt; prepare('DELETE FROM users WHERE id = ?');
	
$userId = 4;

$stmt -&gt; bind_param('i', $userId);
$stmt -&gt; execute();

// number of deleted rows
echo $stmt -&gt; affected_rows;
</code>

<h2>bind_result vs get_result in mysql</h2>
Using bind_result() would be better for query's without wild card (*)
for example:
/* Use bind_result() with fetch() */
$query1 = 'SELECT id, first_name, last_name, username FROM table WHERE id = ?';

Using get_result() would be better for query's with wild card (*), for example:
/* Use get_result() with fetch_assoc() */
$query2 = 'SELECT * FROM table WHERE id = ?';

Example 1 for $query1 using bind_result()
$query1 = 'SELECT id, first_name, last_name, username FROM table WHERE id = ?';
$id = 5;

if($stmt = $mysqli->prepare($query)){
    /*
        Binds variables to prepared statement
        i    corresponding variable has type integer
        d    corresponding variable has type double
        s    corresponding variable has type string
        b    corresponding variable is a blob and will be sent in packets
    */
    
    $stmt->bind_param('i',$id);

    /* execute query */
    $stmt->execute();

    /* Store the result (to get properties) */
    $stmt->store_result();

    /* Get the number of rows */
    $num_of_rows = $stmt->num_rows;

    /* Bind the result to variables */
    $stmt->bind_result($id, $first_name, $last_name, $username);

    while ($stmt->fetch()) {
        echo 'ID: '.$id.'&lt;br>';
        echo 'First Name: '.$first_name.'&lt;br>';
        echo 'Last Name: '.$last_name.'&lt;br>';
        echo 'Username: '.$username.'&lt;br>&lt;br>';
    }

    /* free results */
    $stmt->free_result();

    /* close statement */
    $stmt->close();
}

/* close connection */
$mysqli->close();
PHP
Example 2 for $query2 using get_result()

$query2 = 'SELECT * FROM table WHERE id = ?'; 
$id = 5;

if($stmt = $mysqli->prepare($query)){
    /*
        Binds variables to prepared statement

        i    corresponding variable has type integer
        d    corresponding variable has type double
        s    corresponding variable has type string
        b    corresponding variable is a blob and will be sent in packets
    */
    $stmt->bind_param('i',$id);

    /* execute query */
    $stmt->execute();

    /* Store the result (to get properties) */
    $stmt->store_result();

    /* Get the number of rows */
    $num_of_rows = $stmt->num_rows;

    /* Get the result */
    $result = $stmt->get_result();

    while ($row = $result->fetch_assoc()) {
        echo 'ID: '.$row['id'].'&lt;br>;';
        echo 'First Name: '.$row['first_name'].'&lt;br>';
        echo 'Last Name: '.$row['last_name'].'&lt;br>';
        echo 'Username: '.$row['username'].'&lt;br>';
    }

    /* free results */
    $stmt->free_result();

    /* close statement */
    $stmt->close();
}

/* close connection */
$mysqli->close();
PHP
As you can see, you can't use bind_result with * . However, get_result works for both, but bind_result is simpler and take out some of the mess that comes with $row['name'] .

Conclusion
bind_result()
Pros:
Simpler
No need to mess with $row['name']

Uses fetch()
Cons:
Doesn't work with SQL Query that use wildcard *

get_result()
Pros:
Works with all SQL statements

Uses fetch_assoc()
Cons:
Must mess around with array variables $row[]
Not as neat

<h2>Multiple Prepared statements in PHP with MySQLi</h2>

mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);
$conn = new mysqli("localhost", "root", "", "");
$conn->set_charset('utf8mb4');

/* set autocommit to off */
$conn->autocommit(FALSE);

// Multiple Prepared statements
$stmt1 = $conn->prepare("INSERT INTO tbl1 (id, intro) VALUES (?, ?)");
$stmt2 = $conn->prepare("INSERT INTO tbl2 (id, name) VALUES (?, ?)");

$str1 = 'abc';
$str2 = 'efg';
$str3 = 'hij';
$str4 = 'klm';

$stmt1->bind_param('ss', $str1, $str2);
$stmt2->bind_param('ss', $str3,$str4);

$stmt1->execute();
$stmt2->execute();

/* commit and set autocommit to on */
$conn->autocommit(true);

<h2>show current working directory</h2>
echo getcwd() . "\n";

<h2>make MySQL handle UTF-8 properly</h2>
<a href="https://stackoverflow.com/questions/202205/how-to-make-mysql-handle-utf-8-properly" class="whitebut ">MySQL handle UTF-8</a>
<a href="https://www.toptal.com/php/a-utf-8-primer-for-php-and-mysql" class="whitebut ">A Guide to UTF-8 Encoding in PHP and MySQL</a>

To alter database:
ALTER DATABASE dbname CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

If you have existing data that you wish to convert to UTF-8, dump your database, and import it back as UTF-8 making sure:

use SET NAMES utf8 before you query/insert into the database
use DEFAULT CHARSET=utf8 when creating new tables

at this point your MySQL client and server should be in UTF-8 (see my.cnf). remember any languages you use (such as PHP) must be UTF-8 as well. 
Some versions of PHP will use their own MySQL client library, which may not be UTF-8 aware.

To make this 'permanent', in my.cnf:
[client]
default-character-set=utf8
[mysqld]
character-set-server = utf8

The short answer: Use utf8mb4 in 4 places:
The bytes in your client are utf8, not latin1/cp1251/etc.

SET NAMES utf8mb4 or something equivalent when establishing the client's connection to MySQL

CHARACTER SET utf8mb4 on all tables/columns -- except columns that are strictly ascii/hex/country_code/zip_code/etc.

&lt;meta charset charset=UTF-8> if you are outputting to HTML. (Yes the spelling is different here.)

<h2>PHP Variable Scope</h2>
There are only two scopes available in PHP namely local and global scopes.

Local variables (local scope)
Global variables (special global scope)
Static variables (local scope)
Function parameters (local scope)
When a variable is accessed outside its scope it will cause PHP error Undefined Variable.

1. Local Scope Variables
A local scope is a restricted boundary of a variable within which code block it is declared. 
That block can be a function, class or any conditional span. 
The variable within this limited local scope is known as the local variable of that specific code block.

The following code block shows a PHP function. 
We have declared a variable $count inside this function. 
This variable is said to be a local variable of this function and it is in the local scope of the function block.

function calculate_count() {
  $count = 5;
  //will print 5; the value of local variable
  echo $count++; 
}

Local variables will be destroyed once the end of the code block is reached. 
Hence the same named variables can be declared within different local scopes.

2. Global Scope Variables
Variables in global scope can be accessed from anywhere from outside a function or class independent of its boundary.

PHP global variables can be defined by using global keyword. 
<span class="gold">If we want to use global variables inside a function, we have to prefix the global</span> keyword with the variable. 

$count = 0;
function calculate_count() {
	<span class="gold">global</span> $count;
	// will print 0 and increment global variable
	echo $count++ . "<br/>"; 
}
calculate_count();
echo $count;

PHP has a <span class="gold">predefined superglobal variable called $GLOBALS</span>. 
It is an associative array with the name of the variable as key and value as the array element. 
We can use this array variable to add an array of PHP variables in a global scope.

Let us change the above example with the global keyword by using $GLOBALS superglobal to access the variable in global scope.

$count = 0;
function calculate_count() {
  // will print 0 and increment global variable declared outside function
  echo $GLOBALS["count"]++ . "<br/>"; 
}
calculate_count();
echo $count;

3. Static Variables (local scope)
A static variable is again a variable with local scope. 
But the difference with the regular local variable is that it is not destroyed outside the scope boundary. 
A variable can be defined by using the ‘static’ keyword inside a function.

static adhesive

A static variable does not lose its value when the program execution goes past the scope boundary. 
But it can be accessed only within that boundary. 
Let me demonstrate it using the following example code,

function counter()
{
    static $count = 0;
    echo $count;
    $count++;
}

The above counter function has the static variable ‘count’ declared within its local scope. 
When the function execution is complete, the static count variable still retains its value for further computation. 
Every time the counter function is called, the value of count is incremented. 
The count value is initialized only once on the first call.

4. Function Parameters (Local Scope)
Function parameters (arguments) are local variables defined within the local scope of the function on which it is used as the argument.

Scope and File Includes
The boundary of file includes does not demarcate the scope of variables. 
The scope of a variable is only governed by the function block and not based on the file include. 
A variable can be declared in a PHP file and used in another file by using ‘include’ or ‘require’ that file.

Function Inside Function or Class
Remember that the scope in PHP is governed by a function block. 
Any new function declared anywhere starts a new scope. 
If an anonymous function is defined inside another function, the anonymous function has its own local scope.

function foo() {
    $fruit = 'apple';

    $bar = function () {
        // $fruit cannot be accessed inside here
        $animal = 'lion';
    };

    // $animal cannot be accessed outside here
}

In the above example code, $fruit variable is restricted to the outer function and its scope does not span inside the anonymous inner function. 
The same way, $animal which is declared inside is not accessible in the outer function as its scope boundary is restricted to the inner function.

General Note:
Whenever you want to use a variable in a different scope, the way in and way out is by passing as an argument. 
Do not use global scoped variable for such trivial use cases.

<h2>Built-in Regular expression Functions in PHP</h2>
preg_match – perform a pattern match on a string. 
It returns true if a match is found and false if a match is not found.

preg_split – perform a pattern match on a string and then split the results into a numeric array

preg_replace – perform a pattern match on a string and then replace the match with the specified text.

Below is the syntax for a regular expression function such as preg_match,preg_split or preg_replace.

syntax: function_name('/pattern/',subject);

"function_name(...)" is either preg_match, preg_split or preg_replace.
"/.../" The forward slashes denote the beginning and end of our regular expression
"'/pattern/'" is the pattern that we need to matched
"subject" is the text string to be matched against

PHP Preg_match

$my_url = "www.guru99.com";
if (preg_match("/guru/", $my_url)) { echo "the url $my_url contains guru";}
else{ echo "the url $my_url does not contain guru";}

"preg_match(...)" is the PHP regular expression function
"'/guru/'" is the regular expression pattern to be matched
"$my_url" is the variable containing the text to be matched against.

PHP Preg_split
We will take a string phrase and explode it into an array;
the pattern to be matched is a single space.

$my_text="I Love Regular Expressions";
$my_array  = preg_split("/ /", $my_text);
print_r($my_array );

PHP Preg_replace
$text = "We at Guru99 strive to make quality education affordable to the masses. Guru99.com";
$text = preg_replace("/Guru/", '<span style="background:yellow">Guru</span>', $text);
echo $text;

Meta characters
metacharacters allow us to perform more complex pattern matches.

.
Matches any single character except a new line
/./ matches anything that has a single character

^
Matches the beginning of or string / excludes characters
/^PH/ matches any string that starts with PH

$
Matches pattern at the end of the string
/com$/ matches guru99.com,yahoo.com Etc.

*
Matches any zero (0) or more characters
/com*/ matches computer, communication etc.

+
Requires preceding character(s) appear at least once
/yah+oo/ matches yahoo

\
Used to escape meta characters
/yahoo+\.com/ treats the dot as a literal value

[...]
Character class
/[abc]/ matches abc

a-z
Matches lower case letters
/a-z/ matches cool, happy etc.

A-Z
Matches upper case letters
/A-Z/ matches WHAT, HOW, WHY etc.

0-9
Matches any number between 0 and 9
/0-4/ matches 0,1,2,3,4

a fairly complex example that checks the validity of an email address.
$my_email = "name@company.com";
if (preg_match("/^[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+\.[a-zA-Z.]{2,5}$/", $my_email)) { echo "$my_email is a valid email address";}
else { echo "$my_email is NOT a valid email address";}


"'/.../'" starts and ends the regular expression
"^[a-zA-Z0-9._-]" matches any lower or upper case letters, numbers between 0 and 9 and dots, underscores or dashes.
"+@[a-zA-Z0-9-]" matches the @ symbol followed by lower or upper case letters, numbers between 0 and 9 or dashes.
"+\.[a-zA-Z.]{2,5}$/" escapes the dot using the backslash then matches any lower or upper case letters with a character length between 2 and 5 at the end of the string.

<h2>PHP query multiple Tables</h2>

$query =   "SELECT * ".
     "FROM comments, users ".
     "WHERE comments.user_id = users.user_id ".
     "LIMIT 10";

SELECT *
FROM UserInfoTbl, UserPvTbl
WHERE UserPvTbl.username = UserInfoTbl.username
AND UserPvTbl.username = 'user0003'

select * from UserInfoTbl inner join UserPvTbl on UserInfoTbl.username=UserPvTbl.fusename
where UserPvTbl.usename='user0003'

SELECT pet.name,
TIMESTAMPDIFF(YEAR,birth,date) AS age, remark
FROM pet INNER JOIN event
  ON pet.name = event.name
WHERE event.type = 'litter';

<a href="https://www.informit.com/articles/article.aspx?p=30875&seqNum=5" class="whitebut ">Retrieving Records from Multiple Tables</a>

<h2>Inserting Data into a MySQL Database Table</h2>
The INSERT INTO statement is used to insert new rows in a database table.

$sql = "INSERT INTO persons (first_name, last_name, email) VALUES ('Peter', 'Parker', 'peterparker@mail.com')";

Inserting Multiple Rows into a Table

$sql = "INSERT INTO persons (first_name, last_name, email) VALUES
            ('John', 'Rambo', 'johnrambo@mail.com'),
            ('Clark', 'Kent', 'clarkkent@mail.com'),
            ('John', 'Carter', 'johncarter@mail.com'),
            ('Harry', 'Potter', 'harrypotter@mail.com')";

Insert Data into a Database from an HTML Form
Step 1: Creating the HTML Form

&lt;form action="insert.php" method="post">
  &lt;pre>
   &lt;label for="firstName">First Name:&lt;/label>
   &lt;input type="text" name="first_name" id="firstName">
   &lt;label for="lastName">Last Name:&lt;/label>
   &lt;input type="text" name="last_name" id="lastName">
   &lt;label for="emailAddress">Email Address:&lt;/label>
   &lt;input type="text" name="email" id="emailAddress">
   &lt;input type="submit" value="Submit">
  &lt;/pre>
&lt;/form>

Step 2: Retrieving and Inserting the Form Data

// Escape user inputs for security
// reference: other parameters: isset($_POST['search'])
// reference: other parameters: $substring = $_POST['schTxt'];

$first_name = mysqli_real_escape_string($conn, $_REQUEST['first_name']);
$last_name = mysqli_real_escape_string($conn, $_REQUEST['last_name']);
$email = mysqli_real_escape_string($conn, $_REQUEST['email']);

// Attempt insert query execution
$sql = "INSERT INTO persons (first_name, last_name, email) VALUES ('$first_name', '$last_name', '$email')";

Note: The mysqli_real_escape_string() function escapes special characters in a string and create a legal SQL string to provide security against SQL injection.
// $escaped_item = mysql_escape_string($item);

<h2>PHP MySQL CRUD Application</h2>
Creating the Database Table
CREATE TABLE employees (
    id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(100) NOT NULL,
    address VARCHAR(255) NOT NULL,
    salary INT(10) NOT NULL
);

Creating the Config File
script in order to connect to the MySQL database server
We'll later include this config file in other pages using the PHP require_once() function.

/* Database credentials
define('DB_SERVER', 'localhost');
define('DB_USERNAME', 'root');
define('DB_PASSWORD', '');
define('DB_NAME', 'demo');
 
/* Attempt to connect to MySQL database */
$conn = mysqli_connect(DB_SERVER, DB_USERNAME, DB_PASSWORD, DB_NAME);
 
// Check connection
if($conn === false){
    die("ERROR: Could not connect. " . mysqli_connect_error());
}

Creating the Landing Page
showing the records from the employees database table. 

&lt;script>
  $(document).ready(function(){ $('[data-toggle="tooltip"]').tooltip(); });
&lt;/script>

&lt;h2 class="pull-left">Employees Details&lt;/h2>
&lt;a href="create.php" class="btn btn-success pull-right">Add New Employee&lt;/a>

  // Include config file
  require_once "config.php";
  
  // Attempt select query execution
  $sql = "SELECT * FROM employees";
  if($result = mysqli_query($conn, $sql)){
   if(mysqli_num_rows($result) > 0){
    echo "&lt;table class='table table-bordered table-striped'>";
    echo "&lt;thead>";
    echo "&lt;tr>";
    echo "&lt;th>#&lt;/th>";
    echo "&lt;th>Name&lt;/th>";
    echo "&lt;th>Address&lt;/th>";
    echo "&lt;th>Salary&lt;/th>";
    echo "&lt;th>Action&lt;/th>";
    echo "&lt;/tr>";
    echo "&lt;/thead>";
    echo "&lt;tbody>";
    while($row = mysqli_fetch_array($result)){
      echo "&lt;tr>";
      echo "&lt;td>" . $row['id'] . "&lt;/td>";
      echo "&lt;td>" . $row['name'] . "&lt;/td>";
      echo "&lt;td>" . $row['address'] . "&lt;/td>";
      echo "&lt;td>" . $row['salary'] . "&lt;/td>";
      echo "&lt;td>";
      echo "&lt;a href='read.php?id=". $row['id'] ."' title='View Record' data-toggle='tooltip'>&lt;span class='glyphicon glyphicon-eye-open'>&lt;/span>&lt;/a>";
      echo "&lt;a href='update.php?id=". $row['id'] ."' title='Update Record' data-toggle='tooltip'>&lt;span class='glyphicon glyphicon-pencil'>&lt;/span>&lt;/a>";
      echo "&lt;a href='delete.php?id=". $row['id'] ."' title='Delete Record' data-toggle='tooltip'>&lt;span class='glyphicon glyphicon-trash'>&lt;/span>&lt;/a>";
      echo "&lt;/td>";
      echo "&lt;/tr>";
    }
    echo "&lt;/tbody>";        
    echo "&lt;/table>";
    // Free result set
    mysqli_free_result($result);
    } else{
        echo "&lt;p class='lead'>&lt;em>No records were found.&lt;/em>&lt;/p>";
    }
  } else{
    echo "ERROR: Could not able to execute $sql. " . mysqli_error($conn);
  }
 
  // Close connection
  mysqli_close($conn);

&lt;img src="https://www.tutorialrepublic.com/lib/images/php-mysql-crud-grid.png">

Creating the Create Page

// Include config file
require_once "config.php";
 
// Define variables and initialize with empty values
$name = $address = $salary = "";
$name_err = $address_err = $salary_err = "";
 
// Processing form data when form is submitted
if($_SERVER["REQUEST_METHOD"] == "POST"){
    // Validate name
    $input_name = trim($_POST["name"]);
    if(empty($input_name)){
      $name_err = "Please enter a name.";
    } elseif(!filter_var($input_name, FILTER_VALIDATE_REGEXP, array("options"=>array("regexp"=>"/^[a-zA-Z\s]+$/")))){
      $name_err = "Please enter a valid name.";
    } else{
      $name = $input_name;
    }
    
    // Validate address
    $input_address = trim($_POST["address"]);
    if(empty($input_address)){
      $address_err = "Please enter an address.";     
    } else{
      $address = $input_address;
    }
    
    // Validate salary
    $input_salary = trim($_POST["salary"]);
    if(empty($input_salary)){
      $salary_err = "Please enter the salary amount.";     
    } elseif(!ctype_digit($input_salary)){
      $salary_err = "Please enter a positive integer value.";
    } else{
      $salary = $input_salary;
    }
    
    // Check input errors before inserting in database
    if(empty($name_err) && empty($address_err) && empty($salary_err)){
      // Prepare an insert statement
      $sql = "INSERT INTO employees (name, address, salary) VALUES (?, ?, ?)";
       
      if($stmt = mysqli_prepare($conn, $sql)){
        // Bind variables to the prepared statement as parameters
        mysqli_stmt_bind_param($stmt, "sss", $param_name, $param_address, $param_salary);
        
        // Set parameters
        $param_name = $name;
        $param_address = $address;
        $param_salary = $salary;
        
        // Attempt to execute the prepared statement
        if(mysqli_stmt_execute($stmt)){
      // Records created successfully. Redirect to landing page
      header("location: index.php");
      exit();
        } else{
      echo "Something went wrong. Please try again later.";
        }
      }
       
      // Close statement
      mysqli_stmt_close($stmt);
    }
    
    // Close connection


&lt;h2>Create Record&lt;/h2>
Please fill this form and submit to add employee record to the database.
  &lt;form action="&lt;?php echo htmlspecialchars($_SERVER["PHP_SELF"]); ?>" method="post">
    &lt;div class="form-group &lt;?php echo (!empty($name_err)) ? 'has-error' : ''; ?>">
        &lt;label>Name&lt;/label>
        &lt;input type="text" name="name" class="form-control" value="&lt;?php echo $name; ?>">
        &lt;span class="help-block">&lt;?php echo $name_err;?>&lt;/span>
    &lt;/div>

    &lt;div class="form-group &lt;?php echo (!empty($address_err)) ? 'has-error' : ''; ?>">
        &lt;label>Address&lt;/label>
        &lt;textarea name="address" class="form-control">&lt;?php echo $address; ?>&lt;/textarea>
        &lt;span class="help-block">&lt;?php echo $address_err;?>&lt;/span>
    &lt;/div>

    &lt;div class="form-group &lt;?php echo (!empty($salary_err)) ? 'has-error' : ''; ?>">
        &lt;label>Salary&lt;/label>
        &lt;input type="text" name="salary" class="form-control" value="&lt;?php echo $salary; ?>">
        &lt;span class="help-block">&lt;?php echo $salary_err;?>&lt;/span>
    &lt;/div>

    &lt;input type="submit" class="btn btn-primary" value="Submit">

    &lt;a href="index.php" class="btn btn-default">Cancel&lt;/a>
  &lt;/form>

Creating the Read Page

// Check existence of id parameter before processing further
if(isset($_GET["id"]) && !empty(trim($_GET["id"]))){
    // Include config file
    require_once "config.php";
    
    // Prepare a select statement
    $sql = "SELECT * FROM employees WHERE id = ?";
    
    if($stmt = mysqli_prepare($conn, $sql)){
      // Bind variables to the prepared statement as parameters
      mysqli_stmt_bind_param($stmt, "i", $param_id);
      
      // Set parameters
      $param_id = trim($_GET["id"]);
      
      // Attempt to execute the prepared statement
      if(mysqli_stmt_execute($stmt)){
        $result = mysqli_stmt_get_result($stmt);
    
        if(mysqli_num_rows($result) == 1){
      /* Fetch result row as an associative array. Since the result set contains only one row, we don't need to use while loop */
      $row = mysqli_fetch_array($result, MYSQLI_ASSOC);
      
      // Retrieve individual field value
      $name = $row["name"];
      $address = $row["address"];
      $salary = $row["salary"];
        } else{
      // URL doesn't contain valid id parameter. Redirect to error page
      header("location: error.php");
      exit();
        }
        
      } else{
        echo "Oops! Something went wrong. Please try again later.";
      }
    }
     
    // Close statement
    mysqli_stmt_close($stmt);
    
    // Close connection
    mysqli_close($conn);
} else{
    // URL doesn't contain id parameter. Redirect to error page
    header("location: error.php");
    exit();
}

    &lt;h1>View Record&lt;/h1>

  &lt;div class="form-group">
    &lt;label>Name&lt;/label>
    &lt;p class="form-control-static">&lt;?php echo $row["name"]; ?>&lt;/p>
  &lt;/div>

  &lt;div class="form-group">
    &lt;label>Address&lt;/label>
    &lt;p class="form-control-static">&lt;?php echo $row["address"]; ?>&lt;/p>
  &lt;/div>

  &lt;div class="form-group">
    &lt;label>Salary&lt;/label>
    &lt;p class="form-control-static">&lt;?php echo $row["salary"]; ?>&lt;/p>
  &lt;/div>
  &lt;p>&lt;a href="index.php" class="btn btn-primary">Back&lt;/a>&lt;/p>

Creating the Update Page

// Include config file
require_once "config.php";
 
// Define variables and initialize with empty values
$name = $address = $salary = "";
$name_err = $address_err = $salary_err = "";
 
// Processing form data when form is submitted
if(isset($_POST["id"]) && !empty($_POST["id"])){
    // Get hidden input value
    $id = $_POST["id"];
    
    // Validate name
    $input_name = trim($_POST["name"]);
    if(empty($input_name)){
      $name_err = "Please enter a name.";
    } elseif(!filter_var($input_name, FILTER_VALIDATE_REGEXP, array("options"=>array("regexp"=>"/^[a-zA-Z\s]+$/")))){
      $name_err = "Please enter a valid name.";
    } else{
      $name = $input_name;
    }
    
    // Validate address address
    $input_address = trim($_POST["address"]);
    if(empty($input_address)){
      $address_err = "Please enter an address.";     
    } else{
      $address = $input_address;
    }
    
    // Validate salary
    $input_salary = trim($_POST["salary"]);
    if(empty($input_salary)){
      $salary_err = "Please enter the salary amount.";     
    } elseif(!ctype_digit($input_salary)){
      $salary_err = "Please enter a positive integer value.";
    } else{
      $salary = $input_salary;
    }
    
    // Check input errors before inserting in database
    if(empty($name_err) && empty($address_err) && empty($salary_err)){
      // Prepare an update statement
      $sql = "UPDATE employees SET name=?, address=?, salary=? WHERE id=?";
       
      if($stmt = mysqli_prepare($conn, $sql)){
        // Bind variables to the prepared statement as parameters
        mysqli_stmt_bind_param($stmt, "sssi", $param_name, $param_address, $param_salary, $param_id);
        
        // Set parameters
        $param_name = $name;
        $param_address = $address;
        $param_salary = $salary;
        $param_id = $id;
        
        // Attempt to execute the prepared statement
        if(mysqli_stmt_execute($stmt)){
      // Records updated successfully. Redirect to landing page
      header("location: index.php");
      exit();
        } else{
      echo "Something went wrong. Please try again later.";
        }
      }
       
      // Close statement
      mysqli_stmt_close($stmt);
    }
    
    // Close connection
    mysqli_close($conn);
} else{
    // Check existence of id parameter before processing further
    if(isset($_GET["id"]) && !empty(trim($_GET["id"]))){
      // Get URL parameter
      $id =  trim($_GET["id"]);
      
      // Prepare a select statement
      $sql = "SELECT * FROM employees WHERE id = ?";
      if($stmt = mysqli_prepare($conn, $sql)){
        // Bind variables to the prepared statement as parameters
        mysqli_stmt_bind_param($stmt, "i", $param_id);
        
        // Set parameters
        $param_id = $id;
        
        // Attempt to execute the prepared statement
        if(mysqli_stmt_execute($stmt)){
      $result = mysqli_stmt_get_result($stmt);
    
      if(mysqli_num_rows($result) == 1){
  /* Fetch result row as an associative array. Since the result set contains only one row, we don't need to use while loop */
  $row = mysqli_fetch_array($result, MYSQLI_ASSOC);
  
  // Retrieve individual field value
  $name = $row["name"];
  $address = $row["address"];
  $salary = $row["salary"];
      } else{
  // URL doesn't contain valid id. Redirect to error page
  header("location: error.php");
  exit();
      }
      
        } else{
      echo "Oops! Something went wrong. Please try again later.";
        }
      }
      
      // Close statement
      mysqli_stmt_close($stmt);
      
      // Close connection
      mysqli_close($conn);
    }  else{
      // URL doesn't contain id parameter. Redirect to error page
      header("location: error.php");
      exit();
    }
}

    &lt;h2>Update Record&lt;/h2>
  &lt;p>Please edit the input values and submit to update the record.&lt;/p>
  &lt;form action="&lt;?php echo htmlspecialchars(basename($_SERVER['REQUEST_URI'])); ?>" method="post">

    &lt;div class="form-group &lt;?php echo (!empty($name_err)) ? 'has-error' : ''; ?>">
        &lt;label>Name&lt;/label>
        &lt;input type="text" name="name" class="form-control" value="&lt;?php echo $name; ?>">
        &lt;span class="help-block">&lt;?php echo $name_err;?>&lt;/span>
    &lt;/div>

    &lt;div class="form-group &lt;?php echo (!empty($address_err)) ? 'has-error' : ''; ?>">
        &lt;label>Address&lt;/label>
        &lt;textarea name="address" class="form-control">&lt;?php echo $address; ?>&lt;/textarea>
        &lt;span class="help-block">&lt;?php echo $address_err;?>&lt;/span>
    &lt;/div>

    &lt;div class="form-group &lt;?php echo (!empty($salary_err)) ? 'has-error' : ''; ?>">
        &lt;label>Salary&lt;/label>
        &lt;input type="text" name="salary" class="form-control" value="&lt;?php echo $salary; ?>">
        &lt;span class="help-block">&lt;?php echo $salary_err;?>&lt;/span>
    &lt;/div>

    &lt;input type="hidden" name="id" value="&lt;?php echo $id; ?>"/>
    &lt;input type="submit" class="btn btn-primary" value="Submit">
    &lt;a href="index.php" class="btn btn-default">Cancel&lt;/a>
  &lt;/form>


Creating the Delete Page

// Process delete operation after confirmation
if(isset($_POST["id"]) && !empty($_POST["id"])){
    // Include config file
    require_once "config.php";
    
    // Prepare a delete statement
    $sql = "DELETE FROM employees WHERE id = ?";
    
    if($stmt = mysqli_prepare($conn, $sql)){
      // Bind variables to the prepared statement as parameters
      mysqli_stmt_bind_param($stmt, "i", $param_id);
      
      // Set parameters
      $param_id = trim($_POST["id"]);
      
      // Attempt to execute the prepared statement
      if(mysqli_stmt_execute($stmt)){
        // Records deleted successfully. Redirect to landing page
        header("location: index.php");
        exit();
      } else{
        echo "Oops! Something went wrong. Please try again later.";
      }
    }
     
    // Close statement
    mysqli_stmt_close($stmt);
    
    // Close connection
    mysqli_close($conn);
} else{
    // Check existence of id parameter
    if(empty(trim($_GET["id"]))){
      // URL doesn't contain id parameter. Redirect to error page
      header("location: error.php");
      exit();
    }
}

    &lt;h1>Delete Record&lt;/h1>

  &lt;form action="&lt;?php echo htmlspecialchars($_SERVER["PHP_SELF"]); ?>" method="post">

    &lt;div class="alert alert-danger fade in">
      &lt;input type="hidden" name="id" value="&lt;?php echo trim($_GET["id"]); ?>"/>
        &lt;p>Are you sure you want to delete this record?&lt;/p>&lt;br>
        &lt;p>
    &lt;input type="submit" value="Yes" class="btn btn-danger">
    &lt;a href="index.php" class="btn btn-default">No&lt;/a>
        &lt;/p>
    &lt;/div>
  &lt;/form>


Creating the Error Page

    &lt;h1>Invalid Request&lt;/h1>

  &lt;div class="alert alert-danger fade in">
    &lt;p>Sorry, you've made an invalid request. Please &lt;a href="index.php" class="alert-link">go back&lt;/a> and try again.&lt;/p>
  &lt;/div>

<h2>header() Function</h2>
The header() function is an inbuilt function in PHP which is used to send a raw HTTP header. 

The HTTP functions are those functions which manipulate information sent to the client or browser by the Web server, before any other output has been sent. 

The PHP header() function send a HTTP header to a client or browser in raw form. 

Before HTML, XML, JSON or other output has been sent to a browser or client, a raw data is sent with request (especially HTTP Request) made by the server as header information. 

HTTP header provide required information about the object sent in the message body more precisely about the request and response.

void header( $header, $replace = TRUE, $http_response_code )

Parameters: This function accepts three parameters as mentioned above and described below:

It is important to notice that the header() function must be called before any actual output is sent!

$header: This parameter hold the header string. 
There are two types of header calls. 
The first header starts with string “HTTP/”, which is used to figure out the HTTP status code to send. 
The second case of header is the “Location:”. 
It is mandatory parameter.

$replace: It is optional parameter. 
It denotes the header should replace previous or add a second header. 
The default value is True (will replace). 
If $replace value is False then it force multiple headers of the same type.

$http_response_code: It is an optional parameter. 
It forces the HTTP response code to the specified value (PHP 4.3 and higher).


&lt;?php
header("Content-type:application/pdf");

// It will be called downloaded.pdf
header("Content-Disposition:attachment;filename='downloaded.pdf'");

// The PDF source is in original.pdf
readfile("original.pdf");
?>


Send three HTTP headers to prevent page caching:
&lt;?php
// Date in the past
header("Expires: Mon, 26 Jul 1997 05:00:00 GMT");
header("Cache-Control: no-cache");
header("Pragma: no-cache");
?>


Redirection in PHP can be done using the header() function. 
To setup a simple redirect, simply create an index.php file in the directory you wish to redirect from with the following content:

&lt; ?php header("Location: http://www.redirect.to.url.com/"); ?>
            
Where 'http://www.redirect.to.url.com/' is the URL you wish the users to be redirected too. 

This can also be a file, like so:
&lt;?php header("Location: anotherDirectory/anotherFile.php"); ?>
            
Files can be of any type including but not limited to HTML, python, php, cgi, perl, and compiled cgi programs.

Example
// Redirect the browser 
header("Location: http://www.geeksforgeeks.org"); 
  
// The below code does not get executed while redirecting 
exit; 

Example
// Set a past date 
header("Expires: Sun, 25 Jul 1997 06:02:34 GMT"); 
header("Cache-Control: no-cache"); 
header("Pragma: no-cache"); 

&lt;html> 
    &lt;body> 
        &lt;!-- PHP program to display header list --> 
        &lt;?php 
            print_r(headers_list()); 
        ?> 
    &lt;/body> 
&lt;/html> 

<h2>PHP $_REQUEST</h2>
PHP super global variable which is used to collect data after submitting an HTML form.

When a user submits the data by clicking on "Submit"
Then, we can use the super global variable $_REQUEST to collect the value of the input field:

&lt;form method="post" action="?">
  Name: &lt;input type="text" name="fname">
  &lt;input type="submit">
&lt;/form>

&lt;?php
if ($_SERVER["REQUEST_METHOD"] == "POST") {

  // collect value of input field
  $name = $_REQUEST['fname'];
  if (empty($name)) {
    echo "Name is empty";
  } else {
    echo $name;
  }
}
?>

<h2>PHP createDocumentFragment</h2>
The DOMDocument::createDocumentFragment() function is an inbuilt function in PHP which is used to create a new document fragment.

example:
$dom = new DOMDocument();  // create new document
$body = $dom->appendChild($dom->createElement('body')); // create body

$p_fragment = $dom->createDocumentFragment(); // create fragment
$p_fragment->appendXml('&lt;p>first&lt;/p>second'); // append content

$body->appendChild($p_fragment); // append fragment to body

echo $dom->saveHtml();

Output:
&lt;body>&lt;p>first&lt;/p>second&lt;/body>

example:
create headings with fragments.
$dom = new DOMDocument();  // Create a new DOM Document 
$dom->loadXML("&lt;root/>");  // Create a root element 

$fragment = $dom->createDocumentFragment();  // Create a Fragment 
$fragment->appendXML("&lt;h1>Heading 1&lt;/h1>&lt;h2>Heading 2&lt;/h2>"); // Append the XML

$dom->documentElement->appendChild($fragment);  // Append the fragment 
echo $dom->saveXML(); 

Output:
&lt;root>&lt;h1>Heading 1&lt;/h1>&lt;h2>Heading 2&lt;/h2>&lt;h3>Heading 3&lt;/h3>&lt;/root>

example:
create colored lines

// Create a new DOM Document 
$dom = new DOMDocument('1.0', 'iso-8859-1'); 
$dom->loadXML("&lt;root/>"); 
$fragment = $dom->createDocumentFragment(); 
$colors = ['red', 'green', 'blue']; 

for ($i = 0; $i &lt; 3; $i++) { 
    $fragment->appendXML( 
        "&lt;div style='color: $colors[$i]'>This is $colors[$i]&lt;/div>"); 
    $dom->documentElement->appendChild($fragment); 
} 

echo $dom->saveXML(); 

Output:
&lt;?xml version="1.0"?>
&lt;root>
    &lt;div style="color: red">This is red&lt;/div>
    &lt;div style="color: green">This is green&lt;/div>
    &lt;div style="color: blue">This is blue&lt;/div>
&lt;/root>

$divElm = $dom->createDocumentFragment();
$divElm->appendXML('&lt;a href="select_user=4">Username</a>');
$element->appendChild($divElm);

append source html to a DOMElement
createDocumentFragment()
appendXML()
appendChild($fragment)

Example
$dom = new DOMDocument(); //init
libxml_use_internal_errors(true); //disable libxmlerrors

//if you are getting a string from the database then use loadHTML($htmlcode)
$dom->loadHTMLFile("http://www.codepunker.com"); // load the codepunker

$all_h3s = $dom->getElementsByTagName('h3'); // get all h3 tags

foreach ($all_h3s as $h3) {
  $h3->appendChild( $dom->createTextNode(' (This text was modified) ') ); //append a text node to every h3 in the DOM
}
$out = $dom->saveHTML(); //save the changes
var_dump( $out );


<h2>getElementsByTagName</h2>
$img = $dom->getElementsByTagName('img')->item(0);
echo $img->attributes->getNamedItem("src")->value;

<h2>Echo $_POST</h2>
&lt;pre>
&lt;?php var_dump($_POST); ?>
&lt;/pre>

<h2>call a PHP function on click of button</h2>
cannot call PHP functions like clicking on a button from HTML
because HTML is on the client side while PHP runs server side.
they run at different stages.
achieve this by using Ajax:

&lt;input type="submit" class="button" name="insert" value="insert" />
&lt;input type="submit" class="button" name="select" value="select" />

jQuery:
$(document).ready(function(){
    $('.button').click(function(){
        var clickBtnValue = $(this).val();
        var ajaxurl = 'ajax.php',
        data =  {'action': clickBtnValue};
        $.post(ajaxurl, data, function (response) {
            // Response div goes here.
            alert("action performed successfully");
        });
    });
});

In ajax.php
    if (isset($_POST['action'])) {
        switch ($_POST['action']) {
            case 'insert':
                insert();
                break;
            case 'select':
                select();
                break;
        }
    }

    function select() {
        echo "The select function is called.";
        exit;
    }

    function insert() {
        echo "The insert function is called.";
        exit;
    }


another example:
$('.button').click(function() {
  $.ajax({
    type: "POST",
    url: "some.php",
    data: { name: "John" }
  }).done(function( msg ) {
    alert( "Data Saved: " + msg );
  });
});

In PHP file:

    function abc($name){
        // Your code here
    }

or do it like as in the code php snippet below.
php
    if ($_GET) {
        if (isset($_GET['insert'])) {
            insert();
        } elseif (isset($_GET['select'])) {
            select();
        }
    }

    function select()
    { echo "The select function is called."; }

    function insert()
    { echo "The insert function is called."; }

<h2>Build CRM in PHP and MySQL</h2>
We'll be creating a simple CRM system for salespeople to:
<ul><li>Access their tasks</li><li>View their leads</li><li>Create new tasks for each lead</li><li>Create new opportunity</li><li>Close a sale</li></ul>

Sales managers will be able to:
<ul><li>Manage all customers</li><li>Manage sales team</li><li>View current sales activities</li></ul>

<a href="https://github.com/phpcontrols/phpgrid-custom-crm" rel="noopener">Download Demo Files</a>
<h3>Building Blocks of a CRM</h3>
Here is a list of the essential components of the CRM:
<ul><li><strong>Leads</strong>: initial contacts</li><li><strong>Accounts</strong>: Information about the companies you do business with</li><li><strong>Contact</strong>: Information about the people you know and work with. 
Usually, one account has many contacts</li><li><strong>Opportunities</strong>: Qualified leads</li><li><strong>Activities</strong>: Tasks, meetings, phone calls, emails and any other activities that allow you to interact with customers</li><li><strong>Sales</strong>: Your sales team</li><li><strong>Dashboard</strong>: CRM dashboards are much more than just eye candy. 
They should deliver key information at a glance and provide links to drill down for more details.</li><li><strong>Login</strong>: Salespeople and managers have different roles in the system. 
Managers have access to reports and sales pipeline information.</li></ul>

<img src="https://cdn-media-1.freecodecamp.org/images/0*19oQRWbZyumceXfU.">
<h3>System Requirements</h3><ul><li>PHP 5.3+,</li><li>MySQL or MariaDB</li><li><a href="http://phpgrid.com/" rel="noopener">phpGrid</a></li></ul>
<h3>Create CRM Database</h3>
We will start by creating our custom CRM database. 
The main tables we will be using are:
<ul><li><strong>contact</strong> — contains basic customer data</li><li><strong>notes</strong> — holds information collection from Contact by sales people.</li><li><strong>users</strong> — information about sales people</li></ul>

<img src="https://cdn-media-1.freecodecamp.org/images/0*gJgr4DrRJ3O_OEYr.">

The <strong>Contact</strong> table contains basic customer information including names, company addresses, project information, and so forth.

The <strong>Notes</strong> table stores all sales activity information such as meetings and phone calls.

The <strong>Users</strong> table holds login information about users of the system such as usernames and passwords. 
Users can also have roles, such as Sales or Manager.

All other tables are <a href="https://www.quora.com/In-database-what-are-lookup-tables" rel="noopener">lookup tables</a> to join to the three main relational database tables.
<ul><li><strong>contact_status</strong> — contains contact status such as Lead and Opportunity. 
Each indicates a different stage in a typical sales cycle</li><li><strong>task_status</strong> — the task status can be either Pending or Completed</li><li><strong>user_status</strong> — a sale person can be Active or Inactive</li><li><strong>todo_type</strong> — a type of task either Task or Meeting</li><li><strong>todo_desc</strong> — description of a task such as Follow Up Email, Phone Call, and Conference etc.</li><li><strong>roles</strong> — a user can be either a Sales Rep or a Manager</li></ul>
<h4>Complete Database Schema Diagram</h4>
A database schema is the structure that represents the logical view such as tables, views, or primary and foreign keys of the entire database. 
A database schema includes entities and the relationship among them.

It is a good practice to have one primary key for each table in a relational database. 
A primary key is a unique identifier for each record. 
It can be the social security number (SSN), vehicle identification number (VIN), or auto-increment number. 
This is a unique number that is generated when a new record is inserted into a table.

Below is the database diagram of our simple CRM. 
The key symbol in each table represents the table primary key. 
The magnifying glass indicates foreign key linking another table in the database. 
Sometimes we call it the “lookup” table.

<img src="https://cdn-media-1.freecodecamp.org/images/0*qExvrxjr5WZERLEO.">
<h4>install.sql</h4>
Once you have an understanding of the database table structure, find the “install.sql” script in the <code>db</code> folder and use a MySQL tool such as <a href="http://www.mysql.com/products/workbench/" rel="noopener">MySQL Workbench</a> or <a href="https://www.sequelpro.com/" rel="noopener">Sequel Pro</a> to run the SQL script. 
It should create a new relational database named <code>custom_crm</code> and its database tables.
<h3>A Side Note on ZenBase</h3><!--kg-card-begin: code--><pre><code>The CRM application is also one of the many application templates readily available at ZenBase (built on the top of phpGrid) for anyone — with or without coding skills — to use and customize for their own needs.</code></pre>

Our CRM contains many datagrids. 
The datagrid is a spreadsheet-like data table that displays rows and columns representing records and fields from the database table. 
The datagrid gives the end-user ability to read and write to database tables on a webpage. 
We can use a datagrid tool from <a href="http://phpgrid.com/" rel="noopener">phpGrid</a>. 
We use a tool instead of building them from scratch because developing the datagrid is usually tedious and error-prone. 
The datagrid library will handle all internal database <strong>CRUD (Create, Remove, Update, and Delete)</strong> operations for us with better and faster results with little code. 
To install phpGrid, follow these steps:
<ol><li>Unzip the phpGrid download file.</li><li>Upload the phpGrid folder to the <code>phpGrid</code> folder.</li><li>Complete the installation by configuring the <code>conf.php</code> file.</li></ol>
Before we begin coding, we must specify the database information in <code>conf.php</code>, the phpGrid configuration file. 
Here is an example of database connection settings:
<ul><li><strong>PHPGRID_DB_HOSTNAME</strong> — web server IP or host name</li><li><strong>PHPGRID_DB_USERNAME</strong> — database user name</li><li><strong>PHPGRID_DB_PASSWORD</strong> — database password</li><li><strong>PHPGRID_DB_NAME</strong> — database name of our CRM</li><li><strong>PHPGRID_DB_TYPE</strong> — type of database</li><li><strong>PHPGRID_DB_CHARSET</strong> — always ‘utf8' in MySQL</li></ul>

To learn more about configuring phpGrid, check out <a href="http://phpgrid.com/documentation/installation/" rel="noopener">phpGrid complete installation guide</a>.
<h3>Page Template</h3>
<img src="https://cdn-media-1.freecodecamp.org/images/0*nnv7_XJ9KD0zLXqK.">

Before we can start building our first page of the CRM, it is a good practice to make the reusable page items such as header and footer.

The page will comprise of a header, menu, body and footer. 
We will start by creating a reusable page template.
<h3>head.php</h3>
This is a basic HTML5 template header. 
It includes a link to a custom stylesheet that will be created in a later step.
<h3>menu.php</h3>
<img src="https://cdn-media-1.freecodecamp.org/images/0*TDduZwwNWj64wN77.">

Notice the usage of <code>$_GET['currentPage']</code>. 
Each page will set a value which will highlight the name of the current page on the top menu bar.

Include the following code in style.css for menu styling (minified). 
It will transform the above, unordered list into a menu.
<h3>footer.php</h3>
Simple closing body and html tags.
<h3>Complete Page Template</h3>
This is the complete page template. 
The main content will go after <code>Section Title</code>.
<h3>CRM Main Pages</h3>
Are you still with me? Good! We can now finally develop the first page in our CRM.

Our CRM for the sales team members has four pages:
<ul><li><strong>Tasks</strong></li><li><strong>Leads</strong></li><li><strong>Opportunities</strong></li><li><strong>Customers/Won</strong></li></ul>

Each page indicates a different stage in a typical sales cycle.
<h3>Sale People Page Design Mockup</h3>
Here's our CRM design mockup for the sales people.

<img src="https://cdn-media-1.freecodecamp.org/images/1*AS942OO-igxo4ylg8f7m5g.png">
<h3>Tasks Page</h3>
When a sales team member logged in, the first page he sees is a list of current tasks.

As you may recall, our Notes table holds all the sales activity information. 
We can create a datagrid and populate it from the Notes table using phpGrid.

The Tasks page main content is a datagrid. 
The following two lines will give us a list of tasks of the current sales person.
<ul><li>The first line creates a phpGrid object by passing the SELECT SQL statement, its primary key — <code>ID</code>, and then the name of the database table - <code>notes</code>.</li><li>The second and the final line calls <a href="http://phpgrid.com/documentation/display/" rel="noopener">display()</a> function to render the datagrid on the screen. 
Check out the <a href="http://phpgrid.com/example/example-1-a-basic-php-datagrid-2/" rel="noopener">basic datagrid demo</a> for more detail.</li></ul>
<h3>Leads Page</h3>
The leads page contains list of current leads that the sales person is responsible for. 
Each Lead can have one or many Notes. 
We will use the <a href="http://phpgrid.com/example/master-detail-grid/" rel="noopener">phpGrid master-detail </a>feature for that.

We also need to use <a href="http://phpgrid.com/documentation/set_query_filterwhere/" rel="noopener">set_query_filter</a>() to display only the leads, <code>Status = 1</code>, and only for the current sales person.
<h4>Contact status table</h4>
<img src="https://cdn-media-1.freecodecamp.org/images/0*GJDLBk0XN5r9M5NY.">
<h3>Opportunities Page</h3>
A Lead becomes an Opportunity once it is qualified. 
The Opportunities page is similar to the Leads page. 
The only difference is the filtered status code in set_query_filter is <code>Status = 2</code>.
<h3>Customers/Won Page</h3>
Customers/Won has the <code>Status = 3</code>. 
Similar to Leads and Opportunities, Customers/Won can also have Notes.

That's all there is to it for sales people in our simple CRM.
<h3>Manager Dashboard</h3>
The sales manager will have access to all records in the sales pipeline as well as the ability to manage sales team and customer data.

We will have a single web page with tabbed menu similar to the <a href="http://phpgrid.com/example/tabbed-datagrid/" rel="noopener">phpGrid tabbed grid demo</a>.
<h3>Manager Dashboard Design Mockup</h3><h4>My Sales Reps</h4>
<img src="https://cdn-media-1.freecodecamp.org/images/1*Jn0q3g0FMqW6shEXtENR8w.png">
<h3>Main content</h3>
Each tab represents a table in the CRM database. 
<code>$_GET['gn']</code> will store the table name. 
It dynamically generates the datagrid based on table name passed.

It's very easy to integrate jQueryUI Tabs with phpGrid. 
Please refer to the phpGrid <a href="http://phpgrid.com/example/tabbed-datagrid/" rel="noopener">Tabbed Grid demo</a> for more information.
<h3>My Sales Rep Page</h3>
Since a sales manager needs to quickly find out whom a sale person is working with, we added a detail grid <code>$sdg</code> populated from contact table and link with the master grid.

<code>sales_rep</code> is the connecting key in <code>contact</code> table to the <code>id</code> that is the foreign key in <code>users</code> table. 
Remember the <code>users</code> stores all of our sales people information.
<h3>Screenshots</h3><h4>CRM — Sales Screen</h4>
<img src="https://cdn-media-1.freecodecamp.org/images/1*e_osyaKXAm8Paj6OTVpCsg.png">
<h4>CRM — Manager Screen</h4>
<img src="https://cdn-media-1.freecodecamp.org/images/1*wMcbdN9Im5jAUhv-mfEN_g.png">
<h3>Live Demo</h3>
<a href="http://phpdatagrid.com/apps/phpgrid-custom-crm/sales/tasks.php" rel="noopener">CRM Sales Rep Screen</a> | <a href="http://phpdatagrid.com/apps/phpgrid-custom-crm/managers/pipeline.php" rel="noopener">CRM Managers screen</a>
<h3>Need to Write Even Less Code?</h3>
If you are new to programming and are not yet comfortable with coding, you may want to check out <a href="https://getzenbase.com/" rel="noopener"><strong>ZenBase</strong></a> that is built on the top of the phpGrid. 
The CRM is but one of the <a href="https://getzenbase.com/templates/" rel="noopener">many application templates</a> readily available at ZenBase for anyone — <em>with or without</em> coding skills — to use and customize for their own needs.
<h3>Complete Source Code on GitHub</h3>
<a href="https://github.com/phpcontrols/phpgrid-custom-crm" rel="noopener"><strong>phpcontrols/phpgrid-custom-crm</strong></a><br><a href="https://github.com/phpcontrols/phpgrid-custom-crm" rel="noopener"><em>phpgrid-custom-crm - Custom CRM Demo - Learn to build yourself a custom CRM in PHP and MySQL, which a sales team can…</em>github.com</a>

<h2>PHP - MySQL Login</h2>

<h3>Config.php</h3>
Config.php file is having information about MySQL Data base configuration.

   define('DB_SERVER', 'localhost:3036');
   define('DB_USERNAME', 'root');
   define('DB_PASSWORD', 'rootpassword');
   define('DB_DATABASE', 'database');
   $db = mysqli_connect(DB_SERVER,DB_USERNAME,DB_PASSWORD,DB_DATABASE);

<h3>Login.php</h3>
Login PHP is having information about php script and HTML script to do login.

   include("config.php");
   session_start();
   
   if($_SERVER["REQUEST_METHOD"] == "POST") {
      // username and password sent from form 
      
      $myusername = mysqli_real_escape_string($db,$_POST['username']);
      $mypassword = mysqli_real_escape_string($db,$_POST['password']); 
      
      $sql = "SELECT id FROM admin WHERE username = '$myusername' and passcode = '$mypassword'";
      $result = mysqli_query($db,$sql);
      $row = mysqli_fetch_array($result,MYSQLI_ASSOC);
      $active = $row['active'];
      
      $count = mysqli_num_rows($result);
      
      // If result matched $myusername and $mypassword, table row must be 1 row
		
      if($count == 1) {
         session_register("myusername");
         $_SESSION['login_user'] = $myusername;
         
         header("location: welcome.php");
      }else {
         $error = "Your Login Name or Password is invalid";
      }
   }

 &lt;form action = "" method = "post">
    &lt;label>UserName  :&lt;/label>&lt;input type = "text" name = "username" class = "box"/>&lt;br />&lt;br />
    &lt;label>Password  :&lt;/label>&lt;input type = <span class="gold">password"</span> name = "password" class = "box" />&lt;br/>&lt;br />
    &lt;input type = "submit" value = " Submit "/>&lt;br />
 &lt;/form>
 &lt;div>&lt;?php echo $error; ?>&lt;/div>

<h3>welcome.php</h3>
After successful login, it will display welcome page.

   include('session.php');

&lt;a href = "logout.php">Sign Out&lt;/a>

<h3>Logout page</h3>
Logout page is having information about how to logout from login session.

   session_start();
   
   if(session_destroy()) {
      header("Location: login.php");
   }

<h3>session.php</h3>
Session.php will verify the session, if there is no session it will redirect to login page.

   include('config.php');
   session_start();
   
   $user_check = $_SESSION['login_user'];
   
   $ses_sql = mysqli_query($db,"select username from admin where username = '$user_check' ");
   
   $row = mysqli_fetch_array($ses_sql,MYSQLI_ASSOC);
   
   $login_session = $row['username'];
   
   if(!isset($_SESSION['login_user'])){
      header("location:login.php");
      die();
   }

<h2>Creating HTML form depending on database fields</h2>
The first step is to obtain the table's column information thru the use of DESCRIBE.

And then query it like any normal query.

Example:
$db = new mysqli('localhost', 'username', 'password', 'database');
$query = $db->query('DESCRIBE `TBLUSERS`');  // TBLUSERS is table name
$fields = array();
while($row = $query->fetch_assoc()) { $fields[] = $row['Field']; }

&lt;form id="generate-form" type="POST">
    &lt;?php foreach($fields as $field): ?>
        &lt;label>
            &lt;?php echo "$field: "; ?>
            &lt;input type="text" name="&lt;?php echo $field; ?>" />
        &lt;/label>&lt;br/>
    &lt;?php endforeach; ?>
    &lt;input type="submit" name="submit" />
&lt;/form>















<br><br><br><br><br><br><br><br>

<script type='text/javascript' src='readbook.js'></script>
</body></html>
