<base target="_blank"><html><head><title>Node.js Tutorial</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://williamkpchan.github.io/maincss.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@13.0.1/dist/lazyload.min.js"></script>
<script type='text/javascript' src='../mainscript.js'></script>
<script>
  var showTopicNumber = true;
</script>
<style>
body{width:80%;margin-left: 10%; font-size:22px;}
strong, h1, h2 {color: gold;}
h3 {color:orange;}
img {max-width:90%; display: inline-block; margin-top: 2%;margin-bottom: 1%; border-radius:3px;}
</style></head><body onkeypress="chkKey()">
<center><h1>Node.js Tutorial</h1>
<div id="toc"></div></center>
<pre>
<br>
<br>

Node.js allows you to run JavaScript on the server.

<h2>Learning by Examples</h2>
Our &quot;Show Node.js&quot; tool makes it easy to learn Node.js, it shows both the code and the result.

<h3>Example</h3>

var http = require('http');<br><br>http.createServer(function (req, res) {<br>&nbsp;&nbsp;&nbsp; 
  res.writeHead(200, {'Content-Type': 'text/plain'});<br>&nbsp;&nbsp;&nbsp; 
  res.end('Hello World!');<br>}).listen(8080); 
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs.asp?filename=demo_intro">Run example &raquo;</a>

<b>Click on the &quot;Run example&quot; button to see how it works.</b>

<h3>Examples Running in the Command Line Interface</h3>

In this tutorial there will be some examples that are better explained by displaying the result in the command line interface.

When this happens, The "Show Node.js" tool will show the result in a black screen on the right:

<h3>Example</h3>

console.log('This example is different!');<br>
console.log('The result is displayed in the Command Line Interface'); 
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs_cmd.asp?filename=demo_intro_cmd">Run example &raquo;</a>

<b>Click on the &quot;Run example&quot; button to see how it works.</b>

<h2>Node.js Reference</h2>

Node.js has a set of built-in modules which you can use without any further 
installation.
Here is a list of the built-in modules of Node.js version 6.10.3:
<table>
<tr><th>Module</th>
<th>Description</th></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_assert.asp">assert</a></td><td>Provides a set of assertion tests</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_buffer.asp">buffer</a></td><td>To handle binary data</td></tr>
<tr><td>child_process</td><td>To run a child process</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_cluster.asp">cluster</a></td><td>To split a single Node process into multiple processes</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_crypto.asp">crypto</a></td><td>To handle OpenSSL cryptographic functions</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_dgram.asp">dgram</a></td><td>Provides implementation of UDP datagram sockets</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_dns.asp">dns</a></td><td>To do DNS lookups and name resolution functions</td></tr>
<tr><td>domain</td><td>Deprecated. To handle unhandled errors</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_events.asp">events</a></td><td>To handle events</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_fs.asp">fs</a></td><td>To handle the file system</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_http.asp">http</a></td><td>To make Node.js act as an HTTP server</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_https.asp">https</a></td><td>To make Node.js act as an HTTPS server.</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_net.asp">net</a></td><td>To create servers and clients</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_os.asp">os</a></td><td>Provides information about the operation system</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_path.asp">path</a></td><td>To handle file paths</td></tr>
<tr><td>punycode</td><td>Deprecated. A character encoding scheme</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_querystring.asp">querystring</a></td><td>To handle URL query strings</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_readline.asp">readline</a></td><td>To handle readable streams one line at the time</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_stream.asp">stream</a></td><td>To handle streaming data</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_string_decoder.asp">string_decoder</a></td><td>To decode buffer objects into strings</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_timers.asp">timers</a></td><td>To execute a function after a given number of milliseconds</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_tls.asp">tls</a></td><td>To implement TLS and SSL protocols</td></tr>
<tr><td>tty</td><td>Provides classes used by a text terminal</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_url.asp">url</a></td><td>To parse URL strings</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_util.asp">util</a></td><td>To access utility functions</td></tr>
<tr><td>v8</td><td>To access information about V8 (the JavaScript engine)</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_vm.asp">vm</a></td><td>To compile JavaScript code in a virtual machine</td></tr>
<tr><td><a href="https://www.w3schools.com/nodejs/ref_zlib.asp">zlib</a></td><td>To compress or decompress files</td></tr>
</table>

<a href="https://www.w3schools.com/nodejs/ref_modules.asp">Built-in Modules</a>

<h2>Download Node.js</h2>
Download Node.js from the official Node.js web site:
  <a target="_blank" href="https://www.w3schools.com/nodejs/https://nodejs.org/">https://nodejs.org</a>

<h3>Why Node.js?</h3>

  <strong>Node.js uses asynchronous programming!</strong>

A common task for a web server can be to open a file on the server and return the content to the client.

Here is how PHP or ASP handles a file request:

  Sends the task to the computer's file system.
  Waits while the file system opens and reads the 
  file.
  Returns the content to the client.
  Ready to handle the next 
request.

Here is how Node.js handles a file request:
  Sends the task to the computer's file system.
  Ready to handle the next request.
  When the file system has 
opened and read the file, the server returns the content to the client.

Node.js eliminates the waiting, and simply continues with the next request. 

Node.js runs single-threaded, non-blocking, asynchronously programming, which 
is very memory efficient.

<h3>What Can Node.js Do?</h3>

  Node.js can generate dynamic page content
  Node.js can create, open, read, write, delete, and close files on the server
  Node.js can collect form data
  Node.js can add, delete, modify data in your database

<h3>What is a Node.js File?</h3>

Node.js files contain tasks that will be executed on certain events
A typical event is someone trying to access a port on the server
Node.js files must be initiated on the server before having any effect
Node.js files have extension &quot;.js&quot;


<h2>Getting Started</h2>
The official Node.js website has installation instructions for Node.js:
<a target="_blank" href="https://www.w3schools.com/nodejs/https://nodejs.org">https://nodejs.org</a>

Once you have downloaded and installed Node.js on your computer, lets try to 
display &quot;Hello World&quot; in a web browser.

Create a Node.js file named &quot;myfirst.js&quot;, and add the following 
code:

myfirst.js

  var http = require('http');<br><br>http.createServer(function (req, res) {<br>&nbsp;&nbsp;&nbsp; 
  res.writeHead(200, {'Content-Type': 'text/html'});<br>&nbsp;&nbsp;&nbsp; 
  res.end('Hello World!');<br>}).listen(8080);

Save the file on your computer: C:\Users\<em>Your Name</em>\myfirst.js

The code tells the computer to write &quot;Hello World!&quot; if anyone (e.g. a web browser) tries to access your computer on port 8080.

For now, you do not have to understand the code. It will be explained later.

<h3>Command Line Interface</h3>
<span class="red">Node.js files must be initiated in the &quot;Command Line Interface&quot; program of your computer.</span>

Navigate to the folder that contains the file &quot;myfirst.js&quot;, the 
command line interface window should look something like this:

C:\Users\<em>Your Name</em>&gt;_

<h3>Initiate the Node.js File</h3>
The file you have just created must be initiated by Node.js before any action 
can take place.

Start your command line interface, write <code>node myfirst.js</code> and hit enter.

Now, your computer works as a server!

If anyone tries to access your computer on port 8080, they will get a &quot;Hello World!&quot; message in return!

Start your internet browser, and type in the address: <a href="http://localhost:8080" target="_blank">http://localhost:8080</a>

<h2>What is a Module in Node.js?</h2>
Consider modules to be the same as JavaScript libraries.

A set of functions you want to include in your application.

<h3>Include Modules</h3>
To include a module, use the <code>require()</code> function with the name of the module:

  var http = require('http');

Now your application has access to the HTTP module, and is able to create a server:

  http.createServer(function (req, res) {<br>&nbsp;&nbsp;&nbsp; 
  res.writeHead(200, {'Content-Type': 'text/html'});<br>&nbsp;&nbsp;&nbsp; 
  res.end('Hello World!');<br>}).listen(8080);

<h3>Create Your Own Modules</h3>
You can create your own modules, and easily include them in your applications.

The following example creates a module that returns a date and time object:

<h3>Example</h3>
Create a module that returns the current date and time:

  exports.myDateTime = function () {<br>&nbsp;&nbsp;&nbsp; return Date();<br>};

Use the <code>exports</code> keyword to make properties and methods available outside the module file.

Save the code above in a file called "myfirstmodule.js"
    

<h2>Include Your Own Module</h2>
Now you can include and use the module in any of your Node.js files.

<h3>Example</h3>
Use the module "myfirstmodule" in a Node.js file:

  var http = require('http');<br>
  <strong>var dt = require('./myfirstmodule');<br></strong><br>
  http.createServer(function (req, res) {<br>&nbsp;&nbsp;&nbsp; 
  res.writeHead(200, {'Content-Type': 'text/html'});<br>&nbsp;&nbsp;&nbsp;
  res.write("The date and time are currently: " + <strong>dt.myDateTime()</strong>);<br>&nbsp;&nbsp;&nbsp;  
  res.end();<br>
  }).listen(8080);
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs.asp?filename=demo_module">Run example &raquo;</a>

Notice that we use <code>./</code> to locate the module, that means that the 
module is located in the same folder as the Node.js file.

Save the code above in a file called "demo_module.js", and initiate the file:

Initiate demo_module.js:

C:\Users\<em>Your Name</em>&gt;node demo_module.js

If you have followed the same steps on your computer, you will see the same result as the example: <a href="http://localhost:8080" target="_blank">http://localhost:8080</a>

<h4>Node.js HTTP Module</h4>

<h2>The Built-in HTTP Module</h2>
Node.js has a built-in module called HTTP, which allows Node.js to transfer 
data over the Hyper Text Transfer Protocol (HTTP).

To include the HTTP module, use the
<code>require()</code> method:

  var http = require('http');

<h2>Node.js as a Web Server</h2>
The HTTP module can create an HTTP server that listens to 
server ports and gives a response back to 
the client.

Use the <code>createServer()</code> method to create an 
HTTP server:

<h3>Example</h3>

  var http = require('http');<br><br>//create a server object:<br>http.createServer(function 
  (req, res) {<br>&nbsp; res.write('Hello World!'); //write a response to the 
  client<br>&nbsp; res.end(); //end the response<br>}).listen(8080); //the 
  server object listens on port 8080
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs.asp?filename=demo_http">Run example &raquo;</a>

The function passed into the <code>http.createServer()</code> 
method, will be executed when someone tries to access the 
computer on port 8080.

Save the code above in a file called &quot;demo_http.js&quot;, and initiate 
the file:

Initiate demo_http.js:

C:\Users\<em>Your Name</em>&gt;node demo_http.js

If you have followed the same steps on your computer, you will see the same result as the example: <a href="http://localhost:8080" target="_blank">http://localhost:8080</a>

    

<h2>Add an HTTP Header</h2>
If the response from the HTTP server is supposed to be displayed as HTML, you 
should include an HTTP header with the correct content type:

<h3>Example</h3>

  var http = require('http');<br>http.createServer(function 
  (req, res) {<br><strong>&nbsp; res.writeHead(200, 
  {'Content-Type': 'text/html'});<br></strong>&nbsp; res.write('Hello 
  World!');<br>&nbsp; res.end();<br>}).listen(8080);
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs.asp?filename=demo_http_header">Run example &raquo;</a>

The first argument of the <code>res.writeHead()</code> method is the status code, 200 means that all is OK, the second argument is an object containing the response headers.

<h2>Read the Query String</h2>

The function passed into the <code>http.createServer()</code> has a <code>req</code> argument that represents the request from the client, as an object (http.IncomingMessage object).

This object has a property called &quot;url&quot; which holds the 
part of the url that comes after the domain name:

demo_http_url.js

  var http = require('http');<br>http.createServer(function 
  (<strong>req</strong>, res) {<br>&nbsp;&nbsp;&nbsp; 
  res.writeHead(200, {'Content-Type': 'text/html'});<br>&nbsp;&nbsp;&nbsp; res.write(<strong>req.url</strong>);<br>&nbsp;&nbsp;&nbsp; 
  res.end();<br>}).listen(8080);

Save the code above in a file called &quot;demo_http_url.js&quot; and 
initiate the file:

  Initiate demo_http_url.js:

C:\Users\<em>Your Name</em>&gt;node demo_http_url.js

If you have followed the same steps on your computer, you should see two 
different results when opening these two addresses:

<a href="http://localhost:8080/summer" target="_blank">http://localhost:8080/summer</a>

Will produce this result:

/summer
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs.asp?filename=demo_querystring_summer">Run example &raquo;</a>

<a href="http://localhost:8080/winter" target="_blank">http://localhost:8080/winter</a>

Will produce this result:

/winter
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs.asp?filename=demo_querystring_winter">Run example &raquo;</a>

<h2>Split the Query String</h2>
There are built-in modules to easily split the query string into readable 
parts, such as the URL module.

<h3>Example</h3>
Split the query string into readable parts:

  
    var http = require('http');<br><strong>var url = require('url');<br>
    </strong><br>
    http.createServer(function (req, res) {<br>&nbsp; res.writeHead(200, 
    {'Content-Type': 'text/html'});<br><strong>&nbsp; var q = url.parse(req.url, 
    true).query;<br></strong>&nbsp; var txt = <strong>q.year</strong> + &quot; &quot; + 
    <strong>q.month</strong>;<br>&nbsp; res.end(txt);<br>
    }).listen(8080);<br>
  

Save the code above in a file called &quot;demo_querystring.js&quot; and 
initiate the file:

  Initiate demo_querystring.js:

C:\Users\<em>Your Name</em>&gt;node demo_querystring.js

The address:

<a href="http://localhost:8080/?year=2017&month=July" target="_blank">http://localhost:8080/?year=2017&amp;month=July</a>

Will produce this result:

2017 July
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs.asp?filename=demo_querystring_query">Run example &raquo;</a>

Read more about the URL module in the <a href="https://www.w3schools.com/nodejs/nodejs_url.asp">Node.js URL 
Module</a> chapter.

<h4>Node.js File System Module</h4>

<h2>Node.js as a File Server</h2>
The Node.js file system module allow you to work with the file system on your 
computer.

To include the File System module, use the <code>
require()</code> method:

  
  var fs = require('fs');

Common use for the File System module:

  Read files
  Create files
  Update files
  Delete files
  Rename files

<h2>Read Files</h2>
The <code>fs.readFile()</code> method is used to read files on your computer.

Assume we have the following HTML file (located in the same folder as 
Node.js):

demofile1.html

  &lt;html&gt;<br>&lt;body&gt;<br>&lt;h1&gt;My Header&lt;/h1&gt;<br>&lt;p&gt;My paragraph.&lt;/p&gt;<br>&lt;/body&gt;<br>
  &lt;/html&gt;

Create a Node.js file that reads the HTML file, 
and return the content:

<h3>Example</h3>

  var http = require('http');<br>var fs = require('fs');<br>http.createServer(function 
  (req, res) {<br><strong>&nbsp; fs.readFile('demofile1.html', function(err, data) {<br>
  </strong>&nbsp;&nbsp;&nbsp; 
  res.writeHead(200, {'Content-Type': 'text/html'});<br>&nbsp;&nbsp;&nbsp; res.write(data);<br>&nbsp;&nbsp;&nbsp; 
  res.end();<br>&nbsp; });<br>}).listen(8080);
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs.asp?filename=demo_readfile">Run example &raquo;</a>

Save the code above in a file called &quot;demo_readfile.js&quot;, and initiate the 
file:

Initiate demo_readfile.js:

C:\Users\<em>Your Name</em>&gt;node demo_readfile.js

If you have followed the same steps on your computer, you will see the same 
result as the example: <a href="http://localhost:8080" target="_blank">http://localhost:8080</a>

    

<h2>Create Files</h2>
The File System module has methods for creating new files:

  <code>fs.appendFile()</code>
  <code>fs.open()</code>
  <code>fs.writeFile()</code>
The <code>fs.appendFile()</code> method appends specified content to a file. If the 
file does not exist, the file will be created:

<h3>Example</h3>
Create a new file using the appendFile() method:

  var fs = require('fs');<br><br>fs.appendFile('mynewfile1.txt', 'Hello 
  content!', function (err) {<br>&nbsp; if (err) throw err;<br>&nbsp; console.log('Saved!');<br>
  });
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs_cmd.asp?filename=demo_fs_append">Run example &raquo;</a>

The <code>fs.open()</code> method takes a &quot;flag&quot; as the second argument, if the 
flag is &quot;w&quot; for &quot;writing&quot;, the specified file is opened for writing. If the file 
does not exist, an empty file is created:

<h3>Example</h3>
Create a new, empty file using the open() method:

  var fs = require('fs');<br><br>fs.open('mynewfile2.txt', 'w', function (err, 
  file) {<br>&nbsp; if (err) throw err;<br>&nbsp; console.log('Saved!');<br>});
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs_cmd.asp?filename=demo_fs_open">Run example &raquo;</a>

The <code>fs.writeFile()</code> method replaces the specified file and content if it exists. 
If the file does not exist, a new file, containing the specified content, will 
be created:

<h3>Example</h3>
Create a new file using the writeFile() method:

  var fs = require('fs');<br><br>fs.writeFile('mynewfile3.txt', 'Hello 
  content!', function (err) {<br>&nbsp; if (err) throw err;<br>&nbsp; 
  console.log('Saved!');<br>});
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs_cmd.asp?filename=demo_fs_writefile">Run example &raquo;</a>

<h2>Update Files</h2>
The File System module has methods for updating files:

  <code>fs.appendFile()</code>
  <code>fs.writeFile()</code>
The <code>fs.appendFile()</code> method appends the specified content at the end of the specified file:

<h3>Example</h3>
Append &quot;This is my text.&quot; to the end of the file &quot;mynewfile1.txt&quot;:

  var fs = require('fs');<br><br>fs.appendFile('mynewfile1.txt', ' This is my 
  text.', function (err) {<br>&nbsp; if (err) throw err;<br>&nbsp; console.log('Updated!');<br>
  });
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs_cmd.asp?filename=demo_fs_update">Run example &raquo;</a>

The <code>fs.writeFile()</code> method replaces the specified file and content:

<h3>Example</h3>
Replace the content of the file "mynewfile3.txt":

  var fs = require('fs');<br><br>fs.writeFile('mynewfile3.txt', 'This is my text', function (err) {<br>&nbsp; if (err) throw err;<br>&nbsp; 
  console.log('Replaced!');<br>});
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs_cmd.asp?filename=demo_fs_replace">Run example &raquo;</a>

<h2>Delete Files</h2>
To delete a file with the File System module,&nbsp; use the <code>fs.unlink()</code> 
method.

The <code>fs.unlink()</code> method deletes the specified file:

<h3>Example</h3>
Delete &quot;mynewfile2.txt&quot;:

  var fs = require('fs');<br><br>fs.unlink('mynewfile2.txt', function (err) {<br>&nbsp; 
  if (err) throw err;<br>&nbsp; console.log('File deleted!');<br>});
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs_cmd.asp?filename=demo_fs_unlink">Run example &raquo;</a>

<h2>Rename Files</h2>
To rename a file with the File System module,&nbsp; use the <code>fs.rename()</code> 
method.

The <code>fs.rename()</code> method renames the specified file:

<h3>Example</h3>
Rename &quot;mynewfile1.txt&quot; to &quot;myrenamedfile.txt&quot;:

  var fs = require('fs');<br><br>fs.rename('mynewfile1.txt', 'myrenamedfile.txt', function (err) {<br>&nbsp; 
  if (err) throw err;<br>&nbsp; console.log('File Renamed!');<br>});
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs_cmd.asp?filename=demo_fs_rename">Run example &raquo;</a>

<h2>Upload Files</h2>
You can also use Node.js to upload files to your computer.

Read how in our <a href="https://www.w3schools.com/nodejs/nodejs_uploadfiles.asp">Node.js Upload Files</a> chapter.

<h4>Node.js URL Module</h4>

<h2>The Built-in URL Module</h2>
The URL module splits up a web address into readable parts.

To include the URL module, use the <code>require()</code> 
method:

  var url = require('url');

Parse an address with the <code>url.parse()</code> 
method, and it will return a URL object with each part of the address as 
properties:

<h3>Example</h3>
Split a web address into readable parts:

  
  var url = require('url');<br>
  var adr = 'http://localhost:8080/default.htm?year=2017&amp;month=february';<br>
  var q = url.parse(adr, true);<br><br>
  console.log(q.host); //returns 'localhost:8080'<br>
  console.log(q.pathname); //returns '/default.htm'<br>console.log(q.search); //returns '?year=2017&amp;month=february'<br><br>
  var qdata = q.query; //returns an object: { year: 2017, month: 'february' }<br>
  console.log(qdata.month); //returns 'february'<br>
  
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs_cmd.asp?filename=demo_url">Run example &raquo;</a>

<h2>Node.js File Server</h2>

Now we know how to parse the query string, and in the previous chapter we 
learned how to make Node.js behave as a file 
server. Let us combine the two, and serve the file requested by the client.

Create two html files and save them in the same folder as your node.js files.

summer.html

  &lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>&lt;body&gt;<br>&lt;h1&gt;Summer&lt;/h1&gt;<br>&lt;p&gt;I love 
  the sun!&lt;/p&gt;<br>&lt;/body&gt;<br>
  &lt;/html&gt;

winter.html

  &lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>&lt;body&gt;<br>&lt;h1&gt;Winter&lt;/h1&gt;<br>&lt;p&gt;I love 
  the snow!&lt;/p&gt;<br>&lt;/body&gt;<br>
  &lt;/html&gt;

    

Create a Node.js file that opens the requested file and returns the content 
to the client. If anything goes wrong, throw a 404 error:

demo_fileserver.js:

  
  var http = require('http');<br>var url = require('url');<br>var fs = require('fs');<br>
    <br>http.createServer(function 
  (req, res) {<br>&nbsp; var q = url.parse(req.url, true);<br>&nbsp; var 
    filename = &quot;.&quot; + q.pathname;<br>&nbsp; fs.readFile(filename, 
    function(err, data) {<br>&nbsp;&nbsp;&nbsp; if (err) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; res.writeHead(404, {'Content-Type': 'text/html'});<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
    return res.end(&quot;404 Not Found&quot;);<br>&nbsp;&nbsp;&nbsp; }&nbsp; <br>&nbsp;&nbsp;&nbsp; res.writeHead(200, {'Content-Type': 'text/html'});<br>&nbsp;&nbsp;&nbsp; res.write(data);<br>&nbsp;&nbsp;&nbsp; 
    return res.end();<br>&nbsp; });<br>}).listen(8080);

Remember to initiate the file:

Initiate demo_fileserver.js:

C:\Users\<em>Your Name</em>&gt;node demo_fileserver.js

If you have followed the same steps on your computer, you should see two 
different results when opening these two addresses:

<a href="http://localhost:8080/summer.html" target="_blank">http://localhost:8080/summer.html</a>

Will produce this result:

<h5>Summer</h5>
I love the sun!

<a href="http://localhost:8080/winter.html" target="_blank">http://localhost:8080/winter.html</a>

Will produce this result:

<h5>Winter</h5>
I love the snow!

<h4>Node.js NPM</h4>
<h2>What is NPM?</h2>
NPM is a package manager for Node.js packages, or modules if you like.

<a href="https://www.w3schools.com/nodejs/https://www.npmjs.com" target="_blank">www.npmjs.com</a> hosts thousands of 
free packages to download and use.

The NPM program is installed on your computer when you install Node.js

  NPM is already ready to run on your computer!

<h2>What is a Package?</h2>
A package in Node.js contains all the files you need for a module.

Modules are JavaScript libraries you can include in your project.

<h2>Download a Package</h2>
Downloading a package is very easy.

Open the command line interface and tell NPM to download the package you want.

I want to download a package called "upper-case":

Download "upper-case":

C:\Users\<em>Your Name</em>&gt;npm install upper-case

Now you have downloaded and installed your first package!

NPM creates a folder named &quot;node_modules&quot;, where the package will be placed. 
All packages you install in the future will be 
placed in this folder.

My project now has a folder structure like this:

<code>C:\Users\<em>My Name</em>\node_modules\upper-case</code>

    

<h2>Using a Package</h2>
Once the package is installed, it is ready to use.

Include the &quot;upper-case&quot; package the same way you include any other 
module:

  var uc = require('upper-case');

Create a Node.js file that will convert the output "Hello World!" into upper-case letters:

<h3>Example</h3>

  var http = require('http');<br>var uc = require('upper-case');<br>http.createServer(function 
  (req, res) {<br>&nbsp;&nbsp;&nbsp; 
  res.writeHead(200, {'Content-Type': 'text/html'});<br>&nbsp;&nbsp;&nbsp; res.write(<strong>uc(&quot;Hello 
  World!&quot;)</strong>);<br>&nbsp;&nbsp;&nbsp; 
  res.end();<br>}).listen(8080);
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs.asp?filename=demo_uppercase">Run example &raquo;</a>

Save the code above in a file called "demo_uppercase.js", and initiate the file:

Initiate demo_uppercase:

C:\Users\<em>Your Name</em>&gt;node demo_uppercase.js

If you have followed the same steps on your computer, you will see the same result as the example: <a href="http://localhost:8080" target="_blank">http://localhost:8080</a>

<h4>Node.js Events</h4>
Node.js is perfect for event-driven applications.

<h2>Events in Node.js</h2>
Every action on a computer is an event. Like when a connection is made or a 
file is opened.

Objects in Node.js can fire events, like the readStream object fires 
events when opening and closing a file:

<h3>Example</h3>

  var fs = require('fs');<br>var rs = fs.createReadStream('./demofile.txt');<br>
  rs.on('open', function () {<br>&nbsp; console.log('The file is open');<br>
  });
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs_cmd.asp?filename=demo_events_open">Run example &raquo;</a>

<h2>Events Module</h2>
Node.js has a 
built-in module, called &quot;Events&quot;, where you can create-, fire-, and listen for- your own 
events.

To include the built-in Events module use the <code>require()</code> 
method. In addition, all event properties and methods are an instance of an 
EventEmitter object. To be able to access these properties and methods, create 
an EventEmitter object:

  var events = require('events');<br>var eventEmitter = new events.EventEmitter();

<h2>The EventEmitter Object</h2>
You can assign event handlers to your own events with the EventEmitter 
object.

In the example below we have created a function that will be 
executed when a &quot;scream&quot; event is fired.

To fire an event, use the <code>emit()</code> method.

<h3>Example</h3>

  var events = require('events');<br>var eventEmitter = new events.EventEmitter();<br>
  <br>//Create an event handler:<br>var myEventHandler = function () {<br>&nbsp; 
  console.log('I hear a scream!');<br>}<br><br>//Assign the event handler to an 
  event:<br>eventEmitter.on('scream', myEventHandler);<br><br>//Fire the 
  'scream' event:<br>eventEmitter.emit('scream');<br>
<a target="_blank" href="https://www.w3schools.com/nodejs/shownodejs_cmd.asp?filename=demo_eventemitter">Run example &raquo;</a>

<h4>Node.js Upload Files</h4>

<h2>The Formidable Module</h2>
There is a very good module for working with file uploads, called &quot;Formidable&quot;.

The Formidable module can be downloaded and installed using NPM:

C:\Users\<em>Your Name</em>&gt;npm install formidable

After you have downloaded the Formidable module, you can include the module 
in any application:

  var formidable = require('formidable');

<h2>Upload Files</h2>
Now you are ready to make a web page in Node.js that lets the user upload 
files to your computer:

<h2>Step 1: Create an Upload Form</h2>
Create a Node.js file that writes an HTML form, with an upload field:

<h3>Example</h3>
This code will produce an HTML form:

  var http = require('http');<br><br>http.createServer(function 
  (req, res) {<br>&nbsp; res.writeHead(200, {'Content-Type': 'text/html'});<br>&nbsp; res.write('&lt;form 
  action=&quot;fileupload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;');<br>&nbsp; res.write('&lt;input 
  type=&quot;file&quot; name=&quot;filetoupload&quot;&gt;&lt;br&gt;');<br>&nbsp; res.write('&lt;input 
  type=&quot;submit&quot;&gt;');<br>&nbsp; res.write('&lt;/form&gt;');<br>&nbsp; 
  return res.end();<br>}).listen(8080);

<h2>Step 2: Parse the Uploaded File</h2>
Include the Formidable module to be able to parse the uploaded file once it 
reaches the server.

When the file is uploaded and parsed, it gets placed on a temporary folder on your computer.

<h3>Example</h3>
The file will be uploaded, and placed on a temporary folder:

  
  var http = require('http');<br><strong>var formidable = require('formidable');<br>
    </strong><br>http.createServer(function 
  (req, res) {<br><strong>&nbsp; if (req.url == '/fileupload') {<br>&nbsp;&nbsp;&nbsp; 
  var form = new formidable.IncomingForm();<br>&nbsp;&nbsp;&nbsp; form.parse(req, 
  function (err, fields, files) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; res.write('File 
  uploaded');<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; res.end();<br>&nbsp;&nbsp;&nbsp; });<br>
    </strong>&nbsp; 
  } else {<br>&nbsp; &nbsp; res.writeHead(200, {'Content-Type': 'text/html'});<br>&nbsp; &nbsp; res.write('&lt;form 
  action=&quot;fileupload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;');<br>&nbsp; &nbsp; res.write('&lt;input 
  type=&quot;file&quot; name=&quot;filetoupload&quot;&gt;&lt;br&gt;');<br>&nbsp; &nbsp; res.write('&lt;input 
  type=&quot;submit&quot;&gt;');<br>&nbsp; &nbsp; res.write('&lt;/form&gt;');<br>&nbsp; &nbsp; 
  return res.end();<br>&nbsp; }<br>}).listen(8080);

    

<h2>Step 3: Save the File</h2>
When a file is successfully uploaded to the server, it is placed on a 
temporary folder.

The path to this directory can be found in the &quot;files&quot; object, passed as the 
third argument in the <code>parse()</code> method's callback function.

To move the file to the folder of your choice, use the File System module, 
and rename the file:

<h3>Example</h3>
Include the fs module, and move the file to the current folder:

  var http = require('http');<br>var formidable = require('formidable');<br>
  <strong>var fs = require('fs');<br></strong><br>http.createServer(function 
  (req, res) {<br>&nbsp; if (req.url == '/fileupload') {<br>&nbsp;&nbsp;&nbsp; 
  var form = new formidable.IncomingForm();<br>&nbsp;&nbsp;&nbsp; form.parse(req, 
  function (err, fields, files) {<br><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var 
  oldpath = files.filetoupload.path;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var 
  newpath = 'C:/Users/<em>Your Name</em>/' + files.filetoupload.name;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  fs.rename(oldpath, newpath, function (err) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (err) throw 
  err;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; res.write('File uploaded 
  and moved!');<br>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; res.end();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  });<br></strong>&nbsp;});<br>&nbsp; 
  } else {<br>&nbsp; &nbsp; res.writeHead(200, {'Content-Type': 'text/html'});<br>&nbsp; &nbsp; res.write('&lt;form 
  action=&quot;fileupload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;');<br>&nbsp; &nbsp; res.write('&lt;input 
  type=&quot;file&quot; name=&quot;filetoupload&quot;&gt;&lt;br&gt;');<br>&nbsp; &nbsp; res.write('&lt;input 
  type=&quot;submit&quot;&gt;');<br>&nbsp; &nbsp; res.write('&lt;/form&gt;');<br>&nbsp; &nbsp; 
  return res.end();<br>&nbsp; }<br>}).listen(8080);

<h4>Node.js Send an Email</h4>

<h2>The Nodemailer Module</h2>
The Nodemailer module makes it easy to send emails from your computer.

The Nodemailer module can be downloaded and installed using npm:

C:\Users\<em>Your Name</em>&gt;npm install nodemailer

After you have downloaded the Nodemailer module, you can include the module 
in any application:

  var nodemailer = require('nodemailer');

<h2>Send an Email</h2>
Now you are ready to send emails from your server.

Use the username and password from your selected email provider to send an 
email. This tutorial will show you how to use your Gmail account to send an 
email:

<h3>Example</h3>

  var nodemailer = require('nodemailer');<br><br>var transporter = 
  nodemailer.createTransport({<br>&nbsp; service: 'gmail',<br>&nbsp; auth: {<br>&nbsp;&nbsp;&nbsp; 
  user: '<em>youremail@gmail.com</em>',<br>&nbsp;&nbsp;&nbsp; 
  pass: '<em>yourpassword</em>'<br>&nbsp; }<br>});<br><br>var mailOptions = {<br>&nbsp; 
  from: '<em>youremail@gmail.com</em>',<br>&nbsp; 
  to: '<em>myfriend@yahoo.com</em>',<br>&nbsp; subject: 'Sending Email using Node.js',<br>&nbsp; text: 
  'That was easy!'<br>};<br><br>transporter.sendMail(mailOptions, 
  function(error, info){<br>&nbsp; if (error) {<br>&nbsp;&nbsp;&nbsp; console.log(error);<br>&nbsp; } else {<br>
  &nbsp;&nbsp;&nbsp;
  console.log('Email sent: ' + info.response);<br>&nbsp; }<br>});

And that's it! Now your server is able to send emails.

    

<h2>Multiple Receivers</h2>

To send an email to more than one receiver, add them to the "to" property of the mailOptions object, separated by a comma:

<h3>Example</h3>
Send email to more than one address:

  var mailOptions = {<br>&nbsp; 
  from: '<em>youremail</em>@gmail.com',<br><strong>&nbsp; 
  to: </strong>'<em><strong>myfriend@yahoo.com</strong></em><strong>, </strong> <em>
  <strong>myotherfriend@yahoo.com</strong></em><strong>',<br>
  </strong>&nbsp; subject: 'Sending Email using Node.js',<br>&nbsp; text: 
'That was easy!'<br>}

<h2>Send HTML</h2>

To send HTML formatted text in your email, use the &quot;html&quot; property instead of 
the &quot;text&quot; property:

<h3>Example</h3>
Send email containing HTML:

  var mailOptions = {<br>&nbsp; 
  from: '<em>youremail</em>@gmail.com',<br>&nbsp; 
  to: '<em>myfriend@yahoo.com</em>',<br>
&nbsp; subject: 'Sending Email using Node.js',<br><strong>&nbsp; html: 
'&lt;h1&gt;Welcome&lt;/h1&gt;&lt;p&gt;That was easy!&lt;/p&gt;'<br></strong>}

<br>
<br>
<br>
<br>

<script type='text/javascript' src='readbook.js'></script>
</pre></body></html>