<base target="_blank"><html><head><title>statologyContents 10</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://williamkpchan.github.io/maincss.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script src="https://williamkpchan.github.io/lazyload.min.js"></script>
<script src='https://williamkpchan.github.io/mainscript.js'></script>
<script src="https://williamkpchan.github.io/commonfunctions.js"></script>
<script>
  var showTopicNumber = true;
  var topicEnd = "<br>";
  var bookid = "statologyContents 10"
  var markerName = "h2, h3"
</script>
<style>
body{width:70%;margin-left: 15%; font-size:20px;}
h1, h2 {color: gold;}
strong {color: orange;}
b {color: brown;}
img {max-width:60%; display: inline-block; margin-top: 2%;margin-bottom: 1%; border-radius:3px;}
</style></head><body onkeypress="chkKey()"><center>
<h1>statologyContents 10</h1>
<a href="#mustWatch" class="red goldbs" target="_self">Must Watch!</a><br><br>
<div id="toc"></div></center><br><br>
<div id="mustWatch"><center><span class="red">MustWatch</span></center><br></div>
<pre><br><br>
<h2><span class="orange">How to Calculate Mean Absolute Percentage Error (MAPE) in Excel</span></h2>
One of the most common metrics used to measure the forecasting accuracy of a model is <b>MAPE</b>, which stands for <b>mean absolute percentage error</b>. 
The formula to calculate MAPE is as follows:
<b>MAPE</b> = (1/n) * Σ(|actual – forecast| / |actual|) * 100
where:
<b>Σ</b> – a fancy symbol that means “sum”
<b>n</b> – sample size
<b>actual</b> – the actual data value
<b>forecast</b> – the forecasted data value
MAPE is commonly used because it’s easy to interpret and easy to explain. For example, a MAPE value of 11.5% means that the average difference between the forecasted value and the actual value is 11.5%.
The lower the value for MAPE, the better a model is able to forecast values. For example, a model with a MAPE of 2% is more accurate than a model with a MAPE of 10%. 
<h2>How to Calculate MAPE in Excel</h2>
To calculate MAPE in Excel, we can perform the following steps:
<b>Step 1: Enter the actual values and forecasted values in two separate columns.</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/02/mape1.png">
<b>Step 2: Calculate the absolute percent error for each row.</b>
Recall that the absolute percent error is calculated as: |actual-forecast| / |actual| * 100. We will use this formula to calculate the absolute percent error for each row.
Column D displays the absolute percent error and Column E shows the formula we used:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/02/mape2-1.png">
We will repeat this formula for each row:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/02/mape3.png">
<b>Step 3: Calculate the mean absolute percent error.</b>
Calculate MAPE by simply finding the average of the values in column D:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/02/mape4.png">
The MAPE of this model turns out to be <b>6.47%</b>.
<h3>A Note On Using MAPE</h3>
Although MAPE is straightforward to calculate and easy to interpret, there are a couple potential drawbacks to using it:
<b>1. </b>Since the formula to calculate absolute percent error is |actual-forecast| / |actual| this means that it will be undefined if any of the actual values are zero.
<b>2. </b>MAPE should not be used with low volume data. For example, if the actual demand for some item is 2 and the forecast is 1, the value for the absolute percent error will be |2-1| / |2| = 50%, which makes it seem like the forecast error is quite high, despite the forecast only being off by one unit.
<em>Another common way to measure the forecasting accuracy of a model is MAD – mean absolute deviation. Read about how to calculate MAD in Excel  here .</em>
<h2><span class="orange">How to Calculate MAPE in Python</span></h2>
The <b>mean absolute percentage error (MAPE) </b>is commonly used to measure the predictive accuracy of models. It is calculated as:
<b>MAPE</b> = (1/n) * Σ(|actual – prediction| / |actual|) * 100
where:
<b>Σ</b> – a symbol that means “sum”
<b>n</b> – sample size
<b>actual</b> – the actual data value
<b>prediction</b> – the predicted data value
MAPE is commonly used because it’s easy to interpret and easy to explain. For example, a MAPE value of 11.5% means that the average difference between the predicted value and the actual value is 11.5%.
The lower the value for MAPE, the better a model is able to predict values. For example, a model with a MAPE of 5% is more accurate than a model with a MAPE of 10%. 
<h3>How to Calculate MAPE in Python</h3>
There is no built-in Python function to calculate MAPE, but we can create a simple function to do so:
<b>import numpy as np
def mape(actual, pred): 
    actual, pred = np.array(actual), np.array(pred)
    return np.mean(np.abs((actual - pred) / actual)) * 100
</b>
We can then use this function to calculate the MAPE for two arrays: one that contains the actual data values and one that contains the predicted data values.
<b>actual = [12, 13, 14, 15, 15,22, 27]
pred = [11, 13, 14, 14, 15, 16, 18]
mape(actual, pred)
10.8009
</b>
 From the results we can see that the mean absolute percentage error for this model is <b>10.8009%</b>. In other words, the average difference between the predicted value and the actual value is 10.8009%.
<h3>Cautions on Using MAPE</h3>
Although MAPE is easy to calculate and interpret, there are two potential drawbacks to using it:
<b>1. </b>Since the formula to calculate absolute percent error is |actual-prediction| / |actual| this means that MAPE will be undefined if any of the actual values are zero.
<b>2. </b>MAPE should not be used with low volume data. For example, if the actual demand for some item is 2 and the forecast is 1, the value for the absolute percent error will be |2-1| / |2| = 50%, which makes it seem like the forecast error is quite high, despite the forecast only being off by one unit.
<h2><span class="orange">How to Calculate MAPE in R</span></h2>
One of the most common metrics used to measure the forecasting accuracy of a model is <b>MAPE</b>, which stands for <b>mean absolute percentage error</b>.
The formula to calculate MAPE is as follows:
<b>MAPE</b> = (1/n) * Σ(|actual – forecast| / |actual|) * 100
where:
<b>Σ</b> – a fancy symbol that means “sum”
<b>n</b> – sample size
<b>actual</b> – the actual data value
<b>forecast</b> – the forecasted data value
MAPE is commonly used because it’s easy to interpret and explain. For example, a MAPE value of 6% means that the average difference between the forecasted value and the actual value is 6%.
This tutorial provides two different methods you can use to calculate MAPE in R.
<h3>Method 1: Write Your Own Function</h3>
Suppose we have a dataset with one column that contains the actual data values and one column that contains the forecasted data values:
<b>#create dataset
data &lt;- data.frame(actual=c(34, 37, 44, 47, 48, 48, 46, 43, 32, 27, 26, 24),   forecast=c(37, 40, 46, 44, 46, 50, 45, 44, 34, 30, 22, 23))
#view dataset
data
   actual forecast
1      34       37
2      37       40
3      44       46
4      47       44
5      48       46
6      48       50
7      46       45
8      43       44
9      32       34
10     27       30
11     26       22
12     24       23
</b>
To compute the MAPE, we can use the following function:
<b>#calculate MAPE
mean(abs((data$actual-data$forecast)/data$actual)) * 100
[1] 6.467108
</b>
The MAPE for this model turns out to be <b>6.467%</b>. That is, the average absolute difference between the forecasted value and the actual value is 6.467%.
<h3>Method 2: Use a Package</h3>
We could also calculate MAPE for the same dataset using the <b>MAPE()</b> function from the <b>MLmetrics</b> package, which uses the following syntax:
<b>MAPE(y_pred, y_true)</b>
where:
<b>y_pred: </b>predicted values
<b>y_true: </b>actual values
Here is the syntax we would use in our example:
<b>#load MLmetrics package
library(MLmetrics)
#calculate MAPE
MAPE(data$forecast, data$actual)
[1] 0.06467108</b>
This produces the same MAPE value of <b>6.467% </b>that we calculated using the previous method.
<h2><span class="orange">How to Find Margin of Error on a TI-84 Calculator</span></h2>
Often in statistics we use  confidence intervals  to estimate the value of a  population parameter  with a certain level of confidence.
Every confidence interval takes on the following form:
Confidence Interval = [lower bound, upper bound]
The <b>margin of error</b> is equal to half the width of the entire confidence interval.
For example, suppose we have the following confidence interval for a population proportion:
95% confidence interval = [0.34, 0.46]
The width of the confidence interval is 0.46 – 0.34 = 0.12. The margin of error is equal to half the width, which would be 0.12 / 2 = <b>0.6</b>.
The following examples show how to calculate the margin of error for confidence intervals on a TI-84 calculator.
<h3>Example 1: Margin of Error for a Population Mean</h3>
Suppose you would like to calculate the margin of error for a 95% confidence interval that estimates a population mean with the following information:
<b>x:</b> 30.4
<b>s:</b> 4.5
<b>n:</b> 50
To calculate the confidence interval for the population mean, press STAT and then scroll over to the right and press TESTS. Then press 7:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/marg1.png">
Next, type in the following information and then press CALCULATE:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/marg2.png">
The confidence interval turns out to be <b>(29.153, 31.647)</b>:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/marg3.png">
The margin of error would be equal to half the width of this confidence interval, which would be:
<b>Margin of error:</b> (31.647 – 29.153) / 2 = <b>1.247</b>
<h3>Example 2: Margin of Error for a Population Proportion</h3>
Suppose you would like to calculate the margin of error for a 95% confidence interval that estimates a population proportion with the following information:
<b>x:</b> 42
<b>n:</b> 90
To calculate the confidence interval for the population mean, press STAT and then scroll over to the right and press TESTS. Then scroll down to press 1-PropZInt and press ENTER.
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/marg4.png">
Next, type in the following information and then press CALCULATE:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/marg5.png">
The confidence interval turns out to be <b>(.3636, .56974)</b>:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/marg6.png">
The margin of error would be equal to half the width of this confidence interval, which would be:
<b>Margin of error:</b> (.56974 – .3636) / 2 = <b>.10307</b>
<h2><span class="orange">Margin of Error vs. Confidence Interval: What’s the Difference?</span></h2>
Often in statistics we use  confidence intervals  to estimate the value of a  population parameter  with a certain level of confidence.
Every confidence interval takes on the following form:
Confidence Interval = [lower bound, upper bound]
The <b>margin of error</b> is equal to half the width of the entire confidence interval.
For example, suppose we have the following confidence interval for a population mean:
95% confidence interval = [12.5, 18.5]
The width of the confidence interval is 18.5 – 12.5 = 6. The margin of error is equal to half the width, which would be 6/2 = <b>3</b>.
The following examples show how to calculate a confidence interval along with the margin of error for several different scenarios.
<h3>Example 1: Confidence Interval & Margin of Error for Population Mean</h3>
We use the following formula to calculate a confidence interval for a population mean:
<b>Confidence Interval = x  +/-  z*(s/√n)</b>
where:
<b>x: </b>sample mean
<b>z: </b>the z-critical value
<b>s: </b>sample standard deviation
<b>n: </b>sample size
<b>Example: </b>Suppose we collect a random sample of dolphins with the following information:
Sample size <b>n = 40</b>
Sample mean weight <b>x = 300</b>
Sample standard deviation <b>s = 18.5</b>
We can plug these numbers into the  Confidence Interval Calculator  to find the 95% confidence interval:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/mar1.png">
The 95% confidence interval for the true population mean weight of turtles is <b>[294.267, 305.733]</b>.
The margin of error would be equal to half the width of the confidence interval, which is equal to:
Margin of Error: (305.733 – 294.267) / 2 = <b>5.733</b>.
<h3>Example 2: Confidence Interval & Margin of Error for Population Proportion</h3>
We use the following formula to calculate a confidence interval for a population proportion:
<b>Confidence Interval = p  +/-  z*(√p(1-p) / n)</b>
where:
<b>p: </b>sample proportion
<b>z: </b>the chosen z-value
<b>n: </b>sample size
<b>Example: </b>Suppose we want to estimate the proportion of residents in a county that are in favor of a certain law. We select a random sample of 100 residents and ask them about their stance on the law. Here are the results:
Sample size <b>n = 100</b>
Proportion in favor of law <b>p = 0.56</b>
We can plug these numbers into the  Confidence Interval for a Proportion Calculator  to find the 95% confidence interval:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/mar2.png">
The 95% confidence interval for the true population proportion is <b>[.4627, .6573]</b>.
The margin of error would be equal to half the width of the confidence interval, which is equal to:
Margin of Error: (.6573 – .4627) / 2 = <b>.0973</b>.
<h2><span class="orange">Margin of Error vs. Standard Error: What’s the Difference?</span></h2>
Two terms that students often confuse in statistics are <b>standard error </b>and <b>margin of error</b>.
The <b>standard error </b>measures the preciseness of an estimate of a population mean. It is calculated as:
<b>Standard Error = s / √n</b>
where:
<b>s: </b>Sample standard deviation
<b>n: </b>Sample size
The <b>margin of error </b>measures the half-width of a  confidence interval for a population mean . It is calculated as:
<b>Margin of Error = z*(s/√n)</b>
where:
<b>z: </b>Z value that corresponds to a given confidence level
<b>s: </b>Sample standard deviation
<b>n: </b>Sample size
Let’s check out an example to illustrate this idea.
<h3>Example: Margin of Error vs. Standard Error</h3>
Suppose we collect a random sample of turtles with the following information:
Sample size <b>n = 25</b>
Sample mean weight <b>x = 300</b>
Sample standard deviation <b>s = 18.5</b>
Now suppose we’d like to create a 95% confidence interval for the true population mean weight of turtles. The formula to calculate this confidence interval is as follows:
<b>Confidence Interval = x  +/-  z*(s/√n)</b>
where:
<b>x: </b>Sample mean
<b>s: </b>Sample standard deviation
<b>n: </b>Sample size
<b>z: </b>Z value that corresponds to a given confidence level
The z-value that you will use is dependent on the confidence level that you choose. The following table shows the z-value that corresponds to popular confidence level choices:
<table><tbody>
<tr>
<th><b>Confidence Level</b></th>
<th><b>z-value</b></th>
</tr>
<tr>
<td>0.90</td>
<td>1.645</td>
</tr>
<tr>
<td>0.95</td>
<td>1.96</td>
</tr>
<tr>
<td>0.99</td>
<td>2.58</td>
</tr>
</tbody></table>
Notice that higher confidence levels correspond to larger z-values, which leads to wider confidence intervals. This means that, for example, a 99% confidence interval will be wider than a 95% confidence interval for the same set of data.
The <b>standard error</b> would be calculated as:
<b>Standard error</b> = s/√n = 18.5/√25 = <b>3.7</b>
The <b>margin of error </b>would be calculated as
<b>Margin of error</b> = z*(s/√n) = 1.96*(18.5/√25) = <b>7.25</b>
And the 95% confidence interval would be calculated as
<b>95% Confidence Interval</b> =  x +/- z*(s/√n) = 300 +/- 1.96*(18.5/√25) = <b>[292.75, 307.25]</b>
Note that the width of the entire confidence interval is 307.25 – 292.75 = <b>14.5</b>.
Note that the margin of error is equal to half of this width: 14.5 / 2 = <b>7.25</b>.
Note also that the margin of error will always be larger than the standard error simply because the margin of error is equal to the standard error multiplied by some critical Z value. In the previous example, we multiplied the standard error by 1.96 to obtain the margin of error.
<h2><span class="orange">What is a Marginal Distribution?</span></h2>
A <b>two-way frequency table</b> is a table that displays the frequencies (or “counts”) for two categorical variables.
For example, the following two-way table shows the results of a survey that asked 100 people which sport they liked best: baseball, basketball, or football.
The rows display the gender of the respondent and the columns show which sport they chose:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/12/marginal1.png">
In this example, there are two variables: Sports and Gender.
A <b>marginal distribution</b> is simply the distribution of each of these individual variables. In a two-way table, the marginal distributions are shown in the <b>margins</b> of the table:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/12/marginal2.png">
For example, we would say that the marginal distribution of sports is:
<b>Baseball:</b> 36
<b>Basketball:</b> 31
<b>Football:</b> 33
We could also write the marginal distribution of sports in percentage terms (i.e. out of the total of 100 respondents):
<b>Baseball: </b>36 / 100 = 36%
<b>Basketball:</b> 31 / 100 = 31%
<b>Football:</b> 33 / 100 = 33%
And we would say that the marginal distribution of gender is:
<b>Male:</b> 48 (or 48%)
<b>Female:</b> 52 (or 52%)
<em><b>Note:</b> Marginal distributions always add up to 100%.</em>
<h3>Why Use Marginal Distributions?</h3>
Marginal distributions are useful because although we often collect data for two variables (like Sports and Gender), sometimes we have specific questions about just one variable.
For example, we might want to know the distribution of survey respondents based purely on gender.
In this case, we could use the marginal distribution to find out that 48% of respondents were male and 52% of respondents were female.
Use the following examples as practice for gaining a better understanding of marginal distributions.
<h3>Example 1: Marginal Distributions for Percentages</h3>
The following two-way table shows the results of a survey that asked 238 people which movie genre they liked best:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/12/marginal3.png">
<b>Question:</b> What is the marginal distribution for movie genre (in percentages)?
<b>Answer:</b> The marginal distribution for movie genre is:
<b>Fantasy:</b> 47/238 = 19.7%
<b>Drama:</b> 88/238 = 37%
<b>Action:</b> 103/238 = 43.3%
<b>Question:</b> What is the marginal distribution for gender (in percentages)?
<b>Answer:</b> The marginal distribution for gender is:
<b>Male:</b> 122/238 = 51.3%
<b>Female:</b> 116/238 = 48.7%
<h3>Example 2: Marginal Distributions for Counts</h3>
The following two-way table shows the exam scores of 64 students in a class based on how many hours they spent studying:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/12/marginal4.png">
<b>Question:</b> What is the marginal distribution for exam scores (in counts)?
<b>Answer:</b> The marginal distribution for exam scores is:
<b>71-80:</b> 22
<b>81-90:</b> 22
<b>91-100:</b> 20
<b>Question:</b> What is the marginal distribution for hours studied (in counts)?
<b>Answer:</b> The marginal distribution for hours studied is:
<b>1 Hour:</b> 14
<b>2 Hours:</b> 14
<b>3 Hours:</b> 16
<b>4 Hours:</b> 20
Notice that the total of the marginal distribution adds up to the table total of 64 students.
<h2><span class="orange">What is a Marginal Mean? (Definition & Example)</span></h2>
In a contingency table, the <b>marginal means</b> of one variable are the means for that variable averaged across every level of the other variable.
As the name implies, these means appear in the <b>margins</b> of the contingency table.
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/03/marginalMean9.png">
The following example shows how to calculate the marginal means for a given contingency table.
<h3>Example: Calculating Marginal Means</h3>
The following contingency table shows the average exam score of 100 students  who used three different studying techniques to prepare for the exam.
The rows display the gender of the student and the columns display which studying technique they used:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/03/marginalMean3.png">
The <b>marginal means of gender</b> are simply the means of each level of gender averaged across each level of studying technique.
For example, the marginal mean exam score of males is calculated as:
Marginal Mean of Males: (79.5 + 88.7 + 89.2) / 3 = <b>85.8</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/03/marginalMean4.png">
Similarly, the marginal mean exam score of females is calculated as:
Marginal Mean of Females: (88.3 + 87.7 + 90.6) / 3 = <b>88.87</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/03/marginalMean5.png">
The <b>marginal means of studying technique</b> are simply the means of each level of studying technique averaged across each level of gender.
For example, the marginal mean exam score of students who used technique 1 is calculated as:
Marginal Mean of Technique 1: (79.5 + 88.3) / 2 = <b>83.9</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/03/marginalMean6.png">
The marginal mean exam score of students who used technique 2 is calculated as:
Marginal Mean of Technique 2: (88.7 + 87.7) / 2 = <b>88.2</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/03/marginalMean7.png">
The marginal mean exam score of students who used technique 3 is calculated as:
Marginal Mean of Technique 3: (89.2 + 90.6) / 2 = <b>89.9</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/03/marginalMean8.png">
We can see that the marginal means for both variables appear in the <b>margins</b> of the contingency table:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/03/marginalMean9.png">
<h3>Why Use Marginal Means?</h3>
Marginal means are useful because they tell us the overall average value for a specific level of some variable.
For example, in the previous scenario we knew the following:
The mean exam score for males who used studying technique 1 was 79.5.
The mean exam score for males who used studying technique 2 was 88.7.
The mean exam score for males who used studying technique 3 was 89.2.
But what if we just wanted to know the overall mean score of males?
The marginal mean for males can answer this: The overall mean score of males was <b>85.8</b>.
In a similar fashion, we knew the following:
The mean exam score for males who used studying technique 1 was 79.5.
The mean exam score for females who used studying technique 1 was 88.3.
But what if we just wanted to know the overall mean score of students who used studying technique 1? 
The marginal mean for studying technique can answer this: The overall mean score of students who used studying technique 1 was <b>83.9</b>.
In essence, marginal means offer a simple way for us to understand the means for specific levels of variables.
<h2><span class="orange">How to Use match() Function in R (With Examples)</span></h2>
The <b>match()</b> function in R returns the position of the first match between two objects.
This function uses the following basic syntax:
<b>match(object1, object2)
</b>
The following examples show how to use this function in different scenarios.
<h3>Example 1: Match One Value in Vector</h3>
The following code shows how to use the <b>match()</b> function to find the first occurrence of a specific value in a vector:
<b>#define value to look for in vector
value &lt;- 10
#define vector of values
vector1 &lt;- c(8, 9, 1, 10, 13, 15)
#find first occurrence of 10
match(value, vector1)
[1] 4</b>
This tells us that the value 10 first occurs in the 4<sup>th</sup> position of the vector.
Note that if there are multiple values that match, only the position of the first match will be returned.
For example, the following vector has two values equal to 10 but only the position of the first 10 is returned:
<b>#define value to look for in vector
value &lt;- 10
#define vector of values with multiple '10' values
vector1 &lt;- c(8, 9, 1, 10, 10, 10)
#find first occurrence of 10
match(value, vector1)
[1] 4</b>
The value 10 occurs in positions 4, 5, and 6, but only position <b>4</b> is returned.
<h3>Example 2: Match Values in Two Vectors</h3>
The following code shows how to use the <b>match()</b> function to find the first occurrence of values in one vector in another vector:
<b>#define vectors of values
vector1 &lt;- c(1, 2, 3, 4, 5, 6)
vector2 &lt;- c(8, 6, 1, 10, 10, 15)
#find first occurrence of values in vector1 within vector2
match(vector1, vector2)
[1]  3 NA NA NA NA  2
</b>
Here’s how to interpret the output:
The first occurrence of the value 1 in vector1 occurs in position <b>3</b> of vector2.
The value 2 in vector1 never occurs in vector2.
The value 3 in vector1 never occurs in vector2.
The value 4 in vector1 never occurs in vector2.
The value 5 in vector1 never occurs in vector2.
The first occurrence of the value 6 in vector1 occurs in position <b>2</b> of vector2.
Note that we can also specify a different value to use in cases where there is no match.
For example, we could return a value of 0 instead of NA:
<b>#define vectors of values
vector1 &lt;- c(1, 2, 3, 4, 5, 6)
vector2 &lt;- c(8, 6, 1, 10, 10, 15)
#find first occurrence of values in vector1 within vector2
match(vector1, vector2, nomatch=0)
[1] 3 0 0 0 0 2
</b>
<h2><span class="orange">Matched Pairs Design: Definition + Examples</span></h2>
A <b>matched pairs design </b>is an experimental design that is used when an experiment only has two treatment conditions. The subjects in the experiment are grouped together into pairs based on some variable they “match” on, such as age or gender. Then, within each pair, subjects are randomly assigned to different treatments
<h3>Example of a Matched Pairs Design</h3>
Suppose researchers want to know how a new diet affects weight loss compared to a standard diet. Since this experiment only has two treatment conditions (new diet and standard diet), they can use a matched pairs design.
They recruit 100 subjects, then group the subjects into 50 pairs based on their age and gender. For example:
A 25-year-old male will be paired with another 25-year-old male, since they “match” in terms of age and gender.
A 30-year-old female will be paired with another 30-year-old female since they also match on age and gender, and so on.
Then, within each pair, one subject will randomly be assigned to follow the new diet for 30 days and the other subject will be assigned to follow the standard diet for 30 days. At the end of the 30 days, researchers will measure the total weight loss for each subject.
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/02/matchedpairs00.png">
<h3>Advantages & Disadvantages of a Matched Pairs Design</h3>
There are some notable advantages and some potential disadvantages of using a matched pairs design.
<b>Advantages:</b>
<b>1. Controls for lurking variables</b>.
A  lurking variable  is a variable that is not accounted for in an experiment that could potentially affect the outcomes of the experiment.
In the previous example, both age and gender can have a significant effect on weight loss. By matching subjects based on these two variables, we are eliminating the effect that these two variables could have on weight loss since we’re only comparing the weight loss between subjects who are identical in age and gender.
Thus, any difference in weight loss that we observe can be attributed to the diet, as opposed to age or gender.
<b>2. Eliminates order effect</b>.  Order effect  refers to differences in outcomes due to the order in which experimental materials are presented to subjects. By using a matched pairs design, you don’t have to worry about order effect since each subject only receives one treatment.
In our previous example, each subject in the experiment was only placed on one diet. If instead we made one subject use the standard diet for 30 days, then the new diet for 30 days, there could be an order effect due to the fact that the subject used one particular diet before the other.
<b>Disadvantages:</b>
<b>1. Losing two subjects if one drops out.</b> If one subject decides to drop out of the study, you actually lose two subjects since you no longer have a complete pair.
<b>2. Time-consuming to find matches</b>. It can be quite time-consuming to find subjects who match on certain variables, particularly if you use two or more variables. For example, it might not be hard to find 50 females to use as pairs, but it could be quite hard to find 50 female pairs in which each pair matches exactly on age.
<b>3. Impossible to match subjects perfectly</b>. No matter how hard researchers try, there will always be some variation within the subjects in each pair. The only way to match perfectly is to find identical twins who essentially share the same genetic code, which is actually why identical twins are often used in matched pairs studies.
<h3>Advantages of Using Ranges in a Matched Pairs Design</h3>
One way to make it slightly easier to find subjects that match is to use ranges for the variables you’re attempting to match on.
For example, instead of matching a 22-year-old with another 22-year old, researchers may instead create age ranges like 21-25, 26-30, 31-35, etc. so they can match one subject in the 21-25 age range with another subject in the 21-25 age range.
Using ranges has pros and cons. The obvious pro is that you can find matches more easily, but the con is that the subjects will match less precisely. For example, using the approach above it’s possible for a 21-year-old and a 25-year-old to be matched up, which is a rather notable difference in age. This is a trade-off that researchers must decide is worth or not in order to find pairs more easily.
<h2><span class="orange">How to Calculate the P-Value of a Z-Score in MATLAB</span></h2>
Often in statistics we’re interested in determining the  p-value  associated with a certain z-score that results from a  hypothesis test .
If this p-value is below some significance level, we can reject the null hypothesis of our hypothesis test.
To find the p-value associated with a z-score in MATLAB, we can use the <b>normcdf()</b> function, which uses the following syntax:
<b>normcdf(x)</b>
where:
<b>x: </b>The z-score
The following examples illustrate how to find the p-value associated with a z-score for a left-tailed test, right-tailed test, and a two-tailed test.
<h3>Left-Tailed Test</h3>
We can use the following code to find the p-value associated with a z-score of <b>-0.77</b> in a left-tailed hypothesis test:
<b>%find p-value for z-score = -0.77 in left-tailed test
normcdf(-0.77)
ans = 0.2206
</b>
The p-value is <b>0.2206</b>. If we use a significance level of α = 0.05, we would fail to reject the null hypothesis of our hypothesis test because this p-value is not less than 0.05.
<h3>Right-Tailed Test</h3>
We can use the following code to find the p-value associated with a z-score of <b>1.87</b> in a right-tailed hypothesis test.
<b>%find p-value for z-score = 1.87 in right-tailed test
1 - normcdf(1.87)
ans = 0.0307
</b>
The p-value is <b>0.0307</b>. If we use a significance level of α = 0.05, we would reject the null hypothesis of our hypothesis test because this p-value is less than 0.05.
<h3>Two-Tailed Test</h3>
Suppose we want to find the p-value associated with a z-score of <b>1.24</b> in a two-tailed hypothesis test.
<b>%find p-value for z-score = 1.24 in two-tailed test
(1-normcdf(1.24)) * 2
ans = 0.2150</b>
<b>Note</b>: To find this two-tailed p-value we simply multiplied the one-tailed p-value by two.
The p-value is <b>0.2150</b>. If we use a significance level of α = 0.05, we would fail to reject the null hypothesis of our hypothesis test because this p-value is not less than 0.05.
<b>Bonus: </b>You can also use this online  Z Score to P Value Calculator  to find p-values.
<h3>Additional Resources</h3>
The following tutorials provide additional information about hypothesis testing:
 Introduction to Hypothesis Testing 
 How to Identify a Left Tailed Test vs. a Right Tailed Test 
<h2><span class="orange">How to Use abline Function in Matplotlib</span></h2>
The  abline  function in R can be used to add a straight line to a plot.
Unfortunately this function doesn’t exist in Matplotlib, but we can define the following function to replicate the abline function in Python:
<b>import matplotlib.pyplot as plt
import numpy as np
def abline(slope, intercept):
    axes = plt.gca()
    x_vals = np.array(axes.get_xlim())
    y_vals = intercept + slope * x_vals
    plt.plot(x_vals, y_vals, '--')
</b>
The following examples show how to use this syntax in practice with the following pandas DataFrame:
<b>import pandas as pd
#create DataFrame
df = pd.DataFrame({'x': [1, 1, 2, 3, 4, 4, 5, 6, 7, 7, 8, 9, 10, 11],   'y': [13, 14, 17, 12, 23, 24, 25, 25, 24, 28, 32, 33, 35, 40]})
#view first five rows of DataFrame
df.head()
xy
0113
1114
2217
3312
4423</b>
<h3>Example 1: Use abline to Plot Horizontal Line</h3>
We can use the following code to plot a horizontal line with the <b>abline</b> function defined earlier:
<b>#create scatterplot
plt.scatter(df.x, df.y)
#add horizontal line at y=30
abline(0, 30)    </b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/03/abline1.jpg"566">
The result is a horizontal line at y=30.
<h3>Example 2: Use abline to Plot Line with Specific Slope & Intercept</h3>
We can use the following code to plot a straight line with a slope of <b>3</b> and an intercept of <b>15</b>:
<b>#create scatterplot
plt.scatter(df.x, df.y)
#add straight line with slope=3 and intercept=15
abline(3, 15)    </b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/03/abline3.jpg"541">
The result is a straight line with a slope of 3 and an intercept of 15.
<h3>Example 3: Use abline to Plot Regression Line</h3>
We can use the following code to plot a regression line with the <b>abline</b> function defined earlier:
<b>#calculate slope and intercept of regression line
slope = np.polyfit(df.x, df.y,1)[0]
intercept = np.polyfit(df.x, df.y,1)[1]
#create scatterplot
plt.scatter(df.x, df.y)
#add regression line
abline(slope, intercept)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/03/abline2.jpg"544">
The result is a fitted regression line that runs directly through the points in the plot.
<b>Note</b>: You can find the complete documentation for the <b>polyfit</b> function in NumPy  here .
<h2><span class="orange">How to Add Text to Matplotlib Plots (With Examples)</span></h2>
You can easily add text to a Matplotlib plot by using the  matplotlib.pyplot.text()  function, which uses the following syntax:
<b>matplotlib.pyplot.text(x, y, s, fontdict=None)</b>
where:
<b>x:</b> The x-coordinate of the text
<b>y:</b> The y-coordinate of the text
<b>s:</b> The string of text
<b>fontdict:</b> A dictionary to override the default text properties 
This tutorial shows several examples of how to use this function in practice.
<h3>Example 1: Add a Single Text to a Matplotlib Plot</h3>
The following code shows how to create a scatterplot and add a single piece of text to the plot:
<b>import matplotlib.pyplot as plt
#create data
x = [3, 6, 8, 12, 14]
y = [4, 9, 14, 12, 9]
#create scatterplot
plt.scatter(x, y)
#add text at (x, y) coordinates = (6, 9.5)
plt.text(6, 9.5, 'Here we go')
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/text1.png">
<h3>Example 2: Add Multiple Texts to a Matplotlib Plot</h3>
The following code shows how to create a scatterplot and add multiple pieces of text to the plot:
<b>import matplotlib.pyplot as plt
#create data
x = [3, 6, 8, 12, 14]
y = [4, 9, 14, 12, 9]
#create scatterplot
plt.scatter(x, y)
#add text at (x, y) coordinates = (6, 9.5)
plt.text(6, 9.5, 'A piece of text')
#add another piece of text
plt.text(8, 13, 'Another piece of text')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/text2.png">
<h3>Example 3: Modify the Text Properties</h3>
To modify the text properties, we can create a dictionary that specifies the font properties.
The following code shows how to do so:
<b>import matplotlib.pyplot as plt
#create data
x = [3, 6, 8, 12, 14]
y = [4, 9, 14, 12, 9]
#create scatterplot
plt.scatter(x, y)
font = {'family': 'serif',
        'color':  'red',
        'weight': 'bold',
        'size': 20
        }
#add text with custom font
plt.text(6, 9.5, 'A piece of text', fontdict=font)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/text3.png">
<h3>Example 4: Add a Box Around the Text</h3>
The following code shows how to add a box around the text:
<b>import matplotlib.pyplot as plt
#create data
x = [3, 6, 8, 12, 14]
y = [4, 9, 14, 12, 9]
#create scatterplot
plt.scatter(x, y)
font = {'family': 'serif',
        'color':  'red',
        'weight': 'bold',
        'size': 20
        }
box = {'facecolor': 'none',
       'edgecolor': 'green',
       'boxstyle': 'round'
      }
#add text with custom font
plt.text(6, 9.5, 'A piece of text', fontdict=font, bbox=box)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/text4.png">
<h2><span class="orange">How to Add Titles to Plots in Matplotlib</span></h2>
You can use the following syntax to add a title to a plot in Matplotlib:
<b>plt.title('My Title')
</b>
The following examples show how to use this syntax in practice.
<h3>Example 1: Add Title to Plot</h3>
The following code shows how to add a title to a plot in Matplotlib:
<b>import matplotlib.pyplot as plt
#define x and y
x = [1, 4, 10]
y = [5, 11, 27]
#create plot of x and y
plt.plot(x, y)
#add title
plt.title('My Title')
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/title1.png">
Note that you can also use the <b>fontsize</b> and <b>loc</b> arguments to specify the font size and location of the title, respectively:
<b>plt.title('My Title', fontsize=30, loc='left')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/title2.png">
<h3>Example 2: Add Title to Subplots</h3>
The following code shows how to use the <b>set_title(</b>) function to specify titles for individual subplots in Matplotlib:
<b>import matplotlib.pyplot as plt
#define subplots
fig, ax = plt.subplots(2, 2)
fig.tight_layout()
#define subplot titles
ax[0, 0].set_title('First Subplot')
ax[0, 1].set_title('Second Subplot')
ax[1, 0].set_title('Third Subplot')
ax[1, 1].set_title('Fourth Subplot')
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/title3.png">
<h2><span class="orange">How to Annotate Matplotlib Scatterplots</span></h2>
You can use the following basic syntax to annotate scatter plots in Matplotlib:
<b>#add 'my text' at (x, y) coordinates = (6, 9.5)
plt.text(6, 9.5, 'my text')</b>
The following examples show how to use this syntax in practice.
<h2>Create Basic Scatterplot</h2>
The following code shows how to create a basic scatterplot using Matplotlib:
<b>import matplotlib.pyplot as plt
#create data
x = [3, 6, 8, 12, 14]
y = [4, 9, 14, 12, 9]
#create scatterplot
plt.scatter(x, y)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/scatterAnnotate1.png">
<h2>Annotate a Single Point</h2>
We can use the following code to add an annotation to a single point in the plot:
<b>import matplotlib.pyplot as plt
#create data
x = [3, 6, 8, 12, 14]
y = [4, 9, 14, 12, 9]
#create scatterplot
plt.scatter(x, y)
#add text 'Here' at (x, y) coordinates = (6, 9.5)
plt.text(6, 9.5, 'Here')
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/scatterAnnotate2.png">
<h2>Annotate Multiple Points</h2>
We can use the following code to add annotations to multiple points in the plot:
<b>import matplotlib.pyplot as plt
#create data
x = [3, 6, 8, 12, 14]
y = [4, 9, 14, 12, 9]
#create scatterplot
plt.scatter(x, y)
#add text to certain points
plt.text(3, 4.5, 'This')
plt.text(6, 9.5, 'That')
plt.text(8.2, 14, 'Those')
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/scatterAnnotate3.png">
<h2>Annotate All Points</h2>
We can use the following code to add annotations to every single point in the plot:
<b>import matplotlib.pyplot as plt
#create data
x = [3, 6, 8, 12, 14]
y = [4, 9, 14, 12, 9]
labs = ['A', 'B', 'C', 'D', 'E']
#create scatterplot
plt.scatter(x, y)
#use for loop to add annotations to each point in plot 
for i, txt in enumerate(labs):
    plt.annotate(txt, (x[i], y[i]))</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/scatterAnnotate4.png">
By default, the annotations are placed directly on top of the points in the scatterplot and the default font size is 10.
The following code shows how to adjust both of these settings so the annotations are slightly to the right of the points and the font size is slightly larger:
<b>import matplotlib.pyplot as plt
#create data
x = [3, 6, 8, 12, 14]
y = [4, 9, 14, 12, 9]
labs = ['A', 'B', 'C', 'D', 'E']
#create scatterplot
plt.scatter(x, y)
#use for loop to add annotations to each point in plot 
for i, txt in enumerate(labs):
    plt.annotate(txt, (x[i]+.25, y[i]), fontsize=12)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/scatterAnnotate5.png">
<h2>Additional Resources</h2>
The following tutorials explain how to perform other common tasks in Matplotlib:
 How to Add Legend to Scatterplot in Matplotlib 
 How to Color a Scatterplot by Value in Matplotlib 
 How to Add an Average Line to Plots in Matplotlib 
<h2><span class="orange">How to Draw Arrows in Matplotlib</span></h2>
To draw arrows in Matplotlib, you can use the  matplotlib.pyplot.arrow  function, which uses the following syntax:
<b>matplotlib.pyplot.arrow(x, y, dx, dy)</b>
where:
<b>x, y:</b> The x and y coordinates of the arrow base
<b>dx, dy:</b> The length of the arrow along the x and y direction
This tutorial provides several examples of how to use this function in practice.
<h3>Example 1: Draw a Single Arrow</h3>
The following code shows how to draw a single arrow on a Matplotlib plot:
<b>import matplotlib.pyplot as plt
#define two arrays for plotting
A = [3, 5, 5, 6, 7, 8]
B = [12, 14, 17, 20, 22, 27]
#create scatterplot, specifying marker size to be 40
plt.scatter(A, B, s=40)
#add arrow to plot
plt.arrow(x=4, y=18, dx=2, dy=5, width=.08) 
  
#display plot 
plt.show()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/arrow1.png">
Note that we can set <b>dx=0</b> to create a vertical arrow and <b>dy=0</b> to create a horizontal arrow.
For example, here’s how to create a vertical arrrow:
<b>import matplotlib.pyplot as plt
#define two arrays for plotting
A = [3, 5, 5, 6, 7, 8]
B = [12, 14, 17, 20, 22, 27]
#create scatterplot, specifying marker size to be 40
plt.scatter(A, B, s=40)
#add arrow to plot
plt.arrow(x=4, y=18, dx=0, dy=5, width=.08) 
  
#display plot 
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/arrow2.png">
<h3>Example 2: Style an Arrow</h3>
By default, an arrow in Matplotlib is blue with black edges but we can easily change this  by using the <b>facecolor</b> and <b>edgecolor</b> arguments:
<b>import matplotlib.pyplot as plt
#define two arrays for plotting
A = [3, 5, 5, 6, 7, 8]
B = [12, 14, 17, 20, 22, 27]
#create scatterplot, specifying marker size to be 40
plt.scatter(A, B, s=40)
#add arrow to plot
plt.arrow(x=4, y=18, dx=0, dy=5, width=.08, facecolor='red', edgecolor='none') 
  
#display plot 
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/arrow3.png">
You can find a complete list of styling properties that can be applied to arrows  here .
<h3>Example 3: Add Annotations to Arrows</h3>
The following code shows how to add an annotation underneath an arrow on a Matplotlib plot:
<b>import matplotlib.pyplot as plt
#define two arrays for plotting
A = [3, 5, 5, 6, 7, 8]
B = [12, 14, 17, 20, 22, 27]
#create scatterplot, specifying marker size to be 40
plt.scatter(A, B, s=40)
#add arrow to plot
plt.arrow(x=4, y=18, dx=0, dy=5, width=.08) 
#add annotation
plt.annotate('General direction', xy = (3.4, 17))
  
#display plot 
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/arrow4.png">
<h2><span class="orange">How to Set the Aspect Ratio in Matplotlib</span></h2>
The <b>aspect ratio</b> of a matplotlib plot refers to the aspect of the axis scaling, i.e. the ratio of y-unit to x-unit.
This ratio can be modified by using the  matplotlib.axes.Axes.set_aspect()  function.
Under the hood, the set_aspect() function actually modifies something known as the <b>data coordinate system</b> but in practice we typically want to modify the <b>display coordinate system</b>.
To make this conversion easy, we can use this bit of code:
<b>#define y-unit to x-unit ratio
ratio = 1.0
#get x and y limits
x_left, x_right = ax.get_xlim()
y_low, y_high = ax.get_ylim()
#set aspect ratio
ax.set_aspect(abs((x_right-x_left)/(y_low-y_high))*ratio)
</b>
Let’s walk through an example of using this function in practice.
<h3>Step 1: Create a Basic Matplotlib Plot</h3>
First, let’s create a simple line chart using Matplotlib:
<b>import matplotlib.pyplot as plt
#define matplotlib figure and axis
fig, ax = plt.subplots()
#create simple line plot
ax.plot([0, 10],[0, 20])
#display plot
plt.show()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/aspectRatio1.png">
<h3>Step 2: Set the Aspect Ratio (The Wrong Way)</h3>
Notice that the x-axis is longer than the y-axis. Let’s attempt to set the aspect ratio to 1, i.e. the x-axis and y-axis should be equal:
<b>import matplotlib.pyplot as plt
#define matplotlib figure and axis
fig, ax = plt.subplots()
#create simple line plot
ax.plot([0, 10],[0, 20])
#attempt to set aspect ratio to 1
ax.set_aspect(1)
#display plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/aspectRatio2.png">
Notice that this did not work as we expected. The y-axis is much longer than the x-axis.
<h3>Step 3: Set the Aspect Ratio (The Right Way)</h3>
The following code shows how to use a simple calculation to set the correct aspect ratio:
<b>import matplotlib.pyplot as plt
#define matplotlib figure and axis
fig, ax = plt.subplots()
#create simple line plot
ax.plot([0, 10],[0, 20])
#set aspect ratio to 1
ratio = 1.0
x_left, x_right = ax.get_xlim()
y_low, y_high = ax.get_ylim()
ax.set_aspect(abs((x_right-x_left)/(y_low-y_high))*ratio)
#display plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/aspectRatio3.png">
Notice that this plot has the aspect ratio we expected. The x-axis and y-axis are equal lengths.
<h3>Step 4: Adjust the Aspect Ratio to Whatever You’d Like</h3>
If we’d like the y-axis to be longer than the x-axis, we can simply specify the aspect ratio to be some number greater than 1:
<b>import matplotlib.pyplot as plt
#define matplotlib figure and axis
fig, ax = plt.subplots()
#create simple line plot
ax.plot([0, 10],[0, 20])
#set aspect ratio to 3
ratio = 3
x_left, x_right = ax.get_xlim()
y_low, y_high = ax.get_ylim()
ax.set_aspect(abs((x_right-x_left)/(y_low-y_high))*ratio)
#display plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/aspectRatio4.png">
And if we’d like the y-axis to be shorter than the x-axis, we can simply specify the aspect ratio to be some number less than 1:
<b>import matplotlib.pyplot as plt
#define matplotlib figure and axis
fig, ax = plt.subplots()
#create simple line plot
ax.plot([0, 10],[0, 20])
#set aspect ratio to .3
ratio = .3
x_left, x_right = ax.get_xlim()
y_low, y_high = ax.get_ylim()
ax.set_aspect(abs((x_right-x_left)/(y_low-y_high))*ratio)
#display plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/aspectRatio5.png">
<em>You can find more Matplotlib tutorials  here .</em>
<h2><span class="orange">How to Add an Average Line to Plot in Matplotlib</span></h2>
You can use the following basic syntax to add an average line to a plot in Matplotlib:
<b>import matplotlib.pyplot as plt
import numpy as np
#create scatter plot
plt.scatter(df.x, df.y)
#add horizontal line at mean value of y
plt.axhline(y=np.nanmean(df.y))
</b>
Note that <b>axhline</b> adds a horizontal line to the plot and <b>nanmean</b> calculates the average value (ignoring NaNs) where the line should be placed.
The following example shows how to use this syntax in practice.
<h2>Example: Add Average Line to Plot in Matplotlib</h2>
Suppose we have the following pandas DataFrame:
<b>import pandas as pd
#create DataFrame
df = pd.DataFrame({'x': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],   'y':[2, 5, 6, 5, 7, 8, 10, 12, 10, 9, 11, 15]})
#view first five rows of DataFrame
df.head()
xy
012
125
236
345
457</b>
We can use the following code to create a scatter plot of x vs. y and add a horizontal line that represents the average y-value:
<b>import matplotlib.pyplot as plt
import numpy as np
#create scatter plot
plt.scatter(df.x, df.y)
#add horizontal line at mean value of y
plt.axhline(y=np.nanmean(df.y))</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/06/avglinemat1.jpg"571">
We can see that an average line has been added to the plot just above the y-value of 8.
 If we calculate the average y-value, we’ll find that it’s 8.333:
<b>#calculate average y-value
np.nanmean(df.y)
8.333333333
</b>
Note that we can also use the <b>color</b>, <b>linestyle</b>, and <b>linewidth</b> arguments to specify the color, line type, and line width of the average line, respectively:
<b>import matplotlib.pyplot as plt
import numpy as np
#create scatter plot
plt.scatter(df.x, df.y)
#add horizontal line at mean value of y
plt.axhline(y=np.nanmean(df.y), color='red', linestyle='--', linewidth=3, label='Avg')</b>
 
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/06/avglinemat2-1.jpg">
<b>Note</b>: You can find the complete online documentation for the <b>axhline()</b> function  here .
<h2>Additional Resources</h2>
The following tutorials explain how to perform other common tasks in Matplotlib:
 How to Add a Trendline in Matplotlib 
 How to Draw a Vertical Line in Matplotlib 
 How to Plot Multiple Lines in Matplotlib 
<h2><span class="orange">How to Adjust Axis Label Position in Matplotlib</span></h2>
You can use the following basic syntax to adjust axis label positions in Matplotlib:
<b>#adjust y-axis label position
ax.yaxis.set_label_coords(-.1, .5)
#adjust x-axis label position 
ax.xaxis.set_label_coords(.5, -.1)
</b>
The following examples show how to use this syntax in practice.
<h3>Example 1: Adjust X-Axis Label Position</h3>
The following code shows how to create a plot in Matplotlib and adjust the location of the x-axis label position only:
<b>import matplotlib.pyplot as plt
#define data
x = [1, 2, 3, 4, 5, 6]
y = [4, 5, 8, 14, 24, 19]
#create scatterplot
fig, ax = plt.subplots()
ax.scatter(x, y)
#add axis labels
ax.set_ylabel('Y-Axis Label')
ax.set_xlabel('X-Axis Label')
#adjust position of x-axis label
ax.xaxis.set_label_coords(.9, -.1)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/08/matpos1.png">
Note that the axis coordinate system uses <b>(0, 0)</b> to represent the bottom left corner of the plot, <b>(0.5, 0.5)</b> to represent the center, and <b>(1, 1)</b> to represent the top right corner.
<h3>
<b>Example 2: Adjust Y-Axis Label Position</b>
</h3>
The following code shows how to create a plot in Matplotlib and adjust the location of the y-axis label position only:
<b>import matplotlib.pyplot as plt
#define data
x = [1, 2, 3, 4, 5, 6]
y = [4, 5, 8, 14, 24, 19]
#create scatterplot
fig, ax = plt.subplots()
ax.scatter(x, y)
#add axis labels
ax.set_ylabel('Y-Axis Label')
ax.set_xlabel('X-Axis Label')
#adjust position of x-axis label
ax.yaxis.set_label_coords(-.1, .1)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/08/matpos2.png">
<h3>Example 3: Adjust Both Axis Label Positions</h3>
The following code shows how to create a plot in Matplotlib and adjust the location of both axis label positions:
<b>import matplotlib.pyplot as plt
#define data
x = [1, 2, 3, 4, 5, 6]
y = [4, 5, 8, 14, 24, 19]
#create scatterplot
fig, ax = plt.subplots()
ax.scatter(x, y)
#add axis labels
ax.set_ylabel('Y-Axis Label')
ax.set_xlabel('X-Axis Label')
#adjust position of both axis labels
ax.yaxis.set_label_coords(-.1, .1)
ax.xaxis.set_label_coords(.9, -.1)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/08/matpos3.png">
<h2><span class="orange">How to Change Background Color in Matplotlib (With Examples)</span></h2>
The easiest way to change the background color of a plot in Matplotlib is to use the <b>set_facecolor()</b> argument.
If you define a figure and axis in Matplotlib using the following syntax:
<b>fig, ax = plt.subplots()
</b>
Then you can simply use the following syntax to define the background color of the plot:
<b>ax.set_facecolor('pink')
</b>
This tutorial provides several examples of how to use this function in practice.
<h3>Example 1: Set Background Color Using Color Name</h3>
The following code shows how to set the background color of a Matplotlib plot by using the name of a color:
<b>import matplotlib.pyplot as plt
#define plot figure and axis
fig, ax = plt.subplots()
#define two arrays for plotting
A = [3, 5, 5, 6, 7, 8]
B = [12, 14, 17, 20, 22, 27]
#create scatterplot and specify background color to be pink
ax.scatter(A, B)
ax.set_facecolor('pink')
#display scatterplot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/backgroundColor1.png">
<h3>Example 2: Set Background Color Using Hex Color Code</h3>
The following code shows how to set the background color of a Matplotlib plot by using a hex color code:
<b>import matplotlib.pyplot as plt
#define plot figure and axis
fig, ax = plt.subplots()
#define two arrays for plotting
A = [3, 5, 5, 6, 7, 8]
B = [12, 14, 17, 20, 22, 27]
#create scatterplot and specify background color to be pink
ax.scatter(A, B)
ax.set_facecolor('#33FFA2')
#display scatterplot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/backgroundColor2.png">
<h3>Example 3: Set Background Color of Specific Subplot</h3>
Sometimes you’ll have more than one Matplotlib plot. In this case, you can use the following code to specify the background color for a single plot:
<b>import matplotlib.pyplot as plt
#define subplots
fig, ax = plt.subplots(2, 2)
fig.tight_layout()
#define background color to use for each subplot
ax[0,0].set_facecolor('blue')
ax[0,1].set_facecolor('pink')
ax[1,0].set_facecolor('green')
ax[1,1].set_facecolor('red')
#display subplots
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/backgroundColor3.png">
<b>Related:</b>  How to Adjust Spacing Between Matplotlib Subplots 
<h2><span class="orange">How to Adjust Bin Size in Matplotlib Histograms</span></h2>
You can use one of the following methods to adjust the bin size of histograms in Matplotlib:
<b>Method 1: Specify Number of Bins</b>
<b>plt.hist(data, bins=6)
</b>
<b>Method 2: Specify Bin Boundaries</b>
<b>plt.hist(data, bins=[0, 4, 8, 12, 16, 20])
</b>
<b>Method 3: Specify Bin Width</b>
<b>w=2
plt.hist(data, bins=np.arange(min(data), max(data) + w, w))</b>
The following examples show how to use each of these methods in practice.
<h3>Example 1: Specify Number of Bins</h3>
The following code shows how to specify the number of bins to use in a histogram:
<b>import matplotlib.pyplot as plt
#define data
data = [1, 2, 2, 4, 5, 5, 6, 8, 9, 12, 14, 15, 15, 15, 16, 17, 19]
#create histogram with specific number of bins
plt.hist(data, edgecolor='black', bins=6) 
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/08/bin1.png">
Keep in mind that the more bins you specify, the more narrow the bins will be.
<h3>
<b>Example 2: Specify Bin Boundaries</b>
</h3>
The following code shows how to specify the actual bin boundaries in a histogram:
<b>import matplotlib.pyplot as plt
#define data
data = [1, 2, 2, 4, 5, 5, 6, 8, 9, 12, 14, 15, 15, 15, 16, 17, 19]
#create histogram with specific bin boundaries
plt.hist(data, edgecolor='black', bins=[0, 4, 8, 12, 16, 20])
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/08/bin2.png">
In this example we specified that each bin should be the same width, but you can specify boundaries in such a way that each bin is a different size.
<h3>Example 3: Specify Bin Width</h3>
The following code shows how to specify the bin width in a histogram:
<b>import matplotlib.pyplot as plt
import numpy as np
#define data
data = [1, 2, 2, 4, 5, 5, 6, 8, 9, 12, 14, 15, 15, 15, 16, 17, 19]
#specify bin width to use
w=2
#create histogram with specified bin width
plt.hist(data, edgecolor='black', bins=np.arange(min(data), max(data) + w, w)) 
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/08/bin3.png">
Keep in mind that the smaller the bin width you specify, the more narrow the bins will be.
<h2><span class="orange">How to Use Bold Font in Matplotlib (With Examples)</span></h2>
You can use the <b>weight</b> argument to create a bold font in Matplotlib.
This argument is commonly used with titles and annotated text in Matplotlib:
<b>Method 1: Use Bold Font in Title</b>
<b>plt.title('My Title', weight='bold')</b>
<b>Method 2: Use Bold Font in Annotated Text</b>
<b>plt.text(6, 10, 'some text', weight='bold')
</b>
The following examples show how to use each method in practice.
<h2>Example 1: Use Bold Font in Title</h2>
The following code shows how to create a scatterplot with a title in Matplotlib that uses regular font:
<b>import matplotlib.pyplot as plt
#create data
x = [3, 6, 8, 12, 14]
y = [4, 9, 14, 12, 9]
#create scatterplot
plt.scatter(x, y)
#add title
plt.title('My Title', fontsize=22)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/07/bold1.jpg"503">
And the following code shows how to create a scatterplot with a title in Matplotlib and use the <b>weight</b> argument to enable bold font:
<b>import matplotlib.pyplot as plt
#create data
x = [3, 6, 8, 12, 14]
y = [4, 9, 14, 12, 9]
#create scatterplot
plt.scatter(x, y)
#add title
plt.title('My Title', fontsize=22, weight='bold')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/07/bold2.jpg">
<h2>Example 2: Use Bold Font in Annotated Text</h2>
The following code shows how to use the <b>weight</b> argument to enable bold font in an annotated text in a Matplotlib scatterplot:
<b>import matplotlib.pyplot as plt
#create data
x = [3, 6, 8, 12, 14]
y = [4, 9, 14, 12, 9]
#create scatterplot
plt.scatter(x, y)
#add regular text
plt.text(6, 10, 'Normal Font',  fontsize=16)
#add bold text
plt.text(10, 10, 'Bold Font', fontsize=16, weight='bold')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/07/bold3.jpg">
Notice the difference between the normal font and the bold font.
<h2>Additional Resources</h2>
The following tutorials explain how to perform other common tasks in Matplotlib:
 How to Add Legend to Scatterplot in Matplotlib 
 How to Color a Scatterplot by Value in Matplotlib 
 How to Add an Average Line to Plots in Matplotlib 
<h2><span class="orange">Matplotlib: How to Create Boxplots by Group</span></h2>
You can use the following syntax to create boxplots by group in Matplotlib:
<b>import matplotlib as plt
import seaborn as sns
sns.boxplot(x='group', y='values', data=df)
</b>
The following examples show how to use this syntax to create boxplots by group for datasets in both long-form and wide-form.
<h3>Example 1: Boxplots by Group for Long-Form Data</h3>
The following code shows how to create boxplots by group for a pandas DataFrame in a long format:
<b>import pandas as pd
import numpy as np
import matplotlib as plt
import seaborn as sns
#create long-form data
df = pd.DataFrame({'points': [7, 8, 9, 12, 14, 5, 6, 6, 8, 11, 8, 9, 11, 13, 17],   'team': np.repeat(['A', 'B', 'C'], 5)})
#view data
print(df)
    points team
0        7    A
1        8    A
2        9    A
3       12    A
4       14    A
5        5    B
6        6    B
7        6    B
8        8    B
9       11    B
10       8    C
11       9    C
12      11    C
13      13    C
14      17    C
#create boxplot by group
sns.boxplot(x='team', y='points', data=df)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/matbox1.png">
<h3>Example 2: Boxplots by Group for Wide-Form Data</h3>
The following code shows how to create boxplots by group for a pandas DataFrame in a wide format:
<b>import pandas as pd
import numpy as np
import matplotlib as plt
import seaborn as sns
#create wide-form data
df = pd.DataFrame({'A': [7, 8, 9, 12, 14],   'B': [5, 6, 6, 8, 11],   'C': [8, 9, 11, 13, 17]})
#view data
print(df)
    A   B   C
0   7   5   8
1   8   6   9
2   9   6  11
3  12   8  13
4  14  11  17
#create boxplot by group
sns.boxplot(x='variable', y='value', data=pd.melt(df)).set(
            xlabel='team', 
            ylabel='points')
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/matbox1.png">
<h2><span class="orange">How to Change Fonts in Matplotlib (With Examples)</span></h2>
You can use one of the following methods to change the font family in Matplotlib:
<b>Method 1: Change Font for All Text</b>
<b>import matplotlib
matplotlib.rcParams['font.family'] = 'monospace'
</b>
<b>Method 2: Change Font for Title & Axis Labels</b>
<b>import matplotlib.pylot as plt
mono_font = {'fontname':'monospace'}
serif_font = {'fontname':'serif'}
plt.title('Title of Plot',**mono_font)
plt.xlabel('X Label', **serif_font)
</b>
The following examples show how to use each method in practice.
<h3>Method 1: Change Font for All Text</h3>
The following code shows how to change the font family for all text in a Matplotlib plot:
<b>import matplotlib
import matplotlib.pyplot as plt
#define font family to use for all text
matplotlib.rcParams['font.family'] = 'monospace'
#define x and y
x = [1, 4, 10]
y = [5, 9, 27]
#create line plot
plt.plot(x, y)
#add title and axis labels
plt.title('Title of Plot')
plt.xlabel('X Label')
plt.ylabel('Y Label')
#display plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/09/fam1.png">
Notice that the title and both axis labels have a ‘monospace’ font, since that is the font family we specified in the <b>rcParams</b> argument.
<h3>Method 2: Change Font for Title & Axis Labels</h3>
The following code shows how to specify a unique font family for both the title and the axis labels:
<b>import matplotlib.pyplot as plt
#define font families to use
mono_font = {'fontname':'monospace'}
serif_font = {'fontname':'serif'}
#define x and y
x = [1, 4, 10]
y = [5, 9, 27]
#create plot of x and y
plt.plot(x, y)
#specify title and axis labels with custom font families
plt.title('Title of Plot', **mono_font)
plt.xlabel('X Label', **serif_font)
plt.ylabel('Y Label', **serif_font)
#display plot
plt.show()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/09/fam2.png">
Notice that the title uses a ‘monospace’ font family while the x-axis and y-axis labels use a ‘serif’ font family.
<b>Note</b>: You can find a complete list of available font families that you can use in Matplotlib  here .
<h2><span class="orange">How to Plot Circles in Matplotlib (With Examples)</span></h2>
You can quickly add circles to a plot in Matplotlib by using the  Circle()  function, which uses the following syntax:
<b>matplotlib.patches.Circle(xy, radius=5)</b>
where:
<b>xy:</b> The (x, y) coordinates for the circle
<b>radius:</b> The radius of the circle. Default is 5.
This tutorial shows several examples of how to use this function in practice:
<h3>Example 1: Create a Single Circle</h3>
The following code shows how to create a single circle on a Matplotlib plot located at (x, y) coordinates (10,10):
<b>import matplotlib.pyplot as plt
#set axis limits of plot (x=0 to 20, y=0 to 20)
plt.axis([0, 20, 0, 20])
#create circle with (x, y) coordinates at (10, 10)
c=plt.Circle((10, 10))
#add circle to plot (gca means "get current axis")
plt.gca().add_artist(c)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/circle1.png">
By default, one axis of a Matplotlib plot typically displays more pixels per data unit. To make a circle appear as a circle instead of an ellipse, you need to use the argument <b>plt.axis(“equal”)</b> as follows:
<b>import matplotlib.pyplot as plt
#set axis limits of plot (x=0 to 20, y=0 to 20)
plt.axis([0, 20, 0, 20])
plt.axis("equal")
#create circle with (x, y) coordinates at (10, 10)
c=plt.Circle((10, 10))
#add circle to plot (gca means "get current axis")
plt.gca().add_artist(c)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/circle2.png">
<h3>
<b>Example 2: Create Multiple Circles</b>
</h3>
The following code shows how to create multiple circles on a Matplotlib plot:
<b>import matplotlib.pyplot as plt
#set axis limits of plot (x=0 to 20, y=0 to 20)
plt.axis([0, 20, 0, 20])
plt.axis("equal")
#define circles
c1=plt.Circle((5, 5), radius=1)
c2=plt.Circle((10, 10), radius=2)
c3=plt.Circle((15, 13), radius=3)
#add circles to plot
plt.gca().add_artist(c1)
plt.gca().add_artist(c2)
plt.gca().add_artist(c3)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/circle3.png">
<h3>Example 3: Modify Circle Appearance</h3>
You can use the following arguments to modify the appearance of a circle in Matplotlib:
<b>radius:</b> Specify radius of circle
<b>color:</b> Specify color of circle
<b>alpha:</b> Specify transparency of circle
The following code shows an example of how to use several of these arguments at once:
<b>import matplotlib.pyplot as plt
#set axis limits of plot (x=0 to 20, y=0 to 20)
plt.axis([0, 20, 0, 20])
plt.axis("equal")
#create circle with (x, y) coordinates at (10, 10)
c=plt.Circle((10, 10), radius=2, color='red', alpha=.3)
#add circle to plot (gca means "get current axis")
plt.gca().add_artist(c)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/circle4.png">
Note that you can also use custom hex color codes to specify the color of circles.
<h2><span class="orange">How to Adjust the Position of a Matplotlib Colorbar</span></h2>
A <b>colorbar</b> is a bar that runs along the side of a Matplotlib chart and acts as a legend for the colors shown in the chart.
Matplotlib displays colorbars on the right side of a chart by default, but you can easily change this by using functions from the  Matplotlib AxesGrid toolkit .
This tutorial shows several examples of how to use these functions in practice.
<h3>Example 1: Position Colorbar on Right Side of Chart</h3>
The following code shows how to generate a Matplotlib chart and how to place a colorbar on the right side of the chart:
<b>import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.axes_grid1 import make_axes_locatable
#make this example reproducible
np.random.seed(1)
#create chart
fig, ax = plt.subplots()
im = ax.imshow(np.random.rand(15,15))
ax.set_xlabel('x-axis label')
#add color bar
fig.colorbar(im)
plt.show()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/colorbar1.png">
<h3>Example 2: Position Colorbar Below Chart</h3>
The following code shows how to place a colorbar below a Matplotlib chart:
<b>import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.axes_grid1 import make_axes_locatable
#make this example reproducible
np.random.seed(1)
#create chart
fig, ax = plt.subplots()
im = ax.imshow(np.random.rand(15,15))
ax.set_xlabel('x-axis label')
#add color bar below chart
divider = make_axes_locatable(ax)
cax = divider.new_vertical(size='5%', pad=0.6, pack_start=True)
fig.add_axes(cax)
fig.colorbar(im, cax=cax, orientation='horizontal')
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/colorbar2.png">
Note that the <b>pad </b>argument creates padding between the x-axis of the chart and the colorbar. The higher the value for pad, the further away the colorbar will be from the x-axis.
<h3>Example 3: Position Colorbar Above Chart</h3>
The following code shows how to place a colorbar above a Matplotlib chart:
<b>import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.axes_grid1 import make_axes_locatable
#make this example reproducible
np.random.seed(1)
#create chart
fig, ax = plt.subplots()
im = ax.imshow(np.random.rand(15,15))
ax.set_xlabel('x-axis label')
#add color bar below chart
divider = make_axes_locatable(ax)
cax = divider.new_vertical(size='5%', pad=0.4)
fig.add_axes(cax)
fig.colorbar(im, cax=cax, orientation='horizontal')
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/colorbar3.png">
<em>You can find more Matplotlib tutorials  here .</em>
<h2><span class="orange">How to Create a Contour Plot in Matplotlib</span></h2>
A <b>contour plot </b>is a type of plot that allows us to visualize three-dimensional data in two dimensions by using contours.
You can create a contour plot in Matplotlib by using the following two functions:
 matplotlib.pyplot.contour()  – Creates contour plots.
 matplotlib.pyplot.contourf()  – Creates filled contour plots.
The following examples show how to use these two functions in practice.
<h3>Example 1: Contour Plot in Matplotlib</h3>
Suppose we have the following data in Python:
<b>import numpy as np
x = np.linspace(0, 5, 50)
y = np.linspace(0, 5, 40)
X, Y = np.meshgrid(x, y)
Z = np.sin(X*2+Y)*3 + np.cos(Y+5)
</b>
We can use the following code to create a contour plot for the data:
<b>import matplotlib.pyplot as plt
plt.contour(X, Y, Z, colors='black')
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/matplotlibContour1.png">
When a single color is used for the plot, the dashed lines represent negative values and the solid lines represent positive values.
An alternative is to specify a colormap using the <b>cmap </b>argument. We can also specify more lines to be used in the plot with the <b>levels </b>argument:
<b>plt.contour(X, Y, Z, levels=30, cmap='Reds')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/matplotlibContour2.png">
We chose to use the cmap ‘Reds’ but you can find a complete list of colormap options on the  Matplotlib documentation page .
<h3>Example 2: Filled Contour Plot in Matplotlib</h3>
A <b>filled contour plot</b> is similar to a contour plot except that the spaces between the lines are filled.
The following code shows how to use the <b>contourf()</b> function to create a filled contour plot for the same data we used in the previous example:
<b>plt.contourf(X, Y, Z, cmap='Reds')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/matplotlibContour3.png">
We can also use the <b>colorbar() </b>function to add a labeled color bar next to the plot:
<b>plt.contourf(X, Y, Z, cmap='Reds')
plt.colorbar()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/matplotlibContour4.png">
<em>You can find more Matplotlib tutorials  here .</em>
<h2><span class="orange">A Complete Guide to the Default Colors in Matplotlib</span></h2>
In Python, Matplotlib has a list of default colors that it uses for the elements in a plot depending on the number of total elements.
For example, we can use the following code to plot lines that show the first 10 default colors in Matplotlib:
<b>import numpy as np
import matplotlib.pyplot as plt
#define plot
fig = plt.figure()
ax = fig.add_subplot(111)
#define range
j = np.arange(11)
#add lines to plot
for i in range(10):
    line, = ax.plot(j,i*(j+1))
    ax.plot(j,i*(j+1), color = line.get_color())
#display plot
plt.show()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/07/matdefault1.jpg">
Matplotlib chooses the first 10 default colors for the lines in the plot.
We can use the following code to view the actual hex color codes of each of the ten colors:
<b>import matplotlib.pyplot as plt
#display hex color codes
print(plt.rcParams['axes.prop_cycle'].by_key()['color'])
['#1f77b4', '#ff7f0e', '#2ca02c', '#d62728', '#9467bd', '#8c564b', '#e377c2',
 '#7f7f7f', '#bcbd22', '#17becf']
</b>
The output displays the hex color code for each of the ten default colors.
For example, the first hex color code is <b>#1f77b4</b>. This corresponds to the first line in the plot that is blue.
The second hex color code is <b>#ff7f0e</b>. This corresponds to the second line in the plot that is orange.
The third hex color code is <b>#2ca02c</b>. This corresponds to the third line in the plot that is green.
And so on.
This means if you create a plot in Matplotlib with one line, then the color of the line will be <b>#1f77b4</b> unless you specify otherwise.
Or if you create a plot in Matplotlib with two lines, the color of the first line will be <b>#1f77b4</b> and the color of the second line will be <b>#ff7f0e</b> unless you specify otherwise.
Refer to the  Matplotlib documentation  for a complete explanation of the default colors.
<h2>Additional Resources</h2>
The following tutorials explain how to perform other common tasks in Matplotlib:
 How to Change Background Color in Matplotlib 
 How to Plot Only Horizontal Gridlines in Matplotlib 
 How to Set Axis Ticks in Matplotlib 
<h2><span class="orange">How to Create a Density Plot in Matplotlib (With Examples)</span></h2>
The easiest way to create a density plot in Matplotlib is to use the  kdeplot()  function from the seaborn visualization library:
<b>import seaborn as sns
#define data
data = [value1, value2, value3, ...]
#create density plot of data
sns.kdeplot(data)
</b>
The following examples show how to use this function in practice.
<h3>Example 1: Create Basic Density Plot</h3>
The following code shows how to create a basic density plot in seaborn:
<b>import seaborn as sns
#define data
data = [2, 2, 3, 5, 6, 6, 7, 8, 9, 10, 12, 12, 13, 15, 16]
#create density plot of data
sns.kdeplot(data)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/densitySeaborn1.png">
The x-axis shows the data values and the y-axis shows the corresponding probability density values.
<h3>Example 2: Adjust Smoothness of Density Plot</h3>
You can use the <b>bw_method</b> argument to adjust the smoothness of the density plot. Lower values lead to a more “wiggly” plot.
<b>import seaborn as sns
#define data
data = [2, 2, 3, 5, 6, 6, 7, 8, 9, 10, 12, 12, 13, 15, 16]
#create density plot of data with low bw_method value
sns.kdeplot(data, bw_method = .3)</b>
<h3><img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/densitySeaborn2.png"></h3>
Conversely, higher values for <b>bw_method</b> lead to a smoother plot:
<b>import seaborn as sns
#define data
data = [2, 2, 3, 5, 6, 6, 7, 8, 9, 10, 12, 12, 13, 15, 16]
#create density plot of data with high bw_method value
sns.kdeplot(data, bw_method = .8)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/densitySeaborn3.png">
<h3>Example 3: Customize Density Plot</h3>
You can also customize the color and style of the density plot:
<b>import seaborn as sns
#define data
data = [2, 2, 3, 5, 6, 6, 7, 8, 9, 10, 12, 12, 13, 15, 16]
#create density plot of data with high bw_method value
sns.kdeplot(data, color='red', fill=True, alpha=.3, linewidth=0)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/densitySeaborn4.png">
<h2><span class="orange">How to Fill in Areas Between Lines in Matplotlib</span></h2>
You can easily fill in the area between values in a Matplotlib plot by using following functions:
 fill_between() : Fill the area between two horizontal curves.
 fill_betweenx() : Fill the area between two vertical curves.
This tutorial provides examples of how to use each of these functions in practice.
<h3>Example 1: Fill in Area Between Two Horizontal Lines</h3>
The following code shows how to fill in the area between two horizontal lines:
<b>import matplotlib.pyplot as plt
import numpy as np
#define x and y values
x = np.arange(0,10,0.1)
y = np.arange(10,20,0.1)
#create plot of values
plt.plot(x,y)
#fill in area between the two lines
plt.fill_between(x, y, color='red')
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/fillBetween1.png">
Note that we can also use the <b>plt.grid()</b> function to add gridlines to the plot to see the values that are being filled in more easily:
<b>import matplotlib.pyplot as plt
import numpy as np
#define x and y values
x = np.arange(0,10,0.1)
y = np.arange(10,20,0.1)
#create plot of values
plt.plot(x,y)
#fill in area between the two lines
plt.fill_between(x, y, color='red', alpha=.5)
#add gridlines
plt.grid()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/fillBetween2.png">
<h3>Example 2: Fill in Area Under a Curve</h3>
The following code show to fill in the area under a curve:
<b>import matplotlib.pyplot as plt
import numpy as np
#define x and y values
x = np.arange(0,10,0.1)
y = x**4
#create plot of values
plt.plot(x,y)
#fill in area between the two lines
plt.fill_between(x, y, color='red', alpha=.5)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/fillBetween3.png">
<h3>Example 3: Fill in Area Above a Curve</h3>
The following code show to fill in the area above a curve:
<b>import matplotlib.pyplot as plt
import numpy as np
#define x and y values
x = np.arange(0,10,0.1)
y = x**4
#create plot of values
plt.plot(x,y)
#fill in area between the two lines
plt.fill_between(x, y, np.max(y), color='red', alpha=.5)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/fillBetween4.png">
<h3>Example 4: Fill in Area Between Two Vertical Lines</h3>
The following code shows how to use the <b>fill_betweenx()</b> function to fill in the area between two vertical lines:
<b>import matplotlib.pyplot as plt
import numpy as np
#define x and y values
x = np.arange(0,10,0.1)
y = np.arange(10,20,0.1)
#create plot of values
plt.plot(x,y)
#fill in area between the two lines
plt.fill_betweenx(y, 2, 4, color='red', alpha=.5)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/fillBetween5.png">
<b>Related:</b>  How to Plot a Smooth Curve in Matplotlib 
<h2><span class="orange">Display an Image as Grayscale in Matplotlib (With Example)</span></h2>
You can use the <b>cmap</b> argument in Matplotlib to easily display images on a  grayscale .
The following example shows how to use this argument in practice.
<h3>Example: Display Image as Grayscale in Matplotlib</h3>
Suppose I have the following image called <b>shapes.JPG</b> that I’d like to display in Matplotlib:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/12/shapes.jpg"487">
I can use the following syntax to display this image using the original colors:
<b>import numpy as np
import matplotlib.pyplot as plt
from PIL import Image
image=Image.open('shapes.JPG')
plt.imshow(image)
plt.show()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/12/gray1.jpg"523">
Notice that this image perfectly matches the image I had on file.
In order to display the image on a grayscale, I must use the <b>cmap=’gray’</b> argument as follows:
<b>import numpy as np
import matplotlib.pyplot as plt
from PIL import Image
#open image
image=Image.open('shapes.JPG')
#convert image to black and white pixels
gray_image=image.convert('L')
#convert image to NumPy array
gray_image_array=np.asarray(gray_image)
#display image on grayscale
plt.imshow(gray_image_array, cmap='gray')
plt.show()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/12/gray2.jpg">
The image has now been converted to a grayscale.
<b>Note</b>: The ‘L’ argument converts the image to black and white pixels. Without first using this line of code, the image will not display as a grayscale.
<h2><span class="orange">How to Hide Axes in Matplotlib (With Examples)</span></h2>
You can use the following syntax to hide axes in Matplotlib plots:
<b>import matplotlib.pyplot as plt
#get current axes
ax = plt.gca()
#hide x-axis
ax.get_xaxis().set_visible(False)
#hide y-axis 
ax.get_yaxis().set_visible(False)
</b>
The following examples show how to use this syntax in practice.
<h3>Example 1: Hide X-Axis</h3>
The following code shows how to create a scatterplot and hide the x-axis:
<b>import matplotlib.pyplot as plt
#define data
x = [3, 4, 4, 6, 7, 8, 8, 12]
y = [11, 12, 12, 14, 17, 15, 14, 19]
#create scatterplot
plt.scatter(x, y)
#get current axes
ax = plt.gca()
#hide x-axis
ax.get_xaxis().set_visible(False)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/hide0.png">
<h3>Example 2: Hide Y-Axis</h3>
The following code shows how to create a scatterplot and hide the y-axis:
<b>import matplotlib.pyplot as plt
#define data
x = [3, 4, 4, 6, 7, 8, 8, 12]
y = [11, 12, 12, 14, 17, 15, 14, 19]
#create scatterplot
plt.scatter(x, y)
#get current axes
ax = plt.gca()
#hide y-axis
ax.get_yaxis().set_visible(False)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/hide1.png">
<h3>Example 3: Hide Both Axes</h3>
The following code shows how to create a scatterplot and hide both axes:
<b>import matplotlib.pyplot as plt
#define data
x = [3, 4, 4, 6, 7, 8, 8, 12]
y = [11, 12, 12, 14, 17, 15, 14, 19]
#create scatterplot
plt.scatter(x, y)
#get current axes
ax = plt.gca()
#hide x-axis
ax.get_xaxis().set_visible(False)
#hide y-axis
ax.get_yaxis().set_visible(False)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/hide2.png">
<h3>Example 4: Remove Axes & Borders Completely</h3>
The following code shows how to remove the axes and the plot borders completely:
<b>import matplotlib.pyplot as plt
#define data
x = [3, 4, 4, 6, 7, 8, 8, 12]
y = [11, 12, 12, 14, 17, 15, 14, 19]
#create scatterplot
plt.scatter(x, y)
#get current axes
ax = plt.gca()
#hide axes and borders
plt.axis('off')
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/hide3.png">
<h2><span class="orange">How to Modify a Matplotlib Histogram Color (With Examples)</span></h2>
You can use the following basic syntax to modify the color of a histogram in Matplotlib:
<b>plt.hist(data, color = "lightblue", ec="red")
</b>
where:
<b>data</b>: The name of the data to use for the histogram
<b>color</b>: The fill color for the bars in the histogram
<b>ec</b>: The edge color for the bars in the histogram
The following example shows how to use this syntax in practice.
<h3>Example: Modifying a Matplotlib Histogram Color</h3>
Suppose we have the following list of values:
<b>#define list of data
data = [2, 4, 4, 5, 6, 6, 7, 8, 9, 9, 9, 10, 12, 12, 14]
</b>
We can use the following basic syntax to create a Matplotlib histogram to visualize the values in this dataset:
<b>import matplotlib.pyplot as plt
#create histogram
plt.hist(data)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/02/modifyhist1.jpg"537">
By default, Matplotlib creates a histogram with a dark blue fill color and no edge color.
However, we can use the following syntax to change the fill color to light blue and the edge color to red:
<b>import matplotlib.pyplot as plt
#create histogram with light blue fill color and red edge color
plt.hist(data, color = "lightblue", ec="red")</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/02/modifyhist2.jpg"533">
The new histogram has a light blue fill color and a red edge color.
You can also use the <b>lw</b> argument to modify the line width for the edges of the histogram:
<b>import matplotlib.pyplot as plt
#create histogram
plt.hist(data, color = "lightblue", ec="red", lw=5)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/02/modifyhist3.jpg"532">
The larger the value you use for <b>lw</b>, the thicker the edges on the bars will be.
<b>Note</b>: You can find the complete documentation for the Matplotlib <b>hist</b> function  here .
<h2><span class="orange">How to Plot Only Horizontal Gridlines in Matplotlib</span></h2>
You can use the following basic syntax to only plot horizontal gridlines in Matplotlib:
<b>ax.grid(axis='y')</b>
The following example shows how to use this syntax in practice.
<h2>Example: Plot Only Horizontal Gridlines in Matplotlib</h2>
The following code shows how to create a bar plot in Matplotlib with only horizontal gridlines shown in the plot:
<b>import pandas as pd
import matplotlib.pyplot as plt
#create DataFrame
df = pd.DataFrame({'team':['Mavs', 'Nets', 'Spurs', 'Warriors'],   'points':[105, 99, 112, 100]})
#define plot
fig, ax = plt.subplots()
#create bar plot
df.plot(kind='bar', ax=ax)
#add horizontal gridlines
ax.grid(axis='y')
#display plot
plt.show()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/07/horz0.jpg"509">
Feel free to use <b>ax.set_axisbelow(True)</b> to display the horizontal gridlines behind the bars in the plot:
<b>import pandas as pd
import matplotlib.pyplot as plt
#create DataFrame
df = pd.DataFrame({'team':['Mavs', 'Nets', 'Spurs', 'Warriors'],   'points':[105, 99, 112, 100]})
#define plot
fig, ax = plt.subplots()
#create bar plot
df.plot(kind='bar', ax=ax)
#add horizontal gridlines behind bars in the plot
ax.set_axisbelow(True)
ax.grid(axis='y')
#display plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/07/horz1.jpg">
And feel free to use the <b>color</b>, <b>linestyle</b>, and <b>linewidth</b> arguments within the <b>grid()</b> function to customize the appearance of the gridlines:
<b>import pandas as pd
import matplotlib.pyplot as plt
#create DataFrame
df = pd.DataFrame({'team':['Mavs', 'Nets', 'Spurs', 'Warriors'],   'points':[105, 99, 112, 100]})
#define plot
fig, ax = plt.subplots()
#create bar plot
df.plot(kind='bar', ax=ax)
#add horizontal gridlines with custom appearance
ax.set_axisbelow(True)
ax.grid(axis='y', color='red', linestyle='dashed', linewidth=3)
#display plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/07/horz2.jpg"502">
You can find a complete list of ways to customize the gridlines in the Matplotlib  documentation .
<h2>Additional Resources</h2>
The following tutorials explain how to perform other common tasks in Matplotlib:
 How to Remove Ticks from Matplotlib Plots 
 How to Change Font Sizes on a Matplotlib Plot 
 How to Add an Average Line to Plot in Matplotlib 
<h2><span class="orange">How to Draw a Horizontal Line in Matplotlib (With Examples)</span></h2>
You can use the following syntax to draw a horizontal line in Matplotlib:
<b>import matplotlib.pyplot as plt
#draw vertical line at y=10
plt.axhline(y=10)
</b>
The following examples show how to use this syntax in practice with the following pandas DataFrame:
<b>import pandas as pd
#create DataFrame
df = pd.DataFrame({'x': [1, 2, 3, 4, 5, 6, 7, 8],   'y': [5, 7, 8, 15, 26, 39, 45, 40]})
#view DataFrame
df
xy
015
127
238
3415
4526
5639
6745
7840
</b>
<h3>Example 1: Draw One Horizontal Line</h3>
The following code shows how to draw one horizontal line on a Matplotlib plot:
<b>import matplotlib.pyplot as plt
#create line plot
plt.plot(df.x, df.y)
#add horizontal line at y=10
plt.axhline(y=10, color='red', linestyle='--')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/horiz1.png">
<h3>Example 2: Draw Multiple Horizontal Lines</h3>
The following code shows how to draw multiple horizontal lines on a Matplotlib plot:
<b>import matplotlib.pyplot as plt
#create line plot
plt.plot(df.x, df.y)
#add horizontal line at y=10
plt.axhline(y=10, color='red', linestyle='--')
#add horizontal line at y=30
plt.axhline(y=30, color='black', linestyle='-')
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/horiz2.png">
<h3>Example 3: Draw Multiple Horizontal Lines with Legend</h3>
The following code shows how to draw multiple horizontal lines on a Matplotlib plot and add a legend to make the lines easier to interpret:
<b>import matplotlib.pyplot as plt
#create line plot
plt.plot(df.x, df.y)
#add horizontal line at y=10
plt.axhline(y=10, color='red', linestyle='--', label='First Line')
#add horizontal line at y=30
plt.axhline(y=30, color='black', linestyle='-', label='Second Line')
#add legend
plt.legend()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/horiz3.png">
<b>Note:</b> Refer to the  Matplotlib documentation  for a complete list of colors and linestyles you can apply to horizontal lines.
<h2><span class="orange">How to Increase Plot Size in Matplotlib</span></h2>
You can use the following syntax to increase the size of a single plot in Matplotlib:
<b>import matplotlib.pyplot as plt
#define figure size in (width, height) for a single plot
plt.figure(figsize=(3,3))
</b>
And you can use the following syntax to increase the size of <em>all</em> Matplotlib plots in a notebook:
<b>import matplotlib.pyplot as plt
#define figure size in (width, height) for all plots
plt.rcParams['figure.figsize'] = [10, 7]
</b>
The following examples show how to use this syntax in practice.
<h3>Example 1: Increase Size of a Single Matplotlib Plot</h3>
Suppose we create the following line plot in Matplotlib:
<b>import matplotlib.pyplot as plt
#define x and y
x = [1, 6, 10]
y = [5, 13, 27]
#create plot of x and y
plt.plot(x, y)
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/plotsize1.png">
By default, the (width, height) of a Matplotlib plot is (6.4, 4.8).
However, we can use the following syntax to increase the plot size to whatever dimensions we’d like:
<b>import matplotlib.pyplot as plt
#define plot size
plt.figure(figsize=(5,8))
#define x and y
x = [1, 6, 10]
y = [5, 13, 27]
#create plot of x and y
plt.plot(x, y)
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/plotsize2.png">
<h3>Example 2: Increase Size of All Matplotlib Plots</h3>
The following code shows how to set the plot size for <em>all</em> Matplotlib plots in a notebook:
<b>import matplotlib.pyplot as plt
#define plot size for all plots
plt.rcParams['figure.figsize'] = [10, 4]
#define first dataset
x = [1, 6, 10]
y = [5, 13, 27]
#create first plot
plt.plot(x, y)
plt.show()
#define second dataset
x2 = [1, 6, 10]
y2 = [5, 19, 12]
#create second plot
plt.plot(x2, y2)
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/plotsize3.png">
Notice that both plots have the width and height specified by the <b>rcParams</b> arguments.
<h2><span class="orange">How to Use “%matplotlib inline” (With Examples)</span></h2>
You can use the following code to display and store  Matplotlib  plots within a Python Jupyter notebook:
<b>%matplotlib inline
</b>
Here’s how this code is described within the  documentation page :
“With this backend, the output of plotting commands is displayed <em>inline</em> within frontends like the Jupyter notebook, directly below the code cell that produced it. The resulting plots will then also be stored in the notebook document.”
The following example shows how to use this code in practice.
<h3>Example: How to Use %matplotlibe inline</h3>
Suppose we attempt to use the following code to create a Matplotlib line plot in a Jupyter notebook:
<b>import matplotlib.pyplot as plt
#define x and y
x = [1, 6, 10]
y = [5, 13, 27]
#attempt to create line plot of x and y
plt.plot(x, y)
</b>
Here’s what the output looks like in the Jupyter notebook:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/11/inline1.png">
The code runs without any errors, but no line plot  is displayed inline with the code.
To fix this, we can use the <b>%matplotlib inline</b> command before we create the line plot:
<b>%matplotlib inline
import matplotlib.pyplot as plt
#define x and y
x = [1, 6, 10]
y = [5, 13, 27]
#create scatter plot of x and y
plt.plot(x, y)</b>
Here’s what the output looks like in the Jupyter notebook:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/11/inline2.png">
Notice that the code runs without any errors again and the plot is displayed inline in the notebook.
Note that once we’ve used <b>%matplotlib inline</b>, any Matplotlib plots that we create in any future cells in the notebook will also be displayed and store within the notebook.
<h2><span class="orange">How to Use Italic Font in Matplotlib (With Examples)</span></h2>
You can use the <b>style </b>argument to create an italic font in Matplotlib.
This argument is commonly used with titles and annotated text in Matplotlib:
<b>Method 1: Use Italic Font in Title</b>
<b>plt.title('My Title', style='italic')</b>
<b>Method 2: Use Italic Font in Annotated Text</b>
<b>plt.text(6, 10, 'some text', style='italic')
</b>
The following examples show how to use each method in practice.
<h2>Example 1: Use Italic Font in Title</h2>
The following code shows how to create a scatterplot with a title in Matplotlib that uses regular font:
<b>import matplotlib.pyplot as plt
#create data
x = [3, 6, 8, 12, 14]
y = [4, 9, 14, 12, 9]
#create scatterplot
plt.scatter(x, y)
#add title
plt.title('My Title', fontsize=22)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/07/bold1.jpg"503">
And the following code shows how to create a scatterplot with a title in Matplotlib and use the <b>style </b>argument to enable italic font:
<b>import matplotlib.pyplot as plt
#create data
x = [3, 6, 8, 12, 14]
y = [4, 9, 14, 12, 9]
#create scatterplot
plt.scatter(x, y)
#add title
plt.title('My Title', fontsize=22, style='italic')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/07/italic1.jpg"503">
<h2>Example 2: Use Italic Font in Annotated Text</h2>
The following code shows how to use the <b>style </b>argument to enable italic font in an annotated text in a Matplotlib scatterplot:
<b>import matplotlib.pyplot as plt
#create data
x = [3, 6, 8, 12, 14]
y = [4, 9, 14, 12, 9]
#create scatterplot
plt.scatter(x, y)
#add regular text
plt.text(6, 10, 'Normal Font',  fontsize=16)
#add italic text
plt.text(10, 10, 'Italic Font', fontsize=16, style='italic')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/07/italic2.jpg"516">
Notice the difference between the normal font and the italic font.
<h2>Additional Resources</h2>
The following tutorials explain how to perform other common tasks in Matplotlib:
 How to Use Bold Font in Matplotlib 
 How to Add Text to Matplotlib Plots 
 How to Change Fonts in Matplotlib 
<h2><span class="orange">How to Change Legend Font Size in Matplotlib</span></h2>
You can easily add a plot to a Matplotlib plot by using the following code:
<b>import matplotlib.pyplot as plt
#add legend to plot
plt.legend()
</b>
And you can easily change the font size of the text in the legend by using one of the following methods:
<b>Method 1: Specify a Size in Numbers</b>
You can specify font size by using a number:
<b>plt.legend(fontsize=18)</b>
<b>Method 2: Specify a Size in Strings</b>
You can also specify font size by using strings:
<b>plt.legend(fontsize="small")</b>
Options include:
xx-small
x-small
small
medium
large
x-large
xx-large
The following examples show how to use each of these methods in practice:
<h3>Example 1: Specify Font Size Using a Number</h3>
The following example shows how to specify a legend font size using a number:
<b>import matplotlib.pyplot as plt
#create data
plt.plot([2, 4, 6, 11], label="First Line")
plt.plot([1, 4, 5, 9], label="Second Line")
#add legend
plt.legend(fontsize=18)
#show plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/legendFont1.png">
<h3>Example 2: Specify Font Size Using a String</h3>
The following example shows how to specify a legend font size using a string:
<b>import matplotlib.pyplot as plt
#create data
plt.plot([2, 4, 6, 11], label="First Line")
plt.plot([1, 4, 5, 9], label="Second Line")
#add legend
plt.legend(fontsize="small")
#show plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/legendFont2.png">
<h2><span class="orange">How to Change Order of Items in Matplotlib Legend</span></h2>
You can use the following chunk of code to change the order of items in a Matplotlib legend:
<b>#get handles and labels
handles, labels = plt.gca().get_legend_handles_labels()
#specify order of items in legend
order = [1,2,0]
#add legend to plot
plt.legend([handles[idx] for idx in order],[labels[idx] for idx in order])
</b>
The following example shows how to use this syntax in practice.
<h3>Example: Change Order of Items in Matplotlib Legend</h3>
Suppose we create the following line chart in Matplotlib:
<b>import pandas as pd
import matplotlib.pyplot as plt
#create data
df = pd.DataFrame({'points': [11, 17, 16, 18, 22, 25, 26, 24, 29],   'assists': [5, 7, 7, 9, 12, 9, 9, 4, 8],   'rebounds': [6, 8, 8, 10, 14, 12, 12, 10, 11]})
#add lines to plot
plt.plot(df['points'], label='Points', color='green')
plt.plot(df['assists'], label='Assists', color='steelblue')
plt.plot(df['rebounds'], label='Rebounds', color='purple')
#add legend
plt.legend()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/10/mats1.png">
The items in the legend are placed in the order that we added the lines to the plot.
However, we can use the following syntax to customize the order of the items in the legend:
<b>import pandas as pd
import matplotlib.pyplot as plt
#create data
df = pd.DataFrame({'points': [11, 17, 16, 18, 22, 25, 26, 24, 29],   'assists': [5, 7, 7, 9, 12, 9, 9, 4, 8],   'rebounds': [6, 8, 8, 10, 14, 12, 12, 10, 11]})
#add lines to plot
plt.plot(df['points'], label='Points', color='green')
plt.plot(df['assists'], label='Assists', color='steelblue')
plt.plot(df['rebounds'], label='Rebounds', color='purple')
#get handles and labels
handles, labels = plt.gca().get_legend_handles_labels()
#specify order of items in legend
order = [1,2,0]
#add legend to plot
plt.legend([handles[idx] for idx in order],[labels[idx] for idx in order]) 
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/10/mats2.png">
Note that we specified:
order = [1, 2, 0]
This means:
The first item in the legend should be the label that was originally in index position <b>1</b> of the old legend (“Assists”)
The second item in the legend should be the label that was originally in index position <b>2</b> of the old legend (“Rebounds”)
The third item in the legend should be the label that was originally in index position <b>0</b> of the old legend (“Points”)
<h2><span class="orange">How to Place the Legend Outside of a Matplotlib Plot</span></h2>
Often you may want to place the legend of a Matplotlib plot outside of the actual plot.
Fortunately this is easy to do using the  matplotlib.pyplot.legend()  function combined with the <b>bbox_to_anchor</b> argument.
This tutorial shows several examples of how to use this function in practice.
<h2>Example 1: Place Legend in Top Right Corner</h2>
The following code shows how to place the legend in the top right corner outside of a Matplotlib plot:
<b>import matplotlib.pyplot as plt
#create plot
plt.subplot(211)
plt.plot([2, 4, 6], label="First Data")
plt.plot([6, 4, 2], label="Second Data")
#place legend in top right corner
plt.legend(bbox_to_anchor=(1,1), loc="upper left")
#show plot
plt.show()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/legend1.png">
Note that the <b>loc </b>argument tells Matplotlib to place the <b>upper left </b>corner of the legend line at the (x,y) coordinates of (1,1) in the plot.
<h2>Example 2: Place Legend in Bottom Right Corner</h2>
The following code shows how to place the legend in the bottom right corner outside of a Matplotlib plot:
<b>import matplotlib.pyplot as plt
#create plot
plt.subplot(211)
plt.plot([2, 4, 6], label="First Data")
plt.plot([6, 4, 2], label="Second Data")
#place legend in top right corner
plt.legend(bbox_to_anchor=(1,0), loc="lower left")
#show plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/legend2.png">
Note that the <b>loc </b>argument tells Matplotlib to place the <b>lower left </b>corner of the legend line at the (x,y) coordinates of (1,0) in the plot.
<h2>Example 3: Place Legend Above Plot</h2>
The following code shows how to place the legend above the Matplotlib plot:
<b>import matplotlib.pyplot as plt
#create plot
plt.subplot(211)
plt.plot([2, 4, 6], label="First Data")
plt.plot([6, 4, 2], label="Second Data")
#place legend above plot
plt.legend(bbox_to_anchor=(0, 1, 1, 0), loc="lower left", mode="expand", ncol=2)
#show plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/legend3.png">
Note that the <b>mode </b>argument tells Matplotlib to expand the legend to the length of the plot and the <b>ncol </b>argument tells Matplotlib to place the legend labels in 2 columns.
We could also leave out the <b>mode </b>and <b>ncol </b>arguments if we simply want to place the legend in the top left corner above the plot:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/legend4.png">
<h2>Additional Resources</h2>
The following tutorials explain how to perform other common tasks in Matplotlib:
 How to Change Font Sizes on a Matplotlib Plot 
 How to Remove Ticks from Matplotlib Plots 
 How to Show Gridlines on Matplotlib Plots 
<h2><span class="orange">How to Change the Position of a Legend in Matplotlib</span></h2>
To change the position of a legend in Matplotlib, you can use the <b>plt.legend()</b> function.
For example, you can use the following syntax to place the legend in the upper left corner of the plot:
<b>plt.legend(loc='upper left')
</b>
The default location is “best” – which is where Matplotlib automatically finds a location for the legend based on where it avoids covering any data points.
However, you can specify any of the following legend locations:
upper right
upper left
lower left
lower right
right
center left
center right
lower center
upper center
center
You can also use the <b>bbox_to_anchor()</b> argument to place the legend outside of the plot. For example, you can use the following syntax to place the legend in the top right corner outside of the plot:
<b>plt.legend(bbox_to_anchor=(1.05, 1), loc='upper left', borderaxespad=0)
</b>
The following examples show how to use each of these methods in practice.
<h3>Example 1: Change Legend Position Inside of Matplotlib Plot</h3>
The following code shows how to place the legend inside the center right portion of a Matplotlib line plot:
<b>import pandas as pd
import matplotlib.pyplot as plt
#create data
df = pd.DataFrame({'points': [11, 17, 16, 18, 22, 25, 26, 24, 29],   'assists': [5, 7, 7, 9, 12, 9, 9, 4, 8]})
#add lines to plot
plt.plot(df['points'], label='Points', color='green')
plt.plot(df['assists'], label='Assists', color='steelblue')
#place legend in center right of plot
plt.legend(loc='center right', title='Metric')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/10/position11.png">
And the following code shows how to place the legend inside the upper left portion of a Matplotlib plot:
<b>import pandas as pd
import matplotlib.pyplot as plt
#create data
df = pd.DataFrame({'points': [11, 17, 16, 18, 22, 25, 26, 24, 29],   'assists': [5, 7, 7, 9, 12, 9, 9, 4, 8]})
#add lines to plot
plt.plot(df['points'], label='Points', color='green')
plt.plot(df['assists'], label='Assists', color='steelblue')
#place legend in center right of plot
plt.legend(loc='upper left', title='Metric')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/10/position12.png">
<h3>Example 2: Change Legend Position Outside of Matplotlib Plot</h3>
To place the legend outside of a Matplotlib plot, we can use the <b>bbox_to_anchor()</b> argument.
For example, here’s how to place the legend outside the top right corner of the plot:
<b>import pandas as pd
import matplotlib.pyplot as plt
#create data
df = pd.DataFrame({'points': [11, 17, 16, 18, 22, 25, 26, 24, 29],   'assists': [5, 7, 7, 9, 12, 9, 9, 4, 8]})
#add lines to plot
plt.plot(df['points'], label='Points', color='green')
plt.plot(df['assists'], label='Assists', color='steelblue')
#place legend in center right of plot
plt.legend(bbox_to_anchor=(1.02, 1), loc='upper left', borderaxespad=0)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/10/position13.png">
And here’s how to place the legend outside the bottom right corner of the plot:
<b>import pandas as pd
import matplotlib.pyplot as plt
#create data
df = pd.DataFrame({'points': [11, 17, 16, 18, 22, 25, 26, 24, 29],   'assists': [5, 7, 7, 9, 12, 9, 9, 4, 8]})
#add lines to plot
plt.plot(df['points'], label='Points', color='green')
plt.plot(df['assists'], label='Assists', color='steelblue')
#place legend in center right of plot
plt.legend(bbox_to_anchor=(1.02, 0.1), loc='upper left', borderaxespad=0)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/10/position14.png">
Refer to the  matplotlib documentation  for a detailed explanation of the <b>bbox_to_anchor()</b> argument.
<h2><span class="orange">How to Add a Title to Matplotlib Legend (With Examples)</span></h2>
By default, legends in Matplotlib plots do not include a title.
However, you can use the following basic syntax to add a title to a legend:
<b>plt.legend(title='this is my title')</b>
The following example shows how to use this syntax in practice.
<h3>Example 1: Add Title to Matplotlib Legend</h3>
The following code shows how to create a Matplotlib plot with multiple lines and a legend:
<b>import pandas as pd
import matplotlib.pyplot as plt
#create data
df = pd.DataFrame({'points': [11, 17, 16, 18, 22, 25, 26, 24, 29],   'assists': [5, 7, 7, 9, 12, 9, 9, 4, 8]})
#add lines to plot
plt.plot(df['points'], label='Points')
plt.plot(df['assists'], label='Assists')
#add legend
plt.legend()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/04/legendtitle1.jpg"522">
Notice that the legend doesn’t have a title.
To add one, we can simply use the <b>title</b> argument within the <b>plt.legend()</b> function:
<b>#add title to legend
plt.legend(title='Metric')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/04/legendtitle2.jpg">
To modify the font size of the legend title, use the <b>title_fontsize</b> argument:
<b>Note</b>: The default font size is 10.
<b>#add title to legend with increased font size
plt.legend(title='Metric', title_fontsize=25)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/04/legendtitle3.jpg"543">
Notice that the font size of the legend is much larger now.
You can also use the <b>fontsize</b> argument to increase the font size of the labels in the legend:
<b>#add title to legend with increased title and label font size
plt.legend(title='Metric', title_fontsize=25, fontsize=15)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/04/legendtitle4.jpg"544">
Notice that the labels in the legend are much larger now.
<h2><span class="orange">How to Adjust Line Thickness in Matplotlib</span></h2>
You can easily adjust the thickness of lines in Matplotlib plots by using the <b>linewidth</b> argument function, which uses the following syntax:
<b>matplotlib.pyplot.plot(x, y, linewidth=1.5)</b>
By default, the line width is 1.5 but you can adjust this to any value greater than 0.
This tutorial provides several examples of how to use this function in practice.
<h3>Example 1: Adjust the Thickness of One Line</h3>
The following code shows how to create a simple line chart and set the line width to 3:
<b>import matplotlib.pyplot as plt
import numpy as np
#define x and y values
x = np.linspace(0, 10, 100)
y1 = np.sin(x)*np.exp(-x/3)
#create line plot with line width set to 3
plt.plot(x, y1, linewidth=3)
#display plot
plt.show()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/linewidth1-1.png">
<h3>
<b>Example 2: Adjust the Thickness of Multiple Lines</b>
</h3>
The following code shows how to adjust the thickness of multiple lines at once:
<b>import matplotlib.pyplot as plt
import numpy as np
#define x and y values
x = np.linspace(0, 10, 100)
y1 = np.sin(x)*np.exp(-x/3)
y2 = np.cos(x)*np.exp(-x/5)
#create line plot with multiple lines
plt.plot(x, y1, linewidth=3)
plt.plot(x, y2, linewidth=1)
#display plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/linewidth2.png">
<h3>Example 3: Adjust Line Thickness in Legends</h3>
The following code shows how to create multiple lines with different thicknesses and create a legend that displays the the thickness of each line accordingly:
<b>import matplotlib.pyplot as plt
import numpy as np
#define x and y values
x = np.linspace(0, 10, 100)
y1 = np.sin(x)*np.exp(-x/3)
y2 = np.cos(x)*np.exp(-x/5)
#create line plot with multiple lines
plt.plot(x, y1, linewidth=3, label='y1')
plt.plot(x, y2, linewidth=1, label='y2')
#add legend
plt.legend()
#display plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/linewidth3.png">
<h2><span class="orange">How to Create Matplotlib Plots with Log Scales</span></h2>
Often you may want to create Matplotlib plots with <b>log scales</b> for one or more axes. Fortunately Matplotlib offers the following three functions for doing so:
 Matplotlib.pyplot.semilogx()  – Make a plot with log scaling on the x-axis.
 Matplotlib.pyplot.semilogy()  – Make a plot with log scaling on the y-axis.
 Matplotlib.pyplot.loglog()  – Make a plot with log scaling on both axes. 
This tutorial explains how to use each of these functions in practice.
<h3>Example 1: Log Scale for the X-Axis</h3>
Suppose we create a line chart for the following data:
<b>import matplotlib.pyplot as plt
#create data
x = [1, 8, 190, 1400, 6500] 
y = [1, 2, 3, 4, 5]
#create line chart of data
plt.plot(x,y)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/logscale3.png">
We can use the <b>.semilogx() </b>function to convert the x-axis to a log scale:
<b>plt.semilogx()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/logscale4.png">
Note that the y-axis is the exact same, but the x-axis is now on a log scale.
<h3>Example 2: Log Scale for the Y-Axis</h3>
Suppose we create a line chart for the following data:
<b>import matplotlib.pyplot as plt
#create data
x = [1, 2, 3, 4, 5]
y = [1, 8, 190, 1400, 6500]
#create line chart of data
plt.plot(x,y)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/logscale1.png">
We can use the <b>.semilogy() </b>function to convert the y-axis to a log scale:
<b>plt.semilogy()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/logscale2.png">
Note that the x-axis is the exact same, but the y-axis is now on a log scale.
<h3>Example 3: Log Scale for Both Axes</h3>
Suppose we create a line chart for the following data:
<b>import matplotlib.pyplot as plt
#create data
x = [10, 200, 3000, 40000, 500000]
y = [30, 400, 5000, 60000, 750000]
#create line chart of data
plt.plot(x,y)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/logscale5.png">
We can use the <b>.loglog() </b>function to convert the y-axis to a log scale:
<b>plt.loglog(x, y)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/logscale6.png">
Note that both axes are now on a log scale.
<h2><span class="orange">How to Create a Manual Legend in Matplotlib (With Example)</span></h2>
You can use functions from the <b>matplotlib.lines</b> and <b>matplotlib.patches</b> sub-modules to create a manual legend in a matplotlib plot.
The following example shows how to do so.
<h2>Example: Create a Manual Legend in Matplotlib</h2>
The following code shows how to create a scatter plot in matplotlib with a default legend:
<b>import matplotlib.pyplot as plt
#define data to plot
x = [1, 2, 3, 4, 5, 6, 7]
y = [2, 3, 5, 8, 12, 18, 27]
#create scatter plot of x vs. y
plt.scatter(x, y, label='Original Data', color='steelblue')
#add legend
plt.legend()
#display plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/08/manual1.jpg"482">
To create a manual legend with custom lines and squares, we need to import the <b>matplotlib.lines</b> and <b>matplotlib.patches</b> sub-modules.
The following code shows how to use these sub-modules to create a manual legend:
<b>import matplotlib.pyplot as plt
from matplotlib.lines import Line2D
import matplotlib.patches as mpatches
#define data to plot
x = [1, 2, 3, 4, 5, 6, 7]
y = [2, 3, 5, 8, 12, 18, 27]
#create scatter plot of x vs. y
plt.scatter(x, y, label='Original Data', color='steelblue')
#define handles and labels that will get added to legend
handles, labels = plt.gca().get_legend_handles_labels()
#define patches and lines to add to legend
patch1 = mpatches.Patch(color='orange', label='First Manual Patch')
patch2 = mpatches.Patch(color='orange', label='First Manual Patch')   
line1 = Line2D([0], [0], label='First Manual Line', color='purple')
line2 = Line2D([0], [0], label='Second Manual Line', color='red')
#add handles
handles.extend([patch1, line1, line2])
#add legend
plt.legend(handles=handles)
#display plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/08/manual2.jpg">
Notice that this legend includes the label for the original data but also includes labels and shapes for items we added manually.
To change the labels or colors of any of the items, simply modify the values for the <b>label</b> and <b>color</b> arguments in the previous chunk of code.
<b>Note</b>: Refer to  this tutorial  to learn how to change the position of the legend within the plot.
<h2>Additional Resources</h2>
The following tutorials explain how to perform other common tasks in Matplotlib:
 How to Increase Plot Size in Matplotlib 
 How to Adjust Title Position in Matplotlib 
 How to Set Axis Ranges in Matplotlib 
<h2><span class="orange">How to Adjust Marker Size in Matplotlib (With Examples)</span></h2>
You can use the <b>s</b> argument to adjust the marker size of points in Matplotlib:
<b>plt.scatter(x, y, s=40) 
</b>
The following examples show how to use this syntax in practice.
<h3>Example 1: Set a Single Marker Size for All Points</h3>
The following code shows how to create a scatterplot in Matplotlib and set a single marker size for all points in the plot:
<b>import matplotlib.pyplot as plt
#define two arrays for plotting
A = [3, 5, 5, 6, 7, 8]
B = [12, 14, 17, 20, 22, 27]
#create scatterplot, specifying marker size to be 40
plt.scatter(A, B, s=40)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/markersize1.png">
The larger the number we specify for the <b>s </b>argument, the larger the points will be in the plot:
<b>import matplotlib.pyplot as plt
#define two arrays for plotting
A = [3, 5, 5, 6, 7, 8]
B = [12, 14, 17, 20, 22, 27]
#create scatterplot, specifying marker size to be 120
plt.scatter(A, B, s=120)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/markersize2.png">
<h3>Example 2: Set Different Marker Sizes for Each Point</h3>
The following code shows how to create a scatterplot in Matplotlib and set a different marker size for each point in the plot:
<b>import matplotlib.pyplot as plt
#define two arrays for plotting
A = [3, 5, 5, 6, 7, 8]
B = [12, 14, 17, 20, 22, 27]
#define array of marker sizes to use
sizes = [20, 40, 60, 80, 100, 150]
#create scatterplot, using marker sizes specified in array
plt.scatter(A, B, s=sizes)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/markersize3.png">
<h3>Example 3: Use a Function to Define Marker Sizes</h3>
The following code shows how to create a scatterplot in Matplotlib and use a function to define the marker sizes to use for each point in the plot:
<b>import matplotlib.pyplot as plt
#define two arrays for plotting
A = [3, 5, 5, 6, 7, 8]
B = [12, 14, 17, 20, 22, 27]
#define array of marker sizes to use
sizes = [3**n for n in range(len(A))]
#create scatterplot, using marker sizes specified in function
plt.scatter(A, B, s=sizes)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/markersize4.png">
You can find the complete Matplotlib documentation for adjusting marker size  here .
<h2><span class="orange">How to Create Multiple Matplotlib Plots in One Figure</span></h2>
You can use the following syntax to create multiple Matplotlib plots in one figure:
<b>import matplotlib.pyplot as plt
#define grid of plots
fig, axs = plt.subplots(nrows=2, ncols=1)
#add data to plots
axs[0].plot(variable1, variable2)
axs[1].plot(variable3, variable4)
</b>
The following examples show how to use this function in practice.
<h3>Example 1: Stack Plots Vertically</h3>
The following code shows how to create three Matplotlib plots, stacked vertically:
<b>#create some data
var1 = [1, 2, 3, 4, 5, 6]
var2 = [7, 13, 16, 18, 25, 19]
var3 = [29, 25, 20, 25, 20, 18]
#define grid of plots
fig, axs = plt.subplots(nrows=3, ncols=1)
#add title
fig.suptitle('Plots Stacked Vertically')
#add data to plots
axs[0].plot(var1, var2)
axs[1].plot(var1, var3)
axs[2].plot(var2, var3)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/multiple1.png">
<h3>Example 2: Stack Plots Horizontally</h3>
The following code shows how to create three Matplotlib plots, stacked horizontally:
<b>#create some data
var1 = [1, 2, 3, 4, 5, 6]
var2 = [7, 13, 16, 18, 25, 19]
var3 = [29, 25, 20, 25, 20, 18]
#define grid of plots
fig, axs = plt.subplots(nrows=1, ncols=3)
#add title
fig.suptitle('Plots Stacked Horizontally')
#add data to plots
axs[0].plot(var1, var2)
axs[1].plot(var1, var3)
axs[2].plot(var2, var3)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/multiple2.png">
<h3>Example 3: Create a Grid of Plots</h3>
The following code shows how to create a grid of Matplotlib plots:
<b>#create some data
var1 = [1, 2, 3, 4, 5, 6]
var2 = [7, 13, 16, 18, 25, 19]
var3 = [29, 25, 20, 25, 20, 18]
var4 = [4, 4, 6, 4, 7, 11]
#define grid of plots
fig, axs = plt.subplots(nrows=2, ncols=2)
#add title
fig.suptitle('Grid of Plots')
#add data to plots
axs[0, 0].plot(var1, var2)
axs[0, 1].plot(var1, var3)
axs[1, 0].plot(var1, var4)
axs[1, 1].plot(var3, var1)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/multiple3.png">
<h3>Example 4: Share Axes Between Plots</h3>
You can use the <b>sharex</b> and <b>sharey</b> arguments to ensure that multiple plots use the same x-axis:
<b>#create some data
var1 = [1, 2, 3, 4, 5, 6]
var2 = [7, 13, 16, 18, 25, 19]
var3 = [29, 25, 20, 25, 20, 18]
var4 = [4, 4, 6, 4, 7, 11]
#define grid of plots
fig, axs = plt.subplots(nrows=2, ncols=2, sharex=True, sharey=True)
#add title
fig.suptitle('Grid of Plots with Same Axes')
#add data to plots
axs[0, 0].plot(var1, var2)
axs[0, 1].plot(var1, var3)
axs[1, 0].plot(var1, var4)
axs[1, 1].plot(var3, var1)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/multiple4.png">
<h2><span class="orange">How to Change the Number of Ticks in Matplotlib</span></h2>
You can use the following syntax to change the number of ticks on each axis in Matplotlib:
<b>#specify number of ticks on x-axis
plt.locator_params(axis='x', nbins=4)
#specify number of ticks on y-axis
plt.locator_params(axis='y', nbins=2) 
</b>
The <b>nbins</b> argument specifies how many ticks to display on each axis.
The following examples show how to use this syntax in practice.
<h3>Example 1: Specify Number of Ticks on Both Axes</h3>
The following code shows how to specify the number of ticks on both axes in a plot:
<b>import matplotlib.pyplot as plt
#define data
x = [1, 2, 3, 4]
y = [7, 13, 24, 22]
#create plot
plt.plot(x, y, color='red')
#specify number of ticks on axes
plt.locator_params(axis='x', nbins=4)
plt.locator_params(axis='y', nbins=2)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/ticks1.png">
<h3>Example 2: Specify Number of Ticks on X-Axis Only</h3>
The following code shows how to specify the number of ticks just on the x-axis:
<b>import matplotlib.pyplot as plt
#define data
x = [1, 2, 3, 4]
y = [7, 13, 24, 22]
#create plot
plt.plot(x, y, color='red')
#specify number of ticks on x-axis
plt.locator_params(axis='x', nbins=2)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/ticks2.png">
<h3>Example 3: Specify Number of Ticks on Y-Axis Only</h3>
The following code shows how to specify the number of ticks just on the y-axis:
<b>import matplotlib.pyplot as plt
#define data
x = [1, 2, 3, 4]
y = [7, 13, 24, 22]
#create plot
plt.plot(x, y, color='red')
#specify number of ticks on y-axis
plt.locator_params(axis='y', nbins=2)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/ticks3.png">
<h2><span class="orange">How to Create a Candlestick Chart Using Matplotlib in Python</span></h2>
A  candlestick chart  is a type of financial chart that displays the price movements of securities over time.
The following example shows how to create a candlestick chart using the  Matplotlib  visualization library in Python.
<h3>Example: Creating a Candlestick Chart in Python</h3>
Suppose we have the following pandas DataFrame that shows the open, close, high, and low price of a certain stock during an 8-day period:
<b>import pandas as pd
#create DataFrame
prices = pd.DataFrame({'open': [25, 22, 21, 19, 23, 21, 25, 29],       'close': [24, 20, 17, 23, 22, 25, 29, 31],       'high': [28, 27, 29, 25, 24, 26, 31, 37],       'low': [22, 16, 14, 17, 19, 18, 22, 26]},       index=pd.date_range("2021-01-01", periods=8, freq="d"))
#display DataFrame
print(prices)
            open  close  high  low
2021-01-01    25     24    28   22
2021-01-02    22     20    27   16
2021-01-03    21     17    29   14
2021-01-04    19     23    25   17
2021-01-05    23     22    24   19
2021-01-06    21     25    26   18
2021-01-07    25     29    31   22
2021-01-08    29     31    37   26
</b>
We can use the following code to create a candlestick chart to visualize the price movements of this stock during this 8-day period:
<b>import matplotlib.pyplot as plt
#create figure
plt.figure()
#define width of candlestick elements
width = .4
width2 = .05
#define up and down prices
up = prices[prices.close>=prices.open]
down = prices[prices.close&lt;prices.open]
#define colors to use
col1 = 'green'
col2 = 'red'
#plot up prices
plt.bar(up.index,up.close-up.open,width,bottom=up.open,color=col1)
plt.bar(up.index,up.high-up.close,width2,bottom=up.close,color=col1)
plt.bar(up.index,up.low-up.open,width2,bottom=up.open,color=col1)
#plot down prices
plt.bar(down.index,down.close-down.open,width,bottom=down.open,color=col2)
plt.bar(down.index,down.high-down.open,width2,bottom=down.open,color=col2)
plt.bar(down.index,down.low-down.close,width2,bottom=down.close,color=col2)
#rotate x-axis tick labels
plt.xticks(rotation=45, ha='right')
#display candlestick chart
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/10/candle1.png">
Each candlestick represents the price movement of the security on a particular day. The color of the candlestick tells us whether the price closed higher (green) or lower (red) than the previous day.
Feel free to change the widths of the candlesticks and the colors used to make the chart appear however you’d like.
For example, we could make the candles even skinnier and use different colors to represent ‘up’ and ‘down’ days:
<b>import matplotlib.pyplot as plt
#create figure
plt.figure()
#define width of candlestick elements
width = .2
width2 = .02
#define up and down prices
up = prices[prices.close>=prices.open]
down = prices[prices.close&lt;prices.open]
#define colors to use
col1 = 'black'
col2 = 'steelblue'
#plot up prices
plt.bar(up.index,up.close-up.open,width,bottom=up.open,color=col1)
plt.bar(up.index,up.high-up.close,width2,bottom=up.close,color=col1)
plt.bar(up.index,up.low-up.open,width2,bottom=up.open,color=col1)
#plot down prices
plt.bar(down.index,down.close-down.open,width,bottom=down.open,color=col2)
plt.bar(down.index,down.high-down.open,width2,bottom=down.open,color=col2)
plt.bar(down.index,down.low-down.close,width2,bottom=down.close,color=col2)
#rotate x-axis tick labels
plt.xticks(rotation=45, ha='right')
#display candlestick chart
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/10/candle2.png">
<h2><span class="orange">How to Create a Quiver Plot in Matplotlib (With Examples)</span></h2>
A <b>quiver plot </b>is a type of plot that displays arrows with directional components U and V at the Cartesian coordinates specified by X and Y.
We can easily create a quiver plot in Matplotlib by using the <b>quiver()</b> function, which uses the following syntax:
<b>quiver(x, y, u, v)</b>
where:
<b>x:</b> The x-coordinates of the arrow locations
<b>y:</b> The y-coordinates of the arrow locations
<b>u:</b> The x components of the arrow vectors
<b>v:</b> The y components of the arrow vectors
This tutorial provides several examples of how to use this function in practice.
<h3>Example 1: Quiver Plot with One Arrow</h3>
The following code shows how to display a quiver plot with just one arrow:
<b>import matplotlib.pyplot as plt
#define plots
fig, ax = plt.subplots()
#define coordinates and directions
x = 0
y = 0
u = 15
v = 3
#create quiver plot
ax.quiver(x, y, u, v)
#display quiver plot
plt.show()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/quiver1.png">
<h3>Example 2: Quiver Plot with Two Arrows</h3>
The following code shows how to display a quiver plot with two arrows:
<b>import matplotlib.pyplot as plt
#define plots
fig, ax = plt.subplots()
#define coordinates and directions
x = [0, 0]
y = [0, 0]
u = [0, 1]
v = [-2, 0]
#create quiver plot
ax.quiver(x, y, u, v, scale = 10)
#display quiver plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/quiver3.png">
Note that the <b>scale</b> argument scales the arrows to be longer, which makes them easier to view on the plot.
<h3>Example 3: Quiver Plot with a Mesh Grid</h3>
The following code shows how to display a quiver plot using a mesh grid:
<b>import matplotlib.pyplot as plt
import numpy as np
#define plots
fig, ax = plt.subplots()
#define coordinates and directions
x,y = np.meshgrid(np.arange(-2, 2, .1), np.arange(-2, 2, .1))
z = x*np.exp(-x**2 - y**2)
v, u = np.gradient(z, .1, .1)
#create quiver plot
ax.quiver(x, y, u, v)
#display quiver plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/quiver4.png">
You can find the complete documentation for the quiver() function  here .
<h2><span class="orange">How to Generate Random Colors in Matplotlib Plots</span></h2>
You can use the following basic syntax to generate random colors in Matplotlib plots:
<b>1. Generate Random Color for Line Plot</b>
<b>col = (np.random.random(), np.random.random(), np.random.random())
plt.plot(x, y, c=col)
</b>
<b>2. Generate Random Colors for Scatterplot</b>
<b>plt.scatter(x, y, c=np.random.rand(len(x),3))
</b>
The following examples show how to use this syntax in practice.
<h3>Example 1: Generate Random Color for Line Plot</h3>
The following code shows how to generate a random color for a single line in a line plot:
<b>import matplotlib.pyplot as plt
import numpy as np
#define data
x = [1, 2, 3, 4, 5]
y = [7, 12, 15, 19, 25]
#define random color
col = (np.random.random(), np.random.random(), np.random.random())
#create line plot with random color
plt.plot(x, y, c=col) 
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/08/random1.png">
If we run this exact same piece of code again, a line plot with a different random color will be created:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/08/random2.png">
<h3>Example 2: Generate Random Colors for Scatterplot</h3>
The following code shows how to create a scatterplot with random colors for each point in the plot:
<b>import matplotlib.pyplot as plt
import numpy as np
#define data
x = [1, 2, 3, 4, 5]
y = [7, 12, 15, 19, 25]
#create scatterplot with random colors for each point
plt.scatter(x, y, c=np.random.rand(len(x),3))
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/08/random3.png">
If we run this exact same piece of code again, a scatterplot with new random colors for each point will be created:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/08/random4.png">
<b>Note:</b> Under the hood, this code is simply using NumPy to generate random (R,G,B) colors.
Refer to the  online documentation  for a complete explanation of the NumPy <b>random()</b> function.
<h2><span class="orange">How to Draw Rectangles in Matplotlib (With Examples)</span></h2>
To draw a rectangle in Matplotlib, you can use the  matplotlib.patches.Rectangle  function, which uses the following syntax:
<b>matplotlib.patches.Rectangle(xy, width, height, angle=0.0)</b>
where:
<b>xy:</b> The (x, y) coordinates for the anchor point of the rectangle
<b>width:</b> Rectangle width
<b>height:</b> Rectangle height
<b>angle:</b> Rotation in degrees counter-clockwise about xy (Default is 0)
This tutorial provides several examples of how to use this function in practice.
<h3>Example 1: Draw a Rectangle on a Plot</h3>
The following code shows how to draw a rectangle on a Matplotlib plot with a width of 2 and height of 6:
<b>import matplotlib.pyplot as plt
from matplotlib.patches import Rectangle
#define Matplotlib figure and axis
fig, ax = plt.subplots()
#create simple line plot
ax.plot([0, 10],[0, 10])
#add rectangle to plot
ax.add_patch(Rectangle((1, 1), 2, 6))
#display plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/rectangle1.png">
<h3>Example 2: Style a Rectangle</h3>
The following code shows how to apply some styling to the rectangle:
<b>import matplotlib.pyplot as plt
from matplotlib.patches import Rectangle
#define Matplotlib figure and axis
fig, ax = plt.subplots()
#create simple line plot
ax.plot([0, 10],[0, 10])
#add rectangle to plot
ax.add_patch(Rectangle((1, 1), 2, 6,
             edgecolor = 'pink',
             facecolor = 'blue',
             fill=True,
             lw=5))
#display plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/rectangle2.png">
You can find a complete list of styling properties that you can apply to a rectangle  here .
<h3>Example 3: Draw a Rectangle on an Image</h3>
The following code shows how to draw a rectangle on an image in Matplotilb. Note that the image used in this example comes from  this Matplotlib tutorial .
<em>To replicate this example, just download the photo of the stinkbug from that tutorial and save it to your own computer.</em>
<b>import matplotlib.pyplot as plt
from matplotlib.patches import Rectangle
from PIL import Image
#display the image
plt.imshow(Image.open('stinkbug.png'))
#add rectangle
plt.gca().add_patch(Rectangle((50,100),40,80,    edgecolor='red',    facecolor='none',    lw=4))
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/rectangle3.png">
Note that we can use the <b>angle</b> argument to rotate the rectangle a certain number of degrees counter-clockwise:
<b>import matplotlib.pyplot as plt
from matplotlib.patches import Rectangle
from PIL import Image
#display the image
plt.imshow(Image.open('stinkbug.png'))
#add rectangle
plt.gca().add_patch(Rectangle((50,100),40,80,    angle=30,    edgecolor='red',    facecolor='none',    lw=4))</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/rectangle4.png">
<b>Related:</b>  How to Plot Circles in Matplotlib (With Examples) 
<h2><span class="orange">How to Create a Relative Frequency Histogram in Matplotlib</span></h2>
A  relative frequency histogram  is a graph that displays the relative frequencies of values in a dataset.
You can use the following syntax to create a relative frequency histogram in Matplotlib in Python:
<b>import matplotlib.pyplot as plt
import numpy as np
#define plotting area
fig = plt.figure()
ax = fig.add_subplot(111)
#create relative frequency histogram
ax.hist(data, edgecolor='black', weights=np.ones_like(data) / len(data))</b>
The following example shows how to use this syntax in practice. 
<h3>Example: Create Relative Frequency Histogram in Matplotlib</h3>
The following code shows how to create a regular frequency histogram in Matplotlib:
<b>import numpy as np
import matplotlib.pyplot as plt
#define data values
data = [8, 8, 9, 12, 13, 13, 14, 14, 15, 18, 22, 23, 24, 25, 30]
#create frequency histogram
fig = plt.figure()
ax = fig.add_subplot(111)
ax.hist(data, edgecolor='black')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/03/relfreq11.jpg"528">
The x-axis shows the bins for the data values and the y-axis shows the frequency for each bin.
We can use the following code to instead display <b>relative frequencies</b> on the y-axis:
<b>import numpy as np
import matplotlib.pyplot as plt
#define data values
data = [8, 8, 9, 12, 13, 13, 14, 14, 15, 18, 22, 23, 24, 25, 30]
#create relative frequency histogram
fig = plt.figure()
ax = fig.add_subplot(111)
ax.hist(data, edgecolor='black', weights=np.ones_like(data) / len(data))</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/03/relfreq12.jpg"527">
The y-axis now displays relative frequencies. 
For example, there are 15 total values in the dataset.
So instead of showing a frequency of <b>4</b> on the y-axis for the tallest bar in the graph, the y-axis now shows 4/15 = <b>0.2667</b>.
We can also use the <b>PercentFormatter()</b> function from Matplotlib to display the values on the y-axis as percentages:<b> </b>
<b>import numpy as np
import matplotlib.pyplot as plt
from matplotlib.ticker import PercentFormatter
#define data values
data = [8, 8, 9, 12, 13, 13, 14, 14, 15, 18, 22, 23, 24, 25, 30]
#create relative frequency histogram with percentages on y-axis
fig = plt.figure()
ax = fig.add_subplot(111)
ax.hist(data, edgecolor='black', weights=np.ones_like(data)*100 / len(data))
ax.yaxis.set_major_formatter(PercentFormatter())
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/03/relfreq13.jpg">
Notice that the y-axis now displays the relative frequencies as percentages.
<h2><span class="orange">How to Remove Ticks from Matplotlib Plots</span></h2>
Often you may want to remove ticks from one or more axes in a Matplotlib plot. Fortunately this is easy to do using the  tick_params()  function.
This tutorial shows several examples of how to use this function in practice based on the following scatterplot:
<b>import matplotlib.pyplot as plt
#create data
x = [25, 12, 15, 14, 19, 23, 25, 29]
y = [5, 7, 7, 9, 12, 9, 9, 4]
#create scatterplot
plt.scatter(x, y, s=200)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/matplotlibTicks1.png">
<h3>Example 1: Remove Ticks From a Single Axis</h3>
The following code shows how to remove the ticks from the <b>y-axis</b>:
<b>plt.tick_params(left=False)
plt.scatter(x, y, s=200)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/matplotlibTicks2.png">
And the following code shows how to remove the ticks from the <b>x-axis</b>:
<b>plt.tick_params(bottom=False)
plt.scatter(x, y, s=200)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/matplotlibTicks3.png">
<h3>Example 2: Remove Ticks from Both Axes</h3>
The following code shows how to remove the ticks from both axes:
<b>plt.tick_params(left=False,
                bottom=False)
plt.scatter(x, y, s=200)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/matplotlibTicks4.png">
<h3>Example 3: Remove Ticks <em>and </em>Labels from Axes</h3>
The following code shows how to remove the ticks <em>and </em>the labels from both axes:
<b>plt.tick_params(left=False,
                bottom=False,
                labelleft=False,
                labelbottom=False)
plt.scatter(x, y, s=200)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/matplotlibTicks5.png">
<em>You can find more Matplotlib tutorials  here .</em>
<h2><span class="orange">How to Reverse Axes in Matplotlib (With Examples)</span></h2>
You can use the following basic syntax to reverse the x-axis and y-axis in Matplotlib:
<b>plt.gca().invert_xaxis()
plt.gca().invert_yaxis()
</b>
The following example shows how to use this syntax in practice.
<h3>Example: Reverse Axes in Matplotlib</h3>
The following code shows how to create a basic scatterplot in Matplotlib:
<b>import matplotlib.pyplot as plt
#define x and y
x = [1, 4, 8, 11, 13, 14]
y = [5, 11, 18, 26, 25, 23]
#create scatterplot of x and y
plt.scatter(x, y)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/11/reverse1.png">
We can use the following code to <b>reverse the y-axis</b>:
<b>import matplotlib.pyplot as plt
#define x and y
x = [1, 4, 8, 11, 13, 14]
y = [5, 11, 18, 26, 25, 23]
#create scatterplot of x and y
plt.scatter(x, y)
#reverse y-axis
plt.gca().invert_yaxis()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/11/reverse2.png">
Notice that the y-axis now ranges from 25 to 5 instead of 5 to 25.
Alternatively, we could use the following code to <b>reverse the x-axis</b>:
<b>import matplotlib.pyplot as plt
#define x and y
x = [1, 4, 8, 11, 13, 14]
y = [5, 11, 18, 26, 25, 23]
#create scatterplot of x and y
plt.scatter(x, y)
#reverse x-axis
plt.gca().invert_xaxis()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/11/reverse3.png">
Notice that the x-axis now ranges from 14 to 0 instead of 0 to 14.
Lastly, we could use the following code to <b>reverse both axes</b>:
<b>import matplotlib.pyplot as plt
#define x and y
x = [1, 4, 8, 11, 13, 14]
y = [5, 11, 18, 26, 25, 23]
#create scatterplot of x and y
plt.scatter(x, y)
#reverse both axes
plt.gca().invert_xaxis()
plt.gca().invert_yaxis()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/11/reverse4.png">
Notice that both axes values are reversed.
<h2><span class="orange">How to Rotate Tick Labels in Matplotlib (With Examples)</span></h2>
You can use the following syntax to rotate tick labels in Matplotlib plots:
<b>#rotate x-axis tick labels
plt.xticks(rotation=45)
#rotate y-axis tick labels
plt.yticks(rotation=90)
</b>
The following examples show how to use this syntax in practice.
<h3>Example 1: Rotate X-Axis Tick Labels</h3>
The following code shows how to rotate the x-axis tick labels in Matplotlib:
<b>import matplotlib.pyplot as plt
#define data
x = [1, 2, 3, 4]
y = [7, 13, 24, 22]
#create plot
plt.plot(x, y, color='red')
#rotate x-axis tick labels
plt.xticks(rotation=45)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/tickRotate1.png">
<h3>Example 2: Rotate Y-Axis Tick Labels</h3>
The following code shows how to rotate the y-axis tick labels in Matplotlib:
<b>import matplotlib.pyplot as plt
#define data
x = [1, 2, 3, 4]
y = [7, 13, 24, 22]
#create plot
plt.plot(x, y, color='blue')
#rotate y-axis tick labels
plt.yticks(rotation=90)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/tickRotate2.png">
<h3>
<b>Example 3: Rotate Both Axes Tick Labels</b>
</h3>
The following code shows how to rotate the tick labels on both axes in Matplotlib:
<b>import matplotlib.pyplot as plt
#define data
x = [1, 2, 3, 4]
y = [7, 13, 24, 22]
#create plot
plt.plot(x, y, color='green')
#rotate x-axis and y-axis tick labels
plt.xticks(rotation=45)
plt.yticks(rotation=90)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/tickRotate3.png">
<h2><span class="orange">How to Save Matplotlib Figure to a File (With Examples)</span></h2>
You can use the following basic syntax to save a Matplotlib figure to a file:
<b>import matplotlib.pyplot as plt
#save figure in various formats
plt.savefig('my_plot.png')
plt.savefig('my_plot.jpg') 
plt.savefig('my_plot.pdf')
</b>
The following examples show how to use this syntax in practice.
<h3>Example 1: Save Matplotlib Figure to PNG File</h3>
The following code shows how to save a Matplotlib figure to a PNG file:
<b>import matplotlib.pyplot as plt
#define data
x = [1, 2, 3, 4, 5, 6]
y = [8, 13, 14, 11, 16, 22]
#create scatterplot with axis labels
plt.plot(x, y)
plt.xlabel('X Variable')
plt.ylabel('Y Variable')
#save figure to PNG file
plt.savefig('my_plot.png')
</b>
If we navigate to the location where we saved the file, we can view it:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/08/matplot_save1-1.png">
<h3>Example 2: Save Matplotlib Figure with Tight Layout</h3>
By default, Matplotlib adds generous padding around the outside of the figure.
To remove this padding, we can use the <b>bbox_inches=’tight’</b> argument:
<b>#save figure to PNG file with no padding
plt.savefig('my_plot.png', bbox_inches='tight')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/08/matplot_save3.png">
Notice that there is less padding around the outside of the plot.
<h3>Example 3: Save Matplotlib Figure with Custom Size</h3>
You can also use the <b>dpi</b> argument to increase the size of the Matplotlib figure when saving it:
<b>#save figure to PNG file with increased size
plt.savefig('my_plot.png', dpi = 100)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/08/matplot_save4.png">
You can find the complete online documentation for the Matplotlib <b>savefig()</b> function  here .
<h2><span class="orange">Matplotlib: How to Color a Scatterplot by Value</span></h2>
Often you may want to shade the color of points within a matplotlib scatterplot based on some third variable. Fortunately this is easy to do using the  matplotlib.pyplot.scatter()  function, which takes on the following syntax:
<b>matplotlib.pyplot.scatter(x, y, s=None, c=None, cmap=None)</b>
where:
<b>x: </b>Array of values to use for the x-axis positions in the plot.
<b>y: </b>Array of values to use for the y-axis positions in the plot.
<b>s: </b>The marker size.
<b>c: </b>Array of values to use for marker colors.
<b>cmap: </b>A map of colors to use in the plot.
You can use <b>c </b>to specify a variable to use for the color values and you can use <b>cmap </b>to specify the actual colors to use for the markers in the scatterplot.
This tutorial explains several examples of how to use this function in practice.
<h3>Example 1: Color Scatterplot Points by Value</h3>
Suppose we have the following pandas DataFrame:
<b>import pandas as pd
#create DataFrame
df = pd.DataFrame({'x': [25, 12, 15, 14, 19, 23, 25, 29],   'y': [5, 7, 7, 9, 12, 9, 9, 4],   'z': [3, 4, 4, 5, 7, 8, 8, 9]})
#view DataFrame
df
        xyz
02553
11274
21574
31495
419127
52398
62598
72949</b>
The following code shows how to create a scatterplot using a gray colormap and using the values for the variable <b>z </b>as the shade for the colormap:
<b>import matplotlib.pyplot as plt
#create scatterplot
plt.scatter(df.x, df.y, s=200, c=df.z, cmap='gray')
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/matplotlibScatter1.png">
For this particular example we chose the colormap ‘gray’ but you can find a complete list of colormaps available to use in the  matplotlib colormap documentation .
For example, we could instead specify ‘Greens’ as the colormap:
<b>plt.scatter(df.x, df.y, s=200, c=df.z, cmap='Greens')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/matplotlibScatter2.png">
By default, markers with larger values for the <b>c </b>argument are shaded darker, but you can reverse this by simply appending <b>_r </b>to the cmap name:
<b>plt.scatter(df.x, df.y, s=200, c=df.z, cmap='Greens_r')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/matplotlibScatter3.png">
<h3>Example 2: Color Scatterplot Points by Category</h3>
Suppose we have the following pandas DataFrame:
<b>import pandas as pd
#create DataFrame
df = pd.DataFrame({'x': [25, 12, 15, 14, 19, 23, 25, 29],   'y': [5, 7, 7, 9, 12, 9, 9, 4],   'z': ['A', 'A', 'B', 'B', 'B', 'C', 'C', 'C']})
#view DataFrame
df
xyz
0255A
1127A
2157B
3149B
41912B
5239C
6259C
7294C</b>
The following code shows how to create a scatterplot using the variable <b>z </b>to color the markers based on category:
<b>import matplotlib.pyplot as plt
groups = df.groupby('z')
for name, group in groups:
    plt.plot(group.x, group.y, marker='o', linestyle='', markersize=12, label=name)
plt.legend()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/matplotlibScatter4.png">
<em>You can find more Python tutorials  here .</em>
<h2><span class="orange">How to Add Legend to Scatterplot in Matplotlib</span></h2>
You can use the following syntax to add a legend to a scatterplot in Matplotlib:
<b>import matplotlib.pyplot as plt
from matplotlib.colors import ListedColormap
#define values, classes, and colors to map 
values = [0, 0, 1, 2, 2, 2]
classes = ['A', 'B', 'C']
colors = ListedColormap(['red', 'blue', 'purple'])
#create scatterplot
scatter = plt.scatter(x, y, c=values, cmap=colors)
#add legend
plt.legend(*scatter.legend_elements())
</b>
The following examples show how to use this syntax in practice.
<h3>Example 1: Scatterplot Legend with Values</h3>
The following example shows how to create a scatterplot where the legend displays values:
<b>import matplotlib.pyplot as plt
from matplotlib.colors import ListedColormap
#define data
x = [3, 4, 4, 6, 8, 9]
y = [12, 14, 17, 16, 11, 13]
#define values, classes, and colors to map 
values = [0, 0, 1, 2, 2, 2]
classes = ['A', 'B', 'C']
colors = ListedColormap(['red', 'blue', 'purple'])
#create scatterplot
scatter = plt.scatter(x, y, c=values, cmap=colors)
#add legend with values
plt.legend(*scatter.legend_elements())</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/matScatter1.png">
<h3>Example 2: Scatterplot Legend with Classes</h3>
The following example shows how to create a scatterplot where the legend displays class names:
<b>import matplotlib.pyplot as plt
from matplotlib.colors import ListedColormap
#define data
x = [3, 4, 4, 6, 8, 9]
y = [12, 14, 17, 16, 11, 13]
#define values, classes, and colors to map 
values = [0, 0, 1, 2, 2, 2]
classes = ['A', 'B', 'C']
colors = ListedColormap(['red', 'blue', 'purple'])
#create scatterplot
scatter = plt.scatter(x, y, c=values, cmap=colors)
#add legend with class names
plt.legend(handles=scatter.legend_elements()[0], labels=classes)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/matScatter2.png">
Notice that this legend displays the class names that we specified (A, B, C) as opposed to the values (0, 1, 2) that we specified.
<h2><span class="orange">How to Set Axis Ranges in Matplotlib</span></h2>
You can use the following syntax to set the axis ranges for a plot in Matplotlib:
<b>#specify x-axis range 
plt.xlim(1, 15)
#specify y-axis range
plt.ylim(1, 30)
</b>
The following examples show how to use this syntax in practice.
<h3>Example 1: Specify Both Axes Ranges</h3>
The following code shows how to specify the range for both axes:
<b>import matplotlib.pyplot as plt
#define x and y
x = [1, 4, 10]
y = [5, 11, 27]
#create plot of x and y
plt.plot(x, y)
#specify x-axis and y-axis range
plt.xlim(1, 15)
plt.ylim(1, 30)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/range1.png">
<h3>Example 2: Specify Range for X-Axis Only</h3>
The following code shows how to specify the range for the x-axis only:
<b>import matplotlib.pyplot as plt
#define x and y
x = [1, 4, 10]
y = [5, 11, 27]
#create plot of x and y
plt.plot(x, y)
#specify x-axis range
plt.xlim(1, 15)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/range2.png">
<h3>
<b>Example 3: Specify Range for Y-Axis Only</b>
</h3>
The following code shows how to specify the range for the y-axis only:
<b>import matplotlib.pyplot as plt
#define x and y
x = [1, 4, 10]
y = [5, 11, 27]
#create plot of x and y
plt.plot(x, y)
#specify y-axis range
plt.ylim(1, 30)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/range3.png">
<h2><span class="orange">How to Set Axis Ticks in Matplotlib (With Examples)</span></h2>
You can use the following basic syntax to set the axis ticks in a Matplotlib plot:
<b>#set x-axis ticks (step size=2)
plt.xticks(np.arange(min(x), max(x)+1, 2))
#set y-axis ticks (step size=5)
plt.yticks(np.arange(min(y), max(y)+1, 5))
</b>
The following example shows how to use this syntax in practice.
<h3>Example: Set Axis Ticks in Matplotlib</h3>
Suppose we use the following code to create a line plot in Matplotlib:
<b>import numpy as np
import matplotlib.pyplot as plt
#define data
x = [0, 2, 7, 10, 12, 15, 18, 20]
y = [0, 5, 9, 13, 19, 22, 29, 36]
#create line plot
plt.plot(x,y)
#display line plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/11/ticks11.png">
By default, Matplotlib has chosen to use a step size of <b>2.5</b> on the x-axis and <b>5</b> on the y-axis.
We can use the following code to change the step size on each axis:
<b>import numpy as np
import matplotlib.pyplot as plt
#define data
x = [0, 2, 7, 10, 12, 15, 18, 20]
y = [0, 5, 9, 13, 19, 22, 29, 36]
#create line plot
plt.plot(x,y)
#specify axis tick step sizes
plt.xticks(np.arange(min(x), max(x)+1, 2))
plt.yticks(np.arange(min(y), max(y)+1, 4))
#display line plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/11/ticks12.png">
Notice that the step size on the x-axis is now <b>2</b> and the step size on the y-axis is <b>4</b>.
<h2><span class="orange">How to Show Gridlines on Matplotlib Plots</span></h2>
By default, Matplotlib does not display gridlines on plots. However, you can use the  matplotlib.pyplot.grid()  function to easily display and customize gridlines on a plot.
This tutorial shows an example of how to use this function in practice.
<h3>Basic Scatterplot in Matplotlib</h3>
The following code shows how to create a simple scatterplot using Matplotlib:
<b>import matplotlib.pyplot as plt
#create data
x = [1, 2, 3, 4, 5]
y = [20, 25, 49, 88, 120]
#create scatterplot of data
plt.scatter(x, y)
plt.show()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/gridlines1.png">
<h3>Add Gridlines to Both Axes</h3>
To add gridlines to the plot, we can simply use the <b>plt.grid(True)</b> command:
<b>import matplotlib.pyplot as plt
#create data
x = [1, 2, 3, 4, 5]
y = [20, 25, 49, 88, 120]
#create scatterplot of data with gridlines
plt.scatter(x, y)
plt.grid(True)
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/gridlines2.png">
<h3>Add Gridlines to Only One Axis</h3>
We can use the <b>axis </b>argument to only add gridlines to the x-axis:
<b>import matplotlib.pyplot as plt
#create data
x = [1, 2, 3, 4, 5]
y = [20, 25, 49, 88, 120]
#create scatterplot of data with gridlines
plt.scatter(x, y)
plt.grid(axis='x')
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/gridlines3.png">
Or only the y-axis:
<b>import matplotlib.pyplot as plt
#create data
x = [1, 2, 3, 4, 5]
y = [20, 25, 49, 88, 120]
#create scatterplot of data with gridlines
plt.scatter(x, y)
plt.grid(axis='y')
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/gridlines4.png">
<h3>Customize Gridlines</h3>
We can also customize the appearance of the gridlines using the <b>plt.rc()</b> function:
<b>import matplotlib.pyplot as plt
#create data
x = [1, 2, 3, 4, 5]
y = [20, 25, 49, 88, 120]
#create scatterplot of data with gridlines
plt.rc('grid', linestyle=':', color='red', linewidth=2)
plt.scatter(x, y)
plt.grid(True)
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/gridlines5.png">
You can find a complete list of ways to customize the gridlines in the  Matplotlib documentation .
<h2>Additional Resources</h2>
The following tutorials explain how to perform other common tasks in Matplotlib:
 How to Remove Ticks from Matplotlib Plots 
 How to Change Font Sizes on a Matplotlib Plot 
<h2><span class="orange">How to Plot a Smooth Curve in Matplotlib</span></h2>
Often you may want to plot a smooth curve in Matplotlib for a line chart. Fortunately this is easy to do with the help of the following SciPy functions:
  scipy.interpolate.make_interp_spline() 
 scipy.interpolate.BSpline() 
This tutorial explains how to use these functions in practice.
<h3>Example: Plotting a Smooth Curve in Matplotlib</h3>
The following code shows how to create a simple line chart for a dataset:
<b>import numpy as np
import matplotlib.pyplot as plt
#create data
x = np.array([1, 2, 3, 4, 5, 6, 7, 8])
y = np.array([4, 9, 12, 30, 45, 88, 140, 230])
#create line chart
plt.plot(x,y)
plt.show()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/smooth1.png">
Notice that the line chart isn’t completely smooth since the underlying data doesn’t follow a smooth line. We can use the following code to create a smooth curve for this dataset:
<b>from scipy.interpolate import make_interp_spline, BSpline
#create data
x = np.array([1, 2, 3, 4, 5, 6, 7, 8])
y = np.array([4, 9, 12, 30, 45, 88, 140, 230])
#define x as 200 equally spaced values between the min and max of original x 
xnew = np.linspace(x.min(), x.max(), 200) 
#define spline
spl = make_interp_spline(x, y, k=3)
y_smooth = spl(xnew)
#create smooth line chart 
plt.plot(xnew, y_smooth)
plt.show()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/smooth2.png">
Note that the higher the degree you use for the <b>k </b>argument, the more “wiggly” the curve will be. For example, consider the following chart with <b>k=7</b>:
<b>from scipy.interpolate import make_interp_spline, BSpline
#create data
x = np.array([1, 2, 3, 4, 5, 6, 7, 8])
y = np.array([4, 9, 12, 30, 45, 88, 140, 230])
#define x as 200 equally spaced values between the min and max of original x 
xnew = np.linspace(x.min(), x.max(), 200) 
#define spline with degree k=7
spl = make_interp_spline(x, y, k=7)
y_smooth = spl(xnew)
#create smooth line chart 
plt.plot(xnew, y_smooth)
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/smooth3.png">
Depending on how curved you want the line to be, you can modify the value for k.
<h2><span class="orange">How to Create Stacked Bar Charts in Matplotlib (With Examples)</span></h2>
A <b>stacked bar chart </b>is a type of chart that uses bars to display the frequencies of different categories. 
We can create this type of chart in Matplotlib by using the  matplotlib.pyplot.bar()  function.
This tutorial shows how to use this function in practice.
<h2>Create a Basic Stacked Bar Chart</h2>
The following code shows how to create a stacked bar chart to display the total sales of two products during four different sales quarters:
<b>import numpy as np
import matplotlib.pyplot as plt
#create data
quarter = ['Q1', 'Q2', 'Q3', 'Q4']
product_A = [14, 17, 12, 9]
product_B = [7, 15, 24, 18]
#define chart parameters
N = 4 
barWidth = .5
xloc = np.arange(N)
#display stacked bar chart
p1 = plt.bar(xloc, product_A, width=barWidth)
p2 = plt.bar(xloc, product_B, bottom=product_A, width=barWidth)
plt.show()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/stackedBar1.png">
<h2>Add a Title, Labels, and Legend</h2>
We can also add a title, labels, tick marks, and a legend to make the chart easier to read:
<b>import numpy as np
import matplotlib.pyplot as plt
#create data for two teams
quarter = ['Q1', 'Q2', 'Q3', 'Q4']
product_A = [14, 17, 12, 9]
product_B = [7, 15, 24, 18]
#define chart parameters
N = 4 
barWidth = .5
xloc = np.arange(N)
#create stacked bar chart
p1 = plt.bar(xloc, product_A, width=barWidth)
p2 = plt.bar(xloc, product_B, bottom=product_A, width=barWidth)
#add labels, title, tick marks, and legend
plt.ylabel('Sales')
plt.xlabel('Quarter')
plt.title('Sales by Product & Quarter')
plt.xticks(xloc, ('Q1', 'Q2', 'Q3', 'Q4'))
plt.yticks(np.arange(0, 41, 5))
plt.legend((p1[0], p2[0]), ('A', 'B'))
#display chart
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/stackedBar2.png">
<h2>Customize Chart Colors</h2>
Lastly, we can customize the colors used in the chart with the <b>colors() </b>argument within <b>plt.bar()</b>:
<b>import numpy as np
import matplotlib.pyplot as plt
#create data for two teams
quarter = ['Q1', 'Q2', 'Q3', 'Q4']
product_A = [14, 17, 12, 9]
product_B = [7, 15, 24, 18]
#define chart parameters
N = 4 
barWidth = .5
xloc = np.arange(N)
#create stacked bar chart
p1 = plt.bar(xloc, product_A, width=barWidth, color='springgreen')
p2 = plt.bar(xloc, product_B, bottom=product_A, width=barWidth, color='coral')
#add labels, title, tick marks, and legend
plt.ylabel('Sales')
plt.xlabel('Quarter')
plt.title('Sales by Product & Quarter')
plt.xticks(xloc, ('Q1', 'Q2', 'Q3', 'Q4'))
plt.yticks(np.arange(0, 41, 5))
plt.legend((p1[0], p2[0]), ('A', 'B'))
#display chart
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/stackedBar3.png">
You can find a complete list of available colors within the Matplotlib  documentation .
<h2>Additional Resources</h2>
The following tutorials explain how to perform other common tasks in Matplotlib:
 How to Change Font Sizes on a Matplotlib Plot 
 How to Remove Ticks from Matplotlib Plots 
 How to Show Gridlines on Matplotlib Plots 
<h2><span class="orange">How to Adjust Spacing Between Matplotlib Subplots</span></h2>
Often you may use subplots to display multiple plots alongside each other in Matplotlib. Unfortunately, these subplots tend to overlap each other by default.
The easiest way to resolve this issue is by using the Matplotlib  tight_layout()  function. This tutorial explains how to use this function in practice.
<h3>Create Subplots</h3>
Consider the following arrangement of 4 subplots in 2 columns and 2 rows:
<b>import matplotlib.pyplot as plt
#define subplots
fig, ax = plt.subplots(2, 2)
#display subplots 
plt.show()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/subplotSpacing1.png">
Notice how the subplots overlap each other a bit. 
<h3>Adjust Spacing of Subplots Using tight_layout()</h3>
The easiest way to resolve this overlapping issue is by using the Matplotlib <b>tight_layout()</b> function:
<b>import matplotlib.pyplot as plt
#define subplots
fig, ax = plt.subplots(2, 2)
fig.tight_layout()
#display subplots 
plt.show()
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/subplotSpacing2.png">
<h3>Adjust Spacing of Subplot Titles</h3>
In some cases you may also have titles for each of your subplots. Unfortunately even the <b>tight_layout()</b> function tends to cause the subplot titles to overlap:
<b>import matplotlib.pyplot as plt
#define subplots
fig, ax = plt.subplots(2, 2)
fig.tight_layout()
#define subplot titles
ax[0, 0].set_title('First Subplot')
ax[0, 1].set_title('Second Subplot')
ax[1, 0].set_title('Third Subplot')
ax[1, 1].set_title('Fourth Subplot')
#display subplots 
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/subplotSpacing3.png">
The way to resolve this issue is by increasing the height padding between subplots using the <b>h_pad</b> argument:
<b>import matplotlib.pyplot as plt
#define subplots
fig, ax = plt.subplots(2, 2)
fig.tight_layout(h_pad=2)
#define subplot titles
ax[0, 0].set_title('First Subplot')
ax[0, 1].set_title('Second Subplot')
ax[1, 0].set_title('Third Subplot')
ax[1, 1].set_title('Fourth Subplot')
#display subplots 
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/subplotSpacing4.png">
<h3>Adjust Spacing of Overall Title</h3>
If you have an overall title, you can use the <b>subplots_adjust() </b>function to ensure that it doesn’t overlap with the subplot titles:
<b>import matplotlib.pyplot as plt
#define subplots
fig, ax = plt.subplots(2, 2)
fig.tight_layout(h_pad=2)
#define subplot titles
ax[0, 0].set_title('First Subplot')
ax[0, 1].set_title('Second Subplot')
ax[1, 0].set_title('Third Subplot')
ax[1, 1].set_title('Fourth Subplot')
#add overall title and adjust it so that it doesn't overlap with subplot titles
fig.suptitle('Overall Title')
plt.subplots_adjust(top=0.85)
#display subplots 
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/09/subplotSpacing5.png">
<em>You can find more Matplotlib tutorials  here .</em>
<h2><span class="orange">How to Add Title to Subplots in Matplotlib (With Examples)</span></h2>
You can use the following basic syntax to add a title to a subplot in Matplotlib:
<b>ax[0, 1].set_title('Subplot Title')
</b>
The following examples shows how to use this syntax in practice.
<h3>Example 1: Add Titles to Subplots in Matplotlib</h3>
The following code shows how to create a grid of 2×2 subplots and specify the title of each subplot:
<b>import matplotlib.pyplot as plt
#define subplots
fig, ax = plt.subplots(2, 2)
#define subplot titles
ax[0, 1].set_title('First Subplot')
ax[0, 1].set_title('Second Subplot')
ax[1, 0].set_title('Third Subplot')
ax[1, 1].set_title('Fourth Subplot')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/11/subplotTitle1.png">
Notice that each subplot has a unique title.
<h3>Example 2: Add Customized Titles to Subplots in Matplotlib</h3>
We can use the following arguments to customize the titles of the subplots:
<b>fontsize</b>: The font size of the title
<b>loc</b>: The location of the title (“left”, “center”, “right”)
<b>x, y</b>: The (x, y) coordinates of the title
<b>color</b>: The font color of the title
<b>fontweight</b>: The font weight of the title
The following code shows how to use these arguments in practice:
<b>import matplotlib.pyplot as plt
#define subplots
fig, ax = plt.subplots(2, 2)
#define subplot titles
ax[0, 0].set_title('First Subplot', fontsize=18, loc='left')
ax[0, 1].set_title('Second Subplot', x=.75, y=.9)
ax[1, 0].set_title('Third Subplot', color='red')
ax[1, 1].set_title('Fourth Subplot', fontweight='bold')
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/11/subplotTitle2.png">
Using these various arguments, you can customize the subplot titles to look however you’d like.
<h2><span class="orange">How to Create a Table with Matplotlib</span></h2>
You can use one of the two following methods to create tables in Python using Matplotlib:
<b>Method 1: Create Table from pandas DataFrame</b>
<b>#create pandas DataFrame
df = pd.DataFrame(np.random.randn(20, 2), columns=['First', 'Second'])
#create table
table = ax.table(cellText=df.values, colLabels=df.columns, loc='center')
</b>
<b>Method 2: Create Table from Custom Values</b>
<b>#create values for table
table_data=[
    ["Player 1", 30],
    ["Player 2", 20],
    ["Player 3", 33],
    ["Player 4", 25],
    ["Player 5", 12]
]
#create table
table = ax.table(cellText=table_data, loc='center')</b>
This tutorial provides examples of how to use these methods in practice.
<h3>Example 1: Create Table from pandas DataFrame</h3>
The following code shows how to create a table in Matplotlib that contains the values in a pandas DataFrame:
<b>import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
#make this example reproducible
np.random.seed(0)
#define figure and axes
fig, ax = plt.subplots()
#hide the axes
fig.patch.set_visible(False)
ax.axis('off')
ax.axis('tight')
#create data
df = pd.DataFrame(np.random.randn(20, 2), columns=['First', 'Second'])
#create table
table = ax.table(cellText=df.values, colLabels=df.columns, loc='center')
#display table
fig.tight_layout()
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/table1.png">
<h3>Example 2: Create Table from Custom Values</h3>
The following code shows how to create a table in Matplotlib that contains custom values:
<b>import numpy as np
import pandas as pd
import matplotlib.pyplot as plt 
#define figure and axes
fig, ax = plt.subplots()
#create values for table
table_data=[
    ["Player 1", 30],
    ["Player 2", 20],
    ["Player 3", 33],
    ["Player 4", 25],
    ["Player 5", 12]
]
#create table
table = ax.table(cellText=table_data, loc='center')
#modify table
table.set_fontsize(14)
table.scale(1,4)
ax.axis('off')
#display table
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/table2.png">
Note that the <b>table.scale(width, length)</b> modifies the width and length of the table. For example, we could make the table even longer by modifying the length:
<b>table.scale(1,10)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/table3.png">
<h2><span class="orange">How to Set Tick Labels Font Size in Matplotlib (With Examples)</span></h2>
You can use the following syntax to set the tick labels font size of plots in Matplotlib:
<b>import matplotlib.pyplot as plt
#set tick labels font size for both axes
plt.tick_params(axis='both', which='major', labelsize=20)
#set tick labels font size for x-axis only
plt.tick_params(axis='x', which='major', labelsize=20)
#set tick labels font size for y-axis only
plt.tick_params(axis='y', which='major', labelsize=20)
</b>
The following examples show how to use this syntax in practice.
<h3>Example 1: Set Tick Labels Font Size for Both Axes</h3>
The following code shows how to create a plot using Matplotlib and specify the tick labels font size for both axes:
<b>import matplotlib.pyplot as plt
#define x and y
x = [1, 4, 10]
y = [5, 11, 27]
#create plot of x and y
plt.plot(x, y)
#set tick labels font size for both axes
plt.tick_params(axis='both', which='major', labelsize=20)
#display plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/ticksize1.png">
Notice that we increased both the x-axis and y-axis tick labels font size.
<h3>Example 2: Set Tick Labels Font Size for X-Axis Only</h3>
The following code shows how to create a plot using Matplotlib and specify the tick labels font size for just the x-axis:
<b>import matplotlib.pyplot as plt
#define x and y
x = [1, 4, 10]
y = [5, 11, 27]
#create plot of x and y
plt.plot(x, y)
#set tick labels font size for both axes
plt.tick_params(axis='x', which='major', labelsize=20)
#display plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/ticksize2.png">
Notice that we increased just the x-axis tick labels font size.
<h3>Example 3: Set Tick Labels Font Size for Y-Axis Only</h3>
The following code shows how to create a plot using Matplotlib and specify the tick labels font size for just the y-axis:
<b>import matplotlib.pyplot as plt
#define x and y
x = [1, 4, 10]
y = [5, 11, 27]
#create plot of x and y
plt.plot(x, y)
#set tick labels font size for both axes
plt.tick_params(axis='y', which='major', labelsize=20)
#display plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/ticksize.png">
Notice that we increased just the y-axis tick labels font size.
<h2><span class="orange">How to Plot a Time Series in Matplotlib (With Examples)</span></h2>
You can use the following syntax to plot a time series in Matplotlib:
<b>import matplotlib.pyplot as plt
plt.plot(df.x, df.y)
</b>
This makes the assumption that the x variable is of the class <b>datetime.datetime()</b>.
The following examples show how to use this syntax to plot time series data in Python.
<h3>Example 1: Plot a Basic Time Series in Matplotlib</h3>
The following code shows how to plot a time series in Matplotlib that shows the total sales made by a company during 12 consecutive days:
<b>import matplotlib.pyplot as plt
import datetime
import numpy as np
import pandas as pd
#define data
df = pd.DataFrame({'date': np.array([datetime.datetime(2020, 1, i+1)                     for i in range(12)]),   'sales': [3, 4, 4, 7, 8, 9, 14, 17, 12, 8, 8, 13]})
#plot time series
plt.plot(df.date, df.sales, linewidth=3)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/time1.png">
The x-axis shows the date and the y-axis shows the total sales on each date.
<h3>Example 2: Customize the Title & Axis Labels</h3>
You can use the following code to add a title and axis labels to the plot:
<b>import matplotlib.pyplot as plt
import datetime
import numpy as np
import pandas as pd
#define data
df = pd.DataFrame({'date': np.array([datetime.datetime(2020, 1, i+1)                     for i in range(12)]),   'sales': [3, 4, 4, 7, 8, 9, 14, 17, 12, 8, 8, 13]})
#plot time series
plt.plot(df.date, df.sales, linewidth=3)
#add title and axis labels
plt.title('Sales by Date')
plt.xlabel('Date')
plt.ylabel('Sales')
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/time2.png">
<h3>Example 3: Plot Multiple Time Series in Matplotlib</h3>
The following code shows how to plot multiple time series in one plot in Matplotlib:
<b>import matplotlib.pyplot as plt
import datetime
import numpy as np
import pandas as pd
#define data
df = pd.DataFrame({'date': np.array([datetime.datetime(2020, 1, i+1)                     for i in range(12)]),   'sales': [3, 4, 4, 7, 8, 9, 14, 17, 12, 8, 8, 13]})
df2 = pd.DataFrame({'date': np.array([datetime.datetime(2020, 1, i+1)                      for i in range(12)]),   'returns': [1, 1, 2, 3, 3, 3, 4, 3, 2, 3, 4, 7]})
#plot both time series
plt.plot(df.date, df.sales, label='sales', linewidth=3)
plt.plot(df2.date, df2.returns, color='red', label='returns', linewidth=3)
#add title and axis labels
plt.title('Sales by Date')
plt.xlabel('Date')
plt.ylabel('Sales')
#add legend
plt.legend()
#display plot
plt.show() </b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/time3.png">
<h2><span class="orange">How to Adjust Title Position in Matplotlib</span></h2>
You can use one of the following methods to adjust the position of a title in a Matplotlib plot:
<b>#adjust title position using 'loc' argument (left, center, right)
plt.title('My Title', loc='right')
#adjust title position using x and y coordinates
plt.title('My Title', x=0.5, y=1.1) 
</b>
The following examples show how to use each of these methods in practice.
<h3>Method 1: Adjust Title Position Using ‘loc’</h3>
The following code shows how to adjust the position of a title in Matplotlib using the <b>loc</b> argument.
<b>import matplotlib.pyplot as plt
#define x and y
x = [1, 4, 10]
y = [5, 9, 27]
#create plot of x and y
plt.plot(x, y)
#add title
plt.title('My Title', loc='left')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/adjustTitle1.png">
<b>Note:</b> You can use the <b>loc</b> argument to specify one of three positions: left, center, or right. The default position is center.
<h3>Method 2: Adjust Title Position Using (x, y) Coordinates</h3>
The following code shows how to adjust the position of a title in Matplotlib using <b>x</b> and <b>y</b> coordinates.
<b>import matplotlib.pyplot as plt
#define x and y
x = [1, 4, 10]
y = [5, 9, 27]
#create plot of x and y
plt.plot(x, y)
#add title
plt.title('My Title', x=0.5, y=1.1)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/adjustTitle2.png">
You can also choose to just specify one of the coordinates. For example, you can specify only the y-coordinate:
<b>import matplotlib.pyplot as plt
#define x and y
x = [1, 4, 10]
y = [5, 9, 27]
#create plot of x and y
plt.plot(x, y)
#add title
plt.title('My Title', y=1.3)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/07/adjustTitle3.png">
<h2><span class="orange">How to Export Matplotlib Plot with Transparent Background</span></h2>
You can use the following basic syntax to export a Matplotlib plot with a transparent background:
<b>savefig('my_plot.png', transparent=True)
</b>
Note that the default argument for <b>savefig()</b> is <b>transparent=False</b>.
By specifying <b>transparent=True</b> we can save a Matplotlib figure with a transparent background.
The following example shows how to use this syntax in practice.
<h3>Example: Export Matplotlib Plot with Transparent Background</h3>
The following code shows how to create a line plot in Matplotlib and save the plot with a transparent background:
<b>import matplotlib.pyplot as plt
#define x and y
x = [1, 4, 10, 15]
y = [5, 7, 21, 22]
#create line plot
plt.plot(x, y)
#add title and axis labels
plt.title('Title of Plot')
plt.xlabel('X Label')
plt.ylabel('Y Label')
#save plot with transparent background
plt.savefig('my_plot.png', transparent=True)
</b>
If I navigate to the location on my computer where the image is saved, I can view it:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/09/trans1.png">
However, this doesn’t illustrate the transparent background well.
To do so, I can place the image on a colored background in Excel:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/09/trans2.png">
Notice that the background is completely transparent.
You can contrast this with the exact same image saved without using the <b>transparent</b> argument:
<b>#save plot without specifying transparent background
plt.savefig('my_plot2.png')
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/09/trans3.png">
The background is white, which is the default background color in Matplotlib.
<b>Note</b>: You can find the complete online documentation for the <b>savefig()</b> function  here .
<h2><span class="orange">How to Add a Trendline in Matplotlib (With Example)</span></h2>
You can use the following basic syntax to add a trendline to a plot in Matplotlib:
<b>#create scatterplot
plt.scatter(x, y)
#calculate equation for trendline
z = np.polyfit(x, y, 1)
p = np.poly1d(z)
#add trendline to plot
plt.plot(x, p(x))
</b>
The following examples show how to use this syntax in practice.
<h3>Example 1: Create Linear Trendline in Matplotlib</h3>
The following code shows how to create a basic trendline for a scatterplot in Matplotlib:
<b>import numpy as np
import matplotlib.pyplot as plt
#define data
x = np.array([8, 13, 14, 15, 15, 20, 25, 30, 38, 40])
y = np.array([5, 4, 18, 14, 20, 24, 28, 33, 30, 37])
#create scatterplot
plt.scatter(x, y)
#calculate equation for trendline
z = np.polyfit(x, y, 1)
p = np.poly1d(z)
#add trendline to plot
plt.plot(x, p(x))</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/03/trendmat1.jpg"539">
The blue dots represent the data points and the straight blue line represents the linear trendline.
Note that you can also use the <b>color</b>, <b>linewidth</b>, and <b>linestyle</b> arguments to modify the appearance of the trendline:
<b>#add custom trendline to plot
plt.plot(x, p(x), color="purple", linewidth=3, linestyle="--")
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/03/trendmat2.jpg"532">
<h3>Example 2: Create Polynomial Trendline in Matplotlib</h3>
To create a polynomial trendline, simply change the value in the <b>np.polyfit()</b> function.
For example, we could use a value of <b>2</b> to create a quadratic trendline:
<b>import numpy as np
import matplotlib.pyplot as plt
#define data
x = np.array([8, 13, 14, 15, 15, 20, 25, 30, 38, 40])
y = np.array([5, 4, 18, 14, 20, 24, 28, 33, 30, 37])
#create scatterplot
plt.scatter(x, y)
#calculate equation for quadratic trendline
z = np.polyfit(x, y, 2)
p = np.poly1d(z)
#add trendline to plot
plt.plot(x, p(x))</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/03/trendmat3.jpg"541">
Notice that the trendline is now curved instead of straight.
This polynomial trendline is particularly useful when your data exhibits a non-linear pattern and a straight line doesn’t do a good job of capturing the trend in the data.
<h2><span class="orange">How to Create a Matplotlib Plot with Two Y Axes</span></h2>
The easiest way to create a Matplotlib plot with two y axes is to use the  twinx()  function.
The following example shows how to use this function in practice.
<h3>Example: Create Matplotlib Plot with Two Y Axes</h3>
Suppose we have the following two pandas DataFrames:
<b>import pandas as pd
#create DataFrames
df1 = pd.DataFrame({'year': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],    'sales': [14, 16, 19, 22, 24, 25, 24, 24, 27, 30]})
df2 = pd.DataFrame({'year': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],    'leads': [4, 4, 4, 5, 4, 5, 7, 8, 5, 3]})</b>
Both DataFrames share the ‘year’ variable that ranges from 1 to 10, but the first DataFrame displays the total sales each year while the second DataFrame displays the total leads each year.
We can use the following code to create a Matplotlib plot that displays the sales and the leads on one chart with two y axes:
<b>import matplotlib.pyplot as plt
#define colors to use
col1 = 'steelblue'
col2 = 'red'
#define subplots
fig,ax = plt.subplots()
#add first line to plot
ax.plot(df1.year, df1.sales, color=col1)
#add x-axis label
ax.set_xlabel('Year', fontsize=14)
#add y-axis label
ax.set_ylabel('Sales', color=col1, fontsize=16)
#define second y-axis that shares x-axis with current plot
ax2 = ax.twinx()
#add second line to plot
ax2.plot(df2.year, df2.leads, color=col2)
#add second y-axis label
ax2.set_ylabel('Leads', color=col2, fontsize=16)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/10/dual1.png">
The y-axis on the left side of the plot shows the total sales by year and the y-axis on the right side of the plot shows the total leads by year.
The blue line in the plot represents the total sales by year and the red line represents the total leads by year.
Feel free to use the <b>marker</b> and <b>linewidth</b> arguments to change the appearance of the lines in the chart:
<b>import matplotlib.pyplot as plt
#define colors to use
col1 = 'steelblue'
col2 = 'red'
#define subplots
fig,ax = plt.subplots()
#add first line to plot
ax.plot(df1.year, df1.sales, color=col1, marker='o', linewidth=3)
#add x-axis label
ax.set_xlabel('Year', fontsize=14)
#add y-axis label
ax.set_ylabel('Sales', color=col1, fontsize=16)
#define second y-axis that shares x-axis with current plot
ax2 = ax.twinx()
#add second line to plot
ax2.plot(df2.year, df2.leads, color=col2, marker='o', linewidth=3)
#add second y-axis label
ax2.set_ylabel('Leads', color=col2, fontsize=16)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/10/dual2.png">
Notice that both lines are now wider and contain ‘o’ markers to display individual data points.
<h2><span class="orange">How to Draw a Vertical Line in Matplotlib (With Examples)</span></h2>
You can use the following syntax to draw a vertical line in Matplotlib:
<b>import matplotlib.pyplot as plt
#draw vertical line at x=2
plt.axvline(x=2)
</b>
The following examples show how to use this syntax in practice with the following pandas DataFrame:
<b>import pandas as pd
#create DataFrame
df = pd.DataFrame({'x': [1, 2, 3, 4, 5, 6, 7, 8],   'y': [5, 7, 8, 15, 26, 39, 45, 40]})
#view DataFrame
df
xy
015
127
238
3415
4526
5639
6745
7840
</b>
<h3>Example 1: Draw One Vertical Line</h3>
The following code shows how to draw one vertical line on a Matplotlib plot:
<b>import matplotlib.pyplot as plt
#create line plot
plt.plot(df.x, df.y)
#add vertical line at x=2
plt.axvline(x=2, color='red', linestyle='--')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/vert1.png">
<h3>Example 2: Draw Multiple Vertical Lines</h3>
The following code shows how to draw multiple vertical lines on a Matplotlib plot:
<b>import matplotlib.pyplot as plt
#create line plot
plt.plot(df.x, df.y)
#add vertical line at x=2
plt.axvline(x=2, color='red', linestyle='--')
#add vertical line at x=4
plt.axvline(x=4, color='black', linestyle='-')
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/vert2.png">
<h3>Example 3: Draw Multiple Vertical Lines with Legend</h3>
The following code shows how to draw multiple vertical lines on a Matplotlib plot and add a legend to make the lines easier to interpret:
<b>import matplotlib.pyplot as plt
#create line plot
plt.plot(df.x, df.y)
#add vertical line at x=2
plt.axvline(x=2, color='red', linestyle='--', label='First Line')
#add vertical line at x=4
plt.axvline(x=4, color='black', linestyle='-', label='Second Line')
#add legend
plt.legend()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/vert3.png">
<b>Note:</b> Refer to the  Matplotlib documentation  for a list of potential colors and linestyles you can apply to vertical lines.
<h2><span class="orange">Matrix Multiplication: (2×2) by (2×2)</span></h2>
Suppose we have a <b>2×2 </b>matrix A, which has 2 rows and 2 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>A</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>A<sub>11</sub>
</td>
<td>A<sub>12</sub>
</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>A<sub>21</sub>
</td>
<td>A<sub>22</sub>
</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Suppose we also have a <b>2×2 </b>matrix B, which has 2 rows and 2 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>B</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>B<sub>11</sub>
</td>
<td>B<sub>12</sub>
</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>B<sub>21</sub>
</td>
<td>B<sub>22</sub>
</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
To multiply matrix A by matrix B, we use the following formula:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b><span>A x <span>B</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>
<span>A<sub>11</sub>*<span>B<sub>11</sub>+<span>A<sub>12</sub>*<span>B<sub>21</sub>
</td>
<td>
<span>A<sub>11</sub>*<span>B<sub>12</sub>+<span>A<sub>12</sub>*<span>B<sub>22</sub>
</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>
<span>A<sub>21</sub>*<span>B<sub>11</sub>+<span>A<sub>22</sub>*<span>B<sub>21</sub>
</td>
<td>
<span>A<sub>21</sub>*<span>B<sub>12</sub>+<span>A<sub>22</sub>*<span>B<sub>22</sub>
</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
This results in a 2×2 matrix.
The following examples illustrate how to multiply a 2×2 matrix with a 2×2 matrix using real numbers.
<h3>Example 1</h3>
Suppose we have a <b>2×2 </b>matrix C, which has 2 rows and 2 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>C</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>7</td>
<td>5</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>6</td>
<td>3</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Suppose we also have a <b>2×2 </b>matrix D, which has 2 rows and 2 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>D</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>2</td>
<td>1</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>5</td>
<td>1</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Here is how to multiply matrix C by matrix D:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>C x D</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>7*2 + 5*5</td>
<td>7*1 + 5*1</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>6*2 + 3*5</td>
<td>6*1 + 3*1</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
This results in the following 2×2 matrix:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>C x D</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>39</td>
<td>12</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>27</td>
<td>9</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
<h3>Example 2</h3>
Suppose we have a <b>2×2 </b>matrix E, which has 2 rows and 2 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>E</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>-2</td>
<td>4</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>9</td>
<td>2</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Suppose we also have a <b>2×2 </b>matrix F, which has 2 rows and 2 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>F</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>3</td>
<td>6</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>2</td>
<td>4</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Here is how to multiply matrix E by matrix F:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>E x F</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>-2*3 + 4*2</td>
<td>-2*6 + 4*4</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>9*3 + 2*2</td>
<td>9*6 + 2*4</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
This results in the following 2×2 matrix:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>E x F</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>2</td>
<td>4</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>31</td>
<td>62</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
<h3>Example 3</h3>
Suppose we have a <b>2×2 </b>matrix G, which has 2 rows and 2 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>G</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>2</td>
<td>3</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>4</td>
<td>5</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Suppose we also have a <b>2×2 </b>matrix H, which has 2 rows and 2 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>H</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>1</td>
<td>2</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>4</td>
<td>5</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Here is how to multiply matrix G by matrix H:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>G x H</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>2*1 + 3*4</td>
<td>2*2 + 3*5</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>4*1 + 5*4</td>
<td>4*2 + 5*5</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
This results in the following 2×2 matrix:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>G x H</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>14</td>
<td>19</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>24</td>
<td>33</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
<h3>Example 4</h3>
Suppose we have a <b>2×2 </b>matrix I, which has 2 rows and 2 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>I</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>1</td>
<td>3</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>5</td>
<td>7</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Suppose we also have a <b>2×2 </b>matrix J, which has 2 rows and 2 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>J</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>2</td>
<td>4</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>6</td>
<td>8</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Here is how to multiply matrix I by matrix J:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>I x J</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>1*2 + 3*6</td>
<td>1*4 + 3*8</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>5*2 + 7*6</td>
<td>5*4 + 7*8</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
This results in the following 2×2 matrix:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>I x J</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>20</td>
<td>28</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>52</td>
<td>76</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
<h2>Matrix Calculator</h2>
The examples above illustrated how to multiply 2×2 matrices by hand. A good way to double check your work if you’re multiplying matrices by hand is to confirm your answers with a matrix calculator. While there are many matrix calculators online, the simplest one to use that I have come across is  this one by Math is Fun .
<h2>Multiplying Matrices Video Tutorial (2×2) by (2×2)</h2>
<figure>https://www.youtube.com/watch?v=IKFlUVIDOWQ
</figure>
<h2><span class="orange">Matrix Multiplication: (2×2) by (2×3)</span></h2>
<figure>This tutorial shows how to multiply a 2×2 matrix with a 2×3 matrix.</figure>
<h2>Introduction</h2>
Suppose we have a <b>2×2 </b>matrix A, which has 2 rows and 2 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>A</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>A<sub>11</sub>
</td>
<td>A<sub>12</sub>
</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>A<sub>21</sub>
</td>
<td>A<sub>22</sub>
</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Suppose we also have a <b>2×3 </b>matrix B, which has 2 rows and 3 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>B</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>B<sub>11</sub>
</td>
<td>B<sub>12</sub>
</td>
<td>B<sub>13</sub>
</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>B<sub>21</sub>
</td>
<td>B<sub>22</sub>
</td>
<td>B<sub>23</sub>
</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
To multiply matrix A by matrix B, we use the following formula:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b><span>A x <span>B</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>
<span>A<sub>11</sub>*<span>B<sub>11</sub>+<span>A<sub>12</sub>*<span>B<sub>21</sub>
</td>
<td>
<span>A<sub>11</sub>*<span>B<sub>12</sub>+<span>A<sub>12</sub>*<span>B<sub>22</sub>
</td>
<td>
<span>A<sub>11</sub>*<span>B<sub>13</sub>+<span>A<sub>12</sub>*<span>B<sub>23</sub>
</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>
<span>A<sub>21</sub>*<span>B<sub>11</sub>+<span>A<sub>22</sub>*<span>B<sub>21</sub>
</td>
<td>
<span>A<sub>21</sub>*<span>B<sub>12</sub>+<span>A<sub>22</sub>*<span>B<sub>22</sub>
</td>
<td>
<span>A<sub>21</sub>*<span>B<sub>13</sub>+<span>A<sub>22</sub>*<span>B<sub>23</sub>
</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
This results in a 2×3 matrix.
The following examples illustrate how to multiply a 2×2 matrix with a 2×3 matrix using real numbers.
<h3>Example 1</h3>
Suppose we have a <b>2×2 </b>matrix C, which has 2 rows and 2 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>C</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>7</td>
<td>5</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>6</td>
<td>3</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Suppose we also have a <b>2×3 </b>matrix D, which has 2 rows and 3 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>D</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>2</td>
<td>1</td>
<td>4</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>5</td>
<td>1</td>
<td>2</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Here is how to multiply matrix C by matrix D:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>C x D</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>7*2 + 5*5</td>
<td>7*1 + 5*1</td>
<td>7*4 + 5*2</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>6*2 + 3*5</td>
<td>6*1 + 3*1</td>
<td>6*4 + 3*2</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
This results in the following matrix:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>C x D</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>39</td>
<td>12</td>
<td>38</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>27</td>
<td>9</td>
<td>30</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
<h3>Example 2</h3>
Suppose we have a <b>2×2 </b>matrix E, which has 2 rows and 2 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>E</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>-2</td>
<td>4</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>9</td>
<td>2</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Suppose we also have a <b>2×3 </b>matrix F, which has 2 rows and 3 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>F</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>3</td>
<td>6</td>
<td>9</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>2</td>
<td>4</td>
<td>6</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Here is how to multiply matrix E by matrix F:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>E x F</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>-2*3 + 4*2</td>
<td>-2*6 + 4*4</td>
<td>-2*9 + 4*6</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>9*3 + 2*2</td>
<td>9*6 + 2*4</td>
<td>9*9 + 2*6</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
This results in the following matrix:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>E x F</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>2</td>
<td>4</td>
<td>6</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>31</td>
<td>62</td>
<td>93</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
<h3>Example 3</h3>
Suppose we have a <b>2×2 </b>matrix G, which has 2 rows and 2 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>G</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>2</td>
<td>3</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>4</td>
<td>5</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Suppose we also have a <b>2×3 </b>matrix H, which has 2 rows and 3 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>H</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>1</td>
<td>2</td>
<td>3</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>4</td>
<td>5</td>
<td>6</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Here is how to multiply matrix G by matrix H:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>G x H</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>2*1 + 3*4</td>
<td>2*2 + 3*5</td>
<td>2*3 + 3*6</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>4*1 + 5*4</td>
<td>4*2 + 5*5</td>
<td>4*3 + 5*6</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
This results in the following matrix:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>G x H</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="2"> </td>
<td>14</td>
<td>19</td>
<td>24</td>
<td rowspan="2"> </td>
</tr>
<tr>
<td>24</td>
<td>33</td>
<td>42</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
<h2>Matrix Calculator</h2>
The examples above illustrated how to multiply 2×2 matrices by hand. A good way to double check your work if you’re multiplying matrices by hand is to confirm your answers with a matrix calculator. While there are many matrix calculators online, the simplest one to use that I have come across is  this one by Math is Fun .
<h2>Multiplying Matrices Video Tutorial: (2×2) by (2×3)</h2>
<figure>https://www.youtube.com/watch?v=yeKJbi8-heE
</figure>
<h2><span class="orange">Matrix Multiplication: (3×3) by (3×2)</span></h2>
<figure>This tutorial shows how to multiply a 3×3 matrix with a 3×2 matrix.</figure>
<h2>Introduction</h2>
Suppose we have a <b>3×3 </b>matrix A, which has 3 rows and 3 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>A</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="3"> </td>
<td>A<sub>11</sub>
</td>
<td>A<sub>12</sub>
</td>
<td>A<sub>13</sub>
</td>
<td rowspan="3"> </td>
</tr>
<tr>
<td>A<sub>21</sub>
</td>
<td>A<sub>22</sub>
</td>
<td>A<sub>23</sub>
</td>
</tr>
<tr>
<td>A<sub>31</sub>
</td>
<td>A<sub>32</sub>
</td>
<td>A<sub>33</sub>
</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Suppose we also have a <b>3×2 </b>matrix B, which has 3 rows and 2 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>B</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="3"> </td>
<td>B<sub>11</sub>
</td>
<td>B<sub>12</sub>
</td>
<td rowspan="3"> </td>
</tr>
<tr>
<td>B<sub>21</sub>
</td>
<td>B<sub>22</sub>
</td>
</tr>
<tr>
<td>B<sub>31</sub>
</td>
<td>B<sub>32</sub>
</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
To multiply matrix A by matrix B, we use the following formula:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b><span>A x <span>B</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="3"> </td>
<td>
<span>A<sub>11</sub>*<span>B<sub>11</sub>+<span>A<sub>12</sub>*<span>B<sub>21</sub>+<span>A<sub>13</sub>*<span>B<sub>31</sub>
</td>
<td>
<span>A<sub>11</sub>*<span>B<sub>12</sub>+<span>A<sub>12</sub>*<span>B<sub>22</sub>+<span>A<sub>13</sub>*<span>B<sub>32</sub>
</td>
<td rowspan="3"> </td>
</tr>
<tr>
<td>
<span>A<sub>21</sub>*<span>B<sub>11</sub>+<span>A<sub>22</sub>*<span>B<sub>21</sub>+<span>A<sub>23</sub>*<span>B<sub>31</sub>
</td>
<td>
<span>A<sub>21</sub>*<span>B<sub>12</sub>+<span>A<sub>22</sub>*<span>B<sub>22</sub>+<span>A<sub>23</sub>*<span>B<sub>32</sub>
</td>
</tr>
<tr>
<td>
<span>A<sub>31</sub>*<span>B<sub>11</sub>+<span>A<sub>32</sub>*<span>B<sub>21</sub>+<span>A<sub>33</sub>*<span>B<sub>31</sub>
</td>
<td>
<span>A<sub>31</sub>*<span>B<sub>12</sub>+<span>A<sub>32</sub>*<span>B<sub>22</sub>+<span>A<sub>33</sub>*<span>B<sub>32</sub>
</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
This results in a 3×2 matrix.
The following examples illustrate how to multiply a 3×3 matrix with a 3×2 matrix using real numbers.
<h3>Example 1</h3>
Suppose we have a <b>3×3 </b>matrix C, which has 3 rows and 3 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>C</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="3"> </td>
<td>-3</td>
<td>5</td>
<td>4</td>
<td rowspan="3"> </td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>3</td>
</tr>
<tr>
<td>-1</td>
<td>0</td>
<td>2</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Suppose we also have a <b>3×2 </b>matrix D, which has 3 rows and 2 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>D</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="3"> </td>
<td>2</td>
<td>1</td>
<td rowspan="3"> </td>
</tr>
<tr>
<td>5</td>
<td>1</td>
</tr>
<tr>
<td>0</td>
<td>-1</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Here is how to multiply matrix C by matrix D:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>C x D</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="3"> </td>
<td>-3*2 + 5*5 + 4*0</td>
<td>-3*1 + 5*1 + 4*-1</td>
<td rowspan="3"> </td>
</tr>
<tr>
<td>1*2 + 2*5 + 3*0</td>
<td>1*1 + 2*1 + 3*-1</td>
</tr>
<tr>
<td>-1*2 + 0*5 + 2*0</td>
<td>-1*1 + 0*1 + 2*-1</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
This results in the following 3×2 matrix:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>C x D</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="3"> </td>
<td>19</td>
<td>-2</td>
<td rowspan="3"> </td>
</tr>
<tr>
<td>12</td>
<td>0</td>
</tr>
<tr>
<td>-2</td>
<td>-3</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
<h3>Example 2</h3>
Suppose we have a <b>3×3 </b>matrix E, which has 3 rows and 3 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>E</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="3"> </td>
<td>2</td>
<td>8</td>
<td>1</td>
<td rowspan="3"> </td>
</tr>
<tr>
<td>3</td>
<td>3</td>
<td>0</td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>2</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Suppose we also have a <b>3×2 </b>matrix F, which has 3 rows and 2 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>F</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="3"> </td>
<td>-2</td>
<td>-2</td>
<td rowspan="3"> </td>
</tr>
<tr>
<td>3</td>
<td>1</td>
</tr>
<tr>
<td>4</td>
<td>10</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Here is how to multiply matrix E by matrix F:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>E x F</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="3"> </td>
<td>2*-2 + 8*3 + 1*4</td>
<td>2*-2 + 8*1 + 1*10</td>
<td rowspan="3"> </td>
</tr>
<tr>
<td>3*-2 + 3*3 + 0*4</td>
<td>3*-2 + 3*1 + 0*10</td>
</tr>
<tr>
<td>0*-2 + 1*3 + 2*4</td>
<td>0*-2 + 1*1 + 2*10</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
This results in the following 3×2 matrix:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>E x F</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="3"> </td>
<td>24</td>
<td>14</td>
<td rowspan="3"> </td>
</tr>
<tr>
<td>3</td>
<td>-3</td>
</tr>
<tr>
<td>11</td>
<td>21</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
<h3>Example 3</h3>
Suppose we have a <b>3×3 </b>matrix G, which has 3 rows and 3 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>G</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="3"> </td>
<td>-1</td>
<td>0</td>
<td>0</td>
<td rowspan="3"> </td>
</tr>
<tr>
<td>7</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>4</td>
<td>6</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Suppose we also have a <b>3×2 </b>matrix H, which has 3 rows and 2 columns:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>H</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="3"> </td>
<td>4</td>
<td>5</td>
<td rowspan="3"> </td>
</tr>
<tr>
<td>9</td>
<td>2</td>
</tr>
<tr>
<td>0</td>
<td>1</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
Here is how to multiply matrix G by matrix H:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>G x H</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="3"> </td>
<td>-1*4 + 0*9 + 0*0</td>
<td>-1*5 + 0*2 + 0*1</td>
<td rowspan="3"> </td>
</tr>
<tr>
<td>7*4 + 1*9 + 0*0</td>
<td>7*5 + 1*2 + 0*1</td>
</tr>
<tr>
<td>2*4 + 4*9 + 6*0</td>
<td>2*5 + 4*2 + 6*1</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
This results in the following 3×2 matrix:
<table style="margin-left: auto; margin-right: auto;"><tbody><tr>
<td>
<b>G x H</b> =</td>
<td>
<table style="margin-right: auto; margin-left: auto;"><tbody>
<tr>
<td rowspan="3"> </td>
<td>-4</td>
<td>-5</td>
<td rowspan="3"> </td>
</tr>
<tr>
<td>37</td>
<td>37</td>
</tr>
<tr>
<td>44</td>
<td>24</td>
</tr>
</tbody></table>
</td>
</tr></tbody></table>
<h2>Matrix Calculator</h2>
The examples above illustrated how to multiply matrices by hand. A good way to double check your work if you’re multiplying matrices by hand is to confirm your answers with a matrix calculator. While there are many matrix calculators online, the simplest one to use that I have come across is  this one by Math is Fun .
<h2>Multiplying Matrices Video Tutorial (3×3) by (3×2)</h2>
<figure>https://www.youtube.com/watch?v=WzOfbVoG17k
</figure>
<h2><span class="orange">How to Calculate Matthews Correlation Coefficient in R</span></h2>
<b>Matthews correlation coefficient</b> (MCC) is a metric we can use to assess the performance of a  classification model .
It is calculated as:
<b>MCC</b> = (TP*TN – FP*FN) / √(TP+FP)(TP+FN)(TN+FP)(TN+FN)
where:
<b>TP</b>: Number of true positives
<b>TN</b>: Number of true negatives
<b>FP</b>: Number of false positives
<b>FN</b>: Number of false negatives
This metric is particularly useful when the two classes are imbalanced – that is, one class appears much more than the other.
The value for MCC ranges from -1 to 1 where:
<b>-1</b> indicates total disagreement between predicted classes and actual classes
<b>0</b> is synonymous with completely random guessing
<b>1</b> indicates total agreement between predicted classes and actual classes
For example, suppose a sports analyst uses a  logistic regression model  to predict whether or not 400 different college basketball players get drafted into the NBA.
The following confusion matrix summarizes the predictions made by the model:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/10/balanced1.png">
To calculate the MCC of the model, we can use the following formula:
<b>MCC</b> = (TP*TN – FP*FN) / √(TP+FP)(TP+FN)(TN+FP)(TN+FN)
<b>MCC</b> = (15*375-5*5) / √(15+5)(15+5)(375+5)(375+5)
<b>MCC</b> = 0.7368
Matthews correlation coefficient turns out to be <b>0.7368</b>.
This value is somewhat close to one, which indicates that the model does a decent job of predicting whether or not players will get drafted.
The following example shows how to calculate MCC for this exact scenario using the <b>mcc()</b> function from the <b>mltools</b> package in R.
<h2>Example: Calculating Matthews Correlation Coefficient in R</h2>
The following code shows how to define a vector of predicted classes and a vector of actual classes, then calculate Matthews correlation coefficient using the <b>mcc()</b> function from the <b>mltools</b> package:
<b>library(mltools)
#define vector of actual classes
actual &lt;- rep(c(1, 0), times=c(20, 380))
#define vector of predicted classes
preds &lt;- rep(c(1, 0, 1, 0), times=c(15, 5, 5, 375))
#calculate Matthews correlation coefficient
mcc(preds, actual)
[1] 0.7368421
</b>
Matthews correlation coefficient is <b>0.7368</b>.
This matches the value that we calculated earlier by hand.
If you’d like to calculate Matthews correlation coefficient for a confusion matrix, you can use the <b>confusionM</b> argument as follows:
<b>library(mltools)
#create confusion matrix
conf_matrix &lt;- matrix(c(15, 5, 5, 375), nrow=2)
#view confusion matrix
conf_matrix
     [,1] [,2]
[1,]   15    5
[2,]    5  375
#calculate Matthews correlation coefficient for confusion matrix
mcc(confusionM = conf_matrix)
[1] 0.7368421
</b>
Once again, Matthews correlation coefficient is <b>0.7368</b>
<h2>Additional Resources</h2>
The following tutorials explain how to perform other common tasks in R:
 How to Perform Logistic Regression in R 
 How to Plot a ROC Curve Using ggplot2 
 How to Calculate F1 Score in R 
<h2><span class="orange">How to Calculate Matthews Correlation Coefficient in Python</span></h2>
<b>Matthews correlation coefficient</b> (MCC) is a metric we can use to assess the performance of a  classification model .
It is calculated as:
<b>MCC</b> = (TP*TN – FP*FN) / √(TP+FP)(TP+FN)(TN+FP)(TN+FN)
where:
<b>TP</b>: Number of true positives
<b>TN</b>: Number of true negatives
<b>FP</b>: Number of false positives
<b>FN</b>: Number of false negatives
This metric is particularly useful when the two classes are imbalanced – that is, one class appears much more than the other.
The value for MCC ranges from -1 to 1 where:
<b>-1</b> indicates total disagreement between predicted classes and actual classes
<b>0</b> is synonymous with completely random guessing
<b>1</b> indicates total agreement between predicted classes and actual classes
For example, suppose a sports analyst uses a  logistic regression model  to predict whether or not 400 different college basketball players get drafted into the NBA.
The following confusion matrix summarizes the predictions made by the model:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/10/balanced1.png">
To calculate the MCC of the model, we can use the following formula:
<b>MCC</b> = (TP*TN – FP*FN) / √(TP+FP)(TP+FN)(TN+FP)(TN+FN)
<b>MCC</b> = (15*375-5*5) / √(15+5)(15+5)(375+5)(375+5)
<b>MCC</b> = 0.7368
Matthews correlation coefficient turns out to be <b>0.7368</b>. This value is somewhat close to one, which indicates that the model does a decent job of predicting whether or not players will get drafted.
The following example shows how to calculate MCC for this exact scenario using the <b>matthews_corrcoef()</b> function from the <b>sklearn</b> library in Python.
<h3>Example: Calculating Matthews Correlation Coefficient in Python</h3>
The following code shows how to define an array of predicted classes and an array of actual classes, then calculate Matthews correlation coefficient of a model in Python:
<b>import numpy as np
from sklearn.metrics import matthews_corrcoef
#define array of actual classes
actual = np.repeat([1, 0], repeats=[20, 380])
#define array of predicted classes
pred = np.repeat([1, 0, 1, 0], repeats=[15, 5, 5, 375])
#calculate Matthews correlation coefficient
matthews_corrcoef(actual, pred)
0.7368421052631579</b>
The MCC is <b>0.7368</b>. This matches the value that we calculated earlier by hand.
<b>Note</b>: You can find the complete documentation for the <b>matthews_corrcoef()</b> function  here .
<h2><span class="orange">Mauchly’s Test of Sphericity: Definition & Example</span></h2>
<b>Mauchly’s test of sphericity</b> is used to test whether or not the assumption of sphericity is met in a repeated measures ANOVA.
Sphericity refers to the condition where the variances of the differences between all combinations of related groups are equal.
If this assumption is violated, then the F-ratio becomes inflated and the results of the repeated measures ANOVA become unreliable.
<h3>How to Perform Mauchly’s Test of Sphericity</h3>
Mauchly’s test of sphericity uses the following null and alternative hypotheses:
<b>H<sub>0</sub></b>: The variances of the differences are equal
H<sub>A</sub></b>: The variances of the differences are <em style="color: #000000;">not</em> equal
If the p-value of the test is less than some significance level (e.g. α = .05) then we reject the null hypothesis and conclude that the variances of the differences are not equal.
Otherwise, if the p-value is not less than some significance level (e.g. α = .05) then we fail to reject the null hypothesis and conclude that the assumption of sphericity is met.
For example, suppose a doctor measures the resting heart rate of subjects during three different time points:
One month before starting a training program
In the middle of a training program
One month after a training program
He wants to perform a repeated measures ANOVA to see if there is a significant difference in mean resting heart rate across these three time points.
The following table shows the results of his data collection:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/08/mauchly1.png">
We can see that the variances of the differences are not all equal.
To determine if these differences are statistically significant, we can perform Mauchly’s test of sphericity using some statistical software like R, SPSS, Python, etc.
Depending on which software you use, the results of the test will look something like this:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/08/mauchly2.png">
We would then report the results of the test as follows:
Mauchly’s test of sphericity indicates that the assumption of sphericity has not been violated, X<sup>2</sup>(2) = 1.867, p = .356.
<h3>What to Do if Sphericity is Violated</h3>
In scenarios where the p-value is less than .05 and we reject the null hypothesis of Mauchly’s test of sphericity, we typically apply a correction to the degrees of freedom used to calculate the F-ratio.
There are three corrections we can apply:
Huynh-Feldt (least conservative)
Greenhouse–Geisser
Lower-bound (most conservative)
Each of these corrections tend to increase the p-values in the output table of the repeated measures ANOVA to account for the fact that the assumption of sphericity is violated.
<h2><span class="orange">How to Find the Max Value by Group in Pandas</span></h2>
Often you may be interested in finding the max value by group in a pandas DataFrame. 
Fortunately this is easy to do using the <b>groupby()</b> and <b>max()</b> functions with the following syntax:
<b>df.groupby('column_name').max()
</b>
This tutorial explains several examples of how to use this function in practice using the following pandas DataFrame:
<b>import pandas as pd
#create pandas DataFrame
df = pd.DataFrame({'team': ['A', 'A', 'B', 'B', 'B', 'C', 'C'],   'points':[24, 23, 27, 11, 14, 8, 13],   'rebounds': [11, 8, 7, 6, 6, 5, 12]})
#display DataFrame
print(df)
  team  points  rebounds
0    A      24        11
1    A      23         8
2    B      27         7
3    B      11         6
4    B      14         6
5    C       8         5
6    C      13        12</b>
<h3>Example 1: Max Value of Multiple Columns Grouped by One Variable</h3>
The following code shows how to find the max value of multiple columns, grouped by one variable in a DataFrame:
<b>#find max values of points and rebounds, grouped by team
df.groupby('team').max().reset_index()
        teampointsrebounds
0A2411
1B277
2C1312
</b>
From the output we can see that:
Team A has a max <em>points</em> value of 24 and a max <em>rebounds</em> value of 11.
Team B has a max <em>points</em> value of 27 and a max <em>rebounds</em> value of 7.
Team C has a max <em>points</em> value of 13 and a max <em>rebounds</em> value of 12.
Note that we used the <b>reset_index()</b> function to ensure that the index matches the index in the original DataFrame.
<h3>
<b>Example 2: Max Value of a Single Column Grouped by One Variable</b>
</h3>
The following code shows how to find the max value of just one column, grouped on a single variable:
<b>#find max value of points, grouped by team
df.groupby('team')['points'].max().reset_index()
        teampoints
0A24
1B27
2C13</b>
<h3>
<b>Example 3: Sort by Max Values</b>
</h3>
We can also use the <b>sort_values()</b> function to sort the max values.
We can specify <b>ascending=False</b> to sort from largest to smallest:
<b>#find max value by team, sort descending
df.groupby('team')['points'].max().reset_index().sort_values(['points'], ascending=False)
        teampoints
1B27
0A24
2C13
</b>
Or we can specify <b>ascending=True</b> to sort from smallest to largest:
<b>#find max value by team, sort ascending 
df.groupby('team')['points'].max().reset_index().sort_values(['points'], ascending=True) 
        teampoints
2C13
0A24
1B27
</b>
<h2><span class="orange">How to Use MAXIFS in Google Sheets (With Examples)</span></h2>
You can use the <b>MAXIFS</b> function in Google Sheets to find the max value in a range, filtered by a set of criteria.
This function uses the following basic syntax:
<b>=MAXIFS(range, criteria_range1, criteria1, [criteria_range2, criteria2, …])</b>
The following examples show how to use this syntax in practice.
<h3>Example 1: Use MAXIFS with One Criterion</h3>
Suppose we have the following dataset that shows the points scored by 15 different basketball players:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/01/maxifs1.jpg"472">
We can use the following formula to calculate the max points scored <b>IF</b> the player is on team A:
<b>=MAXIFS(C2:C16, A2:A16, "A")
</b>
The following screenshot shows how to use this formula in practice:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/01/maxifs2.jpg"541">
We can see that the max points value among players on team A is <b>35</b>.
<h3>Example 2: Use MAXIFS with Multiple Criteria</h3>
Suppose we have the same dataset that shows the points scored by 15 different basketball players:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/01/maxifs1.jpg"475">
We can use the following formula to calculate the max points scored <b>IF</b> the player is on team A <em>and</em> <b>IF</b> the player has a Guard position:
<b>=MAXIFS(C2:C16, A2:A16, "A", B2:B16, "Guard") 
</b>
The following screenshot shows how to use this formula in practice:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/01/maxifs3.jpg"558">
We can see that the max points value among players who are on team A <em>and</em> have a Guard position is <b>30</b>.
<b>Note</b>: In these examples we used the <b>MAXIFS()</b> function with one criterion and two criterion, but you can use the same syntax to use as many criterion as you’d like.
<h2><span class="orange">How to Find the Maximum Value by Group in R</span></h2>
Often you may want to find the maximum value of each group in a data frame in R. Fortunately this is easy to do using functions from the  dplyr  package.
This tutorial explains how to do so using the following data frame:
<b>#create data frame
df &lt;- data.frame(team = c('A', 'A', 'A', 'B', 'B', 'B', 'B'), position = c('G', 'F', 'F', 'G', 'G', 'G', 'F'), points = c(12, 15, 19, 22, 34, 34, 39))
#view data frame
df
  team position points
1    A        G     12
2    A        F     15
3    A        F     19
4    B        G     22
5    B        G     34
6    B        G     34
7    B        F     39
</b>
<h3>Example 1: Find Max Value by Group</h3>
The following code shows how to find the max value by team and position:
<b>library(dplyr)
#find max value by team and position
df %>%
  group_by(team, position) %>%
  summarise(max = max(points, na.rm=TRUE))
# A tibble: 4 x 3
# Groups:   team [?]
  team   position   max
      
1 A      F         19.0
2 A      G         12.0
3 B      F         39.0
4 B      G         34.0</b>
<h3>Example 2: Return Rows that Contains Max Value by Group</h3>
The following code shows how to return the rows that contain the max value by team and position:
<b>library(dplyr)
#find rows that contain max points by team and position
df %>%
  group_by(team, position) %>%
  filter(points == max(points, na.rm=TRUE))
# A tibble: 5 x 3
# Groups:   team, position [4]
  team   position points
       
1 A      G          12.0
2 A      F          19.0
3 B      G          34.0
4 B      G          34.0
5 B      F          39.0</b>
<h3>Example 3: Return a Single Row that Contains Max Value by Group</h3>
In the previous example, there were two players who had the max amount of points on team A who were both in position G. If you only want to return the first player with the max value in a group, you can use the <b>slice() </b>function as follows:
<b>library(dplyr)
#find rows that contain max points by team and position
df %>%
  group_by(team, position) %>%
  slice(which.max(points))
# A tibble: 4 x 3
# Groups:   team, position [4]
  team   position points
       
1 A      F          19.0
2 A      G          12.0
3 B      F          39.0
4 B      G          34.0</b>
<h2><span class="orange">What is Maximum Variation Sampling?</span></h2>
<b>Maximum variation sampling</b> (sometimes referred to as <em>maximum diversity sampling </em>or <em>maximum heterogeneity sampling</em>) is a  sampling method  in which researchers attempt to collect data from the widest range of perspectives possible about a certain topic.
The goal with this type of sampling is to gain an understanding of a certain topic from a wide variety of angles.
By sampling individuals who are extremely different from one another (either in age, socioeconomic status, income, occupation, region, etc.) researchers can gain a more wholistic view of some topic and can analyze a topic from many different standpoints.
<h3>Examples of Maximum Variation Sampling</h3>
The following scenarios illustrate examples of maximum variation sampling in practice.
<b>Example 1: Agriculture</b>
Researchers are interested in understanding how a certain fertilizer affects plant growth in a certain region. To maximize the variation of plants in their sample, they decide to test the fertilizer out on the part of the region that receives the most rainfall each year along with the part of the region that receives the least rainfall each year.
<b>Example 2: Public Opinion</b>
Researchers want to understand the relationship between people’s opinion on a certain law and their annual income. They decide to include individuals in the top 5% of annual income in their sample along with individuals in the bottom 5% of annual income. In this sense, their sample includes maximum variation in terms of income.
<b>Example 3: Media Consumption</b>
Researchers want to understand the public’s opinion about a certain television show. For their sample they decide to ask the opinion of the following four groups:
A group of extremely young and poor people.
A group of extremely young and rich people.
A group of extremely old and poor people.
A group of extremely old and rich people.
By including these four “extreme” groups in their sample, the researchers are able to maximize the variation in individuals included in the sample.
<h3>Advantages & Disadvantages of Maximum Variation Sampling</h3>
One advantage of maximum variation sampling is that researchers can gain insights about a certain topic without obtaining a massive sample. By simply obtaining data about individuals in the most extreme positions, they need to sample far fewer individuals.
The disadvantage of this sampling method is that researchers are unable to generalize their findings to the rest of the population because the sample that they obtain will not be  representative of the overall population .
That is, the data collected on the sample is unlikely to be similar to the data that would be collected on the whole population since only individuals in “extreme” positions would be included in the sample.
<h2><span class="orange">How to Perform McNemar’s Test in Stata</span></h2>
<b>McNemar’s Test </b>is a test we can use to determine if there is a statistically significant difference in proportions between paired data.
This tutorial explains how to perform McNemar’s Test in Stata.
<h2>Example: McNemar’s Test in Stata</h2>
Suppose researchers want to know if a certain marketing video can change people’s opinion of a particular law. They survey 100 people to find out if they do or do not support the law. Then, they show all 100 people the marketing video and survey them again once the video is over. 
The following table shows the total number of people who supported the law both before and after viewing the video:
<table><tbody>
<tr>
<th></th>
<th colspan="2">Before Marketing Video</th>
</tr>
<tr>
<td>After Marketing Video</td>
<td><b>Support</b></td>
<td><b>Do not support</b></td>
</tr>
<tr>
<td><b>Support</b></td>
<td>30</td>
<td>40</td>
</tr>
<tr>
<td><b>Do not Support</b></td>
<td>12</td>
<td>18</td>
</tr>
</tbody></table>
To determine if there was a statistically significant difference in the proportion of people who supported the law before and after viewing the video, we can perform McNemar’s Test.
In Stata, we can use the <b>mcci </b>command to perform McNemar’s Test. We enter the counts in the 2×2 table from left to right, top to bottom:
<b>mcci 30 40 12 18</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/03/mcnemarStata1.png">
Here is how to interpret the output:
<b>2×2 table: </b>Stata displays a 2×2 table of the counts using the conventional labels that are often seen in case-control studies. We can see that the total counts add up to 100.
<b>McNemar’s chi2(1): </b>This is the Chi-Square test statistic, which turns out to be 15.08. Stata uses the following formula to calculate this value: (40-12)<sup>2</sup> / (40+12) = 784 / 52 = 15.0769.
<b>Prob > chi2: </b>This is the p-value associated with the Chi-Square test statistic. It turns out to to be 0.0001. Because this value is less than 0.05, we can reject the null hypothesis and conclude that the proportion of people who supported the law before and after watching the marketing video was statistically significant different.
<h3>A Note on the Chi-Square Calculation</h3>
Given the following 2×2 table:
<table><tbody>
<tr>
<th></th>
<th colspan="2">Before Marketing Video</th>
</tr>
<tr>
<td>After Marketing Video</td>
<td><b>Support</b></td>
<td><b>Do not support</b></td>
</tr>
<tr>
<td><b>Support</b></td>
<td>A</td>
<td>B</td>
</tr>
<tr>
<td><b>Do not Support</b></td>
<td>C</td>
<td>D</td>
</tr>
</tbody></table>
Stata uses the formula (B-C)<sup>2</sup> / (B+C) to calculate the Chi-Square test statistic. 
However, some statistical textbooks suggest using the formula (|B-C| – 1)<sup>2</sup> / (B+C) as a continuity correction when some counts in the table are small. As a rule of thumb, this correction is typically applied when any of the cell counts are less than 5. 
<h2><span class="orange">McNemar’s Test Calculator</span></h2>
    .label_radio {
text-align: center;
}
</style>
<b>McNemar’s test</b> is used to test whether or not counts are consistent across two groups. It is often used to test if the counts between a treatment group and control group are equal.
Given the following 2×2 table:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2019/01/mcnemar_example.png">
The test statistic X<sup>2</sup> is computed as (|b-c|-1)<sup>2</sup> / (b+c) and follows a chi-square distribution with one degree of freedom.
To perform McNemar’s test for a given dataset, simply enter the values in the cells below and then press the “Calculate” button.
<table><tbody>
<tr>
<td></td>
            <td></td>
            <td colspan="2">Test 2</td>
        </tr>
<tr>
<td></td>
            <td></td>
            <td>Positive</td>
            <td>Negative</td>
        </tr>
<tr>
<td rowspan="2">Test 1</td>
            <td><span>Positive</td>
            <td></td>
            <td></td>
        </tr>
<tr>
<td><span>Negative</td>
            <td></td>
            <td></td>
        </tr>
</tbody></table>
<input type="button" id="button" onclick="calc()" value="Calculate">
<div>
<div>
<script>
//create function that performs calculations
function calc() {
//get data
var b1a1 = document.getElementsByClassName('b1a1')[0].innerText*1;
var b1a0 = document.getElementsByClassName('b1a0')[0].innerText*1;
var b0a1 = document.getElementsByClassName('b0a1')[0].innerText*1;
var b0a0 = document.getElementsByClassName('b0a0')[0].innerText*1;
//calculate test statistic, p-value
var chi2 = Math.pow(Math.abs(b0a1-b1a0) - 1, 2) / (b0a1-(-b1a0));
var p = 1 - jStat.chisquare.cdf(chi2, 1);
//output results
document.getElementById('chi2').innerHTML = "<b>Test statistic X<sup>2</sup> :</b> " + "(|" + b0a1 + "-" + b1a0 + "| - 1)<sup>2</sup> / (" + b0a1 + "+" + b1a0 + ") = " + chi2.toFixed(5);
document.getElementById('p').innerHTML = "<b>p-value:</b> " + p.toFixed(5);
}
</script>
<footer>
<imghttps://secure.gravatar.com/avatar/df25e43bc751df7488d778d5643aa78f?s=68&d=mm&r=g"><b>CJ</b> <span>says:
<!-- .comment-author -->
 <time datetime="2019-05-27T16:01:18-04:00">May 27, 2019 at 4:01 pm</time> 
<!-- .comment-metadata -->
</footer><!-- .comment-meta -->
How can a= BOTH the positive results from test 1 AND the positive results from test 2?  The table headings create an impossible task.
<!-- .comment-content -->
 Reply </article>
<footer>
<imghttps://secure.gravatar.com/avatar/958f66fbe89e80753a8c8a0492bf5cc8?s=68&d=mm&r=g"><b>admin</b> <span>says:
<!-- .comment-author -->
 <time datetime="2019-05-27T16:42:17-04:00">May 27, 2019 at 4:42 pm</time> 
<!-- .comment-metadata -->
</footer><!-- .comment-meta -->
In this example, “a” represents the count of observations that had a positive result for both test 1 and test 2.
For example, suppose we test whether or not a new treatment can help people with knee pain. We recruit 100 people and find out if they have knee pain, to which they may respond yes (“positive” for test 1) or no (“negative” for test 1). Then, after we give them the treatment we again ask them if they have knee pain, to which they may respond yes (“positive” for test 2) or no (“negative” for test 2).
Suppose 31 total people responded yes to having knee pain both before and after the treatment. In this case, a = 31.
<!-- .comment-content -->
 Reply </article>
<h2><span class="orange">How to Perform McNemar’s Test in Excel</span></h2>
<figure>McNemar’s test</b> is used to test whether or not counts are consistent across two groups. It is often used to test if the counts between a treatment group and control group are equal.</figure>
<b>Note:</b> This test is appropriate to use when the same subjects show up in <em>both</em> the control and treatment group.
This tutorial shows how to conduct McNemar’s Test in Excel.
<h3>Mcnemar’s Test in Excel</h3>
Suppose researchers survey 100 people about a certain law and find that 30 support the law while 70 oppose the law. Researchers then show this group of 100 people a video about the financial benefits of the law and repeat the survey again. This time, 12 people go from supporting to opposing the law while 14 go from opposing to supporting the law.
<b>Conduct a McNemar’s Test to determine if this video had a significant impact on people’s opinion.</b>
First, state the null and alternative hypothesis for the test:
<b>H</b><sub><b>0</b></sub> (null hypothesis) = Video has no impact on people’s opinion
<b>H</b><sub><b>A</b></sub> (alternative hypothesis) = Video has a significant impact on people’s opinion
Next, identify the following:
<b>A </b>= # People who changed from supporting to opposing the law: 12
<b>B </b>= # People who changed from opposing to supporting the law: 14
The test statistic <b>X</b><sup><b>2</b></sup> = (|A-B| – .5)2 / (A+B) = (|12-14| – 1)2 / (12+14) = <b>.03846</b>.
This test statistic follows a X<sup>2</sup> distribution with one degree of freedom. According to the Chi-Square Distribution table, X<sup>2</sup><sub>(.05, 1)</sub> = <b>3.841</b>.
Since our test statistic is less than 3.841, we fail to reject the null hypothesis. We do not have sufficient evidence to say that the video had a significant impact on people’s opinion.
To perform this McNemar Test in Excel, simply use the following formulas:
<figure> <img class="lazy" data-src="https://i1.wp.com/fourpillarfreedom.com/wp-content/uploads/2019/02/mcnemar_excel.jpg?fit=533%2C287&ssl=1"> </figure>
This results in the same answers as above.
<h2><span class="orange">How to Perform McNemar’s Test in Python</span></h2>
<b>McNemar’s Test </b>is used to determine if there is a statistically significant difference in proportions between paired data.
This tutorial explains how to perform McNemar’s Test in Python.
<h3>Example: McNemar’s Test in Python</h3>
Suppose researchers want to know if a certain marketing video can change people’s opinion of a particular law. They survey 100 people to find out if they do or do not support the law. Then, they show all 100 people the marketing video and survey them again once the video is over.
The following table shows the total number of people who supported the law both before and after viewing the video:
<table><tbody>
<tr>
<th></th>
<th colspan="2">Before Marketing Video</th>
</tr>
<tr>
<td>After Marketing Video</td>
<td><b>Support</b></td>
<td><b>Do not support</b></td>
</tr>
<tr>
<td><b>Support</b></td>
<td>30</td>
<td>40</td>
</tr>
<tr>
<td><b>Do not Support</b></td>
<td>12</td>
<td>18</td>
</tr>
</tbody></table>
To determine if there was a statistically significant difference in the proportion of people who supported the law before and after viewing the video, we can perform McNemar’s Test.
<b>Step 1: Create the data.</b>
First, we will create a table to hold our data:
<b>data = [[30, 40],
         [12, 18]]
</b>
<b>Step 2: Perform McNemar’s Test</b>
Next, we can use the  mcnemar() function  from the statsmodels Python library, which uses the following syntax:
<b>mcnemar(table, exact=True, correction=True) </b>
where:
<b>table: </b>A square contingency table
<b>exact: </b>If exact is true, then the binomial distribution will be used. If exact is false, then the Chi-Square distribution will be used
<b>correction: </b>If true, a continuity correction is used. As a rule of thumb, this correction is typically applied when any of the cell counts in the table are less than 5.
The following code shows how to use this function in our specific example:
<b>from statsmodels.stats.contingency_tables import mcnemar
#McNemar's Test with no continuity correction
print(mcnemar(data, exact=False))
pvalue      0.000181
statistic   14.019
#McNemar's Test with continuity correction
print(mcnemar(data, exact=False, correction=False))
pvalue      0.000103
statistic   15.077</b>
In both cases – whether we apply the continuity correction or not – the p-value of the test is less than 0.05.
This means in both cases we would reject the null hypothesis and conclude that the proportion of people who supported the law before and after watching the marketing video was statistically significant different.
<h2><span class="orange">How to Perform McNemar’s Test in R</span></h2>
<b>McNemar’s Test </b>is used to determine if there is a statistically significant difference in proportions between paired data.
This tutorial explains how to perform McNemar’s Test in R.
<h2>Example: McNemar’s Test in R</h2>
Suppose researchers want to know if a certain marketing video can change people’s opinion of a particular law. They survey 100 people to find out if they do or do not support the law. Then, they show all 100 people the marketing video and survey them again once the video is over.
The following table shows the total number of people who supported the law both before and after viewing the video:
<table><tbody>
<tr>
<th></th>
<th colspan="2">Before Marketing Video</th>
</tr>
<tr>
<td>After Marketing Video</td>
<td><b>Support</b></td>
<td><b>Do not support</b></td>
</tr>
<tr>
<td><b>Support</b></td>
<td>30</td>
<td>40</td>
</tr>
<tr>
<td><b>Do not Support</b></td>
<td>12</td>
<td>18</td>
</tr>
</tbody></table>
To determine if there was a statistically significant difference in the proportion of people who supported the law before and after viewing the video, we can perform McNemar’s Test.
<b>Step 1: Create the data.</b>
First, create the dataset in a matrix form.
<b>#create data
data &lt;- matrix(c(30, 12, 40, 18), nrow = 2,
    dimnames = list("After Video" = c("Support", "Do Not Support"),    "Before Video" = c("Support", "Do Not Support")))
#view data
data
                Before Video
After Video      Support Do Not Support
  Support             30             40
  Do Not Support      12             18
</b>
<b>Step 2: Perform McNemar’s Test.</b>
Next, perform McNemar’s Test using the following syntax:
<b>mcnemar.test(x, y = NULL, correct = TRUE)</b>
where:
<b>x</b>: either a two-dimensional contingency table in matrix form, or a factor object.
<b>y</b>: a factor object; ignored if x is a matrix.
<b>correct</b>: TRUE = apply continuity correction when computing test statistic; FALSE = do not apply continuity correction.
In general, a continuity correction should be applied when some counts in the table are small. As a rule of thumb, this correction is typically applied when any of the cell counts are less than 5.
We will perform McNemar’s Test both with and without a continuity correction, just to illustrate the differences:
<b>#Perform McNemar's Test with continuity correction
mcnemar.test(data)
McNemar's Chi-squared test with continuity correction
data:  data
McNemar's chi-squared = 14.019, df = 1, p-value = 0.000181
#Perform McNemar's Test without continuity correction 
mcnemar.test(data, correct=FALSE) 
McNemar's Chi-squared test
data:  data
McNemar's chi-squared = 15.077, df = 1, p-value = 0.0001032</b>
In both cases the p-value of the test is less than 0.05, so we would reject the null hypothesis and conclude that the proportion of people who supported the law before and after watching the marketing video was statistically significant different.
<h2><span class="orange">How to Perform McNemar’s Test in SPSS</span></h2>
<b>McNemar’s Test </b>is used to determine if there is a statistically significant difference in proportions between paired data.
This tutorial explains how to perform McNemar’s Test in SPSS.
<h3>Example: McNemar’s Test in SPSS</h3>
Suppose researchers want to know if a certain marketing video can change people’s opinion of a particular law. They survey 25 people to find out if they do or do not support the law. Then, they show all 25 people the marketing video and survey them again once the video is over.
The following table shows the total number of people who supported the law both before and after viewing the video:
<table><tbody>
<tr>
<th></th>
<th colspan="2">Before Marketing Video</th>
</tr>
<tr>
<td>After Marketing Video</td>
<td><b>Do Not Support</b></td>
<td><b>Support</b></td>
</tr>
<tr>
<td><b>Do Not Support</b></td>
<td>7</td>
<td>5</td>
</tr>
<tr>
<td><b>Support</b></td>
<td>3</td>
<td>10</td>
</tr>
</tbody></table>
To determine if there was a statistically significant difference in the proportion of people who supported the law before and after viewing the video, we can use the following steps to perform McNemar’s Test in SPSS:
<b>Step 1: Enter the data.</b>
First, enter the data as shown below:
<em>Each row shows an individual’s ID, their stance before watching the marketing video, and their stance after watching the marketing video.</em>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/06/mcnemarSPSS1.png">
<b>Step 2: Perform McNemar’s Test.</b>
Click the <b>Analyze </b>tab, then <b>Descriptive Statistics</b>, then <b>Crosstabs</b>:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/06/mcnemarSPSS0.png">
Drag the variable <b>After </b>into the box labelled Rows and the variable <b>Before </b>into the box labelled Columns. Then click the button labelled <b>Statistics</b> and make sure that the box next to <b>McNemar </b>is checked. Then click <b>Continue</b>. Then click <b>OK</b>.
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/06/mcnemarSPSS2.png">
<b>Step 3: Interpret the results.</b>
Once you click <b>OK</b>, the results of McNemar’s Test will be displayed:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/06/mcnemarSPSS3.png">
The first table displays the number of missing cases in the dataset. We can see that there are 0 missing cases in this example.
The second table displays a crosstab of the total number of individuals who did or did not support the law before and after watching the marketing video.
The third table shows the results of McNemar’s Test. The p-value of the test is <b>.727</b>. Since this value is not less than 0.05, we do not have sufficient evidence to say that the proportion of people who supported the law before and after watching the marketing video was statistically significant different.
<h3>A Note on the p-value Calculation</h3>
Given the following 2×2 table:
<table><tbody>
<tr>
<th></th>
<th colspan="2">Before Marketing Video</th>
</tr>
<tr>
<td>After Marketing Video</td>
<td><b>Do Not Support</b></td>
<td><b>Support</b></td>
</tr>
<tr>
<td><b>Do Not Support</b></td>
<td>A</td>
<td>B</td>
</tr>
<tr>
<td><b>Support</b></td>
<td>C</td>
<td>D</td>
</tr>
</tbody></table>
SPSS uses the formula sing the formula (|B-C| – 1)<sup>2</sup> / (B+C)  to calculate the Chi-square test statistic. 
In this example, the Chi-square test statistic is found to be (|5-3| – 1)<sup>2</sup> / (5+3) = 1/8 = .125
The p-value corresponds to the Chi-Square test statistic with 1 degree of freedom. Using the  Chi-Square to P-value Calculator , we find that a Chi-square value of .125 with 1 degree of freedom is equal to a p-value of <b>.727</b>.
<h2><span class="orange">How to Calculate the Mean Absolute Deviation in Google Sheets</span></h2>
The <b>mean absolute deviation </b>is a way to measure the dispersion for a set of data values.
A low value for the mean absolute deviation is an indication that the data values are concentrated closely together. A high value for the mean absolute deviation is an indication that the data values are more spread out.
The formula to calculate the mean absolute deviation is as follows:
<b>Mean absolute deviation = (Σ |x<sub>i</sub> – x|) / n</b>
<b>Σ</b> – just a fancy symbol that means “sum”
<b>x<sub>i</sub></b> – the i<sup>th</sup> data value
<b>x </b>– the mean value
<b>n </b>– sample size
This tutorial explains how to calculate the mean absolute deviation of a dataset in Google Sheets.
<h3>Example: Mean Absolute Deviation in Google Sheets</h3>
Use the following steps to calculate the mean absolute deviation in Google Sheets.
<b>Step 1: Enter the data</b>.
First, enter all of the values of a dataset into one column:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/10/madSheets1.png">
<b>Step 2: Find the mean value of the dataset</b>.
Next, use the <b>AVERAGE() </b>function to find the mean of the dataset:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/10/madSheets2.png">
<b>Step 3: Calculate the absolute deviations.</b>
Next, use the <b>ABS() </b>function to find the absolute deviation of each observation from the mean of the dataset:
<em>The formulas in column C show how to calculate the values in column B.</em>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/10/madSheets3-1.png">
<b>Step 4: Calculate the mean absolute deviation</b>.
Lastly, calculate the mean absolute deviation of the dataset:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/10/madSheets4.png">
The mean absolute deviation turns out to be <b>6.1867</b>.
Note that you can use these four steps to calculate the mean absolute deviation for any number of data values. In this example, we used 15 data values but you could use these exact steps to calculate the mean absolute deviation for 5 data values or 5,000 data values.
<b>Related: </b> How to Calculate the Mean Absolute Deviation in Excel 
<h2><span class="orange">How to Find Mean Absolute Deviation on a TI-84 Calculator</span></h2>
The <b>mean absolute deviation</b> is a way to measure the spread of values in a dataset.
It is calculated as:
<b>Mean absolute deviation = (Σ |x<sub>i</sub> – x|) / n</b>
<b>Σ</b>: A fancy symbol that means “sum”
<b>x<sub>i</sub></b>: The i<sup>th</sup> data value
<b>x</b>: The mean value
<b>n</b>: The sample size
A low value for the mean absolute deviation tells us that the data values are concentrated close to each other while a high value tells us that the values are more spread out.
The following step-by-step example shows how to calculate the mean absolute deviation for the following dataset on a TI-84 calculator:
<b>Dataset:</b> 8,13,14,16,19,24
<h3>Step 1: Enter the Data</h3>
First, we will enter the data values.
Press Stat, then press EDIT. Then enter the values in column L1:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/madTI1.png">
<h3>Step 2: Calculate the Absolute Deviations</h3>
Next, we will find the absolute deviation of each individual value from the mean.
To do so, highlight the top of column L2 and type in the following formula:
<b>=abs(L1 - mean(L1))
</b>
Here’s how to actually type in this formula:
Press 2nd, then press 0. Then press abs(. This will input <b>abs(</b> in the formula.
Press 2nd, then press 1. Now you will have <b>abs(L1</b> in the formula.
Press the minus – button. Now you will have <b>abs(L1-</b> in the formula.
Press 2nd, then press STAT. Scroll over to “MATH” and then press 3. Now you will have <b>abs(L1-mean(</b> in the formula.
Press 2nd, then press 1. Now you will have <b>abs(L1-mean(L1</b> in the formula.
Press ) twice. Now you will have <b>abs(L1-mean(L1))</b>, which is the final formula.
Once you press Enter, the absolute deviations will appear in column L2:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/madTI2.png">
<h3>Step 3: Calculate the Mean Absolute Deviation</h3>
Lastly, use the following steps to calculate the mean absolute deviation:
Press 2nd and then press MODE to return to the home screen.
Press 2nd and then press STAT. Scroll over to “MATH” and then press 3.
Press 2nd and then press 2.
Press the ) button.
Once you press Enter, the mean absolute deviation will be displayed:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/madTI3.png">
The mean absolute deviation turns out to be <b>4</b>.
This tells us that the average distance between the individual values and the mean value in this dataset is 4.
<h2><span class="orange">Mean Absolute Deviation vs. Standard Deviation: What’s the Difference?</span></h2>
The <b>standard deviation</b> is one of the most common ways to measure  the spread  of a dataset.
It is calculated as:
Standard Deviation = √( Σ(x<sub>i</sub> – x)<sup>2</sup> / n )
An alternative way to measure the spread of  observations  in a dataset is the <b>mean absolute deviation</b>.
It is calculated as:
Mean Absolute Deviation = Σ|x<sub>i</sub> – x| / n
This tutorial explains the differences between these two metrics along with examples of how to calculate each.
<h3>Similarities & Differences</h3>
As the names imply, both the standard deviation and mean absolute deviation attempt to quantify the typical <em>deviation</em> of observations from the mean in a given dataset.
However, the <em>method</em> that each metric uses is different.
<b>Standard Deviation</b>
The standard deviation finds the <b>squared difference</b> between each observation and the mean of a dataset. It then takes the average of these squared differences and takes the square root.
This leaves us with a number that represents the “standard” or typical deviation of an observation from the mean.
<b>Mean Absolute Deviation</b>
Conversely, the mean absolute deviation finds the <b>absolute deviation </b>between each observation and the mean of the dataset. It then finds the average of these deviations.
This leaves us with a number that represents the average deviation of observations from the mean.
Because the standard deviation finds the squared differences, it will always be equal to or larger than the mean absolute deviation.
When extreme outliers are present, the standard deviation will be considerably larger than the mean absolute deviation. The following example illustrates this point.
<h3>Example: Mean Absolute Deviation vs. Standard Deviation</h3>
Suppose we have the following dataset of 8 values:
 <img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/12/mad_sd2.png">
The mean turns out to be <b>11</b>.
Thus, we would calculate the mean absolute deviation as:
<b>Mean Absolute Deviation</b> = (|3-11| + |5-11| + |6-11| + |8-11| + |11-11| + |14-11| + |17-11| + |24-11|) / 8 = <b>5.5</b>.
And we would calculate the standard deviation as:
<b>Standard Deviation =</b> √((3-11)<sup>2</sup> + (5-11)<sup>2</sup> + (6-11)<sup>2</sup> + (8-11)<sup>2</sup> + (11-11)<sup>2</sup> + (14-11)<sup>2</sup> + (17-11)<sup>2</sup> + (24-11)<sup>2</sup>) / 8) = <b>6.595</b>.
As mentioned earlier, the standard deviation will always be equal to or larger than the mean absolute deviation.
However, the difference between the standard deviation and the mean absolute deviation will be particularly large if there are extreme outliers in the dataset.
For example, consider the following dataset with an extreme outlier for the last value:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/12/mad_sd3.png">
It turns out that the standard deviation for this dataset is <b>63.27 </b>while the mean absolute deviation is <b>41.75</b>.
The extreme outlier causes the standard deviation to be much larger than the mean absolute deviation.
<h2><span class="orange">Mean Absolute Error Calculator</span></h2>
In statistics, the <b>mean absolute error (MAE)</b> is a way to measure the accuracy of a given model. It is calculated as:
MAE = (1/n) * Σ|y<sub>i</sub> – x<sub>i</sub>|
where:
y<sub>i</sub>: The observed value for the i<sup>th</sup> observation
x<sub>i</sub>: The predicted value for the i<sup>th</sup> observation
n: The total number of observations
This calculator finds the mean absolute error for a given model.
Simply enter a list of observed values and a list of predicted values in the boxes below, then click the “Calculate” button:
<b>Observed values:</b>
<textarea id="x" rows="5" cols="40">12, 13, 14, 15, 15, 22, 27</textarea>
<b>Predicted values:</b>
<textarea id="y" rows="5" cols="40">11, 13, 14, 14, 15, 16, 18</textarea>
<input type="button" id="buttonCalc" onclick="calc()" value="Calculate">
Mean Absolute Error = 2.42857
<script>
function calc() {
//get input data
var x = document.getElementById('x').value.split(',').map(Number);
var y = document.getElementById('y').value.split(',').map(Number);
//check that both lists are equal length
if (x.length - y.length == 0) {
document.getElementById('error_msg').innerHTML = '';
//calculate RMSE
let error = 0
for (let i = 0; i < x.length; i++) {
error += Math.abs(x[i] - y[i])
}
var mae = error / x.length;
document.getElementById('mae').innerHTML = mae.toFixed(5);
}
//output error message if both lists are not equal
else {
document.getElementById('error_msg').innerHTML = 'The two lists must be of equal length.';
}
  
} //end calc function
</script>
<h2><span class="orange">How to Calculate Mean Absolute Error in Excel (Step-by-Step)</span></h2>
In statistics, the <b>mean absolute error</b> (MAE) is a way to measure the accuracy of a given model. It is calculated as:
MAE = (1/n) * Σ|y<sub>i</sub> – x<sub>i</sub>|
where:
<b>Σ:</b> A Greek symbol that means “sum”
<b>y<sub>i</sub>:</b> The observed value for the i<sup>th</sup> observation
<b>x<sub>i</sub>:</b> The predicted value for the i<sup>th</sup> observation
<b>n:</b> The total number of observations
The following step-by-step example shows how to calculate the mean absolute error in Excel.
<h3>Step 1: Enter the Data</h3>
First, let’s enter a list of observed and predicted values in two separate columns:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/mae_excel1.png">
<b>Note:</b> Use  this tutorial  to if you need to learn how to use a regression model to calculate predicted values.
<h3>Step 2: Calculate the Absolute Differences</h3>
Next, we’ll use the following formula to calculate the absolute differences between the observed and predicted values:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/mae_excel2.png">
<h3>Step 3: Calculate MAE</h3>
Next, we’ll use the following formula to calculate the mean absolute error:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/mae_excel3.png">
The mean absolute error (MAE) turns out to be <b>2.5625</b>.
This tells us that the average absolute difference between the observed values and the predicted values is 2.5625.
In general, the lower the value for the MAE the better a model is able to fit a dataset. When comparing two different models, we can compare the MAE of each model to know which one offers a better fit to a dataset.
<b>Bonus:</b> Feel free to use this  Mean Absolute Error Calculator  to automatically calculate the MAE for a list of observed and predicted values.
<h2><span class="orange">How to Calculate Mean Absolute Error in R</span></h2>
In statistics, the <b>mean absolute error</b> (MAE) is a way to measure the accuracy of a given model. It is calculated as:
MAE = (1/n) * Σ|y<sub>i</sub> – x<sub>i</sub>|
where:
<b>Σ:</b> A Greek symbol that means “sum”
<b>y<sub>i</sub>:</b> The observed value for the i<sup>th</sup> observation
<b>x<sub>i</sub>:</b> The predicted value for the i<sup>th</sup> observation
<b>n:</b> The total number of observations
We can calculate the mean absolute error in R by using the <b>mae(actual, predicted)</b> function from the <b>Metrics</b> package.
This tutorial provides two examples of how to use this function in practice.
<h3>Example 1: Calculate Mean Absolute Error Between Two Vectors</h3>
The following code shows how to calculate the mean absolute error between a vector of observed values and a vector of predicted values:
<b>library(Metrics)
#define observed and predicted values
observed &lt;- c(12, 13, 14, 15, 15, 22, 27, 29, 29, 30, 32)
predicted &lt;- c(11, 13, 14, 14, 16, 19, 24, 30, 32, 36, 30)
#calculate mean absolute error between vectors
mae(observed, predicted)
[1] 1.909091
</b>
The mean absolute error (MAE) turns out to be <b>1.909</b>.
This tells us that the average absolute difference between the observed values and the predicted values is 1.909.
<h3>Example 2: Calculate Mean Absolute Error for a Regression Model</h3>
The following code shows how to fit a  regression model  in R and then calculate the mean absolute error between the predictions made by the model and the actual observed response values:
<b>library(Metrics)
#create data
df &lt;- data.frame(x1=c(1, 3, 3, 4, 4, 6, 6, 8, 9, 3), x2=c(7, 7, 4, 10, 13, 12, 17, 19, 20, 34), y=c(17, 18, 19, 20, 24, 28, 25, 29, 30, 32))
#view first six rows of data
head(df)
  x1 x2  y
1  1  7 17
2  3  7 18
3  3  4 19
4  4 10 20
5  4 13 24
6  6 12 28
#fit regression model
model &lt;- lm(y~x1+x2, data=df)
#calculate MAE between predicted values and observed values
mae(df$y, predict(model))
[1] 1.238241
</b>
The mean absolute error (MAE) turns out to be <b>1.238</b>.
This tells us that the average absolute difference between the observed values and the predicted values is 1.238.
In general, the lower the value for the MAE the better a model is able to fit a dataset. When comparing two different models, we can compare the MAE of each model to know which one offers a better fit to a dataset.
<h2><span class="orange">How to Calculate Mean Absolute Error in Python</span></h2>
In statistics, the <b>mean absolute error</b> (MAE) is a way to measure the accuracy of a given model. It is calculated as:
MAE = (1/n) * Σ|y<sub>i</sub> – x<sub>i</sub>|
where:
<b>Σ:</b> A Greek symbol that means “sum”
<b>y<sub>i</sub>:</b> The observed value for the i<sup>th</sup> observation
<b>x<sub>i</sub>:</b> The predicted value for the i<sup>th</sup> observation
<b>n:</b> The total number of observations
We can easily calculate the mean absolute error in Python by using the  mean_absolute_error()  function from Scikit-learn.
This tutorial provides an example of how to use this function in practice.
<h3>Example: Calculating Mean Absolute Error in Python</h3>
Suppose we have the following arrays of actual values and predicted values in Python:
<b>actual = [12, 13, 14, 15, 15, 22, 27]
pred = [11, 13, 14, 14, 15, 16, 18]
</b>
The following code shows how to calculate the mean absolute error for this model:
<b>from sklearn.metrics import mean_absolute_error as mae
#calculate MAE
mae(actual, pred)
2.4285714285714284
</b>
The mean absolute error (MAE) turns out to be <b>2.42857</b>.
This tells us that the average difference between the actual data value and the value predicted by the model is 2.42857.
We can compare this MAE to the MAE obtained by other forecast models to see which models perform best.
The lower the MAE for a given model, the more closely the model is able to predict the actual values.
<b>Note:</b> The array of actual values and the array of predicted values should both be of equal length in order for this function to work correctly.
<h2><span class="orange">How to Calculate the Mean and Standard Deviation in Excel</span></h2>
The  mean  represents the average value in a dataset. It gives us a good idea of where the center of a dataset is located.
The  standard deviation  represents how spread out the values are in a dataset. It gives us an idea of how closely the observations are clustered around the mean.
Using only these two values, we can understand a great deal about the distribution of values in a dataset.
To calculate the <b>mean</b> of a dataset in Excel, we can use the <b>=AVERAGE(Range)</b> function where <em>Range</em> is the range of values.
To calculate the <b>standard deviation</b> of a dataset, we can use the <b>=STDEV.S(Range)</b> function, where <em>Range</em> is the range of values.
This tutorial explains how to use these functions in practice.
<b>Technical Note</b>
 
Both the <b>STDEV()</b> and <b>STDEV.S()</b> function calculate the <em>sample</em> standard deviation. 
 
You can use the STDEV.P() function to calculate the <em>population</em> standard deviation if your dataset represents the entire population of values.
 
However, in most cases we’re working with sample data rather than an entire population so we use the STDEV.S() function.
<h3>Example 1: Mean & Standard Deviation of a Single Dataset</h3>
The following screenshot shows how to calculate the mean and standard deviation of a single dataset in Excel:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/12/mean_sd_excel1.png">
The mean of the dataset is <b>16.4</b> and the standard deviation is <b>9.13</b>.
<h3>Example 2: Mean & Standard Deviation of Multiple Datasets</h3>
Suppose we have multiple datasets in Excel:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/12/mean_sd_excel2.png">
To calculate the mean and standard deviation of the first dataset, we can use the following two formulas:
<b>Mean:</b> =AVERAGE(B2:B21)
<b>Standard Deviation:</b> =STDEV.S(B2:B21)
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/12/mean_sd_excel3.png">
Next, we can highlight cells B22:B23 and hover over the bottom right corner of cell B23 until a tiny <b>+</b> appears. We can then click and drag the formulas over to the next two columns:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/12/mean_sd_excel4.png">
<h2><span class="orange">How to Calculate Mean and Standard Deviation in Google Sheets</span></h2>
The  mean  represents the average value in a dataset. It gives us a good idea of where the center of a dataset is located.
The  standard deviation  represents how spread out the values are in a dataset. It gives us an idea of how closely the observations are clustered around the mean.
Using only these two values, we can understand a great deal about the distribution of values in a dataset.
To calculate the <b>mean</b> of a dataset in Google Sheets, we can use the <b>=AVERAGE(Range)</b> function where <em>Range</em> is the range of values.
To calculate the <b>standard deviation</b> of a dataset, we can use the <b>=STDEV.S(Range)</b> function, where <em>Range</em> is the range of values.
This tutorial explains how to use these functions in practice.
<b>Technical Note</b>
 
Both the <b>STDEV()</b> and <b>STDEV.S()</b> function calculate the <em>sample</em> standard deviation. 
 
You can use the STDEV.P() function to calculate the <em>population</em> standard deviation if your dataset represents the entire population of values.
 
However, in most cases we’re working with sample data rather than an entire population so we use the STDEV.S() function.
<h3>Example 1: Mean & Standard Deviation of a Single Dataset</h3>
The following screenshot shows how to calculate the mean and standard deviation of a single dataset in Google Sheets:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/06/meanstdev1.jpg">
The mean of the dataset is <b>16.4</b> and the standard deviation is <b>9.127</b>.
Column <b>E</b> shows the formulas we used to calculate both the mean and standard deviation of the dataset.
<h3>Example 2: Mean & Standard Deviation of Multiple Datasets</h3>
Suppose we have multiple datasets in Google Sheets:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/06/meanstdev2.jpg"519">
To calculate the mean and standard deviation of the first dataset, we can use the following two formulas:
<b>Mean:</b> =AVERAGE(B2:B21)
<b>Standard Deviation:</b> =STDEV.S(B2:B21)
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/06/meanstdev3.jpg"444">
Next, we can highlight cells B22:B23 and drag the formulas over to the next two columns:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/06/meanstdev4.jpg"460">
The results show the mean and standard deviation for each of the three datasets.
<h2><span class="orange">How to Calculate Mean from Frequency Table (With Examples)</span></h2>
You can calculate the mean of a frequency table by using the following formula:
<b>Mean = Σfx / Σf</b>
where:
<b>Σ</b>: A fancy symbol that means “sum”
<b>f</b>: The frequency of a particular value
<b>x</b>: The value in the frequency table
The following examples show how to use this formula in practice.
<h3>Example 1: Mean Number of Wins</h3>
The following frequency table shows the total number of wins for 30 soccer teams in a certain league:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/freqMean1.png">
We can use the following formula to calculate the mean number of wins:
Mean = (0*2 + 1*3 + 2*7 + 3*8 + 4*7 + 5*3) / (2 + 3 + 7 + 8 + 7 + 3)
Mean = (0 + 3 + 14 + 24 + 28 + 15) / (30)
Mean = (84) / (30)
Mean = <b>2.8</b>
The mean number of wins is <b>2.8</b>.
<h3>Example 2: Mean Number of Pets</h3>
The following frequency table shows the total number of pets owned by 20 different families in a certain neighborhood:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/freqMean2.png">
We can use the following formula to calculate the mean number of pets owned:
Mean = (0*2 + 1*10 + 2*4 + 3*3 + 4*1) / (2 + 10 + 4 + 3 + 1)
Mean = (0 + 10 + 8 + 9 + 4) / (20)
Mean = (31) / (20)
Mean = <b>1.55</b>
The mean number of pets owned is <b>1.55</b>.
<h3>Example 3: Mean Household Size</h3>
The following frequency table shows the household size of 40 different households in a particular area:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/freqMean3.png">
We can use the following formula to calculate the mean household size:
Mean = (1*2 + 2*4 + 3*14 + 4*13 + 5*4 + 6*2 + 7*1) / (2 + 4 + 14 + 13 + 4 + 2+1)
Mean = (2 + 8 + 42 + 52 + 20 + 12 + 7) / (40)
Mean = (143) / (40)
Mean = <b>3.575</b>
The mean household size is <b>3.575</b>.
<h2><span class="orange">How to Use mean Function in R (With Examples)</span></h2>
You can use the <b>mean()</b> function in R to calculate the mean of values in a vector:
<b>mean(x)
</b>
The following examples show how to use this function in practice.
<h3>Example 1: Calculate Mean of Vector</h3>
The following code shows how to calculate the mean value of a vector in R:
<b>#define vector
x &lt;- c(3, 6, 7, 7, 12, 14, 19, 22, 24)
#calculate mean of vector
mean(x)
[1] 12.66667
</b>
If your vector has missing values, be sure to specify <b>na.rm = TRUE</b> to ignore missing values when calculating the mean:
<b>#define vector with some missing values
x &lt;- c(3, 6, 7, 7, NA, 14, NA, 22, 24)
#calculate mean of vector
mean(x, na.rm = TRUE)
[1] 11.85714
</b>
You can also use the <b>trim</b> argument to trim a certain fraction (0 to 0.5) of observations from each end of a vector before calculating the mean:
<b>#define vector
x &lt;- c(3, 6, 7, 7, 12, 14, 19, 22, 24)
#calculate mean of vector after trimming 20% of observations off each end
mean(x, trim = 0.2)
[1] 12.42857
</b>
<h3>Example 2: Calculate Mean of Column in Data Frame</h3>
The following code shows how to calculate the mean value of a certain column in a data frame:
<b>#define data frame
df &lt;- data.frame(a=c(3, 6, 7, 7, 12, 14, 19, 22, 24), b=c(4, 4, 5, 12, 13, 14, 9, 1, 2), c=c(5, 6, 6, 3, 5, 5, 6, 19, 25))
#calculate mean of column 'a'
mean(df$a)
[1] 12.66667
</b>
<h3>Example 3: Calculate Mean of Several Columns in Data Frame</h3>
The following code shows how to use the <b>apply()</b> function to calculate the mean of several columns in a data frame:
<b>#define data frame
df &lt;- data.frame(a=c(3, 6, 7, 7, 12, 14, 19, 22, 24), b=c(4, 4, 5, 12, 13, 14, 9, 1, 2), c=c(5, 6, 6, 3, 5, 5, 6, 19, 25))
#calculate mean of columns 'a' and 'c'
apply(df[ , c('a', 'c')], 2, mean)
        a         c 
12.666667  8.888889</b>
<h2><span class="orange">How to Find Mean, Median & Mode in Excel (With Examples)</span></h2>
You can use the following formulas to find the mean, median, and mode of a dataset in Excel:
<b>=AVERAGE(A1:A10)
=MEDIAN(A1:A10) 
=MODE.MULT(A1:A10) </b>
It’s worth noting that each of these formulas will simply ignore non-numeric or blank values when calculating these metrics for a range of cells in Excel.
The following examples shows how to use these formulas in practice with the following dataset:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/meanMedMode1.png">
<h3>Example: Finding the Mean in Excel</h3>
The <b>mean</b> represents the average value in a dataset.
The following screenshot shows how to calculate the mean of a dataset in Excel:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/meanMedMode2.png">
The mean turns out to be <b>19.11</b>. 
<h3>Example: Finding the Median in Excel</h3>
The <b>median</b> represents the middle value in a dataset, when all of the values are arranged from smallest to largest.
The following screenshot shows how to calculate the median of a dataset in Excel:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/meanMedMode3.png">
The median turns out to be <b>20</b>.
<h3>Example: Finding the Mode in Excel</h3>
The <b>mode</b> represents the value that occurs most often in a dataset. Note that a dataset can have no mode, one mode, or multiple modes. 
The following screenshot shows how to calculate the mode(s) of a dataset in Excel:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/meanMedMode4.png">
The modes turn out to be <b>7</b> and <b>25</b>. Each of these values appears twice in the dataset, which is more often than any other value occurs.
<b>Note:</b> If you use the <b>=MODE()</b> function instead, it will only return the first mode. For this dataset, only the value 7 would be returned. For this reason, it’s always a good idea to use the <b>=MODE.MULT()</b> function in case there happens to be more than one mode in the dataset.
<h2><span class="orange">How to Calculate Mean, Median & Mode in Google Sheets</span></h2>
You can use the following formulas to find the mean, median, and mode of a dataset in Google Sheets:
<b>=AVERAGE(A1:A10)
=MEDIAN(A1:A10) 
=MODE.MULT(A1:A10) </b>
<b>Note</b>: Each of these formulas will simply ignore non-numeric or blank values when calculating these metrics for a range of cells in Google Sheets.
The following examples shows how to use these formulas in practice with the following dataset:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/01/meanmed1.jpg"469">
<h3>Example: Calculating the Mean in Google Sheets</h3>
The <b>mean</b> represents the average value in a dataset.
The following screenshot shows how to calculate the mean of a dataset in Google Sheets:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/01/meanmed2.jpg"465">
The mean turns out to be <b>19.11</b>. 
<h3>Example: Calculating the Median in Google Sheets</h3>
The <b>median</b> represents the middle value in a dataset, when all of the values are arranged from smallest to largest.
The following screenshot shows how to calculate the median of a dataset in Google Sheets:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/01/meanmed3.jpg"464">
The median turns out to be <b>20</b>.
<h3>Example: Calculating the Mode in Google Sheets</h3>
The <b>mode</b> represents the value that occurs most often in a dataset. Note that a dataset can have no mode, one mode, or multiple modes. 
The following screenshot shows how to calculate the mode of a dataset in Google Sheets:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/01/meanmed4.jpg"469">
The modes turn out to be <b>7</b> and <b>25</b>. Each of these values appears twice in the dataset, which is more often than any other value occurs.
Note that if you use the <b>=MODE()</b> function instead, it will only return the first mode. For this dataset, only the value 7 would be returned.
This is why it’s a good idea to use the <b>=MODE.MULT()</b> function in case there happens to be more than one mode in the dataset.
<h2><span class="orange">How to Calculate Mean, Median, & Mode in SAS</span></h2>
You can use <b>proc univariate </b>to quickly calculate the mean, median, and mode of variables in SAS.
This procedure uses the following basic syntax:
<b>proc univariate data=my_data;
run;
</b>
The following example shows how to use this syntax in practice.
<h3>Example: Calculate Mean, Median & Mode for All Variables</h3>
Suppose we have the following dataset in SAS:
<b>/*create dataset*/
data my_data;
    input team $ points rebounds assists;
    datalines;
A 25 10 8
B 18 4 5
C 18 7 10
D 24 12 4
E 27 11 5
F 30 8 7
G 12 8 5
;
run;
/*view dataset*/
proc print data=my_data;</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/03/modesas1.jpg"273">
We can use the following code to calculate the mean, median and mode for all variables in our dataset:
<b>/*calculate mean, median, mode for each variable in my_data*/
proc univariate data=my_data;
run;
</b>
This code produces the following output:
<b>1. Mean, Median & Mode for Points Variable</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/03/modesas2.jpg"356">
We can see:
The mean points value is <b>22</b>.
The median points value is <b>24</b>.
The mode points value is <b>18</b>.
<b>2. Mean, Median & Mode for Rebounds Variable</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/03/modesas3.jpg"356">
We can see:
The mean rebounds value is <b>8.57</b>.
The median rebounds value is <b>8</b>.
The mode rebounds value is <b>8</b>.
<b>3. Mean, Median & Mode for Assists Variable</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/03/modesas4.jpg"364">
We can see:
The mean assists value is <b>6.28</b>.
The median assists value is <b>5</b>.
The mode assists value is <b>5</b>.
If you’d like to only calculate the mean, median and mode for one specific variable, you can use the following syntax:
<b>/*calculate mean, median, and mode only for points variable*/
proc univariate data=my_data;
    var points;
run;</b>
The mean, median and mode values will only be calculated for the <b>points</b> variable.
<b>Note</b>: You can find the complete documentation for <b>PROC UNIVARIATE</b>  here .
<h2><span class="orange">Real Life Examples: Using Mean, Median, & Mode</span></h2>
The mean, median, and mode are three metrics that are commonly used to describe  the center  of a dataset.
Here’s a quick definition of each metric:
<b>Mean:</b> The average value in a dataset.
<b>Median:</b> The middle value in a dataset.
<b>Mode:</b> The most frequently occurring value(s) in a dataset.
Individuals and companies use these metrics all the time in different fields to gain a better understanding of datasets.
The following examples explain how the mean, median, and mode are used in different real life scenarios.
<h3>Example 1: Mean, Median, & Mode in Healthcare</h3>
The mean, median, and mode are widely used by insurance analysts and actuaries in the healthcare industry.
For example:
<b>Mean:</b> Insurance analysts often calculate the mean age of the individuals they provide insurance for so they can know the average age of their customers.
<b>Median:</b> Actuaries often calculate the median amount spend on healthcare each year by individuals so they can know how much insurance they need to be able to provide to individuals.
<b>Mode:</b> Actuaries also calculate the mode of their customers (the most commonly occurring age) so they can know which age group uses their insurance the most.
<h3>Example 2: Mean, Median, & Mode in Real Estate</h3>
The mean, median, and mode are also used often by real estate agents.
For example:
<b>Mean:</b> Real estate agents calculate the mean price of houses in a particular area so they can inform their clients of what they can expect to spend on a house.
<b>Median:</b> Real estate agents also calculate the median price of houses to gain a better idea of the “typical” home price, since the median is less influenced by outliers (like multi-million dollar homes) compared to the mean.
<b>Mode:</b> Real estate agents also calculate the mode of the number of bedrooms per house so they can inform their clients on how many bedrooms they can expect to have in houses in a particular area.
<h3>Example 3: Mean, Median, & Mode in Human Resources</h3>
The mean, median, and mode are often used by individuals who work in Human Resource departments at companies.
For example:
<b>Mean:</b> Human Resource managers often calculate the mean salary of individuals in a certain field so that they can know what type of “average” salary to offer to new employees.
<b>Median:</b> Human Resource managers also often calculate the median salary in certain fields so that they can be informed of what the typical “middle” salary is for a particular field.
<b>Mode:</b> Human Resource managers also calculate the mode of different positions in the company so that they can be aware of the most common position of employees at their company.
<h3>Example 4: Mean, Median, & Mode in Marketing</h3>
The mean, median, and mode are often used by marketers to gain an understanding of how their advertisements perform.
For example:
<b>Mean:</b> Marketers often calculate the mean revenue earned per advertisement so they can understand how much money their company is making on each ad.
<b>Median:</b> Marketers also calculate the median revenue earned per advertisement so they can understand how well the median ad performs.
<b>Mode:</b> Marketers also calculate the mode of the type of ad used (e.g. newspaper, TV, radio, digital) so they can know which type of ads their company uses most often.
<h2><span class="orange">How to Calculate the Mean of Columns in Pandas</span></h2>
Often you may be interested in calculating the mean of one or more columns in a pandas DataFrame. Fortunately you can do this easily in pandas using the  mean()  function.
This tutorial shows several examples of how to use this function.
<h3>Example 1: Find the Mean of a Single Column</h3>
Suppose we have the following pandas DataFrame:
<b>import pandas as pd
import numpy as np
#create DataFrame
df = pd.DataFrame({'player': ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J'],   'points': [25, 20, 14, 16, 27, 20, 12, 15, 14, 19],   'assists': [5, 7, 7, 8, 5, 7, 6, 9, 9, 5],   'rebounds': [np.nan, 8, 10, 6, 6, 9, 6, 10, 10, 7]})
#view DataFrame 
df
        playerpointsassistsrebounds
0A255NaN
1B2078.0
2C14710.0
3D1686.0
4E2756.0
5F2079.0
6G1266.0
7H15910.0
8I14910.0
9J1957.0
</b>
We can find the mean of the column titled “points” by using the following syntax:
<b>df['points'].mean()
18.2</b>
The mean() function will also exclude NA’s by default. For example, if we find the mean of the “rebounds” column, the first value of “NaN” will simply be excluded from the calculation:
<b>df['rebounds'].mean()
8.0
</b>
If you attempt to find the mean of a column that is not numeric, you will receive an error:
<b>df['player'].mean()
TypeError: Could not convert ABCDEFGHIJ to numeric
</b>
<h3>Example 2: Find the Mean of Multiple Columns</h3>
We can find the mean of multiple columns by using the following syntax:
<b>#find mean of points and rebounds columns
df[['rebounds', 'points']].mean()
rebounds     8.0
points      18.2
dtype: float64
</b>
<h3>Example 3: Find the Mean of All Columns</h3>
We can find also find the mean of all numeric columns by using the following syntax:
<b>#find mean of all numeric columns in DataFrame
df.mean()
points      18.2
assists      6.8
rebounds     8.0
dtype: float64
</b>
Note that the mean() function will simply skip over the columns that are not numeric.
<h2><span class="orange">How to Find the Mean of a Probability Distribution (With Examples)</span></h2>
A probability distribution tells us the probability that a  random variable  takes on certain values.
For example, the following probability distribution tells us the probability that a certain soccer team scores a certain number of goals in a given game:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/02/meanDist1.png">
<em><b>Note:</b> The probabilities in a valid probability distribution will always add up to 1. We can confirm that this probability distribution is valid: 0.18 + 0.34 + 0.35 + 0.11 + 0.02 = 1.</em>
To find the <b>mean</b> (sometimes called the “expected value”) of any probability distribution, we can use the following formula:
<b>Mean (Or "Expected Value") of a Probability Distribution:
μ = Σx * P(x)
where:
    <U+2022>x: Data value
    <U+2022>P(x): Probability of value</b>
For example, consider our probability distribution for the soccer team:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/02/meanDist1.png">
The mean number of goals for the soccer team would be calculated as:
μ = 0*0.18  +  1*0.34  +  2*0.35  +  3*0.11  +  4*0.02  =  <b>1.45</b> goals.
The following examples show how to calculate the mean of a probability distribution in a few other scenarios.
<h3>Example 1: Mean Number of Vehicle Failures</h3>
The following probability distribution tells us the probability that a given vehicle experiences a certain number of battery failures during a 10-year span:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/02/meanDist2.png">
<b>Question: </b>What is the mean number of expected failures for this vehicle?
<b>Solution:</b> The mean number of expected failures is calculated as:
μ = 0*0.24  +  1*0.57  +  2*0.16  +  3*0.03 =  <b>0.98 </b>failures.
<h3>Example 2: Mean Number of Wins</h3>
The following probability distribution tells us the probability that a given basketball team wins a certain number of games in a tournament:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/02/meanDist3.png">
<b>Question: </b>What is the mean number of expected wins for this team?
<b>Solution:</b> The mean number of expected wins is calculated as:
μ = 0*.06  +  1*.15  +  2*0.17  +  3*0.24  +  4*.23  +  5*.09  +  6*.06  =  <b>2.94 </b>wins.
<h3>Example 3: Mean Number of Sales</h3>
The following probability distribution tells us the probability that a given salesman will make a certain number of sales in the upcoming month:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/02/meanDist4.png">
<b>Question: </b>What is the mean number of expected sales for this salesman in the upcoming month?
<b>Solution:</b> The mean number of expected sales is calculated as:
μ = 10*.24  +  20*.31  +  30*0.39  +  40*0.06  =  <b>22.7 </b>sales.
<h3>Bonus: Probability Distribution calculator</h3>
You can use  this calculator  to automatically calculate the mean of any probability distribution.
<h2><span class="orange">How to Calculate Mean Squared Error (MSE) in MATLAB</span></h2>
One of the most common metrics used to measure the forecast accuracy of a model is <b>MSE</b>, which stands for <b>mean squared error</b>.
It is calculated as:
<b>MSE </b>= (1/n) * Σ(actual – forecast)<sup>2</sup>
where:
<b>Σ</b> – a fancy symbol that means “sum”
<b>n</b> – sample size
<b>actual</b> – the actual data value
<b>forecast</b> – the forecasted data value
The lower the value for MSE, the better a model is able to forecast values accurately.
To calculate MSE in MATLAB, we can use the <b>mse(X, Y)</b> function.
The following example shows how to use this function in practice.
<h2>Example: How to Calculate MSE in MATLAB</h2>
Suppose we have the following two arrays in MATLAB that show the actual values and the forecasted values for some model:
<b>%create array of actual values and array of predicted values
actual = [34 37 44 47 48 48 46 43 32 27 26 24];
predicted = [37 40 46 44 46 50 45 44 34 30 22 23];
</b>
We can use the <b>mse(X, Y)</b> function to calculate the mean squared error (MSE) between the two arrays:
<b>%calculate MSE between actual values and predicted values
mse(actual, predicted)
ans = 5.9167</b>
The mean squared error (MSE) of this model turns out to be <b>5.917</b>.
We interpret this to mean that the average squared difference between the predicted values and the actual values is <b>5.917</b>.
We can compare this value to the MSE produced by other models to determine which model is “best.”
The model with the lowest MSE is the model that is best able to predict the actual values of the dataset.
<h2><span class="orange">How to Calculate Mean Squared Error (MSE) in Python</span></h2>
The <b>mean squared error (MSE) </b>is a common way to measure the prediction accuracy of a model. It is calculated as:
<b>MSE </b>= (1/n) * Σ(actual – prediction)<sup>2</sup>
where:
<b>Σ</b> – a fancy symbol that means “sum”
<b>n</b> – sample size
<b>actual</b> – the actual data value
<b>forecast</b> – the predicted data value
The lower the value for MSE, the better a model is able to predict values accurately.
<h3>How to Calculate MSE in Python</h3>
We can create a simple function to calculate MSE in Python:
<b>import numpy as np
def mse(actual, pred): 
    actual, pred = np.array(actual), np.array(pred)
    return np.square(np.subtract(actual,pred)).mean() 
</b>
We can then use this function to calculate the MSE for two arrays: one that contains the actual data values and one that contains the predicted data values.
<b>actual = [12, 13, 14, 15, 15, 22, 27]
pred = [11, 13, 14, 14, 15, 16, 18]
mse(actual, pred)
17.0</b>
The mean squared error (MSE) for this model turns out to be <b>17.0</b>.
In practice, the <b>root mean squared error (RMSE) </b>is more commonly used to assess model accuracy. As the name implies, it’s simply the square root of the mean squared error.
We can define a similar function to calculate RMSE:
<b>import numpy as np
def rmse(actual, pred): 
    actual, pred = np.array(actual), np.array(pred)
    return np.sqrt(np.square(np.subtract(actual,pred)).mean())
</b>
We can then use this function to calculate the RMSE for two arrays: one that contains the actual data values and one that contains the predicted data values.
<b>actual = [12, 13, 14, 15, 15, 22, 27]
pred = [11, 13, 14, 14, 15, 16, 18]
rmse(actual, pred)
4.1231</b>
The root mean squared error (RMSE) for this model turns out to be <b>4.1231</b>.
<h2><span class="orange">How to Find Mean & Standard Deviation of Grouped Data</span></h2>
Often we may want to calculate the mean and standard deviation of data that is grouped in some way. For example, suppose we have the following grouped data:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/02/mean_sd_grouped1.png">
While it’s not possible to calculate the exact mean and standard deviation since we don’t know the  raw data values , it is possible to estimate the mean and standard deviation.
The following steps explain how to do so.
<b>Related:</b>  How to Find the Mode of Grouped Data 
<h3>Calculate the Mean of Grouped Data</h3>
We can use the following formula to estimate the mean of grouped data:
<b>Mean:</b> Σm<sub>i</sub>n<sub>i</sub> / N
where:
<b>m<sub>i</sub>:</b> The midpoint of the i<sup>th</sup> group
<b>n<sub>i</sub>:</b> The frequency of the i<sup>th</sup> group
<b>N:</b> The total sample size
Here’s how we would apply this formula to our dataset from earlier:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/02/mean_sd_grouped2.png">
The mean of the dataset turns out to be <b>22.89</b>. 
<b>Note:</b> The  midpoint  for each group can be found by taking the average of the lower and upper value in the range. For example, the midpoint for the first group is calculated as: (1+10) / 2 = 5.5.
<h3>Calculate the Standard Deviation of Grouped Data</h3>
We can use the following formula to estimate the standard deviation of grouped data:
<b>Standard Deviation:</b> √Σn<sub>i</sub>(m<sub>i</sub>-μ)<sup>2</sup> / (N-1)
where:
<b>n<sub>i</sub>:</b> The frequency of the i<sup>th</sup> group
<b>m<sub>i</sub>:</b> The midpoint of the i<sup>th</sup> group
<b>μ</b>: The mean
<b>N:</b> The total sample size
Here’s how we would apply this formula to our dataset:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/02/mean_sd_grouped3-1.png">The standard deviation of the dataset turns out to be <b>9.6377</b>.
<h2><span class="orange">Measures of Central Tendency: Definition & Examples</span></h2>
A <b>measure of central tendency </b>is a single value that represents the center point of a dataset. This value can also be referred to as “the central location” of a dataset.
In statistics, there are three common measures of central tendency:
<b>The mean</b>
<b>The median</b>
<b>The mode</b>
Each of these measures finds the central location of a dataset using different methods. Depending on the type of data you’re analyzing, one of these three measures may be better to use than the other two.
In this post, we’ll take a look at how to calculate each of the three measures of central tendency along with how to determine which measure is best to use based on your data.
<h2>Why Are Measures of Central Tendency Useful?</h2>
Before we look at how to calculate the mean, median, and mode, it’s helpful to first understand <em>why </em>these measures are actually helpful in the first place.
Consider the following scenario:
A young couple is trying to decide where to buy their first home in a new city and the most they can spend is $150,000. Some neighborhoods in the city have expensive houses, some have cheap houses, and others have medium-priced houses. They want to easily narrow down their search to specific neighborhoods that are within their budget.
If the couple just looked at the individual home prices in each neighborhood, they might have a tough time determining which neighborhoods best fit their budget because they might see something like this:
<b>Neighborhood <em>A</em> home prices: </b>$140k, $190k, $265k, $115k, $270k, $240k, $250k, $180k, $160k, $200k, $240k, $280k, …
<b>Neighborhood <em>B</em> home prices: </b>$140k, $290k, $155k, $165k, $280k, $220k, $155k, $185k, $160k, $200k, $190k, $140k, $145k, …
<b>Neighborhood <em>C</em> home prices: </b>$140k, $130k, $165k, $115k, $170k, $100k, $150k, $180k, $190k, $120k, $110k, $130k, $120k, …
However, if they knew the <em>average </em>(e.g. a measure of central tendecy) home price in each neighborhood, then they could narrow down their search much quicker because they could more easily identify which neighborhood has home prices that are within their budget:
<b>Average Neighborhood <em>A </em>home price:</b> $220k
<b>Average Neighborhood <em>B </em>home price:</b> $190k
<b>Average Neighborhood <em>C </em>home price:</b> $140k
By knowing the average home price in each neighborhood, they can quickly see that Neighborhood <em>C </em>is likely to have the most homes available within their budget.
This is the benefit of using a measure of central tendency: It helps you understand the central value of a dataset, which tends to describe where the data values typically fall. In this particular example, it helps the young couple understand the typical home price in each neighborhood.
<b>Takeaway: </b>A measure of central tendency is useful because it provides us with a single value that describes the “center” of a dataset. This helps us understand a dataset much more quickly compared to simply looking at all of the individual values in the dataset.
<h2>Mean</h2>
The most commonly used measure of central tendency is <b>the mean</b>. To calculate the mean of a dataset, you simply add up all of the individual values and divide by the total number of values.
Mean = (sum of all values) / (total # of values)
For example, suppose we have the following dataset that shows the number of home runs hit by 10 baseball players on the same team in one season:
<table><tbody>
<tr>
<th style="text-align: center;"><b>Player</b></th>
<th style="text-align: center;"><b>#1</b></th>
<th style="text-align: center;"><b>#2</b></th>
<th style="text-align: center;"><b>#3</b></th>
<th style="text-align: center;"><b>#4</b></th>
<th style="text-align: center;"><b>#5</b></th>
<th style="text-align: center;"><b>#6</b></th>
<th style="text-align: center;"><b>#7</b></th>
<th style="text-align: center;"><b>#8</b></th>
<th style="text-align: center;"><b>#9</b></th>
<th style="text-align: center;"><b>#10</b></th>
</tr>
<tr>
<td style="text-align: center;"><b>Home Runs</b></td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">15</td>
<td style="text-align: center;">22</td>
<td style="text-align: center;">21</td>
<td style="text-align: center;">12</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">11</td>
<td style="text-align: center;">27</td>
<td style="text-align: center;">14</td>
<td style="text-align: center;">13</td>
</tr>
</tbody></table>
The mean number of home runs hit per player can be calculated as:
Mean  = (8+15+22+21+12+9+11+27+14+13) / 10 = <b>15.2 home runs</b>.
<h2>Median</h2>
The <b>median</b> is the middle value in a dataset. You can find the median by arranging all the individual values in a dataset from smallest to largest and finding the middle value. If there are an odd number of values, the median is the middle value. If there are an even number of values, the median is the average of the two middle values.
For example, to find the median number of home runs hit by the 10 baseball players in the previous example we can arrange the players in order from least to greatest number of home runs hit:
<table><tbody>
<tr>
<th style="text-align: center;"><b>Player</b></th>
<th style="text-align: center;"><b>#1</b></th>
<th style="text-align: center;"><b>#6</b></th>
<th style="text-align: center;"><b>#7</b></th>
<th style="text-align: center;"><b>#5</b></th>
<th style="text-align: center;"><b>#10</b></th>
<th style="text-align: center;"><b>#9</b></th>
<th style="text-align: center;"><b>#2</b></th>
<th style="text-align: center;"><b>#4</b></th>
<th style="text-align: center;"><b>#3</b></th>
<th style="text-align: center;"><b>#8</b></th>
</tr>
<tr>
<td style="text-align: center;"><b>Home Runs</b></td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">11</td>
<td style="text-align: center;">12</td>
<td style="text-align: center;"><b>13</b></td>
<td style="text-align: center;"><b>14</b></td>
<td style="text-align: center;">15</td>
<td style="text-align: center;">21</td>
<td style="text-align: center;">22</td>
<td style="text-align: center;">27</td>
</tr>
</tbody></table>
Since we have an even number of values, the median is simply the average of the two middle values: <b>13.5</b>. 
Instead, consider if we had nine players:
<table><tbody>
<tr>
<th style="text-align: center;"><b>Player</b></th>
<th style="text-align: center;"><b>#1</b></th>
<th style="text-align: center;"><b>#6</b></th>
<th style="text-align: center;"><b>#7</b></th>
<th style="text-align: center;"><b>#5</b></th>
<th style="text-align: center;"><b>#9</b></th>
<th style="text-align: center;"><b>#2</b></th>
<th style="text-align: center;"><b>#4</b></th>
<th style="text-align: center;"><b>#3</b></th>
<th style="text-align: center;"><b>#8</b></th>
</tr>
<tr>
<td style="text-align: center;"><b>Home Runs</b></td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">11</td>
<td style="text-align: center;">12</td>
<td style="text-align: center;"><b>14</b></td>
<td style="text-align: center;">15</td>
<td style="text-align: center;">21</td>
<td style="text-align: center;">22</td>
<td style="text-align: center;">27</td>
</tr>
</tbody></table>
In this case, since we have an odd number of values the median is simply the middle value: <b>14</b>.
<h2>The Mode</h2>
The <b>mode</b> is the value that occurs most often in a dataset. A dataset can have no mode (if no value repeats), one mode, or multiple modes.
For example, the following dataset has no mode:
<table><tbody>
<tr>
<th style="text-align: center;"><b>Player</b></th>
<th style="text-align: center;"><b>#1</b></th>
<th style="text-align: center;"><b>#2</b></th>
<th style="text-align: center;"><b>#3</b></th>
<th style="text-align: center;"><b>#4</b></th>
<th style="text-align: center;"><b>#5</b></th>
<th style="text-align: center;"><b>#6</b></th>
<th style="text-align: center;"><b>#7</b></th>
<th style="text-align: center;"><b>#8</b></th>
<th style="text-align: center;"><b>#9</b></th>
<th style="text-align: center;"><b>#10</b></th>
</tr>
<tr>
<td style="text-align: center;"><b>Home Runs</b></td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">11</td>
<td style="text-align: center;">12</td>
<td style="text-align: center;">13</td>
<td style="text-align: center;">14</td>
<td style="text-align: center;">15</td>
<td style="text-align: center;">21</td>
<td style="text-align: center;">22</td>
<td style="text-align: center;">27</td>
</tr>
</tbody></table>
The following dataset has one mode: <b>15</b>. This is the value that occurs most frequently.
<table><tbody>
<tr>
<th style="text-align: center;"><b>Player</b></th>
<th style="text-align: center;"><b>#1</b></th>
<th style="text-align: center;"><b>#2</b></th>
<th style="text-align: center;"><b>#3</b></th>
<th style="text-align: center;"><b>#4</b></th>
<th style="text-align: center;"><b>#5</b></th>
<th style="text-align: center;"><b>#6</b></th>
<th style="text-align: center;"><b>#7</b></th>
<th style="text-align: center;"><b>#8</b></th>
<th style="text-align: center;"><b>#9</b></th>
<th style="text-align: center;"><b>#10</b></th>
</tr>
<tr>
<td style="text-align: center;"><b>Home Runs</b></td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">11</td>
<td style="text-align: center;">12</td>
<td style="text-align: center;">13</td>
<td style="text-align: center;"><b>15</b></td>
<td style="text-align: center;"><b>15</b></td>
<td style="text-align: center;">21</td>
<td style="text-align: center;">22</td>
<td style="text-align: center;">27</td>
</tr>
</tbody></table>
The following dataset has three modes: <b>8, 15, 19</b>. These are the values that occur most frequently.
<table><tbody>
<tr>
<th style="text-align: center;"><b>Player</b></th>
<th style="text-align: center;"><b>#1</b></th>
<th style="text-align: center;"><b>#2</b></th>
<th style="text-align: center;"><b>#3</b></th>
<th style="text-align: center;"><b>#4</b></th>
<th style="text-align: center;"><b>#5</b></th>
<th style="text-align: center;"><b>#6</b></th>
<th style="text-align: center;"><b>#7</b></th>
<th style="text-align: center;"><b>#8</b></th>
<th style="text-align: center;"><b>#9</b></th>
<th style="text-align: center;"><b>#10</b></th>
</tr>
<tr>
<td style="text-align: center;"><b>Home Runs</b></td>
<td style="text-align: center;"><b>8</b></td>
<td style="text-align: center;"><b>8</b></td>
<td style="text-align: center;">11</td>
<td style="text-align: center;">12</td>
<td style="text-align: center;"><b>15</b></td>
<td style="text-align: center;"><b>15</b></td>
<td style="text-align: center;">17</td>
<td style="text-align: center;"><b>19</b></td>
<td style="text-align: center;"><b>19</b></td>
<td style="text-align: center;">27</td>
</tr>
</tbody></table>
The mode can be a particularly helpful measure of central tendency when working with categorical data because it tells us which category occurs most frequently. For example, consider the following bar chart that shows the results of a survey about people’s favorite color:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2018/09/mode_bar_chart.jpg"512">
The <b>mode</b>, or the response that occurred most frequently, was blue.
In scenarios where the data is categorical (like the one above), it’s not even possible to calculate the median or the mean, so the mode is the only measure of central tendency we can use.
The mode can also be used for numerical data, like we saw in the above example with baseball players. However, the mode tends to be less helpful at answering the question <em>“What’s a typical value for this dataset?”</em>
For example, suppose we want to know the typical number of home runs hit by a baseball player on this team:
<table><tbody>
<tr>
<th style="text-align: center;"><b>Player</b></th>
<th style="text-align: center;"><b>#1</b></th>
<th style="text-align: center;"><b>#2</b></th>
<th style="text-align: center;"><b>#3</b></th>
<th style="text-align: center;"><b>#4</b></th>
<th style="text-align: center;"><b>#5</b></th>
<th style="text-align: center;"><b>#6</b></th>
<th style="text-align: center;"><b>#7</b></th>
<th style="text-align: center;"><b>#8</b></th>
<th style="text-align: center;"><b>#9</b></th>
<th style="text-align: center;"><b>#10</b></th>
</tr>
<tr>
<td style="text-align: center;"><b>Home Runs</b></td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">11</td>
<td style="text-align: center;">12</td>
<td style="text-align: center;">15</td>
<td style="text-align: center;">15</td>
<td style="text-align: center;">17</td>
<td style="text-align: center;">19</td>
<td style="text-align: center;">19</td>
<td style="text-align: center;">27</td>
</tr>
</tbody></table>
The mode of this dataset is 8, 15, and 19, since these are the values that occur most frequently. However, these aren’t terribly helpful for understanding the typical number of home runs hit by a player on the team. A better measure of central tendency would be the median (15) or the mean (also 15) in this case.
The mode is also a poor measure of central tendency when it happens to be a number that is far away from the rest of the values. For example, the mode of the following dataset is 30, but this doesn’t actually represent the “typical” number of home runs hit per player on the team:
<table><tbody>
<tr>
<th style="text-align: center;"><b>Player</b></th>
<th style="text-align: center;"><b>#1</b></th>
<th style="text-align: center;"><b>#2</b></th>
<th style="text-align: center;"><b>#3</b></th>
<th style="text-align: center;"><b>#4</b></th>
<th style="text-align: center;"><b>#5</b></th>
<th style="text-align: center;"><b>#6</b></th>
<th style="text-align: center;"><b>#7</b></th>
<th style="text-align: center;"><b>#8</b></th>
<th style="text-align: center;"><b>#9</b></th>
<th style="text-align: center;"><b>#10</b></th>
</tr>
<tr>
<td style="text-align: center;"><b>Home Runs</b></td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">6</td>
<td style="text-align: center;">7</td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">11</td>
<td style="text-align: center;">12</td>
<td style="text-align: center;">13</td>
<td style="text-align: center;">15</td>
<td style="text-align: center;">30</td>
<td style="text-align: center;">30</td>
</tr>
</tbody></table>
Once again, the mean or median would do a better job of describing the center location of this dataset.
<h2>When to Use the Mean, Median, and Mode</h2>
We’ve seen that the mean, median, and mode all measure the central location, or the “typical value,” of a dataset in very different ways:
<b>Mean:</b> Finds the average value in a dataset.
<b>Median:</b> Finds the middle value in a dataset.
<b>Mode:</b> Finds the most frequently occurring value in a dataset.
Here are the scenarios where certain measures of central tendency are better to use than others:
<h3>When to use the mean</h3>
It is best to use the mean when the distribution of the data is fairly symmetrical and there are no outliers.
For example, suppose we have the following distribution that shows the salaries of individuals in a certain town:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2018/09/mean_dist.jpg"468">
Since this distribution is fairly symmetrical (i.e. if you split it down the middle, each half would look roughly equal) and there are no outliers (i.e. no extremely high salaries), the mean will do a good job of describing this dataset.
The mean turns out to be $63,000, which is roughly located in the center of the distribution:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2018/09/mean_dist2.jpg"476">
<h3>When to use the median</h3>
It is best to use the median when the distribution of the data is either skewed or there are outliers present.
<b>Skewed data:</b>
When the distribution is skewed, the median still does a good job of capturing the center location. For example, consider the following distribution of salaries for individuals in a certain town:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2018/09/median_dist.jpg"473">
The median does a better job of capturing the “typical” salary of an individual than the mean. This is because the large values on the tail end of a distribution tend to pull the mean away from the center and towards the long tail.
In this particular example, the mean tells us that the typical individual earns about $47,000 per year in this town while the median tells us that the typical individual only earns about $32,000 per year, which is much more representative of the typical individual.
<b>Outliers:</b>
The median also does a better job of capturing the central location of a distribution when there are outliers present in the data. For example, consider the following chart that shows the square footage of houses on a certain street:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2018/09/mean_dist3.jpg"478">
The mean is heavily influenced by a couple extremely large houses, while the median is not. Thus, the median does a better job of capturing the “typical” square footage of a house on this street compared to the mean.
<h3>When to use the mode</h3>
It is best to use the mode when you are working with categorical data and you want to know which category occurs most frequently. Here are a couple examples:
You conduct a survey about people’s favorite colors and you want to know which color occurs most frequently in the responses.
You conduct a survey about people’s preferences among three choices for a website design and you want to know which design people prefer most.
As mentioned earlier, if you’re working with categorical data then it’s not even possible to calculate the median or mean, which leaves the mode as the only measure of central tendency.
In general, if you’re working with numerical data like square footage of homes, number of home runs hit per player, salary per individual, etc. then it’s usually better to use the median or the mean to describe the “typical” value in the dataset.
<b>Note: </b>It’s important to note that if a dataset is <em>perfectly </em>normally distributed, then the mean, median, and mode are all the same value.
<footer>
<imghttps://secure.gravatar.com/avatar/ad0db6f0815f847e9c2372e5a58a65f8?s=68&d=mm&r=g"><b>Mohamed</b> <span>says:
<!-- .comment-author -->
 <time datetime="2018-12-27T08:18:14-05:00">December 27, 2018 at 8:18 am</time> 
<!-- .comment-metadata -->
</footer><!-- .comment-meta -->
This is so helpful
<!-- .comment-content -->
 Reply </article>
<h2><span class="orange">Measures of Dispersion: Definition & Examples</span></h2>
When we analyze a dataset, we often care about two things:
<b>1.</b> Where the “center” value is located. We often measure the “center” using  the mean and median .
<b>2.</b> How “spread out” the values are. We measure “spread” using <b>range</b>, <b>interquartile range</b>, <b>variance, </b>and <b>standard deviation</b>. 
<h2>Range</h2>
The <b>range</b> is the difference between the largest and smallest value in a dataset.
Suppose we have this dataset of final math exam scores for 20 students:
 <img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2018/09/exam_scores1.jpg"> 
The largest value is 98. The smallest value is 58. Thus, the range is 98 – 58 = <b>40</b>.
<h2>Interquartile Range</h2>
The<b> interquartile range</b> is the difference between the first quartile and the third quartile in a dataset.
Quartiles are values that split up a dataset into four equal parts. Here is how to find the interquartile range of the following dataset of exam scores:
 <img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2018/09/exam_scores1.jpg"> 
<b>1. Arrange the values from smallest to largest.</b>
58, 66, 71, 73, 74, 77, 78, 82, 84, 85, 88, 88, 88, 90, 90, 92, 92, 94, 96, 98
<b>2. Find the median. </b>(In this case, it’s the average of the middle two values)
58, 66, 71, 73, 74, 77, 78, 82, 84, <b>85 (MEDIAN) 88</b>, 88, 88, 90, 90, 92, 92, 94, 96, 98
<b>3. The median splits the dataset into two halves. The median of the lower half is the lower quartile (Q1) and the median of the upper half is the upper quartile (Q3)</b>
58, 66, 71, 73, <b>74, 77</b>, 78, 82, 84, 85, 88, 88, 88, 90, <b>90, 92</b>, 92, 94, 96, 98
<b>4. The interquartile range is equal to Q3 – Q1.</b>
In this case, Q1 is the average of the middle two values in the lower half of the data set (75.5) and Q3 is the average of the middle two values in the upper half of the data set(91). 
Thus, the interquartile range is 91 – 75.5 = <b>15.5</b>
<h2>Interquartile Range vs. Range</h2>
The interquartile range more resistant to outliers compared to the range, which can make it a better metric to use to measure “spread.” 
For example, suppose we have the following dataset with incomes for ten people:
  
The range is $2,468,000, but the interquartile range is $34,000, which is a much better indication of how spread out the incomes actually are.
In this case, the outlier income of person J causes the range to be extremely large and makes it a poor indicator of “spread” for these incomes.
<h2>Variance</h2>
The <b>variance</b> is a common way to measure how spread out data values are.
The formula to find the variance of a population (denoted as <b>σ<sup>2</sup></b>) is:
<b>σ<sup>2</sup></b> = Σ (x<sub>i</sub> – μ)<sup>2</sup> / N
where μ is the population mean, x<sub>i</sub> is the i<sup>th</sup> element from the population, N is the population size, and Σ is just a fancy symbol that means “sum.”
Usually we work with  samples , not populations. And the formula to find the variance of a sample (denoted as <b>s<sup>2</sup></b>) is:
<b>s<sup>2</sup></b> = Σ (x<sub>i</sub> – x)<sup>2</sup> / (n-1)
<h2>Standard Deviation</h2>
The <b>standard deviation </b>is the square root of the variance. It’s the most common way to measure how “spread out” data values are.
The formula to find the standard deviation of a population (denoted as <b>σ</b> ) is:
√Σ (x<sub>i</sub> – μ)<sup>2</sup> / N
And the formula to find the standard deviation of a sample (denoted as <b>s</b>) is:
√Σ (x<sub>i</sub> – x)<sup>2</sup> / (n-1)
<h2><span class="orange">Median Absolute Deviation Calculator</span></h2>
The <b>median absolute deviation</b>, often abbreviated MAD, measures the spread of observations in a dataset. It is calculated as:
MAD = median(|x<sub>i</sub> – x<sub>m</sub>|)
where:
x<sub>i</sub>: The i<sup>th</sup> value in the dataset
x<sub>m</sub>: The median value in the dataset
This calculator finds the median absolute deviation for a given dataset.
Simply enter the list of the comma-separated values for the dataset, then click the “Calculate” button:
<b>Dataset values:</b>
<textarea id="x" rows="5" cols="40">6, 7, 7, 8, 12, 14, 15, 16, 16, 19</textarea>
<input type="button" id="buttonCalc" onclick="calc()" value="Calculate">
<b>Median Absolute Deviation (MAD): 4.0000</b>
<script>
function calc() {
var x = document.getElementById('x').value.split(',').map(Number);
var mad = math.mad(x);
document.getElementById('mad').innerHTML = mad.toFixed(4);
  
} //end calc function
</script>
<h2><span class="orange">How to Calculate Median Absolute Deviation in Excel</span></h2>
The <b>median absolute deviation</b> is a way to measure the spread of values in a dataset.
The formula to calculate median absolute deviation, often abbreviated MAD, is as follows:
<b>MAD = median(|x<sub>i</sub> – x<sub>m</sub>|)</b>
where:
<b>x<sub>i</sub>:</b> The i<sup>th</sup> value in the dataset
<b>x<sub>m</sub>:</b> The median value in the dataset
The following step-by-step example shows how to calculate the median absolute deviation of a given dataset in Excel.
<h3>Step 1: Enter the Data</h3>
First, we’ll enter the values for a dataset:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/madExcel1.png">
<h3>Step 2: Calculate the Median</h3>
Next, we’ll calculate the median of the dataset:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/madExcel2.png">
The median turns out to be <b>16</b>.
<h3>Step 3: Calculate the Absolute Difference Between Each Value & the Median</h3>
Next, we’ll calculate the absolute difference between each value and the median:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/madExcel3.png">
Click on cell B2. Then hover over the bottom right corner of the cell until a little cross (<b>+</b>) appears. 
Double click the cross to copy and paste this formula to all remaining cells in the column:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/madExcel4.png">
<h3>Step 4: Calculate the Median Absolute Deviation</h3>
Lastly, we will use the following formula to calculate the median absolute deviation of the dataset:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/madExcel5.png">
The median absolute deviation turns out to be <b>8</b>.
<h2><span class="orange">How to Calculate Median Absolute Deviation in Python</span></h2>
The <b>median absolute deviation</b> measures the spread of  observations  in a dataset.
It’s a particularly useful metric because it’s less affected by outliers than other  measures of dispersion  like standard deviation and variance.
The formula to calculate median absolute deviation, often abbreviated MAD, is as follows:
<b>MAD = median(|x<sub>i</sub> – x<sub>m</sub>|)</b>
where:
<b>x<sub>i</sub>:</b> The i<sup>th</sup> value in the dataset
<b>x<sub>m</sub>:</b> The median value in the dataset
The following examples shows how to calculate the median absolute deviation in Python by using the <b>mad</b> function from  statsmodels .
<h3>Example 1: Calculate MAD for an Array</h3>
The following code shows how to calculate the median absolute deviation for a single NumPy array in Python:
<b>import numpy as np
from statsmodels import robust
#define data
data = np.array([1, 4, 4, 7, 12, 13, 16, 19, 22, 24])
#calculate MAD
robust.mad(data)
11.1195
</b>
The median absolute deviation for the dataset turns out to be <b>11.1195</b>.
It’s important to note that the formula used to calculate MAD computes a robust estimate of the standard deviation assuming a  normal distribution  by scaling the result by a factor of roughly 0.67.
To avoid using this scaling factor, simply set c = 1 as follows:
<b>#calculate MAD without scaling factor
robust.mad(data, c=1)
7.5</b>
<h3>Example 2: Calculate MAD for a DataFrame</h3>
The following code shows how to calculate MAD for a single column in a pandas DataFrame:
<b>#make this example reproducible
np.random.seed(1)
#create pandas DataFrame
data = pd.DataFrame(np.random.randint(0, 10, size=(5, 3)), columns=['A', 'B', 'C'])
#view DataFrame
data
        ABC
0589
1500
2176
3924
4524
#calculate MAD for column <em>B</em>
data[['B']].apply(robust.mad)
B    2.965204
dtype: float64</b>
The median absolute deviation for column <em>B</em> turns out to be <b>2.965204</b>.
We can use similar syntax to calculate MAD for multiple columns in the pandas DataFrame:
<b>#calculate MAD for all columns
data[['A', 'B', 'C']].apply(robust.mad)
A    0.000000
B    2.965204
C    2.965204
dtype: float64
</b>
The median absolute deviation is <b>0 </b>for column A, <b>2.965204</b> for column B, and <b>2.965204 </b>for column C.
<h2><span class="orange">How to Calculate Median Absolute Deviation in R</span></h2>
The <b>median absolute deviation</b> measures the spread of  observations  in a dataset.
It’s a particularly useful metric because it’s less affected by outliers than other  measures of dispersion  like standard deviation and variance.
The formula to calculate median absolute deviation, often abbreviated MAD, is as follows:
<b>MAD = median(|x<sub>i</sub> – x<sub>m</sub>|)</b>
where:
<b>x<sub>i</sub>:</b> The i<sup>th</sup> value in the dataset
<b>x<sub>m</sub>:</b> The median value in the dataset
The following examples shows how to calculate the median absolute deviation in R by using the built-in <b>mad()</b> function.
<h3>Example 1: Calculate MAD for a Vector</h3>
The following code shows how to calculate the median absolute deviation for a single vector in R:
<b>#define data
data &lt;- c(1, 4, 4, 7, 12, 13, 16, 19, 22, 24)
#calculate MAD
mad(data)
[1] 11.1195
</b>
The median absolute deviation for the dataset turns out to be <b>11.1195</b>.
<h3>Example 2: Calculate MAD for a Column in a Data Frame</h3>
The following code shows how to calculate MAD for a single column in a data frame:
<b>#define data
data &lt;- data.frame(x = c(1, 4, 4, 6, 7, 8, 12),   y = c(3, 4, 6, 8, 8, 9, 19),   z = c(2, 2, 2, 3, 5, 8, 11))
#calculate MAD for column <em>y</em> in data frame
mad(data$y)
[1] 2.9652
</b>
The median absolute deviation for column <em>y</em> turns out to be <b>2.9652</b>.
<h3>Example 3: Calculate MAD for Multiple Columns in a Data Frame</h3>
The following code shows how to calculate MAD for multiple columns in a data frame by using the <b>sapply()</b> function:
<b>#define data
data &lt;- data.frame(x = c(1, 4, 4, 6, 7, 8, 12),   y = c(3, 4, 6, 8, 8, 9, 19),   z = c(2, 2, 2, 3, 5, 8, 11))
#calculate MAD for all columns in data frame
sapply(data, mad)
     x      y      z 
2.9652 2.9652 1.4826
</b>
The median absolute deviation is <b>2.9652</b> for column x, <b>2.9652</b> for column y, and <b>1.4826</b> for column z.
<b>Related:</b>  A Guide to apply(), lapply(), sapply(), and tapply() in R 
<h2><span class="orange">How to Calculate Median from Frequency Table (With Examples)</span></h2>
You can find the median value of a frequency table by using the following steps:
<b>Step 1:</b> Arrange all of the individual values from smallest to largest.
<b>Step 2:</b> Identify the value directly in the middle of the ordered list.
If there are an odd number of values, the median is the value directly in the middle.
If there are an even number of values, the median is the average of the middle two values.
The following examples show how to find the median value of a frequency table in practice.
<h3>Example 1: Median from Frequency Table (Odd Number of Values)</h3>
The following frequency table shows the total number of wins for 17 soccer teams in a certain league:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/freqMedian1.png">
We can use the following steps to find the median value in this frequency table:
<b>Step 1:</b> Arrange all of the individual values from smallest to largest.
Values: 0, 0, 1, 1, 1, 2, 2, 2, 2, 3, 4, 4, 5, 5, 5, 6, 6
<b>Step 2:</b> Identify the value directly in the middle of the ordered list.
Values: 0, 0, 1, 1, 1, 2, 2, 2, <b>2</b>, 3, 4, 4, 5, 5, 5, 6, 6
The median value is <b>2</b>.
<h3>Example 2: Median from Frequency Table (Even Number of Values)</h3>
The following frequency table shows the household size of 20 different households in a particular area:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/freqMedian2.png">
We can use the following steps to find the median value in this frequency table:
<b>Step 1:</b> Arrange all of the individual values from smallest to largest.
Values: 1, 1, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 5, 5, 5, 6, 6, 7, 8
<b>Step 2:</b> Identify the value directly in the middle of the ordered list.
Values: 1, 1, 2, 3, 3, 3, 3, 3, 4, <b>4</b>, <b>4</b>, 4, 4, 5, 5, 5, 6, 6, 7, 8
There are two values located directly in the middle: 4 and 4.
Thus, the median value is the average of these two values: (4 + 4) / 2 = <b>4</b>.
<h2><span class="orange">How to Perform a Median IF Function in Excel</span></h2>
You can use the following formula to perform a Median IF function in Excel:
<b>=MEDIAN(IF(GROUP_RANGE=VALUE, MEDIAN_RANGE))
</b>
This formula finds the median value of all cells in some range that belong to a certain group.
When you type this formula into a cell in Excel, you need to press <b>Ctrl + Shift + Enter</b> since this is an array formula.
The following example shows how to use this function in practice.
<h3>Example: Median IF Function in Excel</h3>
Suppose we have the following dataset that shows the total points scored by 15 different basketball players:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/05/sumgroupExcel00.png">
Now suppose we’d like to find the median of the points scored by players on each team.
To do so, we can use the <b>=UNIQUE()</b> function to first create a list of the unique teams. We’ll type the following formula into cell F2:
<b>=UNIQUE(B2:B16)</b>
Once we press enter, a list of unique team names will be displayed:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/05/sumgroupExcel0.png">
Next, we can use the <b>=MEDIAN()</b> function to find the median number of points scored by players on each team.
We’ll type the following formula into cell G2 and press <b>Ctrl + Shift + Enter</b> so Excel knows this is an array formula:
<b>=MEDIAN(IF(B2:B16=F2, C2:C16))</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/05/medianif1.png">
We’ll then copy and paste this formula into the remaining cells in column G:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/05/medianif2.png">
That’s it!
Column F displays each of the unique teams and column G displays the median of the points scored by players on each team.
<h2><span class="orange">How to Perform a Median IF Function in Google Sheets</span></h2>
You can use the following formula to perform a Median IF function in Google Sheets:
<b>=MEDIAN(IF(GROUP_RANGE=VALUE, MEDIAN_RANGE))
</b>
This formula finds the median value of all cells in some range that belong to a certain group.
When you type this formula into a cell, you need to press <b>Ctrl + Shift + Enter</b> since this is an array formula.
The following example shows how to use this function in practice.
<h3>Example: Median IF Function in Google Sheets</h3>
Suppose we have the following dataset that shows the total points scored by 15 different basketball players:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/05/medianifg1.png">
Now suppose we’d like to find the median of the points scored by players on each team.
To do so, we can use the <b>=UNIQUE()</b> function to first create a list of the unique teams. We’ll type the following formula into cell F2:
<b>=UNIQUE(B2:B16)</b>
Once we press enter, a list of unique team names will be displayed:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/05/medianifg2.png">
Next, we can use the <b>=MEDIAN()</b> function to find the median number of points scored by players on each team.
We’ll type the following formula into cell G2 and press <b>Ctrl + Shift + Enter</b> so Google Sheets knows this is an array formula:
<b>=MEDIAN(IF(B2:B16=F2, C2:C16))</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/05/medianifg3.png">
We’ll then copy and paste this formula into the remaining cells in column G:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/05/medianifg4.png">
That’s it!
Column F displays each of the unique teams and column G displays the median of the points scored by players on each team.
<h2><span class="orange">How to Find the Median of Grouped Data (With Examples)</span></h2>
Often we may want to calculate the median of data that is grouped in some way.
Recall that the  median  represents the value that lies directly in the middle of a dataset, when all of the values are arranged from smallest to largest.
For example, suppose we have the following grouped data:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/02/mean_sd_grouped1.png">
While it’s not possible to calculate the exact median since we don’t know the  raw data values , it is possible to estimate the median using the following formula:
<b>Median of Grouped Data = L + W[(N/2 – C) / F]</b>
where:
<b>L</b>: Lower limit of median class
<b>W</b>: Width of median class
<b>N</b>: Total Frequency
<b>C</b>: Cumulative frequency up to median class
<b>F</b>: Frequency of median class
<b>Note</b>: The <b>median class</b> is the class that contains the value located at N/2. In the example above, there are N = 23 total values. Thus, the median value is the one in position 23/2 = 11.5, which would be located in the class 21-30.
The following examples show how to calculate the median of grouped data in different scenarios.
<h3>Example 1: Calculate the Median of Grouped Data</h3>
Suppose we have the following frequency distribution that shows the exam scored receive by 40 students in a certain class:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/02/modefreq1.jpg"247">
In this example, there are N = 40 total values. Thus, the median value lies in the class where 40/2 = 20 is located. The 20th largest value would be located in the <b>71-80</b> class.
Knowing this, we can calculate the following values:
<b>L</b>: Lower limit of median class: <b>71</b>
<b>W</b>: Width of median class: <b>9</b>
<b>N</b>: Total Frequency: <b>40</b>
<b>C</b>: Cumulative frequency up to median class: <b>12</b>
<b>F</b>: Frequency of median class: <b>15</b>
We can plug these values into the formula to calculate the median of the distribution:
Median = L + W[(N/2 – C) / F]
Median = 71 + 9[(40/2 – 12) / 15]
Median = <b>75.8</b>
We estimate that the median exam score is <b>75.8</b>.
<h3>Example 2: Calculate the Median of Grouped Data</h3>
Suppose we have the following frequency distribution that shows the number of points scored per game by 60 basketball players:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/02/modefreq2.jpg"248">
In this example, there are N = 60 total values. Thus, the median value lies in the class where 60/2 = 30 is located. The 30th largest value would be located in the <b>11-20</b> class.
Knowing this, we can calculate the following values:
<b>L</b>: Lower limit of median class: <b>11</b>
<b>W</b>: Width of median class: <b>9</b>
<b>N</b>: Total Frequency: <b>60</b>
<b>C</b>: Cumulative frequency up to median class: <b>8</b>
<b>F</b>: Frequency of median class: <b>25</b>
We can plug these values into the formula to calculate the median of the distribution:
Median = L + W[(N/2 – C) / F]
Median = 11 + 9[(60/2 – 8) / 25]
Median = <b>18.92</b>
We estimate that the median exam score is <b>18.92</b>.
<h2><span class="orange">How to Use the melt() Function in R</span></h2>
You can use the <b>melt()</b> function from the <b>reshape2</b> package in R to convert a data frame from a wide format to a long format.
A <b>wide</b> format contains values that <em>do not</em> repeat in the first column.
A <b>long</b> format contains values that <em>do </em>repeat in the first column.
For example, consider the following two datasets that contain the exact same data expressed in different formats:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/12/wideLong1-1.png">
The <b>melt()</b> function uses the following basic syntax to convert a data frame in a wide format to a long format:
<b>melt(df, id='team')</b>
The <b>id</b> argument specifies which variable to use as the first column in the data frame whose values will be repeated.
The following example shows how to use this function in practice.
<h2>Example: How to Use melt() in R</h2>
Suppose we have the following data frame in R that is currently in a wide format:
<b>#create data frame in wide format
df &lt;- data.frame(team=c('A', 'B', 'C', 'D'), points=c(88, 91, 99, 94), assists=c(12, 17, 24, 28), rebounds=c(22, 28, 30, 31))
#view data frame
df
  team points assists rebounds
1    A     88      12       22
2    B     91      17       28
3    C     99      24       30
4    D     94      28       31</b>
We can use the <b>melt()</b> function to quickly convert the data frame to a long format:
<b>library(reshape2)
#use melt() to convert data frame from wide to long format
long_df &lt;- melt(df, id='team')
#view long data frame
long_df
   team variable value
1     A   points    88
2     B   points    91
3     C   points    99
4     D   points    94
5     A  assists    12
6     B  assists    17
7     C  assists    24
8     D  assists    28
9     A rebounds    22
10    B rebounds    28
11    C rebounds    30
12    D rebounds    31
</b>
Notice that the data frame is now in a long format.
The columns <b>points</b>, <b>assists</b>, and <b>rebounds</b> have all been compressed into a single column called <b>variable</b> while their values have all been compressed into a single column called <b>values</b>.
Feel free to rename the columns in the resulting data frame by using the <b>names()</b> function:
<b>#rename columns in long_df
names(long_df) &lt;- c('team', 'metric', 'amount')
#view updated data frame
long_df
   team   metric amount
1     A   points     88
2     B   points     91
3     C   points     99
4     D   points     94
5     A  assists     12
6     B  assists     17
7     C  assists     24
8     D  assists     28
9     A rebounds     22
10    B rebounds     28
11    C rebounds     30
12    D rebounds     31</b>
Notice that the columns have been renamed.
<h2>Additional Resources</h2>
The following tutorials explain how to perform other common tasks in R:
 How to Filter Rows in R 
 How to Transpose a Data Frame in R 
 How to Rename Data Frame Columns in R 
<h2><span class="orange">What is the Memoryless Property? (Definition & Example)</span></h2>
A probability distribution in statistics is said to have a <b>memoryless property</b> if the probability of some future event occurring is not affected by the occurrence of past events.
There are only two probability distributions that have the memoryless property:
The  exponential distribution  with non-negative real numbers.
The  geometric distribution  with non-negative integers.
Both of these probability distributions are used to model the expected amount of time before some event occurs.
It turns out that, at any given point, knowing how much time has already passed does not actually inform us as to whether or not some event is more likely to happen sooner or later.
The following examples help us gain a better intuition of the memoryless property.
<h3>An Intuition of the Memoryless Property</h3>
Consider the following examples:
<b>Not Memoryless</b>
It is known that a certain brand of laptops last about 6 years, on average, before they die. Thus, if we know that a particular laptop is 5 years old then the expected time until it dies is quite short. However, if another laptop is only 1 year old then the expected time until it dies is quite long.
In this example, knowing the amount of time that has passed during the lifespan of each laptop informs us as to how long the laptop will continue to work until it dies. Thus, this probability distribution would not have a memoryless property.
<b>Memoryless</b>
Suppose Jessica owns a convenience store. She wants to know how long she will have to wait until the next customer enters the store.
In this example, knowing when the last customer entered the store is not actually helpful at predicting when the next customer will enter because each customer is independent and exhibits individual behavior.
Thus, this probability distribution would have a memoryless property. In other words, the probability of some future event occurring is not affected by the occurrence of  past events.
<h3>The Memoryless Property: A Formal Definition</h3>
In formal statistical terms, a  random variable  <em>X</em> is said to follow a probability distribution with a memoryless property if for any <em>a</em> and <em>b<b> </b></em>in {0, 1, 2, …} it’s true that:
Pr(X > <em>a</em> + <em>b</em> | X ≥ <em>a</em>)  =  Pr(X > <em>b</em>)
For example, suppose we have some probability distribution with a memoryless property and we let <em>X</em> be the number of trials until the first success. If <em>a</em> = 30 and <em>b</em> = 10 then we would say:
Pr(X > <em>a</em> + <em>b</em> | X ≥ <em>a</em>)  =  Pr(X > <em>b</em>)
Pr(X > 30 + 10 | X ≥ <em>30</em>)  =  Pr(X > 10)
Pr(X > 40 | X ≥ <em>30</em>)  =  Pr(X > 10)
In other words, if we’ve had 30 trials without a success then the probability that we’ll have to wait until trial #40 or more to experience a success is the same as the probability of starting at zero and waiting until trial #10 or more to experience a success.
Because this probability distribution has a memoryless property, it means that knowing how many failures we’ve had up to a certain point still does not inform us as to the likelihood of failure in the future.
<h3>The Memoryless Property: An Example</h3>
Suppose that an average of 30 customers per hour enter a store and the time between arrivals is exponentially distributed. On average 2 minutes elapse between successive visits.
Suppose that 10 minutes has passed since the last customer arrived. Since this is an unusually long amount of time, it would seem more likely for a customer to arrive within the next minute.
However, because the exponential distribution has a memoryless property, this turns out not to be the case. The time spent waiting on the next customer to arrive is not dependent on how long it has been since the last customer arrived.
We can prove this by using the CDF of the exponential distribution:
<b>CDF:</b> 1 – e<sup>-λx</sup>
where λ is calculated as 1 / average time between arrivals. In our example, λ = 1/2 = 0.5.
If we let <em>a</em> = 10 and <em>b</em> = 1, then we have:
Pr(X > <em>a</em> + <em>b</em> | X ≥ <em>a</em>)  =  Pr(X > <em>b</em>)
Pr(X > 10 + 1 | X ≥ 10) = Pr(X > 1) = 1 – (1 – e<sup>-(0.5)(1)</sup>) = 0.6065
Regardless of the amount of time that has passed since the arrival of the last customer, the probability that more than one minute will pass until the next arrival is <b>0.6065</b>.
<h2><span class="orange">How to Merge Multiple Data Frames in R (With Examples)</span></h2>
You can use one of the following two methods to merge multiple data frames in R:
<b>Method 1: Use Base R</b>
<b>#put all data frames into list
df_list &lt;- list(df1, df2, df3)
#merge all data frames in list
Reduce(function(x, y) merge(x, y, all=TRUE), df_list)
</b>
<b>Method 2: Use Tidyverse</b>
<b>library(tidyverse)
#put all data frames into list
df_list &lt;- list(df1, df2, df3)
#merge all data frames in list
df_list %>% reduce(full_join, by='variable_name')
</b>
The following examples show how to use each method in practice.
<h3>Method 1: Merge Multiple Data Frames Using Base R</h3>
Suppose we have the following data frames in R:
<b>#define data frames
df1 &lt;- data.frame(id=c(1, 2, 3, 4, 5),  revenue=c(34, 36, 40, 49, 43))
df2 &lt;- data.frame(id=c(1, 2, 5, 6, 7),  expenses=c(22, 26, 31, 40, 20))
df3 &lt;- data.frame(id=c(1, 2, 4, 5, 7),  profit=c(12, 10, 14, 12, 9))</b>
We can use the following syntax to merge all of the data frames using functions from base R:
<b>#put all data frames into list
df_list &lt;- list(df1, df2, df3)      
#merge all data frames together
Reduce(function(x, y) merge(x, y, all=TRUE), df_list)  
  id revenue expenses profit
1  1      34       22     12
2  2      36       26     10
3  3      40       NA     NA
4  4      49       NA     14
5  5      43       31     12
6  6      NA       40     NA
7  7      NA       20      9</b>
Notice that each of the “id” values from each original data frame is included in the final data frame.
<h3>Method 2: Merge Multiple Data Frames Using Tidyverse</h3>
Suppose we have the following data frames in R:
<b>#define data frames
df1 &lt;- data.frame(id=c(1, 2, 3, 4, 5),  revenue=c(34, 36, 40, 49, 43))
df2 &lt;- data.frame(id=c(1, 2, 5, 6, 7),  expenses=c(22, 26, 31, 40, 20))
df3 &lt;- data.frame(id=c(1, 2, 4, 5, 7),  profit=c(12, 10, 14, 12, 9))</b>
We can use the following syntax to merge all of the data frames using functions from  tidyverse  – a collection of packages designed for data science in R:
<b>library(tidyverse)
#put all data frames into list
df_list &lt;- list(df1, df2, df3)      
#merge all data frames together
df_list %>% reduce(full_join, by='id')
  id revenue expenses profit
1  1      34       22     12
2  2      36       26     10
3  3      40       NA     NA
4  4      49       NA     14
5  5      43       31     12
6  6      NA       40     NA
7  7      NA       20      9</b>
Notice that the final data frame matches the data frame that we produced using the first method.
<b>Note</b>: The tidyverse approach will be noticeably quicker if you’re working with extremely large data frames.
<h2><span class="orange">The Difference Between merge() vs. join() in R</span></h2>
The <b>merge()</b> function in base R and the various<b> join()</b> functions from the  dplyr  package can both be used to join two data frames together.
There are two main differences between these two functions:
<b>1.</b> The <b>join()</b> functions from dplyr tend to be much faster than <b>merge()</b> on extremely large data frames.
<b>2.</b> The <b>join()</b> functions from dplyr preserve the original order of rows in the data frames while the <b>merge()</b> function automatically sorts the rows alphabetically based on the column you used to perform the join.
The following example illustrates difference #2 in practice.
<h3>Example: The Difference Between merge() and join()</h3>
Suppose we have the following two data frames in R:
<b>#define first data frame
df1 &lt;- data.frame(team=c('Mavs', 'Hawks', 'Spurs', 'Nets'),  points=c(99, 93, 96, 104))
df1
   team points
1  Mavs     99
2 Hawks     93
3 Spurs     96
4  Nets    104
#define second data frame
df2 &lt;- data.frame(team=c('Mavs', 'Hawks', 'Spurs', 'Nets'),  assists=c(19, 18, 22, 25))
df2
   team assists
1  Mavs      19
2 Hawks      18
3 Spurs      22
4  Nets      25</b>
Suppose we use the <b>merge()</b> function in base R to perform a left join, using the ‘team’ column as the column to join on:
<b>#perform left join using base R
merge(df1, df2, by='team', all.x=TRUE)
   team points assists
1 Hawks     93      18
2  Mavs     99      19
3  Nets    104      25
4 Spurs     96      22
</b>
Notice that the rows are sorted in alphabetical order based on the values in the ‘team’ column.
Now suppose we use the <b>left_join()</b> function from dplyr to perform a left join, again using the ‘team’ column as the column to join on:
<b>library(dplyr)
#perform left join using dplyr 
left_join(df1, df2, by='team')
   team points assists
1  Mavs     99      19
2 Hawks     93      18
3 Spurs     96      22
4  Nets    104      25</b>
Notice that the order of the rows match the original order of the rows in the data frame before performing the left join.
<h2><span class="orange">How to Use Method of Least Squares in Excel</span></h2>
The <b>method of least squares</b> is a method we can use to find the regression line that best fits a given dataset.
The following video provides a brief explanation of this method:
<iframe title="Simple Linear Regression" src="https://www.youtube.com/embed/HKjFoBXeaGI?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
To use the method of least squares to fit a regression line in Excel, we can use the <b>=LINEST()</b> function.
The following step-by-step example shows how to use this function in practice.
<h3>Step 1: Create the Dataset</h3>
First, let’s create the following dataset in Excel:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/method1.png">
<h3>Step 2: Use Method of Least Squares to Fit Regression Line</h3>
We can use the <b>=LINEST(known_ys, known_xs)</b> function to use the method of least squares to fit a regression line to this dataset:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/method2.png">
Once we press <b>ENTER</b>, the coefficients of the regression model will appear:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/method3.png">
<h3>Step 3: Interpret the Results</h3>
Using the coefficients from the <b>=LINEST()</b> function, we can write the following fitted regression line:
y = 11.55211 + 1.07949(x)
We can use this equation to estimate the value of y based on the value of x.
For example, if x = 10 then we would estimate that y would be equal to <b>22.347</b>:
y = 11.55211 + 1.07949(10) = 22.347
<h3>Step 4: Plot the Results</h3>
Lastly, we can use the following steps to plot the dataset along with the fitted regression line:
Highlight cells <b>A2:B16</b>.
Click the <b>Insert</b> tab along the top ribbon. Then click the first chart option titled <b>Insert Scatter (X, Y) or Bubble Chart</b> in the Charts group.
Once the chart appears, click the plus “+” sign in the top right corner. In the dropdown menu, click the checkbox next to <b>Trendline</b> to add the fitted regression line to the chart.
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/method4.png">
<h2><span class="orange">How to Use Method of Least Squares in R</span></h2>
The <b>method of least squares</b> is a method we can use to find the regression line that best fits a given dataset.
The following video provides a brief explanation of this method:
<iframe title="Simple Linear Regression" src="https://www.youtube.com/embed/HKjFoBXeaGI?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
To use the method of least squares to fit a regression line in R, we can use the <b>lm()</b> function.
This function uses the following basic syntax:
<b>model &lt;- lm(response ~ predictor, data=df)
</b>
The following example shows how to use this function in R.
<h2>Example: Method of Least Squares in R</h2>
Suppose we have the following data frame in R that shows the number of hours studied and the corresponding exam score for 15 students in some class:
<b>#create data frame
df &lt;- data.frame(hours=c(1, 2, 4, 5, 5, 6, 6, 7, 8, 10, 11, 11, 12, 12, 14), score=c(64, 66, 76, 73, 74, 81, 83, 82, 80, 88, 84, 82, 91, 93, 89))
#view first six rows of data frame
head(df)
  hours score
1     1    64
2     2    66
3     4    76
4     5    73
5     5    74
6     6    81
</b>
We can use the <b>lm()</b> function to use the method of least squares to fit a regression line to this data:
<b>#use method of least squares to fit regression line
model &lt;- lm(score ~ hours, data=df)
#view regression model summary
summary(model)
Call:
lm(formula = score ~ hours, data = df)
Residuals:
   Min     1Q Median     3Q    Max 
-5.140 -3.219 -1.193  2.816  5.772 
Coefficients:
            Estimate Std. Error t value Pr(>|t|)    
(Intercept)   65.334      2.106  31.023 1.41e-13 ***
hours          1.982      0.248   7.995 2.25e-06 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Residual standard error: 3.641 on 13 degrees of freedom
Multiple R-squared:  0.831,Adjusted R-squared:  0.818 
F-statistic: 63.91 on 1 and 13 DF,  p-value: 2.253e-06
</b>
From the values in the <b>Estimate</b> column of the output, we can write the following fitted regression line:
Exam Score = 65.334 + 1.982(Hours)
Here’s how to interpret each coefficient in the model:
<b>Intercept</b>: For a student who studies 0 hours, the expected exam score is <b>65.334</b>.
<b>hours</b>: For each additional hour studied, the expected exam score increases by <b>1.982</b>.
We can use this equation to estimate the exam score a student will receive based on their hours studied.
For example, if a student studies for 5 hours, we would estimate that their exam score would be 75.244:
Exam Score = 65.334 + 1.982(5) = 75.244
Lastly, we can create a scatter plot of the original data with the fitted regression line overlaid on the plot:
<b>#create scatter plot of data
plot(df$hours, df$score, pch=16, col='steelblue')
#add fitted regression line to scatter plot
abline(model)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/11/method1.jpg"494">
The blue circles represent the data and the black line represents the fitted regression line.
<h2>Additional Resources</h2>
The following tutorials explain how to perform other common tasks in R:
 How to Create a Residual Plot in R 
 How to Test for Multicollinearity in R 
 How to Perform Curve Fitting in R 
<h2><span class="orange">How to Calculate the Midrange in Excel</span></h2>
The <b>midrange </b>of a dataset is calculated as:
Midrange = (largest value + smallest value) / 2
This value is simply the average of the largest and smallest values in the dataset and it gives us an idea of where the center of a dataset is located.
This tutorial explains how to calculate the midrange of a dataset in Excel.
<h3>Example: Calculating the Midrange in Excel</h3>
Suppose we have the following dataset in Excel:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/03/midrangeExcel1.png">
To calculate the midrange, we can use one simple formula:
<b>=(MAX(range of values) + MIN(range of values)) / 2</b>
Column D shows the midrange of our dataset and column E shows the formula we used to calculate it:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/03/midrangeExcel2.png">
The midrange for this dataset is <b>24.5</b>.
<h3>The Drawback of Using the Midrange</h3>
The drawback of using the midrange is the fact that it can be easily influenced by outliers. If the minimum value of a dataset is unusually small or if the maximum value is unusually large, this can have a huge impact on the calculation of the midrange.
For example, consider if the maximum value in our dataset was 120. The midrange would then be equal to 66:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/03/midrangeExcel3.png">
Recall that the midrange is supposed to give us an idea of where the center of a dataset is located. In this scenario, though, since the maximum value is an outlier it causes the midrange to be 66, which isn’t close to the center of our dataset at all.
<h3>Alternatives to the Midrange</h3>
In practice, the midrange is rarely used as a way to calculate the center of a dataset simply because there are better measurements available that are more robust to outliers. In particular, the following two metrics tend to be more accurate  measures of center :
<b>Mean: </b>The average value in a dataset.
<b>Median: </b>The median value in a dataset. 
The following image shows the formulas we can use to calculate both the mean and the median of the dataset:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/03/midrangeExcel4.png">
Notice that the mean is only slightly affected by the outlier while the median is not affected at all.
<h2><span class="orange">How to Calculate the Midrange in Google Sheets</span></h2>
The <b>midrange </b>of a dataset is calculated as:
Midrange = (largest value + smallest value) / 2
This value is simply the average of the largest and smallest values in the dataset and it gives us an idea of where the center of a dataset is located.
This tutorial explains how to calculate the midrange of a dataset in Google Sheets.
<h3>Example: How to Calculate the Midrange in Google Sheets</h3>
Suppose we have the following dataset in Google Sheets:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/10/midrangeSheets1.png">
To calculate the midrange of this dataset, we can use the following formula:
<b>=(MAX(range of values) + MIN(range of values)) / 2</b>
Here’s what that looks like for our dataset:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/10/midrangeSheets2.png">
The midrange for this dataset is <b>24.5</b>.
<h3>Drawbacks of Using the Midrange</h3>
The drawback of using the midrange is that it can be easily influenced by outliers. If the minimum value of a dataset is unusually small or if the maximum value is unusually large, this can have a huge impact on the calculation of the midrange.
For example, consider if the maximum value in our dataset was 120. The midrange would then be equal to 66:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/10/midrangeSheets3.png">
A better way to find where the “center” of this dataset is located is to use  the mean  or  the median  of the dataset.
The following formulas show how to calculate these two metrics:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/10/midrangeSheets4.png">
Notice that the mean and the median are less prone to being influenced by outliers compared to the midrange and they give us a more accurate idea of where the center of the dataset is actually located.
<b>Related: </b> How to Calculate the Midrange in Excel 
<h2><span class="orange">The Minimum Sample Size for a t-test: Explanation & Example</span></h2>
One common question students often ask is:
<em><b>Is there a minimum sample size required to perform a t-test?</b></em>
The short answer:
<b>No. There is no minimum sample size required to perform a t-test.</b>
In fact, the first t-test ever performed only used a  sample size of four .
However, if the assumptions of a t-test are not met then the results could be unreliable.
Also, if the sample size is too small then the power of the test could be too low to detect meaningful differences in the data.
Let’s check out each of these potential issues in more detail.
<h3>Understanding the Assumptions of t-tests</h3>
A <b>one sample t-test</b> is used to test whether or not the mean of a population is equal to some value.
This test makes the following assumptions:
<b>Independence</b>: The observations in the sample should be independent.
<b>Random Sampling</b>: The observations should be be collected using a random sampling method to maximize the chances that the sample is  representative  of the population of interest.
<b>Normality</b>: The observations should be roughly normally distributed.
A <b>two sample t-test</b> is used to test whether there is a significant difference between two population means.
This test makes the following assumptions:
<b>Independence</b>: The observations in each sample should be independent.
<b>Random Sampling</b>: The observations in each sample should be be collected using a random sampling method.
<b>Normality</b>: Each sample should be roughly normally distributed.
<b>Equal Variance</b>: Each sample should have approximately the same variance.
When performing each type of t-test, if one or more of these assumptions are not met then the results of the test can become unreliable.
In this case, it’s best to use a non-parametric alternative test that doesn’t make these assumptions.
The non-parametric alternative to a one sample t-test is the  Wilcoxon Signed Rank Test .
The non-parametric alternative to a two sample t-test is the  Mann-Whitney U Test .
<h3>Understanding the Power of t-tests</h3>
<b>Statistical power</b> refers to the probability that a test will detect some effect when there actually is one.
It can be shown that the lower the sample size used, the lower the statistical power of a given test. This is why researchers typically want larger sample sizes so that they have higher power and thus a greater probability of detecting true differences.
For example, suppose the true  effect size  between two populations is 0.5 – a “medium” effect size. We can use the following R code to calculate the power of a two sample t-test using various sample sizes:
<b>#sample size n=10
power.t.test(n=10, delta=.5, sd=1, sig.level=.05, type='two.sample')$power
[1] 0.1838375
#sample size n=30
power.t.test(n=30, delta=.5, sd=1, sig.level=.05, type='two.sample')$power
[1] 0.477841
#sample size n=50
power.t.test(n=50, delta=.5, sd=1, sig.level=.05, type='two.sample')$power
[1] 0.6968888
</b>
Here’s how to interpret the results:
When each sample size is n = 10, the power is <b>0.184</b>.
When each sample size is n = 30, the power is <b>0.478</b>.
When each sample size is n = 50, the power is <b>0.697</b>.
We can see that the power of the test increases as the sample size increases.
So, we don’t <em>need</em> a minimum sample size to perform a t-test but small sample sizes lead to lower statistical power and thus a reduced ability to detect a true difference in the data.
<h3>Conclusion</h3>
Here’s a summary of what we’ve learned:
There is no minimum sample size required to perform a t-test.
If the assumptions of a t-test are not met, we should use a non-parametric alternative.
If the sample size is too low, the power of the t-test will be low and the ability of the test to detect true differences in the data will be low.
<h2><span class="orange">How to Calculate Minkowski Distance in R (With Examples)</span></h2>
The <b>Minkowski distance</b> between two vectors, <em>A</em> and <em>B</em>, is calculated as:
(Σ|a<sub>i</sub> – b<sub>i</sub>|<sup>p</sup>)<sup>1/p</sup>
where <em>i</em> is the i<sup>th</sup> element in each vector and <em>p</em> is an integer.
This distance is used to measure the dissimilarity between any two vectors and is commonly used in many different  machine learning algorithms .
To calculate the Minkowski distance between vectors in R, we can use the built-in <b>dist()</b> function with the following syntax:
<b>dist(x, method=”minkowski”, p)</b>
where:
<b>x:</b> A numeric matrix or data frame.
<b>p:</b> The power to use in the Minkowski distance calculation.
Note that setting p = 1 is equivalent to calculating the  Manhattan distance  and setting p = 2 is equivalent to calculating the  Euclidean distance .
This tutorial provides a couple examples of how to use this function in practice.
<h3>Example 1: Minkowski Distance Between Two Vectors</h3>
The following code shows how to use the <b>dist()</b> function to calculate the Minkowski distance between two vectors in R, using a power of p = 3:
<b>#define two vectors
a &lt;- c(2, 4, 4, 6)
b &lt;- c(5, 5, 7, 8)
#bind the two vectors into a single matrix
mat &lt;- rbind(a, b)
#calculate Minkowski distance between vectors using a power of 3
dist(mat, method="minkowski", p=3)
         a
b 3.979057</b>
The Minkowski distance (using a power of p = 3) between these two vectors turns out to be <b>3.979057</b>.
<h3>Example 2: Minkowski Distance Between Vectors in a Matrix</h3>
To calculate the Minkowski distance between several vectors in a matrix, we can use similar syntax in R:
<b>#create four vectors
a &lt;- c(2, 4, 4, 6)
b &lt;- c(5, 5, 7, 8)
c &lt;- c(9, 9, 9, 8)
d &lt;- c(1, 2, 3, 3)
#bind vectors into one matrix
mat &lt;- rbind(a, b, c, d)
#calculate Minkowski distance between vectors using a power of 3
dist(mat, method = "minkowski", p=3)
          a         b         c
b  3.979057                    
c  8.439010  5.142563          
d  3.332222  6.542133 10.614765
</b>
The way to interpret this output is as follows:
The Minkowski distance between vector <em>a</em> and <em>b</em> is <b>3.98</b>.
The Minkowski distance between vector <em>a</em> and <em>c</em> is <b>8.43</b>.
The Minkowski distance between vector <em>a</em> and <em>d</em> is <b>3.33</b>.
The Minkowski distance between vector <em>b</em> and <em>c</em> is <b>5.14</b>.
The Minkowski distance between vector <em>b</em> and <em>d</em> is <b>6.54</b>.
The Minkowski distance between vector <em>c</em> and <em>d</em> is <b>10.61</b>.
Note that each vector in the matrix should be the same length.
<h2><span class="orange">Misclassification Rate in Machine Learning: Definition & Example</span></h2>
In machine learning, <b>misclassification rate</b> is a metric that tells us the percentage of observations that were incorrectly predicted by some  classification model .
It is calculated as:
Misclassification Rate = # incorrect predictions / # total predictions
The value for misclassification rate can range from 0 to 1 where:
<b>0</b> represents a model that had zero incorrect predictions.
<b>1</b> represents a model that had completely incorrect predictions.
The lower the value for the misclassification rate, the better a classification model is able to predict the outcomes of the  response variable .
The following example show how to calculate misclassification rate for a  logistic regression model  in practice.
<h3>Example: Calculating Misclassification Rate for a Logistic Regression Model</h3>
Suppose we use a logistic regression model to predict whether or not 400 different college basketball players get drafted into the NBA.
The following confusion matrix summarizes the predictions made by the model:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/09/fscore1.png">
Here is how to calculate the misclassification rate for the model:
Misclassification Rate = # incorrect predictions / # total predictions
Misclassification Rate = (false positive + false negative) / (total predictions)
Misclassification Rate = (70 + 40) / (400)
Misclassification Rate = 0.275
The misclassification rate for this model is 0.275 or <b>27.5%</b>.
This means the model incorrectly predicted the outcome for <b>27.5%</b> of the players.
The opposite of misclassification rate would be accuracy, which is calculated as:
Accuracy = 1 – Misclassification rate
Accuracy = 1 – 0.275
Accuracy = 0.725
This means the model correctly predicted the outcome for <b>72.5%</b> of the players.
<h3>Pros & Cons of Misclassification Rate</h3>
Misclassification rate offers the following <b>pros</b>:
<b>It’s easy to interpret</b>. A misclassification rate of 10% means a model made an incorrect prediction for 10% of the total observations.
<b>It’s easy to calculate</b>. A misclassification rate is calculated as the number of total incorrect predictions divided by the total number of predictions.
However, misclassification rate has the following <b>con</b>:
<b>It doesn’t take into account how the data is distributed</b>. For example, suppose 90% of all players do not get drafted into the NBA. If we have a model that simply predicts every player to not get drafted, the model would have a misclassification rate of just 10%. This seems low, but, but the model is actually unable to correctly predict any player who gets drafted.
In practice, we often calculate the misclassification rate of a model along with other metrics like:
<b>Sensitivity</b>: The “true positive rate” – the percentage of positive outcomes the model is able to detect.
<b>Specificity</b>: The “true negative rate” – the percentage of negative outcomes the model is able to detect.
<b>F1 Score</b>: A  metric  that tells us the accuracy of a model, relative to how the data is distributed.
By calculating the value for each of these metrics, we can gain a full understanding of how well the model is able to make predictions.
<h2><span class="orange">MLE for a Poisson Distribution (Step-by-Step)</span></h2>
<b>Maximum likelihood estimation</b> (MLE) is a method that can be used to estimate the parameters of a given distribution.
This tutorial explains how to calculate the MLE for the parameter λ of a  Poisson distribution .
<b>Step 1: Write the PDF.</b>
First, write the probability density function of the Poisson distribution:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/poissonMLE.png">
<b>Step 2: Write the likelihood function.</b>
Next, write the likelihood function. This is simply the product of the PDF for the observed values x<sub>1</sub>, …, x<sub>n</sub>.
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/poissonMLE2.png">
<b>Step 3: Write the natural log likelihood function.</b>
To simplify the calculations, we can write the natural log likelihood function:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/poissonMLE3.png">
<b>Step 4: Calculate the derivative of the natural log likelihood function with respect to λ.</b>
Next, we can calculate the derivative of the natural log likelihood function with respect to the parameter λ:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/poissonMLE7.png">
<b>Step 5: Set the derivative equal to zero and solve for λ.</b>
Lastly, we set the derivative in the previous step equal to zero and simply solve for λ:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/poissonMLE5.png">
Thus, the MLE turns out to be:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2020/11/poissonMLE6.png">
This is equivalent to the <b>sample mean</b> of the <em>n</em> observations in the sample.
<h2><span class="orange">Maximum Likelihood Estimation (MLE) for a Uniform Distribution</span></h2>
A  uniform distribution  is a probability distribution in which every value between an interval from <em>a </em>to <em>b </em>is equally likely to be chosen.
The probability that we will obtain a value between x<sub>1</sub> and x<sub>2</sub> on an interval from <em>a </em>to <em>b </em>can be found using the formula:
P(obtain value between x<sub>1</sub> and x<sub>2</sub>)  =  (x<sub>2</sub> – x<sub>1</sub>) / (b – a)
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2019/01/uniform_pic.jpg">
This tutorial explains how to find the <b>maximum likelihood estimate (mle)</b> for parameters <em>a </em>and <em>b </em>of the uniform distribution.
<h2>Maximum Likelihood Estimation</h2>
<b>Step 1: Write the likelihood function.</b>
For a uniform distribution, the likelihood function can be written as:
<img class="lazy" data-src="https://s0.wp.com/latex.php?latex=%5Cprod_%7Bi%3D1%7D%5En+f%28x_i%3Ba%2Cb%29+%3D+%5Cprod_%7Bi%3D1%7D%5En+%5Cfrac%7B1%7D%7B%28b-a%29%7D+%3D+%5Cfrac%7B1%7D%7B%28b-a%29%5En%7D&bg=ffffff&fg=000&s=0">
<b>Step 2: Write the log-likelihood function. </b>
<img class="lazy" data-src="https://s0.wp.com/latex.php?latex=%5Clog%5Cprod_%7Bi%3D1%7D%5E%7Bn%7D+f%28x_i%3Ba%2Cb%29+%3D+%5Clog%5Cprod_%7Bi%3D1%7D%5E%7Bn%7D+%5Cfrac%7B1%7D%7B%28b-a%29%7D+%3D%5Clog%7B%28%28b-a%29%5E%7B-n%7D%29%7D+%3D+-n+%5Clog%7B%28b-a%29%7D&bg=ffffff&fg=000&s=0">
<b>Step 3: Find the values for <em>a </em>and <em>b </em>that maximize the log-likelihood by taking the derivative of the log-likelihood function with respect to <em>a </em>and <em>b</em>.</b>
The derivative of the log-likelihood function with respect to <em>a </em>can be written as:
<img class="lazy" data-src="https://s0.wp.com/latex.php?latex=%5Cfrac%7Bn%7D%7B%28b-a%29%7D&bg=ffffff&fg=000&s=0">
Similarly, the derivative of the log-likelihood function with respect to <em>b </em>can be written as:
<img class="lazy" data-src="https://s0.wp.com/latex.php?latex=-%5Cfrac%7Bn%7D%7B%28b-a%29%7D&bg=ffffff&fg=000&s=0">
<b>Step 4: Identify the maximum likelihood estimators for <em>a </em>and <em>b.</em></b>
Notice that the derivative with respect to <em>a </em>is monotonically increasing. Thus, the mle for <em>a</em> would be the largest <em>a </em>possible, which would simply be:
min(X<sub>1</sub>, X<sub>2</sub>, … , X<sub>n</sub>)
Also notice that the derivative with respect to <em>b </em>is monotonically decreasing. Thus, the mle for <em>b </em>would be the smallest <em>b </em>possible, which would be:
max(X<sub>1</sub>, X<sub>2</sub>, … , X<sub>n</sub>)
<h2><span class="orange">How to Calculate Mode from Frequency Table (With Examples)</span></h2>
The <b>mode</b> of a frequency table represents the value that occurs most often.
In practice, there can be:
<b>Zero modes</b> if no value occurs more often than any other.
<b>One mode</b> if one value occurs most often.
<b>Multiple modes</b> if several values occur most often.
To identify the mode of a frequency table, you simply need to identify the value(s) with the highest frequency.
The following examples show how to find the mode of different frequency tables.
<h3>Example 1: Find Mode from Frequency Table (Zero Modes)</h3>
The following frequency table shows the number of pets owned by 10 different families in a certain neighborhood:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/freqMode4.png">
Notice that each value in the table has the same frequency.
This means there is <b>no mode</b> for this particular frequency table since each value occurs the same number of times.
<h3>
<b>Example 2: Find Mode from Frequency Table (One Mode)</b>
</h3>
The following frequency table shows the total number of wins for 17 soccer teams in a certain league:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/freqMedian1.png">
The number of wins with the highest frequency is <b>2</b> wins.
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/freqMode1.png">
Thus, the mode for this frequency table is <b>2</b>.
<h3>
<b>Example 3: Find Mode from Frequency Table (Multiple Modes)</b>
</h3>
The following frequency table shows the household size of different households in a particular area:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/freqMode2.png">
The household sizes with the highest frequency are <b>3</b>, <b>4</b>, and <b>7</b>.
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/06/freqMode3.png">
Thus, this frequency table actually has three modes: <b>3</b>, <b>4</b>, and <b>7</b>.
<h2><span class="orange">How to Calculate the Mode in R (With Examples)</span></h2>
The  mode  of a dataset represents the most frequently occurring value.
In any given dataset, there can be no mode, one mode, or multiple modes.
The statistical software R does not have a built-in function to calculate the mode of a dataset, but you can use the following function to calculate the mode:
<b>find_mode &lt;- function(x) {
  u &lt;- unique(x)
  tab &lt;- tabulate(match(x, u))
  u[tab == max(tab)]
}
</b>
The following examples show how to use this function in practice.
<h3>Example 1: Calculating the Mode of A Numeric Vector</h3>
The following code shows how to use this function to calculate the mode of a numeric vector
<b>#define function to calculate mode
find_mode &lt;- function(x) {
  u &lt;- unique(x)
  tab &lt;- tabulate(match(x, u))
  u[tab == max(tab)]
}
#define numeric vector
data &lt;- c(1, 2, 2, 3, 4, 4, 4, 4, 5, 6)
#find mode
find_mode(data)
[1] 4</b>
The mode of the dataset turns out to be <b>4</b>. This is the number that occurs most frequently.
Note that we can also use this function when there are multiple modes in a dataset:
<b>#define function to calculate mode
find_mode &lt;- function(x) {
  u &lt;- unique(x)
  tab &lt;- tabulate(match(x, u))
  u[tab == max(tab)]
}
#define numeric vector with multiple modes
data &lt;- c(1, 2, 2, 2, 2, 3, 4, 4, 4, 4, 5, 6)
#find mode
find_mode(data)
[1] 2 4</b>
The modes of the dataset are <b>2</b> and <b>4</b>. Both of these numbers occur most frequently.
<h3>Example 2: Calculating the Mode of a Character Vector</h3>
This function can also be used to calculate the mode of a character vector:
<b>#define function to calculate mode
find_mode &lt;- function(x) {
  u &lt;- unique(x)
  tab &lt;- tabulate(match(x, u))
  u[tab == max(tab)]
}
#define character vector
data &lt;- c('Sunny', 'Cloudy', 'Sunny', 'Sunny', 'Rainy', 'Cloudy')
#find mode
find_mode(data)
[1] "Sunny"</b>
The mode turns out to be “Sunny” – this is the  string that occurs most often in the vector.
<h2><span class="orange">How to Find the Mode of Grouped Data (With Examples)</span></h2>
Often we may want to calculate the mode of data that is grouped in some way.
Recall that the  mode  represents the value that occurs most frequently.
For example, suppose we have the following grouped data:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/02/mean_sd_grouped1.png">
While it’s not possible to calculate the exact mode since we don’t know the  raw data values , it is possible to estimate the mode using the following formula:
<b>Mode of Grouped Data = L + W[(F<sub>m</sub> – F<sub>1</sub>)/( (F<sub>m</sub>-F<sub>1</sub>) + (F<sub>m</sub> – F<sub>2</sub>) )]</b>
where:
<b>L</b>: Lower limit of modal class
<b>W</b>: Width of modal class
<b>F<sub>m</sub></b>: Frequency of modal class
<b>F<sub>1</sub></b>: Frequency of class immediately before modal class
<b>F<sub>2</sub></b>: Frequency of class immediately after modal class
<b>Note</b>: The <b>modal class</b> is simply the class with the highest frequency. In the example above, the modal class would be 21-30 since it has the highest frequency.
The following examples show how to calculate the mode of grouped data in different scenarios.
<h3>Example 1: Calculate the Mode of Grouped Data</h3>
Suppose we have the following frequency distribution that shows the exam scored receive by 40 students in a certain class:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/02/modefreq1.jpg"247">
In this example, the <b>modal class</b> is 71-80.
Knowing this, we can calculate the following values:
<b>L</b>: Lower limit of modal class: <b>71</b>
<b>W</b>: Width of modal class: <b>9</b>
<b>F<sub>m</sub></b>: Frequency of modal class: <b>15</b>
<b>F<sub>1</sub></b>: Frequency of class immediately before modal class: <b>8</b>
<b>F<sub>2</sub></b>: Frequency of class immediately after modal class: <b>8</b>
We can plug these values into the formula to calculate the mode of the distribution:
Mode = L + W[(F<sub>m</sub> – F<sub>1</sub>)/( (F<sub>m</sub>-F<sub>1</sub>) + (F<sub>m</sub> – F<sub>2</sub>) )]
Mode = 71 + 9[(15-8) / ( (15-8) + (15-8) )]
Mode = <b>75.5</b>
We estimate that the modal exam score is <b>75.5</b>.
<h3>Example 2: Calculate the Mode of Grouped Data</h3>
Suppose we have the following frequency distribution that shows the number of points scored per game by 60 basketball players:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/02/modefreq2.jpg"248">
In this example, the <b>modal class</b> is 11-20.
Knowing this, we can calculate the following values:
<b>L</b>: Lower limit of modal class: <b>11</b>
<b>W</b>: Width of modal class: <b>9</b>
<b>F<sub>m</sub></b>: Frequency of modal class: <b>25</b>
<b>F<sub>1</sub></b>: Frequency of class immediately before modal class: <b>8</b>
<b>F<sub>2</sub></b>: Frequency of class immediately after modal class: <b>14</b>
We can plug these values into the formula to calculate the mode of the distribution:
Mode = L + W[(F<sub>m</sub> – F<sub>1</sub>)/( (F<sub>m</sub>-F<sub>1</sub>) + (F<sub>m</sub> – F<sub>2</sub>) )]
Mode = 11 + 9[(25-8) / ( (25-8) + (25-14) )]
Mode = <b>16.46</b>
We estimate that the modal points scored is <b>16.46</b>.
<h2><span class="orange">What is a Moderating Variable? Definition & Example</span></h2>
A <b>moderating variable</b> is a type of variable that affects the relationship between a  dependent variable  and an  independent variable .
When performing  regression analysis , we’re often interested in understanding how changes in an independent variable affect a dependent variable. However, sometimes a moderating variable can affect this relationship.
For example, suppose we want to fit a regression model in which we use the independent variable <em>hours spent exercising each week</em> to predict the dependent variable <em>resting heart rate</em>. 
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/02/moderating1.png">
We suspect that more hours spent exercising is associated with a lower resting heart rate. However, this relationship could be affected by a moderating variable such as <b>gender</b>.
It’s possible that each extra hour of exercise causes resting heart rate to drop more for men compared to women.
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/02/moderating2.png">
Another example of a moderating variable could be <b>age</b>. It’s likely that each extra hour of exercise causes resting heart rate to drop more for younger people compared to older people.
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/02/moderating3.png">
<h3>Properties of Moderating Variables</h3>
Moderating variables have the following properties:
<b>1. Moderating variables can be qualitative or quantitative</b>.
 Qualitative variables  are variables that take on names or labels. Examples include:
Gender (Male or Female)
Education Level (High School Degree, Bachelor’s Degree, Master’s Degree, etc.)
Marital Status (Single, Married, Divorced)
 Quantitative variables  are variables that take on numerical values. Examples include:
Age
Height
Square Footage
Population Size
In the previous examples, <b>gender</b> was a qualitative variable that could affect the relationship between hours studied and resting heart rate while <b>age</b> was a quantitative variable that could potentially affect the relationship.
<b>2. Moderating variables can affect the relationship between an independent and dependent variable in a variety of ways.</b>
Moderating variables can have the following effects:
Strengthen the relationship between two variables.
Weaken the relationship between two variables.
Negate the relationship between two variables.
Depending on the situation, a moderating variable can <em>moderate</em> the relationship between two variables in many different ways.
<h3>How to Test for Moderating Variables</h3>
If X is an independent variable (sometimes called a “predictor” variable) and <em>Y</em> is a dependent variable (sometimes called a “response” variable), then we could write a regression equation to describe the relationship between the two variables as follows:
<em>Y</em> = β<sub>0</sub> + β<sub>1</sub><em>X</em>
If we suspect that some other variable, <em>Z</em>, is a moderator variable, then we could fit the following regression model:
<em>Y</em> = β<sub>0</sub> + β<sub>1</sub><em>X</em><sub>1</sub>+ β<sub>2</sub><em>Z</em><sub> </sub>+ β<sub>3</sub><em>XZ</em>
In this equation, the term <em>XZ</em> is known as an <b>interaction term</b>.
If the  p-value  for the coefficient of <em>XZ</em> in the regression output is statistically significant, then this indicates that there is a significant interaction between <em>X</em> and <em>Z</em> and <em>Z</em> should be included in the regression model as a moderator variable.
We would write the final model as:
<em>Y</em> = β<sub>0</sub> + β<sub>1</sub><em>X</em>+ β<sub>2</sub><em>Z</em><sub> </sub>+ β<sub>3</sub><em>XZ</em>
If the p-value for the coefficient of <em>XZ</em> in the regression output is not statistically significant, then <em>Z</em> is not a moderator variable.
However it’s possible that the coefficient for <em>Z</em> could still be statistically significant. In this case, we would simply include <em>Z</em> as another independent variable in the regression model.
We would then write the final model as:
<em>Y</em> = β<sub>0</sub> + β<sub>1</sub><em>X</em>+ β<sub>2</sub><em>Z</em>
<h2><span class="orange">How to Calculate Modified Z-Scores in Excel</span></h2>
In statistics, a <b>modified z-score</b> is calculated as:
<b>Modified z-score = 0.6745(x<sub>i</sub> – x<U+0303>) / MAD</b>
where:
<b>x<sub>i</sub>:</b> A single data value
<b>x<U+0303>:</b> The median of the dataset
<b>MAD:</b> The median absolute deviation of the dataset
A modified z-score is more robust than an ordinary z-score because it uses the median in its formula as opposed to the mean,  which is known to be influenced by outliers .
 Iglewicz and Hoaglin  recommend that values with modified z-scores less than -3.5 or greater than 3.5 be labeled as potential outliers.
The following step-by-step example shows how to calculate modified z-scores for a given dataset in Excel.
<h3>Step 1: Create the Data</h3>
First, we’ll create the following dataset that contains 16 values:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/madExcel1.png">
<h3>Step 2: Calculate the Median</h3>
Next, we’ll calculate the median of the dataset:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/madExcel2.png">
The median turns out to be <b>16</b>.
<h3>Step 3: Calculate the Absolute Difference Between Each Value & the Median</h3>
Next, we’ll calculate the absolute difference between each value and the median:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/madExcel3.png">
The absolute difference between the first data value and the median turns out to be 16.
Next, click on cell B2. Then hover over the bottom right corner of the cell until a little cross (<b>+</b>) appears. 
Double click the cross to copy and paste this formula to all remaining cells in the column:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/madExcel4.png">
<h3>Step 4: Calculate the Median Absolute Deviation</h3>
Next, we will use the following formula to calculate the median absolute deviation of the dataset:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/madExcel5.png">
The median absolute deviation turns out to be <b>8</b>.
<h3>Step 5: Find the Modified Z-Score for Each Data Value</h3>
Lastly, we can calculate the modified z-score for each data value using the following formula:
<b>Modified z-score = 0.6745(x<sub>i</sub> – x<U+0303>) / MAD</b>
For example, the modified z-score for the first data value is calculated as:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/modifiedZExcel1.png">
Next, click on cell C2. Then hover over the bottom right corner of the cell until a little cross (<b>+</b>) appears. 
Double click the cross to copy and paste this formula to all remaining cells in the column:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/modifiedZExcel2.png">
We can see that no value in the dataset has a modified z-score less than -3.5 or greater than 3.5, thus we wouldn’t label any value in this dataset as a potential outlier.
<h3>How to Handle Outliers</h3>
If an outlier is present in your dataset, you have a few options:
<b>Make sure the outlier is not the result of a data entry error.</b> Sometimes an individual simply enters the wrong data value when recording data. If an outlier is present, first verify that the value was entered correctly and that it wasn’t an error.
<b>Assign a new value to the outlier</b>. If the outlier turns out to be a result of a data entry error, you may decide to assign a new value to it such as  the mean or the median  of the dataset.
<b>Remove the outlier. </b>If the value is a true outlier, you may choose to remove it if it will have a significant impact on your overall analysis. Just make sure to mention in your final report or analysis that you removed an outlier.
<h2><span class="orange">What is a Modified Z-Score? (Definition & Example)</span></h2>
In statistics, a <b>z-score</b> tells us how many standard deviations away a value is from  the mean . We use the following formula to calculate a z-score:
<b>Z-Score = (x<sub>i</sub> – μ) / σ</b>
where:
<b>x<sub>i</sub>:</b> A single data value
<b>μ:</b> The mean of the dataset
<b>σ:</b> The standard deviation of the dataset
Z-scores are often used to detect outliers in a dataset. For example, observations with a z-score less than -3 or greater than 3 are often deemed to be outliers.
However, z-scores can be affected by unusually large or small data values, which is why a more robust way to detect outliers is to use a <b>modified z-score</b>, which is calculated as:
<b>Modified z-score = 0.6745(x<sub>i</sub> – x<U+0303>) / MAD</b>
where:
<b>x<sub>i</sub>:</b> A single data value
<b>x<U+0303>:</b> The median of the dataset
<b>MAD:</b> The median absolute deviation of the dataset
A modified z-score is more robust because it uses the median to calculate z-scores as opposed to the mean,  which is known to be influenced by outliers .
 Iglewicz and Hoaglin  recommend that values with modified z-scores less than -3.5 or greater than 3.5 be labeled as potential outliers.
The following step-by-step example shows how to calculate modified z-scores for a given dataset.
<h3>Step 1: Create the Data</h3>
Suppose we have the following dataset with 16 values:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/modifiedZ1.png">
<h3>Step 2: Find the Median</h3>
Next, we will find the median. This represents the middle point in the dataset, which turns out to be <b>16</b>.
<h3>Step 3: Find the Absolute Difference Between Each Value & the Median</h3>
Next, we will find the absolute difference between each individual data value and the median. For example, the absolute difference between the first data value and the median is calculated as:
Absolute Difference = |6 – 16| = 10
We can use the same formula to calculate the absolute difference between each individual data value and the median:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/modifiedZ2.png">
<h3>Step 4: Find the Median Absolute Deviation</h3>
Next, we’ll find the median absolute deviation. This is the median of the second column, which turns out to be <b>8</b>.
<h3>Step 5: Find the Modified Z-Score for Each Data Value</h3>
Lastly, we can calculate the modified z-score for each data value using the following formula:
<b>Modified z-score = 0.6745(x<sub>i</sub> – x<U+0303>) / MAD</b>
For example, the modified z-score for the first data value is calculated as:
Modified z-score = 0.6745*(6-16) / 8 = <b>-0.843</b>
We can repeat this formula for every value in the dataset:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/04/modifiedZ3.png">
We can see that no value in the dataset has a modified z-score less than -3.5 or greater than 3.5, thus we wouldn’t label any value in this dataset as a potential outlier.
<h3>How to Handle Outliers</h3>
If an outlier is present in your dataset, you have a few options:
<b>Make sure the outlier is not the result of a data entry error.</b> Sometimes an individual simply enters the wrong data value when recording data. If an outlier is present, first verify that the value was entered correctly and that it wasn’t an error.
<b>Assign a new value to the outlier</b>. If the outlier turns out to be a result of a data entry error, you may decide to assign a new value to it such as  the mean or the median  of the dataset.
<b>Remove the outlier. </b>If the value is a true outlier, you may choose to remove it if it will have a significant impact on your overall analysis. Just make sure to mention in your final report or analysis that you removed an outlier.
<h2><span class="orange">How to Fix: module ‘matplotlib’ has no attribute ‘plot’</span></h2>
One error you may encounter when using  matplotlib  is:
<b>AttributeError: module 'matplotlib' has no attribute 'plot'
</b>
This error typically occurs when you use the following code to import matplotlib:
<b>import matplotlib as plt</b>
Instead, you should use:
<b>import matplotlib.pyplot as plt</b>
The following example shows how to fix this error in practice.
<h3>How to Reproduce the Error</h3>
Suppose we attempt to create a line plot in matplotlib using the following code:
<b>import matplotlib as plt
#define data
x = [1, 2, 3, 4, 5, 6]
y = [3, 7, 14, 19, 15, 11]
#create line plot
plt.plot(x, y)
#show line plot
plt.show()
AttributeError: module 'matplotlib' has no attribute 'plot' 
</b>
We receive an error because we used the wrong line of code to import the matplotlib library.
<h3>How to Fix the Error</h3>
To fix this error, we simply need to use the correct code to import the matplotlib library:
<b>import matplotlib.pyplot as plt
#define data
x = [1, 2, 3, 4, 5, 6]
y = [3, 7, 14, 19, 15, 11]
#create line plot
plt.plot(x, y)
#show line plot
plt.show()</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/11/import1.png">
Notice that we’re able to create the line plot successfully without receiving any errors because we used the correct line of code to import the matplotlib library.
<h2><span class="orange">How to Fix: module ‘pandas’ has no attribute ‘dataframe’</span></h2>
One error you may encounter when using pandas is:
<b>AttributeError: module 'pandas' has no attribute 'dataframe'
</b>
This error usually occurs for one of three reasons:
<b>1.</b> You write pd.dataframe instead of pd.DataFrame
<b>2.</b> Some other variable is named ‘pd’ or ‘pandas’
<b>3.</b> The file name is pd.py or pandas.py
The following examples show how to resolve this error in each of these scenarios.
<h3>Reason 1: Using pd.dataframe</h3>
Suppose we attempt to create a pandas DataFrame using the following syntax:
<b>import pandas as pd
#attempt to create DataFrame
df = pd.dataframe({'points': [25, 12, 15, 14],   'assists': [5, 7, 13, 12]})
AttributeError: module 'pandas' has no attribute 'dataframe'
</b>
We receive an error because we wrote the word dataframe in lowercase.
To create a pandas DataFrame, we must write the word ‘DataFrame’ in camel-case:
<b>import pandas as pd
#create DataFrame
df = pd.DataFrame({'points': [25, 12, 15, 14],   'assists': [5, 7, 13, 12]})
#view DataFrame
df
pointsassists
0255
1127
21513
31412
</b>
Notice that we’re able to successfully create the DataFrame without any errors.
<h3>Reason 2: Some other variable is named ‘pd’ or ‘pandas’</h3>
We might also receive this error if some other variable in our script is named ‘pd’ or ‘pandas’:
<b>import pandas as pd
#create a list named 'pd'
pd = [1, 2, 3, 4]
#attempt to create DataFrame
df = pd.dataframe({'points': [25, 12, 15, 14],   'assists': [5, 7, 13, 12]})
AttributeError: module 'pandas' has no attribute 'dataframe'</b>
To resolve this error, we simply need to rename the variable currently named ‘pd’ to something else:
<b>import pandas as pd
#create a list named 'data'
data = [1, 2, 3, 4]
#create DataFrame
df = pd.DataFrame({'points': [25, 12, 15, 14],   'assists': [5, 7, 13, 12]})
#view DataFrame
df
pointsassists
0255
1127
21513
31412</b>
Notice that we don’t receive an error because we no longer have a variable named py or pandas.
<h3>Reason 3. The file name is pd.py or pandas.py</h3>
Another reason you may receive an error is if the file name of your script is <b>pd.py</b> or <b>pandas.py</b>.
To resolve this error, you simply need to rename your file to something else like <b>my_script.py</b> or <b>my_data.py</b> or literally any other name.
<h2><span class="orange">MongoDB: How to Add a New Field in a Collection</span></h2>
You can use the following methods to add a new field to every document in a collection in MongoDB:
<b>Method 1: Add New Field Without Values</b>
<b>db.collection.updateMany({}, {$set:{"new_field": null}})
</b>
<b>Method 2: Add New Field With Specific Value</b>
<b>db.collection.updateMany({}, {$set:{"new_field": 10}}) 
</b>
<b>Method 3: Add New Field Using Values from Existing Fields</b>
<b>db.collection.updateMany(
    {},
    [
        {"$set": {"name": { "$concat": ["$field1", " ", "$field2"]}}}
    ]
)</b>
The following examples show how to use each method with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", position: "Guard", points: 31})</b>
<b>db.teams.insertOne({team: "Spurs", position: "Guard", points: 22})</b>
<b>db.teams.insertOne({team: "Rockets", position: "Center", points: 19})</b>
<b>db.teams.insertOne({team: "Warriors", position: "Forward", points: 26})</b>
<b>db.teams.insertOne({team: "Cavs", position: "Guard", points: 33})</b>
<h3>Example 1: Add New Field Without Values</h3>
We can use the following code to add a new field called “rebounds” with a null value to every existing document in the collection:
<b>db.teams.updateMany({}, {$set:{"rebounds": null}})
</b>
We can use the following query to view the first few updated documents:
<b>db.teams.find().limit(3)</b>
This query returns the following documents:
<b>{ _id: ObjectId("6189325896cd2ba58ce928e5"),
  team: 'Mavs',
  position: 'Guard',
  points: 31,
  rebounds: null }
{ _id: ObjectId("6189325896cd2ba58ce928e6"),
  team: 'Spurs',
  position: 'Guard',
  points: 22,
  rebounds: null }
{ _id: ObjectId("6189325896cd2ba58ce928e7"),
  team: 'Rockets',
  position: 'Center',
  points: 19,
  rebounds: null }</b>
Notice that each document now has a field called “rebounds” with a null value.
<h3>Example 2: Add New Field With Specific Value</h3>
We can use the following code to add a new field called “rebounds” with a value of <b>10</b> to every existing document in the collection:
<b>db.teams.updateMany({}, {$set:{"rebounds": 10}})
</b>
We can use the following query to view the first few updated documents:
<b>db.teams.find().limit(3)</b>
This query returns the following documents:
<b>{ _id: ObjectId("6189325896cd2ba58ce928e5"),
  team: 'Mavs',
  position: 'Guard',
  points: 31,
  rebounds: 10 }
{ _id: ObjectId("6189325896cd2ba58ce928e6"),
  team: 'Spurs',
  position: 'Guard',
  points: 22,
  rebounds: 10 }
{ _id: ObjectId("6189325896cd2ba58ce928e7"),
  team: 'Rockets',
  position: 'Center',
  points: 19,
  rebounds: 10 }</b>
Notice that each document now has a field called “rebounds” with a value of 10.
<h3>Example 3: Add New Field Using Values from Existing Fields</h3>
We can use the following code to add a field called “name” whose value is a concatenation of the existing fields “team” and “position”:
<b>db.teams.updateMany(
    {},
    [
        {"$set": {"name": { "$concat": ["$team", " ", "$position"]}}}
    ]
)</b>
We can use the following query to view the first few updated documents:
<b>db.teams.find().limit(3)</b>
This query returns the following documents:
<b>{ _id: ObjectId("618934cb96cd2ba58ce928ea"),
  team: 'Mavs',
  position: 'Guard',
  points: 31,
  name: 'Mavs Guard' }
{ _id: ObjectId("618934cb96cd2ba58ce928eb"),
  team: 'Spurs',
  position: 'Guard',
  points: 22,
  name: 'Spurs Guard' }
{ _id: ObjectId("618934cb96cd2ba58ce928ec"),
  team: 'Rockets',
  position: 'Center',
  points: 19,
  name: 'Rockets Center' }</b>
Notice that each document now has a field called “name” whose value is a concatentation of the “team” and “position” fields.
<b>Note</b>: You can find the complete documentation for the <b>updateMany()</b> function  here .
<h2><span class="orange">MongoDB: How to Use the AND ($and) Operator in Queries</span></h2>
You can use the <b>$and</b> operator in MongoDB to query for documents that meet multiple criteria.
This operator uses the following basic syntax:
<b>db.myCollection.find({
  "$and": [
    {"field1": "hello"},
    {"field2": {$gte : 10}}
  ]
})</b>
This particular example finds all documents in the collection titled myCollection where <b>field1</b> is equal to “hello” <em>and</em> <b>field2</b> has a value greater than or equal to 10.
The following examples show how to use this syntax in practice with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", points: 30, rebounds: 8})
db.teams.insertOne({team: "Mavs", points: 30, rebounds: 12})
db.teams.insertOne({team: "Spurs", points: 20, rebounds: 7})
db.teams.insertOne({team: "Spurs", points: 25, rebounds: 5})
db.teams.insertOne({team: "Spurs", points: 23, rebounds: 9})</b>
<h3>Example 1: Use AND Operator with Two Fields</h3>
The following code shows how to find all documents in the teams collection where the “team” field is equal to “Spurs” and the value in the “points” field is greater than or equal to 22:
<b>db.teams.find({
  "$and": [
    {"team": "Spurs"},
    {"points": {$gte: 22}}
  ]
})</b>
This query returns the following documents:
<b>{ _id: ObjectId("6201824afd435937399d6b6c"),
  team: 'Spurs',
  points: 25,
  rebounds: 5 }
{ _id: ObjectId("6201824afd435937399d6b6d"),
  team: 'Spurs',
  points: 23,
  rebounds: 9 } </b>
Notice that each document in the output contains “Spurs” in the team field and a value greater than or equal to 22 in the points field. 
<h3>Example 2: Use AND Operator with More Than Two Fields</h3>
The following code shows how to find all documents in the teams collection where the “team” field is not equal to “Mavs” and the value in the “points” field is greater than or equal to 22 and the value in the “rebounds” field is less than 7:
<b>db.teams.find({
  "$and": [
    {"team": {$ne: "Mavs"}},
    {"points": {$gte: 22}},
    {"rebounds": {$lt: 7}}
  ]
})</b>
This query returns the following document:
<b>{ _id: ObjectId("6201824afd435937399d6b6c"),
  team: 'Spurs',
  points: 25,
  rebounds: 5 }
</b>
Notice that this is the only document in the collection that meets each of the three criteria:
The “team” field is not equal to “<b>Mavs</b>“
The “points” field has a value greater than or equal to <b>22</b>
The “rebounds” field has a value less than <b>7</b>
<b>Note</b>: You can find the complete documentation for the <b>$and </b>function  here .
<h2><span class="orange">MongoDB: How to Calculate the Average Value of a Field</span></h2>
You can use the following methods to calculate the average value of a field in MongoDB:
<b>Method 1: Calculate Average of Field</b>
<b>db.collection.aggregate([{$group: {_id:null, avg_val:{$avg:"$valueField"}}}])
</b>
<b>Method 2: Calculate Average of Field by Group</b>
<b>db.collection.aggregate([{$group: {_id:"$groupField", avg_val:{$avg:"$valueField"}}}])</b>
The following examples show how to use each method with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", points: 30, rebounds: 8})
db.teams.insertOne({team: "Mavs", points: 30, rebounds: 12})
db.teams.insertOne({team: "Spurs", points: 20, rebounds: 7})
db.teams.insertOne({team: "Spurs", points: 25, rebounds: 5})
db.teams.insertOne({team: "Spurs", points: 25, rebounds: 9})</b>
<h3>Example 1: Calculate Average of Field</h3>
We can use the following code to calculate the average value of the <b>points</b> field:
<b>db.teams.aggregate([{$group: {_id:null, avg_val:{$avg:"$points"}}}])</b>
This query returns the following results:
<b>{ _id: null, avg_val: 26 } </b>
From the results we can see that the average value in the points field is <b>26</b>.
We can manually verify this is correct by calculating the average of the points values by hand:
Average of Points: (30 + 30 + 20 + 25 + 25) / 5 = <b>26</b>.
<h3>Example 2: Calculate Average of Field by Group</h3>
We can use the following code to calculate the average value of the <b>points</b> field, grouped by the <b>team</b> field:
<b>db.teams.aggregate([{$group: {_id:"$team", avg_val:{$avg:"$points"}}}])</b>
This query returns the following results:
<b>{ _id: 'Spurs', avg_val: 23.333333333333332 }
{ _id: 'Mavs', avg_val: 30 } </b>
From the results we can see:
The average points value for the Spurs is <b>23.33</b>.
The average points value for the Mavs is <b>30</b>.
<b>Note</b>: You can find the complete documentation for the <b>$avg</b> function  here .
<h2><span class="orange">MongoDB: How to Check if Field Exists</span></h2>
You can use the following methods to check if a field exists in a collection in MongoDB:
<b>Method 1: Check if Field Exists</b>
<b>db.myCollection.find({ "myField": { $exists: true } })</b>
This method checks if “myField” exists in the collection titled myCollection. If it does, it returns all documents that contain the field name. If it doesn’t, it returns nothing.
<b>Method 2: Check if Embedded Field Exists</b>
<b>db.myCollection.find({ "myField.embeddedField": { $exists: true } })</b>
This method checks if the field name “embeddedField” within the field “myField” exists in the collection titled myCollection. If it does, it returns all documents that contain the field name. If it doesn’t, it returns nothing.
The following examples show how to use each method in practice with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", class: {conf:"Western", div:"A"}, points: 31})
db.teams.insertOne({team: "Spurs", class: {conf:"Western", div:"A"}, points: 22})
db.teams.insertOne({team: "Jazz", class: {conf:"Western", div:"B"}, points: 19})
db.teams.insertOne({team: "Celtics", class: {conf:"Eastern", div:"C"}, points: 26})</b>
<h3>Example 1: Check if Field Exists</h3>
The following code shows how to check if the field name “points” exists in the teams collection:
<b>db.teams.find({ "points": { $exists: true } })</b>
This query returns the following documents:
<b>{ _id: ObjectId("6203d10c1e95a9885e1e7637"),
  team: 'Mavs',
  class: { conf: 'Western', div: 'A' },
  points: 31 }
{ _id: ObjectId("6203d10c1e95a9885e1e7638"),
  team: 'Spurs',
  class: { conf: 'Western', div: 'A' },
  points: 22 }
{ _id: ObjectId("6203d10c1e95a9885e1e7639"),
  team: 'Jazz',
  class: { conf: 'Western', div: 'B' },
  points: 19 }
{ _id: ObjectId("6203d10c1e95a9885e1e763a"),
  team: 'Celtics',
  class: { conf: 'Eastern', div: 'C' },
  points: 26 } </b>
Since the field name “points” exists, every document that contains the “points” field is returned.
Suppose we instead check if the field name “steals” exists in the teams collection:
<b>db.teams.find({ "steals": { $exists: true } })</b>
Since this field doesn’t exist, no output is returned.
<h3>Example 2: Check if Embedded Field Exists</h3>
The following code shows how to check if the embedded field name “div” exists within the field “class” in the teams collection:
<b>db.teams.find({ "class.div": { $exists: true } })</b>
This query returns the following documents:
<b>{ _id: ObjectId("6203d10c1e95a9885e1e7637"),
  team: 'Mavs',
  class: { conf: 'Western', div: 'A' },
  points: 31 }
{ _id: ObjectId("6203d10c1e95a9885e1e7638"),
  team: 'Spurs',
  class: { conf: 'Western', div: 'A' },
  points: 22 }
{ _id: ObjectId("6203d10c1e95a9885e1e7639"),
  team: 'Jazz',
  class: { conf: 'Western', div: 'B' },
  points: 19 }
{ _id: ObjectId("6203d10c1e95a9885e1e763a"),
  team: 'Celtics',
  class: { conf: 'Eastern', div: 'C' },
  points: 26 } </b>
Since the embedded field name “div” exists in the “class” field, every document that contains the “div” embedded field is returned.
Suppose we instead check if the embedded field name “division” exists within the field “class” in the teams collection:
<b>db.teams.find({ "class.division": { $exists: true } })</b>
Since this embedded field doesn’t exist, no output is returned.
<b>Note</b>: You can find the complete documentation for the <b>$exists </b>function  here .
<h2><span class="orange">MongoDB: How to Concatenate Strings from Two Fields</span></h2>
You can use the following syntax to concatenate strings from two fields into a new field in MongoDB:
<b>db.myCollection.aggregate([
  { $project: { newfield: { $concat: [ "$field1", " - ", "$field2" ] } } },
  { $merge: "myCollection" }
])
</b>
This particular example concatenates the strings from “field1” and “field2” into a new field titled “newfield” and adds the new field to the collection titled myCollection.
The following example shows how to use this syntax in practice with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", conference: "Western", points: 31})
db.teams.insertOne({team: "Spurs", conference: "Western", points: 22})
db.teams.insertOne({team: "Rockets", conference: "Western", points: 19})
db.teams.insertOne({team: "Celtics", conference: "Eastern", points: 26})
db.teams.insertOne({team: "Cavs", conference: "Eastern", points: 33})
db.teams.insertOne({team: "Nets", conference: "Eastern", points: 38})</b>
<h3>Example: Concatenate Strings in MongoDB</h3>
We can use the following code to concatenate the strings from the “team” field and the “conference” field into a new field titled “teamConf” and add this field to the teams collection:
<b>db.teams.aggregate([
  { $project: { teamConf: { $concat: [ "$team", " - ", "$conference" ] } } },
  { $merge: "teams" }
])</b>
Here’s what the updated collection now looks like:
<b>{ _id: ObjectId("62013d8c4cb04b772fd7a90c"),
  team: 'Mavs',
  conference: 'Western',
  points: 31,
  teamConf: 'Mavs - Western' }
{ _id: ObjectId("62013d8c4cb04b772fd7a90d"),
  team: 'Spurs',
  conference: 'Western',
  points: 22,
  teamConf: 'Spurs - Western' }
{ _id: ObjectId("62013d8c4cb04b772fd7a90e"),
  team: 'Rockets',
  conference: 'Western',
  points: 19,
  teamConf: 'Rockets - Western' }
{ _id: ObjectId("62013d8c4cb04b772fd7a90f"),
  team: 'Celtics',
  conference: 'Eastern',
  points: 26,
  teamConf: 'Celtics - Eastern' }
{ _id: ObjectId("62013d8c4cb04b772fd7a910"),
  team: 'Cavs',
  conference: 'Eastern',
  points: 33,
  teamConf: 'Cavs - Eastern' }
{ _id: ObjectId("62013d8c4cb04b772fd7a911"),
  team: 'Nets',
  conference: 'Eastern',
  points: 38,
  teamConf: 'Nets - Eastern' } </b>
Notice that every document has a new field titled “teamConf” that contains the concatenation of the “team” and “conference” fields.
For this particular example we chose to concatenate the two strings together using a dash as a separator.
However, we could choose to concatenate the two strings without any separator value in between them.
The following code shows how to do so:
<b>db.teams.aggregate([
  { $project: { teamConf: { $concat: [ "$team", "$conference" ] } } },
  { $merge: "teams" }
])</b>
Here’s what the updated collection would look like:
<b>{ _id: ObjectId("62013d8c4cb04b772fd7a90c"),
  team: 'Mavs',
  conference: 'Western',
  points: 31,
  teamConf: 'MavsWestern' }
{ _id: ObjectId("62013d8c4cb04b772fd7a90d"),
  team: 'Spurs',
  conference: 'Western',
  points: 22,
  teamConf: 'SpursWestern' }
{ _id: ObjectId("62013d8c4cb04b772fd7a90e"),
  team: 'Rockets',
  conference: 'Western',
  points: 19,
  teamConf: 'RocketWestern' }
{ _id: ObjectId("62013d8c4cb04b772fd7a90f"),
  team: 'Celtics',
  conference: 'Eastern',
  points: 26,
  teamConf: 'CelticsEastern' }
{ _id: ObjectId("62013d8c4cb04b772fd7a910"),
  team: 'Cavs',
  conference: 'Eastern',
  points: 33,
  teamConf: 'CavsEastern' }
{ _id: ObjectId("62013d8c4cb04b772fd7a911"),
  team: 'Nets',
  conference: 'Eastern',
  points: 38,
  teamConf: 'NetsEastern' } </b>
Notice that the new field titled “teamConf” contains the concatenation of the “team” and “conference” fields without any separator values between them.
<b>Note</b>: You can find the complete documentation for the <b>$concat </b>function  here .
<h2><span class="orange">MongoDB: How to Check if Field Contains a String</span></h2>
You can use the following syntax in MongoDB to check if a certain field contains a specific string:
<b>db.collection.findOne({name: {$regex : /string/}})</b>
The following examples show how to use this syntax with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", position: "Guard", points: 31})</b>
<b>db.teams.insertOne({team: "Spurs", position: "Guard", points: 22})</b>
<b>db.teams.insertOne({team: "Rockets", position: "Center", points: 19})</b>
<b>db.teams.insertOne({team: "Warriors", position: "Forward", points: 26})</b>
<b>db.teams.insertOne({team: "Cavs", position: "Guard", points: 33})</b>
<h3>Example 1: Check if Field Contains String</h3>
We can use the following code to check if there is any document that contains the string ‘avs’ in the team field:
<b>db.teams.findOne({team: {$regex : /avs/}}) 
</b>
This query returns the following document:
<b>{ _id: ObjectId("618050098ffcfe76d07b1da5"),
  team: 'Mavs',
  position: 'Guard',
  points: 31 }
</b>
Note that the  findOne()  function returns the first document in a collection that satisfies the query criteria.
This means that other teams may also have the string ‘avs’ in their team name, but the document containing the team name ‘Mavs’ was simply the first.
<h3>Example 2: Check if Field Contains String (Case-Insensitive)</h3>
We can also use an i after the string to perform a <b>case-insensitive</b> match.
For example, suppose we use the following query:
<b>db.teams.findOne({team: {$regex : /AVS/i}}) 
</b>
This query also returns the following document:
<b>{ _id: ObjectId("618050098ffcfe76d07b1da5"),
  team: 'Mavs',
  position: 'Guard',
  points: 31 }
</b>
<h3>Example 3: Check if Field Contains String (No Result)</h3>
If a field does not contain the specific string we searched for, we will simply receive <b>null</b> as a result.
For example, suppose we use the following query:
<b>db.teams.findOne({team: {$regex : /ricks/}}) </b>
This query returns the following result:
<b>null</b>
Since no document contains the string ‘ricks’ in the team name, we receive <b>null</b> as a result.
<b>Note</b>: You can find the complete documentation for <b>$regex</b>  here .
<h2><span class="orange">MongoDB: How to Count Distinct Values in Field</span></h2>
You can use the following methods to count the distinct values in a specific field in MongoDB:
<b>Method 1: Find List of Distinct Values</b>
<b>db.collection.distinct('field_name')</b>
<b>Method 2: Find Count of Distinct Values</b>
<b>db.collection.distinct('field_name').length</b>
The following examples show how to use each method with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", position: "Guard", points: 31})</b>
<b>db.teams.insertOne({team: "Mavs", position: "Guard", points: 22})</b>
<b>db.teams.insertOne({team: "Rockets", position: "Center", points: 19})</b>
<b>db.teams.insertOne({team: "Rockets", position: "Forward", points: 26})</b>
<b>db.teams.insertOne({team: "Cavs", position: "Guard", points: 33})</b>
<h3>Example 1: Find List of Distinct Values</h3>
We can use the following code to find a list of distinct values in the “team” field:
<b>db.teams.distinct('team')
</b>
This query returns the following result:
<b>[ 'Cavs', 'Mavs', 'Rockets' ]</b>
The output shows the three distinct team names from all of the documents.
We could also use the following code to find a list of distinct values in the “position” field:
<b>db.teams.distinct('position')
</b>
This query returns the following result:
<b>[ 'Center', 'Forward', 'Guard' ]</b>
<b>Note</b>: MongoDB sorts the distinct values in alphabetical order by default.
<h3>Example 2: Find Count of Unique Values</h3>
We can use the following code to count the number of distinct values in the “team” field:
<b>db.teams.distinct('team').length</b>
This query returns the following result:
<b>3
</b>
This tells us that there are <b>3</b> distinct values in the “team” field.
We can also use the following code to count the number of unique values in the “points” field:
<b>db.teams.distinct('points').length</b>
This query returns the following result:
<b>5</b>
This tells us that there are <b>5</b> distinct values in the “points” field.
<b>Note</b>: You can find the complete documentation for the <b>distinct</b> function  here .
<h2><span class="orange">MongoDB: How to Select Distinct Values from Multiple Fields</span></h2>
You can use the following syntax to select distinct values from multiple fields in MongoDB:
<b>db.collection.aggregate( 
            [
                {$group: { "_id": { field1: "$field1", field2: "$field2" } } }
            ]
        )</b>
The following examples show how to use this syntax with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", position: "Guard", points: 31})</b>
<b>db.teams.insertOne({team: "Mavs", position: "Guard", points: 22})</b>
<b>db.teams.insertOne({team: "Rockets", position: "Center", points: 19})</b>
<b>db.teams.insertOne({team: "Rockets", position: "Forward", points: 26})
db.teams.insertOne({team: "Rockets", position: "Forward", points: 29})</b> 
<b>db.teams.insertOne({team: "Cavs", position: "Guard", points: 33})</b>
<h3>Example: Select Distinct Values from Multiple Fields</h3>
We can use the following query to find all of the distinct values from the team and position fields:
<b>db.teams.aggregate( 
            [
                {$group: { "_id": { team: "$team", position: "$position" } } }
            ]
        )
</b>
This query returns the following documents:
<b>{ _id: { team: 'Mavs', position: 'Guard' } }
{ _id: { team: 'Rockets', position: 'Forward' } }
{ _id: { team: 'Rockets', position: 'Center' } }
{ _id: { team: 'Cavs', position: 'Guard' } }</b>
And we can use the following query to find all of the distinct values from the team, position, and points fields:
<b>db.teams.aggregate( 
        [
          {$group: {"_id": {team: "$team", position: "$position", points: "$points"}}}
        ]
    )
</b>
This query returns the following documents:
<b>{ _id: { team: 'Cavs', position: 'Guard', points: 33 } }
{ _id: { team: 'Rockets', position: 'Forward', points: 29 } }
{ _id: { team: 'Mavs', position: 'Guard', points: 22 } }
{ _id: { team: 'Rockets', position: 'Forward', points: 26 } }
{ _id: { team: 'Mavs', position: 'Guard', points: 31 } }
{ _id: { team: 'Rockets', position: 'Center', points: 19 } }</b>
Notice that all of the documents are returned since there are no two documents that have identical values for the team, position, <em>and</em> points fields.
<h2><span class="orange">How to Find Duplicates in MongoDB</span></h2>
You can use the following syntax to find documents with duplicate values in MongoDB:
<b>db.collection.aggregate([
    {"$group" : { "_id": "$field1", "count": { "$sum": 1 } } },
    {"$match": {"_id" :{ "$ne" : null } , "count" : {"$gt": 1} } }, 
    {"$project": {"name" : "$_id", "_id" : 0} }
])
</b>
Here’s what this syntax does:
<b>Group</b> all documents having the same value in field1
<b>Match</b> the groups that have more than one document
<b>Project</b> all groups that have more than one document
This particular query finds duplicate values in the <b>field1</b> column. Simply change this value to change the field to look in.
The following example shows how to use this syntax with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", position: "Guard", points: 31})</b>
<b>db.teams.insertOne({team: "Mavs", position: "Guard", points: 22})</b>
<b>db.teams.insertOne({team: "Rockets", position: "Center", points: 19})</b>
<b>db.teams.insertOne({team: "Rockets", position: "Forward", points: 26})</b>
<b>db.teams.insertOne({team: "Cavs", position: "Guard", points: 33})</b>
<h3>Example: Find Documents with Duplicate Values</h3>
We can use the following code to find all of the duplicate values in the ‘team’ column:
<b>db.teams.aggregate([
    {"$group" : { "_id": "$team", "count": { "$sum": 1 } } },
    {"$match": {"_id" :{ "$ne" : null } , "count" : {"$gt": 1} } }, 
    {"$project": {"name" : "$_id", "_id" : 0} }
])</b>
This query returns the following results:
<b>{ name: 'Rockets' }
{ name: 'Mavs' }</b>
This tells us that the values ‘Rockets’ and ‘Mavs’ occur multiple times in the ‘team’ field.
Note that we can simply change <b>$team</b> to <b>$position</b> to instead search for duplicate values in the ‘position’ field:
<b>db.teams.aggregate([
    {"$group" : { "_id": "$position", "count": { "$sum": 1 } } },
    {"$match": {"_id" :{ "$ne" : null } , "count" : {"$gt": 1} } }, 
    {"$project": {"name" : "$_id", "_id" : 0} }
])</b>
This query returns the following results:
<b>{ name: 'Guard' }
</b>
This tells us that ‘Guard’ occurs multiple times in the ‘position’ field.
<h2><span class="orange">MongoDB: How to Use Greater Than & Less Than in Queries</span></h2>
You can use the following operators in MongoDB to perform greater than or less than queries:
<b>$lt</b>: Less than
<b>$lte</b>: Less than or equal
<b>$gt</b>: Greater than
<b>$gte</b>: Greater than or equal
The following methods show common ways to use these operators:
<b>Method 1: Greater Than Query</b>
<b>db.myCollection.find({field1: {$gt:25}})</b>
<b>Method 2: Less Than Query</b>
<b>db.myCollection.find({field1: {$lt:25}})</b>
<b>Method 3: Greater Than <em>and</em> Less Than Query</b>
<b>db.myCollection.find({field1: {$gt:25, $lt:32}})</b>
<b>Method 4: Greater Than <i>or </i>Less Than Query</b>
<b>db.myCollection.find({ "$or": [ {"field1": {$gt: 30}}, {"field1": {$lt: 20}} ] })</b>
The following examples show how to use each method in practice with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", points: 31})
db.teams.insertOne({team: "Spurs", points: 22})
db.teams.insertOne({team: "Rockets", points: 19})
db.teams.insertOne({team: "Warriors", points: 26})
db.teams.insertOne({team: "Cavs", points: 33})</b>
<h3>Example 1: Greater Than Query</h3>
The following code shows how to query for all documents where the value in the “points” field is greater than 25:
<b>db.teams.find({points: {$gt:25}})</b>
This query returns the following documents:
<b>{ _id: ObjectId("6203e4a91e95a9885e1e764f"),
  team: 'Mavs',
  points: 31 }
{ _id: ObjectId("6203e4a91e95a9885e1e7652"),
  team: 'Warriors',
  points: 26 }
{ _id: ObjectId("6203e4a91e95a9885e1e7653"),
  team: 'Cavs',
  points: 33 } </b>
Notice that each of the three documents in the output have a value in the “points” field greater than 25.
<h3>Example 2: Less Than Query</h3>
The following code shows how to query for all documents where the value in the “points” field is less than 25:
<b>db.teams.find({points: {$lt:25}})</b>
This query returns the following documents:
<b>{ _id: ObjectId("6203e4a91e95a9885e1e7650"),
  team: 'Spurs',
  points: 22 }
{ _id: ObjectId("6203e4a91e95a9885e1e7651"),
  team: 'Rockets',
  points: 19 } </b>
Notice that both of the documents in the output have a value in the “points” field less than 25.
<h3>Example 3: Greater Than <em>and</em> Less Than</h3>
The following code shows how to query for all documents where the value in the “points” field is greater than 25 <em>and</em> less than 32:
<b>db.teams.find({points: {$gt:25, $lt:32}})</b>
This query returns the following documents:
<b>{ _id: ObjectId("6203e4a91e95a9885e1e764f"),
  team: 'Mavs',
  points: 31 }
{ _id: ObjectId("6203e4a91e95a9885e1e7652"),
  team: 'Warriors',
  points: 26 } </b>
Notice that both of the documents in the output have a value in the “points” field greater than 25 <em>and</em> less than 32.
<h3>Example 4: Greater Than <i>or </i>Less Than</h3>
The following code shows how to query for all documents where the value in the “points” field is greater than 30 <em>or</em> less than 20:
<b>db.teams.find({ "$or": [ {"points": {$gt: 30}}, {"points": {$lt: 20}} ] })</b>
This query returns the following documents:
<b>{ _id: ObjectId("6203e4a91e95a9885e1e764f"),
  team: 'Mavs',
  points: 31 }
{ _id: ObjectId("6203e4a91e95a9885e1e7651"),
  team: 'Rockets',
  points: 19 }
{ _id: ObjectId("6203e4a91e95a9885e1e7653"),
  team: 'Cavs',
  points: 33 } </b>
Notice that each of the documents in the output have a value in the “points” field greater than 30 <em>or</em> less than 20.
<h2><span class="orange">MongoDB: How to Group By and Count</span></h2>
You can use the following syntax to group by and count in MongoDB:
<b>db.collection.aggregate([
    {$group : {_id:"$field_name", count:{$sum:1}}}
])</b>
Note that field_name is the field you’d like to group by.
The following examples show how to use this syntax with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", position: "Guard", points: 31})</b>
<b>db.teams.insertOne({team: "Spurs", position: "Guard", points: 22})</b>
<b>db.teams.insertOne({team: "Rockets", position: "Center", points: 19})</b>
<b>db.teams.insertOne({team: "Warriors", position: "Forward", points: 26})</b>
<b>db.teams.insertOne({team: "Cavs", position: "Guard", points: 33})</b>
<h3>Example 1: Group By and Count</h3>
We can use the following code to group by the ‘position’ field and count the occurrences of each position.
<b>db.teams.aggregate([
    {$group : {_id:"$position", count:{$sum:1}}}
])
</b>
This returns the following results:
<b>{ _id: 'Forward', count: 1 }
{ _id: 'Guard', count: 3 }
{ _id: 'Center', count: 1 }</b>
This tells us:
The position ‘Forward’ occurs <b>1</b> time.
The position ‘Guard’ occurs <b>3</b> times.
The position ‘Center’ occurs <b>1</b> time.
<h3>Example 2: Group By and Count (Then Sort)</h3>
We can use the following code to count the occurrences of each position and automatically sort the results in <b>ascending order</b>:
<b>db.teams.aggregate([
    {$group : {_id:"$position", count:{$sum:1}}},
    {$sort: {count:1}} 
])
</b>
This returns the following results:
<b>{ _id: 'Forward', count: 1 }
{ _id: 'Center', count: 1 }
{ _id: 'Guard', count: 3 }
</b>
We can use <b>-1</b> in the count argument to instead sort the results in <b>descending order</b>:
<b>db.teams.aggregate([
    {$group : {_id:"$position", count:{$sum:1}}},
    {$sort: {count:-1}} 
])
</b>
This returns the following results:
<b>{ _id: 'Guard', count: 3 }
{ _id: 'Forward', count: 1 }
{ _id: 'Center', count: 1 }</b>
<b>Note</b>: You can find the complete documentation for <b>$group </b> here .
<h2><span class="orange">MongoDB: How to Group by Date</span></h2>
You can use the following syntax to group documents by date in MongoDB:
<b>db.collection.aggregate([
  {$group:{ _id:{$dateToString:{format: "%Y-%m-%d", date: "$day"}}, count:{ $sum: 1}}}
])</b>
Note that day is the name of the date field that we’d like to group by in this example.
The following examples show how to use this syntax with a collection sales with the following documents:
<b>db.sales.insertOne({day: new Date("2020-01-20"), amount: 40})
db.sales.insertOne({day: new Date("2020-01-21"), amount: 32})
db.sales.insertOne({day: new Date("2020-01-22"), amount: 19})
db.sales.insertOne({day: new Date("2020-01-23"), amount: 29})
db.sales.insertOne({day: new Date("2020-01-24"), amount: 35})</b>
<h3>Example 1: Group by Date & Count</h3>
We can use the following code to count the number of documents, grouped by date:
<b>db.sales.aggregate([
  {$group:{ _id:{$dateToString:{format: "%Y-%m-%d", date: "$day"}}, count:{ $sum: 1}}}
]) 
</b>
This query returns the following results:
<b>{ _id: '2020-01-20', count: 2 }
{ _id: '2020-01-22', count: 1 }
{ _id: '2020-01-21', count: 2 } </b>
From the results we can see:
 The date 2020-01-20 occurs <b>2</b> times.
 The date 2020-01-22 occurs <b>1</b> time.
 The date 2020-01-21 occurs <b>2</b> times.
<h3>
<b>Example 2: Group by Date & Count (Then Sort)</b>
</h3>
We can use the following code to count the number of documents, grouped by date, and sort the results based on count <b>ascending</b>:
<b>db.sales.aggregate([
  {$group:{_id:{$dateToString:{format: "%Y-%m-%d", date: "$day"}}, count:{ $sum: 1}}},
  {$sort: {count:1}} 
]) </b>
This query returns the following results:
<b>{ _id: '2020-01-22', count: 1 }
{ _id: '2020-01-20', count: 2 }
{ _id: '2020-01-21', count: 2 } </b>
To instead sort by count <b>descending</b>, we can use <b>-1</b> in the sort statement:
<b>db.sales.aggregate([
  {$group:{_id:{$dateToString:{format: "%Y-%m-%d", date: "$day"}}, count:{ $sum: 1}}},
  {$sort: {count:-1}} 
]) </b>
This query returns the following results:
<b>{ _id: '2020-01-20', count: 2 }
{ _id: '2020-01-21', count: 2 }
{ _id: '2020-01-22', count: 1 } </b>
<b>Note</b>: You can find the complete documentation for the <b>sort</b> function  here .
<h2><span class="orange">MongoDB: How to Group By Multiple Fields</span></h2>
You can use the following syntax to group by multiple fields and perform some aggregation in MongoDB:
<b>db.collection.aggregate([
    {$group : {_id:{field1:"$field1", field2:"$field2"}, count:{$sum:1}}}
])
</b>
The following examples show how to use this syntax with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", position: "Guard", points: 31})</b>
<b>db.teams.insertOne({team: "Mavs", position: "Guard", points: 22})</b>
<b>db.teams.insertOne({team: "Mavs", position: "Forward", points: 19})</b>
<b>db.teams.insertOne({team: "Rockets", position: "Guard", points: 26})</b>
<b>db.teams.insertOne({team: "Rockets", position: "Forward", points: 33})</b>
<h3>Example 1: Group By Multiple Fields & Aggregate</h3>
We can use the following code to group by ‘team’ and ‘position’ and count the occurrences of each grouping:
<b>db.teams.aggregate([
    {$group : {_id:{team:"$team", position:"$position"}, count:{$sum:1}}}
])</b>
This returns the following results:
<b>{ _id: { team: 'Rockets', position: 'Forward' }, count: 1 }
{ _id: { team: 'Mavs', position: 'Guard' }, count: 2 }
{ _id: { team: 'Mavs', position: 'Forward' }, count: 1 }
{ _id: { team: 'Rockets', position: 'Guard' }, count: 1 }</b>
We could also perform a different aggregation. For example, we could group by ‘team’ and position’ and find the sum of ‘points’ by grouping:
<b>db.teams.aggregate([
    {$group : {_id:{team:"$team", position:"$position"}, sumPoints:{$sum:"$points"}}}
])</b>
This returns the following results:
<b>{ _id: { team: 'Rockets', position: 'Forward' }, sumPoints: 33 }
{ _id: { team: 'Mavs', position: 'Guard' }, sumPoints: 53 }
{ _id: { team: 'Mavs', position: 'Forward' }, sumPoints: 19 }
{ _id: { team: 'Rockets', position: 'Guard' }, sumPoints: 26 }</b>
This tells us:
The sum of points scored by players on the ‘Rockets’ in position ‘Forward’ is <b>33</b>.
The sum of points scored by players on the ‘Mavs’ in position ‘Guard’ is <b>53</b>.
And so on.
<h3>
<b>Example 2: Group By Multiple Fields & Aggregate (Then Sort)</b>
</h3>
We can use the following code to group by ‘team’ and position’ and find the sum of ‘points’ by grouping, then sort the results by ‘points’ in <b>ascending order</b>:
<b>db.teams.aggregate([
    {$group : {_id:{team:"$team", position:"$position"}, sumPoints:{$sum:"$points"}}},
    {$sort : {sumPoints:1}}
])
</b>
This returns the following results:
<b>{ _id: { team: 'Mavs', position: 'Forward' }, sumPoints: 19 }
{ _id: { team: 'Rockets', position: 'Guard' }, sumPoints: 26 }
{ _id: { team: 'Rockets', position: 'Forward' }, sumPoints: 33 }
{ _id: { team: 'Mavs', position: 'Guard' }, sumPoints: 53 }
</b>
We can use <b>-1</b> to instead sort the results by points in <b>descending order</b>:
<b>db.teams.aggregate([
    {$group : {_id:{team:"$team", position:"$position"}, sumPoints:{$sum:"$points"}}},
    {$sort : {sumPoints:-1}}
])
</b>
This returns the following results:
<b>{ _id: { team: 'Mavs', position: 'Guard' }, sumPoints: 53 }
{ _id: { team: 'Rockets', position: 'Forward' }, sumPoints: 33 }
{ _id: { team: 'Rockets', position: 'Guard' }, sumPoints: 26 }
{ _id: { team: 'Mavs', position: 'Forward' }, sumPoints: 19 }</b>
<b>Note</b>: You can find the complete documentation for <b>$group </b> here .
<h2><span class="orange">MongoDB: How to Group By and Sum</span></h2>
You can use the following syntax to group by and count in MongoDB:
<b>db.collection.aggregate([
    {$group : {_id:"$field_name1", count:{$sum:"$field_name2"}}}
])</b>
Note that field_name1 is the field you’d like to group by and field_name2 is the field you’d like to sum.
The following examples show how to use this syntax with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", position: "Guard", points: 31})</b>
<b>db.teams.insertOne({team: "Spurs", position: "Forward", points: 22})</b>
<b>db.teams.insertOne({team: "Rockets", position: "Center", points: 19})</b>
<b>db.teams.insertOne({team: "Warriors", position: "Forward", points: 26})</b>
<b>db.teams.insertOne({team: "Cavs", position: "Guard", points: 33})</b>
<h3>Example 1: Group By and Sum</h3>
We can use the following code to group by the ‘position’ field and count the sum of points for each position.
<b>db.teams.aggregate([
    {$group : {_id:"$position", count:{$sum:"$points"}}}
])
</b>
This returns the following results:
<b>{ _id: 'Forward', count: 48 }
{ _id: 'Guard', count: 64 }
{ _id: 'Center', count: 19 }</b>
This tells us:
The players with position ‘Forward’ have a total of <b>48</b> points.
The players with position ‘Guard’ have a total of <b>64 </b>points.
The players with position ‘Center’ have a total of <b>19 </b>points.
<h3>Example 2: Group By and Sum (Then Sort)</h3>
We can use the following code to find the sum of points for each position and automatically sort the results in <b>ascending order</b>:
<b>db.teams.aggregate([
    {$group : {_id:"$position", count:{$sum:"$points"}}},
    {$sort: {count:1}} 
])
</b>
This returns the following results:
<b>{ _id: 'Center', count: 19 }
{ _id: 'Forward', count: 48 }
{ _id: 'Guard', count: 64 }</b>
The results are sorted by points in <b>ascending order</b> (smallest to largest).
We can use <b>-1</b> in the count argument to instead sort the results in <b>descending order</b>:
<b>db.teams.aggregate([
    {$group : {_id:"$position", count:{$sum:"$points"}}},
    {$sort: {count:-1}} 
])
</b>
This returns the following results:
<b>{ _id: 'Guard', count: 64 }
{ _id: 'Forward', count: 48 }
{ _id: 'Center', count: 19 }</b>
Notice that the results are sorted by points in <b>descending order</b> (largest to smallest).
<b>Note</b>: You can find the complete documentation for <b>$group </b> here .
<h2><span class="orange">MongoDB: How to Find Document By id</span></h2>
You can use the following basic syntax to find a document by id in MongoDB:
<b>db.collection.find(ObjectId('619527e467d6742f66749b72'))</b>
The following examples show how to use this syntax with a collection teams with the following documents:
<b>{ _id: ObjectId("619527e467d6742f66749b70"),
  team: 'Rockets',
  position: 'Center',
  points: 19 }
{ _id: ObjectId("619527e467d6742f66749b71"),
  team: 'Rockets',
  position: 'Forward',
  points: 26 }
{ _id: ObjectId("619527e467d6742f66749b72"),
  team: 'Cavs',
  position: 'Guard',
  points: 33 }</b>
<h3>Example: Find Document by id</h3>
We can use the following code to find the document with a specific id in the teams collection:
<b>db.teams.find(ObjectId('619527e467d6742f66749b72'))</b>
This query returns the following document:
<b>{ _id: ObjectId("619527e467d6742f66749b72"),
  team: 'Cavs',
  position: 'Guard',
  points: 33 }</b>
We can change the id to find another document with a different id in the teams collection:
<b>db.teams.find(ObjectId('619527e467d6742f66749b71'))</b>
This query returns the following document:
<b>{ _id: ObjectId("619527e467d6742f66749b71"),
  team: 'Rockets',
  position: 'Forward',
  points: 26 }</b>
Note that if you query for a certain document with an id that doesn’t exist, no results will be returned.
<h2><span class="orange">MongoDB: How to Insert if Not Exists</span></h2>
You can use the following syntax to insert a document into a collection in MongoDB only if it doesn’t already exist:
<b>db.teams.update(
{
  team : 'Hornets'
}, 
 {
  $setOnInsert: {team: 'Hornets', points: '58', rebounds: '20'}
 },
 {upsert: true}
)
</b>
This particular code checks if the field “team” has a value of “Hornets.” If this value exists, then nothing will happen.
However, if this value does not exist then it will insert a document with specific values for the “team”, “points”, and “rebounds” fields.
The following example shows how to use this syntax in practice.
<h3>Example: Insert if Not Exists in MongoDB</h3>
Suppose we have a collection called teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", points: 30, rebounds: 8})
db.teams.insertOne({team: "Spurs", points: 35, rebounds: 12})
db.teams.insertOne({team: "Rockets", points: 20, rebounds: 7})
db.teams.insertOne({team: "Warriors", points: 25, rebounds: 5})
db.teams.insertOne({team: "Cavs", points: 23, rebounds: 9})</b>
Suppose we use the following code to attempt to insert a document for the team “Mavs”:
<b>db.teams.update(
{
  team : 'Mavs'
}, 
 {
  $setOnInsert: {team: 'Mavs', points: '58', rebounds: '20'}
 },
 {upsert: true}
)</b>
Since the field “team” already contains information for the “Mavs”, none of the documents will be modified.
However, suppose we use the following code to insert a document for the team “Hornets”:
<b>db.teams.update(
{
  team : 'Hornets'
}, 
 {
  $setOnInsert: {team: 'Hornets', points: '58', rebounds: '20'}
 },
 {upsert: true}
)</b>
Since the field “team” does not already contain information for the “Hornets”, a new document will be added to the collection with the values that we specified for each field.
Here’s what the updated collection looks like:
<b>{ _id: ObjectId("6203df361e95a9885e1e764a"),
  team: 'Mavs',
  points: 30,
  rebounds: 8 }
{ _id: ObjectId("6203df361e95a9885e1e764b"),
  team: 'Spurs',
  points: 35,
  rebounds: 12 }
{ _id: ObjectId("6203df361e95a9885e1e764c"),
  team: 'Rockets',
  points: 20,
  rebounds: 7 }
{ _id: ObjectId("6203df361e95a9885e1e764d"),
  team: 'Warriors',
  points: 25,
  rebounds: 5 }
{ _id: ObjectId("6203df361e95a9885e1e764e"),
  team: 'Cavs',
  points: 23,
  rebounds: 9 }
{ _id: ObjectId("6203e17de42bfba74fc73325"),
  team: 'Hornets',
  points: '58',
  rebounds: '20' }</b>
Notice that a new document has been added for the “Hornets” team.
<b>Note</b>: You can find the complete documentation for the <b>$upsert </b>function  here .
<h2><span class="orange">MongoDB: How to Query with “Like” Regex</span></h2>
You can use the following methods to perform a query in MongoDB with “like” regex:
<b>Method 1: Find Documents that Contain String</b>
<b>db.collection.find({name: {$regex : /string/i}})
</b>
Note that the i indicates a case-insensitive match.
<b>Method 2: Find Documents that Start with String</b>
<b>db.collection.find({name: {$regex : /^string/i}}) 
</b>
<b>Method 3: Find Documents that End with String</b>
<b>db.collection.find({name: {$regex : /string$/i}}) 
</b>
The following examples show how to use each method with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", position: "Guard", points: 31})</b>
<b>db.teams.insertOne({team: "Spurs", position: "Guard", points: 22})</b>
<b>db.teams.insertOne({team: "Rockets", position: "Center", points: 19})</b>
<b>db.teams.insertOne({team: "Warriors", position: "Forward", points: 26})</b>
<b>db.teams.insertOne({team: "Cavs", position: "Guard", points: 33})</b>
<h3>Example 1: Find Documents that Contain String</h3>
We can use the following code to find all documents that contain the string ‘avs’ in the team field:
<b>db.teams.find({team: {$regex : /avs/i}})</b>
This query returns the following two documents:
<b>{ _id: ObjectId("618050098ffcfe76d07b1da5"),
  team: 'Mavs',
  position: 'Guard',
  points: 31 }
{ _id: ObjectId("618285361a42e92ac9ccd2c6"),
  team: 'Cavs',
  position: 'Guard',
  points: 33 }</b>
<h3>Example 2: Find Documents that Start with String</h3>
We can use the following code to find all documents that start with the string ‘gua’ in the position field:
<b>db.teams.find({position: {$regex : /^gua/i}})</b>
This query returns the following three documents:
<b>{ _id: ObjectId("618050098ffcfe76d07b1da5"),
  team: 'Mavs',
  position: 'Guard',
  points: 31 }
{ _id: ObjectId("6180504e8ffcfe76d07b1da7"),
  team: 'Spurs',
  position: 'Guard',
  points: 22 }
{ _id: ObjectId("618285361a42e92ac9ccd2c6"),
  team: 'Cavs',
  position: 'Guard',
  points: 33 }</b>
<h3>Example 3: Find Documents that End with String</h3>
We can use the following code to find all documents that end with the string ‘ward’ in the position field:
<b>db.teams.find({position: {$regex : /ward$/i}})</b>
This query returns the following document:
<b>{ _id: ObjectId("618050808ffcfe76d07b1dab"),
  team: 'Warriors',
  position: 'Forward',
  points: 26 }</b>
<b>Note</b>: You can find the complete documentation for <b>$regex</b>  here .
<h2><span class="orange">MongoDB: How to List All Field Names</span></h2>
You can use the following syntax to list all field names in a collection in MongoDB:
<b>Object.keys(db.myCollection.findOne())
</b>
This particular example lists every field name in a collection titled myCollection.
The following example shows how to use this syntax in practice with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", points: 30, rebounds: 8, assists: 2})
db.teams.insertOne({team: "Mavs", points: 35, rebounds: 12, assists: 6})
db.teams.insertOne({team: "Spurs", points: 20, rebounds: 7, assists: 8})
db.teams.insertOne({team: "Spurs", points: 25, rebounds: 5, assists: 9})
db.teams.insertOne({team: "Spurs", points: 23, rebounds: 9, assists: 4})
</b>
<h3>Example: List All Field Names in MongoDB</h3>
The following code shows how to list all field names in the teams collection:
<b>Object.keys(db.teams.findOne())</b>
This query returns the following documents:
<b>[ '_id', 'team', 'points', 'rebounds', 'assists' ] </b>
Notice that the list of field names also includes the <b>_id</b> field, which MongoDB automatically generates for each document.
<b>Note</b>: To list the field names in another collection, simply change the teams name to another name.
<h2><span class="orange">MongoDB: How to Find the Max Value in a Collection</span></h2>
You can use the following methods to find the max value of a field in MongoDB:
<b>Method 1: Return Document that Contains Max Value</b>
<b>db.teams.find().sort({"field":-1}).limit(1)
</b>
This chunk of code sorts every document in the collection in descending order based on a specific field and then returns only the first document.
<b>Method 2: Return Only the Max Value</b>
<b>db.teams.find().sort({"field":-1}).limit(1).toArray().map(function(u){return u.field})
</b>
The following examples show how to use each method with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", position: "Guard", points: 31})</b>
<b>db.teams.insertOne({team: "Spurs", position: "Guard", points: 22})</b>
<b>db.teams.insertOne({team: "Rockets", position: "Center", points: 19})</b>
<b>db.teams.insertOne({team: "Warriors", position: "Forward", points: 26})</b>
<b>db.teams.insertOne({team: "Cavs", position: "Guard", points: 33})</b>
<h3>Example 1: Return Document that Contains Max Value</h3>
We can use the following code to return the document that contains the max value in the “points” field:
<b>db.teams.find().sort({"points":-1}).limit(1) 
</b>
This query returns the following document:
<b>{ _id: ObjectId("618285361a42e92ac9ccd2c6"),
  team: 'Cavs',
  position: 'Guard',
  points: 33 }</b>
This document is returned because it contains the highest value (33) in the “points” field out of all of the documents.
<h3>Example 2: Return Only the Max Value</h3>
We can use the following code to return just the max value in the “points” field out of all of the documents:
<b>db.teams.find().sort({"points":-1}).limit(1).toArray().map(function(u){return u.points}) </b>
This query returns the following result:
<b>[ 33 ] </b>
Notice that only the max value itself (33) is returned instead of the entire document that contains the max value.
<h2><span class="orange">How to Calculate the Median Value in MongoDB</span></h2>
You can use the following syntax to calculate the median value in MongoDB:
<b>db.teams.find().sort( {"points":1} ).skip(db.teams.count() / 2).limit(1);
</b>
Note that in this example we calculate the median value of the points field for the collection named teams.
The following example shows how to use this syntax with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", position: "Guard", points: 31})</b>
<b>db.teams.insertOne({team: "Spurs", position: "Forward", points: 22})</b>
<b>db.teams.insertOne({team: "Rockets", position: "Center", points: 19})</b>
<b>db.teams.insertOne({team: "Warriors", position: "Forward", points: 26})</b>
<b>db.teams.insertOne({team: "Cavs", position: "Guard", points: 33})</b>
<h3>Example: Calculate the Median Value in MongoDB</h3>
We can use the following code to calculate the median value of the ‘points’ field:
<b>db.teams.find().sort( {"points":1} ).skip(db.teams.count() / 2).limit(1);</b>
This returns the following result:
<b>{ _id: ObjectId("61f943e867f1c64a1afb2032"),
  team: 'Warriors',
  position: 'Forward',
  points: 26 }</b>
This tells us that the median value in the “points” field is <b>26</b>.
We can manually verify this by calculating the median value by hand.
We can see that we have the following values in the “points” column:
Points: 31, 22, 19, 26, 33
First, we can rearrange the values from smallest to largest:
Points: 19, 22, 26, 31, 33
Then the median value is simply the value in the middle, which is 26:
Points: 19, 22, <b>26</b>, 31, 33
This matches the value that we calculated using MongoDB.
<b>Note</b>: You can find the complete documentation for the <b>find() </b>function  here .
<h2><span class="orange">MongoDB: How to Use “Not Equal” in Queries</span></h2>
You can use the <b>$ne </b>operator (which stands for “not equal”) in MongoDB to query for documents where a field is not equal to a certain value.
This operator uses the following basic syntax:
<b>db.myCollection.find({'team': {$ne : "Mavs"}})</b>
This particular example finds all documents in the collection titled myCollection where the <b>team</b> field is not equal to “Mavs.”
You can also use the <b>$nin</b> operator (which stands for “not in”) to query for documents where a field is not equal to any value in a list.
This operator uses the following basic syntax:
<b>db.myCollection.find({'team': {$nin : ["Mavs", "Cavs", "Spurs"]}})</b>
This particular example finds all documents in the collection titled myCollection where the <b>team</b> field is not equal to “Mavs”, “Cavs”, or “Spurs.”
The following examples show how to use each method in practice with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", points: 30, rebounds: 8})
db.teams.insertOne({team: "Spurs", points: 35, rebounds: 12})
db.teams.insertOne({team: "Rockets", points: 20, rebounds: 7})
db.teams.insertOne({team: "Warriors", points: 25, rebounds: 5})
db.teams.insertOne({team: "Cavs", points: 23, rebounds: 9})</b>
<h3>Example 1: “Not Equal” Query</h3>
The following code shows how to find all documents in the teams collection where the “team” field is note equal to “Mavs”:
<b>db.teams.find({'team': {$ne : "Mavs"}})</b>
This query returns the following documents:
<b>{ _id: ObjectId("6203ec0e1e95a9885e1e7658"),
  team: 'Cavs',
  points: 23,
  rebounds: 9 }
{ _id: ObjectId("6203ec0e1e95a9885e1e7656"),
  team: 'Rockets',
  points: 20,
  rebounds: 7 }
{ _id: ObjectId("6203ec0e1e95a9885e1e7655"),
  team: 'Spurs',
  points: 35,
  rebounds: 12 }
{ _id: ObjectId("6203ec0e1e95a9885e1e7657"),
  team: 'Warriors',
  points: 25,
  rebounds: 5 } </b>
Notice that every document in the <b>teams</b> collection is returned where the <b>team</b> field is not equal to “Mavs.”
<b>Note</b>: The <b>$ne</b> operator is case-sensitive.
<h3>Example 2: “Not In” Query</h3>
The following code shows how to find all documents in the teams collection where the <b>team</b> field is not equal to “Mavs”, “Cavs”, or “Spurs”:
<b>db.teams.find({'team': {$nin : ["Mavs", "Cavs", "Spurs"]}})</b>
This query returns the following documents:
<b>{ _id: ObjectId("6203ec0e1e95a9885e1e7656"),
  team: 'Rockets',
  points: 20,
  rebounds: 7 }
{ _id: ObjectId("6203ec0e1e95a9885e1e7657"),
  team: 'Warriors',
  points: 25,
  rebounds: 5 } </b>
Notice that every document in the <b>teams</b> collection is returned where the <b>team</b> field is not equal to “Mavs”, “Cavs”, or “Spurs.”
<b>Note #1</b>: You can find the complete documentation for the <b>$ne </b>function  here .
<b>Note #2</b>: You can find the complete documentation for the <b>$nin </b>function  here .
<h2><span class="orange">MongoDB: How to Use a “NOT IN” Query</span></h2>
You can use the following syntax to query for all documents where the value for a particular field is not in a certain list of values:
<b>db.collection.find({field1: {$nin: ["value1", "value2", "value3"]}}) 
</b>
This particular query finds all documents where the value in <b>field1</b> is not equal to value1, value2, or value3.
The following examples show how to use this syntax in practice. 
<h3>Example 1: Query for “NOT IN” with One Value</h3>
Suppose we have a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", position: "Guard", points: 31})</b>
<b>db.teams.insertOne({team: "Spurs", position: "Guard", points: 22})</b>
<b>db.teams.insertOne({team: "Rockets", position: "Center", points: 19})</b>
<b>db.teams.insertOne({team: "Warriors", position: "Forward", points: 26})</b>
<b>db.teams.insertOne({team: "Cavs", position: "Guard", points: 33})</b>
We can use the following code to find all documents where the “team” field is not equal to the value “Rockets”:
<b>db.teams.find({team: {$nin: ["Rockets"]}}) 
</b>
This query returns the following documents:
<b>{ _id: ObjectId("619527e467d6742f66749b72"),
  team: 'Cavs',
  position: 'Guard',
  points: 33 }
{ _id: ObjectId("619527e467d6742f66749b6e"),
  team: 'Mavs',
  position: 'Guard',
  points: 31 }
{ _id: ObjectId("619527e467d6742f66749b6f"),
  team: 'Mavs',
  position: 'Guard',
  points: 22 }</b>
Notice that the only documents returned are the ones where the “team” field is not equal to “Rockets.”
<h3>Example 2: Query for “NOT IN” with List of Values</h3>
Suppose we have a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", position: "Guard", points: 31})</b>
<b>db.teams.insertOne({team: "Spurs", position: "Guard", points: 22})</b>
<b>db.teams.insertOne({team: "Rockets", position: "Center", points: 19})</b>
<b>db.teams.insertOne({team: "Warriors", position: "Forward", points: 26})</b>
<b>db.teams.insertOne({team: "Cavs", position: "Guard", points: 33})</b>
We can use the following code to find all documents where the “team” field is not equal to the value “Rockets” or “Cavs”:
<b>db.teams.find({team: {$nin: ["Rockets", "Cavs"]}}) 
</b>
This query returns the following documents:
<b>{ _id: ObjectId("619527e467d6742f66749b6e"),
  team: 'Mavs',
  position: 'Guard',
  points: 31 }
{ _id: ObjectId("619527e467d6742f66749b6f"),
  team: 'Mavs',
  position: 'Guard',
  points: 22 }</b>
Notice that the only documents returned are the ones where the “team” field is not equal to “Rockets” or “Cavs.”
<b>Note</b>: You can find the complete documentation for the <b>$nin</b> function  here .
<h2><span class="orange">MongoDB: How to Query for “not null” in Specific Field</span></h2>
You can use the following syntax to query for all documents where a specific field is not null in MongoDB:
<b>db.collection.find({"field_name":{$ne:null}}) 
</b>
The following examples show how to use this syntax in practice. 
<h3>Example 1: Query for “not null” in Specific Field</h3>
Suppose we have a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", position: null, points: 31})</b>
<b>db.teams.insertOne({team: "Spurs", position: "Guard", points: 22})</b>
<b>db.teams.insertOne({team: "Rockets", position: null, points: 19})</b>
<b>db.teams.insertOne({team: "Warriors", position: "Forward", points: 26})</b>
<b>db.teams.insertOne({team: "Cavs", position: "Guard", points: 33})</b>
We can use the following code to find all documents where the “position” field is not null:
<b>db.teams.find({"position":{$ne:null}})
</b>
This query returns the following documents:
<b>{ _id: ObjectId("618bf18f35d8a762d3c28717"),
  team: 'Spurs',
  position: 'Guard',
  points: 22 }
{ _id: ObjectId("618bf18f35d8a762d3c28719"),
  team: 'Warriors',
  position: 'Forward',
  points: 26 }
{ _id: ObjectId("618bf18f35d8a762d3c2871a"),
  team: 'Cavs',
  position: 'Guard',
  points: 33 }</b>
Notice that the only documents returned are the ones where the “position” field is not null.
<h3>
<b>Example 2: Query for “not null” (When Not Every Document Contains the Field)</b>
</h3>
Suppose we have a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", position: null, points: 31})</b>
<b>db.teams.insertOne({team: "Spurs", points: 22})</b>
<b>db.teams.insertOne({team: "Rockets", position: null, points: 19})</b>
<b>db.teams.insertOne({team: "Warriors", position: "Forward", points: 26})</b>
<b>db.teams.insertOne({team: "Cavs", position: "Guard", points: 33})</b>
Note that the second document in the collection doesn’t even have a “position” field.
We can use the following code to find all documents where the “position” field is not null:
<b>db.teams.find({"position":{$ne:null}})
</b>
This query returns the following documents:
<b>{ _id: ObjectId("618bf18f35d8a762d3c28719"),
  team: 'Warriors',
  position: 'Forward',
  points: 26 }
{ _id: ObjectId("618bf18f35d8a762d3c2871a"),
  team: 'Cavs',
  position: 'Guard',
  points: 33 }</b>
Since the second document doesn’t even have a “position” field, it is not returned.
Also note that the other two documents that have a <b>null</b> value in the “position field are not returned either.
<b>Summary</b>: By using the <b>$ne:null</b> syntax, we only return the documents where a specific field exists <em>and</em> is not null.
<h2><span class="orange">MongoDB: How to Use the OR ($or) Operator in Queries</span></h2>
You can use the <b>$or </b>operator in MongoDB to query for documents that meet one of multiple criteria.
This operator uses the following basic syntax:
<b>db.myCollection.find({
  "$or": [
    {"field1": "hello"},
    {"field2": {$gte : 10}}
  ]
})</b>
This particular example finds all documents in the collection titled myCollection where <b>field1</b> is equal to “hello” <em>or</em> <b>field2</b> has a value greater than or equal to 10.
The following examples show how to use this syntax in practice with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", points: 30, rebounds: 8})
db.teams.insertOne({team: "Mavs", points: 35, rebounds: 12})
db.teams.insertOne({team: "Spurs", points: 20, rebounds: 7})
db.teams.insertOne({team: "Spurs", points: 25, rebounds: 5})
db.teams.insertOne({team: "Spurs", points: 23, rebounds: 9})</b>
<h3>Example 1: Use OR Operator with Two Fields</h3>
The following code shows how to find all documents in the teams collection where the “team” field is equal to “Spurs” <em>or</em> the value in the “points” field is greater than or equal to 31:
<b>db.teams.find({
  "$or": [
    {"team": "Spurs"},
    {"points": {$gte: 31}}
  ]
})</b>
This query returns the following documents:
<b>{ _id: ObjectId("62018750fd435937399d6b6f"),
  team: 'Mavs',
  points: 35,
  rebounds: 12 }
{ _id: ObjectId("62018750fd435937399d6b70"),
  team: 'Spurs',
  points: 20,
  rebounds: 7 }
{ _id: ObjectId("62018750fd435937399d6b71"),
  team: 'Spurs',
  points: 25,
  rebounds: 5 }
{ _id: ObjectId("62018750fd435937399d6b72"),
  team: 'Spurs',
  points: 23,
  rebounds: 9 } </b>
Notice that each document in the output contains “Spurs” in the team field <em>or</em> a value greater than or equal to 31 in the points field. 
<h3>Example 2: Use OR Operator with More Than Two Fields</h3>
The following code shows how to find all documents in the teams collection where the “team” field is equal to “Mavs” <em>or</em> the value in the “points” field is greater than or equal to 25 <em>or</em> the value in the “rebounds” field is less than 8:
<b>db.teams.find({
  "$or": [
    {"team": "Mavs"},
    {"points": {$gte: 25}},
    {"rebounds": {$lt: 8}}
  ]
})</b>
This query returns the following document:
<b>{ _id: ObjectId("62018750fd435937399d6b6e"),
  team: 'Mavs',
  points: 30,
  rebounds: 8 }
{ _id: ObjectId("62018750fd435937399d6b6f"),
  team: 'Mavs',
  points: 35,
  rebounds: 12 }
{ _id: ObjectId("62018750fd435937399d6b70"),
  team: 'Spurs',
  points: 20,
  rebounds: 7 }
{ _id: ObjectId("62018750fd435937399d6b71"),
  team: 'Spurs',
  points: 25,
  rebounds: 5 }
</b>
Notice that each of these documents satisfies one or more of the three criteria:
The “team” field is equal to “<b>Mavs</b>“
The “points” field has a value greater than or equal to <b>25</b>
The “rebounds” field has a value less than <b>8</b>
<b>Note</b>: You can find the complete documentation for the <b>$or </b>function  here .
<h2><span class="orange">MongoDB: How to Query with a Date Range</span></h2>
You can use the following basic syntax to perform a query with a date range in MongoDB:
<b>db.collection.find({
    day: {
        $gt: ISODate("2020-01-21"),
        $lt: ISODate("2020-01-24")
    }
})
</b>
This particular query will return all documents in the collection where the “day” field is greater than 2020-01-21 and less than 2020-01-24.
Note that $gt indicates “greater than” and $lt indicates “less than.”
You can also use $gte for “greater than or equal” and $lte for “less than or equal.”
The following examples show how to use this syntax in practice with a collection sales with the following documents:
<b>db.sales.insertOne({day: new Date("2020-01-20"), amount: 40})</b>
<b>db.sales.insertOne({day: new Date("2020-01-21"), amount: 32})</b>
<b>db.sales.insertOne({day: new Date("2020-01-22"), amount: 19})</b>
<b>db.sales.insertOne({day: new Date("2020-01-23"), amount: 29})</b>
<b>db.sales.insertOne({day: new Date("2020-01-24"), amount: 35})</b>
<h3>Example 1: Find Documents Between Two Dates</h3>
We can use the following code to find all documents where the “day” field is between two specific dates:
<b>db.sales.find({
    day: {
        $gt: ISODate("2020-01-21"),
        $lt: ISODate("2020-01-24")
    }
})</b>
This query returns the following two documents:
<b>{ _id: ObjectId("618548bc7529c93ea0b41490"),
  day: 2020-01-22T00:00:00.000Z,
  amount: 19 }
{ _id: ObjectId("618548bc7529c93ea0b41491"),
  day: 2020-01-23T00:00:00.000Z,
  amount: 29 }</b>
<h3>Example 2: Find Documents After Specific Date</h3>
We can use the following code to find all documents where the “day” field is after a specific date:
<b>db.sales.find({
    day: {
        $gt: ISODate("2020-01-22")
    }
})</b>
This query returns the following two documents:
<b>{ _id: ObjectId("618548bc7529c93ea0b41491"),
  day: 2020-01-23T00:00:00.000Z,
  amount: 29 }
{ _id: ObjectId("618548bc7529c93ea0b41492"),
  day: 2020-01-24T00:00:00.000Z,
  amount: 35 }</b>
<h3>Example 3: Find Documents Before Specific Date</h3>
We can use the following code to find all documents where the “day” field is before a specific date:
<b>db.sales.find({
    day: {
        $lt: ISODate("2020-01-22")
    }
})</b>
This query returns the following two documents:
<b>{ _id: ObjectId("618548bc7529c93ea0b4148e"),
  day: 2020-01-20T00:00:00.000Z,
  amount: 40 }
{ _id: ObjectId("618548bc7529c93ea0b4148f"),
  day: 2020-01-21T00:00:00.000Z,
  amount: 32 }</b>
<b>Note</b>: You can find the complete documentation for the <b>ISODate()</b> function  here .
<h2><span class="orange">MongoDB: How to Select a Random Sample of Documents</span></h2>
You can use the following syntax to select a random sample of documents from a collection in MongoDB:
<b>db.myCollection.aggregate([ { $sample: { size: 4 } } ])</b>
This particular example selects a random sample of <b>4</b> documents in the collection titled myCollection.
To choose a random sample of a different size, simply change the value in the <b>size</b> argument.
The following example shows how to use this syntax in practice with a collection teams with the following seven documents:
<b>db.teams.insertOne({team: "Mavs", points: 31})
db.teams.insertOne({team: "Spurs", points: 22})
db.teams.insertOne({team: "Rockets", points: 19})
db.teams.insertOne({team: "Warriors", points: 26})
db.teams.insertOne({team: "Cavs", points: 33})
db.teams.insertOne({team: "Hornets", points: 30})
db.teams.insertOne({team: "Nets", points: 14})</b>
<h3>Example: Select Random Sample of Documents in MongoDB</h3>
The following code shows how to select a random sample of <b>4</b> documents from the teams collection:
<b>db.teams.aggregate([ { $sample: { size: 4 } } ])</b>
This query returns the following documents:
<b>{ _id: ObjectId("6203ee711e95a9885e1e765d"),
  team: 'Cavs',
  points: 33 }
{ _id: ObjectId("6203ee711e95a9885e1e765b"),
  team: 'Rockets',
  points: 19 }
{ _id: ObjectId("6203ee711e95a9885e1e7659"),
  team: 'Mavs',
  points: 31 }
{ _id: ObjectId("6203ee711e95a9885e1e765f"),
  team: 'Nets',
  points: 14 } </b>
Notice that the following four teams are included in this random sample:
Cavs
Rockets
Mavs
Nets
If we use the <b>$sample</b> function again, it will select another random sample of documents which means there is no guarantee that the same set of documents will be chosen.
For example, suppose we select another random sample of <b>4</b> documents from the teams collection:
<b>db.teams.aggregate([ { $sample: { size: 4 } } ])</b>
This query returns the following documents:
<b>{ _id: ObjectId("6203ee711e95a9885e1e765b"),
  team: 'Rockets',
  points: 19 }
{ _id: ObjectId("6203ee711e95a9885e1e765f"),
  team: 'Nets',
  points: 14 }
{ _id: ObjectId("6203ee711e95a9885e1e765e"),
  team: 'Hornets',
  points: 30 }
{ _id: ObjectId("6203ee711e95a9885e1e765c"),
  team: 'Warriors',
  points: 26 } </b>
The following four teams are included in this random sample:
Rockets
Nets
Hornets
Warriors
Notice that this random sample does not perfectly match the random sample from the previous example.
<b>Note</b>: You can find the complete documentation for the <b>$sample </b>function  here .
<h2><span class="orange">MongoDB: How to Remove a Field from Every Document</span></h2>
You can use the following methods to remove fields from every document in a collection in MongoDB:
<b>Method 1: Remove One Field</b>
<b>db.collection.updateMany({}, {$unset: {"field1":1}})</b>
<b>Method 2: Remove Multiple Fields</b>
<b>db.collection.updateMany({}, {$unset: {"field1":1, "field2":1}})
</b>
The following examples show how to use each method with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", position: "Guard", points: 31})</b>
<b>db.teams.insertOne({team: "Spurs", position: "Guard", points: 22})</b>
<b>db.teams.insertOne({team: "Rockets", position: "Center", points: 19})</b>
<h3>Example 1: Remove One Field</h3>
We can use the following code to remove the “points” field from every document in our collection:
<b>db.teams.updateMany({}, {$unset: {"points":1}})</b>
We can then use the following query to view each document in our collection:
<b>db.teams.find()</b>
This query returns the following results:
<b>{ _id: ObjectId("61893b7196cd2ba58ce928f4"),
  team: 'Mavs',
  position: 'Guard' }
{ _id: ObjectId("61893b7196cd2ba58ce928f5"),
  team: 'Spurs',
  position: 'Guard' }
{ _id: ObjectId("61893b7196cd2ba58ce928f6"),
  team: 'Rockets',
  position: 'Center' }</b>
Notice that the “points” field has been removed from every document.
<h3>Example 2: Remove Multiple Fields</h3>
We can use the following code to remove the “points” and “position” field from every document in our collection:
<b>db.teams.updateMany({}, {$unset: {"points":1, "position":1}})</b>
We can then use the following query to view each document in our collection:
<b>db.teams.find()</b>
This query returns the following results:
<b>{ _id: ObjectId("61893bf896cd2ba58ce928f7"), team: 'Mavs' }
{ _id: ObjectId("61893bf896cd2ba58ce928f8"), team: 'Spurs' }
{ _id: ObjectId("61893bf896cd2ba58ce928f9"), team: 'Rockets' }</b>
Notice that the “points” and “position” fields have been removed from every document.
<b>Note</b>: You can find the complete documentation for <b>$unset </b> here .
<h2><span class="orange">How to Rename Fields in MongoDB (3 Examples)</span></h2>
You can use the following methods to rename fields in MongoDB:
<b>Method 1: Rename One Field</b>
<b>db.collection.updateMany({}, {$rename:{"oldField":"newField"}}, false, true)
</b>
<b>Method 2: Rename Multiple Fields</b>
<b>db.collection.updateMany({}, {$rename:{"old1":"new1", "old2":"new2"}}, false, true)
</b>
<b>Method 3: Rename Subfield</b>
<b>db.collection.updateMany({}, {$rename:{"field.oldSub":"field.newSub"}}, false, true) </b>
Note that the <b>false, true</b> in the $rename function stands for <b>{upsert:false, multi:true}</b>.
You need the <b>multi:true</b> to update the field name in all of your documents.
The following examples show how to use each method with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", class: {conf:"Western", div:"A"}, points: 31})
db.teams.insertOne({team: "Spurs", class: {conf:"Western", div:"A"}, points: 22})
db.teams.insertOne({team: "Jazz", class: {conf:"Western", div:"B"}, points: 19})
db.teams.insertOne({team: "Celtics", class: {conf:"Eastern", div:"C"}, points: 26})
db.teams.insertOne({team: "Cavs", class: {conf:"Eastern", div:"D"}, points: 33})
db.teams.insertOne({team: "Nets", class: {conf:"Eastern", div:"D"}, points: 38})</b>
<h3>Example 1: Rename One Field</h3>
We can use the following code to rename the <b>team</b> field to <b>new_team</b>:
<b>db.teams.updateMany({}, {$rename:{"team":"new_team"}}, false, true) </b>
Here are what the documents look like now:
<b>{ _id: ObjectId("62017ce6fd435937399d6b58"),
  class: { conf: 'Western', div: 'A' },
  points: 31,
  new_team: 'Mavs' }
{ _id: ObjectId("62017ce6fd435937399d6b59"),
  class: { conf: 'Western', div: 'A' },
  points: 22,
  new_team: 'Spurs' }
{ _id: ObjectId("62017ce6fd435937399d6b5a"),
  class: { conf: 'Western', div: 'B' },
  points: 19,
  new_team: 'Jazz' }
{ _id: ObjectId("62017ce6fd435937399d6b5b"),
  class: { conf: 'Eastern', div: 'C' },
  points: 26,
  new_team: 'Celtics' }
{ _id: ObjectId("62017ce6fd435937399d6b5c"),
  class: { conf: 'Eastern', div: 'D' },
  points: 33,
  new_team: 'Cavs' }
{ _id: ObjectId("62017ce6fd435937399d6b5d"),
  class: { conf: 'Eastern', div: 'D' },
  points: 38,
  new_team: 'Nets' } </b>
Notice that the <b>team</b> field has been renamed to <b>new_team</b> for every document.
<h3>Example 2: Rename Multiple Fields</h3>
We can use the following code to rename the <b>team</b> field to <b>new_team</b> and the <b>points</b> field to <b>new_points</b>:
<b>db.teams.updateMany({}, {$rename:{"team":"new_team", "points":"new_points"}}, false, true) </b>
Here are what the documents look like now:
<b>{ _id: ObjectId("62017ce6fd435937399d6b58"),
  class: { conf: 'Western', div: 'A' },
  new_team: 'Mavs',
  new_points: 31 }
{ _id: ObjectId("62017ce6fd435937399d6b59"),
  class: { conf: 'Western', div: 'A' },
  new_team: 'Spurs',
  new_points: 22 }
{ _id: ObjectId("62017ce6fd435937399d6b5a"),
  class: { conf: 'Western', div: 'B' },
  new_team: 'Jazz',
  new_points: 19 }
{ _id: ObjectId("62017ce6fd435937399d6b5b"),
  class: { conf: 'Eastern', div: 'C' },
  new_team: 'Celtics',
  new_points: 26 }
{ _id: ObjectId("62017ce6fd435937399d6b5c"),
  class: { conf: 'Eastern', div: 'D' },
  new_team: 'Cavs',
  new_points: 33 }
{ _id: ObjectId("62017ce6fd435937399d6b5d"),
  class: { conf: 'Eastern', div: 'D' },
  new_team: 'Nets',
  new_points: 38 } </b>
Notice that the <b>team</b> field and the <b>points</b> field have both been renamed in each document.
<h3>Example 3: Rename Subfield</h3>
We can use the following code to rename the <b>div</b> subfield within the <b>class</b> field to <b>division</b>:
<b>db.teams.updateMany({}, {$rename:{"class.div":"class.division"}}, false, true) </b>
Here are what the documents look like now:
<b>{ _id: ObjectId("62017e21fd435937399d6b5e"),
  team: 'Mavs',
  class: { conf: 'Western', division: 'A' },
  points: 31 }
{ _id: ObjectId("62017e21fd435937399d6b5f"),
  team: 'Spurs',
  class: { conf: 'Western', division: 'A' },
  points: 22 }
{ _id: ObjectId("62017e21fd435937399d6b60"),
  team: 'Jazz',
  class: { conf: 'Western', division: 'B' },
  points: 19 }
{ _id: ObjectId("62017e21fd435937399d6b61"),
  team: 'Celtics',
  class: { conf: 'Eastern', division: 'C' },
  points: 26 }
{ _id: ObjectId("62017e21fd435937399d6b62"),
  team: 'Cavs',
  class: { conf: 'Eastern', division: 'D' },
  points: 33 }
{ _id: ObjectId("62017e21fd435937399d6b63"),
  team: 'Nets',
  class: { conf: 'Eastern', division: 'D' },
  points: 38 } </b>
Notice that the <b>div </b>subfield within the <b>class</b> field has been renamed to <b>division </b>in each document.
<b>Note</b>: You can find the complete documentation for the <b>$rename </b>function  here .
<h2><span class="orange">How to Replace Strings in MongoDB (With Example)</span></h2>
You can use the following syntax to replace a specific string in a field in MongoDB:
<b>db.myCollection.updateMany(
  { fieldName: { $regex: /old/ } },
  [{
    $set: { fieldName: {
      $replaceOne: { input: "$fieldName", find: "old", replacement: "new" }
    }}
  }]
)
</b>
This particular example replaces the string “old” with “new” in the field titled “fieldName” within the collection titled myCollection.
The following example shows how to use this syntax in practice with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", conference: "Western", points: 31})
db.teams.insertOne({team: "Spurs", conference: "Western", points: 22})
db.teams.insertOne({team: "Rockets", conference: "Western", points: 19})
db.teams.insertOne({team: "Celtics", conference: "Eastern", points: 26})
db.teams.insertOne({team: "Cavs", conference: "Eastern", points: 33})
db.teams.insertOne({team: "Nets", conference: "Eastern", points: 38})</b>
<h3>Example: Replace String in MongoDB</h3>
We can use the following code to replace the string “Western” with “West” in the <b>conference</b> field:
<b>db.teams.updateMany(
  { conference: { $regex: /Western/ } },
  [{
    $set: { conference: {
      $replaceOne: { input: "$conference", find: "Western", replacement: "West" }
    }}
  }]
)</b>
Here’s what the updated collection now looks like:
<b>{ _id: ObjectId("620139494cb04b772fd7a8fa"),
  team: 'Mavs',
  conference: 'West',
  points: 31 }
{ _id: ObjectId("620139494cb04b772fd7a8fb"),
  team: 'Spurs',
  conference: 'West',
  points: 22 }
{ _id: ObjectId("620139494cb04b772fd7a8fc"),
  team: 'Rockets',
  conference: 'West',
  points: 19 }
{ _id: ObjectId("620139494cb04b772fd7a8fd"),
  team: 'Celtics',
  conference: 'Eastern',
  points: 26 }
{ _id: ObjectId("620139494cb04b772fd7a8fe"),
  team: 'Cavs',
  conference: 'Eastern',
  points: 33 }
{ _id: ObjectId("620139494cb04b772fd7a8ff"),
  team: 'Nets',
  conference: 'Eastern',
  points: 38 } </b>
Notice that every document that had the string “Western” in the <b>conference</b> field now has “West” in the <b>conference</b> field.
Any document that did not have the string “Western” in the <b>conference</b> field simply kept their original string.
<b>Note</b>: You can find the complete documentation for the <b>$replaceOne </b>function  here .
<h2><span class="orange">MongoDB: How to Round Values to Decimal Places</span></h2>
You can use the <b>$round</b> operator in MongoDB to round numeric values to a certain number of decimal places.
This operator uses the following basic syntax:
<b>db.myCollection.aggregate([ {$project:{rounded_value: { $round: [ "$value", 1 ] }}} ])
</b>
This particular example rounds the values in the field “value” to one decimal place.
The following examples show how to use this syntax with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", points: 31.345})
db.teams.insertOne({team: "Spurs", points: 22.88})
db.teams.insertOne({team: "Rockets", points: 19.91})
db.teams.insertOne({team: "Warriors", points: 26.5})
db.teams.insertOne({team: "Cavs", points: 33})</b>
<h3>Example 1: Round Values to One Decimal Place</h3>
We can use the following code to round the values in the “points” field to one decimal place:
<b>db.teams.aggregate([ {$project:{rounded_points: { $round: [ "$points", 1 ] }}} ])</b>
Here is the output:
<b>{ _id: ObjectId("6203d3b11e95a9885e1e763b"),
  rounded_points: 31.3 }
{ _id: ObjectId("6203d3b11e95a9885e1e763c"),
  rounded_points: 22.9 }
{ _id: ObjectId("6203d3b11e95a9885e1e763d"),
  rounded_points: 19.9 }
{ _id: ObjectId("6203d3b11e95a9885e1e763e"),
  rounded_points: 26.5 }
{ _id: ObjectId("6203d3b11e95a9885e1e763f"),
  rounded_points: 33 } </b>
Notice that each value in the “points” field has been rounded to one decimal place.
<h3>Example 2: Round Values to Zero Decimal Places</h3>
Note that if you don’t specify a number of decimal places, MongoDB will automatically round to zero decimal places.
For example, suppose we use the <b>$round</b> operator with the following syntax:
<b>db.teams.aggregate([ {$project:{rounded_points: { $round: [ "$points"] }}} ])</b>
Here is the output:
<b>{ _id: ObjectId("6203d3b11e95a9885e1e763b"),
  rounded_points: 31 }
{ _id: ObjectId("6203d3b11e95a9885e1e763c"),
  rounded_points: 23 }
{ _id: ObjectId("6203d3b11e95a9885e1e763d"),
  rounded_points: 20 }
{ _id: ObjectId("6203d3b11e95a9885e1e763e"),
  rounded_points: 26 }
{ _id: ObjectId("6203d3b11e95a9885e1e763f"),
  rounded_points: 33 }</b> 
Notice that each points value is rounded to zero decimal places.
<h3>Example 3: Round Values & Display Other Fields in Output</h3>
We can use a value of <b>0</b> (don’t display) or <b>1</b> (display) to also show other fields in the output.
For example, the following code shows how to round the points values to two decimal places and also display the “team” field and the “points” field in the output:
<b>db.teams.aggregate(
   [
     {
       $project:
          {
            _id: 0,
            team: 1,
            points: 1,
            rounded_points: { $round: [ "$points", 2 ] }
          }
     }
   ]
) </b>
Here is the output:
<b>{ team: 'Mavs', points: 31.345, rounded_points: 31.34 }
{ team: 'Spurs', points: 22.88, rounded_points: 22.88 }
{ team: 'Rockets', points: 19.91, rounded_points: 19.91 }
{ team: 'Warriors', points: 26.5, rounded_points: 26.5 }
{ team: 'Cavs', points: 33, rounded_points: 33 }
</b>
<b>Note</b>: You can find the complete documentation for the <b>$round </b>function  here .
<h2><span class="orange">MongoDB: How to Sort Documents By Date</span></h2>
You can use the following methods to sort documents by a date field in MongoDB:
<b>Method 1: Sort by Date Ascending</b>
<b>db.sales.find().sort({"date_field": 1})
</b>
<b>Method 2: Sort by Date Descending</b>
<b>db.sales.find().sort({"date_field": -1}) 
</b>
The following examples show how to use each method with a collection sales with the following documents:
<b>db.sales.insertOne({day: new Date("2020-01-20"), amount: 40})
db.sales.insertOne({day: new Date("2020-01-21"), amount: 32})
db.sales.insertOne({day: new Date("2020-01-22"), amount: 19})
db.sales.insertOne({day: new Date("2020-01-23"), amount: 29})
db.sales.insertOne({day: new Date("2020-01-24"), amount: 35})</b>
<h3>Example 1: Sort by Date Ascending</h3>
We can use the following code to sort all of the documents by date in ascending order:
<b>db.sales.find().sort({"day": 1}) 
</b>
This query returns the following results:
<b>{ _id: ObjectId("6189401696cd2ba58ce928fa"),
  day: 2020-01-20T00:00:00.000Z,
  amount: 40 }
{ _id: ObjectId("6189401696cd2ba58ce928fb"),
  day: 2020-01-21T00:00:00.000Z,
  amount: 32 }
{ _id: ObjectId("6189401696cd2ba58ce928fc"),
  day: 2020-01-22T00:00:00.000Z,
  amount: 19 }
{ _id: ObjectId("6189401696cd2ba58ce928fd"),
  day: 2020-01-23T00:00:00.000Z,
  amount: 29 }
{ _id: ObjectId("6189401696cd2ba58ce928fe"),
  day: 2020-01-24T00:00:00.000Z,
  amount: 35 }</b>
Notice that the document with the oldest date (2020-01-20) appears first while the document with the most recent date (2020-01-24) appears last.
<h3>Example 2: Sort by Date Descending</h3>
We can use the following code to sort all of the documents by date in descending order:
<b>db.sales.find().sort({"day": -1}) 
</b>
This query returns the following results:
<b>{ _id: ObjectId("6189401696cd2ba58ce928fe"),
  day: 2020-01-24T00:00:00.000Z,
  amount: 35 }
{ _id: ObjectId("6189401696cd2ba58ce928fd"),
  day: 2020-01-23T00:00:00.000Z,
  amount: 29 }
{ _id: ObjectId("6189401696cd2ba58ce928fc"),
  day: 2020-01-22T00:00:00.000Z,
  amount: 19 }
{ _id: ObjectId("6189401696cd2ba58ce928fb"),
  day: 2020-01-21T00:00:00.000Z,
  amount: 32 }
{ _id: ObjectId("6189401696cd2ba58ce928fa"),
  day: 2020-01-20T00:00:00.000Z,
  amount: 40 }</b>
Notice that the document with the most recent date (2020-01-24) appears first while the document with the oldest date (2020-01-20) appears last.
<b>Note</b>: You can find the complete documentation for the <b>sort</b> function  here .
<h2><span class="orange">MongoDB: How to Sort by Multiple Fields</span></h2>
You can use the following syntax to sort documents in MongoDB by multiple fields:
<b>db.myCollection.find().sort( { "field1": 1, "field2": -1 } )</b>
This particular code sorts the documents in the collection called myCollection first by field1 ascending and then by field2 descending.
The following examples show how to use this syntax with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", points: 30, rebounds: 8})
db.teams.insertOne({team: "Spurs", points: 30, rebounds: 12})
db.teams.insertOne({team: "Rockets", points: 20, rebounds: 7})
db.teams.insertOne({team: "Warriors", points: 25, rebounds: 5})
db.teams.insertOne({team: "Cavs", points: 25, rebounds: 9})</b>
<h3>Example 1: Sort by Multiple Fields in MongoDB (Ascending)</h3>
We can use the following code to sort the documents in the teams collection first by “points” ascending and then by “rebounds” ascending:
<b>db.teams.find().sort( { "points": 1, "rebounds": 1 } )
</b>
This query returns the following results:
<b>{ _id: ObjectId("61f952c167f1c64a1afb203b"),
  team: 'Rockets',
  points: 20,
  rebounds: 7 }
{ _id: ObjectId("61f952c167f1c64a1afb203c"),
  team: 'Warriors',
  points: 25,
  rebounds: 5 }
{ _id: ObjectId("61f952c167f1c64a1afb203d"),
  team: 'Cavs',
  points: 25,
  rebounds: 9 }
{ _id: ObjectId("61f952c167f1c64a1afb2039"),
  team: 'Mavs',
  points: 30,
  rebounds: 8 }
{ _id: ObjectId("61f952c167f1c64a1afb203a"),
  team: 'Spurs',
  points: 30,
  rebounds: 12 } </b>
Notice that the documents are sorted by the “points” field ascending (smallest to largest) and then by the “rebounds” field ascending (smallest to largest).
<h3>Example 2: Sort by Multiple Fields in MongoDB (Descending)</h3>
We can use the following code to sort the documents in the teams collection first by “points” descending and then by “rebounds” descending:
<b>db.teams.find().sort( { "points": -1, "rebounds": -1 } )
</b>
This query returns the following results:
<b>{ _id: ObjectId("61f952c167f1c64a1afb203a"),
  team: 'Spurs',
  points: 30,
  rebounds: 12 }
{ _id: ObjectId("61f952c167f1c64a1afb2039"),
  team: 'Mavs',
  points: 30,
  rebounds: 8 }
{ _id: ObjectId("61f952c167f1c64a1afb203d"),
  team: 'Cavs',
  points: 25,
  rebounds: 9 }
{ _id: ObjectId("61f952c167f1c64a1afb203c"),
  team: 'Warriors',
  points: 25,
  rebounds: 5 }
{ _id: ObjectId("61f952c167f1c64a1afb203b"),
  team: 'Rockets',
  points: 20,
  rebounds: 7 } </b>
Notice that the documents are sorted by the “points” field descending (largest to smallest) and then by the “rebounds” field descending (largest to smallest).
<b>Note</b>: You can find the complete documentation for the <b>sort</b> function  here .
<h2><span class="orange">MongoDB: How to Split String into Array of Substrings</span></h2>
You can use the following syntax to split a string into an array of substrings in MongoDB:
<b>db.myCollection.aggregate([
  { $project: { split_field: { $split: [ "$field1", " " ] } } },
  { $merge: "myCollection" }
])</b>
This particular example splits the string in “field1” based on spaces into a new field titled “split_field” and adds the new field to the collection titled myCollection.
The following example shows how to use this syntax in practice with a collection teams with the following documents:
<b>db.teams.insertOne({name: "Dallas Mavs", points: 31})
db.teams.insertOne({name: "San Antonio Spurs", points: 22})
db.teams.insertOne({name: "Houston Rockets", points: 19})
db.teams.insertOne({name: "Boston Celtics", points: 26})
db.teams.insertOne({name: "Cleveland Cavs", points: 33})</b>
<h3>Example: Split String into Array of Substrings in MongoDB</h3>
We can use the following code to split the string in the “name” column into an array of strings and display the results in a new field titled “split_name” in the teams collection:
<b>db.teams.aggregate([
  { $project: { split_name: { $split: [ "$name", " " ] } } },
  { $merge: "teams" }
])</b>
Here’s what the updated collection now looks like:
<b>{ _id: ObjectId("62014a924cb04b772fd7a938"),
  name: 'Dallas Mavs',
  points: 31,
  split_name: [ 'Dallas', 'Mavs' ] }
{ _id: ObjectId("62014a924cb04b772fd7a939"),
  name: 'San Antonio Spurs',
  points: 22,
  split_name: [ 'San', 'Antonio', 'Spurs' ] }
{ _id: ObjectId("62014a924cb04b772fd7a93a"),
  name: 'Houston Rockets',
  points: 19,
  split_name: [ 'Houston', 'Rockets' ] }
{ _id: ObjectId("62014a924cb04b772fd7a93b"),
  name: 'Boston Celtics',
  points: 26,
  split_name: [ 'Boston', 'Celtics' ] }
{ _id: ObjectId("62014a924cb04b772fd7a93c"),
  name: 'Cleveland Cavs',
  points: 33,
  split_name: [ 'Cleveland', 'Cavs' ] } </b>
Notice that every document has a new field titled “split_name” that contains an array of substrings from the “name”  field.
For this particular example we chose to separate the original string using an empty space as a delimiter. 
If the string happens to be separated by a different delimiter (like a dash, slash, colon, etc.) then simply use that delimiter in the <b>$split</b> function instead.
<b>Note</b>: You can find the complete documentation for the <b>$split </b>function  here .
<h2><span class="orange">MongoDB: How to Find Length of String</span></h2>
You can use the following methods to find the length of a string in MongoDB and use this string length in queries:
<b>Method 1: Find Length of String</b>
<b>db.myCollection.aggregate([
  { $project: {
        "name": 1,
        "length": { $strLenCP: "$name" }
  }}
])
</b>
<b>Method 2: Find Documents with String Greater than Certain Length</b>
<b>db.myCollection.find({ 
    "name": { $exists: true },
    $expr: { $gt: [ { $strLenCP: "$name" }, 14 ] } 
})
</b>
The following examples show how to use each method with a collection teams with the following documents:
<b>db.teams.insertOne({name: "Dallas Mavs", points: 31})
db.teams.insertOne({name: "San Antonio Spurs", points: 22})
db.teams.insertOne({name: "Houston Rockets", points: 19})
db.teams.insertOne({name: "Boston Celtics", points: 26})
db.teams.insertOne({name: "Cleveland Cavs", points: 33})</b>
<h3>Example 1: Find Length of String</h3>
We can use the following code to calculate the length of the string in the “name” field of each document:
<b>db.teams.aggregate([
  { $project: {
        "name": 1,
        "length": { $strLenCP: "$name" }
  }}
])</b>
This code returns the following results:
<b>{ _id: ObjectId("62014eff4cb04b772fd7a93d"),
  name: 'Dallas Mavs',
  length: 11 }
{ _id: ObjectId("62014eff4cb04b772fd7a93e"),
  name: 'San Antonio Spurs',
  length: 17 }
{ _id: ObjectId("62014eff4cb04b772fd7a93f"),
  name: 'Houston Rockets',
  length: 15 }
{ _id: ObjectId("62014eff4cb04b772fd7a940"),
  name: 'Boston Celtics',
  length: 14 }
{ _id: ObjectId("62014eff4cb04b772fd7a941"),
  name: 'Cleveland Cavs',
  length: 14 } </b>
The length value displays the length of the string in the “name” column.
For example:
The length of the string ‘Dallas Mavs’ is <b>11</b>.
The length of the string ‘San Antonio Spurs’ is <b>17</b>.
And so on.
Note that the length also counts blank spaces.
<h3>Example 2: Find Documents with String Greater than Certain Length</h3>
We can use the following code to return only the documents where the string in the “name” column is greater than <b>14</b>:
<b>db.teams.find({ 
    "name": { $exists: true },
    $expr: { $gt: [ { $strLenCP: "$name" }, 14 ] } 
})</b>
This query returns the following results:
<b>{ _id: ObjectId("62014eff4cb04b772fd7a93e"),
  name: 'San Antonio Spurs',
  points: 22 }
{ _id: ObjectId("62014eff4cb04b772fd7a93f"),
  name: 'Houston Rockets',
  points: 19 } </b>
Notice the the only two teams returned are the ones where the “name” field is greater than a length of <b>14</b>.
<b>Note</b>: You can find the complete documentation for the <b>$strLenCP </b>function  here .
<h2><span class="orange">MongoDB: How to Use the $susbtr Function</span></h2>
You can use the <b>$substr</b> function in MongoDB to extract a substring from a string.
This function uses the following basic syntax:
<b>db.myCollection.aggregate([
  { $project: {substring: { $substr: [ "$fullstring", 0, 4 ] }}}
])</b>
This particular example extracts the four characters from the field titled “fullString” starting from position 0.
The following example shows how to use this syntax in practice with a collection sales with the following documents:
<b>db.sales.insertOne({yearMonth: 201702, amount: 40})
db.sales.insertOne({yearMonth: 201802, amount: 32})
db.sales.insertOne({yearMonth: 201806, amount: 19})
db.sales.insertOne({yearMonth: 201910, amount: 29})
db.sales.insertOne({yearMonth: 201907, amount: 35})</b>
<h3>Example: How to Use the $susbtr Function in MongoDB</h3>
We can use the following code to extract the first four characters from the “yearMonth” field and display it in a new field titled “year”:
<b>db.sales.aggregate([
  { $project: {year: { $substr: [ "$yearMonth", 0, 4 ] }}}
])
</b>
This code produces the following output:
<b>{ _id: ObjectId("620145544cb04b772fd7a929"), year: '2017' }
{ _id: ObjectId("620145544cb04b772fd7a92a"), year: '2018' }
{ _id: ObjectId("620145544cb04b772fd7a92b"), year: '2018' }
{ _id: ObjectId("620145544cb04b772fd7a92c"), year: '2019' }
{ _id: ObjectId("620145544cb04b772fd7a92d"), year: '2019' } </b>
Notice that the first four characters from the “monthYear” field in  each document are displayed in a new field titled “year.”
It’s important to note that this code only <em>displays</em> the substring.
To actually add a new field to the collection that contains this substring, we must use the <b>$merge</b> function as follows:
<b>db.sales.aggregate([
  { $project: {year: { $substr: [ "$yearMonth", 0, 4 ] }}},
  { $merge: "sales" }
])</b>
Here’s what the updated collection now looks like:
<b>{ _id: ObjectId("620145544cb04b772fd7a929"),
  yearMonth: 201702,
  amount: 40,
  year: '2017' }
{ _id: ObjectId("620145544cb04b772fd7a92a"),
  yearMonth: 201802,
  amount: 32,
  year: '2018' }
{ _id: ObjectId("620145544cb04b772fd7a92b"),
  yearMonth: 201806,
  amount: 19,
  year: '2018' }
{ _id: ObjectId("620145544cb04b772fd7a92c"),
  yearMonth: 201910,
  amount: 29,
  year: '2019' }
{ _id: ObjectId("620145544cb04b772fd7a92d"),
  yearMonth: 201907,
  amount: 35,
  year: '2019' } </b>
Notice that the new field titled “year” has been added to each document in the collection and it displays the first four characters from the “yearMonth” field.
<b>Note</b>: You can find the complete documentation for the <b>$substr </b>function  here .
<h2><span class="orange">MongoDB: How to Calculate the Sum of a Field</span></h2>
You can use the following methods to calculate the sum of values in a field in MongoDB:
<b>Method 1: Calculate Sum of Field</b>
<b>db.collection.aggregate([{$group: {_id:null, sum_val:{$sum:"$valueField"}}}])
</b>
<b>Method 2: Calculate Sum of Field by Group</b>
<b>db.collection.aggregate([{$group: {_id:"$groupField", sum_val:{$sum:"$valueField"}}}])</b>
The following examples show how to use each method with a collection teams with the following documents:
<b>db.teams.insertOne({team: "Mavs", points: 30, rebounds: 8})
db.teams.insertOne({team: "Mavs", points: 30, rebounds: 12})
db.teams.insertOne({team: "Spurs", points: 20, rebounds: 7})
db.teams.insertOne({team: "Spurs", points: 25, rebounds: 5})
db.teams.insertOne({team: "Spurs", points: 25, rebounds: 9})</b>
<h3>Example 1: Calculate Sum of Field</h3>
We can use the following code to calculate the sum of values in the <b>points</b> field:
<b>db.teams.aggregate([{$group: {_id:null, sum_val:{$sum:"$points"}}}])</b>
This query returns the following results:
<b>{ _id: null, sum_val: 130} </b>
From the results we can see that the sum of values in the points field is <b>130</b>.
We can manually verify this is correct by calculating the sum of the points values by hand:
Sum of Points: 30 + 30 + 20 + 25 + 25 = <b>130</b>.
<h3>Example 2: Calculate Sum of Field by Group</h3>
We can use the following code to calculate the sum of the values in the <b>points</b> field, grouped by the <b>team</b> field:
<b>db.teams.aggregate([{$group: {_id:"$team", sum_val:{$sum:"$points"}}}])</b>
This query returns the following results:
<b>{ _id: 'Spurs', sum_val: 60 }
{ _id: 'Mavs', sum_val: 70 } </b>
From the results we can see:
The sum of points for the Spurs is <b>60</b>.
The sum of points for the Mavs is <b>70</b>.
<b>Note</b>: You can find the complete documentation for the <b>$sum </b>function  here .
<h2><span class="orange">What is a Monotonic Relationship? (Definition + Examples)</span></h2>
In statistics, a <b>monotonic relationship</b> between two variables refers to a scenario where a change in one variable is generally associated with a change in a specific direction in another variable.
There are two types of monotonic relationships:
<b>Positive Monotonic:</b> When the value of one variable increases, the value of the other variable tends to increase as well.
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/05/mono1.png">
<b>Negative Monotonic:</b> When the value of one variable increases, the value of the other variable tends to decrease.
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/05/mon2.png">
If two variables don’t generally change in the same direction , then they are said to have a <b>non-monotonic relationship</b>. 
Here’s one example of a non-monotonic relationship between two variables:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/05/mon3.png">
And here’s another example of a non-monotonic relationship between two variables:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/05/mon6.png">
As the value of x increases, the value of y <em>sometimes</em> increases, but sometimes the value of y <em>decreases</em>.
<h3>Strictly Monotonic vs. Non-Strictly Monotonic</h3>
Two variables are said to have a <b>strictly monotonic</b> relationship if changes in one variable are <em>always</em> associated with a change in the same direction in another variable.
For example, the following chart illustrates a strictly positive monotonic relationship between two variables:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/05/mon4.png">
When the value of x increases, the value of y <em>always</em> increases.
The following chart illustrates a strictly negative monotonic relationship between two variables:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/05/mon5.png">
When the value of x increases, the value of y <em>always</em> decreases.
<h3>How to Quantify Monotonic Relationships</h3>
The most common way to quantify the relationship between two variables is to use the  Pearson Correlation Coefficient , which measures the linear association between two variables.
This coefficient always takes on a value between -1 and 1 where:
-1 indicates a perfectly negative linear correlation between two variables
0 indicates no linear correlation between two variables
1 indicates a perfectly positive linear correlation between two variables
The closer the coefficient is to 1, the stronger the positive relationship between two variables. Conversely, the closer the coefficient is to -1, the stronger the negative relationship between two variables.
However, if the relationship between two variables is monotonic but non-linear (like an exponential relationship) then it’s a good idea to use the  Spearman Rank correlation , which was designed to handle monotonic relationships well.
No matter which type of correlation coefficient you calculate, it’s always a good idea to create a scatterplot to visualize the relationship between the variables as well.
<h2><span class="orange">The Monty Hall Problem: A Simple Visual Explanation</span></h2>
In an old game show titled <em>Let’s Make a Deal</em>, host  Monty Hall  presented contestants with three doors. 
One of the doors contained a prize while the other two did not.
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/03/monty1.jpg"401">
Monty would ask the contestant to choose which door they believed contained the prize.
After the contestant selected a door, Monty would then open one door that <b>did not</b> contain the prize.
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/03/monty2.jpg"477">
The prize remained in one of the two unopened doors.
Monty would then ask the contestant if they would like to switch doors.
While it might be hard to believe, it turns out that switching doors at this point in the game actually gives you a higher probability of winning.
Keep reading to find out why!
<h2>The Monty Hall Problem Explained Visually</h2>
To illustrate why switching doors gives you a higher probability of winning, consider the following scenarios where you pick door 1 first.
<b>Scenario 1: You pick door 1 and the prize is actually behind door 1.</b>
In this case, Monty will open either door 2 or 3 and show you that nothing is behind one of those doors. If you stay with door 1, <b>you win</b>.
<b>Scenario 2: You pick door 1 and the prize is actually behind door 2.</b>
In this case, Monty must open door 3 and show you that nothing is behind it. If you stay with door 1, <b>you lose</b>.
<b>Scenario 3: You pick door 1 and the prize is actually behind door 3.</b>
In this case, Monty must open door 2 and show you that nothing is behind it. If you stay with door 1, <b>you lose</b>.
These are all of the possible outcomes if you pick door 1. Notice that if you stay with door 1, you only win one-third of the time. But if you switch, you win two-thirds of the time.
The following table summarizes all of the possible scenarios in this game show along with the outcomes associated with staying and switching:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/03/monty3.jpg">
From the table we can see that you win <b>33%</b> of the time when you stay, but you win <b>66%</b> of the time when you switch.
<b>Thus, switching doors increases the probability that you will win the prize. </b>
Although this doesn’t seem to make sense intuitively, the math doesn’t lie.
<h2><span class="orange">How to Perform Mood’s Median Test in R</span></h2>
<b>Mood’s Median Test</b> is used to compare the medians of two or more independent groups.
The <b>median_test </b>function from the <b>coin </b>library can be used to perform this test in R, which uses the following syntax:
<b>median_test(response~group, data)</b>
where:
<b>response: </b>a vector of response values
<b>group: </b>a vector of grouping values
<b>data: </b>a data frame containing the response and group vectors
The following example illustrates how to use this function to perform Mood’s Median Test in R.
<h3>Example: Mood’s Median Test in R</h3>
Suppose a teacher wants to know whether or not two different studying methods produce different exam scores among her class of students. To test this, she randomly assigns 10 students to use one studying method and another 10 students to use another. After two weeks, each student takes the same exam.
She decides to use Mood’s Median Test to determine if the median exam score differs between the two groups.
<b>Step 1: Create the data frame.</b>
<b>#create data
method = rep(c('method1', 'method2'), each=10)
score = c(75, 77, 78, 83, 83, 85, 89, 90, 91, 97, 77, 80, 84, 84, 85, 90, 92, 92, 94, 95)
examData = data.frame(method, score)
#view data
examData
    method score
1  method1    75
2  method1    77
3  method1    78
4  method1    83
5  method1    83
6  method1    85
7  method1    89
8  method1    90
9  method1    91
10 method1    97
11 method2    77
12 method2    80
13 method2    84
14 method2    84
15 method2    85
16 method2    90
17 method2    92
18 method2    92
19 method2    94
20 method2    95
</b>
<b>Step 2: Perform Mood’s Median Test.</b>
<b>#load the coin library
library(coin)
#perform Mood's Median Test
median_test(score~method, data = examData)
#output
Asymptotic Two-Sample Brown-Mood Median Test
data:  score by method (method1, method2)
Z = -0.43809, p-value = 0.6613
alternative hypothesis: true mu is not equal to 0</b>
The p-value of the test is <b>0.6613</b>. Since this value is not less than 0.05, we fail to reject the null hypothesis. We do not have sufficient evidence to say that there is a statistically significant difference in the median exam scores between the two groups.
By default, this function assigns a score of 0 to observations that are exactly equal to the median. However, you can specify this value to instead be 0.5 or 1 by using the <b>mid.score </b>argument.
For example, the following code performs the exact same Mood’s Median Test but it assigns a value of 0.5 to observations that are equal to the median:
<b>#perform Mood's Median Test
median_test(score~method, mid.score="0.5", data = examData)
#output
Asymptotic Two-Sample Brown-Mood Median Test
data:  score by method (method1, method2)
Z = -0.45947, p-value = 0.6459
alternative hypothesis: true mu is not equal to 00</b>
The p-value of the test turns out to be <b>0.6459</b>, which is slightly smaller than the previous p-value of <b>0.6613</b>. However, the conclusion of the test is still the same: we do not have sufficient evidence to say that the median exam scores between the two groups is significantly different.
<h2><span class="orange">What is Moran’s I? (Definition & Example)</span></h2>
<b>Moran’s I</b> is a way to measure spacial autocorrelation. 
In simple terms, it’s a way to quantify how closely values are clustered together in a 2-D space. It’s often used in geography and  geographic information science (GIS)  to measure how closely clustered different features are on a map like household income, level of education, etc.
<h3>Moran’s I: The Formula</h3>
The formula to calculate Moran’s I is:
<em>I</em> = (N/W)*ΣΣw<sub>ij</sub>(x<sub>i</sub>–x)(x<sub>j</sub>–x)/Σ(x<sub>i</sub>–x)<sup>2</sup>
where:
<b>N:</b> The number of spacial units indexed by <em>i</em> and <em>j</em>
<b>W:</b> The sum of all w<sub>ij</sub>
<b>x:</b> The variable of interest (household income, years of schooling, etc.)
<b>x:</b> The mean of x
<b>w<sub>ij</sub>:</b> A matrix of spacial weights
You’ll likely never have to calculate this measure by hand since most statistical software can calculate it for you, but it’s useful to know the formula being used under the hood.
The value for Moran’s I can range from -1 to 1 where:
<b>-1:</b> The variable of interest is perfectly dispersed
<b>0:</b> The variable of interest is randomly dispersed
<b>1:</b> The variable of interest is perfectly clustered together
Along with computing Moran’s I, most statistical software will compute a corresponding p-value that can be used to determine whether or not the data is randomly dispersed or not.
Moran’s Test uses the following null and alternative hypotheses:
<b>Null Hypothesis (H<sub>0</sub>):</b> The data is randomly dispersed.
<b>Alternative Hypothesis (H<sub>A</sub>):</b> The data is <em>not</em> randomly dispersed, i.e. it is clustered in noticeable patterns.
If the p-value that corresponds to Moran’s I is less than a certain significance level (i.e. α = .05), then we can reject the null hypothesis and conclude that the data is spatially clustered together in such a way that it is unlikely to have occurred by chance alone.
<h3>Moran’s I: A Few Examples</h3>
The following examples represent fake maps with different values for Moran’s I.
Assume that each square in the map represents a county and that counties with average household incomes greater than $50k are shown in blue.
<b>Moran’s I = 0: </b>Average Household income is randomly dispersed (i.e. random clusters in random areas).
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/01/morani1.png">
<b>Moran’s I = -1: </b>Average Household income is perfectly dispersed.
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/01/morani2.png">
<b>Moran’s I = 1: </b>Average Household income is perfectly clustered.
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/01/morani3.png">
Refer to  this example  for a real-world example of computing Moran’s I in the statistical software R.
<h2><span class="orange">How to Calculate Moving Averages in Python</span></h2>
A <b>moving average </b>is a technique that can be used to smooth out time series data to reduce the “noise” in the data and more easily identify patterns and trends.
The  idea behind a moving average is to take the average of a certain number of previous periods to come up with an “moving average” for a given period.
This tutorial explains how to calculate moving averages in Python.
<h3>Example: Moving Averages in Python</h3>
Suppose we have the following array that shows the total sales for a certain company during 10 periods:
<b>x = [50, 55, 36, 49, 84, 75, 101, 86, 80, 104]
</b>
<b>Method 1: Use the cumsum() function.</b>
One way to calculate the moving average is to utilize the cumsum() function:
<b>import numpy as np
#define moving average function
def moving_avg(x, n):
    cumsum = np.cumsum(np.insert(x, 0, 0)) 
    return (cumsum[n:] - cumsum[:-n]) / float(n)
#calculate moving average using previous 3 time periods
n = 3
moving_avg(x, n):
array([47, 46.67, 56.33, 69.33, 86.67, 87.33, 89, 90])
</b>
Here is how to interpret the output:
The moving average at the third period is 47. This is calculated as the average of the first three periods: (50+55+36)/3 =<b> 47</b>.
The moving average at the fourth period is 46.67. This is calculated as the average of the previous three periods: (55+36+49)/3 =<b> 46.67</b>.
And so on.
<b>Method 2: Use pandas.</b>
Another way to calculate the moving average is to write a function based in pandas:
<b>import pandas as pd
#define array to use and number of previous periods to use in calculation 
x = [50, 55, 36, 49, 84, 75, 101, 86, 80, 104]
n=3
#calculate moving average
pd.Series(x).rolling(window=n).mean().iloc[n-1:].values
array([47, 46.67, 56.33, 69.33, 86.67, 87.33, 89, 90])
</b>
This method produces the exact same results as the previous method, but it tends to run faster on larger arrays.
Note that you can also specify any number of previous time periods to use in the calculation of the moving average. For example, perhaps you’d rather use n=5:
<b>#use 5 previous periods to calculate moving average 
n=5
#calculate moving average
pd.Series(x).rolling(window=n).mean().iloc[n-1:].values
array([54.8, 59.8, 69. , 79. , 85.2, 89.2])</b>
The more periods you use to calculate the moving average, the more “smoothed” out the moving average line will be.
<h2><span class="orange">MSE Calculator</span></h2>
The <b>mean square error (MSE)</b> is a metric that tells us how far apart our predicted values are from our observed values in a regression analysis, on average. It is calculated as:
<b>MSE</b> = Σ(P<sub>i</sub> – O<sub>i</sub>)<sup>2</sup> / n 
where:
Σ is a fancy symbol that means “sum”
P<sub>i</sub> is the predicted value for the i<sup>th</sup> observation
O<sub>i</sub> is the observed value for the i<sup>th</sup> observation
n is the sample size
To find the MSE for a regression, simply enter a list of observed values and predicted values in the two boxes below, then click the “Calculate” button:
<b>Observed values:</b>
<textarea id="input_data_obs" name="x" rows="5" cols="40">34, 37, 44, 47, 48, 48, 46, 43, 32, 27, 26, 24</textarea>
<b>Predicted values:</b>
<textarea id="input_data_pred" name="x" rows="5" cols="40">37, 40, 46, 44, 46, 50, 45, 44, 34, 30, 22, 23</textarea>
<input type="button" id="button" onclick="calc()" value="Calculate">
<b>MSE</b> = 2.43242
<script>
function calc() {
var obs = document.getElementById('input_data_obs').value.split(',').map(Number);
var pred = document.getElementById('input_data_pred').value.split(',').map(Number);
//check that both lists are equal length
if (obs.length - pred.length == 0) {
document.getElementById('error_msg').innerHTML = '';
//calculate RMSE
let error = 0
for (let i = 0; i < obs.length; i++) {
error += Math.pow((pred[i] - obs[i]), 2)
}
var RMSE = error / obs.length;
document.getElementById('RMSE').innerHTML = RMSE.toFixed(5);
}
else {
 document.getElementById('RMSE').innerHTML = '';
 document.getElementById('error_msg').innerHTML = 'The two lists must be of equal length.';
}
  
} //end calc function
</script>
<h2><span class="orange">MSE vs. RMSE: Which Metric Should You Use?</span></h2>
Regression models are used to quantify the relationship between one or more predictor variables and a  response variable .
Whenever we fit a regression model, we want to understand how well the model is able to use the values of the predictor variables to predict the value of the response variable.
Two metrics we often use to quantify how well a model fits a dataset are the mean squared error (MSE) and the root mean squared error (RMSE), which are calculated as follows:
<b>MSE</b>: A metric that tells us the average squared difference between the predicted values and the actual values in a dataset. The lower the MSE, the better a model fits a dataset.
MSE = Σ(<U+0177><sub>i</sub> – y<sub>i</sub>)<sup>2</sup> / n
where:
Σ is a symbol that means “sum”
<U+0177><sub>i</sub> is the predicted value for the i<sup>th</sup> observation
y<sub>i</sub> is the observed value for the i<sup>th</sup> observation
n is the sample size
<b>RMSE</b>: A metric that tells us the square root of the average squared difference between the predicted values and the actual values in a dataset. The lower the RMSE, the better a model fits a dataset.
It is calculated as:
RMSE = √Σ(<U+0177><sub>i</sub> – y<sub>i</sub>)<sup>2</sup> / n
where:
Σ is a symbol that means “sum”
<U+0177><sub>i</sub> is the predicted value for the i<sup>th</sup> observation
y<sub>i</sub> is the observed value for the i<sup>th</sup> observation
n is the sample size
Notice that the formulas are nearly identical. In fact, the root mean squared error is just the square root of the mean squared error.
<h3>RMSE vs. MSE: Which Metric Should You Use?</h3>
When assessing how well a model fits a dataset, <b>we use the RMSE more often</b> because it is measured in the same units as the response variable.
Conversely, the MSE is measured in squared units of the response variable.
To illustrate this, suppose we use a regression model to predict the number of points that 10 players will score in a basketball game.
The following table shows the predicted points from the model vs. the actual points the players scored:
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2021/09/mse_1.png">
We would calculate the mean squared error (MSE) as:
MSE = Σ(<U+0177><sub>i</sub> – y<sub>i</sub>)<sup>2</sup> / n
MSE = ((14-12)<sup>2</sup>+(15-15)<sup>2</sup>+(18-20)<sup>2</sup>+(19-16)<sup>2</sup>+(25-20)<sup>2</sup>+(18-19)<sup>2</sup>+(12-16)<sup>2</sup>+(12-20)<sup>2</sup>+(15-16)<sup>2</sup>+(22-16)<sup>2</sup>) / 10
MSE = 16
The mean squared error is <b>16.</b> This tells us that the average squared difference between the predicted values made by the model and the actual values is 16.
The root mean squared error (RMSE) would simply be the square root of the MSE:
RMSE = √MSE
RMSE = √16
RMSE = 4
The root mean squared error is <b>4.</b> This tells us that the average deviation between the predicted points scored and the actual points scored is 4.
Notice that the interpretation of the root mean squared error is much more straightforward than the mean squared error because we’re talking about ‘points scored’ as opposed to ‘squared points scored.’
<h3>How to Use RMSE in Practice</h3>
In practice, we typically fit several regression models to a dataset and calculate the root mean squared error (RMSE) of each model.
We then select the model with the lowest RMSE value as the “best” model because it is the one that makes predictions that are closest to the actual values from the dataset.
Note that we can also compare the MSE values of each model, but RMSE is more straightforward to interpret so it’s used more often.
<h2><span class="orange">A Complete Guide to the mtcars Dataset in R</span></h2>
The <b>mtcars</b> dataset is a built-in dataset in R that contains measurements on 11 different attributes for 32 different cars.
This tutorial explains how to explore, summarize, and visualize the <b>mtcars</b> dataset in R.
<b>Related:</b>  A Complete Guide to the Iris Dataset in R 
<h3>Load the mtcars Dataset</h3>
Since the <b>mtcars</b> dataset is a built-in dataset in R, we can load it by using the following command:
<b>data(mtcars)</b>
We can take a look at the first six rows of the dataset by using the <b>head()</b> function:
<b>#view first six rows of mtcars dataset
head(mtcars)
   mpg cyl disp  hp drat    wt  qsec vs am gear carb
Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1
</b>
<h3>Summarize the mtcars Dataset</h3>
We can use the <b>summary()</b> function to quickly summarize each variable in the dataset:
<b>#summarize mtcars dataset
summary(mtcars)
      mpg             cyl             disp             hp       
 Min.   :10.40   Min.   :4.000   Min.   : 71.1   Min.   : 52.0  
 1st Qu.:15.43   1st Qu.:4.000   1st Qu.:120.8   1st Qu.: 96.5  
 Median :19.20   Median :6.000   Median :196.3   Median :123.0  
 Mean   :20.09   Mean   :6.188   Mean   :230.7   Mean   :146.7  
 3rd Qu.:22.80   3rd Qu.:8.000   3rd Qu.:326.0   3rd Qu.:180.0  
 Max.   :33.90   Max.   :8.000   Max.   :472.0   Max.   :335.0  
      drat             wt             qsec             vs        
 Min.   :2.760   Min.   :1.513   Min.   :14.50   Min.   :0.0000  
 1st Qu.:3.080   1st Qu.:2.581   1st Qu.:16.89   1st Qu.:0.0000  
 Median :3.695   Median :3.325   Median :17.71   Median :0.0000  
 Mean   :3.597   Mean   :3.217   Mean   :17.85   Mean   :0.4375  
 3rd Qu.:3.920   3rd Qu.:3.610   3rd Qu.:18.90   3rd Qu.:1.0000  
 Max.   :4.930   Max.   :5.424   Max.   :22.90   Max.   :1.0000  
       am              gear            carb      
 Min.   :0.0000   Min.   :3.000   Min.   :1.000  
 1st Qu.:0.0000   1st Qu.:3.000   1st Qu.:2.000  
 Median :0.0000   Median :4.000   Median :2.000  
 Mean   :0.4062   Mean   :3.688   Mean   :2.812  
 3rd Qu.:1.0000   3rd Qu.:4.000   3rd Qu.:4.000  
 Max.   :1.0000   Max.   :5.000   Max.   :8.000   </b>
For each of the 11 variables we can see the following information:
<b>Min</b>: The minimum value.
<b>1st Qu</b>: The value of the first quartile (25th percentile).
<b>Median</b>: The median value.
<b>Mean</b>: The mean value.
<b>3rd Qu</b>: The value of the third quartile (75th percentile).
<b>Max</b>: The maximum value.
We can use the <b>dim()</b> function to get the dimensions of the dataset in terms of number of rows and number of columns:
<b>#display rows and columns
dim(mtcars)
[1] 32 11
</b>
We can see that the dataset has <b>32 </b>rows and <b>11</b> columns.
We can also use the <b>names()</b> function to display the column names of the data frame:
<b>#display column names
names(mtcars)
 [1] "mpg"  "cyl"  "disp" "hp"   "drat" "wt"   "qsec" "vs"   "am"   "gear"
[11] "carb"     
</b>
<h3>Visualize the mtcars Dataset</h3>
We can also create some plots to visualize the values in the dataset.
For example, we can use the <b>hist()</b> function to create a histogram of the values for a certain variable:
<b>#create histogram of values for mpg
hist(mtcars$mpg,
     col='steelblue',
     main='Histogram',
     xlab='mpg',
     ylab='Frequency')
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/02/mtcars1-1.jpg"474">
We could also use the <b>boxplot()</b> function to create a  boxplot  to visualize the distribution of values for a certain variable:
<b>#create boxplot of values for mpg
boxplot(mtcars$mpg,
        main='Distribution of mpg values',
        ylab='mpg',
        col='steelblue',
        border='black')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/02/mtcars3.jpg"434">
We can also use the <b>plot()</b> function to create a scatterplot of any pairwise combination of variables:
<b>#create scatterplot of mpg vs. wt
plot(mtcars$mpg, mtcars$wt,
     col='steelblue',
     main='Scatterplot',
     xlab='mpg',
     ylab='wt',
     pch=19)</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/02/mtcars2.jpg"508">
By using these built-in functions in R, we can learn a great deal about the <b>mtcars</b> dataset.
If you’d like to perform more advanced statistical analysis with this dataset, check out  this tutorial  that explains how to fit linear regression models and generalized linear models using the <b>mtcars</b> dataset.
<h2><span class="orange">How to Use mtext Function in R (With Examples)</span></h2>
You can use the <b>mtext()</b> function in R to write text in the margins of a plot.
This function uses the following basic syntax:
<b>mtext(text, side=3, line=0, …)</b>
where:
<b>text</b>: The text to write
<b>side</b>: The side of the plot to write text on (1=bottom, 2=left, 3=top, 4=right)
<b>line</b>: The margin line to use (negative values will push text inside plot)
The following examples show how to use the <b>mtext()</b> function in practice with the following data frame in R:
<b>#create data frame
df &lt;- data.frame(x=c(1, 2, 3, 4, 5, 6, 7), y=c(3, 4, 4, 8, 6, 10, 14))
#view data frame
df
  x  y
1 1  3
2 2  4
3 3  4
4 4  8
5 5  6
6 6 10
7 7 14</b>
<h2>Example 1: Add One Text Element Outside of Plot</h2>
The following code shows how to use <b>mtext()</b> to add one text element above the plot:
<b>#create scatterplot
plot(df$x, df$y)
#add text above plot
mtext("Here is some text")
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/12/mtext1.jpg"458">
Notice that the text “Here is some text” has been added above the plot.
<h2>Example 2: Add Multiple Text Elements Outside of Plot</h2>
The following code shows how to use the <b>mtext()</b> function multiple times to add text elements on each side of the plot:
<b>#create scatterplot
plot(df$x, df$y)
#add text on each side of plot
mtext("Text on the bottom", side=1)
mtext("Text on the left", side=2)
mtext("Text on the top", side=3)
mtext("Text on the right", side=4)
</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/12/mtext2.jpg"524">
By using the<b> mtext()</b> function multiple times, we’re able to add multiple text elements outside of the plot.
<h2>Example 3: Add Customized Text Element Outside of Plot</h2>
We can also use the <b>line</b>, <b>cex</b>, and <b>col</b> arguments within <b>mtext()</b> to change the location, size, and color of the text element, respectively.
For example, the following code shows how to add text just inside the top of the plot with an increased font size and a color of blue:
<b>#create scatterplot
plot(df$x, df$y)
#add customized text inside top of plot
mtext("Text on the top", side=3, line=-3, cex=3, col='blue')</b>
<img class="lazy" data-src="https://www.statology.org/wp-content/uploads/2022/12/mtext3.jpg"492">
Feel free to play around with the various arguments in the <b>mtext()</b> function to generate the exact text you’d like in your plot.
<h2>Additional Resources</h2>
The following tutorials explain how to use other common functions in R:
 How to Draw a Legend Outside of a Plot in R 
 How to Change Legend Position in Base R Plots 
 How to Print String and Variable on Same Line in R 
<h2><span class="orange">How to Test for Multicollinearity in Python</span></h2>
In regression analysis,  multicollinearity  occurs when two or more predictor variables are highly correlated with each other, such that they do not provide unique or independent information in the regression model.
If the degree of correlation is high enough between predictor variables, it can cause problems when fitting and interpreting the regression model. 
The most straightforward way to detect multicollinearity in a regression model is by calculating a metric known as the variance inflation factor, often abbreviated <b>VIF</b>.
VIF measures the strength of correlation between predictor variables in a model. It takes on a value between 1 and positive infinity.
We use the following rules of thumb for interpreting VIF values:
<b>VIF = 1: </b>There is no correlation between a given predictor variable and any other predictor variables in the model.
<b>VIF between 1 and 5: </b>There is moderate correlation between a given predictor variable and other predictor variables in the model.
<b>VIF > 5</b>: There is severe correlation between a given predictor variable and other predictor variables in the model.
The following example shows how to detect multicollinearity in a regression model in Python by calculating VIF values for each predictor variable in the model.
<h2>Example: Testing for Multicollinearity in Python</h2>
Suppose we have the following pandas DataFrame that contains information about various basketball players:
<b>import pandas as pd
#create DataFrame
df = pd.DataFrame({'rating': [90, 85, 82, 88, 94, 90, 76, 75, 87, 86],   'points': [25, 20, 14, 16, 27, 20, 12, 15, 14, 19],   'assists': [5, 7, 7, 8, 5, 7, 6, 9, 9, 5],   'rebounds': [11, 8, 10, 6, 6, 9, 6, 10, 10, 7]})
#view DataFrame
print(df)
ratingpointsassistsrebounds
09025511
1852078
28214710
3881686
4942756
5902079
6761266
77515910
88714910
9861957</b>
Suppose we would like to fit a  multiple linear regression model  using <b>rating</b> as the response variable and <b>points</b>, <b>assists</b>, and <b>rebounds</b> as the predictor variables.
To calculate the <b>VIF</b> for each predictor variable in the model, we can use the  variance_inflation_factor()  function from the <b>statsmodels</b> library:
<b>from patsy import dmatrices
from statsmodels.stats.outliers_influence import variance_inflation_factor
#find design matrix for regression model using 'rating' as response variable 
y, X = dmatrices('rating ~ points+assists+rebounds', data=df, return_type='dataframe')
#create DataFrame to hold VIF values
vif_df = pd.DataFrame()
vif_df['variable'] = X.columns 
#calculate VIF for each predictor variable 
vif_df['VIF'] = [variance_inflation_factor(X.values, i) for i in range(X.shape[1])]
#view VIF for each predictor variable 
print(vif_df)
       VIF variable
0101.258171Intercept
1  1.763977   points
2  1.959104  assists
3  1.175030 rebounds</b>
We can see the VIF values for each of the predictor variables:
<b>points: </b>1.76
<b>assists: </b>1.96
<b>rebounds: </b>1.18
<b>Note: </b>Ignore the VIF for the “Intercept” in the model since this value is irrelevant.
Since each of the VIF values for the predictor variables in the model are close to 1, multicollinearity is not a problem in the model.
<h2>Additional Resources</h2>
The following tutorials explain how to perform other common tasks in Python:
 How to Perform Simple Linear Regression in Python 
 How to Perform Multiple Linear Regression in Python 
 How to Create a Residual Plot in Python 
<h2><span class="orange">How to Test for Multicollinearity in R</span></h2>
In regression analysis,  multicollinearity  occurs when two or more predictor variables are highly correlated with each other, such that they do not provide unique or independent information in the regression model.
If the degree of correlation is high enough between predictor variables, it can cause problems when fitting and interpreting the regression model. 
The most straightforward way to detect multicollinearity in a regression model is by calculating a metric known as the variance inflation factor, often abbreviated <b>VIF</b>.
VIF measures the strength of correlation between predictor variables in a model. It takes on a value between 1 and positive infinity.
We use the following rules of thumb for interpreting VIF values:
<b>VIF = 1: </b>There is no correlation between a given predictor variable and any other predictor variables in the model.
<b>VIF between 1 and 5: </b>There is moderate correlation between a given predictor variable and other predictor variables in the model.
<b>VIF > 5</b>: There is severe correlation between a given predictor variable and other predictor variables in the model.
The following example shows how to detect multicollinearity in a regression model in R by calculating VIF values for each predictor variable in the model.
<h2>Example: Testing for Multicollinearity in R</h2>
Suppose we have the following data frame that contains information about various basketball players:
<b>#create data frame
df = data.frame(rating = c(90, 85, 82, 88, 94, 90, 76, 75, 87, 86),
                points=c(25, 20, 14, 16, 27, 20, 12, 15, 14, 19),
                assists=c(5, 7, 7, 8, 5, 7, 6, 9, 9, 5),
                rebounds=c(11, 8, 10, 6, 6, 9, 6, 10, 10, 7))
#view data frame
df
   rating points assists rebounds
1      90     25       5       11
2      85     20       7        8
3      82     14       7       10
4      88     16       8        6
5      94     27       5        6
6      90     20       7        9
7      76     12       6        6
8      75     15       9       10
9      87     14       9       10
10     86     19       5        7
</b>
Suppose we would like to fit a  multiple linear regression model  using <b>rating</b> as the response variable and <b>points</b>, <b>assists</b>, and <b>rebounds</b> as the predictor variables.
To calculate the VIF for each predictor variable in the model, we can use the <b>vif()</b> function from the <b>car </b>package:
<b>library(car)
#define multiple linear regression model
model &lt;- lm(rating ~ points + assists + rebounds, data=df)
#calculate the VIF for each predictor variable in the model
vif(model)
  points  assists rebounds 
1.763977 1.959104 1.175030 
</b>
We can see the VIF values for each of the predictor variables:
<b>points: </b>1.76
<b>assists: </b>1.96
<b>rebounds: </b>1.18
Since each of the VIF values for the predictor variables in the model are close to 1, multicollinearity is not a problem in the model.
<b>Note</b>: If multicollinearity does turn out to be a problem in your model, the quickest fix in most cases is to remove one or more of the highly correlated variables.
This is often an acceptable solution because the variables you’re removing are redundant anyway and add little unique or independent information in the model.
<h2>Additional Resources</h2>
The following tutorials explain how to perform other common tasks in R:
 How to Perform Multiple Linear Regression in R 
 How to Create a Q-Q Plot in R 
 How to Create a Residual Plot in R 
<h2><span class="orange">A Guide to Multicollinearity & VIF in Regression</span></h2>
<b>Multicollinearity</b> in  regression analysis  occurs when two or more predictor variables are highly correlated to each other, such that they do not provide unique or independent information in the regression model.
If the degree of correlation is high enough between variables, it can cause problems when fitting and interpreting the regression model.  
For example, suppose you run a regression analysis using the  response variable  <em>max vertical jump</em> and the following predictor variables:
height
shoe size
hours spent practicing per day
In this case, <em>height </em>and <em>shoe size </em>are likely to be highly correlated with each other since taller people tend to have larger shoe sizes. This means that multicollinearity is likely to be a problem in this regression.
This tutorial explains why multicollinearity is a problem, how to detect it, and how to resolve it.
<h2>Why Multicollinearity is a Problem</h2>
One of the main goals of regression analysis is to isolate the relationship between each predictor variable and the response variable.
In particular, when we run a regression analysis, we interpret each regression coefficient as the mean change in the response variable, <em>assuming all of the other predictor variables in the model are held constant. </em>
This means we assume that we’re able to change the values of a given predictor variable without changing the values of the other predictor variables.
However, when two or more predictor variables are highly correlated, it becomes difficult to change one variable without changing another.
This makes it difficult for the regression model to estimate the relationship between each predictor variable and the response variable independently because the predictor variables tend to change in unison.
In general, multicollinearity causes two types of problems:
The coefficient estimates of the model (and even the signs of the coefficients) can fluctuate significantly based on which other predictor variables are included in the model.
The precision of the coefficient estimates are reduced, which makes the p-values unreliable. This makes it difficult to determine which predictor variables are actually statistically significant. 
<h2>How to Detect Multicollinearity</h2>
The most common way to detect multicollinearity is by using the<b> variance inflation factor (VIF)</b>, which measures the correlation and strength of correlation between the predictor variables in a regression model.
<h3>Utilizing the Variance Inflation Factor (VIF)</h3>
Most statistical software has the ability to compute VIF for a regression model. The value for VIF starts at 1 and has no upper limit. A general rule of thumb for interpreting VIFs is as follows:
A value of 1 indicates there is no correlation between a given predictor variable and any other predictor variables in the model.
A value between 1 and 5 indicates moderate correlation between a given predictor variable and other predictor variables in the model, but this is often not severe enough to require attention.
A value greater than 5 indicates potentially severe correlation between a given predictor variable and other predictor variables in the model. In this case, the coefficient estimates and p-values in the regression output are likely unreliable.
For example, suppose we run a regression analysis using predictor variables <em>height</em>, <em>shoe</em> size, and <em>hours spent practicing per day </em>to predict <em>max vertical jump </em>for basketball players and receive the following output:
<img class="lazy" data-src="https://fourpillarfreedom.com/wp-content/uploads/2019/03/VIF1.jpg" alt="">
From the last column, we can see that the VIF values for <em>height </em>and <em>shoe size </em>are both greater than 5. This indicates that they’re likely suffering from multicollinearity and that their coefficient estimates and p-values are likely unreliable. 
If we look at the coefficient estimate for shoe size, the model is telling us that for each additional one unit increase in shoe size, the average increase in <em>max vertical jump </em>is -0.67498 inches, assuming height and practice hours are held constant.
This doesn’t seem to make sense, considering we would expect players with larger shoe sizes to be taller and thus have a higher max vertical jump.
This is a classic example of multicollinearity causing the coefficient estimates to appear a bit whacky and unintuitive. 
<h2>How to Resolve Multicollinearity</h2>
If you detect multicollinearity, the next step is to decide if you need to resolve it in some way. Depending on the goal of your regression analysis, you might not actually need to resolve the multicollinearity.
Namely:
<b>1.</b> If there is only moderate multicollinearity, you likely don’t need to resolve it in any way.
<b>2. </b>Multicollinearity only affects the predictor variables that are correlated with one another. If you are interested in a predictor variable in the model that doesn’t suffer from multicollinearity, then multicollinearity isn’t a concern.
<b>3. </b>Multicollinearity impacts the coefficient estimates and the p-values, but it doesn’t impact predictions or goodness-of-fit statistics. This means if your main goal with the regression is to make predictions and you’re not concerned with understanding the exact relationship between the predictor variables and response variable, then multicollinearity doesn’t need to be resolved.
If you determine that you <em>do </em>need to fix multicollinearity, then some common solutions include:
<b>1. Remove one or more of the highly correlated variables.</b> This is the quickest fix in most cases and is often an acceptable solution because the variables you’re removing are redundant anyway and add little unique or independent information the model.
<b>2. Linearly combine the predictor variables in some way, such as adding or subtracting them from one way. </b>By doing so, you can create one new variables that encompasses the information from both variables and you no longer have an issue of multicollinearity.
<b>3. Perform an analysis that is designed to account for highly correlated variables such as  principal component analysis  or  partial least squares (PLS) regression .</b> These techniques are specifically designed to handle highly correlated predictor variables.

<script src='https://williamkpchan.github.io/LibDocs/readbook.js'></script>
<script>
var lazyLoadInstance = new LazyLoad({
    elements_selector: ".lazy"
    // ... more custom settings?
});
</script>
