<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

<style>

a:hover,a:active{color:red}
table.w3-table-all{margin:20px 0}
.top {
 position:relative;
 background-color:black;
 height:68px;
 padding-top:20px;
 line-height:50px;
 overflow:hidden;
 z-index:2;
}
body {
 background-color: #000000;
 color: MediumSeaGreen;
 margin-left: 14%;
 margin-right: 14%;
 font-size: 24px;
}
a { text-decoration: none;
	color: #58D858;}
a:visited { color: #88C898;}
A:hover {	color: yellow;}
A:focus {	color: red;}
code { color: gray; background-color: #002010}
pre { color: gray; background-color: #001010}
h1, h2, h3, h4, h5, .goldword {
	color: gold;
}
table{
	width: 100%;
	font-size: 20px;
	border-collapse: collapse;
	border: 1px solid gray;
}
th{
	border: 1px solid gray;
	font-weight:bold;
	color: lightgreen;
}
td{
	padding:10px;
	border: 1px dotted dimgray;
}
tr>th:first-child{
	width:40%;
}
tr>td:first-child{
	color: lime;

}
img{
	margin-top:1%;
	margin-bottom:2%;
}
.topic{
    color: lime;
}
.goldsha {
    color: white;
    border: 1px solid gold;
    padding: 2px;
    border-radius: 3px;
	box-shadow: -2px -2px 3px gold inset;
}
.redsha {
    color: gold;
    border: 1px solid red;
    padding: 2px;
    border-radius: 3px;
	box-shadow: -2px -2px 3px red inset;
}
.whitesha {
    color: red;
    border: 1px solid white;
    padding: 2px;
    border-radius: 3px;
	box-shadow: -3px -2px 3px white inset;
}
.orangesha {
    color: yellow;
    border: 1px solid orange;
    padding: 2px;
    border-radius: 3px;
	box-shadow: -2px -2px 3px orange inset;
}
.yellowsha {
    color: lime;
    border: 1px solid yellow;
    padding: 2px;
    border-radius: 3px;
	box-shadow: 3px 3px 3px silver;
	display: inline-block;
}
.greensha {
    color: lightblue;
    border: 1px solid green;
    padding: 2px;
    border-radius: 3px;
	box-shadow: -2px -2px 3px green inset;
}
.left {
    position: absolute;
    left: 100px;
    color: GoldenRod;
    border: 1px solid GoldenRod;
    padding: 2px;
    font-size: 60%;
}
.bord {
    color: redpink;
    border: 1px solid GoldenRod;
    padding: 1px;
    font-size: 90%;
}
.yellowbord {
    color: lime;
    border: 1px solid yellow;
    padding: 2px;
    border-radius: 3px;
	box-shadow: 3px 3px 3px silver;
}
.bluebord {
    color: white;
    border: 1px solid lightblue;
    padding: 2px;
    border-radius: 3px;
	box-shadow: -2px -2px 3px silver inset;
}
.highlight { 
    color: white;
    background-color: #002030
  }
hr {width: 50%;}
li{
	list-style-type: decimal;
}
#toc, #tang, #san, #pill {
	margin-left: 15%;
	margin-right: 15%;
	color: gold;
	padding: 1%;
	text-align: left;
	box-shadow: 5px 5px 15px silver;
	border-radius: 5px;
	border: 1px solid DarkSlateGray;
    font-size: 90%;
}
.mywords{
    color: Crimson;
}
.orangeword{
    color: orange;
}
.remarks {
	font-size: 22px;
	color: MediumSeaGreen;
}
</STYLE>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script>
$(document).ready(function(){
    $('h1, h2, h3, h4, h5, .goldword, .topic').click(function(){
    parent.history.back();
    return false;
    });
});
</script>


</head><body>

<center><h1>HTML5 API</h1></center>
<div id="toc"><ul></ul></div>
<br>

<h2>HTML5 <span class="color_h1">Geolocation</span></h2>
<p class="intro" id="demo">The HTML Geolocation API is used to locate a user's position.</p>
<p><button class="w3-btn w3-blue" onclick="getLocation()">Try It</button></p>
<div id="mapholder"></div>
<script src="https://maps.google.com/maps/api/js?key=AIzaSyBu-916DdpKAjTmJNIgngS6HL_kDIKU0aU"></script>
<script>
var x=document.getElementById("demo");
function getLocation()
  {
  if (navigator.geolocation)
    {
    navigator.geolocation.getCurrentPosition(showPosition,showError);
    }
  else{x.innerHTML="Geolocation is not supported by this browser.";}
  }

function showPosition(position)
  {
  var lat=position.coords.latitude;
  var lon=position.coords.longitude;
  var latlon=new google.maps.LatLng(lat, lon)
  var mapholder=document.getElementById('mapholder')
  mapholder.style.height='250px';
  mapholder.style.width='100%';

  var myOptions={
  center:latlon,zoom:14,
  mapTypeId:google.maps.MapTypeId.ROADMAP,
  mapTypeControl:false,
  navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL}
  };
  var map=new google.maps.Map(document.getElementById("mapholder"),myOptions);
  var marker=new google.maps.Marker({position:latlon,map:map,title:"You are here!"});
  }

function showError(error)
  {
  switch(error.code) 
    {
    case error.PERMISSION_DENIED:
      x.innerHTML="User denied the request for Geolocation."
      break;
    case error.POSITION_UNAVAILABLE:
      x.innerHTML="Location information is unavailable."
      break;
    case error.TIMEOUT:
      x.innerHTML="The request to get user location timed out."
      break;
    case error.UNKNOWN_ERROR:
      x.innerHTML="An unknown error occurred."
      break;
    }
  }
</script>

<h3>Locate the User's Position</h3>
<p>The HTML Geolocation API is used to get the geographical position of a user.</p>
<p>Since this can compromise privacy, the position is not available unless the user approves it.</p>
<div class="w3-panel w3-note">
<p><strong>Note:</strong><b> </b>Geolocation is most accurate for devices with GPS, like iPhone.</p>
</div>

<h3>Browser Support</h3>
<p>The numbers in the table specify the first browser version that fully supports 
Geolocation.</p>
<table class="browserref notranslate">
  <tr>
    <th style="width:20%;font-size:16px;text-align:left;">API</th>
    <th style="width:16%;" class="bsChrome" title="Chrome"></th>
    <th style="width:16%;" class="bsEdge" title="Internet Explorer / Edge"></th>
    <th style="width:16%;" class="bsFirefox" title="Firefox"></th>
    <th style="width:16%;" class="bsSafari" title="Safari"></th>
    <th style="width:16%;" class="bsOpera" title="Opera"></th>                
  </tr>
  <tr>
    <td style="text-align:left;">Geolocation</td>
    <td>5.0 - 49.0 (http)<br>50.0 (https)</td>
    <td>9.0</td>
    <td>3.5</td>
    <td>5.0</td>
    <td>16.0</td>
  </tr>
</table>

<div class="w3-panel w3-note">
<p><strong>Note:</strong> As of Chrome 50, the Geolocation API will only work on secure contexts such 
as HTTPS. If your site is hosted on an non-secure origin (such as HTTP) the 
requests to get the users location will no longer function.</p>
</div>

<h3>Using HTML Geolocation</h3>
<p>The getCurrentPosition() method is used to return the user's position.</p>
<p>The example below returns the latitude and longitude of the user's position:</p>
<div class="w3-example">
<b class="topic">Example</b>
<div class="w3-code notranslate htmlHigh">
 &lt;script&gt;<br>var x = document.getElementById(&quot;demo&quot;);<br>function getLocation() {<br>&nbsp;&nbsp;&nbsp; if (navigator.geolocation) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; navigator.geolocation.getCurrentPosition(showPosition);<br>&nbsp;&nbsp;&nbsp; } else {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x.innerHTML = &quot;Geolocation is not supported by this browser.&quot;;<br>&nbsp;&nbsp;&nbsp; }<br>}<br>
 function showPosition(position) {<br>&nbsp;&nbsp;&nbsp; x.innerHTML = &quot;Latitude: &quot; + position.coords.latitude + <br>&nbsp;&nbsp;&nbsp; &quot;&lt;br&gt;Longitude: &quot; + position.coords.longitude; <br>
 }<br>&lt;/script&gt;</div>
<a class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_geolocation" target="_blank">Try it Yourself &raquo;</a>
</div>
<p>Example explained:</p>
<ul>
  <li>Check if Geolocation is supported</li>
  <li>If supported, run the getCurrentPosition() method. If not, display a message to the user</li>
  <li>If the getCurrentPosition() method is successful, it returns a coordinates object to the function specified in the parameter (showPosition)</li>
  <li>The showPosition() function outputs the Latitude and Longitude</li>
</ul>
<p>The example above is a very basic Geolocation script, with no error handling.</p>
<div style="overflow:auto;text-align:center">
<!-- MidContent -->
  <div id='div-gpt-ad-1493883843099-0' style="display: inline-block">
    <script>
    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1493883843099-0'); });
    </script>
  </div>  
</div>
<h3>Handling Errors and Rejections</h3>
<p>The second parameter of the getCurrentPosition() method is used to handle 
errors. It specifies a function to run if it fails to get the user's location:</p>
<div class="w3-example">
<b class="topic">Example</b>
<div class="w3-code notranslate jsHigh">
 function showError(error) {<br>&nbsp;&nbsp;&nbsp; switch(error.code) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case error.PERMISSION_DENIED:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x.innerHTML = &quot;User denied the request for Geolocation.&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case error.POSITION_UNAVAILABLE:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x.innerHTML = &quot;Location information is unavailable.&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case error.TIMEOUT:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x.innerHTML = &quot;The request to get user location timed out.&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case error.UNKNOWN_ERROR:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x.innerHTML = &quot;An unknown error occurred.&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br>&nbsp;&nbsp;&nbsp; }<br>
 }</div>
<a class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_geolocation_error" target="_blank">Try it Yourself &raquo;</a>
</div>

<h3>Displaying the Result in a Map</h3>
<p>To display the result in a map, you need access to a map service, like Google 
Maps.</p>
<p>In the example below, the returned latitude and longitude is used to show the location in a Google 
Map (using a static image):</p>
<div class="w3-example">
<b class="topic">Example</b>
<div class="w3-code notranslate jsHigh">
 function showPosition(position) {<br>&nbsp;&nbsp;&nbsp; var latlon = position.coords.latitude + &quot;,&quot; + position.coords.longitude;<br><br>&nbsp;&nbsp;&nbsp; var img_url = &quot;https://maps.googleapis.com/maps/api/staticmap?center=<br>
 &nbsp;&nbsp;&nbsp; &quot;+latlon+&quot;&amp;zoom=14&amp;size=400x300&amp;sensor=false&amp;key=YOUR_:KEY&quot;;<br><br>
 &nbsp;&nbsp;&nbsp;
 document.getElementById(&quot;mapholder&quot;).innerHTML = &quot;&lt;img src='&quot;+img_url+&quot;'&gt;&quot;;<br>
 }<br></div>
<a class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_geolocation_map" target="_blank">Try it Yourself &raquo;</a>
</div>
<p><a href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_geolocation_map_script" target="_blank">Google Map Script</a><br>
How to show an interactive Google Map with a marker, zoom and drag options.</p>

<h3>Location-specific Information</h3>
<p>This page has demonstrated how to show a user's position on a map.</p>
<p>Geolocation is also very useful for location-specific information, like:</p>
<ul>
  <li>Up-to-date local information</li>
  <li>Showing Points-of-interest near the user</li>
  <li>Turn-by-turn navigation (GPS)</li>
</ul>

<h3>The getCurrentPosition() Method - Return Data</h3>
<p>The getCurrentPosition() method returns an object on success. The latitude, 
longitude and accuracy properties are always returned. The other properties are returned 
if available:</p>

<table class="w3-table-all notranslate">
<tr>
<th style="width:150px">Property</th>
<th >Returns</th>
</tr>
  <tr>
<td>coords.latitude</td>
<td>The latitude as a decimal number (always returned)</td>
  </tr>
  <tr>
<td>coords.longitude</td>
<td>The longitude as a decimal number (always returned)</td>
  </tr>
  <tr>
<td>coords.accuracy</td>
<td>The accuracy of position (always returned)</td>
  </tr>
  <tr>
<td>coords.altitude</td>
<td>The altitude in meters above the mean sea level (returned if available)</td>
  </tr>
  <tr>
<td>coords.altitudeAccuracy</td>
<td>The altitude accuracy of position (returned if available)</td>
  </tr>
  <tr>
<td>coords.heading</td>
<td>The heading as degrees clockwise from North (returned if available)</td>
  </tr>
  <tr>
<td>coords.speed</td>
<td>The speed in meters per second (returned if available)</td>
  </tr>
  <tr>
<td>timestamp</td>
<td>The date/time of the response (returned if available)</td>
  </tr>
</table>

<h3>Geolocation Object - Other interesting Methods</h3>
<p>The Geolocation object also has other interesting methods:</p>
<ul>
  <li>watchPosition() - Returns the current position of the user and continues to 
return updated position as the user moves (like the GPS in a car).</li>
  <li>clearWatch() - Stops the watchPosition() method.</li>
</ul>
<p>The example below shows the watchPosition() method. You need an accurate GPS device to test this (like iPhone): </p>
<div class="w3-example">
<b class="topic">Example</b>
<div class="w3-code notranslate htmlHigh">
 &lt;script&gt;<br>var x = document.getElementById(&quot;demo&quot;);<br>function getLocation() {<br>&nbsp;&nbsp;&nbsp; if (navigator.geolocation) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; navigator.geolocation.watchPosition(showPosition);<br>&nbsp;&nbsp;&nbsp; } else {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x.innerHTML = &quot;Geolocation is not supported by this browser.&quot;;<br>&nbsp;&nbsp;&nbsp; }<br>}<br>
 function showPosition(position) {<br>&nbsp;&nbsp;&nbsp; x.innerHTML = &quot;Latitude: &quot; + position.coords.latitude + <br>&nbsp;&nbsp;&nbsp; &quot;&lt;br&gt;Longitude: &quot; + position.coords.longitude; <br>
 }<br>&lt;/script&gt;</div>
<a class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_geolocation_watchposition" target="_blank">Try it Yourself &raquo;</a>
</div>
<br>
<h2></h2>
<h2>HTML5 <span class="color_h1">Drag and Drop</span></h2>
<div id="div1" ondrop="drop(event)" ondragover="allowDrop(event)">
<img src="img_w3slogo.gif" draggable="true" ondragstart="drag(event)" id="drag1" alt="W3Schools"></div>
<div id="div2" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
<p style="clear:both">Drag the W3Schools image into the rectangle.</p>

<h3>Drag and Drop</h3>
<p>Drag and drop is a very common feature. It is when you &quot;grab&quot; an object and drag it to a different location.</p>
<p>In HTML5, drag and drop is part of the standard: Any element can be draggable.</p>

<h3>Browser Support</h3>
<p>The numbers in the table specify the first browser version that fully supports Drag and Drop.</p>
<table class="browserref notranslate">
  <tr>
    <th style="width:20%;font-size:16px;text-align:left;">API</th>
    <th style="width:16%;" class="bsChrome" title="Chrome"></th>
    <th style="width:16%;" class="bsEdge" title="Internet Explorer / Edge"></th>
    <th style="width:16%;" class="bsFirefox" title="Firefox"></th>
    <th style="width:16%;" class="bsSafari" title="Safari"></th>
    <th style="width:16%;" class="bsOpera" title="Opera"></th>                
  </tr>
  <tr>
    <td style="text-align:left;">Drag and Drop</td>
    <td>4.0</td>
    <td>9.0</td>
    <td>3.5</td>
    <td>6.0</td>
    <td>12.0</td>
  </tr>
</table>

<h3>HTML Drag and Drop Example</h3>
<p>The example below is a simple drag and drop example:</p>
<div class="w3-example">
<b class="topic">Example</b>
<div class="w3-code notranslate htmlHigh">
 &lt;!DOCTYPE HTML&gt;<br>
 &lt;html&gt;<br>
 &lt;head&gt;<br>
 &lt;script&gt;<br>
 function allowDrop(ev)
 {<br>
 &nbsp;&nbsp;&nbsp;
 ev.preventDefault();<br>
 }<br>
 <br>
 function drag(ev)
 {<br>
 &nbsp;&nbsp;&nbsp;
 ev.dataTransfer.setData(&quot;text&quot;, ev.target.id);<br>
 }<br>
 <br>
 function drop(ev)
 {<br>
 &nbsp;&nbsp;&nbsp;
 ev.preventDefault();<br>
 &nbsp;&nbsp;&nbsp;
 var data = ev.dataTransfer.getData(&quot;text&quot;);<br>
 &nbsp;&nbsp;&nbsp;
 ev.target.appendChild(document.getElementById(data));<br>
 }<br>
 &lt;/script&gt;<br>
 &lt;/head&gt;<br>
 &lt;body&gt;<br>
 <br>
 &lt;div id=&quot;div1&quot; ondrop=&quot;drop(event)&quot;
 ondragover=&quot;allowDrop(event)&quot;&gt;&lt;/div&gt;<br>
 <br>
 &lt;img id=&quot;drag1&quot; src=&quot;img_logo.gif&quot; draggable=&quot;true&quot;<br>
 ondragstart=&quot;drag(event)&quot; width=&quot;336&quot; height=&quot;69&quot;&gt;<br>
 <br>
 &lt;/body&gt;<br>
 &lt;/html&gt;</div>
<a class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_draganddrop" target="_blank">Try it Yourself &raquo;</a></div>
<p>It might seem complicated, but lets go through all the different parts of a drag and drop event.</p>
<div style="overflow:auto;text-align:center">
<!-- MidContent -->
  <div id='div-gpt-ad-1493883843099-0' style="display: inline-block">
    <script>
    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1493883843099-0'); });
    </script>
  </div>  
</div>
<h3>Make an Element Draggable</h3>
<p>First of all: To make an element draggable, set the draggable attribute to true:</p>
<div class="w3-code w3-border notranslate jsHigh"><div>
 &lt;img draggable=&quot;true&quot;&gt;</div></div>

<h3>What to Drag - ondragstart and setData()</h3>
<p>Then, specify what should happen when the element is dragged.</p>
<p>In the example above, the ondragstart attribute calls a function, drag(event), 
that specifies what data to be dragged.</p>
<p>The dataTransfer.setData() method sets the data type and the value of the 
dragged data:</p>
<div class="w3-code w3-border notranslate jsHigh">
<div>
function drag(ev) {<br>&nbsp;&nbsp;&nbsp; ev.dataTransfer.setData(&quot;text&quot;, ev.target.id);<br>
}
</div></div>
<p>In this case, the data type is &quot;text&quot; and the value is the id of the draggable element (&quot;drag1&quot;).</p>

<h3>Where to Drop - ondragover</h3>
<p>The ondragover event specifies where the dragged data can be dropped.</p>
<p>By default, data/elements cannot be dropped in other elements. To allow a drop, 
we must prevent the default handling of the element.</p>
<p>This is done by calling the event.preventDefault() method for the ondragover event:</p>
<div class="w3-code w3-border notranslate jsHigh">
 <div>
  <i>event</i>.preventDefault()</div>
</div>

<h3>Do the Drop - ondrop</h3>
<p>When the dragged data is dropped, a drop event occurs.</p>
<p>In the example above, the ondrop attribute calls a function, drop(event):</p>
<div class="w3-code w3-border notranslate jsHigh">
 <div>
  function drop(ev)
 {<br>
 &nbsp;&nbsp;&nbsp;
 ev.preventDefault();<br>
 &nbsp;&nbsp;&nbsp;
 var data = ev.dataTransfer.getData(&quot;text&quot;);<br>
 &nbsp;&nbsp;&nbsp;
 ev.target.appendChild(document.getElementById(data));<br>
 }</div>
</div>
<p>Code explained:</p>
<ul>
  <li>Call preventDefault() to prevent the browser default handling of the data (default is open as link on drop)</li>
  <li>Get the dragged data with the dataTransfer.getData() method. This method will return any data that was set to the same type in the setData() method</li>
  <li>The dragged data is the id of the dragged element (&quot;drag1&quot;)</li>
  <li>Append the dragged element into the drop element</li>
</ul>
<h3>More Examples</h3>
<div class="w3-example">
<h4>Drag image back and forth</h4>
<p>How to drag (and drop) an image back and forth between two &lt;div&gt; elements:</p>
<div class="w3-white w3-padding notranslate">
<iframe src="tryhtml5_draganddrop_ifr.htm" style="width:100%;border:none"></iframe></div>
<a class="w3-btn w3-margin-bottom w3-margin-top" href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_draganddrop2" target="_blank">Try it Yourself &raquo;</a></div>

<br>
<h2></h2>
<h2>HTML5 <span class="color_h1">Web Storage</span></h2>
<p class="intro">HTML web storage; better than cookies.</p>

<h3>What is HTML Web Storage?</h3>
<p>With web storage, web applications can store data locally within the user's browser.</p>
<p>Before HTML5, application data had to be stored in cookies, included in 
every server request. Web storage is more secure, and large amounts of data 
can be stored locally, without affecting website performance.</p>
<p>Unlike cookies, 
the <b class="topic">storage limit is far larger (at least 5MB)</b> and information is never 
transferred to the server.</p>
<p>Web storage is per origin (per domain and protocol). All pages, from one 
origin, can store and access the same data.</p>

<h3>Browser Support</h3>
<p>The numbers in the table specify the first browser version that fully supports 
Web Storage.</p>
<table class="browserref notranslate">
  <tr>
    <th style="width:20%;font-size:16px;text-align:left;">API</th>
    <th style="width:16%;" class="bsChrome" title="Chrome"></th>
    <th style="width:16%;" class="bsEdge" title="Internet Explorer / Edge"></th>
    <th style="width:16%;" class="bsFirefox" title="Firefox"></th>
    <th style="width:16%;" class="bsSafari" title="Safari"></th>
    <th style="width:16%;" class="bsOpera" title="Opera"></th>                
  </tr>
  <tr>
    <td style="text-align:left;">Web Storage</td>
    <td>4.0</td>
    <td>8.0</td>
    <td>3.5</td>
    <td>4.0</td>
    <td>11.5</td>
  </tr>
</table>

<h3>HTML Web Storage Objects</h3>
<p class="topic">HTML web storage provides two objects for storing data on the client:</p>
<ul class="topic">
  <li>window.localStorage - stores data with no expiration date</li>
  <li>window.sessionStorage - stores data for one session (data is lost when the browser tab is closed)</li>
</ul>
<p>Before using web storage, check browser support for localStorage and sessionStorage:</p>
<div class="w3-code w3-border notranslate jsHigh"><div>
if (typeof(Storage) !== &quot;undefined&quot;) {<br>
&nbsp;&nbsp;&nbsp; // <i>Code for localStorage/sessionStorage.</i><br>
 }
 else {<br>
&nbsp;&nbsp;&nbsp; // Sorry! No Web Storage support..<br>
 }</div></div>
<div style="overflow:auto;text-align:center">
<!-- MidContent -->
  <div id='div-gpt-ad-1493883843099-0' style="display: inline-block">
    <script>
    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1493883843099-0'); });
    </script>
  </div>  
</div>
<h3>The localStorage Object</h3>
<p>The localStorage object stores the data with no expiration date. The data 
will not be deleted when the browser is closed, and will be available the next day, week, or year.</p>
<div class="w3-example">
<b class="topic">Example</b>
<div class="w3-code notranslate jsHigh">
 <span class="orangeword">// Store</span><br>
localStorage.setItem(&quot;lastname&quot;, &quot;Smith&quot;);<br>
<span class="orangeword">// Retrieve</span><br>
 document.getElementById(&quot;result&quot;).innerHTML = localStorage.getItem(&quot;lastname&quot;);
</div>
<a target="_blank" href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_webstorage_local" class="w3-btn w3-margin-bottom">Try it Yourself &raquo;</a>
</div>

<p>Example explained:</p>
<ul>
  <li>Create a localStorage name/value pair with name=&quot;lastname&quot; and value=&quot;Smith&quot;</li>
  <li>Retrieve the value of &quot;lastname&quot; and insert it into the element with id=&quot;result&quot;</li>
</ul>
<p>The example above could also be written like this:</p>
<div class="w3-code w3-border notranslate jsHigh"><div>
 // Store<br>localStorage.lastname = &quot;Smith&quot;;<br>// Retrieve<br>
 document.getElementById(&quot;result&quot;).innerHTML = localStorage.lastname;</div></div>
<p>The syntax for removing the &quot;lastname&quot; localStorage item is as follows:</p>
<div class="w3-code w3-border notranslate jsHigh"><div>
 localStorage.removeItem(&quot;lastname&quot;);</div></div>
<p><strong>Note:</strong> Name/value pairs are always stored as strings. 
Remember to convert them to another format when needed!</p>
<p>The following example counts the number of times a user has clicked a button. 
In this code the value string is converted to a number to be able to increase the counter:</p>
<div class="w3-example">
<b class="topic">Example</b>
<div class="w3-code notranslate jsHigh">
 if (localStorage.clickcount) {<br>&nbsp;&nbsp;&nbsp; localStorage.clickcount = Number(localStorage.clickcount) + 1;<br>
 } else {<br>&nbsp;&nbsp;&nbsp; localStorage.clickcount = 1;<br>}<br>
 document.getElementById(&quot;result&quot;).innerHTML = &quot;You have clicked the button &quot; +<br>
localStorage.clickcount + &quot; time(s).&quot;;</div>
<a class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_webstorage_local_clickcount" target="_blank">Try it Yourself &raquo;</a>
</div>

<h3>The sessionStorage Object</h3>
<p>The sessionStorage object is equal to the localStorage object, <strong>except</strong> 
that it stores the data for only one session. The data is deleted when the user closes the 
specific browser tab.</p>
<p>The following example counts the number of times a user has clicked a button, in the current session:</p>
<div class="w3-example">
<b class="topic">Example</b>
<div class="w3-code notranslate jsHigh">
if (sessionStorage.clickcount) {<br>&nbsp; &nbsp; 
sessionStorage.clickcount = Number(sessionStorage.clickcount) + 1;<br>}
else {<br>&nbsp;&nbsp;&nbsp; sessionStorage.clickcount = 1;<br>}<br>
document.getElementById(&quot;result&quot;).innerHTML = &quot;You have clicked the button &quot; +<br>
sessionStorage.clickcount + &quot; time(s) in this session.&quot;;
</div>
<a class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_webstorage_session" target="_blank">Try it Yourself &raquo;</a>
</div>

<br>
<h2></h2>
<h2>HTML5 <span class="color_h1">Web Workers</span></h2>
<p class="intro">A web worker is a JavaScript running in the background, without affecting the performance of the page.</p>

<h3>What is a Web Worker?</h3>
<p>When executing scripts in an HTML page, the page becomes unresponsive until the script is finished.</p>
<p>A web worker is a JavaScript that runs in the background, independently 
of other scripts, without affecting the performance of the page. You can continue to do whatever you want: 
clicking, selecting things, etc., while the web worker runs in the background.</p>

<h3>Browser Support</h3>
<p>The numbers in the table specify the first browser version that fully support Web Workers.</p>
<table class="browserref notranslate">
  <tr>
    <th style="width:20%;font-size:16px;text-align:left;">API</th>
    <th style="width:16%;" class="bsChrome" title="Chrome"></th>
    <th style="width:16%;" class="bsEdge" title="Internet Explorer / Edge"></th>
    <th style="width:16%;" class="bsFirefox" title="Firefox"></th>
    <th style="width:16%;" class="bsSafari" title="Safari"></th>
    <th style="width:16%;" class="bsOpera" title="Opera"></th>                
  </tr>
  <tr>
    <td style="text-align:left;">Web Workers</td>
    <td>4.0</td>
    <td>10.0</td>
    <td>3.5</td>
    <td>4.0</td>
    <td>11.5</td>
  </tr>
</table>

<h3>HTML Web Workers Example</h3>
<p>The example below creates a simple web worker that count numbers in the background:</p>
<div class="w3-example">
<b class="topic">Example</b>
<div class="w3-padding w3-white notranslate">
Count numbers: <output id="result"></output>
<p>
<button onclick="startWorker()">Start Worker</button> 
<button onclick="stopWorker()">Stop Worker</button>

<script>
var w;
function startWorker()
{
if(typeof(Worker)!=="undefined") {
  if(typeof(w)=="undefined") {
    w=new Worker("https://www.w3schools.com/html/demo_workers.js");
  }
  w.onmessage = function (event) {
    document.getElementById("result").innerHTML=event.data;
  };
} else {
  document.getElementById("result").innerHTML="Sorry, your browser does not support Web Workers...";
  }
}

function stopWorker()
{ 
w.terminate();
w = undefined;
}
</script>
</div>
<a target="_blank" href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_webworker" class="w3-btn w3-margin-bottom w3-margin-top">Try it Yourself &raquo;</a>
</div>

<h3>Check Web Worker Support</h3>
<p>Before creating a web worker, check whether the user's browser supports it:</p>
<div class="w3-code w3-border notranslate jsHigh"><div>
if (typeof(Worker) !== &quot;undefined&quot;) {<br>
&nbsp;&nbsp;&nbsp; // Yes! Web worker support!<br>
&nbsp;&nbsp;&nbsp; // <i>Some code.....</i><br>
 }
 else {<br>
&nbsp;&nbsp;&nbsp; // Sorry! No Web Worker support..<br>
 }
</div></div>
<div style="overflow:auto;text-align:center">
<!-- MidContent -->
  <div id='div-gpt-ad-1493883843099-0' style="display: inline-block">
    <script>
    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1493883843099-0'); });
    </script>
  </div>  
</div>
<h3>Create a Web Worker File</h3>
<p>Now, let's create our web worker in an external JavaScript.</p>
<p>Here, we create a script that counts. The script is stored in the &quot;demo_workers.js&quot; file:</p>
<div class="w3-code w3-border notranslate jsHigh">
 <div>
var i = 0;<br>
<br>
function timedCount()
{<br>
&nbsp;&nbsp;&nbsp;
i = i + 1;<br>
&nbsp;&nbsp;&nbsp;
postMessage(i);<br>
&nbsp;&nbsp;&nbsp;
setTimeout(&quot;timedCount()&quot;,500);<br>
}<br>
<br>
timedCount();
</div></div>
<p>The important part of the code above is the <b>postMessage()</b> method - which is used to post a message back to the HTML page.</p>
<p><b>Note:</b> Normally web workers are not used for such simple scripts, but for more CPU intensive tasks.</p>

<h3>Create a Web Worker Object</h3>
<p>Now that we have the web worker file, we need to call it from an HTML page.</p>
<p>The following lines checks if the worker already exists, if not - it creates a new web worker object and runs the code in 
&quot;demo_workers.js&quot;:</p>
<div class="w3-code w3-border notranslate jsHigh"><div>
if (typeof(w) == &quot;undefined&quot;) {<br>
&nbsp;&nbsp;&nbsp; w = new Worker(&quot;demo_workers.js&quot;);<br>
 }</div></div>
<p>Then we can send and receive messages from the web worker.</p>
<p>Add an &quot;onmessage&quot; event listener to the web worker.</p>
<div class="w3-code w3-border notranslate jsHigh"><div>
w.onmessage = function(event){<br>
&nbsp;&nbsp;&nbsp; document.getElementById(&quot;result&quot;).innerHTML = event.data;<br>
 };
</div></div>
<p>When the web worker posts a message, the code within the event listener is executed. The data 
from the web worker is stored in event.data.</p>

<h3>Terminate a Web Worker</h3>
<p>When a web worker object is created, it will continue to listen for messages (even after the external script is finished) until it is terminated.</p>
<p>To terminate a web worker, and free browser/computer resources, use the 
terminate() method:</p>
<div class="w3-code w3-border notranslate"><div>
w.terminate();</div></div>

<h3>Reuse the Web Worker</h3>
<p>If you set the worker variable to undefined, after it has been terminated, 
you can reuse the code:</p>
<div class="w3-code w3-border notranslate"><div>
 w = undefined;</div></div>

<h3>Full Web Worker Example Code</h3>
<p>We have already seen the Worker code in the .js file. Below is the code for the HTML page:</p>
<div class="w3-example">
<b class="topic">Example</b>
<div class="w3-code notranslate htmlHigh">
&lt;!DOCTYPE html&gt;<br>
&lt;html&gt;<br>
&lt;body&gt;<br>
<br>
&lt;p&gt;Count numbers: &lt;output id=&quot;result&quot;&gt;&lt;/output&gt;&lt;/p&gt;<br>
&lt;button onclick=&quot;startWorker()&quot;&gt;Start Worker&lt;/button&gt; <br>
&lt;button onclick=&quot;stopWorker()&quot;&gt;Stop Worker&lt;/button&gt;<br>
<br>
&lt;script&gt;<br>
var w;<br>
<br>
function startWorker()
{<br>
&nbsp;&nbsp;&nbsp;
if(typeof(Worker) !== &quot;undefined&quot;)
{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(typeof(w) == &quot;undefined&quot;) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; w = new Worker(&quot;demo_workers.js&quot;);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; w.onmessage = function(event) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; document.getElementById(&quot;result&quot;).innerHTML = event.data;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };<br>
&nbsp;&nbsp;&nbsp;
}
else
{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
document.getElementById(&quot;result&quot;).innerHTML = &quot;Sorry! No Web Worker support.&quot;;<br>&nbsp;&nbsp;&nbsp;
}<br>
}<br>
<br>
function stopWorker()
{ <br>
&nbsp;&nbsp;&nbsp;
w.terminate();<br>&nbsp;&nbsp;&nbsp; w = undefined;<br>
}<br>
&lt;/script&gt;<br>
<br>
&lt;/body&gt;<br>
&lt;/html&gt;</div>
<a target="_blank" href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_webworker" class="w3-btn w3-margin-bottom">Try it Yourself &raquo;</a>
</div>

<h3>Web Workers and the DOM</h3>
<p>Since web workers are in external files, they do not have access to the following JavaScript objects:</p>
<ul>
  <li>The window object</li>
  <li>The document object</li>
  <li>The parent object</li>
</ul>
<br>
<h2></h2>
<h2>HTML5 <span class="color_h1">Server-Sent Events</span></h2>
<p class="intro">Server-Sent Events allow a web page to get updates from a server.</p>

<h3>Server-Sent Events - One Way Messaging</h3>
<p>A server-sent event is when a web page automatically gets updates from a server.</p>
<p>This was also possible before, but the web page would have to ask if any updates were 
available. With server-sent events, the updates come automatically.</p>
<p>Examples: Facebook/Twitter updates, stock price updates, news feeds, sport results, etc.</p>

<h3>Browser Support</h3>
<p>The numbers in the table specify the first browser version that fully support server-sent events.</p>
<table class="browserref notranslate">
  <tr>
    <th style="width:14%;font-size:16px;text-align:left;">API</th>
    <th style="width:16%;" class="bsChrome" title="Chrome"></th>
    <th style="width:16%;" class="bsEdge" title="Internet Explorer / Edge"></th>
    <th style="width:16%;" class="bsFirefox" title="Firefox"></th>
    <th style="width:16%;" class="bsSafari" title="Safari"></th>
    <th style="width:16%;" class="bsOpera" title="Opera"></th>                
  </tr>
  <tr>
    <td style="text-align:left;">SSE</td>
    <td>6.0</td>
    <td><span class="marked">Not supported</span></td>
    <td>6.0</td>
    <td>5.0</td>
    <td>11.5</td>
  </tr>
</table>

<h3>Receive Server-Sent Event Notifications</h3>
<p>The EventSource object is used to receive server-sent event notifications:</p>
<div class="w3-example">
<b class="topic">Example</b>
<div class="w3-code notranslate jsHigh">
 var source = new EventSource(&quot;demo_sse.php&quot;);<br>source.onmessage = function(event) {<br>&nbsp;&nbsp;&nbsp; document.getElementById(&quot;result&quot;).innerHTML += event.data + &quot;&lt;br&gt;&quot;;<br>};</div>
<a class="w3-btn w3-margin-bottom" href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_sse" target="_blank">Try it Yourself &raquo;</a>
</div>
<p>Example explained:</p>
<ul>
  <li>Create a new EventSource object, and specify the URL of the page sending the updates (in this example &quot;demo_sse.php&quot;)</li>
  <li>Each time an update is received, the onmessage event occurs</li>
  <li>When an onmessage event occurs, put the received data into the element with id=&quot;result&quot;</li>
</ul>

<h3>Check Server-Sent Events Support</h3>
<p>In the tryit example above there were some extra lines of code to check browser support for server-sent events:</p>
<div class="w3-code w3-border notranslate jsHigh"><div>
if(typeof(EventSource) !== &quot;undefined&quot;) {<br>
&nbsp;&nbsp;&nbsp; // Yes! Server-sent events support!<br>
&nbsp;&nbsp;&nbsp; // <i>Some code.....</i><br>
 }
 else {<br>
&nbsp;&nbsp;&nbsp; // Sorry! No server-sent events support..<br>
 }
</div>
</div>
<div style="overflow:auto;text-align:center">
<!-- MidContent -->
  <div id='div-gpt-ad-1493883843099-0' style="display: inline-block">
    <script>
    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1493883843099-0'); });
    </script>
  </div>  
</div>

<h3>Server-Side Code Example</h3>
<p>For the example above to work, you need a server capable of sending data updates (like PHP or ASP).</p>
<p>The server-side event stream syntax is simple. Set the &quot;Content-Type&quot; header to 
&quot;text/event-stream&quot;. Now you can start sending event streams.</p>
<p>Code in PHP (demo_sse.php):</p>
<div class="w3-code w3-border notranslate htmlHigh"><div>
 &lt;?php<br>header('Content-Type: text/event-stream');<br>
 header('Cache-Control: no-cache');<br><br>$time = date('r');<br>echo &quot;data: The server time is: {$time}\n\n&quot;;<br>flush();<br>?&gt;
</div></div>

<p>Code in ASP (VB) (demo_sse.asp):</p>
<div class="w3-code w3-border notranslate" style="color:brown;"><div>
 &lt;%<br>Response.ContentType = &quot;text/event-stream&quot;<br>Response.Expires = -1<br>
 Response.Write(&quot;data: The server time is: &quot; &amp; now())<br>Response.Flush()<br>%&gt;
</div></div>

<p>Code explained:</p>
<ul>
  <li>Set the &quot;Content-Type&quot; header to 
&quot;text/event-stream&quot;</li>
  <li>Specify that the page should not cache</li>
  <li>Output the data to send (<strong>Always</strong> start with &quot;data: &quot;)</li>
  <li>Flush the output data back to the web page</li>
</ul>

<h3>The EventSource Object</h3>
<p>In the examples above we used the onmessage event to get messages. But other events are also available:</p>
<table class="w3-table-all notranslate">
<tr>
<th style="width:20%">Events</th>
<th>Description</th>
</tr>
  <tr>
<td>onopen</td>
<td>When a connection to the server is opened</td>
  </tr>
  <tr>
<td>onmessage</td>
<td>When a message is received</td>
  </tr>
  <tr>
<td>onerror</td>
<td>When an error occurs</td>
  </tr>
 </table>
<br>

<br>
<br><br><br><br><br>
<script>
  $(function() {
    var toc = $('#toc>ul');

    function makeLi(text, href) {
      return $('<a href="' + href + '" target="_self">' + text + '</a><br>');
    }

    $('h2, h3, h4').each(function(i) {
      var chapter = $(this), chapterNumber = i + 1;
      toc.append(
        makeLi(chapter.text(), '#chapter-' + chapterNumber)
      );
      chapter.attr('id', 'chapter-' + chapterNumber);
    });

  });
</script>
</body>
</html>
