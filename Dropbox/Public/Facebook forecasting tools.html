<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><base target=_blank><style>body { margin: 10%; font-size: 24px; background-color: #000000; color: #109030;}a { text-decoration: none; color: #28B8B8;}a:visited { color: #389898;}A:hover { color: yellow;}A:focus { color: red;}code { color: pink; background-color: #001500}pre { color: gray; background-color: #001010}</style>
</head><body>

<h1>Facebook releases 'Prophet' -- its free forecasting tools -- for Python and R</h1>

<h2 itemprop="description">The code is available on GitHub</h2>


<section class="epo cat-narrow" id="drr-top-ad">
<!-- Related -->
<div class="related-promo-wrapper">
<div class="promo apart">
<div class="hed">More like this</div>
<ul class="">
<li class="clearfix with-image">
<a href="/article/2921176/business-intelligence/great-r-packages-for-data-import-wrangling-visualization.html"><img class="carousel.idgeImage  imgId100571312 " src="http://core0.staticworld.net/images/article/2015/03/googlecharts1-100571312-carousel.idge.jpg" alt="Google chart options" itemprop="image"/></a>
<div class="item">
<div class="title"><a href="/article/2921176/business-intelligence/great-r-packages-for-data-import-wrangling-visualization.html">Great R packages for data import, wrangling &amp; visualization</a></div>
</div>
</li>
<div class="item">
<div class="title"><a href="/article/3109890/data-analytics/these-r-packages-import-sports-weather-stock-data-and-more.html">These R packages import sports, weather, stock data and more</a></div>
</div>
</li>
<li class="clearfix with-image">
<a class="play" href="/video/57263/how-real-time-analytics-helped-styrofoam-maker-floracraft"><i class="ss-play"></i></a>
<a href="/video/57263/how-real-time-analytics-helped-styrofoam-maker-floracraft"><img class="posterImage  imgId100610586 " src="http://core4.staticworld.net/images/article/2015/08/floracraft-dataplus-100610586-poster.jpg" itemprop="image"/></a>
<div class="item">
<div class="item-eyebrow">Video</div>
<div class="title"><a href="/video/57263/how-real-time-analytics-helped-styrofoam-maker-floracraft">How real-time analytics helped Styrofoam maker FloraCraft</a></div>
</div>
</li>
</ul>
</div>
</div>
<div class="ad">
<div id="topimu" class="adunit ad-container">
</div>
<script type="text/javascript">if($(window).width()>=930){IDG.GPT.addDisplayedAd("topimu","true");$('#topimu').responsiveAd({screenSize:'971 1115',scriptTags:[]});IDG.GPT.log("Creating ad: topimu - [971 1115]");}</script>
</div>
</section>
<section class="bodee">
<div class="ad placement">
<!--  Begin gpt-skin/gpt-pin/inread -->
<div id="inread" class=" ad-container">
</div>
<script type="text/javascript">IDG.GPT.addDisplayedAd("inread","true");IDG.GPT.displayGoogleTagSlot('inread');</script>
<!--  End gpt-skin/gpt-pin/inread -->
</div>
<script type="text/javascript">$(document).ready(function(){$('.articleBloxAd').filter(":visible").each(function(index,item){var id=$(item).attr('id');var divClass=$(item).attr('class');var adString=IDG.GPT.getLazyAdCode();$(item).replaceWith("<div id=\""+id+"\" class=\"lazyload_blox_ad "+divClass+"\">"+adString+"</div>");});try{$("div.lazyload_blox_ad").lazyLoadAd({threshold:0,forceLoad:false,onLoad:false,onComplete:false,timeout:1500,debug:false,xray:false});}catch(exception){console.log("error loading lazyload_ad "+exception);}});</script>
<script type="text/javascript">$(function(){var MOBILE_BREAK=929;if($(window).width()<=MOBILE_BREAK){executeDRRMobile();}else{executeDRRDesktop();}});function executeDRRMobile(){var TOP_IMU_HEIGHT=250,INTERMODULE_HEIGHT=400,GRAF_HEIGHT=25,MODULE_HEIGHT_BUFFER=350,AD_HEIGHT_BUFFER=350,RIGHT_PIXEL_WINDOW=300,DEBUG=false;var articleDRRModuleList=["dealposts","insider.promo.direct"],moduleUrls=[],modules=[],placementIndex=[],moduleCounter=0,adPositions=new Array(0,1,3);cumulativeHeight=0,loopCounter=0,placementTarget=TOP_IMU_HEIGHT+MODULE_HEIGHT_BUFFER+GRAF_HEIGHT+INTERMODULE_HEIGHT;if(false){var dealpostsIdx=articleDRRModuleList.indexOf("dealposts");if(dealpostsIdx>-1){articleDRRModuleList.splice(dealpostsIdx,1);adPositions=[0,1,2];}}for(var i=0;i<articleDRRModuleList.length;i++){var articleDRRModuleName=articleDRRModuleList[i];if(articleDRRModuleName=="products.latest-reviews"){articleDRRModuleName+="&pageSize=3";articleDRRModuleName+="&categoryId=3551";}else if(articleDRRModuleName=="articles.latest-reviews"){articleDRRModuleName+="&categoryId=3551";}else if(articleDRRModuleName=="insider.promo.direct"){var isPremium=false;showPromo=false;articleDRRModuleName+="&pageSize=3&showPromo="+showPromo;articleDRRModuleName+="&categoryId=3551";}moduleUrls.push("/napi/tile?def="+articleDRRModuleName+"&excludeCurrentArticle=true&excludeIds=3175789");}if($("figure.hero-img").height()){placementTarget+=$("figure.hero-img").height();}var firstModIndex=$("#drr-container > p:eq(7)").index();$("#drr-container").children().slice(0,firstModIndex).each(function(){placementTarget+=$(this).height();});var firstMobileAdHtml=getLazyLoadAdHtml();$("#drr-container").children().each(function(index,value){if($(this).is(':visible')){if(DEBUG){console.log($(this));}if(cumulativeHeight>=placementTarget){if(DEBUG){console.log("cumulativeHeight >= placementTarget and cumulativeHeight is "+cumulativeHeight+" and placementTarget is "+placementTarget);}var placementDiff=0;if($.inArray(loopCounter,adPositions)!=-1){IDG.GPT.addExtIMU();var adDivString;if(true){adDivString=getLazyLoadAdHtml();}else{IDG.GPT.IMUCounter=IDG.GPT.IMUCounter+1;var slotName=IDG.GPT.getIMUSlotName(),adString="<div id='"+slotName+"'></div><script>$('#"+slotName+"').responsiveAd({screenSize:'971 1115', scriptTags: []});if (Object.keys(IDG.GPT.companions).length > 0) {IDG.GPT.refreshAd('"+slotName+"');}<\/script>";adDivString="<div class='apart ad'>"+adString+"</div>";IDG.GPT.defineGoogleTagSlot(slotName,[[320,50],[300,250],[300,50]]);}placementDiff=applyInsert($(this),adDivString);if(DEBUG){console.log("Just placed an ad and the placementDiff is: "+placementDiff);}placementTarget=cumulativeHeight+placementDiff+INTERMODULE_HEIGHT+AD_HEIGHT_BUFFER;}else if(moduleCounter<articleDRRModuleList.length){var elementId="drr-mod-"+moduleCounter;var moduleDivString="<div id=\""+elementId+"\" />";modules.push(elementId);placementDiff=applyInsert($(this),moduleDivString);if(DEBUG){console.log("Just placed a module and the placementDiff is: "+placementDiff);}placementTarget=cumulativeHeight+placementDiff+INTERMODULE_HEIGHT+MODULE_HEIGHT_BUFFER;moduleCounter++;}loopCounter++;}if($(this).is("figure")&&!$(this).is("figure.large")){cumulativeHeight+=GRAF_HEIGHT;}else{cumulativeHeight+=$(this).height()+GRAF_HEIGHT;}}});var $relatedStories=$('.related-promo-wrapper');if($relatedStories.length){var $relatedStoriesClone=$relatedStories.clone();$relatedStoriesClone.insertAfter("#drr-container > p:eq(7)");}if(firstMobileAdHtml){$(firstMobileAdHtml).insertAfter("#drr-container > p:eq(1)");}var $insiderPromo=$('.insider-promo-wrapper');if($insiderPromo.length){var $insiderPromoClone=$insiderPromo.clone();$insiderPromoClone.insertAfter("#drr-container > p:eq(1)");}IDG.GPT.trackOmniture();var placeModule=function(data){var placementId=$(data).filter('div').attr('data-placement-id');$("#"+placementId).html(data);};for(i=0;i<modules.length;i++){if(moduleUrls[i]!==undefined){$.get(moduleUrls[i]+"&divId="+modules[i],placeModule);}}$("div.lazyload_ad_article").lazyLoadAd({threshold:0,forceLoad:false,onLoad:false,onComplete:false,timeout:1500,debug:false,xray:false});function getLazyLoadAdHtml(){var adString=IDG.GPT.getLazyAdCode();return"<div class=\"apart ad lazyload_ad_article\">"+adString+"</div>";}function applyInsert(jqo,divString){if(DEBUG){console.log("applyInsert at top and jqo index is: "+jqo.index());}for(var i=0;i<=6;i++){$thisElement=jqo.nextAll().andSelf().slice(i,i+1);if(DEBUG){console.log("Checking first six and i is: "+i+" and this element index is "+$thisElement.index());}if($thisElement.index()<0){break;}if(allowPlacement($thisElement)){return addElement(jqo,$thisElement,divString);}}if(DEBUG){console.log("No nearby allows so just place in first spot that is not after reject.");}var numElements=jqo.nextAll().length;var startIndex=jqo.index();for(var i=startIndex;i<=numElements;i++){var $element=$("#drr-container").children().eq(i);if($element!=null&&(placementIndex==null||placementIndex.indexOf(i)==-1)&&!isReject($element.prev())){return addElement(jqo,$element,divString);}}if(DEBUG){console.log("Not going to place element: return 0.");}return 0;}function addElement(jqo,allowElement,divString){var offset=allowElement.index()-jqo.index();if(DEBUG){console.log("addElement: jqo index is "+jqo.index()+" allowElement index is "+allowElement.index());}if(elementNotNearEnd(allowElement,RIGHT_PIXEL_WINDOW)){allowElement.before(divString);if(DEBUG){console.log("addElement: Adding "+allowElement.index()+" to placementIndex.");}placementIndex.push(allowElement.index());if(offset==0){return 0;}else{return getHeightDifference(jqo,allowElement);}}else{if(DEBUG){console.log("addElement: Near the end so do NOT add.");}return 0;}}function getHeightDifference(jqo,allowElement){var offset=allowElement.index()-jqo.index(),height=0,children=null;if(offset>0){children=$("#drr-container").children().slice(jqo.index(),allowElement.index());}else{children=$("#drr-container").children().slice(allowElement.index(),jqo.index());}if(children!=null){children.each(function(i){if(DEBUG){console.log("About to add this element's height to heigh diff offset");console.log($(this));}height+=$(this).height()+GRAF_HEIGHT;});}if(offset<0){height*=-1;}if(DEBUG){console.log("getHeightDifference: offset was "+offset+" and height diff is : "+height);}return height;}function allowPlacement(jqo){if(jqo.prev()!=null&&isReject(jqo.prev())){return false;}return true;}function isReject(jqo){if(jqo!=null){if(jqo.is('h2')||jqo.is('h3')||jqo.is('h4')||jqo.is('h5')){if(DEBUG){console.log("isReject: found header");}return true;}}return false;}function elementNotNearEnd(element,pixelWindow){if(pixelWindow===null){pixelWindow=500;}if(element===null){return false;}var remainingHeight=0,children=$("#drr-container").children().slice(element.index());if(children===null){return false;}children.each(function(i){remainingHeight+=$(this).height();});if(remainingHeight>pixelWindow){return true;}else{if(DEBUG){console.log("Element too close to end. Remaining height is: "+remainingHeight+" and window is "+pixelWindow);}return false;}}}function executeDRRDesktop(){var heroImgHeight=$('figure.hero-img').outerHeight(true);if(heroImgHeight===null){heroImgHeight=0;}var galleryItemHeight=$('figure.thm-gallery').outerHeight(true);if(galleryItemHeight===null){galleryItemHeight=0;}var atAglanceTop=$('.at-a-glance.top').height();if(atAglanceTop===null){atAglanceTop=0;}var drrContainerHeight=$('div#drr-container').outerHeight(true);var topIMUheight=$('#topimu').height();if(topIMUheight===0){topIMUheight=600;}var relatedPromoHeight=$('div.related-promo-wrapper').outerHeight(true);if(relatedPromoHeight===null){relatedPromoHeight=0;}var videoHowtoHeight=$('div#video-howto-wrapper').outerHeight(true);if(videoHowtoHeight===null){videoHowtoHeight=0;}var teadsInreadHeight=$('div.teads-inread').height();if(teadsInreadHeight===null){teadsInreadHeight=0;}var unrulyAdHeight=$('.unruly_in_article_placement').height();if(unrulyAdHeight===null){unrulyAdHeight=0;}var collapsibleAdHeight=unrulyAdHeight+teadsInreadHeight;var workingRRheight=((heroImgHeight+galleryItemHeight+atAglanceTop+drrContainerHeight)-(topIMUheight+relatedPromoHeight+videoHowtoHeight));workingRRheight=workingRRheight-collapsibleAdHeight;if(galleryItemHeight>0){workingRRheight=workingRRheight-1400;}var DEBUG=false;if(DEBUG){console.log('-----working RR height = '+workingRRheight);}var articleDRRModuleList=["dealposts","insider.promo.direct"],moduleUrls=[],modules=[],moduleCounter=0,loopCounter=0;var adPositions=new Array(0,1,3);if(false){var dealpostsIdx=articleDRRModuleList.indexOf("dealposts");if(dealpostsIdx>-1){articleDRRModuleList.splice(dealpostsIdx,1);adPositions=[0,1,2];}}for(var i=0;i<articleDRRModuleList.length;i++){var articleDRRModuleName=articleDRRModuleList[i];if(articleDRRModuleName=="products.latest-reviews"){articleDRRModuleName+="&pageSize=3";articleDRRModuleName+="&categoryId=3551";}else if(articleDRRModuleName=="articles.latest-reviews"){articleDRRModuleName+="&categoryId=3551";}else if(articleDRRModuleName=="insider.promo.direct"){var isPremium=false;showPromo=false;articleDRRModuleName+="&pageSize=3&showPromo="+showPromo;articleDRRModuleName+="&categoryId=3551";}moduleUrls.push("/napi/tile?def="+articleDRRModuleName+"&excludeCurrentArticle=true&excludeIds=3175789");}var numItems=0;if(workingRRheight>650){numItems=1;}if(workingRRheight>1350){numItems=2;}if(workingRRheight>2300){numItems=3;}if(workingRRheight>2950){numItems=4;}if(workingRRheight>3650){numItems=5;}for(var currIndex=0;currIndex<numItems;currIndex++){if($.inArray(currIndex,adPositions)!=-1){IDG.GPT.addExtIMU();var adDivString;if(true){adDivString=getLazyLoadAdHtml();}else{IDG.GPT.IMUCounter=IDG.GPT.IMUCounter+1;var slotName=IDG.GPT.getIMUSlotName(),adString="<div id='"+slotName+"'></div><script>$('#"+slotName+"').responsiveAd({screenSize:'971 1115', scriptTags: []});if (Object.keys(IDG.GPT.companions).length > 0) {IDG.GPT.refreshAd('"+slotName+"');}<\/script>";adDivString="<div class='apart ad'>"+adString+"</div>";IDG.GPT.defineGoogleTagSlot(slotName,[[320,50],[300,250],[300,50]]);}$(adDivString).appendTo('#drr-top-ad');if(DEBUG){console.log("-----Just placed an AD currIndex = "+currIndex);}}else if(moduleCounter<articleDRRModuleList.length){var elementId="drr-mod-"+moduleCounter;var moduleDivString="<div id=\""+elementId+"\" />";modules.push(elementId);$('#drr-top-ad').append(moduleDivString);if(DEBUG){console.log("-----Just placed a MODULE and currIndex =  "+currIndex);}moduleCounter++;}}IDG.GPT.trackOmniture();var placeModule=function(data){var placementId=$(data).filter('div').attr('data-placement-id');$("#"+placementId).html(data);};for(i=0;i<modules.length;i++){if(moduleUrls[i]!==undefined){$.get(moduleUrls[i]+"&divId="+modules[i],placeModule);}}$("div.lazyload_ad_article").lazyLoadAd({threshold:0,forceLoad:false,onLoad:false,onComplete:false,timeout:1500,debug:false,xray:false});function getLazyLoadAdHtml(){var adString=IDG.GPT.getLazyAdCode();return"<div class=\"apart ad lazyload_ad_article\">"+adString+"</div>";}}</script>
<div id="drr-container" class='cat ' itemprop="articleBody">
<div class="lazyload_ad">
<code type="text/javascript">
<!--
			document.write('<div id="gpt-pin" class=" ad-container">');
			IDG.GPT.addDisplayedAd("gpt-pin", "true");
			IDG.GPT.addLazyloadedAd("gpt-pin", "true");
			document.write('</div>');
			
				
					IDG.GPT.displayGoogleTagSlot('gpt-pin');
				
				
			
			if (Object.keys(IDG.GPT.companions).length > 0) {
				IDG.GPT.refreshAd('gpt-pin');
			}
			//-->
</code>
</div>
<p>
Facebook has open-sourced its Prophet forecasting tool, designed "to make it easier for experts and non-experts to make high-quality forecasts," according to <a href="https://research.fb.com/prophet-forecasting-at-scale/" target="_blank">a blog post</a> by Sean J. Taylor and Ben Letham in the company's research team. "Forecasts are customizable in ways that are intuitive to non-experts," they wrote.
</p><p>
The code is <a href="https://github.com/facebookincubator/prophet" target="_blank">available on GitHub</a> in both Python and R.
</p><p>
Prophet is aimed specifically at business problems such as computer infrastructure capacity planning that have at least several months of data (preferably a year or more) and issues such as seasonality, "holidays" that can affect trends (such as Black Friday and Cyber Monday for retailers), and events that can have significant impacts (such as launching a new website when trying to forecast site traffic). Prophet can also handle some missing values and outliers, the blog post said.
</p><aside id="fsb-2055" class="fakesidebar"><strong>[ To comment on this story, visit <a href="https://www.facebook.com/Computerworld/posts/10155060675684680" target="_blank">Computerworld's Facebook page</a>. ]</strong></aside><p>
Facebook suggests taking Prophet for a spin using page views from a Wikipedia page, data which is currently available on <a href="https://tools.wmflabs.org/pageviews/?project=en.wikipedia.org&amp;platform=all-access&amp;agent=user&amp;range=latest-20&amp;pages=Cat|Dog" target="_blank">tools.wmflabs.org/pageviews</a>. In R, data needs to be set up so it has two columns: one named ds containing dates, and the other with numerical data. The sample -- forecasting pageviews for Peyton Manning's Wikipedia page - changed the numerical data to a log scale with R's log() function. Basic Prophet forecasting steps:
</p><aside class="nativo-promo smartphone" id=""> </aside><ul>
<li>A command such as <code>my_model &lt;- prophet(mydata)</code> fits a model;</li>
<li><code>my_future &lt;- make_future_dataframe(my_model, periods = 365)</code> starts a data frame with an appropriate date column for both past and to-be-predicted dates;</li>
<li><code>my_forecast &lt;- predict(my_model, my_future_df)</code> generates the forecast;</li>
<li><code>plot(my_model, my_forecast)</code> visualizes the forecast; and</li>
<li><code>prophet_plot_components(my_model, my_forecast)</code> graphs trend and seasonal components of the forecast.</li>
</ul><figure class="large "><img src="http://images.techhive.com/images/article/2017/02/sampleseasonalforecast-100711129-large.jpeg" border="0" alt="Sample plot of trends and seasonality" width="700" height="467" data-imageid="100711129"/> <small class="credit">Screenshot of graphic created by Facebook's Prophet tool</small> <figcaption>
<p>
Sample plot of trends and seasonality using Facebook's Prophet in R.
</p>
</figcaption></figure><p>
To include holidays and other special events, you'd create a new data frame with a ds column for dates and a holiday column with the name of the holiday. That information can be included in the initial model with <code>my_model &lt;- Prophet(my_data, holidays = my_holidays)</code>. There's <a href="https://facebookincubator.github.io/prophet/docs/holiday_effects.html" target="_blank">more about holidays in Prophet in the documentation</a>.
</p><p>
Prophet was built using <a href="http://mc-stan.org/" target="_blank">Stan</a>, a probability programming language that connects with several popular analytics platforms such as MATLAB and Stata in addition to Python and R.
</p>

</body>
</html>