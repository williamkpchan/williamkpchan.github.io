<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width"/>
<link rel="stylesheet" href="..\maincss.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script>
$(document).ready(function(){
    $('h1, h2, h3, h4, h5, .goldword, .apply, div.title').click(function(){
    parent.history.back();
    return false;
    });
});
</script>
<style>
h1, h2 {color: gold;}
</style>
</head><body>
<center><h1>MongoDB Tutorial</h1></center>
<div id="toc"></div>
<br>
<br>
<br>

<h1">Install MongoDB Community Edition on Windows</h1>

<section>
<h2 id="overview">Overview</h2>
<p>Use this tutorial to install MongoDB Community Edition on Windows systems.</p>
<p>Platform Support: Starting in version 3.6 MongoDB requires Windows Server 2008 R2,
Windows 7, or later.</p>
<p>Important: If you are running any edition of Windows Server 2008 R2 or Windows 7, please install <a href="http://support.microsoft.com/kb/2731284">a hotfix to resolve an issue with memory mapped files on Windows</a>.</p>
<p>Note: Starting in MongoDB 3.6, MongoDB binaries, <a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod"><code>mongod</code></a> and <a href="https://docs.mongodb.com/manual/reference/program/mongos/#bin.mongos"><code>mongos</code></a>, bind to localhost by default. Previously, starting in MongoDB 2.6, only the binaries from the official MongoDB RPM (Red Hat, CentOS, Fedora Linux, and derivatives) and DEB (Debian, Ubuntu, and derivatives) packages bind to localhost by default. For more details, see <a href="https://docs.mongodb.com/manual/release-notes/3.6-compatibility/#bind-ip-compatibility">Localhost Binding Compatibility Changes</a>.</p>

</section>
<section>
<h2 id="requirements">Requirements</h2>
<p>MongoDB Community Edition requires Windows Server 2008 R2, Windows 7, or
later. The <code>.msi</code> installer includes all other software dependencies
and will automatically upgrade any older version of MongoDB installed
using an <code>.msi</code> file.</p>
<p>To find which version of Windows you are running, enter the following
commands in the Command Prompt or Powershell:</p>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="n">wmic</span> <span class="n">os</span> <span class="n">get</span> <span class="n">caption</span>
<span class="n">wmic</span> <span class="n">os</span> <span class="n">get</span> <span class="n">osarchitecture</span></code></pre></div>

</section>
<section>
<h2 id="get-mongodb-community-edition">Get MongoDB Community Edition</h2>
<p>Note: To install a different version of MongoDB, please refer to that version&#39;s documentation. For example, see version <a href="../install-mongodb-on-windows/">3.4</a>.</p>
<p>Download the latest production release of MongoDB from the <a href="https://www.mongodb.com/download-center#community">MongoDB
Download Center</a>.</p>

</section>
<section>
<h2 id="install-mongodb-community-edition">Install MongoDB Community Edition</h2>

<section>
<h3 id="interactive-installation">Interactive Installation</h3>
<p>In Windows Explorer, locate the downloaded MongoDB <code>.msi</code> file, which
typically is located in the default <code>Downloads</code> folder. Double-click
the <code>.msi</code> file. A set of screens will appear to guide you through the
installation process.</p>
<p>You may specify an installation directory if you choose the &quot;Custom&quot;
installation option.</p>
<p>Note: These instructions assume that you have installed MongoDB to <code>C:\Program Files\MongoDB\Server\3.6\</code>.</p>
<p>During the installation process you will be given the option to install
<a href="https://docs.mongodb.com/compass/current/#compass-index"><em>MongoDB Compass</em></a> in addition to MongoDB Server.</p>
<p>MongoDB is self-contained and does not have any other system
dependencies. You can run MongoDB from any folder you choose. You may
install MongoDB in any folder (e.g. <code>D:\test\mongodb</code>).</p>

</section>
<section>
<h3 id="unattended-installation">Unattended Installation</h3>
<p>You may install MongoDB Community unattended on Windows from the command line
using <code>msiexec.exe</code>.</p>

<section>
<h4 id="step-1-open-an-administrator-command-prompt-">Step 1: Open an Administrator command prompt.</h4>
<p>Press the <code>Win</code> key, type <code>cmd.exe</code>, and press <code>Ctrl + Shift + Enter</code>
to run the Command Prompt as Administrator.</p>
<p>Execute the remaining steps from the Administrator command prompt.</p>

</section>
<section>
<h4 id="step-2-install-mongodb-for-windows-">Step 2: Install MongoDB for Windows.</h4>
<p>Change to the directory containing the <code>.msi</code> installation binary of your
choice and invoke:</p>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="n">msiexec</span><span class="p">.</span><span class="n">exe</span> <span class="p">/</span><span class="n">q</span> <span class="p">/</span><span class="n">i</span> <span class="n">mongodb-win32-x86_64</span><span class="p">-</span><span class="n">2008plus-ssl</span><span class="p">-</span><span class="n">3</span><span class="p">.</span><span class="n">6</span><span class="p">.</span><span class="n">0-signed</span><span class="p">.</span><span class="n">msi</span> <span class="p">^</span>
            <span class="n">INSTALLLOCATION</span><span class="p">=</span><span class="s2">&#34;C:\Program Files\MongoDB\Server\3.6.0\&#34;</span> <span class="p">^</span>
            <span class="n">ADDLOCAL</span><span class="p">=</span><span class="s2">&#34;all&#34;</span></code></pre></div>
<p>You can specify the installation location for the executable by
modifying the <code>INSTALLLOCATION</code> value.</p>
<p>By default, this method installs all MongoDB binaries. To install specific
MongoDB component sets, you can specify them in the <code>ADDLOCAL</code> argument
using a comma-separated list including one or more of the following
component sets:</p>
<table>
<thead>
<tr>
<th>Component Set</th>
<th>Binaries</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Server</code></td>
<td><code>mongod.exe</code></td>
</tr>
<tr>
<td><code>Router</code></td>
<td><code>mongos.exe</code></td>
</tr>
<tr>
<td><code>Client</code></td>
<td><code>mongo.exe</code></td>
</tr>
<tr>
<td><code>MonitoringTools</code></td>
<td><code>mongostat.exe</code>, <code>mongotop.exe</code></td>
</tr>
<tr>
<td><code>ImportExportTools</code></td>
<td><code>mongodump.exe</code>, <code>mongorestore.exe</code>, <code>mongoexport.exe</code>, <code>mongoimport.exe</code></td>
</tr>
<tr>
<td><code>MiscellaneousTools</code></td>
<td><code>bsondump.exe</code>, <code>mongofiles.exe</code>, <code>mongoperf.exe</code></td>
</tr>
</tbody>
</table>
<p>For instance, to install <em>only</em> the MongoDB utilities, invoke:</p>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="n">msiexec</span><span class="p">.</span><span class="n">exe</span> <span class="p">/</span><span class="n">q</span> <span class="p">/</span><span class="n">i</span> <span class="n">mongodb-win32-x86_64</span><span class="p">-</span><span class="n">2008plus-ssl</span><span class="p">-</span><span class="n">3</span><span class="p">.</span><span class="n">6</span><span class="p">.</span><span class="n">0-signed</span><span class="p">.</span><span class="n">msi</span> <span class="p">^</span>
            <span class="n">INSTALLLOCATION</span><span class="p">=</span><span class="s2">&#34;C:\Program Files\MongoDB\Server\3.6.0\&#34;</span> <span class="p">^</span>
            <span class="n">ADDLOCAL</span><span class="p">=</span><span class="s2">&#34;MonitoringTools,ImportExportTools,MiscellaneousTools&#34;</span></code></pre></div>

</section>
</section>
</section>
<section>
<h2 id="run-mongodb-community-edition">Run MongoDB Community Edition</h2>
<p>Warning: Do not make <a href="https://docs.mongodb.com/manual/reference/program/mongod.exe/#bin.mongod.exe"><code>mongod.exe</code></a> visible on public networks without running in &quot;Secure Mode&quot; with the <code>auth</code> setting. MongoDB is designed to be run in trusted environments, and the database does not enable &quot;Secure Mode&quot; by default.</p>

<section>
<h3 id="step-1-set-up-the-mongodb-environment-">Step 1: Set up the MongoDB environment.</h3>
<p>MongoDB requires a <a href="https://docs.mongodb.com/manual/reference/glossary/#term-dbpath"><em>data directory</em></a> to store all
data. MongoDB&#39;s default data directory path is the absolute path
<code>\data\db</code> on the drive from which you start MongoDB. Create
this folder by running the following command in a
Command Prompt:</p>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="n">md</span> <span class="p">\</span><span class="n">data</span><span class="p">\</span><span class="n">db</span></code></pre></div>
<p>You can specify an alternate path for data files using the
<code>--dbpath</code> option to
<a href="https://docs.mongodb.com/manual/reference/program/mongod.exe/#bin.mongod.exe"><code>mongod.exe</code></a>, for example:</p>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="s2">&#34;C:\Program Files\MongoDB\Server\3.6\bin\mongod.exe&#34;</span> <span class="p">-</span><span class="n">-dbpath</span> <span class="n">d</span><span class="err">:</span><span class="p">\</span><span class="n">test</span><span class="p">\</span><span class="n">mongodb</span><span class="p">\</span><span class="n">data</span></code></pre></div>
<p>If your path includes spaces, enclose the entire path in double
quotes, for example:</p>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="s2">&#34;C:\Program Files\MongoDB\Server\3.6\bin\mongod.exe&#34;</span> <span class="p">-</span><span class="n">-dbpath</span> <span class="s2">&#34;d:\test\mongo db data&#34;</span></code></pre></div>
<p>You may also specify the <code>dbpath</code> in a <a href="https://docs.mongodb.com/manual/reference/configuration-options">configuration file</a>.</p>

</section>
<section>
<h3 id="step-2-start-mongodb-">Step 2: Start MongoDB.</h3>
<p>To start MongoDB, run <a href="https://docs.mongodb.com/manual/reference/program/mongod.exe/#bin.mongod.exe"><code>mongod.exe</code></a>. For example, from the
Command Prompt:</p>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="s2">&#34;C:\Program Files\MongoDB\Server\3.6\bin\mongod.exe&#34;</span></code></pre></div>
<p>This starts the main MongoDB database process. The <code>waiting for
connections</code> message in the console output indicates that the
<a href="https://docs.mongodb.com/manual/reference/program/mongod.exe/#bin.mongod.exe"><code>mongod.exe</code></a> process is running successfully.</p>
<p>Depending on the security level of your system, Windows may pop up a
Security Alert dialog box about blocking &quot;some features&quot; of
<code>C:\Program Files\MongoDB\Server\3.6\bin\mongod.exe</code> from communicating
on networks. All users should select <code>Private Networks, such as my home or
work network</code> and click <code>Allow access</code>. For additional information on
security and MongoDB, please see the <a href="https://docs.mongodb.com/manual/security">Security Documentation</a>.</p>

</section>
<section>
<h3 id="step-3-connect-to-mongodb-">Step 3: Connect to MongoDB.</h3>
<p>To connect to MongoDB through the <a href="https://docs.mongodb.com/manual/reference/program/mongo/#bin.mongo"><code>mongo.exe</code></a> shell,
open another Command Prompt.</p>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="s2">&#34;C:\Program Files\MongoDB\Server\3.6\bin\mongo.exe&#34;</span></code></pre></div>
<p>If you want to develop applications using .NET, see the documentation
of <a href="https://docs.mongodb.com/ecosystem/drivers/csharp">C# and MongoDB</a> for more information.</p>

</section>
<section>
<h3 id="step-4-begin-using-mongodb-">Step 4: Begin using MongoDB.</h3>
<p>To help you start using MongoDB, MongoDB provides <a href="https://docs.mongodb.com/manual/tutorial/getting-started/#getting-started">Getting
Started Guides</a> in various driver editions. See
<a href="https://docs.mongodb.com/manual/tutorial/getting-started/#getting-started">Getting Started</a> for the available editions.</p>
<p>Before deploying MongoDB in a production environment, consider the
<a href="https://docs.mongodb.com/manual/administration/production-notes">Production Notes</a> document.</p>
<p>Later, to stop MongoDB, press <code>Control+C</code> in the terminal where the
<a href="https://docs.mongodb.com/manual/reference/program/mongod/#bin.mongod"><code>mongod</code></a> instance is running.</p>
<p><span id="manually-create-windows-service"></span></p>

</section>
</section>
<section>
<h2 id="configure-a-windows-service-for-mongodb-community-edition">Configure a Windows Service for MongoDB Community Edition</h2>

<section>
<h3 id="step-1-open-an-administrator-command-prompt-">Step 1: Open an Administrator command prompt.</h3>
<p>Press the <code>Win</code> key, type <code>cmd.exe</code>, and press <code>Ctrl + Shift + Enter</code>
to run the Command Prompt as Administrator.</p>
<p>Execute the remaining steps from the Administrator command prompt.</p>

</section>
<section>
<h3 id="step-2-create-directories-">Step 2: Create directories.</h3>
<p>Create directories for your database and log files:</p>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="n">mkdir</span> <span class="n">c</span><span class="err">:</span><span class="p">\</span><span class="n">data</span><span class="p">\</span><span class="n">db</span>
<span class="n">mkdir</span> <span class="n">c</span><span class="err">:</span><span class="p">\</span><span class="n">data</span><span class="p">\</span><span class="n">log</span></code></pre></div>

</section>
<section>
<h3 id="step-3-create-a-configuration-file-">Step 3: Create a configuration file.</h3>
<p>Create a configuration file. The file <strong>must</strong> set <a href="https://docs.mongodb.com/manual/reference/configuration-options/#systemLog.path"><code>systemLog.path</code></a>.
Include additional
<a href="https://docs.mongodb.com/manual/reference/configuration-options">configuration options</a> as appropriate.</p>
<p>For example, create a file at <code>C:\Program Files\MongoDB\Server\3.6\mongod.cfg</code> that specifies both
<a href="https://docs.mongodb.com/manual/reference/configuration-options/#systemLog.path"><code>systemLog.path</code></a> and <a href="https://docs.mongodb.com/manual/reference/configuration-options/#storage.dbPath"><code>storage.dbPath</code></a>:</p>
<div class="highlight"><pre class="chroma"><code class="language-yaml" data-lang="yaml">systemLog<span class="p">:</span><span class="w">
</span><span class="w">    </span>destination<span class="p">:</span><span class="w"> </span>file<span class="w">
</span><span class="w">    </span>path<span class="p">:</span><span class="w"> </span>c<span class="p">:</span>\data\log\mongod.log<span class="w">
</span><span class="w"></span>storage<span class="p">:</span><span class="w">
</span><span class="w">    </span>dbPath<span class="p">:</span><span class="w"> </span>c<span class="p">:</span>\data\db</code></pre></div>

</section>
<section>
<h3 id="step-4-install-the-mongodb-service-">Step 4: Install the MongoDB service.</h3>
<p>Important: Run all of the following commands in Command Prompt with &quot;Administrative Privileges&quot;.</p>
<p>Install the MongoDB service by starting <a href="https://docs.mongodb.com/manual/reference/program/mongod.exe/#bin.mongod.exe"><code>mongod.exe</code></a>
with the <code>--install</code> option and the <code>-config</code>
option to specify the previously created configuration file.</p>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="s2">&#34;C:\Program Files\MongoDB\Server\3.4\bin\mongod.exe&#34;</span> <span class="p">-</span><span class="n">-config</span> <span class="s2">&#34;C:\Program Files\MongoDB\Server\3.4\mongod.cfg&#34;</span> <span class="p">-</span><span class="n">-install</span></code></pre></div>
<p>To use an alternate <code>dbpath</code>, specify the path in the
configuration file (e.g. <code>C:\mongodb\mongod.cfg</code>) or
on the command line with the <code>--dbpath</code> option.</p>
<p>If needed, you can install services for multiple instances of
<a href="https://docs.mongodb.com/manual/reference/program/mongod.exe/#bin.mongod.exe"><code>mongod.exe</code></a> or <a href="https://docs.mongodb.com/manual/reference/program/mongos.exe/#bin.mongos.exe"><code>mongos.exe</code></a>. Install each service
with a unique <code>--serviceName</code> and
<code>--serviceDisplayName</code>. Use
multiple instances only when sufficient system resources exist and your
system design requires it.</p>

</section>
<section>
<h3 id="step-5-start-the-mongodb-service-">Step 5: Start the MongoDB service.</h3>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="n">net</span> <span class="n">start</span> <span class="n">MongoDB</span></code></pre></div>

</section>
<section>
<h3 id="step-6-stop-or-remove-the-mongodb-service-as-needed-">Step 6: Stop or remove the MongoDB service as needed.</h3>
<p>To stop the MongoDB service use the following command:</p>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="n">net</span> <span class="n">stop</span> <span class="n">MongoDB</span></code></pre></div>
<p>To remove the MongoDB service use the following command:</p>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="s2">&#34;C:\Program Files\MongoDB\Server\3.4\bin\mongod.exe&#34;</span> <span class="p">-</span><span class="n">-remove</span></code></pre></div>

</section>
</section>
<section>
<h2 id="manually-create-a-windows-service-for-mongodb-community-edition">Manually Create a Windows Service for MongoDB Community Edition</h2>
<p>You can set up the MongoDB server as a Windows Service that
starts automatically at boot time.</p>
<p>The following procedure assumes you have installed MongoDB Community using the
<code>.msi</code> installer with the path <code>C:\Program Files\MongoDB\Server\3.4\</code>.</p>
<p>If you have installed in an alternative directory, you will need to
adjust the paths as appropriate.</p>

<section>
<h3 id="step-1-open-an-administrator-command-prompt-">Step 1: Open an Administrator command prompt.</h3>
<p>Press the <code>Win</code> key, type <code>cmd.exe</code>, and press <code>Ctrl + Shift + Enter</code>
to run the Command Prompt as Administrator.</p>
<p>Execute the remaining steps from the Administrator command prompt.</p>

</section>
<section>
<h3 id="step-2-create-directories-">Step 2: Create directories.</h3>
<p>Create directories for your database and log files:</p>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="n">mkdir</span> <span class="n">c</span><span class="err">:</span><span class="p">\</span><span class="n">data</span><span class="p">\</span><span class="n">db</span>
<span class="n">mkdir</span> <span class="n">c</span><span class="err">:</span><span class="p">\</span><span class="n">data</span><span class="p">\</span><span class="n">log</span></code></pre></div>

</section>
<section>
<h3 id="step-3-create-a-configuration-file-">Step 3: Create a configuration file.</h3>
<p>Create a configuration file. The file <strong>must</strong> set <a href="https://docs.mongodb.com/manual/reference/configuration-options/#systemLog.path"><code>systemLog.path</code></a>.
Include additional
<a href="https://docs.mongodb.com/manual/reference/configuration-options">configuration options</a> as appropriate.</p>
<p>For example, create a file at <code>C:\Program Files\MongoDB\Server\3.6\mongod.cfg</code> that specifies both
<a href="https://docs.mongodb.com/manual/reference/configuration-options/#systemLog.path"><code>systemLog.path</code></a> and <a href="https://docs.mongodb.com/manual/reference/configuration-options/#storage.dbPath"><code>storage.dbPath</code></a>:</p>
<div class="highlight"><pre class="chroma"><code class="language-yaml" data-lang="yaml">systemLog<span class="p">:</span><span class="w">
</span><span class="w">    </span>destination<span class="p">:</span><span class="w"> </span>file<span class="w">
</span><span class="w">    </span>path<span class="p">:</span><span class="w"> </span>c<span class="p">:</span>\data\log\mongod.log<span class="w">
</span><span class="w"></span>storage<span class="p">:</span><span class="w">
</span><span class="w">    </span>dbPath<span class="p">:</span><span class="w"> </span>c<span class="p">:</span>\data\db</code></pre></div>

</section>
<section>
<h3 id="step-4-create-the-mongodb-service-">Step 4: Create the MongoDB service.</h3>
<p>Create the MongoDB service.</p>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="n">sc</span><span class="p">.</span><span class="n">exe</span> <span class="n">create</span> <span class="n">MongoDB</span> <span class="n">binPath</span><span class="p">=</span> <span class="s2">&#34;\&#34;</span><span class="n">C</span><span class="err">:</span><span class="p">\</span><span class="n">Program</span> <span class="n">Files</span><span class="p">\</span><span class="n">MongoDB</span><span class="p">\</span><span class="n">Server</span><span class="p">\</span><span class="n">3</span><span class="p">.</span><span class="n">6</span><span class="p">\</span><span class="n">bin</span><span class="p">\</span><span class="n">mongod</span><span class="p">.</span><span class="n">exe</span><span class="p">\</span><span class="s2">&#34; --service --config=\&#34;</span><span class="n">C</span><span class="err">:</span><span class="p">\</span><span class="n">Program</span> <span class="n">Files</span><span class="p">\</span><span class="n">MongoDB</span><span class="p">\</span><span class="n">Server</span><span class="p">\</span><span class="n">3</span><span class="p">.</span><span class="n">6</span><span class="p">\</span><span class="n">mongod</span><span class="p">.</span><span class="n">cfg</span><span class="p">\</span><span class="s2">&#34;&#34;</span> <span class="n">DisplayName</span><span class="p">=</span> <span class="s2">&#34;MongoDB&#34;</span> <span class="n">start</span><span class="p">=</span> <span class="s2">&#34;auto&#34;</span></code></pre></div>
<p><code>sc.exe</code> requires a space between &quot;=&quot; and the configuration values
(eg &quot;binPath= &quot;), and a &quot;&quot; to escape double quotes.</p>
<p>If successfully created, the following log message will display:</p>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="no">[SC]</span> <span class="n">CreateService</span> <span class="n">SUCCESS</span></code></pre></div>

</section>
<section>
<h3 id="step-5-start-the-mongodb-service-">Step 5: Start the MongoDB service.</h3>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="n">net</span> <span class="n">start</span> <span class="n">MongoDB</span></code></pre></div>

</section>
<section>
<h3 id="step-6-stop-or-remove-the-mongodb-service-as-needed-">Step 6: Stop or remove the MongoDB service as needed.</h3>
<p>To stop the MongoDB service, use the following command:</p>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="n">net</span> <span class="n">stop</span> <span class="n">MongoDB</span></code></pre></div>
<p>To remove the MongoDB service, first stop the service and then
run the following command:</p>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="n">sc</span><span class="p">.</span><span class="n">exe</span> <span class="n">delete</span> <span class="n">MongoDB</span></code></pre></div>

</section>
</section>

<h1 id="connect-to-mongodb-via-mongo-shell">Connect to MongoDB via Mongo Shell</h1>

<section>
<h2 id="introduction">Introduction</h2>
<p>The <a href="https://docs.mongodb.com/manual/reference/program/mongo/">mongo</a>
shell is an interactive JavaScript interface to MongoDB. This tutorial
demonstrates how to connect to MongoDB via the <strong>mongo</strong> shell. Once
connected to MongoDB, you can use the <strong>mongo</strong> shell to query and
update data as well as perform administrative operations.</p>

</section>
<section>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>MongoDB is <a href="https://docs.mongodb.com/manual/installation/#tutorials">installed</a>.
The <strong>mongo</strong> shell is a component of the
<a href="http://www.mongodb.org/downloads">MongoDB distributions</a>.</li>
<li>A running MongoDB instance. The instance can be running locally or 
on a remote host where both the <strong>hostname</strong> and <strong>port</strong> are known.</li>
</ul>

</section>
<section>
<h2 id="local-mongodb-instance-on-default-port">Local MongoDB Instance on Default Port</h2>
<p>To connect to a MongoDB instance running on <strong>localhost</strong> with <strong>default
port 27017</strong>:</p>
<ol>
<li>At a prompt in a terminal window (or a command prompt for Windows),
go to your <code>&lt;mongodb installation dir&gt;</code>:</li>
</ol>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh"><span class="nb">cd</span> &lt;mongodb installation dir&gt;</code></pre></div>
<ol>
<li>Type <strong>./bin/mongo</strong> to start <strong>mongo</strong>:</li>
</ol>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">./bin/mongo</code></pre></div>
<p>Alternatively, if you added the <code>&lt;mongodb installation dir&gt;/bin</code> to
your <code>PATH</code> you can run <code>mongo</code> instead of <code>./bin/mongo</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">mongo</code></pre></div>

</section>
<section>
<h2 id="local-mongodb-instance-on-a-non-default-port">Local MongoDB Instance on a Non-default Port</h2>
<p>Use the <code>--port &lt;port&gt;</code> command-line option to connect to a MongoDB instance
running on <strong>localhost</strong> with a <strong>non-default port 28015</strong>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">mongo --port <span class="m">28015</span></code></pre></div>

</section>
<section>
<h2 id="mongodb-instance-on-a-remote-host">MongoDB Instance on a Remote Host</h2>
<p>Use the <code>--host &lt;host&gt;:&lt;port&gt;</code> command-line option to connect to a MongoDB instance
running on a remote host machine:</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">mongo --host mongodb0.tutorials.com:28015</code></pre></div>
<p>Alternatively, pass the <strong>host</strong> and <strong>port</strong> parameters separately:</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">mongo --host mongodb0.tutorials.com --port <span class="m">28015</span></code></pre></div>

</section>
<section>
<h2 id="mongodb-instance-using-authentication">MongoDB Instance using Authentication</h2>
<p>Use the <code>--username &lt;user&gt;</code> and <code>--password &lt;pass&gt;</code> command-line options to
connect to a MongoDB instance that is using authentication:</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">mongo --username alice --password abc123 --host mongodb0.tutorials.com --port <span class="m">28015</span></code></pre></div>

</section>

<h1 id="connect-to-mongodb-via-the-python-driver">Connect to MongoDB via the Python Driver</h1>

<section>
<h2 id="introduction">Introduction</h2>
<p><a href="http://api.mongodb.com/python/current/index.html">PyMongo</a> is a Python
distribution containing tools for working with MongoDB. This tutorial 
demonstrates how to connect to MongoDB using the Pymongo driver.</p>

</section>
<section>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>A running MongoDB instance. The instance can be running locally if 
MongoDB is <a href="https://docs.mongodb.com/manual/installation/#tutorials">installed</a>
or running on a remote host where both the <strong>hostname</strong> and <strong>port</strong> are
known.</li>
<li>Pymongo driver is <a href="http://api.mongodb.com/python/current/installation.html">installed</a>.</li>
</ul>

</section>
<section>
<h2 id="local-mongodb-instance-on-default-port">Local MongoDB Instance on Default Port</h2>
<p>Pymongo uses the <a href="http://api.mongodb.com/python/current/api/pymongo/mongo_client.html#pymongo.mongo_client.MongoClient">MongoClient</a>
for connecting to a MongoDB instance, replica set, or
sharded cluster.</p>
<p>If your MongoDB instance is running on the default host (<strong>localhost</strong>)
and port (<strong>27017</strong>), you can instantiate a <code>MongoClient</code> without
specifying any parameters:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pymongo</span>
<span class="kn">from</span> <span class="nn">pymongo</span> <span class="kn">import</span> <span class="n">MongoClient</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">MongoClient</span><span class="p">()</span>

<span class="c1"># Get the sampleDB database</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">sampleDB</span></code></pre></div>

</section>
<section>
<h2 id="connect-using-host-and-port-parameters">Connect Using Host and Port Parameters</h2>
<p>The <strong>host</strong> and <strong>port</strong> can be specified explicitly by passing their
respective values as parameters to the <code>MongoClient</code>. The following
operation connects to a MongoDB instance running on a remote host using
the <strong>host</strong> and <strong>port</strong> parameters:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pymongo</span>
<span class="kn">from</span> <span class="nn">pymongo</span> <span class="kn">import</span> <span class="n">MongoClient</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">MongoClient</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;mongodb0.tutorials.com&#39;</span><span class="p">,</span> <span class="mi">27017</span><span class="p">)</span>

<span class="c1"># Get the sampleDB database</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">sampleDB</span></code></pre></div>
<p>The default <strong>host</strong> and <strong>port</strong> can also be specified explicitly:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pymongo</span>
<span class="kn">from</span> <span class="nn">pymongo</span> <span class="kn">import</span> <span class="n">MongoClient</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">MongoClient</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="mi">27017</span><span class="p">)</span>

<span class="c1"># Get the sampleDB database</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">sampleDB</span></code></pre></div>

</section>
<section>
<h2 id="connect-using-a-uri">Connect Using a URI</h2>
<p>Pymongo also accepts a
<a href="https://docs.mongodb.com/manual/reference/connection-string/">URI</a>
to connect to MongoDB:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pymongo</span>
<span class="kn">from</span> <span class="nn">pymongo</span> <span class="kn">import</span> <span class="n">MongoClient</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">MongoClient</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;mongodb://localhost:27017&#39;</span><span class="p">)</span>

<span class="c1"># Get the sampleDB database</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">sampleDB</span></code></pre></div>

</section>
<section>
<h2 id="connect-with-authentication-credentials">Connect with Authentication Credentials</h2>
<p>To connect to a MongoDB instance with authentication enabled, specify a
<a href="https://docs.mongodb.com/manual/reference/connection-string/">URI</a>
in the following format:</p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">mongodb://<span class="o">[</span>username:password@<span class="o">]</span>host1<span class="o">[</span>:port1<span class="o">]</span></code></pre></div>
<p>The following operation connects the user <strong>alice</strong> with password
<strong>abc123</strong> to a MongoDB instance on the default host and port:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pymongo</span>
<span class="kn">from</span> <span class="nn">pymongo</span> <span class="kn">import</span> <span class="n">MongoClient</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">MongoClient</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;mongodb://alice:abc123@localhost:27017&#39;</span><span class="p">)</span>

<span class="c1"># Get the sampleDB database</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">sampleDB</span></code></pre></div>

</section>
<br>
<br>
<br>
<br>

<script>
  $(function() {
    var toc = $('#toc');

    function makeLi(text, href) {
      return $('<a href="' + href + '" target="_self">' + text + '</a><br>');
    }

    $('h2').each(function(i) {
      var chapter = $(this), chapterNumber = i + 1;
      toc.append(
        makeLi(chapter.text(), '#chapter-' + chapterNumber)
      );
      chapter.attr('id', 'chapter-' + chapterNumber);
    });

  });
</script>
</body>
</html>
