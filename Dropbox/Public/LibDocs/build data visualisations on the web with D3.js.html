<head>
<meta http-equiv="Content-Type" content="text/html;  charset=utf-8">

<style type="text/css">

body {
 margin-top: 5%; 
 margin-bottom: 5%; 
 margin-right: 10%; 
 margin-left: 10%; 
 background-color: #002010; 
 color: #109080; 
 font-size: 24px; 
}
a { text-decoration: none; 
	color: #28A8B8; }
a:visited {	color: #389898; }
A:hover {	color: yellow; }
A:focus {	color: red; }
code { color: #28B8B8;  background-color: #002030}
pre { color: gray;  background-color: #001010;  font-size: 16px; }
div {display: inline-block;  width: 48%;  padding: 2px;  border-radius: 4px;  
border: 1px solid gray;  margin: 3px;  vertical-align:middle; }
</STYLE>
</head>
<body>

<h1>data visualisations on the web with D3.js</h1>
<h2>How D3.js fits in the picture?</h2>
<p><i>Enter </i><a href="https://d3js.org/"><i>D3.js</i></a>, a powerful library that enables you to build customized¬†visualisations for any kind of storytelling you could imagine for the web.</p>
<p>Let‚Äôs look at another amazing visualisation :</p>
<p><a href="https://www.youtube.com/watch?v=jbkSRLYSojo">Hans Rosling&#8217;s 200 Countries, 200 Years, 4 Minutes</a> &#8211; Hans tries to explain the change in health and income in the last 200 years across 200 countries of the world in just 4 minutes by utilising the power of effective visualisation.</p>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163727/2.gif" alt="" width="640" height="361" /></b></p>
<p>The properties of this graph are as follows:</p>
<ul>
<li>The x axis is the income per person in $/year and the y axis is the life expectancy in years.</li>
<li>Each sphere represents a country, countries of the same continent are of the same colour.</li>
<li>The size of the sphere represents the population of the country.</li>
<li>As time passes and countries improve in terms of life expectancy and/or per capita income the spheres start moving towards top-right of the graph.</li>
</ul>
<p>Notice how by using simple visual encodings like <b><i>shape, size, colour, etc.</i></b> such complex information(200 years of data) is conveyed across. We will talk about what is <b>visual encoding</b> and this visualisation in detail in the upcoming articles.</p>
<p>What if I tell you <a href="http://www.gapminder.org/tools/#_locale_id=en;&amp;chart-type=bubbles">¬†the above visualisation is created using D3.js? </a>That‚Äôs the potential of D3.js! Hopefully, we will learn to create magic of our own too üôÇ</p>
<p>&nbsp;</p>
<h2>Setup your machine</h2>
<p>We would be needing a few things before starting:</p>
<ol>
<li><b>Text Editor</b> &#8211; Any text editor of choice, though I‚Äôd recommend <a href="https://www.sublimetext.com/">Sublime Text</a> . It‚Äôs a free, multi-platform text editor with useful features like syntax highlighting and code completion.</li>
<li><b>Browser</b> &#8211; Any modern browser. I‚Äôd recommend <a href="https://www.google.com/chrome/browser/desktop/index.html">Google Chrome</a>. This tutorial will assume you are using¬†Chrome.</li>
<li><b>Web Server </b>&#8211; In its simplest form, a web server is a software that helps you deliver content over the internet. You can relate a web server to a real server in a restaurant, that ‚Äúserves‚Äù the dishes you request.</li>
</ol>
<p><b>Note:</b> Since D3.js is designed to make visualisations on the web, it can fetch data over the internet from a web server to show visualisations. Hence we will also be working with a small server of our own.</p>
<p>&nbsp;</p>
<h3>Create a simple web server in Python</h3>
<p><strong>Step 1:</strong> Go to the directory you want to keep your D3.js project.</p>
<p><strong>Step 2: </strong>Python 2.7.x users can start the server by typing the code in the command line:</p>
<pre>python -m SimpleHTTPServer</pre>
<p>Python 3.x users can do so by type the code in command line:</p>
<pre>python -m http.server</pre>
<p>You can check your python version by:</p>
<pre>python --version</pre>
<p><b>Note: </b>For windows users, please install <a href="https://www.continuum.io/downloads">anaconda</a> and then open anaconda prompt.</p>
<p>This should give an output similar to the following:</p>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163741/3.png" alt="" width="656" height="191" srcset="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163741/3.png 656w, https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163741/3-300x87.png 300w" sizes="(max-width: 656px) 100vw, 656px" /></b></p>
<p><strong>Step 3:</strong> Here ‚Äú0.0.0.0‚Äù is your server‚Äôs <b>IP address</b> and ‚Äú8000‚Äù is the <b>port number</b>. Imagine you have ordered your favorite pizza and you need to give your house address to complete the order. You will first give the <b>Street Name</b> and then the House Number, here IP address is analogous to¬†street name (i.e. It identifies your computer) and Port number is analogous to the¬†house number that helps you reach a particular house (i.e. identifies the process on your computer) in a building.</p>
<p><strong>Step 4:</strong> To check if your server is working, head to your browser and type the link : <a href="http://0.0.0.0:8000/">http://0.0.0.0:8000/</a></p>
<p>You will get an output like this:</p>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163753/4.png" width="900"></b></p>
<p>Congratulations, you are now on your way to build your first d3.js visualisation!</p>
<p>&nbsp;</p>
<h2>Technical Interlude &#8211; Brushing up basics of HTML, CSS, JavaScript and SVG</h2>
<p>Before diving into D3, we need to know some web development basics. The web is built on three main pillars: HTML, CSS and JavaScript. Also, for a clearer understanding of D3.js, you should know the basics of SVG. We will have a crash course on these topics with some task based questions.</p>
<p><strong>Note:¬†</strong> You can skip this section if you are familiar with HTML, CSS and JavaScript. In case you have some doubts or need help, each task is followed by a stepwise guide üôÇ</p>
<p>We have a list of four tasks to complete before we can get started with D3. Tasks 1 to 3 are based on HTML,CSS and JavaScript. Task 4 is based on SVG and related topics.</p>
<p>Let‚Äôs start with our first task!</p>
<h3>Task 1. Create a basic HTML page with the text ‚ÄúHello World‚Äù :</h3>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163807/51.png" width="900"/></b></p>
<p><b>For this task, you would need to :</b></p>
<ul>
<li>Know the basic structure of an HTML page.</li>
<li>Know about some commonly used HTML tags especially &lt;p&gt;&lt;/p&gt; ‚Äúparagraph‚Äù tags.</li>
<li>Create a new file in Sublime Text and save your HTML code with ‚Äú.html‚Äù extension.</li>
<li>Start your python server and access the file in a browser.</li>
</ul>
<p>Try doing this task on your own before checking the solution üôÇ</p>
<p>&nbsp;</p>
<p><b>Solution:</b></p>
<p><b><i>HTML or Hypertext Markup Language describes the structure of your web pages. HTML uses ‚Äútags‚Äù, a kind of syntax to form the skeletal structure of a web page</i></b>. Specific text enclosed between angular brackets form a tag.</p>
<p>Let‚Äôs create our first HTML !</p>
<ul>
<li>Create a new file in your folder and save it with the name index.html</li>
<li>Copy the following code into it and save</li>
</ul>
<pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;D3 Tutorial&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;p&gt;Hello World&lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;</pre>
<ul>
<li>Here &lt;html&gt;,&lt;head&gt;,&lt;body&gt; etc. are all tags.</li>
<li>Start your server</li>
</ul>
<pre>python -m SimpleHTTPServer 8000</pre>
<ul>
<li>Go to the url <a href="http://0.0.0.0:8000">http://0.0.0.0:8000</a> will display something like this:</li>
</ul>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163807/51.png" width="900"/></b></p>
<p>Congratulations! You just made your first web page. Let‚Äôs get into some details:</p>
<ol>
<li><b>&lt;!DOCTYPE html&gt; : </b>This line tells your browser that this document is of type ‚ÄúHTML‚Äù(specifically HTML5). So it should display it accordingly.</li>
<li>The HTML document( web page) is contained between <b>&lt;html&gt;</b> and <b>&lt;/html&gt; </b>tags.</li>
<li>The visible part of the HTML document is between <b>&lt;body&gt;</b> and <b>&lt;/body&gt; </b>tags.</li>
<li>The <b>&lt;title&gt;&lt;/title&gt;</b> tag in the head sets the title of the page , you can see that on the top left. Here we have set the title ‚ÄúD3 Tutorial‚Äù .</li>
<li>HTML paragraphs are defined with the <b>&lt;p&gt;&lt;/p&gt;</b> tags. Any text written between these tags will be formatted as a paragraph.</li>
<li>HTML works by making a <strong>hierarchy</strong> of all the elements. In the above example, &lt;html&gt; tags sit at the highest hierarchy. Then comes the &lt;body&gt; and &lt;head&gt; tags. The relationship between various hierarchy is referred to in <strong>human terms</strong>.</li>
</ol>
<p>For example :</p>
<ul>
<li>The &lt;p&gt; tag is said to be the <b><i>‚Äúchild‚Äù</i></b> of &lt;body&gt; tag.</li>
<li>The &lt;body&gt; and &lt;head&gt; tags can be said to be <b><i>‚Äúsiblings‚Äù </i></b>of each other.</li>
</ul>
<p>&nbsp;</p>
<h3>Task 2. Add formatting and styling to the text using CSS. Specifically, we want to increase size, bring the text to the center of the page, add colour and change its typeface:</h3>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163823/6.png" alt="" width="900" /></b></p>
<p><b>For this task you would need to :</b></p>
<ul>
<li>Include your CSS in your HTML.</li>
<li>Know about some commonly used CSS rules especially rules related to ‚Äúfont‚Äù.</li>
<li>Have an idea about CSS selectors(like id, class etc.) and how they help in setting rules for HTML elements.</li>
<li>Save your changes and refresh the browser page to see the effect.</li>
</ul>
<p>Try doing this task on your own before checking the solution üôÇ</p>
<p>&nbsp;</p>
<p><b>Solution:</b></p>
<p>CSS or Cascading Style Sheets is used to add styling and formatting to web pages. In other words, <b><i>it helps to set a variety of rules(like: position, color, formatting etc.) that make the HTML look pretty</i></b>. Let‚Äôs make our own web page pretty!</p>
<ul>
<li>Let‚Äôs think what we can do to make our text look better?</li>
</ul>
<ol>
<li>Align the text in the center</li>
<li>Add colour</li>
<li>Change font family(font style)</li>
<li>Increase the size of font</li>
</ol>
<ul>
<li>The CSS code for above changes will be:</li>
</ul>
<pre>text-align: center; /*align our text in center*/
color: teal; /*write your favourite colour here */
font-family: Tahoma; /*change font family*/
font-size: 66px; /*set font size to 66 pixels*/</pre>
<p><b>Note: </b>The text between /**/ are comments and are ignored by the browser. They are for the programmer to keep notes of his / her code.</p>
<ul>
<li>Now we have our CSS ready, how to tell our CSS where do these rules apply?</li>
<li>Let‚Äôs give an <b>id¬†</b>(in simpler terms a nickname) to our paragraph so that our CSS can easily find it. Change the &lt;p&gt; tag in our code to:</li>
</ul>
<pre>&lt;p id=‚ÄùmyText‚Äù&gt;Hello World&lt;/p&gt;</pre>
<ul>
<li>Now, whenever we use ‚ÄúmyText‚Äù in our CSS it will know we mean the above &lt;p&gt; tag.</li>
<li>CSS rules are added in <b>&lt;style&gt;&lt;/style&gt; </b>¬†tags inside our HTML. Let‚Äôs add them to our file so that it becomes:</li>
</ul>
<pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;D3 Tutorial&lt;/title&gt;
&lt;style type=‚Äùtext/css‚Äù&gt;
#myText{
text-align: center; /*align our text in center*/
color: teal; /*set color to teal*/
font-family: Tahoma; /*change font family*/
font-size: 66px; /*set font size to 66 pixels*/
}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;p id=‚ÄùmyText‚Äù&gt;Hello World&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
<p><strong>Note:</strong> that we use the # symbol to call id in our CSS. This tells CSS to look for an element with the id =¬† ‚ÄúmyText‚Äù.</p>
<ul>
<li>Save your HTML file, Refresh the page and voila!</li>
</ul>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163839/71.png" width="900"/></b></p>
<p><b>CSS Selectors &#8211; </b>¬†<a href="https://www.w3schools.com/cssref/css_selectors.asp">Selectors</a> are way our CSS is able to know which HTML elements does the rule applies to? We have already learned about the <b>id selector</b>.</p>
<p>Now imagine, that if we have multiple paragraphs and we want to do the same styling to each? Surely we can repeat the ids for all elements but an <b>id </b>is supposed to be <b>unique.</b> We can use a <b><i>class </i></b>selector to group the elements that belong to the same class of styling.</p>
<ul>
<li>Replace the #myText to .text-beautify in the &lt;style&gt; tags:</li>
</ul>
<pre>.text-beautify{
text-align: center; /*align our text in center*/
color: teal; /*set color to teal*/
font-family: Tahoma; /*change font family */
font-size: 66px; /*set font size to 66 pixels*/
}</pre>
<p><b>Note: </b>We use ‚Äú<b>.</b>‚Äù (dot) to tell our CSS we mean a <b>class</b>.</p>
<ul>
<li>Let‚Äôs add another paragraph and remove ids from our &lt;p&gt; tags.</li>
</ul>
<pre>&lt;p class="text-beautify"&gt;Hello World&lt;/p&gt;
&lt;p class="text-beautify"&gt; My First Web Page!&lt;/p&gt;</pre>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163823/6.png" width="900"/></b></p>
<ul>
<li>This is how you <b><i>group elements with similar styling </i></b>by adding a <b>class </b>to them.</li>
</ul>
<p>&nbsp;</p>
<h3>Task 3. We want to add a behavior to our page. We want to show some text initially and change it when someone clicks on it. We also want to show an image on that click.</h3>
<p><b>For this task you would need to:</b></p>
<ul>
<li>Know a little bit about event based attributes like ‚Äúonclick‚Äù and how you attach them to HTML elements.</li>
<li>Learn basic javascript syntax like how to create functions, variables.</li>
<li>How to update CSS property of an element using javascript.</li>
<li>Include your javascript code in your HTML.</li>
<li>How to add images to HTML.</li>
<li>The image gif can be downloaded from <a href="https://giphy.com/gifs/happy-birthday-gifs-not-mine-eve1978-sIoUUXfh3W51K/">here</a></li>
</ul>
<p>Try doing this task on your own before checking the solution üôÇ</p>
<p><b>Solution:</b></p>
<p><b><i>JavaScript is a programming language that adds immense functionality to a basic HTML web page</i></b>. Almost all the ‚Äúcool‚Äù things that you see in a website are because of the amazing power and flexibility JavaScript provides. It runs in the browser, unlike python and other programming languages you don‚Äôt need to install JavaScript, as long as you have a browser you can easily run it. Let‚Äôs add some special effects to impress our friend on his / her birthday!</p>
<p>We will first show a generic message to our friend and when he /she clicks on the text, surprise! Happy Birthday! Let‚Äôs code it up :</p>
<ul>
<li>First, we will tweak our HTML‚Äôs &lt;body&gt; tag a bit, it should look something like this:</li>
</ul>
<pre>&lt;body&gt;
&lt;p onclick="show()" id="myText"&gt;Hey Buddy! Click here!&lt;/p&gt;
&lt;img src="happybday.gif" id="image"&gt;
&lt;/body&gt;</pre>
<ul>
<li>Notice that we have removed the second &lt;p&gt; tag and added an &lt;img&gt;(image tag).</li>
<li>&lt;img&gt; tags are used to add an image to your web page in HTML.</li>
<li>You must have noticed <b>src=‚Äùhappybday.gif‚Äù</b> inside &lt;img&gt; tag. The <b>src</b> is short for ‚Äúsource‚Äù , it basically tells the browser that I want to insert an image whose source(name on the computer) is ‚Äúhappybday.gif‚Äù.</li>
<li>You can download the image we are going to use from <a href="https://giphy.com/gifs/happy-birthday-gifs-not-mine-eve1978-sIoUUXfh3W51K/">here</a>. Save it with the name ‚Äúhappybday.gif‚Äù</li>
<li>Also, notice we have given an <b>id </b>to the image this is because we might want to add some CSS rules to our image.</li>
<li>Things like <b>id, src</b> add more functionality to our HTML elements and are hence called <b>attributes. </b>Attributes follow a general syntax of <b><i>attributename = attributevalue</i></b>. We will be <b>dealing with them a lot in D3.</b></li>
<li>Did you notice any change in the &lt;p&gt; tag? Yes, we have added another attribute <b>onclick </b>to our &lt;p&gt; element:</li>
</ul>
<pre>&lt;p onclick=‚Äùshow()‚Äù id=‚ÄùmyText‚Äù&gt;Hello Buddy! Click here!&lt;/p&gt;</pre>
<ul>
<li>The <b>onclick </b>attributes tell your browser to <b><i>do something when a click happens</i></b><b>. </b>In this case,¬†that something is showing the image. In JavaScript terms, we say that this is an <b>Event Listener</b> that listens for the ‚Äúmouse click‚Äù and calls a function whenever the event <b><i>happens.</i></b></li>
<li>Let us also update our CSS by adding rules for our &lt;img&gt; copy the following code in between &lt;style&gt;&lt;/style&gt; tags, just below our previous code:</li>
</ul>
<pre>#image{
visibility: hidden;/* hide the image */
width: 100%; /* set width of image to 100% of body */
height: 50%; /* set height of image to 50% of body */
}</pre>
<ul>
<li>To add JavaScript code to our HTML we use <b>&lt;script&gt;&lt;/script&gt;</b> tags. Add the following code to your HTML just below the &lt;p&gt; tag:</li>
</ul>
<pre>&lt;script type="text/javascript"&gt;
var show = function(){
var txt = document.getElementById("myText"),
img = document.getElementById("image");
txt.innerHTML = "Happy Birthday! :D";
img.style.visibility = "visible";
}
&lt;/script&gt;</pre>
<ul>
<li>Save it and refresh your browser page. You‚Äôll see something similar to this:</li>
</ul>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163856/91.png" width="900"/></b></p>
<ul>
<li>Try clicking on the text and voila!</li>
</ul>
<p>Isn‚Äôt it amazing what 5 lines of JavaScript can achieve? Let us dive into the code and understand what each line does:</p>
<ul>
<li>var show = function(){ &#8211; Here we create a <b>function</b> with the name <b>show</b>. The syntax for creating a function in JavaScript is :</li>
</ul>
<pre>var functionname = function(){ //code}</pre>
<p>Or</p>
<pre>functionname(){ //code}</pre>
<ul>
<li>Notice that we call this function whenever a click happens on our previous message. This is because <i>this function stores the logic that will tell the browser what to do on next.</i></li>
<li>var txt = document.getElementById(&#8220;myText&#8221;) &#8211; we are telling javascript <b><i>to bring the element that has id(nickname) of ‚ÄúmyText‚Äù and store it as a variable of name txt</i></b><i>.</i> Now if we <b>make any changes in txt it will reflect in our HTML element.</b></li>
<li>We do the same for the &lt;img&gt; element:</li>
</ul>
<pre>img = document.getElementById("image");</pre>
<ul>
<li>In order to change the text of the &lt;p&gt; tag we update it‚Äôs <b>innerHTML</b> property. innerHTML, as the name suggests, is a string that denotes an element‚Äôs inner HTML. If we change it, this will update the element.</li>
<li>Next, we change image‚Äôs visibility property to <b>visible.</b> Recall in our CSS we had set visibility to <b>hidden</b> so that the image remains hidden unless someone clicks on the text.</li>
<li>This is the syntax to change an element‚Äôs CSS property using javascript:</li>
</ul>
<pre>elementvariable.style.propertyname = propertyvalue</pre>
<p>Congratulations! So far so good, you have successfully learnt the building blocks of web! We will be learning more about them as we go ahead with our D3 journey üôÇ</p>
<p>If you want to dig deeper into Web Technologies, you can look at <a href="https://www.w3schools.com/">W3Schools</a> . For D3.js only basic understanding is required.</p>
<p>In order to build with D3 we also need a basic knowledge of SVG. The following tasks are designed to give you a brief intro into the world of SVG:</p>
<p>&nbsp;</p>
<h3>Task 4. Draw a group of two blue circles of radius 50px each. Fill the circle with blue colour and red boundary of some thickness using an SVG.</h3>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163910/101.png" alt="" width="447" height="389" srcset="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163910/101.png 447w, https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163910/101-300x261.png 300w" sizes="(max-width: 447px) 100vw, 447px" /></b></p>
<p><b>For this task you would need to :</b></p>
<ul>
<li>Create an SVG element using &lt;svg&gt;&lt;/svg&gt; tags.</li>
<li>Have a basic idea about coordinate spaces in SVG.</li>
<li>Learn about basic shapes like circles and line using SVGs.</li>
<li>Learn about some attributes like ‚Äúfill‚Äù, ‚Äústroke‚Äù.</li>
<li>Use ‚Äúgroups‚Äù of SVG.</li>
</ul>
<p>Try doing this task on your own before checking the solution üôÇ</p>
<p>&nbsp;</p>
<p><b>Solution:</b></p>
<p>SVG or Scalable Vector Graphics is a format used to draw xml based graphics and animations. <b><i>SVG graphics do NOT lose any quality if they are zoomed or resized</i></b>.</p>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164344/svg.png" alt="" width="848" height="435" srcset="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164344/svg.png 848w, https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164344/svg-300x154.png 300w, https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164344/svg-768x394.png 768w" sizes="(max-width: 848px) 100vw, 848px" /></b></p>
<p>SVG provides some basic shapes like lines, rectangles, circle, ellipse,¬†polygon¬† to work with. You can also create custom shapes by combining or tweaking these shapes. For extremely customisable graphics(like country maps, etc.) we use paths. A lot of these will refresh your high school geometry üôÇ Let‚Äôs go through each one:</p>
<p>&nbsp;</p>
<p><b>Line</b></p>
<p>One of the simplest graphic. A line is formed when we join two points separated by a distance. There can be many such lines joining two points but we are interested in a straight line. For example, you and your friend are standing some distance apart, if you walk straight to him the path you‚Äôll follow will make a straight line.</p>
<ul>
<li>Create a new html file in your D3 project folder with the name ‚Äúsvg.html‚Äù</li>
<li>Let‚Äôs add basic HTML:</li>
</ul>
<pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;D3 Tutorial&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;p&gt;Hello World&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
<ul>
<li>The SVG is created using <b>&lt;svg&gt;&lt;/svg&gt; </b>tags inside html.</li>
<li>Let‚Äôs create our svg element with a width of 500px and a height of 500px:</li>
</ul>
<pre>&lt;svg width=‚Äù500‚Äù height=‚Äù500‚Äù&gt;&lt;/svg&gt;</pre>
<ul>
<li>Let‚Äôs add a line between points (10,10) and (140,140) we will add the line code between &lt;svg&gt; tags so that our code now looks like:</li>
</ul>
<pre>&lt;svg width=‚Äù500‚Äù height=‚Äù500‚Äù&gt;
&lt;line x1="10" y1="10" x2="140" y2="140" stroke="black"&gt;&lt;/line&gt;
&lt;/svg&gt;</pre>
<ul>
<li>Save the file and go to the link http://0.0.0.0:8000/svg.html in your browser and you should get something like:</li>
</ul>
<p><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18191244/image13.png" alt="" width="106" height="144" /></p>
<ul>
<li>Here we have created a simple line that joins two points, (x1,y1) and (x2,y2) which give location in pixels. Fun experiment: change <b>stroke=‚Äùblue‚Äù</b>-&gt;save your file and refresh browser What happens?</li>
<li>The Line changes to <b>blue.</b> ‚Äústroke‚Äù sets the color of the stroke that will make the line. stroke along with x1,x2,y1,y2 are all <b>attributes</b> that define and affect our graphics.</li>
</ul>
<p>&nbsp;</p>
<p><b>A Side Note &#8211; Coordinate space in SVG:</b></p>
<p>Those of you who know a little about coordinate system in geometry would be finding something strange with the line. The line should be like this :</p>
<p><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18191252/image19.png" alt="" width="185" height="159" /></p>
<p>This is because the origin(0,0) in SVG is at the <b>‚Äútop-left‚Äù </b>corner as opposed to conventional <b>‚Äúbottom-left‚Äù</b>.</p>
<p><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18191300/image24.png" alt="" width="586" height="290" srcset="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18191300/image24.png 586w, https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18191300/image24-300x148.png 300w" sizes="(max-width: 586px) 100vw, 586px" /></p>
<p><i>As we move towards the right the x value increases and on moving down y value increases.</i></p>
<p>Enough of serious talk, let‚Äôs draw !</p>
<p><b>Circle</b></p>
<ul>
<li>Let‚Äôs add a circle with center coordinates as (100,100) and radius 50px and color ‚Äúblue‚Äù:</li>
</ul>
<pre>&lt;circle r=‚Äù50‚Äù cx=‚Äù100‚Äù cy=‚Äù100‚Äù fill=‚Äùblue‚Äù&gt;</pre>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163921/111.png" alt="" width="321" height="276" srcset="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163921/111.png 321w, https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163921/111-300x258.png 300w" sizes="(max-width: 321px) 100vw, 321px" /></b></p>
<ul>
<li>Let‚Äôs give it a red boundary of 5px thickness:</li>
</ul>
<pre>&lt;circle cx="100" cy="100" fill="blue" r="50" stroke="red" stroke-width="5"&gt;&lt;/circle&gt;</pre>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163931/121.png" alt="" width="336" height="260" srcset="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163931/121.png 336w, https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163931/121-300x232.png 300w, https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163931/121-83x63.png 83w" sizes="(max-width: 336px) 100vw, 336px" /></b></p>
<ul>
<li>Notice the use of <b>stroke </b>¬†and <b>stroke-width</b> for the boundary.</li>
<li>Let‚Äôs create another circle :</li>
</ul>
<pre>&lt;circle cx="200" cy="200" r="50" &gt;&lt;/circle&gt;</pre>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163940/132.png" alt="" width="423" height="386" srcset="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163940/132.png 423w, https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163940/132-300x274.png 300w" sizes="(max-width: 423px) 100vw, 423px" /></b></p>
<ul>
<li>Notice how the other circle is black because we haven‚Äôt added any attributes other than radius and center position. We want to apply same styling to this circle too, in such cases we use <b>groups.</b></li>
</ul>
<p><b>Groups</b></p>
<ul>
<li>A group in svg is placed in <b>&lt;g&gt;&lt;/g&gt;</b> tags and is used when we <b><i>want to apply same properties to many elements</i></b>.</li>
<li>Let us move both of our circles into a group and apply stroke, fill and stroke-width attributes to the group as a whole. Our svg would look like:</li>
</ul>
<pre>&lt;svg width="500" height="500"&gt;
&lt;g fill="blue" stroke="red" stroke-width="5"&gt;
&lt;circle cx="100" cy="100" r="50"&gt;&lt;/circle&gt;
&lt;circle cx="200" cy="200" r="50" &gt;&lt;/circle&gt;
&lt;/g&gt;
&lt;/svg&gt;</pre>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163910/101.png" alt="" width="447" height="389" srcset="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163910/101.png 447w, https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163910/101-300x261.png 300w" sizes="(max-width: 447px) 100vw, 447px" /></b></p>
<ul>
<li>Notice the advantage of creating a group, you just have to edit at one place to add/remove attributes or even if you are experimenting, this is a neat little trick. We would be using this alot in D3.</li>
</ul>
<p>You can read more about svg <a href="https://www.w3schools.com/graphics/svg_intro.asp">here</a>, for using D3, only basic understanding of svg is required.</p>
<p>&nbsp;</p>
<h2>D3.js &#8211; Unpacking the name</h2>
<p><a href="https://d3js.org/">D3.js</a> is a javascript library written by <a href="https://bost.ocks.org/mike/">Mike Bostock</a>. It takes advantage of already established web technologies like canvas, svg to make out of the world visualisations.</p>
<p>D3‚Äôs name comes from the fact that it is designed to act as a <i>driver</i> for web documents(web page) based on the available<i> data¬†</i>(json, csv, tsv etc.). In other words,</p>
<p><i>‚ÄúD3‚Äôs magic helps you to create beautiful, interactive visualisations from seemingly boring data(json,csv,etc.)‚Äù</i></p>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163953/141.png" alt="" width="638" height="372" srcset="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163953/141.png 638w, https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18163953/141-300x175.png 300w" sizes="(max-width: 638px) 100vw, 638px" /></b></p>
<p>We will get to know more about it as we go deeper into D3. You can also look at some of the <a href="https://github.com/d3/d3/wiki/Gallery">awesome visualisations created using D3.js</a> üôÇ</p>
<p>&nbsp;</p>
<h2>Building with D3.js</h2>
<p>Let‚Äôs get our hands dirty with D3!</p>
<p>We will create a new html file , with name ‚Äúbarchart.html‚Äù in our D3 folder. Let us also put some basic html in our file :</p>
<pre id="htmlOutput" class="html"><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>D3 Tutorial<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre>
<p>&nbsp;</p>
<h3>Including D3.js library</h3>
<p>In order to use D3 we have to include it‚Äôs library, There are many ways to do so but we will stick to loading it from a url. D3 is completely written in javascript so we can include just like we include our javascript code with &lt;script&gt;&lt;/script&gt; tags like this:</p>
<pre>&lt;script src="https://d3js.org/d3.v3.js"&gt;&lt;/script&gt;</pre>
<p>This line tells your browser to load the d3 file from the given url. We will place this tag inside our &lt;head&gt; tag just below the &lt;title&gt; tags. We will also create another &lt;script&gt; tag inside our body for us to write javascript code. Our final html code should look like this :</p>
<pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;D3 Tutorial&lt;/title&gt;
&lt;script src="https://d3js.org/d3.v3.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script type="text/javascript"&gt;
//We will write our D3 code here
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
<p>&nbsp;</p>
<h3>Adding an element</h3>
<p>Our webpage looks empty, let‚Äôs add a paragraph here with D3. Write the below line between the &lt;script&gt; tags inside &lt;body&gt;:</p>
<pre>d3.select(‚Äúbody‚Äù).append(‚Äúp‚Äù).text(‚ÄúOur First Paragraph using D3!‚Äù);</pre>
<p>Save the page and head to your browser. This time you will have to use the url <a href="http://0.0.0.0:8000/barchart.html">http://0.0.0.0:8000/barchart.html</a> because your html file is named barchart.html. Let‚Äôs see what happened in our page:</p>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164005/151.png" width="900"/></b></p>
<p>Wasn‚Äôt that easy? Let‚Äôs try to understand our D3 code:</p>
<pre>d3.select(‚Äúbody‚Äù).append(‚Äúp‚Äù).text(‚ÄúOur First Paragraph using D3!‚Äù);</pre>
<p>When we include D3‚Äôs library, it gives us a global object <b><i>d3</i></b> ¬†that we can use to call various D3 functions. Here we are asking d3 to <b><i>select &lt;body&gt; of our DOM and append a paragraph there with the text content ‚ÄúOur First Paragraph using D3!‚Äù.</i></b></p>
<p>Let‚Äôs walk through what just happened. In sequence, we:</p>
<ul>
<li>Invoked D3&#8217;s .<em><strong>select(..)</strong></em> method, which selects a single element from the DOM using CSS selector syntax. (We selected the body.)</li>
<li>Created a new &lt;p&gt; element and appended that to the end of our selection, meaning just <i>before</i> the closing &lt;/body&gt; tag in this case.</li>
<li>Set the text content of that new, empty paragraph to ‚ÄúOur First Paragraph using D3!‚Äù</li>
</ul>
<p>All of those crazy dots are just part of D3‚Äôs <i>chain syntax</i>. The chain syntax is possible because <b><i>every time you call a D3 function on an object it performs some operations on it and returns a reference to the new object, which in turn gets picked up by the next function in the chain.</i></b>This is called <b>method chaining.</b> Note that the above task could have also achieved by calling each function separately like we do conventionally.</p>
<p>&nbsp;</p>
<h3>Adding CSS styling<b> </b></h3>
<p>Our text looks boring let us add some css styling to it and see what happens:</p>
<pre>d3.select("body").append("p").text("Our First Paragraph using D3!").style({"font-size":"40px","font-family":"arial"});</pre>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164020/16.png" alt="" width="900" /></b></p>
<p>Much better! We use <strong>.style(&#8230;.)</strong> to add css styling in D3. Our chain has become too long to fit in a single line, let‚Äôs us arrange it :</p>
<pre>var p = d3.select(‚Äúbody‚Äù).append(‚Äúp‚Äù).text(‚ÄúOur First Paragraph using D3!‚Äù); 
p.style({‚Äúfont-size‚Äù:‚Äù40px‚Äù,‚Äùfont-family‚Äù:‚Äùarial‚Äù});</pre>
<p>Notice how we first created a &lt;p&gt; element with some text and stored in a variable p and then later used the same variable to add css styling to it. We can now use this variable whenever we want to make changes or edits to the paragraph.</p>
<p>&nbsp;</p>
<h3>Data binding</h3>
<p>What is data binding and why should I do it?</p>
<ol>
<li><b>Data binding </b>is when you associate your data to DOM elements so that the <i>properties of DOM represent properties of data</i>.</li>
<li><b>Data visualisation</b> is mapping of <i>data values to visuals</i> so instead of looking at columns , rows and numbers , we can look at graphics that are easier to comprehend and derive inferences with lesser effort.</li>
</ol>
<p>Hence you need to <i>bind </i>your data to the DOM elements in order to represent it as a visualisation. D3.js provides powerful ways to bind data in different forms(csv,tsv, json etc.) to the DOM.</p>
<p>Let‚Äôs create a data array :</p>
<pre>var data_values = [5,10,30,8,45,24,16,55,60];</pre>
<p><b>Note: </b>In javascript an array is an equivalent of collections of R or lists of Python.</p>
<p>Now that we have our data, let‚Äôs <i>bind </i>our data to the DOM. We want to create &lt;p&gt; elements per data value and display it. Our new code will be like:</p>
<pre>var p = d3.selectAll("p") .data(data_values).enter().append("p").text("hello world");
p.style({"font-size":"20px","font-family":"arial"});</pre>
<p>Let‚Äôs see what does our browser show:</p>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164035/171.png" width="900"/></b></p>
<p>Whoa that was a lot of method chaining. We have got our text nine times on the page each as a paragraph. Let us break down the code:</p>
<ul>
<li><em><strong>d3.select(‚Äúbody‚Äù)</strong></em> &#8211; Select body in the DOM.</li>
<li><em><strong>d3.selectAll(‚Äúp‚Äù)</strong></em> &#8211; This method is a variation of the earlier used <i>d3.select(..)</i> method. The difference is while the former returns the<i> first element it matches</i>, the latter will return <i>all the elements it matches</i>. For example, ¬†if we have 10 &lt;p&gt; elements the <i>d3.select(‚Äúp‚Äù)</i> will only return the first paragraph while <i>d3.selectAll(‚Äúp‚Äù)</i> will return all 10 paragraphs.</li>
</ul>
<p>Since we don‚Äôt have any paragraphs it will return an empty selection. Think of this as the selection of paragraphs that will <i>soon exist</i>.</p>
<ul>
<li><em><strong>.data(data_values)</strong></em> &#8211; this function reads in our data, counts it and attaches it to the DOM element we selected earlier. Since we have nine values in our data, everything past this point is executed nine times once for each data value.</li>
<li><em><strong>.enter()</strong></em> &#8211; This is the function where all the magic happens. This function adds a placeholder element to our DOM for our data values and returns a reference to the same.</li>
<li><em><strong>.append(‚Äúp‚Äù)</strong></em> &#8211; As we have seen earlier, append is used to add elements to the DOM. Based on the references returned by the <i>enter() </i>we will append &lt;p&gt; elements.</li>
<li><em><strong>.text(‚Äúhello world‚Äù)</strong></em> &#8211; We add text content to our paragraphs.</li>
</ul>
<p>This is how the entire process looked like:</p>
<p><i>First select body ‚Üí ¬†from body select all the &lt;p&gt; elements that we are soon going to add ‚Üí read the data values and count it, the following lines will be executed once for each value ‚Üí ¬†create placeholders for the elements going to be added and return references to them ‚Üí append elements based on the references returned earlier ‚Üí add text content to each element.</i></p>
<p>We follow the similar process all throughout our code in D3. Hence it is important that you understand it thoroughly.</p>
<p>&nbsp;</p>
<h3>Where is our data?</h3>
<p>Did you notice that even though we got nine paragraphs, but we don&#8217;t see any data? Where did it¬†go?</p>
<p>Remember the line where I said that every line following data(..) will be executed nine times, once for each value? D3 provides us a way to access each value while it iterates over them. Let‚Äôs check that value, edit the code to:</p>
<pre>var p = d3.selectAll("p").data(data_values).enter().append("p").text(function(value){ return value; });
p.style({"font-size":"20px","font-family":"arial"});</pre>
<p>This time instead of directly providing text content we create a function inside <i>text(..)</i>. D3 executes this function every time it goes over our data. Each time this function is called, it is passed the <i>value for which it is called</i>. That means if we are on the first element of the array this function will be called with 5. We return the same value to our <i>text(..)</i> function so that it can add it to the text content of the paragraph. Here‚Äôs our data:</p>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164048/181.png" width="900"/></b></p>
<h3>Drawing SVG with D3</h3>
<p>Just like html elements, creating svg with D3 is quite easy(one line easy!). For example we want to create an svg with width 500px and height 500px :</p>
<pre>var svg = d3.select(‚Äúbody‚Äù).append(‚Äúsvg‚Äù).attr({‚Äúwidth‚Äù:450,‚Äùheight‚Äù:400});</pre>
<p>We append an &lt;svg&gt; like did for &lt;p&gt; element. <b>The </b><b><i>attr(..) function is used to set attributes of the svg</i></b><i>.</i> Here we want to set width and height of the svg.</p>
<p>Let us draw a circle in this svg. We want to create a circle of radius 30 and centre at (50,50):</p>
<pre>svg.append(‚Äúcircle‚Äù).attr({‚Äúr‚Äù:‚Äù30px‚Äù, ‚Äúcx‚Äù:‚Äù50px‚Äù, ‚Äúcy‚Äù:‚Äù50px‚Äù});</pre>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164103/191.png" width="900"/></b></p>
<p>Notice how we used <i>append(..)</i> to add a circle to our svg.</p>
<p>Let us add<b><i> fill </i></b>to our circle and increase the radius:</p>
<pre>svg.append(‚Äúcircle‚Äù).attr({‚Äúr‚Äù:‚Äù50px‚Äù, ‚Äùfill‚Äù: ‚Äúred‚Äù , ‚Äúcx‚Äù:‚Äù50px‚Äù, ‚Äúcy‚Äù:‚Äù50px‚Äù});</pre>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164116/201.png" alt="" width="247" height="223" /></b></p>
<p>You can see that the same attributes we learnt in the svg work here. D3 provides an easy interface to create SVGs programmatically.</p>
<p>&nbsp;</p>
<p><b>Simple Barchart</b></p>
<p>A bar chart is a graphic that presents <i>grouped data</i> with rectangular bars. Here <i>lengths </i>of bars are <i>proportional to the values</i> they represent.</p>
<p>&nbsp;</p>
<p><b>Drawing bars</b></p>
<p>We will be taking advantage of SVG rectangle to make rectangles for the bar chart. A rectangle has four properties : Height, Width, x start position, y start position. Let‚Äôs create a rectangle using D3:</p>
<pre>svg.append("rect").attr({‚Äúx‚Äù:‚Äù30px‚Äù, ‚Äúy‚Äù:‚Äù30px‚Äù, " width":"30px", "height":"100px"});</pre>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164124/21.png" alt="" width="222" height="357" srcset="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164124/21.png 222w, https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164124/21-187x300.png 187w" sizes="(max-width: 222px) 100vw, 222px" /></b></p>
<p>Notice how the (x,y) control the starting point of the rectangle. Let us add colour to our bar but before we will store our rectangle in a variable so that we can reuse it again. Let‚Äôs do that:</p>
<pre>var bars = svg.append(‚Äúrect‚Äù).attr({‚Äúx‚Äù:‚Äù30px‚Äù, ‚Äúy‚Äù:‚Äù30px‚Äù, " width":"30px", "height":"150px"});
bars.attr(‚Äúfill‚Äù, ‚Äùblue‚Äù); //fill the rect with blue</pre>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164135/221.png" alt="" width="171" height="286" /></b></p>
<p>Let us create bars based on our data values. We will use the same process that we used to bind data earlier. Our bars variable will change to:</p>
<pre>var bars = svg.selectAll("rect").data(data_values).enter().append("rect").attr(" width","25px").attr("height", function(d){ return d; });</pre>
<p>We have chosen a fixed width of 25 pixels for each bar and we are setting height based our data_values array. Let us see how the graphic looks:</p>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164143/231.png" alt="" width="155" height="165" /></b></p>
<p>Weren‚Äôt we supposed to get <b><i>nine rectangles</i></b>? We <b><i>have nine rectangles</i></b> but since we have not given different <b>x values</b> they all lie on the same position. Let‚Äôs add different x values to our bars:</p>
<pre>bars.attr(‚Äúx‚Äù, function(d,i){ return i*30; });

</pre>
<h3>What is the ‚Äúi‚Äù<b> </b></h3>
<p>We already know D3 passes the current data value while iterating through our data. Along with the current value it also passes <b>the current value‚Äôs index</b>. This <b>index</b> helps us keep track of the iteration count. What we are doing is we are giving <b>i*30</b> as x value for our bars. This is because the i will denote the index of the current value and 30 is there because we know each bar‚Äôs width is 25 pixels so we give a <b>padding of 5 pixels</b> between each bar.</p>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164152/241.png" alt="" width="585" height="298" srcset="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164152/241.png 585w, https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164152/241-300x153.png 300w" sizes="(max-width: 585px) 100vw, 585px" /></b></p>
<p>Let‚Äôs refresh our page and we got our 9 data bars !:</p>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164201/251.png" alt="" width="402" height="199" srcset="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164201/251.png 402w, https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164201/251-300x149.png 300w" sizes="(max-width: 402px) 100vw, 402px" /></b></p>
<p>Isn‚Äôt our bars a little funky? Let‚Äôs scale our heights a little bit. Let‚Äôs <b>multiply d by 5</b> in our height function:</p>
<pre>.attr(‚Äúheight‚Äù, function(d){ return d*5; });</pre>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164211/26.png" alt="" width="382" height="433" srcset="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164211/26.png 382w, https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164211/26-265x300.png 265w" sizes="(max-width: 382px) 100vw, 382px" /></b></p>
<p><b>Much better, but why are the bars upside down?</b></p>
<p>Remember that SVG Coordinate space is different as compared to conventional? Here Origin is at the top left corner so our y-axis starts from the top. Let‚Äôs adjust this so that we get a proper bar chart, we can change this by subtracting the height of each bar from the total height of the svg(400px).</p>
<pre>bars.attr(‚Äúy‚Äù, function(d){ return 400-d*5; });</pre>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164221/271.png" alt="" width="399" height="496" srcset="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164221/271.png 399w, https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164221/271-241x300.png 241w" sizes="(max-width: 399px) 100vw, 399px" /></b></p>
<p>Let‚Äôs give a nice color to our bars:</p>
<pre>bars.attr(‚Äúfill‚Äù, ‚Äústeelblue‚Äù);</pre>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164234/281.png" alt="" width="388" height="480" srcset="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164234/281.png 388w, https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164234/281-243x300.png 243w" sizes="(max-width: 388px) 100vw, 388px" /></b></p>
<p>Let‚Äôs add some more values to our data_values array , it should now look like this:</p>
<pre>var data_values = [5,10,30,8,45,24,16,55,60,45,32,18,11,3];</pre>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164246/291.png" alt="" width="569" height="448" srcset="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164246/291.png 569w, https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164246/291-300x236.png 300w" sizes="(max-width: 569px) 100vw, 569px" /></b></p>
<p>Do you think this visualisation is efficiently conveying the information? No, there are many things that can be improved so that<b> we are able to convey inferences in as efficient manner as possible</b>. One such improvement can be :</p>
<p><b><i>‚ÄúHighlighting min and max bars so that as soon as we put our gaze on the visualisation we get an idea of the two extremes, we won‚Äôt have to go through each bars and hence this will save our time.‚Äù</i></b></p>
<p>Let‚Äôs do that!</p>
<p>We first need to find the two extremes in our dataset. Lucky for us, D3 provides <i>d3.max(..)</i> and <i>d3.min(..) </i>¬†functions that we can use:</p>
<pre>var max = d3.max(data_values);
var min = d3.min(data_values);</pre>
<p>We will have to now select those two bars two have max and min value respectively , for that we‚Äôll use D3‚Äôs <i>filter(..) </i>method. What this will do is select only those bars that match the filter. In this case we will have filter for maximum value. We will add ‚Äúgreen‚Äù colour fill to the bar:</p>
<pre>bars.filter(function(d){ return d==max; }).attr(‚Äúfill‚Äù,‚Äùgreen‚Äù);</pre>
<p>Similarly for the smallest bar, we will add ‚Äúred‚Äù fill colour:</p>
<pre>bars.filter(function(d){ return d==min; }).attr(‚Äúfill‚Äù,‚Äùred‚Äù);</pre>
<p><b><img src="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164257/301.png" alt="" width="728" height="537" srcset="https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164257/301.png 728w, https://s3-ap-south-1.amazonaws.com/av-blog-media/wp-content/uploads/2017/07/18164257/301-300x221.png 300w" sizes="(max-width: 728px) 100vw, 728px" /></b></p>
<p>&nbsp;</p>
<p>There we have our simple barchart in less than 20 lines of code!</p>
<p>&nbsp;</p>
<h2>End Notes</h2>
<p>Congratulations for coming this far, we have covered a lot of D3 basics these will help you pursue your own adventures someday! D3.js is a very powerful library and we have just scratched the surface. There is still a complex but immensely useful functionality it has to offer; that is making better charts, visualisations loaded with animations and interactivity.</p>
<p>I have included all the code of this article is available <a href="https://github.com/mohdsanadzakirizvi/d3js/tree/master/AV_D3_Intro">on github</a>. Also check out these small visualisations that I created for fun to get a glimpse of some cool stuff we can do by knowing just the basics of D3 :</p>
<ul>
<li><a href="http://simplysanad.com/d3js/basic_animated_line_chart.html">Basic Animated Line Chart</a></li>
<li><a href="http://simplysanad.com/d3js/barchart_animated.html">Animated Bar Chart with Axes</a></li>
</ul>
<p>I urge you to try them out on your own. Good luck!</p>


</body>
</html>
