<base target="_blank">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">

body {
margin: 10%;
background-color: #000000;
 color: #109030;
}
a { text-decoration: none;
	color: #28B8B8;}
a:visited {	color: #389898;}
A:hover {	color: yellow;}
A:focus {	color: red;}
code { color: pink; background-color: #302030}
pre { color: gray; background-color: #001010}
#newtype { color: pink}
#redpink { color: #cc0099}
#redword { color: red}
#yellowword { color: yellow}
#greenword { color: lightgreen}
#limeword { color: #00ff00}
#orangeword { color: orange}
#cyanword { color: cyan}
#whiteword { color: white}
#grayword { color: gray}
#brownword { color: #ff8000}
#yellowgreen { color: #bfff00}
#palered { color: #ffcccc}
#blueword { color: dodgerblue}
#purpleword { color: darkorchid}
#goldword { color: GoldenRod}
#silverword { color: silver}
#blackword { color: black}
.left {
    position: absolute;
    left: 100px;
    color: GoldenRod;
    border: 1px solid GoldenRod;
    padding: 2px;
    font-size: 60%;
}
.bord {
    color: redpink;
    border: 1px solid GoldenRod;
    padding: 1px;
    font-size: 90%;
}
.highlight { 
    color: white;
    background-color: #002030
  }

</STYLE>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js">
</script>

<script>
$(document).ready(function(){
    $('.left').click(function(){
    parent.history.back();
    return false;
    });
});

</script>

</head>

<body>

<FONT size=3>


<h1>The yarrr package (0.0.8)
</h1>


<p>Great news R pirates! The yarrr package, which contains the pirateplot, has now been updated to version 0.0.8 and is up on CRAN (after hiding in plain sight on GitHub).Â Let&#8217;s install the latest version (0.0.8) and go over some of the updates:
</p>

<pre class="brush: r; title: ; notranslate">
install.packages(&quot;yarrr&quot;)  # Install package from CRAN
library(&quot;yarrr&quot;) # Load the package!

</pre>

<p>The most important function in the yarrr package is pirateplot(). What the heck is a pirateplot? A pirateplot is a modern way of visualising the relationship between a categorical independent variable, and a continuous dependent variable. Unlike traditional plotting methods, like barplots and boxplots, a pirateplot is an RDI plotting trifecta which presents Raw data (all data as points), Descriptive statistics (as a horizontal line at the mean &#8212; or any other function you wish), and Inferential statistics (95% Bayesian Highest Density Intervals, and smoothed densities).
</p>

<p>
<img src="https://i1.wp.com/nathanieldphillips.com/wp-content/uploads/2016/10/pirateplot-elements.png" target="_blank">
</p>

<p>For a full guide to the package, check out the package guide at CRAN 
<a href="https://cran.r-project.org/web/packages/yarrr/vignettes/guide.html" onclick="_gaq.push(['_trackEvent', 'outbound-article', 'https://cran.r-project.org/web/packages/yarrr/vignettes/guide.html', 'here']);" ref="nofollow" target="_blank">here
</a>. For now, here are some examples of pirateplots showing off some the package updates.
</p>

<h2>Up to 3 IVs
</h2>

<p>You can now include up to three independent variables in your pirateplot. The first IV is presented as adjacent beans, the second is presented in different groups of beans in the same plot, and the third IV is shown in separate plots.
</p>

<p>Here is a pirateplot of the heights of pirates based on three separate IVs: headband (whether the pirate wears a headband or not), sex, and eyepatch (whether the pirate wears an eye patch or not):
</p>

<pre class="brush: r; title: ; notranslate">
pirateplot(formula = height ~ sex + headband + eyepatch,
           point.o = .1,
           data = pirates)

</pre>

<p>
<img src="https://i2.wp.com/nathanieldphillips.com/wp-content/uploads/2016/10/threeivpp-1.png">
</p>

<p>Here, we can see that male pirates tend to be the tallest, but there there doesn&#8217;t seem to be a difference between those who wear headbands or not, and those who have eye patches or not.
</p>

<h2>New color palettes
</h2>

<p>The updated package has a few fun new color palettes contained in the piratepal() function. The first, called &#8216;xmen&#8217;, is inspired by my 90s Saturday morning cartoon nostalgia. 
</p>

<pre class="brush: r; title: ; notranslate">
# Display the xmen palette
piratepal(palette = &quot;xmen&quot;, 
          trans = .1, # Slightly transparent colors
          plot.result = TRUE)

</pre>

<p>
<img src="https://i2.wp.com/nathanieldphillips.com/wp-content/uploads/2016/10/xmen_display-1.png">
</p>

<p>Here, I&#8217;ll use the xmen palette to plot the distribution of the weights of chickens over time (if someone has a more suitable dataset for the xmen palette let me know!):
</p>

<pre class="brush: r; title: ; notranslate">
pirateplot(formula = weight ~ Time, 
           data = ChickWeight, 
           main = &quot;Weights of chickens by Time&quot;,
           pal = &quot;xmen&quot;, 
           gl.col = &quot;gray&quot;)

mtext(text = &quot;Using the xmen palette!&quot;, 
      side = 3, 
      font = 3)

mtext(text = &quot;*The mean and variance of chicken\nweights tend to increase over time.&quot;, 
      side = 1, 
      adj = 1,
      line = 3.5,
      font = 3,
      cex = .7)

</pre>

<p>
<img src="https://i0.wp.com/nathanieldphillips.com/wp-content/uploads/2016/10/xmen_chikens.png">
</p>

<p>The second palette called &#8220;pony&#8221; is inspired by the Bronys in our IT department.
</p>

<pre class="brush: r; title: ; notranslate">
# Display the pony palette
piratepal(palette = &quot;pony&quot;, 
          trans = .1, # Slightly transparent colors
          plot.result = TRUE)

</pre>

<p>
<img src="https://i0.wp.com/nathanieldphillips.com/wp-content/uploads/2016/10/pony_image.png">
</p>

<p>Here, I&#8217;ll plot the distribution of the lengths of movies as a function of their MPAA ratings (where G is for suitable for children, and R is suitable for adults)
</p>

<pre class="brush: r; title: ; notranslate">
pirateplot(formula= time ~ rating, 
           data = subset(movies, time &gt; 0 &amp; rating %in% c(&quot;G&quot;, &quot;PG&quot;, &quot;PG-13&quot;, &quot;R&quot;)), 
           pal = &quot;pony&quot;, 
           point.o = .05, 
           bean.o = 1, 
           main = &quot;Movie times by rating&quot;, 
           bean.lwd = 2, 
           gl.col = &quot;gray&quot;)

mtext(text = &quot;Using the pony palette!&quot;, 
      side = 3, 
      font = 3)

mtext(text = &quot;*Movies rated for children\n(G and PG) tend to be longer \nthan those rated for adults&quot;, 
      side = 1, 
      adj = 1,
      font = 3,
      line = 3.5,
      cex = .7)

</pre>

<p>
<img src="https://i2.wp.com/nathanieldphillips.com/wp-content/uploads/2016/10/pony_times.png">
</p>

<p>To see all of the palettes (including those inspired by movies and a transit map of Basel), just run the function with &#8220;all&#8221; as the main argument
</p>

<pre class="brush: r; title: ; notranslate">
piratepal(palette = &quot;all&quot;)

</pre>

<p>Of course, if you find that these color palettes give you a headache, you can always set the plot to grayscale (or any other color), by specifying a single color in the palette argument. Here, I&#8217;ll create a grayscale pirateplot showing the distribution of movie budgets by their creative type:
</p>

<pre class="brush: r; title: ; notranslate">
pirateplot(formula = budget ~ creative.type, 
           data = subset(movies, budget &gt; 0 &amp; 
                         creative.type %in% c(&quot;Multiple Creative Types&quot;, &quot;Factual&quot;) == FALSE),
           point.o = .02,
           xlab = &quot;Movie Creative Type&quot;,
           main = &quot;Movie budgets (in millions) by rating&quot;,
           gl.col = &quot;gray&quot;,
           pal = &quot;black&quot;)

mtext(&quot;Using a grayscale pirateplot&quot;, 
      side = 3, 
      font = 3)

mtext(&quot;*Superhero movies tend to have the highest budgets\n...by far!&quot;, 
      side = 1, adj = 1, line = 3, 
      cex = .8, font = 3)

</pre>

<p>
<img src="https://i2.wp.com/nathanieldphillips.com/wp-content/uploads/2016/10/moviebudgetpp.png">
</p>

<p>Looks like super hero movies have the highest budgets&#8230;by far!
</p>

<h2>Acknowledgements and Comments
</h2>

<p>&#8211; The pirateplot is largely inspired by the great beanplot package (
<a href = "https://cran.r-project.org/web/packages/beanplot/index.html">beanplot package link
</a>) by Peter Kampstra.
<br />
&#8211; Bayesian 95% HDIs are calculated using the truly amazing BayesFactor package (
<a href = "https://cran.r-project.org/web/packages/BayesFactor/index.html">BayesFactor package link)
</a> by Brian Morey
<br />
&#8211; The latest developer version of yarrr is always available at 
<a href = "https://github.com/ndphillips/yarrr">https://github.com/ndphillips/yarrr
</a>. Please post any bugs, issues, or feature requests at 
<a href = "https://github.com/ndphillips/yarrr/issues">https://github.com/ndphillips/yarrr/issues
</a>
</p>
