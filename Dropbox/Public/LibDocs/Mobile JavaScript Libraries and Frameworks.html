<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width"/>
<style>

table.w3-table-all{margin:20px 0}
.top {
 position:relative;
 background-color:black;
 height:68px;
 padding-top:20px;
 line-height:50px;
 overflow:hidden;
 z-index:2;
}
body {
 background-color: #000000;
 color: MediumSeaGreen;
 margin-left: 14%;
 margin-right: 14%;
 font-size: 24px;
}
a { text-decoration: none;
	color: grey;}
a:visited { color: #88C898;}
a:hover,a:active{color:red}
A:focus {	color: red;}
code { color: gray; background-color: #001010; font-size: 18px;}
pre { color: gray; background-color: #001010; font-size: 18px;}
h1, h2, h3, h4, h5, .goldword {
	color: gold;
}
table{
	width: 100%;
	font-size: 20px;
	border-collapse: collapse;
	border: 1px solid gray;
}
th{
	border: 1px solid gray;
	font-weight:bold;
	color: lightgreen;
}
td{
	padding:10px;
	border: 1px dotted dimgray;
}
tr>th:first-child{
	width:40%;
}
tr>td:first-child{
	color: lime;

}
img{
	margin-top:1%;
	margin-bottom:2%;
}
.topic{
    color: lime;
}
.goldsha {
    color: white;
    border: 1px solid gold;
    padding: 2px;
    border-radius: 3px;
	box-shadow: -2px -2px 3px gold inset;
}
.redsha {
    color: gold;
    border: 1px solid red;
    padding: 2px;
    border-radius: 3px;
	box-shadow: -2px -2px 3px red inset;
}
.whitesha {
    color: red;
    border: 1px solid white;
    padding: 2px;
    border-radius: 3px;
	box-shadow: -3px -2px 3px white inset;
}
.orangesha {
    color: yellow;
    border: 1px solid orange;
    padding: 2px;
    border-radius: 3px;
	box-shadow: -2px -2px 3px orange inset;
}
.yellowsha {
    color: lime;
    border: 1px solid yellow;
    padding: 2px;
    border-radius: 3px;
	box-shadow: 3px 3px 3px silver;
	display: inline-block;
}
.greensha {
    color: lightblue;
    border: 1px solid green;
    padding: 2px;
    border-radius: 3px;
	box-shadow: -2px -2px 3px green inset;
}
.left {
    position: absolute;
    left: 100px;
    color: GoldenRod;
    border: 1px solid GoldenRod;
    padding: 2px;
    font-size: 60%;
}
.bord {
    color: redpink;
    border: 1px solid GoldenRod;
    padding: 1px;
    font-size: 90%;
}
.yellowbord {
    color: lime;
    border: 1px solid yellow;
    padding: 2px;
    border-radius: 3px;
	box-shadow: 3px 3px 3px silver;
}
.bluebord {
    color: white;
    border: 1px solid lightblue;
    padding: 2px;
    border-radius: 3px;
	box-shadow: -2px -2px 3px silver inset;
}
.highlight { 
    color: white;
    background-color: #002030
  }
hr {width: 50%;}
li{
	list-style-type: decimal;
}
#toc, #tang, #san, #pill {
	margin-left: 15%;
	margin-right: 15%;
	color: gold;
	padding: 1%;
	text-align: left;
	box-shadow: 5px 5px 15px silver;
	border-radius: 5px;
	border: 1px solid DarkSlateGray;
    font-size: 90%;
}
.mywords{
    color: Crimson;
}
.orangeword{
    color: orange;
}
.remarks {
	font-size: 22px;
	color: MediumSeaGreen;
}
</STYLE>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script>
$(document).ready(function(){
    $('h1, h2, h3, h4, h5, .goldword, .topic').click(function(){
    parent.history.back();
    return false;
    });
});
</script>


</head>
<body>

<center><h1>Mobile JavaScript Libraries and Frameworks</h1></center>
<div id="toc"><ul></ul></div>
<br>

<h2>The Viewport Metatag (Mobile Web Part 1)</h2>
<div class="entry-content" itemprop="articleBody"><h3 id="the-skinny">The skinny</h3>
<p>Use this:</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight">
<table><tr><td class="gutter">
<pre class="line-numbers"><span class="line-number">1</span></pre>
</td>
<td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;width=device-width, initial-scale=1&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<h3 id="introduction">Introduction</h3>
<p>This series of posts is intended to introduce web developers to basic techniques for designing for the mobile web. It assumes at least a basic knowledge of creating desktop websites.</p>
<h3 id="the-problem">The problem</h3>
<p>Ok, so you've settled down to learn how to write a website for a mobile device using your current knowledge of building desktop websites. So you start off with some pretty basic HTML:</p>
<pre lang="html"><code>&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Hello world!&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;p&gt;Hello world!&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>Ok! You can't get much simpler than that. You check it out and it looks good on all the desktop browsers, since there's really no opportunity yet for any cross-browser inconsistencies. And then you check it out on your mobile device:</p>
<figure itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject" class="center"><meta itemprop="width" content="320" /><meta itemprop="height" content="480" /><meta itemprop="url" content="http://davidbcalhoun.com/wp-content/uploads/2010/05/hello-world-iphone.png" /><img itemprop="contentUrl" src="http://davidbcalhoun.com/wp-content/uploads/2010/05/hello-world-iphone.png" width="320" height="480" title="Hello World on the iPhone, WITHOUT the viewport metatag" /><figcaption itemprop="caption">Hello World on the iPhone, WITHOUT the viewport metatag</figcaption></figure>
<p>Doh! Where'd we go wrong? The text is obviously way too small to read without zooming in.</p>
<p>This is the first lesson in making mobile websites: width is your enemy. This is the first of many countless problems with device width you will encounter. Fair warning.</p>
<p>If you think about it logically, it seems to make sense: mobile Safari took a look at the page and assumed it was a document designed for the desktop, which is true of the vast majority of websites. So it gave the website a width of 980 pixels and presented it zoomed out. Which is why we can't read anything until we zoom into the page.</p>
<h3 id="viewport">Viewport</h3>
<p>But this is no good! What we need to do is tell the browser that this webpage is optimized for mobile. And this is where the viewport metatag comes into the picture.</p>
<p>Now we tweak our Hello World just a bit…</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="cp">&lt;!doctype html&gt;</span>
</span><span class="line"><span class="nt">&lt;html&gt;</span>
</span><span class="line"><span class="nt">&lt;head&gt;</span>
</span><span class="line">    <span class="nt">&lt;title&gt;</span>Hello world!<span class="nt">&lt;/title&gt;</span>
</span><span class="line">
</span><span class="line">    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;width=device-width&quot;</span><span class="nt">/&gt;</span>
</span><span class="line"><span class="nt">&lt;/head&gt;</span>
</span><span class="line">
</span><span class="line"><span class="nt">&lt;body&gt;</span>
</span><span class="line"><span class="nt">&lt;p&gt;</span>Hello world!<span class="nt">&lt;/p&gt;</span>
</span><span class="line"><span class="nt">&lt;/body&gt;</span>
</span><span class="line"><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>And we get this…</p>
<figure itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject" class="center"><meta itemprop="width" content="320" /><meta itemprop="height" content="480" /><meta itemprop="url" content="http://davidbcalhoun.com/wp-content/uploads/2010/05/hello-world-viewport-iphone.png" /><img itemprop="contentUrl" src="http://davidbcalhoun.com/wp-content/uploads/2010/05/hello-world-viewport-iphone.png" width="320" height="480" title="Hello World with the Viewport tag" /><figcaption itemprop="caption">Hello World with the Viewport tag</figcaption></figure>
<p>Much better! By setting the viewport width equal to “device-width”, we're essentially telling it that the device width is 320px, not the default value of 980px that it guessed. If we set width=320 it would achieve the same result on the iPhone and a few other smartphones, but not all phones have this exact width, so it's best to simply set device-width and let the mobile browser figure it out.</p>
<p>This viewport metatag is supported on many smartphones, from iPhone to Android to webOS (Palm) to even Internet Explorer Mobile, Opera Mini and Opera Mobile.</p>
<p>At the end of the day here's what the standard viewport looks like, as grabbed from <a href="http://m.yahoo.com">m.yahoo.com</a>:</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>EDIT: It's been discussed a bit, and it seems that preventing the user from scaling the page (pinch zooming) isn't necessarily desirable. So here's a version of the tag that allows the user to pinch zoom:</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<h3 id="more-fun-with-the-viewport-tag">More fun with the viewport tag</h3>
<p>In addition to solving our biggest concern with the width of the content, the viewport tag has more options to play with:</p>
<table class="datatable-medium">
<tr>
<td>
Property
</td>
<td>
Description
</td>
</tr>
<tr>
<td>
width
</td>
<td>
Width of the viewport in pixels (or device-width). If width isn't set, it defaults to a desktop size (980px on mobile Safari).
</td>
</tr>
<tr>
<td>
height
</td>
<td>
Height of the viewport in pixels (or device-height). Generally you don't need to worry about setting this property.
</td>
</tr>
<tr>
<td>
initial-scale
</td>
<td>
(0 to 10.0) Multiplier that sets the scale of the page after its initial display. Safe bet: if you need to set it, set it to 1.0. Larger values = zoomed in, smaller values = zoomed out
</td>
</tr>
<tr>
<td>
minimum-scale
</td>
<td>
(0 to 10.0) The minimum multiplier the user can "zoom out" to. Defaults to 0.25 on mobile Safari.
</td>
</tr>
<tr>
<td>
maximum-scale
</td>
<td>
(0 to 10.0) The minimum multiplier the user can "zoom in" to. Defaults to 1.6 on mobile Safari.
</td>
</tr>
<tr>
<td>
user-scalable
</td>
<td>
(yes/no) Whether to allow a user from scaling in/out (zooming in/out). Default to "yes" on mobile Safari.
</td>
</tr>
</table>
<h3 id="feature-phones-when-viewport-isnt-available">Feature phones: when viewport isn't available…</h3>
<p>Note: this info is now very outdated and is preserved here just for historical reference. In general, you can ignore this stuff these days.</p>
<p>Unfortunately the viewport tag is relatively new and as such isn't universally supported, especially if you're working on older feature phones. But there are some older methods at your disposal for identifying your website as optimized for mobile:</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;HandheldFriendly&quot;</span> <span class="na">content=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>This tag was originally used to identify mobile content in AvantGo browsers, but has now been made the general standard for identifying mobile websites. However, it's unknown what range of browsers support this meta tag.</p>
<p>Another tag at your disposal is a Windows-proprietary meta tag that also took root and eventually became used as another means of identifying mobile content. The drawback with this tag is that a specific width must be given, which doesn't make it as flexible as the viewport tag (see above). Again, it's unknown what the support for this tag is:</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;MobileOptimized&quot;</span> <span class="na">content=</span><span class="s">&quot;320&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>Lastly, your website will be identified as a mobile optimized site if your doctype is either XHTML-MP or WML. However, this is becoming less and less the case these days, as browsers begin to support good old HTML4.01 and HTML5+.</p>
<p>(info for this section comes from <a href="http://www.amazon.com/gp/product/B003U890OQ/ref=pd_lpo_k2_dp_sr_1?pf_rd_p=486539851&#038;pf_rd_s=lpo-top-stripe-1&#038;pf_rd_t=201&#038;pf_rd_i=143022620X&#038;pf_rd_m=ATVPDKIKX0DER&#038;pf_rd_r=017307F07YKBPJX46DXB">Beginning Smartphone Web Development</a>)</p>
<h3 id="custom-android-properties">Custom Android properties</h3>
<p><a href="http://developer.android.com/reference/android/webkit/WebView.html">The official Android documentation</a> lists a special property they've added to the meta tag: target-densitydpi. This property essentially allows developers to specify which screen resolution the page has been developed for, or more specifically how to handle the scaling of media such as images.</p>
<p>Here's an example of the tag in action:</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;target-densitydpi=device-dpi&quot;</span> <span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<h3 id="references">References</h3>
<p><a href="http://developer.apple.com/safari/library/documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html">Safari HTML Reference: Supported Meta Tags</a> <br />
<a href="http://learnthemobileweb.com/tag/mobile-web-development/page/3/">Mobile META Tags</a></p>
<h2></h2>
<h2 class="title" itemprop="headline"><a itemprop="url" href="">The Mobile Developer&#8217;s Toolkit (Mobile Web Part 2)</a></h2>
<div class="entry-content" itemprop="articleBody"><h3 id="tools-of-the-trade">Tools of the trade</h3>
<p>You're no mobile developer unless you have the tools to develop on mobile! And while it's good to own at least one of the smartphones you're developing on, it's probably unrealistic to think that you're going to go out of your way to buy several other unlocked smartphones just to test with. So you should have the next best thing: an SDK!</p>
<p>But an SDK is just one of the tools of the trade. Here's links to more things to get you started!</p>
<h3 id="sdks-emulators-and-simulators">SDKs, Emulators and Simulators</h3>
<p>Short of having access to a real phone, the next best thing is to have an emulator/simulator. And good news: all the major smartphones have SDKs available for you!</p>
<p><a href="http://developer.apple.com/">iPhone SDK</a> (Mac OS X only) – the quintessential SDK for the quintessential smartphone. Includes iPhone simulator. <br />
<a href="http://developer.android.com/sdk">Android SDK</a> (Mac OS X, Windows, and Linux) <br />
<a href="http://developer.palm.com/">Palm webOS SDK</a> (Mac OS X, Windows, and Linux) – emulator for Palm Pre, Pixi, etc. Also check out Ares, the browser-based tool for creating web apps. <br />
<a href="https://developer.mozilla.org/En/Mobile">Firefox Mobile emulator (aka Fennec)</a> – mobile version of Firefox being developed for new Nokias and soon Androids <br />
<a href="http://www.opera.com/developer/tools/">Opera Mobile emulator</a> – this is the fastest emulator of the bunch, in terms of downloading and launching the program. Painless installation. <br />
<a href="http://www.opera.com/mini/demo/">Opera Mini Simulator</a> (Browser-based Java applet) – In-browser simulator. Note that Opera Mini is different than Opera Mobile. <br />
<a href="http://developer.windowsphone.com/windows-phone-7-series/">Windows Phone 7 Series emulator</a></p>
<p>For a more complete list, see <a href="http://www.mobilexweb.com/emulators">Maximiliano Firtman's Mobile Emulators &#038; Simulators: The Ultimate Guide</a></p>
<h3 id="device-labs">Device labs</h3>
<p>These are services which allow you to test on actual devices in a lab.</p>
<p><a href="http://www.perfectomobile.com/">Perfecto Mobile</a></p>
<p><a href="http://mite.keynote.com/">Keynote MITE (Mobile Interactive Testing Environment)</a> (Windows only) – a glorified user agent switcher. Doesn't have testing of real devices.</p>
<p><a href="http://www.deviceanywhere.com/">DeviceAnywhere</a> (Java-based software that runs on Windows and Mac OSX) – a service that lets you test on actual mobile devices sitting in labs around the world. It has a tendency to be a bit clunky, but there's no real alternatives on the market. Only subscribe to this if you intend on supporting more than just smartphones.</p>
<h3 id="mobile-javascript-libraries">Mobile JavaScript libraries</h3>
<p>I've created <a href="http://davidbcalhoun.com/2010/mobile-javascript-libraries-and-frameworks">a separate entry for the mobile libraries and frameworks now available</a>.</p>
<h3 id="hybrid-web--native">Hybrid (web + native)</h3>
<p>The concept is simple: use what you know to create an app with HTML/CSS/JS and turn it into a marketable native app with one of these “wrapper” services.</p>
<p><a href="http://www.phonegap.com/">PhoneGap</a> <br />
<a href="http://www.appcelerator.com/products/titanium-mobile-application-development/">appcelerator's Titanium Mobile</a> <br />
<a href="http://www.quickconnectfamily.org/">QuickConnectFamily</a> <br />
<a href="http://rhomobile.com/">Rhomobile</a> (HTML-based)</p>
<h3 id="user-agent-switchers">User agent switchers</h3>
<p>Many websites sniff a browser's user agent to detect if it's a mobile device. As a developer this presents a challenge, because a lot of development is done on a desktop browser. With a user agent switcher, a developer can masquerade their desktop browser as a mobile browser.</p>
<p><a href="https://addons.mozilla.org/en-US/firefox/addon/59/">Firefox addon: User Agent Switcher</a></p>
<p>Safari: Enable the Develop toolbar (click on Safari -&gt; Preferences -&gt; Advanced) and click on Develop -&gt; User Agent. Select a predefined user agent or enter a custom agent by selecting “Other…”</p>
<p>Chrome: There is no easy way to do this (note that the one user agent switcher extension for Chrome doesn't work). Currently the only way is to set command line flags:</p>
<div class="instructions">
<p>
To change the user agent of Chrome in Windows:
</p>
<ol>
<li>
Make a copy of the shortcut to Chrome.
</li>
<li>
Right click the copy and select Properties.
</li>
<li>
In the Target field append &ndash;&ndash;user-agent=&#8221;myagent&#8221;
</li>
</ol>
<p>
Example Target: “C:\Documents and Settings\Username\Local Settings\Application Data\Google\Chrome\Application\chrome.exe” &ndash;&ndash;user-agent=”Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)”
</p>
</div>
<div class="instructions">
<p>
To change the user agent of Chrome in Mac OSX:
</p>
<ol>
<li>
Open Terminal
</li>
<li>
Enter the following into terminal: /Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome &ndash;&ndash;user-agent=&#8221;myagent&#8221;
</li>
</ol>
<p>
Example command: /Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome &ndash;&ndash;user-agent=”Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)”
</p>
</div>
<h3 id="mobile-detection">Mobile detection</h3>
<p>On the server side, mobile detection is mostly done by user agent sniffing (thus the need for the user agent switchers above), but there are <a href="http://wiki.forum.nokia.com/index.php/Detecting_Mobile_Devices_on_Web_Services">a few other methods</a>.</p>
<p>“Lite” user agent detection: these methods implement a simple server-side function (commonly in PHP) to detect common mobile user agents. There's a few versions, mostly based on code by <a href="//andymoore.info">Andy Moore</a>. There's one implemented in the <a href="http://plugins.svn.wordpress.org/wordpress-mobile-pack/trunk/plugins/wpmp_switcher/lite_detection.php">WordPress Mobile Pack</a> and <a href="http://wiki.forum.nokia.com/index.php/Detecting_Mobile_Devices_on_Web_Services">a similar one described on the Nokia developer forums</a>.</p>
<p><a href="http://wurfl.sourceforge.net/">WURFL (Wireless Universal Resource File)</a> – a 10+ year old project that is still being used and gaining momentum. It's beneficial because it's open source and it offers a lot of valuable information about devices.</p>
<p><a href="http://deviceatlas.com/">DeviceAtlas</a> – essentially a commercial version of WURFL</p>
<h3 id="reporting-bugs">Reporting bugs</h3>
<p>Everybody's human. All this new cutting-edge stuff isn't exactly bug-free. Help squash bugs by reporting them on the project's website. For best results, show a simplified example of the bug in action (try not to post big hunks of code!).</p>
<p><a href="https://bugs.webkit.org/">WebKit Bugzilla</a> <br />
<a href="http://source.android.com/report-bugs">Android: Report bugs</a></p>
<h3 id="blogs">Blogs</h3>
<p>Keep up to date! There's new stuff happening all the time on the mobile web.</p>
<p><a href="http://www.quirksmode.org/blog/">QuirksBlog</a> – blog of <a href="http://twitter.com/ppk">Peter-Paul Koch (PPK)</a>, who is known for documenting and researching cross-browser inconsistencies. As of the last several years he's been focusing on documenting mobile browser bugs.</p>
<p><a href="http://daringfireball.net/">Daring Fireball</a> – John Gruber's blog with a cultlike following. Frequently reports on mobile happenings, especially stuff relating to Apple.</p>
<p><a href="http://webkit.org/blog/">Surfin' Safari – The WebKit Blog</a> <br />
<a href="http://android-developers.blogspot.com/">Android Developers blog</a> <br />
<a href="http://blogs.msdn.com/iemobile/">IE for Windows Phone Team Weblog</a> <br />
<a href="http://my.opera.com/operamobile/blog/">Opera Mobile Blog</a> <br />
<a href="http://blogs.blackberry.com/">Inside BlackBerry – The Official BlackBerry Blog</a></p>
<p><a href="http://ymobileblog.com/">Yahoo! Mobile Blog</a> <br />
<a href="http://googlemobile.blogspot.com/">Google Mobile Blog</a></p>
<h3 id="miscellaneous">Miscellaneous</h3>
<p><a href="http://mobile.yahoo.com/devcenter">Yahoo! Blueprint</a> – framework for normalizing cross-browser issues across thousands of devices</p>
<h2></h2>
<h2 class="title" itemprop="headline"><a itemprop="url" href="">Designing Buttons That Don&#8217;t Suck (Mobile Web Part 3)</a></h2>
<div class="entry-content" itemprop="articleBody"><p>A button is something that seems to be made just for mobile: it's designed to be big and easy to activate, as opposed to small and harder to activate, like normal text links. This seems ideal for a mobile devices, which have a small display area and whose form of input is a person's (relatively) fat finger interacting with the screen. Contrast this with the desktop, where the display area is much larger and the input device, the mouse, is a much more highly refined and sensitive pointing device.</p>
<p>But you probably don't want to make everything into a button. After all, there's still a place for good old fashioned anchor tags. So what do you make into a button? Simple: areas of your website that get frequent usage. For instance, [mobile.twitter.com][1] has buttons for Search, Refresh results, and More (display more tweets), but leaves other things as anchors/hyperlinks, such as usernames and links in tweets. Basically, use common sense. You should have a mixture of both buttons and hyperlinks.</p>
<p>There's a distinction to be made between form input buttons and other things that look like buttons. The former occurs within a Form tag and can be used to submit a form of data when clicked (and you can [style it up all you want][2]!). The latter is simply an Anchor tag disguised as a big clickable button, which is the focus of this article.</p>
<p>A button can be a very useful thing, and can make the user experience much much better. Yet it's surprisingly easy to fail to create a proper button.</p>
<h3 id="how-to-fail-at-creating-a-button">How to fail at creating a button</h3>
<p>See if you can tell the difference between these two buttons:</p>
<div class="button-container">
<div class="incorrect button">
<a href="#">More</a>
</div>
<p>
 <a href="#" class="correct button">More</a> <p>
If the difference isn&#8217;t immediately apparent, try mousing over the following buttons:
</p>
<div class="button-container hovers">
<div class="incorrect button">
<a href="#">More</a>
</div>
<p>
<a href="#" class="correct button">More</a> <p>
What&#8217;s the problem? The button on the top is only clickable when hovering over the text. In other words, it looks like a button but it acts just like a regular hyperlink. This is a common problem that I&#8217;ve seen a LOT, and I&#8217;ve even seen it on major websites (in fact, the faulty button is inspired by the live code on <a href="http://mobile.twitter.com">mobile.twitter.com</a>).
</p>
<h3>
How does this happen?
</h3>
<p>
My theory is that when a design is passed down to a developer, the developer may think their job ends when their code produces output that looks like the original design documents. But they fail to take into consideration the actual usability of the website.
</p>
<p>
This is a simple mistake, but it definitely causes frustration when I find it on websites. And I find myself even more annoyed when I see this while browsing websites with my iPhone. It basically tells me that the developers don&#8217;t use their own website. That&#8217;s not a good impression to leave with your visitors.
</p>
<h3>
Summary
</h3>
<p>
In summary, buttons are an important part of your mobile website. They are designed to be easy to activate, so make sure that frequently used functions on your website are buttons. Also, don&#8217;t be lazy: TEST your code for usability and don&#8217;t assume that the product is done when it looks identical to the design specs.
</p>
<h2></h2>
<h2 class="title" itemprop="headline"><a itemprop="url" href="">On Designing a Mobile Webpage (Mobile Web Part 4)</a></h2>
<div class="entry-content" itemprop="articleBody"><p>The frontend engineer lives at the intersection between design and engineering, and this is perhaps nowhere more true than in the world of mobile. In order to make a usable desktop website, an engineer must have at least some sense of design, and fortunately a lot of this has been standardized over the years. But the world of mobile is full of more unknowns, and the field is changing rapidly, especially lately from the shift away from older feature phones to the focus on smartphones. As such, the mobile engineer has to be on their toes in the sense of both design and engineering.</p>
<p>The focus of this article is on mobile design in general. I'm by no means an expert, but these are some things I've found to be essential and basic topics. Hopefully you will find this useful!</p>
<h3 id="only-one-column">Only one column?</h3>
<p>Mobile websites should only have one column of main content. This point is stressed again and again in mobile design, and for good reason: the paradigm of multi-column layouts is fairly well-entrenched in desktop design, but it's simply not an option for a well-designed mobile site.</p>
<p>To illustrate this point, the following two images are both 320 pixels wide, which is a common smartphone width in portrait mode. The image on the left is the Yahoo! front page (<a href="http://yahoo.com">yahoo.com</a>) in its three-column fixed width desktop size, and the image on the right is Yahoo! mobile's front page (<a href="http://m.yahoo.com">m.yahoo.com</a>):</p>
<p><img src="http://davidbcalhoun.com/wp-content/uploads/2010/05/yahoo-frontpage.jpg" alt="" title="Yahoo desktop front page" width="320" height="288" class="alignleft size-full wp-image-243 left-margin-large" style="padding: 0 0 6em 0;" /><img src="http://davidbcalhoun.com/wp-content/uploads/2010/05/yahoo-mobile.jpg" alt="" title="Yahoo Mobile front page" width="320" height="482" class="alignleft size-full wp-image-244 left-margin-large" /></p>
<p>This might not be a fair comparison, as the desktop version isn't optimized for mobile, so you can't even read the text without zooming in. However, even if the size of the text was increased, it's apparent that three columns is just too much, both because of screen width concerns as well as concerns about too much content. There's simply too much information being crammed down the user's throat. Chances are the user only wants to check a few things and then put the phone back in their pocket, and this three-column version of the site is preventing them from doing that.</p>
<h3 id="modules-modules-modules">Modules, modules, modules</h3>
<p>It's helpful to think of a webpage as being composed of modules. If you're converting a desktop website into a mobile site then you must essentially think of the website as bits of rearrangeable components:</p>
<p><img src="http://davidbcalhoun.com/wp-content/uploads/2010/05/mobile-modules.png" alt="" title="Components of a website, broken into modules" width="774" height="479" class="size-full wp-image-253" /> <br />
What you're doing is essentially grabbing your most important components and making sure they appear at the top, then stacking each module on top of each other. And don't forget we do have variable screen widths on mobile (even on phones themselves, since they can be either in portrait or landscape mode), so we should be sure that each module is taking up 100% of the available screen space. In more technical terms, yes, this means we have to make a fluid layout.</p>
<h3 id="clarity-and-concision">Clarity and concision</h3>
<p>It's important to be both clear and concise in presentation. On the desktop we can get away with a certain amount of screen bloat, but users always appreciate simple sites when they come across them. This is a huge part of what made Google so successful: users came to the site for one thing, search, and the site was kept simple to facilitate that interaction.</p>
<p>As it turns out, it's quite hard to be clear and concise. I like to compare this to writing papers for school. Often we were given assignments that needed to be a minimum of X amount of words or pages, and it was sometimes challenging to find information to meet this minimum. Fortunately (or unfortunately) many students developed a highly refined skill of BSing to fill the word limit. But were you ever given an assignment where there was a word/page MAXIMUM? This turns out to be much harder to write for, mostly because you can't BS it. You have to identify the fluff, the nonessential bits, and surgically remove them from your paper. (As a side note, in the area of computer science, notice how many HUGE tomes there are out there compared to smaller books. I would venture to guess that engineers have a hard time being concise.)</p>
<p>This is just the problem we now face with mobile. We know how to fill up webpages with fluff: add an RSS feed here, add a module that ties into Facebook there, add another feed here, stick a relatively unimportant module there, add an excessive amount of social sharing buttons, and presto, we have a website that looks pretty active. But how does that translate to mobile? The questions you're forced to ask yourself are: “do I really need this data feed displayed here?”, “do I need this huge Facebook module here taking up space?”. Or more positive questions like “what are the things users will come to my site to check, and how do I make it easier for them to find those things?”.</p>
<p>In the case of the last question, it's easy to see from the above screenshots what Yahoo mobile thought was most important: Mail, Search, and News, all of which are visible at the top of the page. Think about your website's main two or three features and try to make those just as visible.</p>
<h3 id="useful-links">Useful links</h3>
<p><a href="http://www.w3.org/TR/mobile-bp/">W3C Mobile Web Best Practices 1.0</a> <br />
<a href="http://carsonified.com/blog/dev/tips-and-tricks-for-developing-mobile-widgets/">Tips and Tricks for developing Mobile Widgets</a></p>
<h2></h2>
<h2 class="title" itemprop="headline"><a itemprop="url" href="">Using Mobile-specific HTML, CSS, and JavaScript (Mobile Web Part 5)</a></h2>
<div class="entry-content" itemprop="articleBody"><p><em>(updated June 27, 2011)</em></p>
<h3 id="mobile-specific-html">Mobile-specific HTML</h3>
<h4 id="viewport-tag">Viewport tag</h4>
<p>Use the <a href="http://davidbcalhoun.com/2010/viewport-metatag">viewport tag</a> to properly fit the content to the screen:</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<h4 id="tel-scheme2-to-initiate-phone-calls"><a href="http://www.rfc-editor.org/rfc/rfc3966.txt">Tel scheme</a> (to initiate phone calls)</h4>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;tel:18005555555&quot;</span><span class="nt">&gt;</span>Call us at 1-800-555-5555<span class="nt">&lt;/a&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<h4 id="sms-scheme3-to-initiate-text-messages"><a href="http://www.rfc-editor.org/rfc/rfc5724.txt">Sms scheme</a> (to initiate text messages)</h4>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;sms:18005555555&quot;</span><span class="nt">&gt;</span>
</span><span class="line"><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;sms:18005555555,18005555556&quot;</span><span class="nt">&gt;</span>                <span class="c">&lt;!-- multiple recipients --&gt;</span>
</span><span class="line"><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;sms:18005555555?body=Text%20goes%20here&quot;</span><span class="nt">&gt;</span>    <span class="c">&lt;!-- predefined message body --&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<h4 id="disable-automatic-telephone-number-linking">Disable automatic telephone number linking</h4>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;format-detection&quot;</span> <span class="na">content=</span><span class="s">&quot;telephone=no&quot;</span><span class="nt">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<h4 id="ios-specific-html-some-work-on-android-as-well">iOS-specific HTML (some work on Android as well)</h4>
<p>You also have access to several <a href="http://developer.apple.com/library/safari/#documentation/appleapplications/reference/safariwebcontent/configuringwebapplications/configuringwebapplications.html">Apple-specific tags to use in your iOS applications (iPhone, iPad, and don't forget the iPod Touch!)</a>.</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="c">&lt;!-- iOS 1.1.3+: this is the icon that&#39;s used when the user adds your app to the home screen --&gt;</span>
</span><span class="line">
</span><span class="line"><span class="c">&lt;!-- also works on Android! --&gt;</span>
</span><span class="line"><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;apple-touch-icon&quot;</span> <span class="na">href=</span><span class="s">&quot;icon.png&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">
</span><span class="line"><span class="c">&lt;!-- iOS 2.0+: tell iOS not to apply any glare effects to the icon --&gt;</span>
</span><span class="line"><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;apple-touch-icon-precomposed&quot;</span> <span class="na">href=</span><span class="s">&quot;icon.png&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">
</span><span class="line"><span class="c">&lt;!-- iOS 4.2+ icons for different resolutions --&gt;</span>
</span><span class="line"><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;apple-touch-icon&quot;</span> <span class="na">sizes=</span><span class="s">&quot;72x72&quot;</span> <span class="na">href=</span><span class="s">&quot;touch-icon-ipad.png&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line"><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;apple-touch-icon&quot;</span> <span class="na">sizes=</span><span class="s">&quot;114x114&quot;</span> <span class="na">href=</span><span class="s">&quot;touch-icon-iphone4.png&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">
</span><span class="line"><span class="c">&lt;!-- iOS 3+: full-screen startup splash screen image (must be 320x460) --&gt;</span>
</span><span class="line"><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;apple-touch-startup-image&quot;</span> <span class="na">href=</span><span class="s">&quot;startup.png&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">
</span><span class="line"><span class="c">&lt;!-- enable full-screen mode (only when launched from home screen) --&gt;</span>
</span><span class="line"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;apple-mobile-web-app-capable&quot;</span> <span class="na">content=</span><span class="s">&quot;yes&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">
</span><span class="line"><span class="c">&lt;!-- controls the appearance of the status bar in full-screen mode --&gt;</span>
</span><span class="line"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;apple-mobile-web-app-status-bar-style&quot;</span> <span class="na">content=</span><span class="s">&quot;black&quot;</span> <span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<h4 id="turn-off-autocorrect-autocomplete-and-autocapitalize">Turn off autocorrect, autocomplete, and autocapitalize</h4>
<p>And also some handy attributes to turn off annoying autocorrect features:</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;input</span> <span class="na">autocorrect=</span><span class="s">&quot;off&quot;</span> <span class="na">autocomplete=</span><span class="s">&quot;off&quot;</span> <span class="na">autocapitalize=</span><span class="s">&quot;off&quot;</span><span class="nt">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<h3 id="mobile-specific-css">Mobile-specific CSS</h3>
<h4 id="positionfixed-and-overflowscroll">position:fixed and overflow:scroll</h4>
<p>Mobile browsers are now starting to support these basic CSS properties better. Position:fixed will work on Android 2.2+ and iOS 5+. Overflow:scroll works with one finger on iOS 5+.</p>
<p>Also, iOS 5 has additional CSS to give the native scrollbar and momentum/intertia to elements with overflow:scroll:</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="css"><span class="line"><span class="nt">div</span> <span class="p">{</span>
</span><span class="line">  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="k">overflow</span><span class="o">-</span><span class="n">scrolling</span><span class="o">:</span> <span class="n">touch</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<h4 id="media-queries">Media queries</h4>
<p><a href="http://www.w3.org/TR/css3-mediaqueries/">Media queries</a> enable you to target specific features (screen width, orientation, resolution) within CSS itself. Media queries themselves are actually quite old and are not mobile specific (they used to be popular for making a print-friendly version of webpages).</p>
<p>You can use them two ways: 1) inline in a CSS stylesheet or 2) as the “media” attribute in the link tag, which loads an external stylesheet. The following is an example of inline CSS that's applied only when the device is in portrait mode:</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="css"><span class="line"><span class="k">@media</span> <span class="nt">all</span> <span class="nt">and</span> <span class="o">(</span><span class="nt">orientation</span><span class="o">:</span> <span class="nt">portrait</span><span class="o">)</span> <span class="p">{</span>
</span><span class="line">  <span class="nt">body</span> <span class="p">{</span> <span class="p">}</span>
</span><span class="line">  <span class="nt">div</span> <span class="p">{</span> <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>Here's the same media query using the other method, which points to an external stylesheet (not recommended):</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">media=</span><span class="s">&quot;all and (orientation: portrait)&quot;</span> <span class="na">href=</span><span class="s">&quot;portrait.css&quot;</span> <span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>This is not recommended because it creates an additional HTTP request (bad for performance). Also, in the case of screen orientation, the separate CSS stylesheet is NOT downloaded when the screen is rotated.</p>
<p>Here's a few examples of using inline CSS:</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
</pre></td><td class="code"><pre><code class="css"><span class="line"><span class="o">//</span> <span class="nt">target</span> <span class="nt">small</span> <span class="nt">screens</span> <span class="o">(</span><span class="nt">mobile</span> <span class="nt">devices</span> <span class="nt">or</span> <span class="nt">small</span> <span class="nt">desktop</span> <span class="nt">windows</span><span class="o">)</span>
</span><span class="line"><span class="k">@media</span> <span class="nt">only</span> <span class="nt">screen</span> <span class="nt">and</span> <span class="o">(</span><span class="nt">max-width</span><span class="o">:</span> <span class="nt">480px</span><span class="o">)</span> <span class="p">{</span>
</span><span class="line">  <span class="c">/* CSS goes here */</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="c">/* high resolution screens */</span>
</span><span class="line"><span class="k">@media</span> <span class="o">(</span><span class="nt">-webkit-min-device-pixel-ratio</span><span class="o">:</span> <span class="nt">2</span><span class="o">),</span>
</span><span class="line">             <span class="o">(</span><span class="nt">min--moz-device-pixel-ratio</span><span class="o">:</span> <span class="nt">2</span><span class="o">),</span>
</span><span class="line">             <span class="o">(</span><span class="nt">min-resolution</span><span class="o">:</span> <span class="nt">300dpi</span><span class="o">)</span> <span class="p">{</span>
</span><span class="line">  <span class="nt">header</span> <span class="p">{</span> <span class="k">background-image</span><span class="o">:</span> <span class="sx">url(header-highres.png)</span><span class="p">;</span> <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="c">/* low resolution screens */</span>
</span><span class="line"><span class="k">@media</span> <span class="o">(</span><span class="nt">-webkit-max-device-pixel-ratio</span><span class="o">:</span> <span class="nt">1</span><span class="nc">.5</span><span class="o">),</span>
</span><span class="line">             <span class="o">(</span><span class="nt">max--moz-device-pixel-ratio</span><span class="o">:</span> <span class="nt">1</span><span class="nc">.5</span><span class="o">),</span>
</span><span class="line">             <span class="o">(</span><span class="nt">max-resolution</span><span class="o">:</span> <span class="nt">299dpi</span><span class="o">)</span> <span class="p">{</span>
</span><span class="line">  <span class="nt">header</span> <span class="p">{</span> <span class="k">background-image</span><span class="o">:</span> <span class="sx">url(header-lowres.png)</span><span class="p">;</span> <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>Read more: <a href="https://developer.mozilla.org/en/css/media_queries">Media queries (Mozilla Developer Center)</a></p>
<h4 id="miscellaneous-css">Miscellaneous CSS</h4>
<ul>
<li>
<p><code>-webkit-tap-highlight-color</code> (iOS): override the semitransparent color overlay when a user clicks a link or clickable element. To completely disable it, set the value to ‘transparent' or ‘rgba(0,0,0,0)'</p>
</li>
<li>
<p><code>-webkit-user-select: none;</code> - prevent the user from selecting text (also works on desktop WebKit)</p>
</li>
<li>
<p><code>-webkit-touch-callout: none;</code> - prevent the callout toolbar from appearing when a user touches and holds an element such as an anchor tag.</p>
</li>
</ul>
<h3 id="mobile-specific-javascript">Mobile-specific JavaScript</h3>
<h4 id="windowscrollto00"><code>window.scrollTo(0,0);</code></h4>
<p>This hides the address bar and takes advantage of the entire device screen. You'll have to set this in a timeout and make sure to get the timing right. See <a href="http://remysharp.com/2010/08/05/doing-it-right-skipping-the-iphone-url-bar/">Remy Sharp's post</a> for more details.</p>
<h4 id="windowmatchmedia"><code>window.matchMedia()</code></h4>
<p>(iOS 5+) Again, just as CSS media queries aren't specific to mobile, they do come in especially useful for mobile, so it's worth mentioning their JavaScript counterpart. window.matchMedia() is a JavaScript-based version of media queries. You can use <a href="https://github.com/scottjehl/Respond">respond.js</a> as a polyfill for devices that don't support this functionality natively.</p>
<h4 id="navigatorconnection"><code>navigator.connection</code></h4>
<p>(Android 2.2+) Determine if the phone is running on WiFi, 3G, etc. Example:</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="k">if</span> <span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">connection</span><span class="p">.</span><span class="nx">WIFI</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="c1">// code for WiFi connections (high-bandwidth)</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<h4 id="windowdevicepixelratio"><code>window.devicePixelRatio</code></h4>
<p>Determine screen resolution (analogue to the CSS media query). (iPhone 4 has the value 2, while Nexus One has the value 1.5).</p>
<h4 id="windownavigatoronline"><code>window.navigator.onLine</code></h4>
<p>Not strictly mobile, but helpful for apps to determine if they're being run offline.</p>
<h4 id="windownavigatorstandalone"><code>window.navigator.standalone</code></h4>
<p>(iOS 2.1+): determine if it's running in full-screen mode</p>
<h4 id="touch-and-gesture-events">Touch and gesture events</h4>
<ul>
<li>
<p><a href="http://developer.apple.com/safari/library/documentation/appleapplications/reference/safariwebcontent/handlingevents/handlingevents.html">touch events (iOS, Android 2.2+)</a>: touchstart, touchmove, touchend, touchcancel</p>
</li>
<li>
<p><a href="http://developer.apple.com/safari/library/documentation/internetweb/conceptual/safarivisualeffectsprogguide/InteractiveVisualEffects/InteractiveVisualEffects.html">gesture events (Apple only, iOS 2+)</a>: gesturestart, gesturechange, gesturend give access to predefined gestures (rotation, scale, position)</p>
</li>
</ul>
<h4 id="screen-orientation-every-90-degrees">Screen orientation (every 90 degrees)</h4>
<ul>
<li><a href="http://ajaxian.com/archives/iphone-windowonorientationchange-code">orientationchange event</a>: triggered every 90 degrees of rotation (portrait and landscape modes). The current orientation is available through window.orientation</li>
</ul>
<h4 id="device-orientation-more-fine-grained">Device orientation (more fine-grained)</h4>
<p>The <a href="http://frontendstuff.com/javascript/examples/deviceorientation.html">deviceorientation event</a> will fire very frequently, and gives more fine-grained information about the device's orientation in three dimensions. <br />
<a href="https://developer.mozilla.org/en/Detecting_device_orientation">MozOrientation</a> (or onmozorientation?) (Fennec/Firefox Mobile, Firefox 3.5+): also not strictly mobile. Gives access to the device's accelerometer (x-y-z orientation data), updated periodically. Works on Android phones running Mobile Firefox. On the desktop this works with laptops such as Thinkpads and MacBooks.</p>
<h4 id="devicemotion-shake-gestures-etc">devicemotion (shake gestures, etc.)</h4>
<ul>
<li><a href="http://frontendstuff.com/javascript/examples/devicemotion.html">devicemotion</a> fires when the user shakes or moves their device. Devicemotion taps into the accelerometer, which is fires off when the device accelerates. Contrast this with the deviceorientation event, which taps into the device's gyroscope (if it has one), which only measures the 3D angle orientation, even when the device is at rest.</li>
</ul>
<h4 id="media-capture-api">Media capture API</h4>
<p>While iOS is still lacking basic file inputs, Android is forging ahead, giving developers fine-grained control over content users can upload.</p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="c">&lt;!-- regular file upload (Android 2.2+, NO iOS) --&gt;</span>
</span><span class="line"><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;file&quot;</span><span class="nt">&gt;&lt;/input&gt;</span>
</span><span class="line">
</span><span class="line"><span class="c">&lt;!-- opens directly to the camera (Android 3.0+) --&gt;</span>
</span><span class="line"><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;file&quot;</span> <span class="na">accept=</span><span class="s">&quot;image/*;capture=camera&quot;</span><span class="nt">&gt;&lt;/input&gt;</span>
</span><span class="line">
</span><span class="line"><span class="c">&lt;!-- opens directly to the camera in video mode (Android 3.0+) --&gt;</span>
</span><span class="line"><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;file&quot;</span> <span class="na">accept=</span><span class="s">&quot;video/*;capture=camcorder&quot;</span><span class="nt">&gt;&lt;/input&gt;</span>
</span><span class="line">
</span><span class="line"><span class="c">&lt;!-- opens directly to the audio recorder (Android 3.0+) --&gt;</span>
</span><span class="line"><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;file&quot;</span> <span class="na">accept=</span><span class="s">&quot;audio/*;capture=microphone&quot;</span><span class="nt">&gt;&lt;/input&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<h4 id="blackberry-specific">BlackBerry specific</h4>
<p>If you're developing for a BlackBerry Widget, you have access to proprietary information through the <a href="http://www.blackberry.com/developers/docs/widgetapi/Summary_system.html">blackberry object</a> (which gives access to useful information such as blackberry.network [returns values such as CDMA and Wi-Fi] and blackberry.system).</p>
<p>You also have the option to use <a href="http://phonegap.com/">PhoneGap</a>, which augments JavaScript and gives you access to more phone features that native apps would have access to.</p>
<h3 id="use-a-mobile-optimized-javascript-library">Use a mobile-optimized JavaScript library</h3>
<p>I've created <a href="http://davidbcalhoun.com/2010/mobile-javascript-libraries-and-frameworks">a separate entry for the available mobile libraries and frameworks</a>.</p>
<p>Because smartphone browsers are standards-based, the aim of a JavaScript library on mobile is less towards API normalization and more towards providing an actual UI framework, usually to emulate the feel of native apps (and to provide easier workarounds to <a href="http://doctyper.com/archives/200808/fixed-positioning-on-mobile-safari/">lack of access to position:fixed</a>). We've seen a few libraries released that emulate the iPhone UI, and in the future we might see libraries emulating the Android UI, as well as entirely new UIs.</p>
<p>There's also a bit to be said about simply loading full desktop JavaScript libraries into mobile clients. In my opinion this doesn't particularly make sense, especially in a world where latency and bandwidth are so much more of a concern. It doesn't make sense to force the user wait longer and download code that's ultimately useless to them (hacks for desktop browsers such as IE 6, etc).</p>
<h3 id="take-advantage-of-new-stuff">Take advantage of new stuff!</h3>
<p>While not specific to mobile, there's a lot of new stuff in general that you can use. If you limit yourself to the top smartphones (iPhone, Android, and maybe webOS), compared to the desktop you immediately have access to an even wider array of new stuff, especially many Webkit proprietary features, since most of these top smartphones have browsers based on Webkit.</p>
<p>-HTML: new tags (<a href="http://diveintohtml5.org/">HTML5</a> (I'm sure you've heard of it by now…)) <br />
-CSS: <a href="http://webkit.org/blog/130/css-transforms/">2d transforms</a>, <a href="http://webkit.org/blog/386/3d-transforms/">3d transforms</a>, animation, <a href="http://border-radius.com/">border radius</a>, <a href="https://developer.mozilla.org/en/css/@font-face">custom fonts with @font-face</a>, etc. <br />
-JavaScript: <a href="http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/">strict mode</a>, <a href="https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Core_Language_Features#Constants">constants</a>, <a href="http://davidbcalhoun.com/2009/javascript-tidbit-block-scope-with-let">block scope</a>, <a href="https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Date">Date.now()</a>, etc.</p>
<h3 id="slides">Slides</h3>
<iframe src="http://www.slideshare.net/franksvalli/slideshelf" width="615px" height="470px" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:none;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe>
<div style="width:425px" id="__ss_7424222">
<strong style="display:block;margin:12px 0 4px"><a href="http://www.slideshare.net/franksvalli/mobile-html-css-and-javascript" title="Mobile HTML, CSS, and JavaScript">Mobile HTML, CSS, and JavaScript</a></strong> <div style="padding:5px 0 12px">
View more <a href="http://www.slideshare.net/">presentations</a> from <a href="http://www.slideshare.net/franksvalli">franksvalli</a>
</div>
</div>
<h2></h2>
<h2 class="title" itemprop="headline"><a itemprop="url" href="">Dealing With Device Orientation (Mobile Web Part 6)</a></h2>
<div class="entry-content" itemprop="articleBody"><h3 id="introduction">Introduction</h3>
<p>If you read <a href="http://davidbcalhoun.com/2010/on-designing-a-mobile-webpage">part 4</a> of this series, you'll know that because of the variety of screen sizes, the best way to develop for mobile is to develop fluid layouts that take 100% of the available space on the screen.</p>
<p>What you probably didn't think of is that there's different screen widths <em>even on the same device</em>! This is due to screen orientation. And when the user changes the screen orientation, stuff may break (hey, it's not a perfect world). In my experience this has meant needing to tweak percentage widths on elements, but I imagine there's even more needs. Imagine an image carousel that can only fit three images across in portrait mode but can possibly fit four images in landscape mode. It might be nice to re-initialize the carousel to accommodate a forth image when the phone is in landscape mode (then again, that might create a lot of unnecessary overhead…).</p>
<p>In any case, I hope you can agree that it would sometimes be useful to know the screen orientation.</p>
<h3 id="windoworientation-and-the-orientationchange-event"><code>window.orientation</code> and the <code>orientationchange</code> event</h3>
<p>Luckily on the latest smartphones you have some goodies available to you that you don't have on the desktop (since desktop users aren't in the habit of constantly turning their screens sideways!).</p>
<ul lang="js">
<li>
<p><code>window.orientation</code>: this property gives the current screen orientation: 0 in portrait mode, 90 when rotated left, -90 when rotated right (no special value when the screen is upside-down)</p>
</li>
<li>
<p><code>orientationchange</code> event: this window event fires after every 90 degrees of rotation and, like other events, <a href="http://en.wikipedia.org/wiki/DOM_events">can be applied in various ways</a>:</p>
<p>// DOM Level 0 (avoid)<br />
window.onorientationchange = function(){};</p>
<p>// DOM Level 2<br />
window.addEventListener(‘orientationchange', function(){}, false);</p>
</li>
</ul>
<p><a href="http://www.iphonemicrosites.com/articles/6-tips-to-optimize-your-current-site-for-the-iphone/">Some websites</a> recommend using <code>orientationchange</code> to dynamically add an <code>orient</code> attribute on the <code>body</code> element and target the orientation with CSS selectors (<code>body[orient=landscape]</code>), <em>but this is in error</em>. As it turns out, <code>orientationchange</code> is only fired AFTER the screen has been rotated (which also <a href="http://www.stubbornella.org/content/2009/03/27/reflows-repaints-css-performance-making-your-javascript-slow/">triggers a CSS reflow</a>), which means this attribute is updated later (after the reflow). And unfortunately editing this <code>orient</code> attribute doesn't trigger another CSS reflow. The result? When you rotate the device, these new CSS styles don't get applied!</p>
<p>The fix is to add the orientation as a CSS class, which does trigger a CSS reflow. So our code at this point will look something like this:</p>
<pre lang="js"><code>(function(){
var init = function() {
  var updateOrientation = function() {
    var orientation = window.orientation;
    
    switch(orientation) {
      case 90: case -90:
        orientation = 'landscape';
      break;
      default:
        orientation = 'portrait';
    }
    
    // set the class on the HTML element (i.e. )
    document.body.parentNode.setAttribute('class', orientation);
  };
  
  // event triggered every 90 degrees of rotation
  window.addEventListener('orientationchange', updateOrientation, false);
  
  // initialize the orientation
  updateOrientation();
}

window.addEventListener('DOMContentLoaded', init, false);

})();
</code></pre>
<p>Now we can target elements like this in CSS:</p>
<pre lang="css"><code>.portrait body div { width: 10%; }
.landscape body div { width: 15%; }
</code></pre>
<h3 id="with-a-little-help-from-media-queries">With a little help from media queries</h3>
<p>You may have heard of <a href="https://developer.mozilla.org/en/css/media_queries">media queries</a> being used to target mobile devices (based on screen pixel width) or to <a href="http://www.bdoran.co.uk/2010/07/19/detecting-the-iphone4-and-resolution-with-javascript-or-php/">target the iPhone 4's Retina display</a>, but you may not have known that you can also target screen orientation!</p>
<pre lang="css"><code>@media all and (orientation: portrait) {
  body div { width: 10%; }
}

@media all and (orientation: landscape) {
  body div { width: 15%; }
}
</code></pre>
<p>The orientation media query is available on iOS 3.2+, Android 2.0+, and some other browsers.</p>
<p>This is a lot cleaner than the above JavaScript example in the sense that it's pure CSS, and it's part of the CSS that gets reflowed when the screen is rotated.</p>
<p>(Minor note: iOS 4 on the iPhone Simulator running 4.0.0 looks like it's stuck in landscape orientation, but the media queries work correctly on my 3GS with 4.0.1)</p>
<h3 id="fallback-when-windoworientation-and-media-queries-arent-available">Fallback: when window.orientation and media queries aren't available…</h3>
<p>If <code>window.orientation</code> isn't available on a device, chances are the <code>orientationchange</code> event and media queries (for orientation) will also not be available. Oh no, what do we do now?</p>
<p>Even though this isn't an entirely foolproof method, we can dynamically measure the window width and height and guess orientation based on that:</p>
<pre lang="js"><code>(function(){
var HTMLNode = document.body.parentNode;
var updateOrientation = function() {  
  // landscape when width is biggest, otherwise portrait
  var orientation = (window.innerWidth &gt; window.innerHeight) ? 'landscape': 'portrait';
  
  // set the class on the HTML element (i.e. )
  HTMLNode.setAttribute('class', orientation);
}
var init = function() {
  // initialize the orientation
  updateOrientation();
  
  // update every 5 seconds
  setInterval(updateOrientation, 5000);
}
window.addEventListener('DOMContentLoaded', init, false);
})();
</code></pre>
<p>Ok, so it's not pretty, but it seems to work. The overhead in this fallback example is the fact that we have to use a polling technique (in this case every 5 seconds [5000 milliseconds]) to check for changes in orientation.</p>
<p>Note: there's also the strong possibility that these browsers will not support the <code>DOMContentLoaded</code> event, but we'll ignore that for the purposes of this article. (if you have problems, change <code>DOMContentLoaded</code> to <code>load</code>).</p>
<h3 id="putting-it-all-together">Putting it all together</h3>
<p>Ok, so if you want the fallback example to work in addition to newer methods, unless you want to duplicate your CSS, then avoid using media queries to target orientation. Instead we'll rely on adding a class to the <code>html</code> tag (or the <code>body</code> tag if you prefer).</p>
<p>Once we put everything together, we get something that looks like this:</p>
<pre lang="js"><code>(function(){
var supportsOrientation = (typeof window.orientation == 'number' &amp;&amp; typeof window.onorientationchange == 'object');
var HTMLNode = document.body.parentNode;
var updateOrientation = function() {
  // rewrite the function depending on what's supported
  if(supportsOrientation) {
    updateOrientation = function() {
      var orientation = window.orientation;
    
      switch(orientation) {
        case 90: case -90:
          orientation = 'landscape';
        break;
        default:
          orientation = 'portrait';
      }
      
      // set the class on the HTML element (i.e. )
      HTMLNode.setAttribute('class', orientation);
    }
  } else {
    updateOrientation = function() {
      // landscape when width is biggest, otherwise portrait
      var orientation = (window.innerWidth &gt; window.innerHeight) ? 'landscape': 'portrait';

      // set the class on the HTML element (i.e. )
      HTMLNode.setAttribute('class', orientation);
    }
  }
  
  updateOrientation();
}
var init = function() {
  // initialize the orientation
  updateOrientation();
  
  if(supportsOrientation) {
    window.addEventListener('orientationchange', updateOrientation, false);
  } else {
    // fallback: update every 5 seconds
    setInterval(updateOrientation, 5000);
  }

}
window.addEventListener('DOMContentLoaded', init, false);
})();
</code></pre>
<p>Minified (540 bytes):</p>
<pre lang="js"><code>(function(){var e=typeof window.orientation=="number"&amp;&amp;typeof window.onorientationchange=="object",f=document.body.parentNode;function c(){c=e?function(){var d=window.orientation;switch(d){case 90:case -90:d="landscape";break;default:d="portrait"}f.setAttribute("class",d)}:function(){f.setAttribute("class",window.innerWidth&gt;window.innerHeight?"landscape":"portrait")};c()}window.addEventListener("DOMContentLoaded",function(){c();e?window.addEventListener("orientationchange",c,false):setInterval(c,5E3)},false)})();
</code></pre>
<h3 id="conclusion">Conclusion</h3>
<p>And that's it! Now we can reliably target different screen orientations with some straightforward CSS:</p>
<pre lang="css"><code>.portrait body div { width: 10%; }
.landscape body div { width: 15%; }
</code></pre>
<p>Again, in my experience I've used this to fix bugs. But I'm sure you can find more creative uses for it!</p>
<h3 id="related">Related</h3>
<p><a href="http://www.nczonline.net/blog/2010/04/06/ipad-web-development-tips/">iPad web development tips (Nicholas C. Zakas)</a><br /><br />
<a href="http://ajaxian.com/archives/iphone-windowonorientationchange-code">iPhone window.onorientationchange Code (Ajaxian)</a><br /><br />
<a href="http://www.quirksmode.org/blog/archives/2010/04/the_orientation.html">The orientation media query (Quirksmode)</a></p>
<br>
<br><br><br><br><br>
<script>
  $(function() {
    var toc = $('#toc>ul');

    function makeLi(text, href) {
      return $('<a href="' + href + '" target="_self">' + text + '</a><br>');
    }

    $('h2, h3').each(function(i) {
      var chapter = $(this), chapterNumber = i + 1;
      toc.append(
        makeLi(chapter.text(), '#chapter-' + chapterNumber)
      );
      chapter.attr('id', 'chapter-' + chapterNumber);
    });

  });
</script>
</body>
</html>

