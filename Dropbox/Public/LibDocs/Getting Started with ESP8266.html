
<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<style>
html {
  overflow:   scroll;
}
::-webkit-scrollbar {
    width: 0px;
    background: transparent; /* make scrollbar transparent */
}

body {
 margin: auto;
 width: 80%;
 font-size: 24px;
 background-color: #000000;
 color: #20C030;
}
a { text-decoration: none; 
	color: #28B8B8; }
a:visited {	color: #389898; }
A:hover {	color: yellow; }
A:focus {	color: red; }
code { color: gray;  background-color: #001010}
pre { color: gray;  background-color: #001010;  font-size: 16px; }
img { display: inline-block; margin-top: 2%;margin-bottom: 1%;}
pre { color: gray; background-color: #001010}
div { padding: 3px; vertical-align:top;}

</style>
</head>
<body>
<h1>Getting Started with ESP8266 and Arduino: ESP8266 Arduino Interface</h1>


<div id="toc_container">
<p class="toc_title">Contents
</p>

<ul class="toc_list">

<li>
<a href="#What_is_ESP8266">
<span class="toc_number toc_depth_1">1
</span> What is ESP8266?
</a>
</li>

<li>
<a href="#ESP8266_ESP-01">
<span class="toc_number toc_depth_1">2
</span> ESP8266 ESP-01
</a>
<ul>

<li>
<a href="#Pin_Description_of_ESP8266_ESP-01_Module">
<span class="toc_number toc_depth_2">2.1
</span> Pin Description of ESP8266 ESP-01 Module
</a>
</li>
</ul>
</li>

<li>
<a href="#ESP8266_Arduino_Interface">
<span class="toc_number toc_depth_1">3
</span> ESP8266 Arduino Interface
</a>
<ul>

<li>
<a href="#Circuit_Diagram_of_ESP8266_Arduino_Interface">
<span class="toc_number toc_depth_2">3.1
</span> Circuit Diagram of ESP8266 Arduino Interface
</a>
</li>

<li>
<a href="#Components_Required">
<span class="toc_number toc_depth_2">3.2
</span> Components Required
</a>
</li>
</ul>
</li>

<li>
<a href="#Getting_the_ESP8266_ESP-01_Module_Ready_for_Breadboard_Mount">
<span class="toc_number toc_depth_1">4
</span> Getting the ESP8266 ESP-01 Module Ready for Breadboard Mount
</a>
</li>

<li>
<a href="#Getting_Arduino_IDE_Ready_for_Programming_ESP8266">
<span class="toc_number toc_depth_1">5
</span> Getting Arduino IDE Ready for Programming ESP8266
</a>
</li>

<li>
<a href="#Getting_Arduino_UNO_Ready_for_Programming_ESP8266">
<span class="toc_number toc_depth_1">6
</span> Getting Arduino UNO Ready for Programming ESP8266
</a>
</li>

<li>
<a href="#Circuit_Design_for_Programming_ESP8266_using_Arduino">
<span class="toc_number toc_depth_1">7
</span> Circuit Design for Programming ESP8266 using Arduino
</a>
</li>

<li>
<a href="#Working_of_ESP8266_Arduino_Interface">
<span class="toc_number toc_depth_1">8
</span> Working of ESP8266 Arduino Interface
</a>
</li>
</ul>
</div>


<p>
<span>If you are into IoT (Internet of Things), you might have heard of ESP8266 WiFi Module. If not, do not worry. This tutorial is about getting started with Esp8266 WiFi Module and how the ESP8266 Arduino pair can be used in your IoT Projects.
</span>
</p>

<p>
<span>So, before going into the details of how to interface the ESP8266 Arduino Pair, let’s get started with ESP8266 WiFi Module first. 
</span>
</p>

<p>
<span>
<img class="aligncenter size-full wp-image-15849" src="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-13.jpg" alt="ESP8266 Arduino Image 13" width="245" height="421" srcset="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-13.jpg 245w, https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-13-175x300.jpg 175w" sizes="(max-width: 245px) 100vw, 245px" />
</span>
</p>

<p style="text-align: right;">
<span>Take a look at these 
<strong>
<a href="https://www.electronicshub.org/iot-project-ideas/" target="_blank" rel="noopener">INTERNET OF THINGS (IOT) PROJECTS
</a>
</strong>.
</span>
</p>

<h3>
<span id="What_is_ESP8266">
<span>What is ESP8266?
</span>
</span>
</h3>

<p>
<span>ESP8266 (technically ESP8266EX) is a WiFi Module based on Cadence Tensilica L106 32-bit MCU manufactured by Espressif Systems. The ESP8266 SoC contains a fully functional WiFi Stack and TCP/IP Stack that allows any Microcontroller to get connected to WiFi Network.
</span>
</p>

<p>
<span>With Software Development Kits (SDKs), you can directly program the ESP8266’s on-chip Microcontroller, without the need for an external Microcontroller.
</span>
</p>

<p>
<span>Based on the ESP8266 SoC, several third party manufacturers started manufacturing custom boards and one such manufacturer is Ai-Thinker. The first board manufactured by Ai-Thinker is ESP-01 (which is the same board used in this project) and it became quite popular.
</span>
</p>

<p>
<span>Based on the success of the ESP-01 Module, several other modules like ESP-02, ESP-07, ESP-12, etc. were released by Ai-Thinker. All these boards are based on ESP8266 SoC but the main difference is the number of GPIO Pins.
</span>
</p>

<p>
<span>There are other modules like ESP-WROOM by Espressif Systems, NodeMCU, WeMOS, SparkFun ESP8266, etc.  
</span>
</p>

<h3>
<span id="ESP8266_ESP-01">
<span>ESP8266 ESP-01
</span>
</span>
</h3>

<p>
<span>In this project, we will be using the Ai-Thinker’s ESP-01 Module. It consists of 8 pins and the following image shows the different components of the board.
</span>
</p>

<p>
<span>
<img class="aligncenter size-full wp-image-15834" src="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-1.jpg" alt="ESP8266 Arduino Image 1" width="750" height="379" srcset="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-1.jpg 750w, https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-1-300x152.jpg 300w" sizes="(max-width: 750px) 100vw, 750px" />
</span>
</p>

<p>
<span>Coming to the pin configuration, as mentioned above, the ESP-01 module consists of 8 pins and these pins are VCC, GND, TX, RX, RST, CH_PD, GPIO0 and GPIO2. The following image shows the pin diagram of the ESP-01 Module.
</span>
</p>

<p>
<span>
<img class="aligncenter size-full wp-image-15835" src="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-2.jpg" alt="ESP8266 Arduino Image 2" width="750" height="298" srcset="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-2.jpg 750w, https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-2-300x119.jpg 300w" sizes="(max-width: 750px) 100vw, 750px" />
</span>
</p>

<h4>
<span id="Pin_Description_of_ESP8266_ESP-01_Module">
<span>Pin Description of ESP8266 ESP-01 Module
</span>
</span>
</h4>

<ul>


<li>
<span>
<strong>VCC
</strong>: It is the power pin through which 3.3V is supplied.
</span>
</li>


<li>
<span>
<strong>GND
</strong>: It is the ground pin.
</span>
</li>


<li>
<span>
<strong>TX
</strong>: This pin is used to transmit serial data to other devices.
</span>
</li>


<li>
<span>
<strong>RX
</strong>: The RX pin is used to receive serial data from other devices.
</span>
</li>


<li>
<span>
<strong>RST
</strong>: It is the Reset Pin and it is an active LOW Pin. (ESP8266 will reset if the RST pin receives LOW signal).
</span>
</li>


<li>
<span>
<strong>CH_PD
</strong>: This is the chip enable pin and it is an active HIGH Pin. It is usually connected to 3.3V.
</span>
</li>


<li>
<span>
<strong>GPIO0
</strong>: The GPIO0 (General Purpose I/O) Pin has dual functions – one for normal GPIO Operation and other for enabling the Programming Mode of ESP8266.
</span>
</li>


<li>
<span>
<strong>GPIO2
</strong>: This is GPIO Pin.
</span>
</li>

</ul>

<p>
<span>
<strong>IMPORTANT NOTE
</strong>: The ESP8266 is not compatible with 5V and the ESP-01 Module does not have any voltage regulators on-board. Make sure that the power supply to the ESP8266 is 3.3V, preferably from a dedicated power supply rather than taking it from the 3.3V Pin of the Arduino.
</span>
</p>

<h3>
<span id="ESP8266_Arduino_Interface">
<span>ESP8266 Arduino Interface
</span>
</span>
</h3>

<p>
<span>Before seeing the ESP8266 Arduino Interface, you need to know a few things about the ESP8266 Module. The ESP8266 WiFi Module comes with default firmware which supports AT commands.
</span>
</p>

<p>
<span>After interfacing the ESP8266 WiFi Module with Arduino and uploading our own program, the original firmware will be erased. We will see in a separate project on how to interface ESP8266 Module for AT Commands and also how to flash the original firmware using Arduino.
</span>
</p>

<p>
<span>Now, we will see how to program ESP8266 using Arduino and access its GPIO pins. First, we will see the circuit diagram of the interface.
</span>
</p>

<h4>
<span id="Circuit_Diagram_of_ESP8266_Arduino_Interface">
<span>Circuit Diagram of ESP8266 Arduino Interface
</span>
</span>
</h4>

<p>
<span>
<img class="aligncenter size-full wp-image-15843" src="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-3_1.jpg" alt="ESP8266 Arduino Image 3_1" width="1280" height="979" srcset="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-3_1.jpg 1280w, https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-3_1-300x229.jpg 300w, https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-3_1-768x587.jpg 768w, https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-3_1-1024x783.jpg 1024w" sizes="(max-width: 1280px) 100vw, 1280px" />
</span>
</p>

<p>
<span>If the ESP8266 Module in the circuit diagram is not clear, the following image might help you. It is just a personal representation for circuit diagram. You have already seen actual pin diagram in the previous section.
</span>
</p>

<p>
<span>
<img class="aligncenter size-full wp-image-15837" src="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-4.jpg" alt="ESP8266 Arduino Image 4" width="500" height="331" srcset="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-4.jpg 500w, https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-4-300x199.jpg 300w" sizes="(max-width: 500px) 100vw, 500px" />
</span>
</p>

<h4>
<span id="Components_Required">
<span>Components Required
</span>
</span>
</h4>

<ul>


<li>
<span>Arduino UNO
</span>
</li>


<li>
<span>ESP8266 ESP-01
</span>
</li>


<li>
<span>1 KΩ Resistor
</span>
</li>


<li>
<span>2.2 KΩ Resistor
</span>
</li>


<li>
<span>100 pF Capacitor (Capacitor Code &#8211; 104)
</span>
</li>


<li>
<span>Mini Breadboard
</span>
</li>


<li>
<span>Connecting Wires
</span>
</li>

</ul>

<h3>
<span id="Getting_the_ESP8266_ESP-01_Module_Ready_for_Breadboard_Mount">
<span>Getting the ESP8266 ESP-01 Module Ready for Breadboard Mount
</span>
</span>
</h3>

<p>
<span>If you take a look at the Pins of the ESP8266 ESP-01 Module, you can observe that it is not breadboard friendly. So, I have made a small perf board with breadboard friendly pins on the bottom and female headers to mount the ESP8266 ESP-01 Module on it.
</span>
</p>

<p>
<span>
<img class="aligncenter size-full wp-image-15838" src="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-5.jpg" alt="ESP8266 Arduino Image 5" width="1000" height="315" srcset="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-5.jpg 1000w, https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-5-300x95.jpg 300w, https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-5-768x242.jpg 768w" sizes="(max-width: 1000px) 100vw, 1000px" />
</span>
</p>

<p>
<span>On this perf board, I’ve also connected the level converter resistors for RX Pin of the ESP8266 and also a 100 pF Bypass Capacitor between VCC (3.3V) and GND. The following image shows the mounting of ESP8266 ESP-01 Module on a mini breadboard.
</span>
</p>

<p>
<span>
<img class="aligncenter size-full wp-image-15839" src="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-6.jpg" alt="ESP8266 Arduino Image 6" width="1280" height="343" srcset="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-6.jpg 1280w, https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-6-300x80.jpg 300w, https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-6-768x206.jpg 768w, https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-6-1024x274.jpg 1024w" sizes="(max-width: 1280px) 100vw, 1280px" />
</span>
</p>

<h3>
<span id="Getting_Arduino_IDE_Ready_for_Programming_ESP8266">
<span>Getting Arduino IDE Ready for Programming ESP8266
</span>
</span>
</h3>

<p>
<span>ESP8266 WiFi Module can be programmed using Arduino IDE and in order to do that you need to make a few changes to the Arduino IDE. First, go to File &#8211;&gt; Preferences in the Arduino IDE and in the Additional Boards Manager URLs Section, enter the following URL.
</span>
</p>

<p>
<span>
<div class="su-note" style="border-color:#dad44a;">
<div class="su-note-inner su-clearfix" style="background-color:#f2ec52;border-color:#fcfbdc;color:#131413;">http://arduino.esp8266.com/stable/package_esp8266com_index.json
</div>
</div>
</span>
</p>

<p>
<span>
<img class="aligncenter size-full wp-image-15840" src="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-7.jpg" alt="ESP8266 Arduino Image 7" width="736" height="675" srcset="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-7.jpg 736w, https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-7-300x275.jpg 300w" sizes="(max-width: 736px) 100vw, 736px" />
</span>
</p>

<p>
<span>
<strong>NOTE
</strong>: You can add many such URLs but they must be separated with commas.
</span>
</p>

<p>
<span>Now, go to Tools &#8211;&gt; Board &#8211;&gt; Boards Manager and search for ESP8266 in the search field. Select the ESP8266 by ESP8266 Community and click on Install.
</span>
</p>

<p>
<span>
<img class="aligncenter size-full wp-image-15841" src="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-8.jpg" alt="ESP8266 Arduino Image 8" width="800" height="450" srcset="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-8.jpg 800w, https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-8-300x169.jpg 300w, https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-8-768x432.jpg 768w" sizes="(max-width: 800px) 100vw, 800px" />
</span>
</p>

<p>
<span>
<strong>NOTE
</strong>: This feature of adding third-party boards through board manager is available for Arduino IDE Version 1.6.4 and higher. So, make sure that you have the latest version of Arduino IDE.
</span>
</p>

<h3>
<span id="Getting_Arduino_UNO_Ready_for_Programming_ESP8266">
<span>Getting Arduino UNO Ready for Programming ESP8266
</span>
</span>
</h3>

<p>
<span>In order to Program ESP8266 Module, we need to connect it to a computer. Since Serial Communication is the only available communication on the ESP8266 ESP-01 Module, we need an USB to Serial Adapter like an FTDI, CH340 or FT232RL.
</span>
</p>

<p>
<span>If you do not have a dedicated USB to Serial Adapter, do not worry. The Arduino UNO has an on-board USB to Serial Adapter (which is used to program the Arduino). We are going to use this for programming the ESP8266.
</span>
</p>

<p>
<span>We will be using the TX and RX Pins of the Arduino to connect to the ESP8266 Module and in order to make sure that Arduino isn’t using those pins, we can upload a bare minimum sketch to Arduino.
</span>
</p>

<p>
<span>
<strong>NOTE
</strong>: Bare minimum sketch consists of just the setup and loop functions without any data in them.
</span>
</p>

<p>
<span>In my case, I have an extra Arduino UNO Board with a non-functioning ATmega328p IC. So, I removed the Microcontroller IC from the Arduino UNO and started using it as an USB to Serial Converter.  
</span>
</p>

<h3>
<span id="Circuit_Design_for_Programming_ESP8266_using_Arduino">
<span>Circuit Design for Programming ESP8266 using Arduino
</span>
</span>
</h3>

<p>
<span>You have already seen the required components and the circuit diagram of the project. Now, let us try to understand the design of the circuit.
</span>
</p>

<p>
<span>First and foremost, the ESP8266 Module works on 3.3V Power Supply and anything greater than that, like 5V for example, will kill the SoC. So, the VCC Pin and CH_PD Pin of ESP8266 ESP-01 Module are connected to a 3.3V Supply.
</span>
</p>

<p>
<span>Next important thing to remember is that the ESP8266 WiFi Module has two modes of operation: Programming Mode and Normal Mode.
</span>
</p>

<p>
<span>In Programming Mode, you can upload the program or firmware to the ESP8266 Module and in Normal Mode, the uploaded program or firmware will run normally.
</span>
</p>

<p>
<span>In order to enable the Programming Mode, the GPIO0 pin must be connected to GND. In the circuit diagram, I’ve connected a SPDT switch to the GPIO0 pin. Toggling the lever of SPDT will switch the ESP8266 between Programming mode (GPIO0 is connected to GND) and normal mode (GPIO0 acts as a GPIO Pin).   
</span>
</p>

<p>
<span>Also, the RST (Reset) will play an important role in enabling Programming Mode. The RST pin is an active LOW pin and hence, it is connected to GND through a Push Button. So, whenever the button is pressed, the ESP8266 Module will reset.
</span>
</p>

<p>
<span>The RX and TX pins of the ESP8266 Module are connected to RX and TX Pins on the Arduino board. Since the ESP8266 SoC cannot tolerate 5V, the RX Pin of Arduino is connected through a level converter consisting of a 1KΩ and a 2.2KΩ Resistor.
</span>
</p>

<p>
<span>Finally the GPIO2 pin is connected to an LED to test the working of the program. All the necessary connections for enabling the Programming Mode in ESP8266 are mentioned below.
</span>
</p>

<ol>


<li>
<span>VCC &#8211; &#8211; &gt; 3.3V
</span>
</li>


<li>
<span>GND &#8211; &#8211; &gt; GND
</span>
</li>


<li>
<span>CH_PD &#8211; &#8211; &gt; 3.3V
</span>
</li>


<li>
<span>RST &#8211; &#8211; &gt; Normally Open; GND to Reset
</span>
</li>


<li>
<span>GPIO0 &#8211; &#8211; &gt; GND
</span>
</li>


<li>
<span>TX &#8211; &#8211; &gt; TX of Arduino
</span>
</li>


<li>
<span>RX &#8211; &#8211; &gt; RX of Arduino (through level converter)
</span>
</li>

</ol>

<h3>
<span id="Working_of_ESP8266_Arduino_Interface">
<span>Working of ESP8266 Arduino Interface
</span>
</span>
</h3>

<p>
<span>Make sure that all the above mentioned connections are properly made. After connecting and configuring the ESP8266 in Programming Mode (GPIO0 is connected to GND), connect the Arduino to the system.
</span>
</p>

<p>
<span>Once the ESP8266 Module is powered ON, Push the RST button and open the Arduino IDE. In the Board options (Tools &#8211;&gt; Board), select the “Generic ESP8266” Board. Select the appropriate port number in the IDE.
</span>
</p>

<p>
<span>
<img class="aligncenter size-full wp-image-15842" src="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-9.jpg" alt="ESP8266 Arduino Image 9" width="570" height="600" srcset="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-9.jpg 570w, https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-9-285x300.jpg 285w" sizes="(max-width: 570px) 100vw, 570px" />
</span>
</p>

<p>
<span>Now, open the Blink Sketch and change the LED Pin to 2. Here, 2 means GPIO2 pin of the ESP8266 Module. Before you hit the upload make sure that GPIO0 is connected to GND first and then press the RST button.
</span>
</p>

<p>
<span>Hit the upload button and the code will take a while to compile and upload. You can see the progress at the bottom of the IDE. Once the program is successfully uploaded, you can remove the GPIO0 from GND. The LED connected to GPIO2 will blink.      
</span>
</p>

<p>
<span>
<div id="su_slider_5a31dfae392da" class="su-slider su-slider-centered su-slider-pages-yes su-slider-responsive-yes" style="width:100%" data-autoplay="3000" data-speed="600" data-mousewheel="true">
<div class="su-slider-slides">
<div class="su-slider-slide">
<a>
<img src="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-10-760x440.jpg" alt="ESP8266 Arduino Image 10" />
</a>
</div>
<div class="su-slider-slide">
<a>
<img src="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-11-760x440.jpg" alt="ESP8266 Arduino Image 11" />
</a>
</div>
<div class="su-slider-slide">
<a>
<img src="https://www.electronicshub.org/wp-content/uploads/2017/12/ESP8266-Arduino-Image-12-760x440.jpg" alt="ESP8266 Arduino Image 12" />
</a>
</div>
</div>
</div>
</span>
</p>

<p>
<span>In this project, we have seen how the ESP8266 Arduino Interface will work, how to upload a program into the ESP8266 WiFi Module and access the Input/Output Pins of the ESP8266 Module.
</span>
</p>
