<html><head><base target="_blank"><title>CMS</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://williamkpchan.github.io/maincss.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script src="https://williamkpchan.github.io/lazyload.min.js"></script>
<script src="https://williamkpchan.github.io/mainscript.js"></script>
<script src="https://williamkpchan.github.io/commonfunctions.js"></script>
<script>
var TopicNumber = false;
var topicEnd = "<br>";
var bookid = "CMS"
var markerName = "h2"
</script>
<style>
body{width:80%;margin-left: 10%; font-size:24px;}
h1, h2 {color: gold;}
strong {color: orange;}
img {width:90%; display: inline-block; margin-top: 2%;margin-bottom: 1%;-radius:3px;}
k {color: #205080;}
</style></head><body onkeypress="chkKey()"><centem>
<pre>
<h1>content management system</h1>
<div id="toc"></div></center><br><br>

<h2>content management system CMS</h2>

<div id="CMStoc" class="toc"><a href="#CMStopic-0" target="_self"><m>Types of content management systems (CMS) </m></a><br><a href="#CMStopic-1" target="_self">1 Coupled CMS</a><br><a href="#CMStopic-2" target="_self">2 SaaS CMS</a><br><a href="#CMStopic-3" target="_self">3 Decoupled CMS</a><br><a href="#CMStopic-4" target="_self">4 Headless CMS</a><br><a href="#CMStopic-5" target="_self"><m>Core features to a content management system</m></a><br><a href="#CMStopic-6" target="_self">User roles and role-based content management</a><br><a href="#CMStopic-7" target="_self">Digital asset management</a><br><a href="#CMStopic-8" target="_self">Manage content in the cloud</a><br><a href="#CMStopic-9" target="_self">Content collaboration</a><br><a href="#CMStopic-10" target="_self">Build websites</a><br><a href="#CMStopic-11" target="_self"><m>What to consider before evaluating if a CMS is right for your business </m></a><br><a href="#CMStopic-12" target="_self"><m>Using a content management system for your website</m></a><br><a href="#CMStopic-13" target="_self"><m>How does a CMS help to build websites?</m></a><br><a href="#CMStopic-14" target="_self"><m>Advanced CMS technologies </m></a><br><a href="#CMStopic-15" target="_self"><m>Content management system (CMS) benefits</m></a><br><a href="#CMStopic-16" target="_self">1 Stronger collaboration and organization</a><br><a href="#CMStopic-17" target="_self">2 User friendly</a><br><a href="#CMStopic-18" target="_self">3 SEO and content optimization tools and plug-ins </a><br><a href="#CMStopic-19" target="_self">4 More time to spend on content </a><br></div></centem>

A content management system (CMS) helps companies manage digital content.
Whole teams can use these systems to create, edit, organize, and publish content.
It acts as a single place to store content and provides automated processes for collaborative digital content management and creation using built-in (or designed) workflows.

Different privileges and responsibilities are provided to individuals based on roles.
For example, authors can post and save their work, but editors can modify and publish it.
Administrators can do all these things as well as grant other people in the organization permission to update or revise content.

A CMS helps create and manage websites and website content using minimal technical overhead, so you can make better content instead of acting as a project or traffic manager.
By providing an easy and cost-effective solution for content management, a CMS allows companies to manage and distribute their content without investing in a full-time content development team.

<h3 id="CMStopic-0"><m>Types of content management systems (CMS) </m></h3>
Nearly every CMS is comprised of two parts-the front end and the back end.
The front end is the part the user interacts with.
It’s how websites are visibly structured and styled.
The front end brings HTML, CSS, and JavaScript together to deliver rich, interactive content that’s styled to match your company’s branding.

The back end of a CMS is the application that is used to post new content to a website.
The process begins by accessing a web interface to easily add, create, and publish content to your CMS’s front end.
Rather than knowing HTML, CSS, and JavaScript, you create content in an interface similar to Microsoft Word.
The back end then stores this content in the database and publishes it to the front end of the website.

Together, these two systems comprise the CMS.
They allow you to publish content without understanding web technologies or building your web application from the ground up.

The following are some of the different types of content management systems that are available today.

<h4 id="CMStopic-1">1 Coupled CMS</h4>
A coupled CMS is often referred to as a traditional CMS.
It offers a fully accessible back end that connects to and modifies a website’s database and publishes content to a styled front end.

While a coupled CMS is an all-in-one solution, the main distinction between it and a software-as-a-service (SaaS) CMS is that a coupled CMS requires dedicated web hosting to run.

Although web hosting is relatively inexpensive, it's important to remember that a CMS requires installing and maintaining specific technologies to make the software functional.

Additionally, a coupled CMS will likely require that an administrator set it up and configure the system installation for ongoing use.
WordPress is an example of a coupled CMS, as it offers a complete package for users to install, launch a website, and publish content moving forward.

<h4 id="CMStopic-2">2 SaaS CMS</h4>
A SaaS CMS is also a complete, end-to-end solution, but unlike coupled CMS, SaaS CMS is hosted in the cloud.
Which means that it requires no actual setup, installation, or preconfigured web hosting.

A SaaS-based CMS is an excellent solution for companies who need a straightforward web presence, as it offers all the capabilities without any of the server or web-hosting overhead.
It enables all kinds of users to quickly create websites, manage the content, and distribute it through digital channels.

<h4 id="CMStopic-3">3 Decoupled CMS</h4>
In a decoupled CMS, the presentation part of the website is “decoupled” from the back end.
The delivery system sits between the presentation of the website and accesses the back end through an application programming interface (API).

A decoupled CMS is an advanced solution that offers greater flexibility to interact with the content created in the back end.
For example, suppose an organization wants to use its library of content for a new purpose, such as mobile applications.
In that case, a decoupled CMS is an appealing solution because it supports multiple, adaptable applications on the front end while keeping your content and information consistent in the back end.

<h4 id="CMStopic-4">4 Headless CMS</h4>
A headless CMS has only a back-end system that accesses a database and stores content with a custom-built, front-end web application.
It offers greater flexibility than a decoupled CMS, but it also requires considerably more work than any other option.
A headless CMS also usually requires a developer to design, create, and connect a front-end application.

A headless CMS is a good solution for organizations that need complete control and flexibility over how their content is accessed.
It provides content storage and organizational capabilities while allowing for a custom application on the front end-whether a website, a mobile app, or some other front end.

<h3 id="CMStopic-5"><m>Core features to a content management system</m></h3>
Finding out what features of a CMS are critical to your business might start with what features are core to a content management system.
Leveraging side-by-side comparisons of content management solutions and products can be helpful to your decision-making process.
Still, the core question is, what features are core to any solution?

<h4 id="CMStopic-6">User roles and role-based content management</h4>
There are different types of roles within any Content Management System.
Understanding how they work together is essential to giving your users access to perform their duties and access appropriate digital content.
These range from typical organization roles to application management roles, task and feature comparison by application roles, to the resource (permissions) type roles, deciding what users can see and do with the content, including documents, sites, or templates.

<h4 id="CMStopic-7">Digital asset management</h4>
Content Management systems like Oracle’s offer powerful capabilities to manage all your digital assets for use in different marketing channels, including websites, marketing materials, email campaigns, online stores, paid search, and blogs.
It provides a centralized content hub for all your assets, where you can organize them into repositories and collections and create rules and workflow to define how the content can be used and where.

Creating asset types to define what information you need to collect when users create assets is critical to any CMS.
Digital asset types will define the custom attributes required for your digital assets (files, images, and videos).

<h4 id="CMStopic-8">Manage content in the cloud</h4>
As with ours, it is critical to move your content management to the cloud, centralizing your content all in one place and making it accessible anywhere.

You can group your files in folders to perform everyday file management operations, including copy, move, delete, in much the same way as on your local system and architecture.
Since all the content files reside in the cloud, users will access them wherever they go, including mobile devices.

<h4 id="CMStopic-9">Content collaboration</h4>
With all your organizations’ content in the cloud, it will be easy to share assets or folders to collaborate with others both inside and outside your organization.
Everyone you share content with will have access to the latest information-wherever they are, whenever they need it.
Sharing and recording content coloration will enable the user to monitor how and when each shared item was accessed.

<h4 id="CMStopic-10">Build websites</h4>
With content management solutions, you can rapidly build and publish marketing, help, and community websites-from concept to launch-with engaging online experiences.
The website building process is completely integrated across content, collaboration, and design are via a single authoring and publishing environment.

Cloud-based solutions make it easy to get started quickly by using out-of-the-box templates, drag-and-drop components (WYSIWYG), sample page layouts, and site themes to assemble a website from predefined building blocks.
Or your developers can create custom designs, including templates, themes, or components to create unique online experiences.

<h3 id="CMStopic-11"><m>What to consider before evaluating if a CMS is right for your business </m></h3> <a href="#top" target="_self"><b>⇧</b></a><br> A CMS makes content more findable by addressing six key areas in content management.
<k>Content governance</k> Are there enforced policies and procedures in place for creating and managing content?
<k>Information architecture for tagging</k> Is current and new content categorized and tagged in a way that everyone understands?
<k>Business process for content management</k> Are workflows standardized and automated?
<k>User experience for content </k> How are key stakeholders-from employees to customers-finding the information they need?
<k>Technology and applications </k> Is the existing technology being used properly? What improvements or new systems would streamline information flow with optimal security? Do you have a cloud-based content management system?
<k>Business value of a CMS </k> Can your data and content be managed more efficiently and securely? Are applicable regulatory guidelines being adhered to?

<h3 id="CMStopic-12"><m>Using a content management system for your website</m></h3> <a href="#top" target="_self"><b>⇧</b></a><br> A content management system helps you create, manage, and publish content on the web.
It also helps keep content organized and accessible so it can be used and repurposed effectively.
There are various kinds of content management systems available-from cloud-based to a <a href="https://docs.oracle.com/en/cloud/paas/content-cloud/headless-cms/oracle-content-management-cms.html#GUID-3FE2804D-DCF9-4DE2-ABD4-03035533BD16">headless CMS</a>-to meet every audience need.
Not only does it give you a way to store and manage all your information in a single, easily accessible database, but it also does the following:
<ul> <li>Supports inner- and cross-team collaboration</li> <li>Provides an easy and accessible way to update content </li> <li>Increases content visibility</li> <li>Improves productivity</li> <li>Reduces costs</li> <li>Enables you to maintain content consistency</li> <li>Scales as your needs grow </li> </ul>

<h3 id="CMStopic-13"><m>How does a CMS help to build websites?</m></h3> <a href="#top" target="_self"><b>⇧</b></a><br> Basically, a CMS platform takes care of all the technical details around building and managing a website.
For example, to post content on the web, such as a blog post, you need to start with an HTML file.
HTML allows you to structure your written content so that a web browser can read it.
It also allows you to embed images and videos into your content and link to other HTML documents.
Once the content is created and structured, you can change the look and feel of it by using cascading style sheets (CSS).
With CSS, you can change the font, color, and size of every element on your page to achieve the desired styling.
Once completed, you upload the HTML and CSS files-along with any image and video files-to a web server where your new website is accessible to anyone.
While this process may not seem terribly difficult, it’s not a very efficient way to create documents and share them online.
And most organizations don’t have the IT resources to devote to this task.

<h3 id="CMStopic-14"><m>Advanced CMS technologies </m></h3> <a href="#top" target="_self"><b>⇧</b></a><br> HTML and CSS are OK for creating simple, readable documents, but they are limited when building websites that offer extensive capabilities and functionality-the kind of modern website most companies need to be successful.
For example, to add interactive features and more nuanced functionality to your website, you need to use JavaScript-the programming language of the web.
HTML and CSS are relatively straightforward codebases used to create simple documents.
JavaScript is a dedicated programming language not dissimilar from the languages used to develop smartphone or desktop applications.
Suppose you plan to migrate your blog site into a media website that serves thousands of visitors per month and posts several pieces of content per day.
In that case, you need to start incorporating database technologies to house and access all your content.
You need a database with its own programming language as well as another programming language to pass information between the database and the part of the website that users access and navigate.
Just like that, things got complicated rather quickly.
And that's where a CMS comes in.

<h3 id="CMStopic-15"><m>Content management system (CMS) benefits</m></h3>
The demand for digital marketing experiences is growing, and shows no signs of letting up.
Today’s modern consumers are demanding omnichannel solutions and frictionless experiences.
Digital technology provides endless ways for companies to engage with their customers and stay connected.
So it’s no wonder that <a href="https://www.contentstack.com/blog/all-about-headless/state-cms-industry-content-management-statistics" target="_blank">CMS market is expected to grow</a> from $36 billion in 2018 to $123.5 billion by 2026.
Companies recognize how a content management system can help them leverage the full value of their content by streamlining the content creation and distribution process.
Marketing and sales teams who invest in a CMS can expect to gain four key benefits as they work to get their message into the market and improve customer experiences.
<h4 id="CMStopic-16">1 Stronger collaboration and organization</h4>
With a CMS, multiple content marketing team members can contribute and help publish content.
With its workflow management, content storage, and scheduling capabilities, the system helps them keep everything organized.
Browser-based CMSs can be accessed from anywhere, and teammates in different locations can collaborate on content projects in the same system and on the most current version.
Team members can all access the same content since it’s stored in the same place.
There’s no need to send multiple files to multiple people-and no headaches from trying to control multiple versions.

<h4 id="CMStopic-17">2 User friendly</h4>
With a CMS, users don’t have to learn HTML or CSS.
No matter their skill level, users across the organization can create and publish content.
A content management system makes it easy to upload content onto web pages and update it through a content editor.

<h4 id="CMStopic-18">3 SEO and content optimization tools and plug-ins </h4>
Want to improve your search engine optimization (SEO) and drive traffic to your site? With a CMS, you can add plug-ins and tools to increase your search ranking.
These tools can include options within the front-end interface to add web page titles, meta descriptions, and alt tags.

<h4 id="CMStopic-19">4 More time to spend on content </h4>
With a straightforward CMS system, better organization, and tools and plug-ins to help SEO, Content creators can concentrate on producing quality content.
Marketing teams don't have to work with multiple files or code.
They can share their work with colleagues easily, even if those colleagues are miles away.
They have time to refine copy, tweak imagery, produce more video content, or conduct A/B testing on different subject lines, offers, CTAs, and formats.

<h2>PHP Building Your First Simple CMS</h2>

<div id="PHPCMStoc" class="toc"><a href="#PHPCMStopic-0" target="_self" onclick="jumpto(0)">The Magic of PHP + MySQL</a><br><a href="#PHPCMStopic-1" target="_self" onclick="jumpto(1)">Building the Class</a><br><a href="#PHPCMStopic-2" target="_self" onclick="jumpto(2)">The Variables</a><br><a href="#PHPCMStopic-3" target="_self" onclick="jumpto(3)">Build the Database</a><br><a href="#PHPCMStopic-4" target="_self" onclick="jumpto(4)">Connect to the Database</a><br><a href="#PHPCMStopic-5" target="_self" onclick="jumpto(5)">Build the Form</a><br><a href="#PHPCMStopic-6" target="_self" onclick="jumpto(6)">Saving the Data to the Database</a><br><a href="#PHPCMStopic-7" target="_self" onclick="jumpto(7)">Displaying the Information from the Database</a><br><a href="#PHPCMStopic-8" target="_self" onclick="jumpto(8)">Using the Class</a><br></div></centem>

<h3 id="PHPCMStopic-0">The Magic of PHP + MySQL</h3>
It's safe to say that nearly every website that's up-to-date these days is using some form of content management system (CMS). While there are a ton of great free options that provide us with a CMS to power a website (WordPress, Drupal, etc.), it doesn't hurt to peek under the hood and get a feel for how these systems work.
To get our feet wet as back-end developers, we'll be creating a simple PHP class that will:
<ul>
<li>Create a database</li>
<li>Connect to a database</li>
<li>Display a form with two fields</li>
<li>Save the form data in the database</li>
<li>Display the saved data from the database</li>
</ul>
<a href="http://css-tricks.com/examples/SimpleCMS.zip">Download Files</a>
This class is intended to give you a feel for how PHP and MySQL interact together, and to show the basics of a CMS. I'll be skipping explanations of some of the very basic programming stuff, so if at any point you feel lost, checkout the course <a href="http://net.tutsplus.com/articles/news/diving-into-php/">Diving into PHP</a> and give yourself a crash-course in PHP. I'll try not to lose anyone, though, I promise.
<h3 id="PHPCMStopic-1">Building the Class</h3>
Our first step is to simply lay out the class in a file named 'simpleCMS.php' so we have a road map to work with.
<k>&lt;?php
class simpleCMS {
  var $host;
  var $username;
  var $password;
  var $table;
  public function display_public() { }
  public function display_admin() { }
  public function write() { }
  public function connect() { }
  private function buildDB() { }
}
?&gt;</k>
As you can see, we're creating one class with four variables and five methods. I've opted to use PHP's <a href="http://en.wikipedia.org/wiki/Object_oriented">object-oriented approach</a> because it makes for cleaner code in large projects, and, in my opinion, it's just good practice.
<h3 id="PHPCMStopic-2">The Variables</h3>
In this case, all four variables are for connecting to the database: <k>$host</k>, <k>$username</k>, <k>$password</k>, and <k>$table</k> provide a path and access to our database on the server. For now, we'll leave those empty and move on to our database, which is constructed by the method <k>buildDB()</k>.
<h3 id="PHPCMStopic-3">Build the Database</h3>
<k>private function buildDB() {
    $sql = &lt;&lt;&lt;MySQL_QUERY
        CREATE TABLE IF NOT EXISTS testDB (
            title	VARCHAR(150),
            bodytext	TEXT,
            created	VARCHAR(100)
    )
    MySQL_QUERY;
    return mysql_query($sql);
}</k>
This function runs a MySQL command that checks the database to see if <tt>testDB</tt> exists. If so, it simply passes along a notification of success; if not, it creates our table and assigns three columns to hold data.
<h3 id="PHPCMStopic-4">Connect to the Database</h3>
Now that we have a function to build our table, let's create the function that will connect to our database.
<k>public function connect() {
    mysql_connect($this-&gt;host,$this-&gt;username,$this-&gt;password) or die("Could not connect. " . mysql_error());
    mysql_select_db($this-&gt;table) or die("Could not select database. " . mysql_error());
    return $this-&gt;buildDB();
}</k>
We call <a href="http://us2.php.net/manual/en/function.mysql-connect.php">mysql_connect()</a> to hook into our database, and then <a href="http://us2.php.net/manual/en/function.mysql-select-db.php">mysql_select_db()</a> to make sure we save our data in the right place. Both of these functions are accompanied by the <k>die()</k> command, which essentially says, "in the event that this function fails, stop execution of this script and display a message."
Our <k>connect()</k> function connects to the database and gets us pointed in the right direction, then runs our <k>buildDB()</k> function. Remember the grammatically awkward "IF NOT EXISTS" part of our MySQL command? Because we're going to run this function every time the page is loaded, we have to make sure we're not overwriting our database with every function call, and that's exactly what that phrase requires.
<h3 id="PHPCMStopic-5">Build the Form</h3>
So, we've got a database. Now we just need to put stuff in it!
<k>public function display_admin() {
    return &lt;&lt;&lt;ADMIN_FORM
    &lt;form action="{$_SERVER['PHP_SELF']}" method="post"&gt;
      &lt;label for="title"&gt;Title:&lt;/label&gt;
      &lt;input name="title" type="text" maxlength="150" /&gt;
      &lt;label for="bodytext"&gt;Body Text:&lt;/label&gt;
      &lt;textarea name="bodytext"&gt;&lt;/textarea&gt;
      &lt;input type="submit" value="Create This Entry!" /&gt;
    &lt;/form&gt;
ADMIN_FORM;
}</k>
Again, this is a very simple function. When called, it simply returns the HTML markup to create our form. You'll notice, however, in the <k>action</k> attribute of the <k>form</k> element, that I've used the variable <k>$_SERVER['PHP_SELF']</k>. This is, essentially, a shortcut that references the file you're currently using (in our case, it's <k>display.php</k>). This is useful if you'll be reusing your code across a site and don't necessarily want to rewrite this function for each page.
I'm also going to take a second right now to talk about the method I'm using to return the HTML. It's a format used in PHP called HEREDOC syntax, and I <strong>love</strong> it.
The primary advantage of HEREDOC is that it allows you to include <em>formatting</em> in your output. This is extraordinarily useful for folks like me who take issue with cluttered source code. You can read more about HEREDOC syntax and its ilk in the <a href="http://us2.php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc">PHP manual</a>.
<h3 id="PHPCMStopic-6">Saving the Data to the Database</h3>
Our form will allow us to input information, so how do we save it? That's where our <tt>write()</tt> method comes in.
<k>public function write($p) {
    if ( $p['title'] )
      $title = mysql_real_escape_string($p['title']);
    if ( $p['bodytext'])
      $bodytext = mysql_real_escape_string($p['bodytext']);
    if ( $title &amp;&amp; $bodytext ) {
      $created = time();
      $sql = "INSERT INTO testDB VALUES('$title','$bodytext','$created')";
      return mysql_query($sql);
    } else {
      return false;
    }
}</k>
Let's start with the function call itself — we're passing a variable to this one, which we haven't done so far. Our variable <k>$p</k> is going to hold the information sent from our form via the <a href="http://www.html-form-guide.com/php-form/php-form-post.html">post method</a>.
Once inside the function, we start with a <a href="http://us2.php.net/manual/en/control-structures.if.php">conditional statement</a> that's checking to see if the the <k>title</k> value was set in the form before it was submitted, and if so, we're setting our <k>$title</k> variable to the <k>$_POST['title']</k> value (<strong>NOTE:</strong> we're using the function <a href="http://us2.php.net/manual/en/function.mysql-real-escape-string.php">mysql_real_escape_string()</a> as a precaution against potentially dangerous input, which is important to keep in mind when you're building <em>anything</em> that will allow users to input information). If <k>$_POST['title']</k> wasn't set, we skip this line, leaving the <k>$title</k> variable unset.
This process is repeated for our second input, and then both variables are checked to make sure nothing is blank before saving to the database. If both variables are set, we then set the <k>$created</k> variable with the current <a href="http://en.wikipedia.org/wiki/Unix_time">Unix timestamp</a>, which we'll use to sort our entries chronologically when we view them in the future.
We now have three variables, and because we've run checks, we know that all three variables are not empty. Now we can write our MySQL query that will save the entry in the database!
<h3 id="PHPCMStopic-7">Displaying the Information from the Database</h3>
Now that we have the means to put information <em>into</em> our database, we need to create a way to get that information back <em>out.</em> This is where <k>display_public()</k> comes in. This is by far the most complex of our methods, so let's really take our time and figure out what's going on inside.
<k>public function display_public() {
    $q = "SELECT * FROM testDB ORDER BY created DESC LIMIT 3";
    $r = mysql_query($q);
    if ( $r !== false &amp;&amp; mysql_num_rows($r) &gt; 0 ) {
      while ( $a = mysql_fetch_assoc($r) ) {
        $title = stripslashes($a['title']);
        $bodytext = stripslashes($a['bodytext']);
        $entry_display .= &lt;&lt;&lt;ENTRY_DISPLAY
    &lt;h2&gt;$title&lt;/h2&gt;
    &lt;p&gt;
      $bodytext
    &lt;/p&gt;
ENTRY_DISPLAY;
      }
    } else {
      $entry_display = &lt;&lt;&lt;ENTRY_DISPLAY
    &lt;h2&gt;This Page Is Under Construction&lt;/h2&gt;
    &lt;p&gt;
      No entries have been made on this page. 
      Please check back soon, or click the
      link below to add an entry!
    &lt;/p&gt;
ENTRY_DISPLAY;
    }
    $entry_display .= &lt;&lt;&lt;ADMIN_OPTION
    &lt;p&gt;
      &lt;a href="{$_SERVER['PHP_SELF']}?admin=1"&gt;Add a New Entry&lt;/a&gt;
    &lt;/p&gt;
ADMIN_OPTION;
    return $entry_display; }</k>
The first thing to note when reading from a database is the way PHP and MySQL interact with each other. First, we ask the database a question (query), to which it replies with a result (resource). However, this result isn't really useful until we've decoded it using one of several methods that "fetch," or organize, the information that's contained inside into a usable form (array).
Our very first action in the above function is to set up our query in the variable <k>$q</k>. The asterisk (*) operator in MySQL means "everything," so our query is asking the database to select <em>everything</em> from entries in the table <k>testDB</k> in reverse chronological order, limited to the first three entries returned.
Now that the query is defined, we send it to the database using the function <a href="http://us2.php.net/manual/en/function.mysql-query.php">mysql_query()</a>. The resulting resource is stored in the variable <k>$r</k>. This is where it gets a bit tricky.
We now run a conditional statement that says, "IF <k>mysql_query()</k> didn't fail, AND IF the number of entries returned was greater than zero, process the result, OR ELSE display a default message."
If <k>$r</k> contains entries from the database, we now have to "fetch" that data. Information from the database is returned as an <a href="http://us2.php.net/manual/en/language.types.array.php">array</a>, which is organized similarly to the database table itself. The function <a href="http://us2.php.net/manual/en/function.mysql-fetch-assoc.php">mysql_fetch_assoc()</a> will take the resource and break each entry into an associative array (this means that when we save the result of <k>mysql_fetch_assoc()</k> into the variable <k>$a</k>, the data from the entry will be accessible by the column names in the database, i.e. <k>$a['title']</k>).
However, <k>mysql_fetch_assoc()</k> only gives us one entry at a time. To get <em>all</em> of the returned entries, we have to use a <a href="http://us2.php.net/while">while loop</a>. Essentially, we're saying, "WHILE <k>$r</k> has values we haven't used yet, get the next entry in line and do the following actions with it."
In this case, we're going to check the entry to make sure that data was returned, then remove the slashes that were added when we saved the information to the database using <a href="http://us2.php.net/manual/en/function.stripslashes.php">stripslashes()</a>. After that, we simply wrap the variables in some HTML and, <em>voila!</em> we've got screen-ready content!
As a final step, the code adds a link to the bottom that allows users to add an entry. It's worth noting the use of the ".=" operator used in the <k>while</k> loop and when creating the "Add a New Entry" link; a function can only return one variable, so we need to <em>append</em> the new information to the existing variable. If we just used the equals sign ("="), we would overwrite existing data and end up with just a link to the form and no content.
So, you've now written your first CMS class! You can easily write and retrieve data to and from a database. All that's left to do is to try it out!
<h3 id="PHPCMStopic-8">Using the Class</h3>
To use our class, we need to create a separate file. I'm going to call it "display.php", which I'll save in the main web folder, with our class saved as "simpleCMS.php" in a folder called "_class" within the main folder. To start, we just set up a document with plain ol' HTML.
<k>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;title&gt;SimpleCMS&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
  &lt;/body&gt;
&lt;/html&gt;</k>
To use our class, we just have to insert a little PHP between the body tags:
<k>&lt;?php
  include_once('_class/simpleCMS.php');
  $obj = new simpleCMS();
  $obj-&gt;host = 'database.host.net';
  $obj-&gt;username = 'DB1234567';
  $obj-&gt;password = 'DBpassword';
  $obj-&gt;table = 'DB1234567';
  $obj-&gt;connect();
  if ( $_POST )
    $obj-&gt;write($_POST);
  echo ( $_GET['admin'] == 1 ) ? $obj-&gt;display_admin() : $obj-&gt;display_public();
?&gt;</k>
First and foremost, we have to include the class using the <a href="http://us2.php.net/manual/en/function.include-once.php">include_once()</a> function. Then, we have to instantiate our object so that our code knows what's going on. Third, we set all of those variables we talked about toward the beginning of this tutorial. You'll have to replace all of those values with the information you get from your own server or hosting company. And fourth, we connect to our database using the <k>connect()</k> method.
After we've connected to the database, we check to see if any <k>$_POST</k> information exists. This is because we're using the same file for input, processing, and display of information. If anything was passed via <k>$_POST</k>, we run the <k>write()</k> function to validate it and save it to the database. Then, we use some shorthand trickery to run a conditional statement. In essence, we're saying, "IF <k>$_GET['admin']</k> is set to 1, then show the form using <k>display_admin()</k>, OR ELSE show me the stored entries using <k>display_public()</k>."
And that's it! Once you get a feel for it, this sort of basic programming will allow you to start exercising <em>total control</em> over websites you build, whether you decide to really dig in and build your own CMS framework or just improve an existing CMS by, say, <a href="http://codex.wordpress.org/Writing_a_Plugin">writing a WordPress plugin</a>.
Really, when it comes to modern web design, you should have at least <em>some</em> understanding of how things are working behind the curtain—understanding <em>how</em> a site works will better enable you to design sites that have a more fluid integration of form and function. And besides, adding PHP and MySQL to your <em>curriculum vitae</em> definitely won't hurt your credibility...
<a href="http://css-tricks.com/examples/SimpleCMS.zip">Download Files</a>

<h2>Build a CMS with PHP and MySQL</h2>
<div id="MySQLCMStoc" class="toc"><a href="#MySQLCMStopic-0" target="_self">What will the CMS do ?</a><br><a href="#MySQLCMStopic-1" target="_self">Planning it out</a><br><a href="#MySQLCMStopic-2" target="_self">Step 1: Create the database</a><br><a href="#MySQLCMStopic-3" target="_self">Step 2: Create the <k>articles</k> database table</a><br><a href="#MySQLCMStopic-4" target="_self">Step 3: Make a configuration file</a><br><a href="#MySQLCMStopic-5" target="_self">Step 4: Build the <k>Article</k> class</a><br><a href="#MySQLCMStopic-6" target="_self">Step 5: Write the front-end <k>index.php</k> script</a><br><a href="#MySQLCMStopic-7" target="_self">Step 6: Write the back-end <k>admin.php</k> script</a><br><a href="#MySQLCMStopic-8" target="_self">Step 7: Create the front-end templates</a><br><a href="#MySQLCMStopic-9" target="_self">Step 8: Create the back-end templates</a><br><a href="#MySQLCMStopic-10" target="_self">Step 9: Create the stylesheet and logo image</a><br><a href="#MySQLCMStopic-11" target="_self">All done!</a><br></div>

Learn how to build a complete content management system using PHP and MySQL in just a few hours. Full code download included.

Building a content management system can seem like a daunting task to the novice PHP developer. However, it needn't be that difficult. In this tutorial I'll show you how to build a basic, but fully functional, CMS from scratch in just a few hours. Yes, it can be done!

Along the way, you'll learn how to create MySQL databases and tables; how to work with PHP objects, constants, includes, sessions, and other features; how to separate business logic from presentation; how to make your PHP code more secure, and much more!

Before you begin, check out the finished product by clicking the <k>View Demo</k> button above. (For security reasons this demo is read-only, so you can't add, change or delete articles.) You can also click the <k>Download Code</k> button above to download the complete PHP code for the CMS, so you can run it on your own server.

For this tutorial, you'll need to have the Apache web server with PHP installed, as well as the MySQL database server running on your computer. Setting all this up is beyond the scope of the tutorial, but a really easy way to do it is simply to install <a href="http://www.apachefriends.org/en/xampp.html">XAMPP</a> on your computer.

<h3 id="MySQLCMStopic-0">What will the CMS do ?</h3>
Our first job is to work out exactly what we want our CMS to do. The CMS will have the following features:

Front end:
The homepage, listing the 5 most recent articles
The article listing page, listing all articles
The "view article" page, letting visitors see a single article

Back end:
Admin login/logout
List all articles
Add a new article
Edit an existing article
Delete an existing article

Each article will have an associated headline, summary, and publication date.

<h3 id="MySQLCMStopic-1">Planning it out</h3>
Here are the steps we'll need to follow to create our CMS:

Create the database
Create the <k>articles</k> database table
Make a configuration file
Build the <k>Article</k> class
Write the front-end <k>index.php</k> script
Write the back-end <k>admin.php</k> script
Create the front-end templates
Create the back-end templates
Create the stylesheet and logo image

This page contains all the code for the CMS, ready for you to copy and paste into your own files. If you don't want to create the files yourself, simply download the <a href="http://www.elated.com/res/File/articles/development/php/cms-in-an-afternoon-php-mysql.zip">finished zip file</a>, which contains all the code files and folders.

Ready? Grab a cup of tea, and let's get coding!

<h3 id="MySQLCMStopic-2">Step 1: Create the database</h3>
The first thing we need to do is create a MySQL database to store our content. You can do this as follows:
    <k>Run the <k>mysql</k> client program</k>
    Open a terminal window and enter the following:
    <kbd>mysql -u <var>username</var> -p</kbd>
    Then enter your MySQL password when prompted.
    <k><var>username</var></k> should be a user that has permission to create databases. If you're working on a development server, such as your own computer, then you can use the <k>root</k> user for this, to save having to create a new user.
  

    <k>Create the database</k>
    At the <k>mysql&gt;</k> prompt, type:
    <kbd>create database cms;</kbd>
    Then press Enter.
  

    <k>Quit the <k>mysql</k> client program</k>
    At the <k>mysql&gt;</k> prompt, type:
    <kbd>exit</kbd>
    Then press Enter.
  

That's it! You've now created a new, empty database, into which you can put your database tables and content.

Some web server setups let you create databases via a web-based tool such as cPanel or Plesk (in fact sometimes this is the only way to create MySQL databases). If you're not sure what to do on your server, ask your tech support team for help.

<h3 id="MySQLCMStopic-3">Step 2: Create the <k>articles</k> database table</h3>
Our simple CMS has just one database table: <k>articles</k>. This, as you'd imagine, holds all of the articles in the system.

Let's create the schema for the table. A table's schema describes the types of data that the table can hold, as well as other information about the table.

Create a text file called <k>tables.sql</k> somewhere on your hard drive. Add the following code to the file:

<k>
DROP TABLE IF EXISTS articles;
CREATE TABLE articles
(
  id              smallint unsigned NOT NULL auto_increment,
  publicationDate date NOT NULL,                              # When the article was published
  title           varchar(255) NOT NULL,                      # Full title of the article
  summary         text NOT NULL,                              # A short summary of the article
  content         mediumtext NOT NULL,                        # The HTML content of the article

  PRIMARY KEY     (id)
);
</k>

The above code defines the schema for the <k>articles</k> table. It's written in SQL, the language used to create and manipulate databases in MySQL (and most other database systems).

Let's break the above code down a little:



    <k>Create the <k>articles</k> table</k>
    <k>DROP TABLE IF EXISTS articles</k> removes any existing <k>articles</k> table (and data - be careful!) if it already exists. We do this because we can't define a table with the same name as an existing table.
    <k>CREATE TABLE articles ( )</k> creates the new <k>articles</k> table. The stuff inside the parentheses defines the structure of the data within the table, explained below...

    <k>Give each article a unique ID</k>
    We're now ready to define our table structure. A table consists of a number of fields (also called columns). Each field holds a specific type of information about each article.
    First, we create an <k>id</k> field. This has a <k>smallint unsigned</k> (unsigned small integer) data type, which means it can hold whole numbers from 0 to 65,535. This lets our CMS hold up to 65,535 articles. We also specify the <k>NOT NULL</k> attribute, which means the field can't be empty (null) - this makes life easier for us. We also add the <k>auto_increment</k> attribute, which tells MySQL to assign a new, unique value to an article's <k>id</k> field when the article record is created. So the first article will have an <k>id</k> of 1, the second will have an <k>id</k> of 2, and so on. We'll use this unique value as a handle to refer to the article that we want to display or edit in the CMS.

    <k>Add the <k>publicationDate</k> field</k>
    The next line creates the <k>publicationDate</k> field, which stores the date that each article was published. This field has a data type of <k>date</k>, which means it can store date values.

    <k>Add the <k>title</k> field</k>
    Next we create the <k>title</k> field to hold each article's title. It has a data type of <k>varchar(255)</k>, which means it can store a string of up to 255 characters.

    <k>Add the <k>summary</k> and <k>content</k> fields</k>
    The last 2 fields, <k>summary</k> and <k>content</k>, hold a short summary of the article and the article's HTML content respectively. summary has a <k>text</k> data type (which can hold up to 65,535 characters) and <k>content</k> has a <k>mediumtext</k> data type (which can hold up to 16,777,215 characters).

    <k>Add the primary key</k>
    The last line inside the <k>CREATE TABLE</k> statement defines a key for the table. A key is also called an index, and in simple terms it makes it quicker to find data in the table, at the expense of some extra storage space.
    We make the <k>id</k> field a <k>PRIMARY KEY</k>. Each table can only have a single <k>PRIMARY KEY</k>; this is the key that uniquely identifies each record in the table. In addition, by adding this key, MySQL can retrieve an article based on its ID very quickly.

Now that we've created our table schema, we need to load it into MySQL to create the table itself. The easiest way to do this is to open up a terminal window and change to the folder containing your <k>tables.sql</k> file, then run this command:

<kbd>mysql -u <var>username</var> -p cms &lt; tables.sql</kbd>

...where <k><var>username</var></k> is your MySQL username. <k>cms</k> is the name of the database that you created in Step 1.

Enter your password when prompted. MySQL then loads and runs the code in your <k>tables.sql</k> file, creating the <k>articles</k> table inside the <k>cms</k> database.

You can also use a web-based admin tool such as <a href="http://www.phpmyadmin.net/">phpMyAdmin</a> to run your <k>tables.sql</k> code and create the table. phpMyAdmin comes pre-installed with most web hosting accounts.

<h3 id="MySQLCMStopic-4">Step 3: Make a configuration file</h3>
Now that you've created your database, you're ready to start writing your PHP code. Let's start by creating a configuration file to store various useful settings for our CMS. This file will be used by all the script files in our CMS.

First, create a <k>cms</k> folder somewhere in the local website on your computer, to hold all the files relating to the CMS. If you're running XAMPP then the local website will be in an <k>htdocs</k> folder inside your XAMPP folder. Or, if you prefer, you can create a brand new website just for your CMS, and put all the files in that new website's document root folder.

Inside the <k>cms</k> folder, create a file called <k>config.php</k> with the following code:

&lt;?php
ini_set( "display_errors", true );
date_default_timezone_set( "Australia/Sydney" );  // http://www.php.net/manual/en/timezones.php
define( "DB_DSN", "mysql:host=localhost;dbname=cms" );
define( "DB_USERNAME", "username" );
define( "DB_PASSWORD", "password" );
define( "CLASS_PATH", "classes" );
define( "TEMPLATE_PATH", "templates" );
define( "HOMEPAGE_NUM_ARTICLES", 5 );
define( "ADMIN_USERNAME", "admin" );
define( "ADMIN_PASSWORD", "mypass" );
require( CLASS_PATH . "/Article.php" );

function handleException( $exception ) {
  echo "Sorry, a problem occurred. Please try later.";
  error_log( $exception-&gt;getMessage() );
}

set_exception_handler( 'handleException' );
?&gt;

Let's break this file down:
    <k>Display errors in the browser</k>
    The <k>ini_set()</k> line causes error messages to be displayed in the browser. This is good for debugging, but it should be set to <k>false</k> on a live site since it can be a security risk.

    <k>Set the timezone</k>
    As our CMS will use PHP's <k>date()</k> function, we need to tell PHP our server's timezone (otherwise PHP generates a warning message). Mine is set to <k>"Australia/Sydney"</k> - change this value to <a href="http://www.php.net/manual/en/timezones.php">your local timezone</a>.

    <k>Set the database access details</k>
    Next we define a constant, <k>DB_DSN</k>, that tells PHP where to find our MySQL database. Make sure the <k>dbname</k> parameter matches the name of your CMS database (<k>cms</k> in this case). We also store the MySQL username and password that are used to access the CMS database in the constants <k>DB_USERNAME</k> and <k>DB_PASSWORD</k>. Set these values to your MySQL username and password.

    <k>Set the paths</k>
    We set 2 path names in our config file: <k>CLASS_PATH</k>, which is the path to the class files, and <k>TEMPLATE_PATH</k>, which is where our script should look for the HTML template files. Both these paths are relative to our top-level <k>cms</k> folder.

    <k>Set the number of articles to display on the homepage</k>
    <k>HOMEPAGE_NUM_ARTICLES</k> controls the maximum number of article headlines to display on the site homepage. We've set this to 5 initially, but if you want more or less articles, just change this value.

    <k>Set the admin username and password</k>
    The <k>ADMIN_USERNAME</k> and <k>ADMIN_PASSWORD</k> constants contain the login details for the CMS admin user. Again, you'll want to change these to your own values.

    <k>Include the <k>Article</k> class</k>
    Since the <k>Article</k> class file - which we'll create next - is needed by all scripts in our application, we include it here.

    <k>Create an exception handler</k>
    Finally, we define <k>handleException()</k>, a simple function to handle any PHP <a href="http://php.net/manual/en/language.exceptions.php">exceptions</a> that might be raised as our code runs. The function displays a generic error message, and logs the actual exception message to the web server's error log. In particular, this function improves security by handling any PDO exceptions that might otherwise display the database username and password in the page. Once we've defined <k>handleException()</k>, we set it as the exception handler by calling PHP's <k>set_exception_handler()</k> function.
    This exception handler is a bit of a quick and dirty shortcut to keep the tutorial as simple as possible. The "proper" way to handle exceptions is to wrap all the PDO calls within <k>Article.php</k> in <a href="http://php.net/manual/en/language.exceptions.php"><k>try ... catch</k> blocks</a>.


  <h4>Security note</h4>
   In a live server environment it'd be a good idea to place <k>config.php</k> somewhere outside your website's document root, since it contains usernames and passwords. While it's not usually possible to read the source code of a PHP script via the browser, it does happen sometimes if the web server is misconfigured.
  You could also use <a href="http://www.php.net/manual/en/function.hash.php"><k>hash()</k></a> to make a hash from your admin password, and store the hash in <k>config.php</k> instead of the plaintext password. Then, at login time, you can <k>hash()</k> the entered password and see if it matches the hash in <k>config.php</k>.

<h3 id="MySQLCMStopic-5">Step 4: Build the <k>Article</k> class</h3>
<a id="yellowgreen" href="http://php.net/manual/en/keyword.class.php" target="_blank">about Class</a>

You're now ready to build the <k>Article</k> PHP class. This is the only class in our CMS, and it handles the nitty-gritty of storing articles in the database, as well as retrieving articles from the database. Once we've built this class, it will be really easy for our other CMS scripts to create, update, retrieve and delete articles.

Inside your <k>cms</k> folder, create a <k>classes</k> folder. Inside that <k>classes</k> folder, create a new file called <k>Article.php</k>, and put the following code into it:

&lt;?php
//Class to handle articles
class Article
{
  // Properties
  // @var int The article ID from the database
  public $id = null;
  // @var int When the article was published
  public $publicationDate = null;
  // @var string Full title of the article
  public $title = null;
  // @var string A short summary of the article
  public $summary = null;
  // @var string The HTML content of the article
  public $content = null;
  // Sets the object's properties, @param assoc The property values

  public function __construct( $data=array() ) {
    if ( isset( $data['id'] ) ) $this--->id = (int) $data['id'];
    if ( isset( $data['publicationDate'] ) ) $this-&gt;publicationDate = (int) $data['publicationDate'];
    if ( isset( $data['title'] ) ) $this-&gt;title = preg_replace ( "/[^\.\,\-\_\'\"\@\?\!\:\$ a-zA-Z0-9()]/", "", $data['title'] );
    if ( isset( $data['summary'] ) ) $this-&gt;summary = preg_replace ( "/[^\.\,\-\_\'\"\@\?\!\:\$ a-zA-Z0-9()]/", "", $data['summary'] );
    if ( isset( $data['content'] ) ) $this-&gt;content = $data['content'];
  }

  // Sets the object's properties using the edit form post values,  @param assoc The form post values

  public function storeFormValues ( $params ) {

    // Store all the parameters
    $this-&gt;__construct( $params );

    // Parse and store the publication date
    if ( isset($params['publicationDate']) ) {
      $publicationDate = explode ( '-', $params['publicationDate'] );

      if ( count($publicationDate) == 3 ) {
        list ( $y, $m, $d ) = $publicationDate;
        $this-&gt;publicationDate = mktime ( 0, 0, 0, $m, $d, $y );
      }
    }
  }

  // @return Article|false The article object, or false if the record was not found

  public static function getById( $id ) {
    $conn = new PDO( DB_DSN, DB_USERNAME, DB_PASSWORD );
    $sql = "SELECT *, UNIX_TIMESTAMP(publicationDate) AS publicationDate FROM articles WHERE id = :id";
    $st = $conn-&gt;prepare( $sql );
    $st-&gt;bindValue( ":id", $id, PDO::PARAM_INT );
    $st-&gt;execute();
    $row = $st-&gt;fetch();
    $conn = null;
    if ( $row ) return new Article( $row );
  }

  /**
  * Returns all (or a range of) Article objects in the DB
  *
  * @param int Optional The number of rows to return (default=all)
  * @param string Optional column by which to order the articles (default="publicationDate DESC")
  * @return Array|false A two-element array : results =&gt; array, a list of Article objects; totalRows =&gt; Total number of articles
  */

  public static function getList( $numRows=1000000, $order="publicationDate DESC" ) {
    $conn = new PDO( DB_DSN, DB_USERNAME, DB_PASSWORD );
    $sql = "SELECT SQL_CALC_FOUND_ROWS *, UNIX_TIMESTAMP(publicationDate) AS publicationDate FROM articles
            ORDER BY " . mysql_escape_string($order) . " LIMIT :numRows";

    $st = $conn-&gt;prepare( $sql );
    $st-&gt;bindValue( ":numRows", $numRows, PDO::PARAM_INT );
    $st-&gt;execute();
    $list = array();

    while ( $row = $st-&gt;fetch() ) {
      $article = new Article( $row );
      $list[] = $article;
    }

    // Now get the total number of articles that matched the criteria
    $sql = "SELECT FOUND_ROWS() AS totalRows";
    $totalRows = $conn-&gt;query( $sql )-&gt;fetch();
    $conn = null;
    return ( array ( "results" =&gt; $list, "totalRows" =&gt; $totalRows[0] ) );
  }

  // Inserts the current Article object into the database, and sets its ID property.

  public function insert() {

    // Does the Article object already have an ID?
    if ( !is_null( $this-&gt;id ) ) trigger_error ( "Article::insert(): Attempt to insert an Article object that already has its ID property set (to $this-&gt;id).", E_USER_ERROR );

    // Insert the Article
    $conn = new PDO( DB_DSN, DB_USERNAME, DB_PASSWORD );
    $sql = "INSERT INTO articles ( publicationDate, title, summary, content ) VALUES ( FROM_UNIXTIME(:publicationDate), :title, :summary, :content )";
    $st = $conn-&gt;prepare ( $sql );
    $st-&gt;bindValue( ":publicationDate", $this-&gt;publicationDate, PDO::PARAM_INT );
    $st-&gt;bindValue( ":title", $this-&gt;title, PDO::PARAM_STR );
    $st-&gt;bindValue( ":summary", $this-&gt;summary, PDO::PARAM_STR );
    $st-&gt;bindValue( ":content", $this-&gt;content, PDO::PARAM_STR );
    $st-&gt;execute();
    $this-&gt;id = $conn-&gt;lastInsertId();
    $conn = null;
  }

  // Updates the current Article object in the database.

  public function update() {

    // Does the Article object have an ID?
    if ( is_null( $this-&gt;id ) ) trigger_error ( "Article::update(): Attempt to update an Article object that does not have its ID property set.", E_USER_ERROR );
   
    // Update the Article
    $conn = new PDO( DB_DSN, DB_USERNAME, DB_PASSWORD );
    $sql = "UPDATE articles SET publicationDate=FROM_UNIXTIME(:publicationDate), title=:title, summary=:summary, content=:content WHERE id = :id";
    $st = $conn-&gt;prepare ( $sql );
    $st-&gt;bindValue( ":publicationDate", $this-&gt;publicationDate, PDO::PARAM_INT );
    $st-&gt;bindValue( ":title", $this-&gt;title, PDO::PARAM_STR );
    $st-&gt;bindValue( ":summary", $this-&gt;summary, PDO::PARAM_STR );
    $st-&gt;bindValue( ":content", $this-&gt;content, PDO::PARAM_STR );
    $st-&gt;bindValue( ":id", $this-&gt;id, PDO::PARAM_INT );
    $st-&gt;execute();
    $conn = null;
  }

  // Deletes the current Article object from the database.

  public function delete() {

    // Does the Article object have an ID?
    if ( is_null( $this-&gt;id ) ) trigger_error ( "Article::delete(): Attempt to delete an Article object that does not have its ID property set.", E_USER_ERROR );

    // Delete the Article
    $conn = new PDO( DB_DSN, DB_USERNAME, DB_PASSWORD );
    $st = $conn-&gt;prepare ( "DELETE FROM articles WHERE id = :id LIMIT 1" );
    $st-&gt;bindValue( ":id", $this-&gt;id, PDO::PARAM_INT );
    $st-&gt;execute();
    $conn = null;
  }

}

?&gt;

This file is quite long, but it's fairly simple stuff when you break it down. Let's take a look at each section of the code:

<h4>1. The class definition and properties</h4>

First, we begin to define our <k>Article</k> class with the code:

class Article
{ 

Everything after these lines of code - up until the closing brace at the end of the file - contains the code that makes up the <k>Article</k> class.

After starting our class definition, we declare the properties of the class: <k>$id</k>, <k>$publicationDate</k>, and so on. Each <k>Article</k> object that we create will store its article data in these properties. You can see that the property names mirror the field names in our <k>articles</k> database table.

Technically, this type of class - which contains properties that map directly to the corresponding database fields, as well as methods for storing and retrieving records from the database - follows an object-oriented design pattern known as <a href="http://en.wikipedia.org/wiki/Active_record_pattern">active record</a>. 

<h4>2. The constructor</h4>

Next we create the class methods. These are functions that are tied to the class, as well as to objects created from the class. Our main code can call these methods in order to manipulate the data in the <k>Article</k> objects.

The first method, <k>__construct()</k>, is the constructor. This is a special method that is called automatically by the PHP engine whenever a new <k>Article</k> object is created. Our constructor takes an optional <k>$data</k> array containing the data to put into the new object's properties. We then populate those properties within the body of the constructor. This gives us a handy way to create and populate an object in one go.

<k>$this-&gt;<var>propertyName</var></k> means: "The property of this object that has the name "<k><var>$propertyName</var></k>".

You'll notice that the method filters the data before it stores them in the properties. The <k>id</k> and <k>publicationDate</k> properties are cast to integers using <k>(int)</k>, since these values should always be integers. The <k>title</k> and <k>summary</k> are filtered using a regular expression to only allow a certain range of characters. It's good security practice to filter data on input like this, only allowing acceptable values and characters through.

We don't filter the <k>content</k> property, however. Why? Well, the administrator will probably want to use a wide range of characters, as well as HTML markup, in the article content. If we restricted the range of allowed characters in the content then we would limit the usefulness of the CMS for the administrator.

Normally this could be a security loophole, since a user could insert malicious JavaScript and other nasty stuff in the content. However, since we presumably trust our site administrator - who is the only person allowed to create the content - this is an acceptable tradeoff in this case. If you were dealing with user-generated content, such as comments or forum posts, then you would want to be more careful, and only allow "safe" HTML to be used. A really great tool for this is <a href="http://htmlpurifier.org/">HTML Purifier</a>, which thoroughly analyses HTML input and removes all potentially malicious code.

PHP security is a big MySQLCMStopic, and beyond the scope of this tutorial. If you'd like to find out more then start with Terry Chay's excellent post, <a href="http://terrychay.com/article/php-advent-security-filter-input-escape-output.shtml">Filter Input-Escape Output: Security Principle and Practice</a>. Also see the Wikipedia entries on <a href="http://en.wikipedia.org/wiki/Secure_input_and_output_handling">secure input/output handling</a>, <a href="http://en.wikipedia.org/wiki/Cross-site_scripting">XSS</a>, <a href="http://en.wikipedia.org/wiki/Cross-site_request_forgery">CSRF</a>, <a href="http://en.wikipedia.org/wiki/SQL_injection">SQL injection</a>, and <a href="http://en.wikipedia.org/wiki/Session_fixation">session fixation</a>.

<h4>3. <k>storeFormValues()</k></h4>

Our next method, <k>storeFormValues()</k>, is similar to the constructor in that it stores a supplied array of data in the object's properties. The main difference is that <k>storeFormValues()</k> can handle data in the format that is submitted via our New Article and Edit Article forms (which we'll create later). In particular, it can handle publication dates in the format <k>YYYY-MM-DD</k>, converting the date into the UNIX timestamp format suitable for storing in the object.

UNIX timestamps are integer values representing the number of seconds between midnight on 1 Jan, 1970 and the date/time in question. I generally like to handle dates and times as UNIX timestamps in PHP, since they're easy to store and manipulate.

The purpose of this method is simply to make it easy for our admin scripts to store the data submitted by the forms. All they have to do is call <k>storeFormValues()</k>, passing in the array of form data.

All of the members (that is, the properties and methods) of our <k>Article</k> class have the <k>public</k> keyword before their names, which means that they're available to code outside the class. You can also create <k>private</k> members (which can only be used by the class itself) and <k>protected</k> members (which can be used by the class and any of its subclasses). Don't worry, I'll be covering all this in a later tutorial!

<h4>4. <k>getById()</k></h4>

Now we come to the methods that actually access the MySQL database. The first of these, <k>getById()</k>, accepts an article ID argument (<k>$id</k>), then retrieves the article record with that ID from the <k>articles</k> table, and stores it in a new <k>Article</k> object.

Usually, when you call a method, you first create or retrieve an object, then call the method on that object. However, since this method returns a new <k>Article</k> object, it would be helpful if the method could be called directly by our calling code, and not via an existing object. Otherwise, we would have to create a new dummy object each time we wanted to call the method and retrieve an article.

To enable our method to be called without needing an object, we add the <a href="http://php.net/manual/en/language.oop5.static.php"><k>static</k></a> keyword to the method definition. This allows the method to be called directly without specifying an object:

  public static function getById( $id ) {

The method itself uses PDO to connect to the database, retrieve the article record using a <k>SELECT</k> SQL statement, and store the article data in a new <k>Article</k> object, which is then returned to the calling code.

<a href="http://php.net/manual/en/book.pdo.php">PDO</a> - PHP Data Objects - is an object-oriented library built into PHP that makes it easy for PHP scripts to talk to databases.

Let's break this method down:
    <k>Connect to the database</k>
    

    $conn = new PDO( DB_DSN, DB_USERNAME, DB_PASSWORD );


    This makes a connection to the MySQL database using the login details from the <k>config.php</k> file, and stores the resulting connection handle in <k>$conn</k>. This handle is used by the remaining code in the method to talk to the database.
  
 

    <k>Retrieve the article record</k>

    $sql = "SELECT *, UNIX_TIMESTAMP(publicationDate) AS publicationDate FROM articles WHERE id = :id";
    $st = $conn-&gt;prepare( $sql );
    $st-&gt;bindValue( ":id", $id, PDO::PARAM_INT );
    $st-&gt;execute();
    $row = $st-&gt;fetch();

    Our <k>SELECT</k> statement retrieves all fields (<k>*</k>) from the record in the <k>articles</k> table that matches the given <k>id</k> field. It also retrieves the <k>publicationDate</k> field in UNIX timestamp format instead of the default MySQL date format, so we can store it easily in our object.
    Rather than placing our <k>$id</k> parameter directly inside the <k>SELECT</k> string, which can be a security risk, we instead use <k>:id</k>. This is known as a placeholder. In a minute, we'll call a PDO method to bind our <k>$id</k> value to this placeholder.
    Once we've stored our <k>SELECT</k> statement in a string, we prepare the statement by calling <k>$conn-&gt;prepare()</k>, storing the resulting statement handle in a <k>$st</k> variable.
    Prepared statements are a feature of most databases; they allow your database calls to be faster and more secure.
    We now bind the value of our <k>$id</k> variable - that is, the ID of the article we want to retrieve - to our <k>:id</k> placeholder by calling the <k>bindValue()</k> method. We pass in the placeholder name; the value to bind to it; and the value's data type (integer in this case) so that PDO knows how to correctly escape the value. 
    Lastly, we call <k>execute()</k> to run the query, then we use <k>fetch()</k> to retrieve the resulting record as an associative array of field names and corresponding field values, which we store in the <k>$row</k> variable.

    <k>Close the connection</k>

    $conn = null;

    Since we no longer need our connection, we close it by assigning <k>null</k> to the <k>$conn</k> variable. It's a good idea to close database connections as soon as possible to free up memory on the server.


    <k>Return the new <k>Article</k> object</k>

    if ( $row ) return new Article( $row );
  }

    The last thing our method needs to do is create a new <k>Article</k> object that stores the record returned from the database, and return this object to the calling code. First it checks that the returned value from the <k>fetch()</k> call, <k>$row</k>, does in fact contain data. If it does then it creates a new <k>Article</k> object, passing in <k>$row</k> as it does so. Remember that this calls our constructor that we created earlier, which populates the object with the data contained in the <k>$row</k> array. We then return this new object, and our work here is done.

  

<h4>5. <k>getList()</k></h4>

Our next method, <k>getList()</k>, is similar in many ways to <k>getById()</k>. The main difference, as you might imagine, is that it can retrieve many articles at once, rather than just 1 article. It's used whenever we need to display a list of articles to the user or administrator.

<k>getList()</k> accepts 2 optional arguments:

<dl>
  <dt><k>$numRows</k></dt>
  <dd>The maximum number of articles to retrieve. We default this value to 1,000,000 (i.e. effectively all articles). This parameter allows us to display, say, just the first 5 articles on the site homepage.</dd>
  <dt><k>$order</k></dt>
  <dd>The sort order to use when returning the articles. We default this to <k>"publicationDate DESC"</k>, which means "sort by publication date, newest first".</dd>
</dl>

Much of this method's code is similar to <k>getById()</k>. Let's look at a few lines of interest:

    $sql = "SELECT SQL_CALC_FOUND_ROWS *, UNIX_TIMESTAMP(publicationDate) AS publicationDate FROM articles
            ORDER BY " . mysql_escape_string($order) . " LIMIT :numRows";

Our query is a bit more complex than last time. First, notice that there's no <k>WHERE</k> clause this time; this is because we want to retrieve all articles, rather than an article that matches a specific ID.

We've added an <k>ORDER BY</k> clause to sort the returned records by the specified sort order. We've also added a <k>LIMIT</k> clause, passing in the <k>$numRows</k> parameter (as a placeholder), so that we can optionally limit the number of records returned.

Finally, the special MySQL value <k>SQL_CALC_FOUND_ROWS</k> tells MySQL to return the actual number of records returned; this information is useful for displaying to the user, as well as for other things like pagination of results.

Rather than pass the <k>$order</k> value to the query via a placeholder, we interpolate it directly into the query string itself, calling <k>mysql_escape_string()</k> to ensure that any special characters in the value are escaped (for security reasons). If we used a placeholder then PDO would place quotes (<k>'</k>) around the string value (for example, <k>ORDER BY 'publicationDate DESC'</k>), which is invalid syntax.

    $list = array();

    while ( $row = $st-&gt;fetch() ) {
      $article = new Article( $row );
      $list[] = $article;
    }

Since we're returning multiple rows, we create an array, <k>$list</k>, to hold the corresponding <k>Article</k> objects. We then use a <k>while</k> loop to retrieve the next row via <k>fetch()</k>, create a new <k>Article</k> object, store the row values in the object, and add the object to the <k>$list</k> array. When there are no more rows, <k>fetch()</k> returns <k>false</k> and the loop exits.

    // Now get the total number of articles that matched the criteria
    $sql = "SELECT FOUND_ROWS() AS totalRows";
    $totalRows = $conn-&gt;query( $sql )-&gt;fetch();
    $conn = null;
    return ( array ( "results" =&gt; $list, "totalRows" =&gt; $totalRows[0] ) );

Finally, we run another query that uses the <k>MySQL FOUND_ROWS()</k> function to get the number of returned rows calculated by our previous <k>SQL_CALC_FOUND_ROWS</k> command. This time we use the PDO <k>query()</k> method, which lets us quickly run a query if there are no placeholders to bind. We call <k>fetch()</k> on the resulting statement handle to retrieve the result row, then return both the list of <k>Article</k> objects (<k>$list</k>) and the total row count as an associative array.

<h4>6. <k>insert()</k></h4>

The remaining methods in our <k>Article</k> class deal with adding, changing and deleting article records in the database.

<k>insert()</k> adds a new article record to the <k>articles</k> table, using the values stored in the current <k>Article</k> object:

First, the method makes sure that the object doesn't already have its <k>$id</k> property set. If it does have an ID then the article presumably already exists in the database, so we shouldn't try to insert it again.
Then the method runs an SQL <k>INSERT</k> query to insert the record into the <k>articles</k> table, using placeholders to pass the property values to the database. Note the use of the MySQL <k>FROM_UNIXTIME()</k> function to convert the publication date from UNIX timestamp format back into MySQL format.
After running the query, the method retrieves the new article record's ID using the PDO <k>lastInsertId()</k> function, and stores it in the object's <k>$id</k> property for future reference. Remember that we set up the <k>articles</k> table's <k>id</k> field as an <k>auto_increment</k> field, so that MySQL generates a new unique ID for each new article record.

Notice that we use <k>PDO::PARAM_INT</k> when binding integer values to placeholders, and <k>PDO::PARAM_STR</k> when binding string values. This is so that PDO can escape the values appropriately.

<h4>7. <k>update()</k></h4>

This method is similar to <k>insert()</k>, except that it updates an existing article record in the database instead of creating a new record.

First it checks that the object has an ID, since you can't update a record without knowing its ID. Then it uses the SQL <k>UPDATE</k> statement to update the record's fields. Notice that we pass the object's ID to the <k>UPDATE</k> statement so that it knows which record to update.

<h4>5. <k>delete()</k></h4>

The <k>delete()</k> method is pretty self-explanatory. It uses the SQL <k>DELETE</k> statement to remove the article stored in the object from the <k>articles</k> table, using the object's <k>$id</k> property to identify the record in the table. For safety reasons, we add <k>LIMIT 1</k> to the query to make sure that only 1 article record can be deleted at a time.

<h3 id="MySQLCMStopic-6">Step 5: Write the front-end <k>index.php</k> script</h3>
We've now created our <k>Article</k> class, which does the heavy lifting for our CMS. Now that's out of the way, the rest of the code is pretty simple!

First, let's create <k>index.php</k>, the script that controls the display of the front-end pages of the site. Save this file in the <k>cms</k> folder you created earlier, at the start of Step 4:

&lt;?php

require( "config.php" );
$action = isset( $_GET['action'] ) ? $_GET['action'] : "";

switch ( $action ) {
  case 'archive':
    archive();
    break;
  case 'viewArticle':
    viewArticle();
    break;
  default:
    homepage();
}

function archive() {
  $results = array();
  $data = Article::getList();
  $results['articles'] = $data['results'];
  $results['totalRows'] = $data['totalRows'];
  $results['pageTitle'] = "Article Archive | Widget News";
  require( TEMPLATE_PATH . "/archive.php" );
}

function viewArticle() {
  if ( !isset($_GET["articleId"]) || !$_GET["articleId"] ) {
    homepage();
    return;
  }

  $results = array();
  $results['article'] = Article::getById( (int)$_GET["articleId"] );
  $results['pageTitle'] = $results['article']-&gt;title . " | Widget News";
  require( TEMPLATE_PATH . "/viewArticle.php" );
}

function homepage() {
  $results = array();
  $data = Article::getList( HOMEPAGE_NUM_ARTICLES );
  $results['articles'] = $data['results'];
  $results['totalRows'] = $data['totalRows'];
  $results['pageTitle'] = "Widget News";
  require( TEMPLATE_PATH . "/homepage.php" );
}

?&gt;

Let's break this script down:
    <k>Include the config file</k>
    The first line of code includes the <k>config.php</k> file we created earlier, so that all the configuration settings are available to the script. We use <k>require()</k> rather than <k>include()</k>; <k>require()</k> generates an error if the file can't be found.

    <k>Grab the <k>action</k> parameter</k>
    We store the <k>$_GET['action']</k> parameter in a variable called <k>$action</k>, so that we can use the value later in the script. Before doing this, we check that the <k>$_GET['action']</k> value exists by using <k>isset()</k>. If it doesn't, we set the corresponding <k>$action</k> variable to an empty string (<k>""</k>).
    It's good programming practice to check that user-supplied values, such as query string parameters, form post values and cookies, actually exist before attempting to use them. Not only does it limit security holes, but it prevents the PHP engine raising "undefined index" notices as your script runs.

    <k>Decide which action to perform</k>
    The <k>switch</k> block looks at the <k>action</k> parameter in the URL to determine which action to perform (display the archive, or view an article). If no <k>action</k> parameter is in the URL then the script displays the site homepage.

    <k><k>archive()</k></k>
    This function displays a list of all the articles in the database. It does this by calling the <k>getList()</k> method of the <k>Article</k> class that we created earlier. The function then stores the results, along with the page title, in a <k>$results</k> associative array so the template can display them in the page. Finally, it includes the template file to display the page. (We'll create the templates in a moment.)

    <k><k>viewArticle()</k></k>
    This function displays a single article page. It retrieves the ID of the article to display from the <k>articleId</k> URL parameter, then calls the <k>Article</k> class's <k>getById()</k> method to retrieve the article object, which it stores in the <k>$results</k> array for the template to use. (If no <k>articleId</k> was supplied, or the article couldn't be found, then the function simply displays the homepage instead.)
    Notice that we use <k>(int)</k> to cast the value of the <k>articleID</k> query parameter to an integer. This is a good security measure, as it prevents anything other than integers from being passed to our code.
 

    <k><k>homepage()</k></k>
    Our last function, <k>homepage()</k>, displays the site homepage containing a list of up to <k>HOMEPAGE_NUM_ARTICLES</k> articles (5 by default). It's much like the <k>archive()</k> function, except that it passes <k>HOMEPAGE_NUM_ARTICLES</k> to the <k>getList()</k> method to limit the number of articles returned.

<h3 id="MySQLCMStopic-7">Step 6: Write the back-end <k>admin.php</k> script</h3>
Our admin script is a bit more complex than <k>index.php</k>, since it deals with all the admin functions for the CMS. The basic structure, though, is similar to <k>index.php</k>.

Save this file, <k>admin.php</k>, in the same folder as your <k>index.php</k> script:

&lt;?php

require( "config.php" );
session_start();
$action = isset( $_GET['action'] ) ? $_GET['action'] : "";
$username = isset( $_SESSION['username'] ) ? $_SESSION['username'] : "";

if ( $action != "login" &amp;&amp; $action != "logout" &amp;&amp; !$username ) {
  login();
  exit;
}

switch ( $action ) {
  case 'login':
    login();
    break;
  case 'logout':
    logout();
    break;
  case 'newArticle':
    newArticle();
    break;
  case 'editArticle':
    editArticle();
    break;
  case 'deleteArticle':
    deleteArticle();
    break;
  default:
    listArticles();
}

function login() {

  $results = array();
  $results['pageTitle'] = "Admin Login | Widget News";

  if ( isset( $_POST['login'] ) ) {

    // User has posted the login form: attempt to log the user in

    if ( $_POST['username'] == ADMIN_USERNAME &amp;&amp; $_POST['password'] == ADMIN_PASSWORD ) {

      // Login successful: Create a session and redirect to the admin homepage
      $_SESSION['username'] = ADMIN_USERNAME;
      header( "Location: admin.php" );

    } else {

      // Login failed: display an error message to the user
      $results['errorMessage'] = "Incorrect username or password. Please try again.";
      require( TEMPLATE_PATH . "/admin/loginForm.php" );
    }

  } else {

    // User has not posted the login form yet: display the form
    require( TEMPLATE_PATH . "/admin/loginForm.php" );
  }

}

function logout() {
  unset( $_SESSION['username'] );
  header( "Location: admin.php" );
}

function newArticle() {

  $results = array();
  $results['pageTitle'] = "New Article";
  $results['formAction'] = "newArticle";

  if ( isset( $_POST['saveChanges'] ) ) {

    // User has posted the article edit form: save the new article
    $article = new Article;
    $article-&gt;storeFormValues( $_POST );
    $article-&gt;insert();
    header( "Location: admin.php?status=changesSaved" );

  } elseif ( isset( $_POST['cancel'] ) ) {

    // User has cancelled their edits: return to the article list
    header( "Location: admin.php" );
  } else {

    // User has not posted the article edit form yet: display the form
    $results['article'] = new Article;
    require( TEMPLATE_PATH . "/admin/editArticle.php" );
  }

}

function editArticle() {

  $results = array();
  $results['pageTitle'] = "Edit Article";
  $results['formAction'] = "editArticle";

  if ( isset( $_POST['saveChanges'] ) ) {

    // User has posted the article edit form: save the article changes

    if ( !$article = Article::getById( (int)$_POST['articleId'] ) ) {
      header( "Location: admin.php?error=articleNotFound" );
      return;
    }

    $article-&gt;storeFormValues( $_POST );
    $article-&gt;update();
    header( "Location: admin.php?status=changesSaved" );

  } elseif ( isset( $_POST['cancel'] ) ) {

    // User has cancelled their edits: return to the article list
    header( "Location: admin.php" );
  } else {

    // User has not posted the article edit form yet: display the form
    $results['article'] = Article::getById( (int)$_GET['articleId'] );
    require( TEMPLATE_PATH . "/admin/editArticle.php" );
  }

}

function deleteArticle() {

  if ( !$article = Article::getById( (int)$_GET['articleId'] ) ) {
    header( "Location: admin.php?error=articleNotFound" );
    return;
  }

  $article-&gt;delete();
  header( "Location: admin.php?status=articleDeleted" );
}

function listArticles() {
  $results = array();
  $data = Article::getList();
  $results['articles'] = $data['results'];
  $results['totalRows'] = $data['totalRows'];
  $results['pageTitle'] = "All Articles";

  if ( isset( $_GET['error'] ) ) {
    if ( $_GET['error'] == "articleNotFound" ) $results['errorMessage'] = "Error: Article not found.";
  }

  if ( isset( $_GET['status'] ) ) {
    if ( $_GET['status'] == "changesSaved" ) $results['statusMessage'] = "Your changes have been saved.";
    if ( $_GET['status'] == "articleDeleted" ) $results['statusMessage'] = "Article deleted.";
  }

  require( TEMPLATE_PATH . "/admin/listArticles.php" );
}

?&gt;

Let's look at some interesting sections of this script:
    <k>Start a user session</k>
    Towards the top of the script we call <k>session_start()</k>. This PHP function starts a new session for the user, which we can use to track whether the user is logged in or not. (If a session for this user already exists, PHP automatically picks it up and uses it.)
    Because sessions need cookies to work, and cookies are sent to the browser before content, you should call <k>session_start()</k> at the top of the script, before any content has been output.

    <k>Grab the <k>action</k> parameter and <k>username</k> session variable</k>
    Next we store the<k> $_GET['action']</k> parameter in a variable called <k>$action</k>, and the <k>$_SESSION['username']</k> session variable in <k>$username</k>, so that we can use these values later in the script. Before doing this, we check that these values exist by using <k>isset()</k>. If a value doesn't exist then we set the corresponding variable to an empty string (<k>""</k>).

    <k>Check the user is logged in</k>
    The user shouldn't be allowed to do anything unless they're logged in as an administrator. So the next thing we do is inspect <k>$username</k> to see if the session contained a value for the <k>username</k> key, which we use to signify that the user is logged in. If <k>$username</k>'s value is empty - and the user isn't already trying to log in or out - then we display the login page and exit immediately.

    <k>Decide which action to perform</k>
    The <k>switch</k> block works much like the one in <k>index.php</k>: it calls the appropriate function based on the value of the <k>action</k> URL parameter. The default action is to display the list of articles in the CMS.

    <k><k>login()</k></k>
    This is called when the user needs to log in, or is in the process of logging in.

    If the user has submitted the login form - which we check by looking for the <k>login</k> form parameter - then the function checks the entered username and password against the config values <k>ADMIN_USERNAME</k> and <k>ADMIN_PASSWORD</k>. If they match then the <k>username</k> session key is set to the admin username, effectively logging them in, and we then redirect the browser back to the <k>admin.php</k> script, which then displays the list of articles. If the username and password don't match then the login form is redisplayed with an error message.
    If the user hasn't submitted the login form yet then the function simply displays the form.


    <k><k>logout()</k></k>
    This function is called when the user elects to log out. It simply removes the <k>username</k> session key and redirects back to <k>admin.php</k>.

    <k><k>newArticle()</k></k>
    This function lets the user create a new article. If the user has just posted the "new article" form then the function creates a new <k>Article</k> object, stores the form data in the object by calling <k>storeFormValues()</k>, inserts the article into the database by calling <k>insert()</k>, and redirects back to the article list, displaying a "Changes Saved" status message.
    If the user has not posted the "new article" form yet then the function creates a new empty <k>Article</k> object with no values, then uses the <k>editArticle.php</k> template to display the article edit form using this empty <k>Article</k> object.

    <k><k>editArticle()</k></k>
    This function is similar to <k>newArticle()</k>, except that it lets the user edit an existing article. When the user saves their changes then the function retrieves the existing article using <k>getById()</k>, stores the new values in the <k>Article</k> object, then saves the changed object by calling <k>update()</k>. (If the article isn't found in the database then the function displays an error.)
    When displaying the article edit form, the function again uses the <k>getById()</k> method to load the current article field values into the form for editing.
    Notice that the script uses the same template (<k>editArticle.php</k>) both for creating new articles, and for editing existing articles. This means that we only need to create a single HTML form. The <k>formAction</k> parameter is used to determine if the user is adding or editing an article.

    <k><k>deleteArticle()</k></k>
    If the user has chosen to delete an article then this function first retrieves the article to be deleted (displaying an error if the article couldn't be found in the database), then calls the article's <k>delete()</k> method to remove the article from the database. It then redirects to the article list page, displaying an "article deleted" status message.

    <k><k>listArticles()</k></k>
    The last function in <k>admin.php</k> displays a list of all articles in the CMS for editing. The function uses the <k>Article</k> class's <k>getList()</k> method to retrieve all the articles, then it uses the <k>listArticles.php</k> template to display the list. Along the way, it also checks the URL query parameters <k>error</k> and <k>status</k> to see if any error or status message needs to be displayed in the page. If so, then it creates the necessary message and passes it to the template for display.

<h3 id="MySQLCMStopic-8">Step 7: Create the front-end templates</h3>
We've now created all the PHP code for our CMS's functionality. The next step is to create the HTML templates for both the front-end and admin pages.

First, the front-end templates.

<h4>1. The include files</h4>

Create a folder called <k>templates</k> inside your <k>cms</k> folder. Now create a folder called <k>include</k> inside the <k>templates</k> folder. In this folder we're going to put the header and footer markup that is common to every page of the site, to save having to put it inside every template file.

Create a new file called <k>header.php</k> inside your <k>include</k> folder, with the following code:

&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;title&gt;&lt;?php echo htmlspecialchars( $results['pageTitle'] )?&gt;&lt;/title&gt;
    &lt;link rel="stylesheet" type="text/css" href="style.css" /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div&gt;

      &lt;a href="."&gt;&lt;img src="images/logo.jpg" alt="Widget News" /&gt;&lt;/a&gt;

As you can see, this code simply displays the markup to start the HTML page. It uses the <k>$results['pageTitle']</k> variable passed from the main script (<k>index.php</k> or <k>admin.php</k>) to set the <k>title</k> element, and also links to a stylesheet, <k>style.css</k> (we'll create this in a moment).

Notice that we've passed the value of <k>$results['pageTitle']</k> through the PHP function <a href="http://php.net/manual/en/function.htmlspecialchars.php"><k>htmlspecialchars()</k></a>. This function encodes any special HTML characters, such as <k>&lt;</k>, <k>&gt;</k>, and <k>&amp;</k>, into their HTML entity equivalents (<k>&amp;lt;</k>, <k>&amp;gt;</k>, and <k>&amp;amp;</k>). Along with filtering input - which we did when we wrote the <k>Article</k> constructor in Step 4 - encoding output is a good security habit to get into. We'll encode the majority of the data in our templates this way.

Next, create a file called <k>footer.php</k> in the same folder:

      &lt;div&gt;
        Widget News &amp;copy; 2011. All rights reserved. &lt;a href="admin.php"&gt;Site Admin&lt;/a&gt;
      &lt;/div&gt;

    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;

This markup finishes off each HTML page in the system.

<h4>2. <k>homepage.php</k></h4>
 
Now go back up to the <k>templates</k> folder, and create a <k>homepage.php</k> template file in there, with the following code:

&lt;?php include "templates/include/header.php" ?&gt;

      &lt;ul&gt;

&lt;?php foreach ( $results['articles'] as $article ) { ?&gt;

        &lt;li&gt;
          &lt;h3&gt;
            &lt;span class="pubDate"&gt;&lt;?php echo date('j F', $article-&gt;publicationDate)?&gt;&lt;/span&gt;&lt;a href=".?action=viewArticle&amp;amp;articleId=&lt;?php echo $article-&gt;id?&gt;"&gt;&lt;?php echo htmlspecialchars( $article-&gt;title )?&gt;&lt;/a&gt;
          &lt;/h3&gt;
          &lt;p class="summary"&gt;&lt;?php echo htmlspecialchars( $article-&gt;summary )?&gt;&lt;/p&gt;
        &lt;/li&gt;

&lt;?php } ?&gt;

      &lt;/ul&gt;

      &lt;p&gt;&lt;a href="./?action=archive"&gt;Article Archive&lt;/a&gt;&lt;/p&gt;

&lt;?php include "templates/include/footer.php" ?&gt;

This template displays the article headlines on the homepage as an unordered list. It loops through the array of <k>Article</k> objects stored in <k>$results['articles']</k> and displays each article's publication date, title, and summary. The title is linked back to <k>'.'</k> (<k>index.php</k>), passing <k>action=viewArticle</k>, as well as the article's ID, in the URL. This allows the visitor to read an article by clicking its title.

The template also includes a link to the article archive (<k>"./?action=archive"</k>).

Notice that this template, as well as subsequent templates, use the PHP <k>include</k> statement to include the header and footer files in the page.

<h4>3. <k>archive.php</k></h4>
 
Now create an <k>archive.php</k> template file in your <k>templates</k> folder:

&lt;?php include "templates/include/header.php" ?&gt;

      &lt;h1&gt;Article Archive&lt;/h1&gt;

      &lt;ul class="archive"&gt;

&lt;?php foreach ( $results['articles'] as $article ) { ?&gt;

        &lt;li&gt;
          &lt;h3&gt;
            &lt;span class="pubDate"&gt;&lt;?php echo date('j F Y', $article-&gt;publicationDate)?&gt;&lt;/span&gt;&lt;a href=".?action=viewArticle&amp;amp;articleId=&lt;?php echo $article-&gt;id?&gt;"&gt;&lt;?php echo htmlspecialchars( $article-&gt;title )?&gt;&lt;/a&gt;
          &lt;/h3&gt;
          &lt;p class="summary"&gt;&lt;?php echo htmlspecialchars( $article-&gt;summary )?&gt;&lt;/p&gt;
        &lt;/li&gt;

&lt;?php } ?&gt;

      &lt;/ul&gt;

      &lt;p&gt;&lt;?php echo $results['totalRows']?&gt; article&lt;?php echo ( $results['totalRows'] != 1 ) ? 's' : '' ?&gt; in total.&lt;/p&gt;

      &lt;p&gt;&lt;a href="./"&gt;Return to Homepage&lt;/a&gt;&lt;/p&gt;

&lt;?php include "templates/include/footer.php" ?&gt;

This template displays the archive of all articles in the CMS. As you can see, it's almost identical to <k>homepage.php</k>. It adds an <k>archive</k> CSS class to the unordered list so we can style the list items a bit differently to the homepage, and it also adds the year to the article publication dates (since the archive might go back a few years).

The page also includes a total count of the articles in the database, retrieved via <k>$results['totalRows']</k>. Finally, instead of the archive link at the bottom of the page, it includes a "Return to Homepage" link.

<h4>4. <k>viewArticle.php</k></h4>

The last front-end template displays an article to the user. Create a file called <k>viewArticle.php</k> in your <k>templates</k> folder, and add the following markup:

&lt;?php include "templates/include/header.php" ?&gt;

      &lt;h1 style="width: 75%;"&gt;&lt;?php echo htmlspecialchars( $results['article']-&gt;title )?&gt;&lt;/h1&gt;
      &lt;div style="width: 75%; font-style: italic;"&gt;&lt;?php echo htmlspecialchars( $results['article']-&gt;summary )?&gt;&lt;/div&gt;
      &lt;div style="width: 75%;"&gt;&lt;?php echo $results['article']-&gt;content?&gt;&lt;/div&gt;
      &lt;p class="pubDate"&gt;Published on &lt;?php echo date('j F Y', $results['article']-&gt;publicationDate)?&gt;&lt;/p&gt;

      &lt;p&gt;&lt;a href="./"&gt;Return to Homepage&lt;/a&gt;&lt;/p&gt;

&lt;?php include "templates/include/footer.php" ?&gt;

This template is very straightforward. It displays the selected article's title, summary and content, as well as its publication date and a link to return to the homepage.

You might have noticed that we <em>haven't</em> passed <k>$results['article']-&gt;content</k> through <k>htmlspecialchars()</k>. As explained when we created the <k>Article</k> constructor in Step 4, the administrator will probably want to use HTML markup, such as <k>&lt;p&gt;</k> tags, in the article content. If we encoded the content then <k>&lt;p&gt;</k> tags would appear on the page as <k>&lt;p&gt;</k>, rather than creating paragraphs.

<h3 id="MySQLCMStopic-9">Step 8: Create the back-end templates</h3>
Now that we've created the templates for the front end of the site, it's time to create the 3 admin templates.

<h4>1. <k>loginForm.php</k></h4>

First, create another folder called <k>admin</k> inside your <k>templates</k> folder. Inside the <k>admin</k> folder, create the first of the 3 templates, <k>loginForm.php</k>:

&lt;?php include "templates/include/header.php" ?&gt;

      &lt;form action="admin.php?action=login" method="post" style="width: 50%;"&gt;
        &lt;input type="hidden" name="login" value="true" /&gt;

&lt;?php if ( isset( $results['errorMessage'] ) ) { ?&gt;
        &lt;div class="errorMessage"&gt;&lt;?php echo $results['errorMessage'] ?&gt;&lt;/div&gt;
&lt;?php } ?&gt;

        &lt;ul&gt;

          &lt;li&gt;
            &lt;label for="username"&gt;Username&lt;/label&gt;
            &lt;input type="text" name="username" placeholder="Your admin username" required autofocus maxlength="20" /&gt;
          &lt;/li&gt;

          &lt;li&gt;
            &lt;label for="password"&gt;Password&lt;/label&gt;
            &lt;input type="password" name="password" placeholder="Your admin password" required maxlength="20" /&gt;
          &lt;/li&gt;

        &lt;/ul&gt;

        &lt;div class="buttons"&gt;
          &lt;input type="submit" name="login" value="Login" /&gt;
        &lt;/div&gt;

      &lt;/form&gt;

&lt;?php include "templates/include/footer.php" ?&gt;

This page contains the admin login form, which posts back to <k>admin.php?action=login</k>. It includes a hidden field, <k>login</k>, that our <k>login()</k> function from Step 6 uses to check if the form has been posted. The form also contains an area for displaying any error messages (such as an incorrect username or password), as well as username and password fields and a "Login" button.

We've used some HTML5 form features such as <k>placeholder</k>, <k>required</k>, <k>autofocus</k> and <k>date</k> in our admin forms. This makes the forms nicer to use, and also saves us having to check for required fields in our PHP code. Since not all browsers currently support these HTML5 form features, you would probably want to use JavaScript and/or PHP fallbacks to check for required fields in a production system.

<h4>2. <k>listArticles.php</k></h4>

Now create the second admin template in your <k>admin</k> folder. This one's called <k>listArticles.php</k>:

&lt;?php include "templates/include/header.php" ?&gt;

      &lt;div&gt;
        &lt;h3&gt;Widget News Admin&lt;/h3&gt;
        &lt;p&gt;You are logged in as &lt;b&gt;&lt;?php echo htmlspecialchars( $_SESSION['username']) ?&gt;&lt;/b&gt;. &lt;a href="admin.php?action=logout"?&gt;Log out&lt;/a&gt;&lt;/p&gt;
      &lt;/div&gt;

      &lt;h1&gt;All Articles&lt;/h1&gt;

&lt;?php if ( isset( $results['errorMessage'] ) ) { ?&gt;
        &lt;div class="errorMessage"&gt;&lt;?php echo $results['errorMessage'] ?&gt;&lt;/div&gt;
&lt;?php } ?&gt;

&lt;?php if ( isset( $results['statusMessage'] ) ) { ?&gt;
        &lt;div class="statusMessage"&gt;&lt;?php echo $results['statusMessage'] ?&gt;&lt;/div&gt;
&lt;?php } ?&gt;

      &lt;table&gt;
        &lt;tr&gt;
          &lt;th&gt;Publication Date&lt;/th&gt;
          &lt;th&gt;Article&lt;/th&gt;
        &lt;/tr&gt;

&lt;?php foreach ( $results['articles'] as $article ) { ?&gt;

        &lt;tr onclick="location='admin.php?action=editArticle&amp;amp;articleId=&lt;?php echo $article-&gt;id?&gt;'"&gt;
          &lt;td&gt;&lt;?php echo date('j M Y', $article-&gt;publicationDate)?&gt;&lt;/td&gt;
          &lt;td&gt;
            &lt;?php echo $article-&gt;title?&gt;
          &lt;/td&gt;
        &lt;/tr&gt;

&lt;?php } ?&gt;

      &lt;/table&gt;

      &lt;p&gt;&lt;?php echo $results['totalRows']?&gt; article&lt;?php echo ( $results['totalRows'] != 1 ) ? 's' : '' ?&gt; in total.&lt;/p&gt;

      &lt;p&gt;&lt;a href="admin.php?action=newArticle"&gt;Add a New Article&lt;/a&gt;&lt;/p&gt;

&lt;?php include "templates/include/footer.php" ?&gt;

This template displays the list of articles for the administrator to edit. After displaying any error or status messages, it loops through the array of <k>Article</k> objects stored in <k>$results['articles']</k>, displaying each article's publication date and title in a table row. It also adds a JavaScript <k>onclick</k> event to each article's table row, so that the administrator can click an article to edit it.

The template also includes the total article count, as well as a link to let the administrator add a new article.

<h4>3. <k>editArticle.php</k></h4>

Now save the final template, <k>editArticle.php</k>, in your <k>admin</k> folder:

&lt;?php include "templates/include/header.php" ?&gt;

      &lt;div&gt;
        &lt;h3&gt;Widget News Admin&lt;/h3&gt;
        &lt;p&gt;You are logged in as &lt;b&gt;&lt;?php echo htmlspecialchars( $_SESSION['username']) ?&gt;&lt;/b&gt;. &lt;a href="admin.php?action=logout"?&gt;Log out&lt;/a&gt;&lt;/p&gt;
      &lt;/div&gt;

      &lt;h1&gt;&lt;?php echo $results['pageTitle']?&gt;&lt;/h1&gt;

      &lt;form action="admin.php?action=&lt;?php echo $results['formAction']?&gt;" method="post"&gt;
        &lt;input type="hidden" name="articleId" value="&lt;?php echo $results['article']-&gt;id ?&gt;"/&gt;

&lt;?php if ( isset( $results['errorMessage'] ) ) { ?&gt;
        &lt;div class="errorMessage"&gt;&lt;?php echo $results['errorMessage'] ?&gt;&lt;/div&gt;
&lt;?php } ?&gt;

        &lt;ul&gt;

          &lt;li&gt;
            &lt;label for="title"&gt;Article Title&lt;/label&gt;
            &lt;input type="text" name="title" placeholder="Name of the article" required autofocus maxlength="255" value="&lt;?php echo htmlspecialchars( $results['article']-&gt;title )?&gt;" /&gt;
          &lt;/li&gt;

          &lt;li&gt;
            &lt;label for="summary"&gt;Article Summary&lt;/label&gt;
            &lt;textarea name="summary" placeholder="Brief description of the article" required maxlength="1000" style="height: 5em;"&gt;&lt;?php echo htmlspecialchars( $results['article']-&gt;summary )?&gt;&lt;/textarea&gt;
          &lt;/li&gt;

          &lt;li&gt;
            &lt;label for="content"&gt;Article Content&lt;/label&gt;
            &lt;textarea name="content" placeholder="The HTML content of the article" required maxlength="100000" style="height: 30em;"&gt;&lt;?php echo htmlspecialchars( $results['article']-&gt;content )?&gt;&lt;/textarea&gt;
          &lt;/li&gt;

          &lt;li&gt;
            &lt;label for="publicationDate"&gt;Publication Date&lt;/label&gt;
            &lt;input type="date" name="publicationDate" placeholder="YYYY-MM-DD" required maxlength="10" value="&lt;?php echo $results['article']-&gt;publicationDate ? date( "Y-m-d", $results['article']-&gt;publicationDate ) : "" ?&gt;" /&gt;
          &lt;/li&gt;

        &lt;/ul&gt;

        &lt;div class="buttons"&gt;
          &lt;input type="submit" name="saveChanges" value="Save Changes" /&gt;
          &lt;input type="submit" formnovalidate name="cancel" value="Cancel" /&gt;
        &lt;/div&gt;

      &lt;/form&gt;

&lt;?php if ( $results['article']-&gt;id ) { ?&gt;
      &lt;p&gt;&lt;a href="admin.php?action=deleteArticle&amp;amp;articleId=&lt;?php echo $results['article']-&gt;id ?&gt;" onclick="return confirm('Delete This Article?')"&gt;Delete This Article&lt;/a&gt;&lt;/p&gt;
&lt;?php } ?&gt;

&lt;?php include "templates/include/footer.php" ?&gt;

This edit form is used both for creating new articles, and for editing existing articles. It posts to either <k>admin.php?action=newArticle</k> or <k>admin.php?action=editArticle</k>, depending on the value passed in the <k>$results['formAction']</k> variable. It also contains a hidden field, <k>articleId</k>, to track the ID of the article being edited (if any).

The form also includes an area for error messages, as well as fields for the article title, summary, content, and publication date. Finally, there are 2 buttons for saving and cancelling changes, and a link to allow the admin to delete the currently-edited article.

As usual, we pass all data through <k>htmlspecialchars()</k> before outputting it in the markup. Not only is this a good security habit, but it also ensures that our form field values are properly escaped. For example, if the <k>title</k> field value contained a double quote (<k>"</k>) that wasn't escaped then the title would be truncated, since double quotes are used to delimit the field's value in the markup.

Note the use of the HTML5 <k>formnovalidate</k> attribute on the "Cancel" button. This handy attribute tells the browser not to validate the form if the user presses "Cancel".

<h3 id="MySQLCMStopic-10">Step 9: Create the stylesheet and logo image</h3>
Our CMS application is basically done now, but in order to make it look a bit nicer for both our visitors and the site administrator, we'll create a CSS file to control the look of the site. Save this file as <k>style.css</k> in your <k>cms</k> folder:

/* Style the body and outer container */

body {
  margin: 0;
  color: #333;
  background-color: #00a0b0;
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  line-height: 1.5em;
}

#container {
  width: 960px;
  background: #fff;
  margin: 20px auto;
  padding: 20px;
  -moz-border-radius: 5px;
  -webkit-border-radius: 5px;
  border-radius: 5px;
}

/* The logo and footer */

#logo {
  display: block;
  width: 300px;
  padding: 0 660px 20px 0;
  border: none;
  border-bottom: 1px solid #00a0b0;
  margin-bottom: 40px;
}

#footer {
  border-top: 1px solid #00a0b0;
  margin-top: 40px;
  padding: 20px 0 0 0;
  font-size: .8em;
}

/* Headings */

h1 {
  color: #eb6841;
  margin-bottom: 30px;
  line-height: 1.2em;
}

h2, h2 a {
  color: #edc951;
}

h2 a {
  text-decoration: none;
}

/* Article headlines */

#headlines {
  list-style: none;
  padding-left: 0;
  width: 75%;
}

#headlines li {
  margin-bottom: 2em;
}

.pubDate {
  font-size: .8em;
  color: #eb6841;
  text-transform: uppercase;
}

#headlines .pubDate {
  display: inline-block;
  width: 100px;
  font-size: .5em;
  vertical-align: middle;
}

#headlines.archive .pubDate {
  width: 130px;
}

.summary {
  padding-left: 100px;
}

#headlines.archive .summary {
  padding-left: 130px;
}

/* "You are logged in..." header on admin pages */

#adminHeader {
  width: 940px;
  padding: 0 10px;
  border-bottom: 1px solid #00a0b0;
  margin: -30px 0 40px 0;
  font-size: 0.8em;
}

/* Style the form with a coloured background, along with curved corners and a drop shadow */

form {
  margin: 20px auto;
  padding: 40px 20px;
  overflow: auto;
  background: #fff4cf;
  border: 1px solid #666;
  -moz-border-radius: 5px;
  -webkit-border-radius: 5px;  
  border-radius: 5px;
  -moz-box-shadow: 0 0 .5em rgba(0, 0, 0, .8);
  -webkit-box-shadow: 0 0 .5em rgba(0, 0, 0, .8);
  box-shadow: 0 0 .5em rgba(0, 0, 0, .8);
}

/* Give form elements consistent margin, padding and line height */

form ul {
  list-style: none;
  margin: 0;
  padding: 0;
}

form ul li {
  margin: .9em 0 0 0;
  padding: 0;
}

form * {
  line-height: 1em;
}

/* The field labels */

label {
  display: block;
  float: left;
  clear: left;
  text-align: right;
  width: 15%;
  padding: .4em 0 0 0;
  margin: .15em .5em 0 0;
}

/* The fields */

input, select, textarea {
  display: block;
  margin: 0;
  padding: .4em;
  width: 80%;
}

input, textarea, .date {
  border: 2px solid #666;
  -moz-border-radius: 5px;
  -webkit-border-radius: 5px;    
  border-radius: 5px;
  background: #fff;
}

input {
  font-size: .9em;
}

select {
  padding: 0;
  margin-bottom: 2.5em;
  position: relative;
  top: .7em;
}

textarea {
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  font-size: .9em;
  height: 5em;
  line-height: 1.5em;
}

textarea#content {
  font-family: "Courier New", courier, fixed;
}
  

/* Place a border around focused fields */

form *:focus {
  border: 2px solid #7c412b;
  outline: none;
}

/* Display correctly filled-in fields with a green background */

input:valid, textarea:valid {
  background: #efe;
}

/* Submit buttons */

.buttons {
  text-align: center;
  margin: 40px 0 0 0;
}

input[type="submit"] {
  display: inline;
  margin: 0 20px;
  width: 12em;
  padding: 10px;
  border: 2px solid #7c412b;
  -moz-border-radius: 5px;
  -webkit-border-radius: 5px;  
  border-radius: 5px;
  -moz-box-shadow: 0 0 .5em rgba(0, 0, 0, .8);
  -webkit-box-shadow: 0 0 .5em rgba(0, 0, 0, .8);
  box-shadow: 0 0 .5em rgba(0, 0, 0, .8);
  color: #fff;
  background: #ef7d50;
  font-weight: bold;
  -webkit-appearance: none;
}

input[type="submit"]:hover, input[type="submit"]:active {
  cursor: pointer;
  background: #fff;
  color: #ef7d50;
}

input[type="submit"]:active {
  background: #eee;
  -moz-box-shadow: 0 0 .5em rgba(0, 0, 0, .8) inset;
  -webkit-box-shadow: 0 0 .5em rgba(0, 0, 0, .8) inset;
  box-shadow: 0 0 .5em rgba(0, 0, 0, .8) inset;
}

/* Tables */

table {
  width: 100%;
  border-collapse: collapse;
}

tr, th, td {
  padding: 10px;
  margin: 0;
  text-align: left;
}

table, th {
  border: 1px solid #00a0b0;
}

th {
  border-left: none;
  border-right: none;
  background: #ef7d50;
  color: #fff;
  cursor: default;
}

tr:nth-child(odd) {
  background: #fff4cf;
}

tr:nth-child(even) {
  background: #fff;
}

tr:hover {
  background: #ddd;
  cursor: pointer;
}

/* Status and error boxes */

.statusMessage, .errorMessage {
  font-size: .8em;
  padding: .5em;
  margin: 2em 0;
  -moz-border-radius: 5px;
  -webkit-border-radius: 5px;
  border-radius: 5px; 
  -moz-box-shadow: 0 0 .5em rgba(0, 0, 0, .8);
  -webkit-box-shadow: 0 0 .5em rgba(0, 0, 0, .8);
  -box-shadow: 0 0 .5em rgba(0, 0, 0, .8);
}

.statusMessage {
  background-color: #2b2;
  border: 1px solid #080;
  color: #fff;
}

.errorMessage {
  background-color: #f22;
  border: 1px solid #800;
  color: #fff;
}

I won't go into the details of the CSS, since this tutorial is about PHP and MySQL! Suffice to say, it styles things like the page layout, colours, fonts, forms, tables and so on.

Last, but not least, our site needs a logo. Here's one I prepared earlier - save it in an <k>images</k> folder inside your <k>cms</k> folder, calling it <k>logo.jpg</k> (or roll your own logo):

<h3 id="MySQLCMStopic-11">All done!</h3>
We've finished our CMS! To try it out, open a browser and point it to the base URL of your CMS (for example, <k>http://localhost/cms/</k>). Click the <k>Site Admin</k> link in the footer, log in, and add some articles. Then try browsing them on the front end (click the logo to return to the homepage).

Don't forget you can <a href="http://www.elated.com/res/File/articles/development/php/cms-in-an-afternoon-php-mysql/demo/" onclick="window.open(this.href, this.target); return false;">try out the demo</a> on our server too!

In this tutorial you've built a basic content management system from the ground up, using PHP and MySQL. You've learnt about MySQL, tables, field types, PDO, object-oriented programming, templating, security, sessions, and lots more.

While this CMS is pretty basic, it has hopefully given you a starting point for building your own CMS-driven websites. Some features you might want to add include:

Pagination on the article archive (front end) and article list (back end) so that the system can easily handle hundreds of articles
A <a href="http://www.elated.com/articles/adding-wysiwyg-editor-to-your-site/">WYSIWYG editor</a> for easier content editing
An image upload facility (I've written a <a href="http://www.elated.com/articles/add-image-uploading-to-your-cms/">follow-up tutorial on adding an image upload feature to the CMS</a>)
A preview facility, so the admin can see how an article will look before publishing it
Article categories and tags (I've written a <a href="http://www.elated.com/articles/add-article-categories-to-your-cms/">follow-up tutorial on adding categories</a>)
Integration with Apache's <a href="http://httpd.apache.org/docs/2.0/mod/mod_rewrite.html">mod_rewrite</a> to create more human-friendly permalink URLs for the articles (<a href="http://www.elated.com/articles/mod-rewrite-tutorial-for-absolute-beginners/#friendly-urls">find out how to do this</a>)
A user comments system











<script src="https://williamkpchan.github.io/LibDocs/readbook.js"></script>
<script>
var lazyLoadInstance = new LazyLoad({
 elements_selector: ".lazy"
});
</script>


</pre></body></html>