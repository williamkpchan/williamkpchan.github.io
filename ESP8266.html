<base target="_blank">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<style type="text/css">

body {
 font-size: 20px;
 margin: 10%;
 background-color: #000000;
 color: #109030;
}
a { text-decoration: none;
  color: #28B8B8;}
a:visited { color: #389898;}
A:hover { color: yellow;}
A:focus { color: red;}
code { color: pink; background-color: #102010}
pre { color: gray; background-color: #001010}
#newtype { color: pink}
#redpink { color: #cc0099}
#redword { color: red}
#yellowword { color: yellow}
#greenword { color: lightgreen}
#limeword { color: #00ff00}
#orangeword { color: orange}
#cyanword { color: cyan}
#whiteword { color: white}
#grayword { color: gray}
#brownword { color: #ff8000}
#yellowgreen { color: #bfff00}
#palered { color: #ffcccc}
#blueword { color: dodgerblue}
#purpleword { color: darkorchid}
#goldword { color: GoldenRod}
#silverword { color: silver}
#blackword { color: black}
.left {
    position: absolute;
    left: 100px;
    color: GoldenRod;
    border: 1px solid GoldenRod;
    padding: 2px;
    font-size: 60%;
}
.aquacolor {
    color: Aqua;
}
.bord {
    color: redpink;
    border: 1px solid GoldenRod;
    padding: 1px;
    font-size: 90%;
}
.bordsub {
    color: #F07070;
    margin: 3px 90px 3px 90px;
    border: 1px solid darkcyan;
    padding: 1px;
    font-size: 90%;
}
.highlight { 
    color: white;
    background-color: #002030
  }
.redpink { color: .cc0099}
.redword { color: red}
.yellowword { color: yellow}
.greenword { color: lightgreen}
.limeword { color: .00ff00}
.orangeword { color: orange}
.cyanword { color: cyan}
.whiteword { color: white}
.grayword { color: gray}
.brownword { color: #ff8000}
.yellowgreen { color: #bfff00}
.palered { color: #ffcccc}
.blueword { color: dodgerblue}
.purpleword { color: darkorchid}
.goldword { color: GoldenRod}
.silverword { color: silver}
.blackword { color: black}

</STYLE>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>
$(document).ready(function(){
    $('.left').click(function(){
    parent.history.back();
    return false;
    });
});
</script>
</head>
<body>




<h1>Breadboard and Program an ESP-01 Circuit with the Arduino IDE</h1>
<hr>
<div itemprop="articleBody">
<div class="sp-content-block">
<h3>ESP8266 Microcontroller/Wi-Fi Integrated Circuit</h3><p>A new microcontroller has captured the attention of professional designers&nbsp;and hobbyists alike, and it has the potential to be a force majeur in the internet of things. Bearing the nondescriptive name "<a href="http://www.mouser.com/ProductDetail/Adafruit/2471/?qs=GURawfaeGuAoxPWz4nSJYg%3d%3d" target="_blank">ESP8266</a>,"&nbsp;this highly integrated circuit consists of a 32-bit RISC processor with all the bells and whistles&nbsp;you would expect in a full-featured &micro;C, but that&#39;s not all. The ESP8266 also includes a built-in 802.11 b/g/n Wi-Fi circuit that is ready to be directly connected to an antenna.</p>
<p>The ESP8266 is currently available only in&nbsp;a 32-pin QFN package, and there is just one IC in the family. The developer, <a href="http://espressif.com/">Espressif</a>, in Shanghai, China, has chosen to take full advantage of manufacturing efficiencies of scale and offer a single IC that is suitable for use on a variety of PCB assemblies. Presently, there are more than a dozen ESP PCB modules that differ primarily in antenna styles and the number of I/Os available. Because of the ESP8266&#39;s QFN package, most&nbsp;hobbyists will be pleased with that decision, especially since market prices start at less than US$5 for the low-end model, dubbed the ESP-01, and pictured below. Click the photo for a larger image.</p>
<img src="http://www.allaboutcircuits.com/uploads/articles/ESP-01_Front_and_Rear.png">
<p>A very active community support <a href="http://www.esp8266.com/">forum</a> exists for the ESP8266, and is an excellent source for ideas and information. Originally, documentation was only available in Chinese, and firm application information can still be hard to come by. Currently, many DIY projects are operating in the "trial and error" mode, but there are many aftermarket suppliers who are selling development platforms and accessories. However, as you will see later in this article, it&#39;s not difficult to get an ESP8266 up and running on a solderless breadboard.</p><p>&nbsp;</p><h3>Programming Options</h3><p>From the supplier, many (maybe all) of the ESP8266 modules are loaded with "AT" firmware, and can be programmed via a simple terminal program. If you are using the module primarily to exploit its Wi-Fi capabilities and controlling it with another &micro;C, this could be all you need.</p>
<p>A more sophisticated option is available from <a href="https://nodelua.org/">NodeLua</a>, which offers open source firmware based on the Lua programming language. NodeLua is still in development, but already contains extensive capabilities. Other choices include Python, BASIC, and the Arduino IDE, which is featured in this article.</p><p>&nbsp;</p><h3>ESP-01 Ins and Outs</h3><p>The ESP-01 module contains the ESP8266 MCU and a flash memory chip. There are two LED&#39;s: a red one which indicates power is connected to the module, and a blue one which indicates data flow,&nbsp;and can also be controlled by user programming. The Wi-Fi antenna is the&nbsp;PCB trace that covers the top of the module; it&#39;s called a Meandered Inverted-F Antenna (MIFA,) is surprisingly efficient, and only mildly directional.</p>
<img src="http://www.allaboutcircuits.com/uploads/articles/ESP-01_Pinout.png">
<p>There are eight connection&nbsp;pads near the bottom of the module; the figure above identifies their functions. Usually, two 4-pin male headers are inserted in the rear of the module and soldered on the front. This makes the I/Os accessible, but is not breadboard friendly, and requires flywires from the ESP-01 to a solderless breadboard. This technique&nbsp;works, but it is messy. There is an alternative way as shown below.</p>
<img src="http://www.allaboutcircuits.com/uploads/articles/BB_Friendly_ESP-01.png">
<p>The header on the front of the PCB uses standard <a href="http://www.mouser.com/ProductDetail/Molex/22-28-8360/?qs=sGAEpiMZZMs%252bGHln7q6pm17xA%252bw8L2lmM%2fn9w7GPAxk%3d">right angle pins</a> with no modifications required. The header on the rear uses <a href="http://www.mouser.com/ProductDetail/SchmartBoard/920-0102-01/?qs=Jl8P5Tpu6m3lhZkdrMvX7Q%3D%3D&amp;gclid=CjwKEAjw1_KwBRDEz_WvncL4jGwSJAAEym0dijpQb_6lL74GswYhnHP0N_KxdeF9iblTdxFw5fq9fBoC0I3w_wcB">extra long pins</a> that have been bent in a right angle configuration to accomplish .3" of separation between the rows. This method allows the ESP-01 to be inserted in a solderless breadboard in the vertical orientation straddling the center gap, and makes all eight pins independently accessible.</p><p>&nbsp;</p><h3>Connecting Things Together</h3><p>The schematic diagram below shows the connections required to the ESP-01, and the photographs show the completed solderless breadboard assembly. The wire colors on the schematic correspond to the wire colors in the photographs.</p>
<p>Construct the assembly as shown, but do not connect the cable from the USB to TTL converter to the PC until you have set the shunt on the converter PCB to the 3.3V position, and double checked all wiring. Using 5V to power the ESP-01 could damage it beyond repair.</p>
<img src="http://www.allaboutcircuits.com/uploads/articles/ESP-01_Connection_Diagram.PNG">
<img src="http://www.allaboutcircuits.com/uploads/articles/ESP-01_Solderless_Breadboard_(Top_View).png">
<img src="http://www.allaboutcircuits.com/uploads/articles/ESP-01_Solderless_Breadboard_(Front_View).png">
<img src="http://www.allaboutcircuits.com/uploads/articles/ESP-01_Solderless_Breadboard_(Rear_View).png">
<p>Between the schematic diagram and the photographs, you should have most of the information needed to assemble the solderless breadboard setup. The notes below will also help.</p>
<ul>
<li>The USB to TTL converter shown in the photographs utilizes an FTDI 232 UART chip and works well with Windows, Mac, and Linux operating systems. It also provides a 3.3VDC power source for the ESP-01. Be certain that the shunt on the converter PCB is set to output 3.3V; that will ensure that both the supply voltage and the TxD signal will be at the correct voltage. Using a higher voltage could damage the ESP-01.</li>
<li>Whatever USB to TTL converter you decide on&nbsp;should be installed and tested prior to using it with the ESP-01 breadboard setup. Drivers for FTDI devices are located at the <a href="http://www.ftdichip.com/FTDrivers.htm">FTDI</a> web site.</li>
<li>Estimates of the current&nbsp;required for the ESP-01 during Wi-Fi operation vary from 250mA to 750mA. The current supplied by the USB to TTL converter should suffice for programming the ESP-01, but may prove to be inadequate for long term use. A better choice is a filtered regulated 3.3VDC supply capable of 1A or more.</li>
<li>The DTR and CTS leads from the USB to TTL converter are not required and are not connected.</li>
<li>The two switches shown are normally open (NO) single pole momentary contact pushbuttons.</li>
<li>One of the discrepancies in the information available for the ESP-01 is whether CH_PD should be connected directly to +3.3V, or should be connected through a 10k pull-up resistor. The author has tested both methods, and has found both to work. After you build and test the circuit as shown here (with CH_PD tied directly to +3.3V,) try using a 10k resistor instead of the direct connection. If the circuit works with the 10k pull-up resistor, leave it in the circuit.</li>
</ul>
<p>As you see in the photographs above, the use of fly wires from the USB to TTL converter is not optimum. A better option is to replace the six right angle pins on the converter&nbsp;with six straight pins on the bottom of the PCB. The&nbsp;modification will allow the USB to TTL converter to be plugged into the solderless breadboard and will result in a much neater and less fragile assembly, as shown in the following photo.</p>
<img src="http://www.allaboutcircuits.com/uploads/articles/ESP-01_Solderless_Breadboard_Alternate_(Top_View).png">

<h3>Powering Up</h3><p>Before connecting the USB to TTL converter to your PC, check to be sure that the voltage selection shunt is in the 3.3V position, and that all the wiring on the ESP-01 breadboard setup is correct and secure. Then, plug the USB cable in; the red LED on the ESP-01 should light and stay on, and the blue LED should flicker whenever there is signalling between the EXP-01 and the PC. Next, test the reset switch by pressing and and holding it down. Look at the ESP-01; when you release the reset switch, the blue LED should flash twice. If all is well at this point, disconnect the circuit from the PC and proceed to the next section.</p><p>&nbsp;</p><h3>Arduino IDE</h3><p>The recommended Arduino IDE version for use with the ESP8266 modules is Version 1.6.5. If you have an earlier version, you can try it and see if it works, or you can upgrade to 1.6.5.</p>
<ul>
<li>Once the proper Arduino IDE is installed, start the program and click File, Preferences, and look for the entry box for Additional Board Manager URLs. Enter the following URL exactly as it is written and then click OK.
<ul>
<li>http://arduino.esp8266.com/stable/package_esp8266com_index.json</li>
</ul>
</li>
<li>Next, click Tools, Board Manager, and scroll down the list to find "esp8266 by ESP8266 Community." Select this entry and click the Install button; downloading and installation will begin and continue for a few minutes. While it is installing, take a look at the different platforms supported. In addition to the generic ESP8266 Module, support is provided for the NodeMCU, the Huzzah, and the SweetPea. By&nbsp;the time you read this, probably more will have been added.</li>
<li>When the installation is finished, click the Close button.</li>
<li>Now, click Tools, highlight the Board selector, and choose "Generic ESP8266 Module."</li>
<li>Click Tools again, and visually confirm that the board selected is Generic ESP8266 Module.</li>
<li>Click File, Examples, and scroll down the list until you come to ESP8266WiFi, and then click WiFiScan. A new IDE window should open containing the WiFiScan sketch.</li>
</ul>
<p>Reconnect the circuit to the PC and confirm that the red LED on the ESP-01 is lit. Click Tools, Port, and select the port where the ESP-01 is connected. Finally, you are ready to program the ESP-01.</p>
<p>Press and hold the Reset button, and then press and hold the Flash button. Release the Reset button, and while holding the Flash button pressed, click the Upload arrow in the Arduino IDE. The sketch should compile in a minute or so, and when it is complete,&nbsp;release the Flash button. The compiled code will be sent to the ESP-01; as it is sent, the blue LED on ESP-01 will flicker.</p>
<p>To see the results of all this clicking and choosing, click Tools, Serial Monitor, and set the baud rate in the lower right corner of the Serial Monitor window to 115200. If you have an earlier version of the ESP-01 (probably built on a blue PCB,) the baud rate is most likely 9600.</p>
<p>The ESP-01 should be scanning for Wi-Fi networks and reporting the results in the Serial Monitor window, as shown in the example below.</p>
<img src="http://www.allaboutcircuits.com/uploads/articles/Wi-Fi_Scan_Reports.PNG">
<p>You should see your own network in the report, and all other networks that are within range of the ESP-01. The numbers in parentheses show each network&#39;s signal strength, and because the numbers are negative, lower numbers represent stronger signals.</p><p>&nbsp;</p><h3>The Door is Open</h3><p>The ability to program an ESP8266 using the Arduino IDE hugely expands the user base for these Wi-Fi enabled chips. The ESP-01 and its larger cousins provide an extremely capable hardware platform at a low cost. Add the ease of use of the Arduino IDE, and&nbsp;designing applications for the internet of things is within the reach of almost anyone.</p>
</body>
</html>
